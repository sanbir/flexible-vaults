"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[28463,35905],{346:(e,t,n)=>{n.d(t,{MG:()=>f,T1:()=>p,a1:()=>x,dt:()=>m,kg:()=>g,lC:()=>v,n_:()=>b});var o=n(296540),i=()=>n(484714),r=()=>n(590526),a=()=>n(79926),s=()=>n(187174),l=()=>n(941463),c=()=>n(441199),d=()=>n(749687),u=()=>n(737230),h=()=>n(756114);const p=new(a().O2)("PerformanceToolbar",(()=>Promise.all([n.e(23640),n.e(45624)]).then(n.bind(n,688201)))),f=(0,a()._h)(p,(e=>e.PerformanceToolbar)),m=(0,a()._h)(p,(e=>e.PerformanceToolbarSettings));function g(){const e=(0,i().v3)();return(0,r().K8)((()=>(0,h().D)(e,e.RouterStore.state)),[e])}function b(){const e=(0,i().v3)(),t=S("performanceToolbarStore"),n=S("isPerformanceToolbarVisible");return(0,r().K8)((()=>!(!t||!n)&&n(e,e.RouterStore.state,t.state)),[n,e,t])}function v(){const e=S("performanceToolbarStore");return(0,r().K8)((()=>!!e&&e.state.isPerformanceToolbarMounted),[e])}function x(){const e=(0,i().v3)(),t=S("createPerformanceToolbarMouseListeners"),n=S("performanceToolbarStore"),{sidebarExpanded:a,sidebarWidth:s,secondarySidebarExpanded:h,secondarySidebarWidth:p,updateSidebarExpanded:f,updateSidebarWidth:m}=(0,r().K8)((()=>({sidebarExpanded:d().sidebarExpandedStore.state,sidebarWidth:d().sidebarWidthStore.state,secondarySidebarExpanded:c().default.isOpen(),secondarySidebarWidth:l().Ay.getWidth(),updateSidebarExpanded:u().Ay.state.expanded,updateSidebarWidth:u().Ay.state.width})),[]);return(0,o.useEffect)((()=>{if(n&&t)return t(e,(e=>n.update((t=>({...t,isMouseNearPerformanceToolbar:e})))),a,s,h,p,f,m)}),[t,e,n,a,s,h,p,f,m])}function S(e){const t=g(),[{value:n}]=(0,s().Yb)((()=>t?p.load().then((t=>t[e])):Promise.resolve(void 0)),[e,t]);return n}},12956:(e,t,n)=>{n.d(t,{u:()=>x});n(296540);var o=()=>n(383036),i=()=>n(26697),r=()=>n(81068),a=()=>n(575143),s=()=>n(662971),l=()=>n(484714),c=()=>n(590526),d=()=>n(283163),u=()=>n(245720),h=()=>n(546926),p=()=>n(890492),f=()=>n(69708),m=()=>n(636714),g=n(474848);function b(e){const{context:t,extensionMenuParent:n,actionMenuListParent:o,popupEvents:i,displayName:r,width:a,initialFocus:s,subActions:b}=e,{isPhone:v}=(0,l().Y0)(),x=(0,h().Tf)();let S;S=v?x?{menuType:h().gu.Modal,onClickLeft:n.close,left:(0,g.jsx)(d().h,{}),enableMobileRefresh:x,paddingTop:10,title:(0,g.jsx)(f().sA,{...r}),...i}:{menuType:h().gu.Modal,right:(0,g.jsx)(f().sA,{...u().W.done}),onClickRight:n.close,...i}:{menuType:h().gu.Popup,width:a??220,...i};const y=(0,c().K8)((()=>b(t)),[t,b]);return(0,g.jsx)(p().A,{...S,children:(0,g.jsx)(m().A,{initialFocus:s??0,context:t,sections:y,onAccept:o.onAccept})})}var v=()=>n(267271);function x(e){const{key:t,displayName:n,displayNameInterpolatedValues:l,subTitle:c,analyticsName:d,validators:u,subActions:h,collapseSubActionsIntoParent:p,hideSubActions:f,svg:m,icon:x,right:S,rightStyle:y,renderTooltip:C,disableTooltip:w,tooltipPlacement:k,width:M,initialFocus:j,clientSkill:A,fuzzySearchKeywordsArray:z,disabled:P,bottomSheetInitialState:E}=e,R=(0,v().Ls)({clientSkill:A,key:`extension ${t}`,displayName:n,displayNameInterpolatedValues:l,analyticsName:d,validators:u,subActions:h,collapseSubActionsIntoParent:p,hideSubActions:f,fuzzySearchKeywordsArray:z,closeParentMenu:!0,disabled:P,action:()=>{},render:(t,l,d)=>(0,g.jsx)(i().m,{render:i=>{var u;const p=null===(u=e.disabled)||void 0===u?void 0:u.call(e,l);return(0,g.jsx)(s().A,{...t,disabled:p,disabledFeedback:p,renderOrigin:(e,t)=>{const n={...(0,o().A)(e,i),title:c?(0,g.jsx)(v().fh,{subTitle:c(l),children:R.displayName}):R.displayName,right:S,rightStyle:y};return m?(0,g.jsx)(a().A,{...n,svg:m,ref:t}):(0,g.jsx)(r().A,{...n,icon:x,ref:t})},onFocus:d.onFocus,renderExtension:(e,t)=>(0,g.jsx)(b,{context:l,extensionMenuParent:t,actionMenuListParent:d,popupEvents:e,displayName:n,width:M,initialFocus:j,subActions:h}),bottomSheetInitialState:E})},renderTooltip:()=>(0,g.jsx)("div",{style:v().FG,children:null==C?void 0:C({context:l,title:R.displayName})}),disableTooltip:!C||(null==w?void 0:w(l)),placement:k})});return R}},38554:(e,t,n)=>{n.d(t,{U:()=>a});var o=()=>n(590526),i=()=>n(822789),r=()=>n(229508);function a(){const e=(0,r().a)();return(0,o().K8)((()=>(0,i().XM)(e)),[e])}},72307:(e,t,n)=>{n.d(t,{A:()=>o});const o={appCursorListener:{sidebar:1,secondarySidebar:2,editor:3,aiChat:3,marketplace:3,teamHome:3,aiChatSidebar:4}}},217609:(e,t,n)=>{n.r(t),n.d(t,{DockedSidebar:()=>oe});var o=n(296540),i=()=>n(870956),r=()=>n(484714),a=()=>n(401497),s=()=>n(882722),l=()=>n(72307),c=()=>n(275598),d=(n(944114),n(898992),n(354520),n(672577),()=>n(203066)),u=()=>n(153321),h=()=>n(59226),p=()=>n(756117),f=()=>n(782482),m=()=>n(590526),g=()=>n(15258),b=()=>n(75435),v=()=>n(100622),x=()=>n(209199),S=()=>n(600434),y=()=>n(35392),C=()=>n(111043),w=()=>n(346),k=()=>n(567121),M=()=>n(644914),j=()=>n(703748),A=()=>n(522282),z=()=>n(996958),P=()=>n(304261),E=()=>n(510331);var R=()=>n(380295),T=()=>n(981475);var I=()=>n(706959);var D=n(474848);function B(e){const{chatPanelVisibility:t,editorWidthUsed:n,animationConfig:o,shouldAnimate:i}=e,{isTablet:s}=(0,r().Y0)(),l=(0,a().IS)((()=>({spacer:{background:"transparent",height:"100%",flexShrink:0,flexGrow:0,pointerEvents:"none"}})),[]),c=(0,z().D)({chatPanelVisibility:t,editorWidthUsed:n});return(0,D.jsx)(p().A,{style:l.spacer,initial:c.initial,animate:c.animate,config:o,skip:!i,visible:!s})}var F=()=>n(350605),L=()=>n(751735);function N(e){const{chatPanelMode:t}=e,n=(0,a().eP)(),o=(0,a().IS)((()=>{const e=`linear-gradient(to bottom, ${(0,L().X4)(v().Tj.background.primary,.25)}, ${(0,L().X4)(v().Tj.background.primary,0)} 50%), linear-gradient(to right, rgba(0, 0, 0, 0.008), rgba(0, 0, 0, 0) 32px), linear-gradient(to right, rgba(0, 0, 0, 0.01), rgba(0, 0, 0, 0) 72px)`;let o;return"popup"===t&&"dark"===n?o=v().Tj.gray.background.primary:"sidebar"===t&&(o=e),{shading:{background:o,willChange:"background",position:"absolute",inset:0,transition:`opacity ${A().nW}ms ease-in-out, background ${A().nW}ms ease-in-out`}}}),[t,n]);return(0,D.jsx)("div",{style:o.shading})}var W=()=>n(383036),_=()=>n(819121),O=()=>n(93583),K=()=>n(86159),$=()=>n(493552),Y=()=>n(26697),V=()=>n(69708),U=()=>n(496603),X=()=>n(440024),H=()=>n(222321);function G(e){const{size:t,anchorToSide:n,minSize:i,maxSize:s,onSizeWillChange:l,onSizeChanging:c,onSizeChangeFinished:d,onDismiss:u,keyboardShortcut:h}=e,p=(0,V().tz)(),m=(0,r().v3)(),{device:g}=m,[b,S]=(0,o.useState)(!1),[y,C]=(0,o.useState)({x:0,y:0}),[w,k]=(0,_().A)(),M=(0,o.useRef)(null),j=(0,O().A)(w,M),z=(0,o.useRef)(null),P=(0,o.useRef)(!1),E=(0,o.useCallback)((e=>Math.max(i,Math.min(s,e))),[i,s]),R=(0,o.useCallback)((e=>{(0,X().I)({environment:m}),z.current={startX:e.currentX,startSize:t},P.current=!1,null==l||l()}),[m,t,l]),T=(0,o.useCallback)((e=>{if(!z.current)return;K().clear(m),P.current=!0;const{startX:t,startSize:o}=z.current,i=e.currentX-t,r="right"===n?o-((0,x().A1)()?-i:i):o+((0,x().A1)()?-i:i),a=E(r);null==c||c(a)}),[n,m,E,c]),I=(0,o.useCallback)((()=>{!P.current&&u&&u(),z.current=null,null==d||d()}),[u,d]),B=(0,o.useCallback)((()=>{z.current=null}),[]),F=(0,o.useCallback)((()=>{var e;const t=null===(e=M.current)||void 0===e?void 0:e.getBoundingClientRect();t&&C((e=>({x:t.left+t.width/2,y:e.y||t.top+t.height/2})))}),[]),L=(0,o.useCallback)((e=>{var t;S(!0);const n=null===(t=M.current)||void 0===t?void 0:t.getBoundingClientRect();n&&C({x:n.left+n.width/2,y:e.clientY})}),[]),N=(0,o.useCallback)((()=>{S(!0)}),[]),G=(0,o.useCallback)((()=>{S(!1)}),[]),q=(0,o.useCallback)((()=>{const e=E(t-A().xw);null==c||c(e),null==d||d(),requestAnimationFrame(F)}),[t,E,c,d,F]),Z=(0,o.useCallback)((()=>{const e=E(t+A().xw);null==c||c(e),null==d||d(),requestAnimationFrame(F)}),[t,E,c,d,F]),J=(0,o.useCallback)((()=>{u&&u()}),[u]);(0,o.useEffect)((()=>{requestAnimationFrame(F)}),[k,F]);const Q=(t-i)/(s-i),ee=e=>(0,D.jsx)($().D,{as:"span",colorVariant:"inverseSecondary",children:e}),te=(0,o.useCallback)((()=>{const e=Boolean(u),t=Boolean(h);return e&&t?(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(V().sA,{defaultMessage:"Close <invertedcolor>Click or {keyboardShortcut}</invertedcolor>",id:"collapsiblePanelResizer.tooltip.closeWithShortcut",values:{invertedcolor:ee,keyboardShortcut:h}}),(0,D.jsx)("br",{}),(0,D.jsx)(V().sA,{defaultMessage:"Resize <invertedcolor>Drag</invertedcolor>",id:"collapsiblePanelResizer.tooltip.resizeMessage",values:{invertedcolor:ee}})]}):e?(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(V().sA,{defaultMessage:"Close <invertedcolor>Click</invertedcolor>",id:"collapsiblePanelResizer.tooltip.closeMessage",values:{invertedcolor:ee}}),(0,D.jsx)("br",{}),(0,D.jsx)(V().sA,{defaultMessage:"Resize <invertedcolor>Drag</invertedcolor>",id:"collapsiblePanelResizer.tooltip.resizeMessage",values:{invertedcolor:ee}})]}):(0,D.jsx)(V().sA,{defaultMessage:"Resize <invertedcolor>Drag</invertedcolor>",id:"collapsiblePanelResizer.tooltip.resizeMessage",values:{invertedcolor:ee}})}),[u,h]),ne=(0,x().A1)()?"left"===n?Z:q:"left"===n?q:Z,oe=(0,x().A1)()?"left"===n?q:Z:"left"===n?Z:q,ie=(0,a().IS)((()=>({wrapper:{height:"100%",zIndex:1},draggable:{cursor:"col-resize",height:"100%",width:12,position:"absolute",pointerEvents:"auto",..."right"===n?{insetInlineStart:0}:{insetInlineEnd:0},top:0},resizer:{position:"absolute",..."right"===n?{insetInlineStart:0}:{insetInlineEnd:0},top:0,height:"100%",width:1,backgroundColor:b?v().Tj.border.primary:v().Tj.border.secondary,pointerEvents:"none"}})),[n,b]);return g.isChromebook?null:(0,D.jsx)(f().N,{capture:k,debugName:"SidebarResizer",onLeft:ne,onRight:oe,onUp:U().D_,onDown:U().D_,onTab:U().D_,onUntab:U().D_,onEnter:J,children:(0,D.jsx)(Y().m,{renderTooltip:te,originRect:new DOMRect(y.x,y.y,0,0),placement:"right"===n?"left":"right",originGap:16,delayThreshold:0,render:e=>(0,D.jsxs)("div",{className:"wrapper",style:ie.wrapper,...(0,W().A)(e,{onMouseMove:N,onMouseLeave:G,onMouseEnter:L}),children:[(0,D.jsx)("div",{style:ie.resizer}),(0,D.jsx)(H().A,{onDraggableDragStart:R,onDraggableDragMove:T,onDraggableDragEnd:I,onDraggableDragCancel:B,disableVerticalEdgeScroll:!0,disableHorizontalEdgeScroll:!0,render:e=>(0,D.jsx)("div",{className:"separator",ref:j,role:"separator",tabIndex:0,"aria-label":p.formatMessage({id:"sidebarResizer.tooltip.resizeLabel",defaultMessage:"Resize with left and right arrow keys"}),"aria-orientation":"vertical","aria-valuenow":Math.round(100*Q),"aria-valuemin":0,"aria-valuemax":100,style:ie.draggable,...e})})]})})})}function q(e){const{chatSidebarRouteData:t,fromSurface:n="corner",aiChatFeature:i}=e,l=(0,r().v3)(),c=(0,g().cD)(),L=(0,o.useRef)(!1),W=(0,m().O$)(b().b),_=(0,h().X)("agent_popup_dnd"),O=(0,h().X)("ai_product_agent_chat_scroll_behavior_v2"),{onDismiss:K,onDismissed:$,naturalPanelContentSize:Y,userPreferenceSidebarWidth:V,visibility:U,onEsc:X}=(0,I().c)(),H=(0,m().K8)((()=>T().globalChatPanelRuntimeStore.state.chatPanelMode),[]),q=(0,P().yr)(),Z=(0,w().n_)(),J=(0,C().o)(),Q=(0,m().K8)((()=>l.WindowSizeStore.getSafePaddingTopPx(0)),[l]),[ee,te]=(0,o.useState)(void 0),[ne,oe]=(0,o.useState)(void 0),[ie,re]=(0,o.useState)(void 0),[ae,se]=(0,o.useState)(void 0),[le,ce]=(0,o.useState)([]),de=(0,m().K8)((()=>T().globalChatPanelRuntimeStore.state.isDragging),[]),ue=function(e){const t=(0,o.useRef)(e);return e.isOpen&&(t.current=e),t.current}(t),he=(0,m().K8)((()=>(0,M().km)(l)),[l]),pe=(0,o.useMemo)((()=>({width:c.width-he,height:Z?c.height-k().ls:c.height})),[c,he,Z]),fe=(0,m().K8)((()=>T().globalChatPanelRuntimeStore.state.isDragging?"popup":H),[H]),me=O&&("agent_popup"===i||!i&&"popup"===fe),{handleAnimationEnd:ge}=(0,R().m)({shouldAnimateRef:L,chatPanelMode:H,chatPanelVisibility:U,onClosingFinished:$}),{dragSize:be,onSizeWillChange:ve,onWidthChange:xe,onSizeChangeFinished:Se}=function(e){const{shouldAnimateRef:t,chatPanelMode:n}=e,[i,r]=(0,o.useState)(void 0);(0,o.useEffect)((()=>{r(void 0)}),[n]);const a=(0,o.useCallback)((()=>{t.current=!1}),[t]),s=(0,o.useCallback)((e=>{"sidebar"===n&&r({width:e})}),[n]),l=(0,o.useCallback)((()=>{if("sidebar"===n&&void 0!==i&&(T().BC.setState(i.width),r(void 0),void 0!==i.width)){const e=i.width;T().globalChatPanelRuntimeStore.update((t=>({...t,editorWidthUsed:e})))}}),[n,i]);return{dragSize:i,onSizeWillChange:a,onWidthChange:s,onSizeChangeFinished:l}}({shouldAnimateRef:L,chatPanelMode:H}),{editorWidthUsed:ye,panelSize:Ce,panelRect:we}=(0,o.useMemo)((()=>(0,E().m)({availableEditorSize:pe,chatPanelMode:fe,currentPerformanceToolbarHeight:Z?k().ls:0,dragSize:be,naturalPanelContentSize:Y,notionSidebarWidth:he,userPreferenceSidebarWidth:V,tempDragPosition:ee,mobileBottomPadding:J,safeAreaTopPadding:Q,disablePopupContentResize:me})),[pe,fe,Z,be,Y,he,ee,V,J,Q,me]);!function(e){const{chatPanelMode:t,chatSidebarPreferences:n,availableEditorSize:i,userPreferenceSidebarWidth:a}=e,s=(0,r().v3)(),l=(0,o.useRef)(null),c=(0,o.useRef)(i.width),d=(0,o.useRef)(!1),u=(0,o.useRef)(null),h=(0,m().K8)((()=>{const e=(0,E().d)({availableEditorSize:i,userPreferenceSidebarWidth:a});return i.width-e}),[i,a]);(0,o.useEffect)((()=>{"sidebar"!==t&&"popup"!==t||t!==n.chatPanelMode||(d.current=!0)}),[t,n.chatPanelMode]),(0,o.useEffect)((()=>{if("sidebar"!==t&&"popup"!==t)return;const e=h<A().UP?"popup":"sidebar"===n.chatPanelMode?"sidebar":"popup";c.current!==i.width&&(c.current=i.width,null!==u.current&&u.current!==e&&(d.current=!1),u.current=e),d.current||(t!==e?(l.current=e,(0,j().setChatPanelMode)({environment:s,chatPanelMode:e,trackAnalytics:!1,saveUserPreference:!1})):l.current=null),null===u.current&&(u.current=e)}),[t,n.chatPanelMode,h,i.width,s])}({chatPanelMode:H,chatSidebarPreferences:q,availableEditorSize:pe,userPreferenceSidebarWidth:V});const ke=(0,o.useMemo)((()=>(0,E().d)({availableEditorSize:pe,userPreferenceSidebarWidth:V})),[pe,V]),Me=l.device.isElectron&&!W,je=Me||!_,Ae=(0,a().eP)(),ze=(0,a().IS)((()=>{const e="dark"===Ae?[v().Tj.shadow.base.sm,`0 0 0 1px ${v().Tj.border.secondaryTranslucent}`,"0 0.5px 0 0 rgba(255, 255, 255, 0.20) inset"]:[v().Tj.shadow.base.md,`0 0 0 1px ${v().Tj.border.secondaryTranslucent}`],t=(0,S().f8)(i)?e.join(", "):v().Tj.shadowMD;return{clip:{overflow:"clip",position:"fixed",minWidth:0,pointerEvents:"none",backgroundColor:v().Tj.background.primary,borderRadius:"popup"===fe?"22px 22px 36px 36px":0,boxShadow:"popup"===fe?t:"none",transitionProperty:"box-shadow, border-radius",transitionTimingFunction:"ease-in-out, ease-in-out",transitionDuration:`${A().nW}ms, ${A().nW}ms`},dropzoneSidebar:{position:"fixed",zIndex:0,pointerEvents:"none",backgroundColor:v().Tj.blue.background.secondaryTranslucent,top:0,insetInlineEnd:0,bottom:0,width:ke},dragArea:{position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:0,height:44,zIndex:0,pointerEvents:"auto",cursor:je?void 0:void 0!==ne?"grabbing":"grab"}}}),[fe,ke,je,ne,i,Ae]);(0,o.useEffect)((()=>{void 0===be&&"closing"!==U&&void 0!==ye&&T().globalChatPanelRuntimeStore.setState({...T().globalChatPanelRuntimeStore.state,editorWidthUsed:ye})}),[ye,be,U]);const Pe=(0,o.useRef)(null),Ee=(0,o.useCallback)(((e,t)=>{const n=[];return((0,x().A1)()?e<=ke:e>=c.width-ke)&&n.push("sidebar"),n.push("popup"),n}),[c.width,ke]),Re=(0,o.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),e.currentTarget.setPointerCapture(e.pointerId),ce([H]);const t=Pe.current;(null==t?void 0:t.getBoundingClientRect())&&oe({x:e.clientX,y:e.clientY})}),[H]),Te=(0,o.useCallback)((e=>{if(!ne)return;const t=e.clientX-ne.x,n=e.clientY-ne.y,o=Math.sqrt(t*t+n*n);if(!de&&o<A().GW)return;if(!de)if(T().globalChatPanelRuntimeStore.update((e=>({...e,isDragging:!0}))),"sidebar"===H){const t=Math.max(0,(0,x().A1)()?c.width-e.clientX-he-A().Y_/2:Math.min(e.clientX-he-A().Y_/2,c.width-he-A().Y_)),n=0;re({x:t,y:n}),te({x:t,y:n}),L.current=!1}else if("popup"===H){const e=we.fromLeftNumeric-he,t=we.fromTopNumeric;re({x:e,y:t}),te({x:e,y:t}),L.current=!1}if(!de||!ie)return;const i=Ee(e.clientX,e.clientY);ce((e=>e.filter((e=>i.includes(e)))));const r=i.find((e=>!le.includes(e)));se(r);const a=ie.x+((0,x().A1)()?-t:t),s=ie.y+n,l=Math.max(0,Math.min(a,c.width-A().Y_)),d=Math.max(0,Math.min(s,c.height-A().wl));te({x:l,y:d})}),[H,ne,Ee,le,ie,de,he,we.fromLeftNumeric,we.fromTopNumeric,c.height,c.width]),Ie=(0,o.useCallback)((e=>{if(ne){if(e.currentTarget.releasePointerCapture(e.pointerId),de){L.current=!0;const t=Ee(e.clientX,e.clientY).find((e=>!le.includes(e)));t&&t!==H&&(0,j().setChatPanelMode)({environment:l,chatPanelMode:t,trackAnalytics:!0,saveUserPreference:!0})}oe(void 0),re(void 0),te(void 0),se(void 0),ce([]),T().globalChatPanelRuntimeStore.update((e=>({...e,isDragging:!1})))}}),[ne,de,Ee,H,le,l]),De=(0,o.useMemo)((()=>"sidebar"!==fe?null:(0,D.jsx)("div",{style:{position:"absolute",top:0,insetInlineStart:0,bottom:0,zIndex:2},children:(0,D.jsx)(G,{size:Ce.width.value,minSize:Ce.width.min,maxSize:Ce.width.max,anchorToSide:"right",onSizeWillChange:ve,onSizeChanging:xe,onSizeChangeFinished:Se,onDismiss:K,keyboardShortcut:(0,D.jsx)(y().A,{name:"toggleAISidebar"})})})),[fe,Ce.width.value,Ce.width.min,Ce.width.max,ve,xe,Se,K]),Be=(0,z().N)({chatPanelMode:fe,chatPanelVisibility:U}),Fe=L.current||"opening"===U||"closing"===U;return(0,D.jsx)(f().N,{capture:"open"===U,debugName:"ChatPanel",onEsc:X,onBackButton:K,children:(0,D.jsxs)(D.Fragment,{children:[de?(0,D.jsx)(d().N,{children:"sidebar"===ae?(0,D.jsx)(u().P.div,{style:ze.dropzoneSidebar,variants:A().Kg,initial:"hiddenVariant",animate:"visibleVariant",exit:"hiddenVariant",transition:A().S_},"sidebar-dropzone"):void 0}):void 0,(0,D.jsx)(B,{chatPanelVisibility:U,editorWidthUsed:ye,animationConfig:A().UZ,shouldAnimate:Fe}),(0,D.jsxs)(p().A,{className:"test123",style:ze.clip,initial:Be.initial,animate:{...Be.animate,top:we.fromTopCss,bottom:we.fromBottomCss,insetInlineStart:we.fromLeftCss,insetInlineEnd:we.fromRightCss},skip:!Fe||de,config:A().UZ,onAnimationEnd:ge,children:[(0,D.jsx)(N,{chatPanelMode:fe}),(0,D.jsx)("div",{ref:Pe,role:"none",className:Me?s().sbV:void 0,style:ze.dragArea,onPointerDown:je?void 0:Re,onPointerMove:je?void 0:Te,onPointerUp:je?void 0:Ie}),(0,D.jsx)("div",{style:{width:Ce.width.value,height:Ce.height.value,position:"absolute",zIndex:1,...Fe?{top:"50%",insetInlineStart:"50%",transform:"translate(calc(var(--direction, 1) * -50%), -50%)"}:{bottom:0,insetInlineEnd:0}},children:(0,D.jsx)(F().u,{chatPanelState:ue,chatPanelMode:fe,panelSize:Ce,onDismiss:K,onEsc:K,fromSurface:n,aiChatFeature:i})}),De]})]})})}var Z=()=>n(920198),J=()=>n(118503),Q=()=>n(166442),ee=()=>n(829298),te=()=>n(770160);function ne(e){const{chatPanelState:t}=e,n=(0,m().K8)((()=>T().globalChatPanelRuntimeStore.state.debugSidebarWidth),[]),i=(0,m().K8)((()=>(null===Q().defaultClientAIChatStore||void 0===Q().defaultClientAIChatStore?void 0:Q().defaultClientAIChatStore.state.showDebug)??!1),[]);(0,o.useEffect)((()=>{T().globalChatPanelRuntimeStore.setState({...T().globalChatPanelRuntimeStore.state,isDebugSidebarOpen:i})}),[i]);const r=(0,Z().L)(),s=(0,m().K8)((()=>{if(r&&t)return(0,te().threadStoreGivenRouteData)({spaceStore:r,chatPanelState:t})}),[r,t]),l=(0,a().IS)((()=>({debugPanelContent:{position:"relative",height:"100%",width:"100%",background:v().Tj.background.primary,pointerEvents:"auto"},content:{position:"absolute",top:0,bottom:0,insetInlineStart:0,insetInlineEnd:0,display:"flex",flexDirection:"column",overflow:"visible"}})),[]),c=(0,o.useCallback)((e=>{T().globalChatPanelRuntimeStore.setState({...T().globalChatPanelRuntimeStore.state,debugSidebarWidth:e})}),[]);return(0,D.jsx)(ee().CollapsiblePanel,{config:t.isOpen&&i?{mode:"resizable",min:A().jp,max:A().pj,defaultSize:n||A().eI,userOverride:void 0,onUserResize:c}:{mode:"closed"},anchorToSide:"right",children:(0,D.jsx)("div",{style:l.debugPanelContent,children:(0,D.jsx)("div",{style:l.content,children:(0,D.jsx)(J().m,{clientStore:Q().defaultClientAIChatStore,threadStore:s})})})})}function oe({aiChatFeature:e,routeData:t,visibility:n,mode:o,fromSurface:d="corner"}){const{isMobileBrowser:u}=(0,r().Y0)();(0,c().N)(u,n);const h=(0,a().IS)((()=>({container:{order:l().A.appCursorListener.aiChatSidebar,cursor:"default",zIndex:110,height:"100%",insetInlineEnd:0,flexShrink:0,top:100,display:"flex",flexDirection:"row",justifyContent:"flex-end"}})),[]),p=(0,i().A)(!0);return"closed"===n?null:(0,D.jsxs)("div",{style:h.container,className:s().AF8,...p,children:["sidebar"===o&&t?(0,D.jsx)(ne,{chatPanelState:t}):null,t?(0,D.jsx)(q,{aiChatFeature:e,chatSidebarRouteData:t}):null]})}},229508:(e,t,n)=>{n.d(t,{a:()=>r});var o=()=>n(907258),i=()=>n(590526);function r(){return(0,i().O$)(o().AppStoreSidebarSpaceViewStore)}},231536:(e,t,n)=>{n.d(t,{Y:()=>a,G:()=>r});var o=()=>n(534177);const i={clipboardActions:n(884107).R.clipboardActions,duplicationActions:n(855801).VI.duplicateActions,formulasModule:n(862292).T.formulas,markdownLinkifyIt:n(659602).g,tinyMceMicrosoftWordPasteFilter:n(335722).S};function r(...e){for(const t of e)i[t].load()}function a(e){const t=i[e].getLoadingState();if("idle"===t.status)r(e);else if("pending"===t.status||"rejected"===t.status);else{if("resolved"===t.status)return t.value;(0,o().HB)(t)}}},245720:(e,t,n)=>{n.d(t,{W:()=>o});const o=(0,n(69708).YK)({done:{id:"modal.doneButton",defaultMessage:"Done"},cancel:{id:"modal.cancelButton",defaultMessage:"Cancel"},back:{id:"modal.backButton",defaultMessage:"Back"}})},274023:(e,t,n)=>{n.d(t,{PK:()=>i,wo:()=>r});n(16280);var o=()=>n(706119);function i(e){const t=function(e){return"default"===e?"openai-gpt-4o":e}(e),n=o().U_.get(t);if(!n)throw new Error(`Model not found in registry: ${e}`);return n}function r(e){return i(e).isHipaaCompliant}},283163:(e,t,n)=>{n.d(t,{h:()=>a});n(296540);var o=()=>n(473541),i=()=>n(807449),r=n(474848);function a(){return(0,r.jsx)(i().I,{icon:o().w,size:"lg",colorVariant:"primary"})}},375555:(e,t,n)=>{function o(e,t){const{device:n}=e;n.isAndroid&&t.focus(),t.select()}n.d(t,{G:()=>o})},419357:(e,t,n)=>{n.d(t,{Ay:()=>S,KF:()=>x,LG:()=>g,Zf:()=>v,yD:()=>b});var o=n(296540),i=()=>n(484714),r=()=>n(401497),a=()=>n(718827),s=()=>n(695115),l=()=>n(31511),c=()=>n(546926),d=()=>n(424400),u=()=>n(340498),h=()=>n(100622),p=()=>n(496603),f=()=>n(284371),m=n(474848);const g=30,b=28;function v(e){const{icon:t}=e;return t({fill:h().Tj.icon.secondary,width:u().Ev.sm,height:u().Ev.sm,flexGrow:0,flexShrink:0})}function x(e){const t=(0,i().WS)(),n=(0,r().eP)(),o=(0,r().IS)((()=>({outlineButton:{...(0,a().qq)({shape:"default",size:"sm",hasIconOnly:!0,isButtonGapEnabled:!0}),fontWeight:f().Wy.medium,lineHeight:1.2,border:`1px solid ${h().Tj.border.primaryTranslucent}`,background:e.hasBackground?h().Tj.background.primary:void 0},outlineButtonHovered:{background:h().Tj.background.secondary},outlineButtonPressed:{background:(0,a().yZ)({color:h().Tj.background.primary,mode:n})}})),[e.hasBackground,n]);return(0,m.jsx)(s().A,{size:"xs",colorVariant:"primary",...e,ariaLabel:e.ariaLabel,style:{...o.outlineButton,...e.style,height:t?g:b,width:t?g:b},hoveredStyle:o.outlineButtonHovered,pressedStyle:o.outlineButtonPressed})}const S=o.forwardRef((function({preventCaptureArrowShortcuts:e,preventCaptureDeleteWhenEmpty:t,preventCaptureClipboardShortcuts:i,preventCaptureSpacebarWhenEmpty:r,...a},s){const{left:l,right:u,inputLeft:h,inputRight:f,inputRightStyle:g,disableInput:b,inputOuterStyle:v,rightMobileEditLabel:x,mobileKeyboardOnDismiss:S,style:y,value:k,onChange:M,autosize:j,autosizeMinHeight:A,autosizeMaxHeight:z,customElementAttributes:P,disabled:E,format:R,id:T,placeholder:I,type:D,autoFocus:B,focus:F,focusInitial:L,focusAfterAnimation:N,forceShowClearButton:W,ignoreKeyboardMode:_,inputElementAttributes:O,inputStyle:K,isRightLastElementOfInput:$,maxlength:Y,min:V,max:U,selectAll:X,showClearButton:H,suppressFocusRing:G,textarea:q,textareaSubmitOnEnter:Z,onBlur:J,onCancel:Q,onClearButtonClick:ee,onClick:te,onFocus:ne,onKeyDown:oe,onSubmit:ie,...re}=a,[ae,se]=(0,o.useState)((()=>Boolean(F||L)));(0,o.useEffect)((()=>{void 0!==F&&se(F)}),[F]);const le=e?void 0:p().D_,ce=!t||k.length>0?p().D_:void 0,de=i?void 0:p().D_,ue=!r||k.length>0?p().D_:void 0,he=(0,c().Tf)(),pe=(0,o.useContext)(c().xu),fe=(0,o.useRef)(null),me={value:k,onChange:M,autosize:j,autosizeMinHeight:A,autosizeMaxHeight:z,customElementAttributes:P,disabled:E,format:R,id:T,placeholder:I,type:D,autoFocus:B,focus:F,focusInitial:L,focusAfterAnimation:N,forceShowClearButton:W,ignoreKeyboardMode:_,inputElementAttributes:O,inputStyle:K,isRightLastElementOfInput:$,maxlength:Y,min:V,max:U,selectAll:X,showClearButton:H,suppressFocusRing:G,textarea:q,textareaSubmitOnEnter:Z,onBlur:J,onCancel:Q,onClearButtonClick:ee,onClick:te,onFocus:ne,onKeyDown:oe,onSubmit:ie};return(0,m.jsx)(n(782482).N,{debugName:"InputMenuItem",capture:!0,onUntab:p().D_,onTab:p().D_,onSelectAll:p().D_,onRedo:p().D_,onUndo:p().D_,onToggleBold:p().D_,onToggleItalics:p().D_,onToggleCode:p().D_,onCut:de,onCopy:de,onPaste:de,onKeypress:p().D_,onLeft:le,onRight:le,onDelete:ce,onBackspace:ce,onSpace:ue,children:n(726637).A.isMobile?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(d().Ay,{ref:s,...re,itemMarginLeft:he?8:void 0,style:y,title:(0,m.jsx)(w,{ref:fe,left:l,right:u,inputLeft:h,inputRight:f,inputRightStyle:g,disableInput:b,inputOuterStyle:v,rightMobileEditLabel:x,isFocused:ae,setIsFocused:se,...me})}),(0,m.jsx)(n(797324).A,{show:ae&&pe.menuType!==c().gu.ActionSheet,onDismiss:S,inputRef:fe})]}):(0,m.jsx)(d().Ay,{ref:s,...re,left:l,right:u,isTokenTitle:!0,title:(0,m.jsx)(C,{ref:fe,disableInput:b,inputOuterStyle:v,inputRight:f,inputRightStyle:g,inputLeft:h,...me}),style:{paddingTop:4,paddingBottom:4,...y}})})}));function y({rightMobileEditLabel:e,inputRef:t}){const r=(0,i().v3)(),s=(0,o.useCallback)((e=>{e.preventDefault();const o=t.current;o&&(0,n(375555).G)(r,o)}),[r,t]);return(0,m.jsx)(a().Ay,{onClick:s,style:{color:h().Tj.text.secondary},children:e})}const C=o.forwardRef((function(e,t){const{disabled:n,disableInput:o,inputOuterStyle:i,inputRight:r,inputRightStyle:a,inputLeft:s,min:c,textarea:d,...u}=e;return(0,m.jsx)(l().A,{...u,ref:t,disabled:n||o,style:{height:d?void 0:28,padding:"3px 6px",...i},left:s,right:r,rightStyle:a,min:c,textarea:d})})),w=o.forwardRef((function(e,t){const{left:i,right:r,inputLeft:a,inputRight:s,inputRightStyle:c,disableInput:d,inputOuterStyle:u,rightMobileEditLabel:h,isFocused:p,setIsFocused:f,disabled:g,showClearButton:b,onBlur:v,onFocus:x,...S}=e,C=(0,o.useCallback)((e=>{f(!1),v&&v(e)}),[v,f]),w=(0,o.useCallback)((e=>{f(!0),x&&x(e)}),[x,f]),k=(0,o.useRef)(null),M=(0,n(93583).A)(k,t),j=h&&!p?(0,m.jsx)(y,{rightMobileEditLabel:h,inputRef:k}):null;return(0,m.jsx)(l().A,{...S,ref:M,format:"transparent",style:{fontSize:16,...u},onFocus:w,onBlur:C,showClearButton:!1!==b,disabled:g||d,left:a||i,right:j||s||r,rightStyle:c})}))},473541:(e,t,n)=>{n.d(t,{w:()=>i});n(296540);const o={viewBox:"0 0 20 20",fittedViewBox:"5.87 3.72 7.16 12.56",directional:!0,svg:(0,n(474848).jsx)("path",{d:"M6.131 9.381a.875.875 0 0 0 0 1.238l5.4 5.4a.875.875 0 1 0 1.238-1.238L7.987 10l4.782-4.781A.875.875 0 0 0 11.53 3.98z"})},i=(0,n(340498).wt)("arrowChevronSingleLeftFill",o,"fill")},510331:(e,t,n)=>{n.d(t,{d:()=>r,m:()=>a});var o=()=>n(534177),i=()=>n(522282);function r(e){const{availableEditorSize:t,userPreferenceSidebarWidth:n}=e,o=n??t.width*i().Jx,r=Math.max(i().hh,t.width-i().UP),a=Math.min(i().vd,r);return Math.max(i().hh,Math.min(a,o))}function a(e){const{availableEditorSize:t,chatPanelMode:n,currentPerformanceToolbarHeight:a,dragSize:s,naturalPanelContentSize:l,notionSidebarWidth:c,tempDragPosition:d,userPreferenceSidebarWidth:u,mobileBottomPadding:h=0,safeAreaTopPadding:p=0,disablePopupContentResize:f=!1}=e;let m,g,b;if("sidebar"===n){const e=(null==s?void 0:s.width)??r({availableEditorSize:t,userPreferenceSidebarWidth:u}),n=Math.max(i().hh,t.width-i().UP),o=Math.min(i().vd,n);m={width:{min:i().hh,max:o,value:e,resizeMode:"user"},height:{min:t.height,max:t.height,value:t.height,resizeMode:"none"}},g={fromLeftCss:`calc(100% - ${e}px)`,fromLeftNumeric:t.width-e+c,fromTopCss:"0px",fromTopNumeric:0,fromRightCss:"0px",fromRightNumeric:0,fromBottomCss:`${a}px`,fromBottomNumeric:a},b=e}else if("popup"===n){const e=f?i().wl:(null==l?void 0:l.height)??i().wl,n=t.height-i().Ab-i().m8-p-h,o=Math.min(i().wl,n),r=Math.max(o,Math.min(n,e)),s=f?o:r;if(m={width:{min:i().Y_,max:i().Y_,value:i().Y_,resizeMode:"none"},height:{min:o,max:n,value:s,resizeMode:f?"none":"content"}},d){const e=d.y+p;g={fromLeftCss:`${d.x+c}px`,fromLeftNumeric:d.x,fromTopCss:`${e}px`,fromTopNumeric:e,fromRightCss:`calc(100% - ${d.x+i().Y_+c}px)`,fromRightNumeric:t.width-d.x-i().Y_,fromBottomCss:`calc(100% - ${e+s}px)`,fromBottomNumeric:t.height-e-s}}else{const e=i().Ab+a+h,n=t.height-s-e,o=p+i().m8,r=Math.max(o,n),l=r>n?t.height-r-e:s;g={fromLeftCss:`calc(100% - ${i().Y_+i().jI}px)`,fromLeftNumeric:t.width-i().Y_-i().jI+c,fromTopCss:`${r}px`,fromTopNumeric:r,fromRightCss:`${i().jI}px`,fromRightNumeric:i().jI,fromBottomCss:t.height-r-l+"px",fromBottomNumeric:t.height-r-l}}b=0}else{if("full"===n)return{editorWidthUsed:0,panelSize:{width:{min:0,max:0,value:0,resizeMode:"none"},height:{min:0,max:0,value:0,resizeMode:"none"}},panelRect:{fromLeftCss:"0px",fromLeftNumeric:0,fromTopCss:"0px",fromTopNumeric:0,fromRightCss:"0px",fromRightNumeric:0,fromBottomCss:"0px",fromBottomNumeric:0}};(0,o().HB)(n)}return{panelSize:m,panelRect:g,editorWidthUsed:b}}},514608:(e,t,n)=>{n.r(t),n.d(t,{eyeFillSmallIcon:()=>r,iconDefinition:()=>i});n(296540);var o=n(474848);const i={viewBox:"0 0 16 16",fittedViewBox:"0.7 3.26 14.6 9.48",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M8 7.122a.875.875 0 1 1 0 1.75.875.875 0 0 1 0-1.75"}),(0,o.jsx)("path",{d:"M8 3.26c3.125 0 5.857 1.673 7.152 4.141l.065.144c.11.293.11.617 0 .91l-.065.145c-1.295 2.468-4.027 4.14-7.152 4.14-3.027 0-5.685-1.57-7.026-3.912L.848 8.6a1.29 1.29 0 0 1 0-1.199l.126-.228C2.314 4.83 4.972 3.26 8 3.26m0 2.112a2.626 2.626 0 0 0-2.625 2.626l.014.269A2.626 2.626 0 0 0 7.73 10.61l.269.014a2.626 2.626 0 0 0 2.611-2.357l.014-.269A2.626 2.626 0 0 0 8 5.372"})]})},r=(0,n(340498).wt)("eyeFillSmall",i,"fillSmall")},567121:(e,t,n)=>{n.d(t,{EG:()=>a,K5:()=>r,RH:()=>i,Yi:()=>s,ls:()=>o});const o=32,i=202,r=1e3,a="Want to add a metric? Look for 'src/client/performanceToolbar/config.ts' in notion-next.",s="To disable the toolbar entirely, go to the 'Experiments' panel and look for the 'performance_debugging_toolbar' flag."},589407:(e,t,n)=>{n.r(t),n.d(t,{ellipsisIcon:()=>i,iconDefinition:()=>o});n(296540);const o={viewBox:"0 0 20 20",fittedViewBox:"2.62 8.62 14.76 2.76",svg:(0,n(474848).jsx)("path",{d:"M4 11.375a1.375 1.375 0 1 0 0-2.75 1.375 1.375 0 0 0 0 2.75m6 0a1.375 1.375 0 1 0 0-2.75 1.375 1.375 0 0 0 0 2.75m6 0a1.375 1.375 0 1 0 0-2.75 1.375 1.375 0 0 0 0 2.75"})},i=(0,n(340498).wt)("ellipsis",o,"default")},627503:(e,t,n)=>{n.d(t,{a:()=>i});n(296540);const o={viewBox:"0 0 16 16",fittedViewBox:"1.37 1.37 13.25 13.25",svg:(0,n(474848).jsx)("path",{d:"M3.25 1.375c-1.036 0-1.875.84-1.875 1.875v6c0 1.036.84 1.875 1.875 1.875h1.625v1.625c0 1.036.84 1.875 1.875 1.875h6c1.036 0 1.875-.84 1.875-1.875v-6c0-1.036-.84-1.875-1.875-1.875h-1.625V3.25c0-1.036-.84-1.875-1.875-1.875zM2.625 3.25c0-.345.28-.625.625-.625h6c.345 0 .625.28.625.625v1.625H6.75c-1.036 0-1.875.84-1.875 1.875v3.125H3.25a.625.625 0 0 1-.625-.625zm3.5 3.5c0-.345.28-.625.625-.625h6c.345 0 .625.28.625.625v6c0 .345-.28.625-.625.625h-6a.625.625 0 0 1-.625-.625z"})},i=(0,n(340498).wt)("duplicateSmall",o,"small")},636714:(e,t,n)=>{n.d(t,{A:()=>y});n(898992),n(354520),n(581454);var o=n(296540),i=()=>n(590526),r=()=>n(182412),a=()=>n(683021),s=()=>n(498521),l=()=>n(449279),c=()=>n(663639),d=()=>n(922931),u=()=>n(535393),h=()=>n(736847),p=()=>n(452004),f=()=>n(69708),m=()=>n(231536),g=()=>n(671894),b=n(474848);const v=25,x=200,S=n(757695).Store.createClass(v,{name:"limitStore"});function y({topBorder:e,context:t,onAccept:n,onFocus:y,empty:C,keyboardPriority:w,disableKeyboard:k,initialFocus:M,onEmptyEnter:j,comboboxProps:A,useLimit:z,onFilteredSectionsChange:P,filter:E,sections:R,menuListStore:T,resetInitialFocusOnSectionChangeAlways:I,resetFocusOnMouseOut:D,role:B,showNoResultsMessage:F,onFooterEnter:L,filterSections:N,flattenSectionsOnSearch:W,renderItemStyles:_,shouldShowBlockTypeTitle:O}){const K=(0,i().uB)(void 0,S),$=(0,i().uB)(T,p().$),[Y,V,U]=(0,i().K8)((()=>{let e=0;const n=(0,g().js)({sections:E&&N?N:R,context:t,query:E||"",shouldShowBlockTypeTitle:O});for(const t of n)e+=t.actions.length;return[z?(0,g().Le)(n,K.state):n,e,n]}),[R,t,E,z,K,N,O]);(0,o.useEffect)((()=>{a().Ay.state.open&&a().rA.setState(0===U.length)}),[U]),(0,o.useEffect)((()=>{null==P||P(Y)}),[P,Y]);const X=(0,o.useRef)(E),H=(0,o.useCallback)((e=>{e<x&&K.state<V&&K.setState(K.state+v)}),[K,V]),G=Boolean(W&&E),q=(0,o.useMemo)((()=>{const e=new Map;for(const t of U)if(t.key!==r().IZ)for(const n of t.actions)e.set(n.key,t.title);return e}),[U]),{menuItemActionMap:Z,menuItemSectionKeyMap:J,menuListSections:Q}=(0,o.useMemo)((()=>{const o=new Map,i=new Map,a=Y.map((a=>{const s=a.key.toString();return{key:a.key,render:t=>a.render({...t,topBorder:!G&&(0!==t.index||Boolean(e)),title:a.title,hideTitle:G}),items:a.actions.map((e=>{e.lazyDependencyKeys&&(0,m().G)(...e.lazyDependencyKeys);const l={key:e.key,render:(o,i)=>{const l=a.key===r().IZ?q.get(e.key):a.title,c=G||a.key===r().IZ;return e.render(o,t,{onAccept:(e,t,o)=>{null==n||n(e,t,o,s)},onFocus:i.onFocus,sectionTitle:l,extendItemTitle:c,styles:_})},action:({event:n})=>{e.action(t,n)}};return o.set(l,e),i.set(l,s),l}))}}));return{menuItemActionMap:o,menuItemSectionKeyMap:i,menuListSections:a}}),[Y,G,e,q,t,_,n]);(0,o.useEffect)((()=>{if(E!==X.current&&0===M){X.current=E;if(Boolean(L)&&0===u().i2(Q))return d().rd({store:$});$.setState({...$.state,focus:{section:0,indexLocal:0,indexGlobal:0,footerFocused:!1}})}}),[E,M,Q,$,L]);const ee=(0,o.useCallback)(((e,o)=>{if(n){const r=Z.get(e),a=J.get(e);if(r){var i;if(null!==(i=r.isDisabled)&&void 0!==i&&i.call(r,t))return;n(r,t,o.event,a,o.index)}}}),[n,t,Z,J]),te=(0,o.useCallback)((e=>{let n;var o;(e.indexLocal&&(n=u().SG(e.indexLocal,Q)),e.indexGlobal)&&(n=null===(o=u().e7(e.indexGlobal,Q))||void 0===o?void 0:o.item);if(!n)return;const i=Z.get(n),r=J.get(n);i&&(null==y||y(i,t,r))}),[Z,J,y,Q,t]);return(0,b.jsxs)(b.Fragment,{children:[Boolean(F)&&0===Y.length?(0,b.jsx)(h().A,{children:(0,b.jsx)(l().u,{title:C||(0,b.jsx)(f().sA,{id:"action.search.noResults",defaultMessage:"No results"})})}):void 0,(0,b.jsx)(c().A,{type:c().O.Vertical,role:B,priority:w,store:$,disableKeyboard:k,sections:Q,initialFocus:M,onEmptyEnter:j,onAccept:ee,onFocus:te,comboboxProps:A,resetInitialFocusOnSectionChangeAlways:I,resetFocusOnMouseOut:D,onFooterEnter:L}),z?(0,b.jsx)(s().A,{onChange:H}):void 0]})}},662971:(e,t,n)=>{n.d(t,{A:()=>p});var o=n(296540),i=()=>n(30537);const r=function(){const[e,t]=o.useState({x:0,y:0});return o.useEffect((()=>{const e=e=>{t({x:e.clientX,y:e.clientY})};return window.addEventListener("mousemove",e),()=>{window.removeEventListener("mousemove",e)}}),[]),e};var a=n(474848);function s({x:e,mouseX:t}){return t>e?void 0:-Math.max(e-t,10)+"px"}function l({x:e,width:t,mouseX:n}){return n>e?-Math.max(n-(e+t),10)+"px":void 0}function c({x:e,width:t,mouseX:n}){return n>e?`${Math.max(n-(e+t),10)}px`:`${Math.max(e-n,10)}px`}function d({x:e,y:t,height:n,mouseX:o,mouseY:i}){return o>e?`polygon(0% 0%, 0% 100%, 100% ${100*(i-t)/n}%)`:`polygon(100% 0%, 0% ${100*(i-t)/n}%, 100% 100%)`}function u(e){const{x:t=0,y:n=0,height:i=0,width:u=0}=e.el.getBoundingClientRect()||{},{x:h,y:p}=r(),f={x:t,y:n,height:i,width:u,mouseX:h,mouseY:p},m=(0,o.useRef)(null),g=o.useCallback((e=>{if(m.current){m.current.style.pointerEvents="none";const t=document.elementFromPoint(e.clientX,e.clientY);if(m.current.style.pointerEvents="auto",t){const n=new MouseEvent(e.nativeEvent.type,e.nativeEvent);t.dispatchEvent(n)}}}),[]),b={insetInlineEnd:l(f),insetInlineStart:s(f),height:i,width:c(f),clipPath:d(f)};return(0,a.jsx)("div",{ref:m,onClick:g,style:{cursor:"pointer",position:"absolute",pointerEvents:"auto",top:0,...b}})}function h({onClick:e,renderOrigin:t,renderExtension:r,allowOptionalExtensionMenu:s,...l},c){const{disabled:d,disableDefaultClick:h,onFocus:p,focused:f,openOnFocus:m,placementToOrigin:g,alignmentToOrigin:b,disableCloseOnEnter:v,bottomSheetInitialState:x,popupTypeOverride:S}=l,y=(0,n(484714).WS)(),C=(0,n(546926).Tf)(),[w,k]=(0,o.useState)(!1),M=(0,o.useRef)(null),j=(0,o.useRef)(null),A=(0,o.useRef)(null),z=(0,o.useRef)(null),P=(0,o.useCallback)((()=>{A.current&&window.clearTimeout(A.current),z.current&&window.clearTimeout(z.current),A.current=null,z.current=null}),[]),E=(0,o.useCallback)((()=>{P(),d||k(!0)}),[d,P]),R=(0,o.useCallback)((()=>{P(),k(!1)}),[P]),T=(0,o.useCallback)((e=>{P(),w||(e&&e.preventDefault&&e.preventDefault(),A.current=window.setTimeout(E,120))}),[w,P,E]),I=(0,o.useCallback)((()=>{P(),w&&(z.current=window.setTimeout(R,100))}),[w,R,P]),D=(0,o.useCallback)((t=>{p(),E(),s&&(null==e||e(t),R())}),[p,E,s,e,R]),B=(0,o.useCallback)((()=>{T()}),[T]),F=(0,o.useCallback)((()=>{p(),T()}),[p,T]),L=(0,o.useCallback)((e=>{if(n(726637).A.isMobile)return;const t=M.current;w&&t&&!t.contains(e.target)&&R()}),[w,R]),N=(0,o.useCallback)((e=>{13===e.keyCode&&w&&!v&&R()}),[w,R,v]);(0,o.useEffect)((()=>{if(!Boolean(h))return window.addEventListener("click",L),()=>{window.removeEventListener("click",L)}}),[h,L]),(0,o.useEffect)((()=>(window.addEventListener("keydown",N),()=>{window.removeEventListener("keydown",N)})),[N]);const W=(0,o.useRef)(f);(0,o.useEffect)((()=>{m&&!W.current&&f?T():!f&&W.current&&I(),W.current=f}),[f,m,T,I]);const _=(0,n(401497).IS)((()=>({mobilePopupStyle:{borderRadius:12,backgroundColor:n(100622).Tj.background.secondary}})),[]),O={...(0,n(383036).A)({onMouseEnter:B,onClick:D},l),showExtensionArrow:!0};let K=i().n.Popup;return S?K=S:y&&(K=C?i().n.BottomSheet:i().n.SlideUp),(0,a.jsx)(n(782482).N,{debugName:"ExtensionMenuItem",capture:f,onEnter:w?void 0:T,onRight:T,onLeft:w?I:void 0,onEsc:w?I:void 0,children:(0,a.jsx)(n(127833).zD,{popupType:K,bottomSheetInitialState:x,open:w,origin:t(O,c),placementToOrigin:g??"right",alignmentToOrigin:b??"center",originGap:0,disableMouseCapture:!0,preventBlockRenderQueueOnEnter:!0,preventScaleTransition:!y,preventCaptureEsc:!0,ref:M,render:()=>(0,a.jsxs)(a.Fragment,{children:[!y&&j.current?(0,a.jsx)(u,{el:j.current}):null,(0,a.jsx)("div",{ref:j,style:{height:"100%"},children:r({onMouseEnter:F},{close:I})})]}),style:{overflow:"visible",...y&&_.mobilePopupStyle},trapFocus:!0,onDismiss:R})})}const p=o.forwardRef(h)},671894:(e,t,n)=>{n.d(t,{hS:()=>S,o2:()=>y,js:()=>v,Le:()=>x,F6:()=>C});n(944114),n(517642),n(658004),n(733853),n(845876),n(432475),n(515024),n(731698),n(898992),n(823215),n(354520),n(581454);var o=()=>n(675133),i=()=>n(69708),r=()=>n(778078),a=()=>n(496603),s=(n(296540),()=>n(736847)),l=()=>n(589407),c=()=>n(12956),d=n(474848);const u=(0,i().YK)({moreOptions:{id:"action.moreOptions",defaultMessage:"More options"}});var h=()=>n(431404),p=()=>n(680288),f=()=>n(129522);const m=25,g=5,b=(0,i().YK)({mixedBlocks:{id:"actionMenuHelpers.mixedBlocks.title",defaultMessage:"{count, plural, one {{count} block} other {{count} blocks}}"}});function v(e){const t=o().A.getIntl(),{sections:n,context:i,query:v,shouldShowBlockTypeTitle:x}=e;let S=v.trim().toLowerCase();S.startsWith("/")&&(S=S.slice(1));const w=y(n,i).map(((e,n)=>{let{actions:o,title:r}=e;const a=o.length-g;if(e.shouldShowMoreOptions&&a>1){const e=function(e){return(0,c().u)({key:"more options",displayName:u.moreOptions,analyticsName:u.moreOptions.defaultMessage,svg:l().ellipsisIcon,validators:[],subActions:()=>[{key:0,title:void 0,render:e=>(0,d.jsx)(s().A,{...e}),actions:e}]})}(o.slice(g));o=[...o.slice(0,g),e]}const m=i.blocks[0];if(m){const e=m.getType();if(x&&e&&0===n){const n=i.blocks.every((t=>t.getType()===e))?(0,h().Z)(e):b.mixedBlocks;if(n){var v;r=t.formatMessage(n,{count:i.blocks.length});const e=null===(v=f().K.findCollectionViewBlockFromStore(m))||void 0===v?void 0:v.collectionContextStore.getViewType();if(e){const t=p().to[e];t&&(r+=` Â· ${t}`)}}}}return{...e,actions:o,title:r}}));if(!S)return w;const k=function(e){return e.map((e=>({...e,actions:e.actions.map((t=>{const n=t.searchName||t.displayName||"",o=[n,e.searchTitle||e.title||"",n].join(" ");return{...t,searchName:o}}))})))}(function(e,t){const n=[];for(const o of e){const e={...o,actions:[]};for(const i of o.actions)if(C(i,t))if(i.subActions){const r=y(i.subActions(t),t);if(i.hideSubActions){e.actions.push(i);continue}if(i.collapseSubActionsIntoParent){for(const t of r)for(const n of t.actions)e.actions.push(n);continue}const a=r.map((e=>({...e,key:`${o.key} ${i.key} ${e.key}`,title:e.title||i.displayName,searchTitle:[i.searchName||i.displayName,e.searchTitle||e.title].filter(Boolean).join(" ")})));for(const e of a)n.push(e)}else e.actions.push(i);e.actions.length&&n.push(e)}return n}(n,i)),M=[],j=new Map;for(const o of k)for(const e of o.actions)j.set(e,o),M.push(e);const A=(0,r().Ay)(S,M,(e=>e.searchName||""),{minScore:m,getSortScore:e=>-e.score*(e.original.sortScoreMultiplier??1)}),z=new Set(A),P=M.filter((e=>Boolean(e.alwaysShowInSearch)&&!z.has(e))),E=P.filter((e=>"start"===e.alwaysShowInSearch)),R=P.filter((e=>"end"===e.alwaysShowInSearch)),T=a().$z([...E,...A,...R],(e=>{const t=j.get(e);if(t)return t.title})),I=[];for(const o of Object.keys(T)){const e=T[o],t=j.get(e[0]);t&&I.push({...t,actions:e})}return I}function x(e,t){if(!t)return e;let n=0;const o=[];for(const i of e){if(n>=t)break;const e=i.actions.slice(0,t-n);e.length>0&&(n+=e.length,o.push({...i,actions:e}))}return o}function S(e,t){const n=[];for(const o of e){const e=o.actions.filter(t);e.length>0&&n.push({...o,actions:e})}return n}function y(e,t){return S(e,(e=>C(e,t)))}function C(e,t){if(e.validators){return e.validators.every((e=>e(t)))}return!0}},703778:(e,t,n)=>{n.r(t),n.d(t,{iconDefinition:()=>i,linkSmallIcon:()=>r});n(296540);var o=n(474848);const i={viewBox:"0 0 16 16",fittedViewBox:"1.87 1.87 12.19 12.19",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M12.848 2.8a3.145 3.145 0 0 0-4.448 0L6.918 4.283a.625.625 0 0 0 .884.883l1.482-1.482c.74-.74 1.94-.74 2.68 0l.294.294c.74.74.74 1.94 0 2.68l-1.482 1.483a.625.625 0 1 0 .884.884l1.482-1.482a3.145 3.145 0 0 0 0-4.449z"}),(0,o.jsx)("path",{d:"M10.472 5.47a.625.625 0 0 0-.884 0L5.229 9.83a.625.625 0 1 0 .884.883l4.359-4.359a.625.625 0 0 0 0-.883"}),(0,o.jsx)("path",{d:"M5.167 6.918a.625.625 0 0 0-.884 0L2.8 8.4a3.146 3.146 0 0 0 0 4.448l.294.294a3.145 3.145 0 0 0 4.449 0l1.482-1.482a.625.625 0 0 0-.884-.884L6.66 12.258c-.74.74-1.94.74-2.68 0l-.295-.294c-.74-.74-.74-1.94 0-2.68L5.167 7.8a.625.625 0 0 0 0-.883"})]})},r=(0,n(340498).wt)("linkSmall",i,"small")},756114:(e,t,n)=>{n.d(t,{D:()=>o});function o(e,t){t.route.name;return!1}},797324:(e,t,n)=>{n.d(t,{A:()=>m});var o=n(296540),i=()=>n(560520),r=()=>n(484714),a=()=>n(790748),s=()=>n(581010),l=()=>n(69708),c=()=>n(100622),d=()=>n(284371),u=()=>n(396406),h=()=>n(718827),p=()=>n(843798),f=n(474848);function m(e){const{onDismiss:t,inputRef:n}=e,m=(0,r().Y0)(),g=(0,o.useRef)(null),b=m.isMobileNative&&m.isIOS,v=b&&e.show;(0,a().b)(s().A,(()=>({getNode:()=>g.current,isShown:()=>v})),[v]);const x=(0,i().n)(),S=(0,o.useCallback)((()=>{var e;null==n||null===(e=n.current)||void 0===e||e.focus(),t&&t();const o=document.activeElement;o instanceof HTMLElement&&o.blur()}),[n,t]);if(!b)return null;const y=v?-(p().j+x):0;return(0,f.jsx)(u().O,{open:!0,children:(0,f.jsx)("div",{style:{position:"fixed",top:"100vh",width:"100%",height:p().j,display:v?"flex":"none",alignItems:"center",justifyContent:"flex-end",backgroundColor:c().Tj.keyboardDoneBarBackground,transform:`translateY(${y}px)`,transition:v?"ease-out":"ease-in",boxShadow:v?`\n\t\t\t\t\t\t\t\t0 -1px 0 ${c().Tj.border.primaryTranslucent}\n\t\t\t\t\t\t\t`:void 0},ref:g,children:(0,f.jsx)(h().Ay,{style:{display:"flex",alignItems:"center",marginInlineEnd:16,color:c().oZ.blue,fontWeight:d().Wy.semibold},onTouchEnd:()=>{S()},children:(0,f.jsx)(l().sA,{defaultMessage:"Done",id:"mobile.dismissKeyboardBar.button.label"})})})})}},803960:(e,t,n)=>{n.r(t),n.d(t,{arrowChevronSingleDownIcon:()=>i,iconDefinition:()=>o});n(296540);const o={viewBox:"0 0 20 20",fittedViewBox:"3.97 6.97 12.06 6.66",svg:(0,n(474848).jsx)("path",{d:"M9.558 13.442c.244.244.64.244.884 0l5.4-5.4a.625.625 0 0 0-.884-.884L10 12.116 5.042 7.158a.625.625 0 1 0-.884.884z"})},i=(0,n(340498).wt)("arrowChevronSingleDown",o,"default")},829298:(e,t,n)=>{n.r(t),n.d(t,{CollapsiblePanel:()=>M,Resizer:()=>A});var o=n(296540),i=()=>n(756117),r=()=>n(782482),a=()=>n(383036),s=()=>n(484714),l=()=>n(951500),c=()=>n(819121),d=()=>n(93583),u=()=>n(401497),h=()=>n(86159),p=()=>n(699143),f=()=>n(493552),m=()=>n(26697),g=()=>n(591779),b=()=>n(69708),v=()=>n(100622),x=()=>n(496603),S=()=>n(534177),y=()=>n(440024),C=()=>n(222321),w=n(474848);const k=10;function M(e){const{config:t,anchorToSide:n,children:r,onDismiss:a,onAnimationEnd:s,keyboardShortcut:c,onWidthWillChange:d,onWidthChanged:h,appearance:f}=e,m=(0,l().l)(t),b=(0,g().ZC)(m),[x,y]=(0,o.useState)(void 0),C="resizable"===m.mode,k="resizable"===m.mode?m.min:0,M="resizable"===m.mode?m.max:1/0,[z,P]=(0,o.useState)(0);(0,o.useEffect)((()=>{let e;switch(m.mode){case"closed":e=0;break;case"fill":e=m.availableWidth;break;case"fixed":e=m.width;break;case"resizable":e=x??m.userOverride??m.defaultSize;break;default:(0,S().HB)(m)}const t=Math.max(k,Math.min(M,e));t!==z&&(null==d||d(t,void 0!==x),P(t))}),[m,x,z,d,k,M]);const E=(0,o.useRef)(!1);b!==m&&(E.current=(null==b?void 0:b.mode)!==m.mode);const R="closed"!==m.mode,T=(0,o.useCallback)((()=>{E.current=!1,null==s||s(m),null==h||h(z)}),[m,s,z,h]);(0,o.useEffect)((()=>{y(void 0)}),[m]);const I=(0,o.useCallback)((e=>{C&&(E.current=!1,y(e))}),[C]),D=(0,o.useCallback)((()=>{var e;"resizable"===m.mode&&x&&(null===(e=m.onUserResize)||void 0===e||e.call(m,x),y(void 0),null==h||h(x))}),[m,x,h]),B=(0,u().IS)((()=>({outer:{overflow:"clip",height:"100%",position:"relative",minWidth:0,pointerEvents:"none",flexShrink:0,..."elevated"===f&&R?{boxShadow:v().Tj.shadowMD}:{}},borderArea:{position:"absolute",top:0,height:"100%",zIndex:100,display:"flex",insetInlineEnd:"left"===n?0:void 0,insetInlineStart:"right"===n?0:void 0}})),[n,f,R]);let F;"resizable"===m.mode?F=(0,w.jsx)(A,{size:z,minSize:k,maxSize:M,anchorToSide:n,onSizeChanging:I,onSizeChangeFinished:D,onDismiss:a,keyboardShortcut:c}):"fixed"===m.mode&&(F=(0,w.jsx)(j,{}));const L=E.current;return(0,w.jsx)(i().A,{style:B.outer,forceCompositeLayer:!0,config:{duration:400},animate:{width:R?z:0},skip:!L,onAnimationEnd:T,children:(0,w.jsx)("div",{style:{width:z,height:"100%",position:"absolute",..."right"===n?{right:0}:{left:0}},children:(0,w.jsxs)(p().Y1,{direction:"horizontal",height:"fill",width:"fill",children:[r,(0,w.jsx)("div",{style:B.borderArea,children:F})]})})})}function j(){const e=(0,u().IS)((()=>({separator:{width:1,backgroundColor:v().Tj.border.secondary}})),[]);return(0,w.jsx)("div",{style:e.separator})}function A(e){const{size:t,anchorToSide:n,minSize:i,maxSize:l,onSizeChanging:p,onSizeChangeFinished:g,onDismiss:S,keyboardShortcut:M}=e,j=(0,b().tz)(),A=(0,s().v3)(),{device:z}=A,[P,E]=(0,o.useState)(!1),[R,T]=(0,o.useState)({x:0,y:0}),[I,D]=(0,c().A)(),B=(0,o.useRef)(null),F=(0,d().A)(I,B),L=(0,o.useRef)(null),N=(0,o.useRef)(!1),W=(0,o.useCallback)((e=>Math.max(i,Math.min(l,e))),[i,l]),_=(0,o.useCallback)((e=>{(0,y().I)({environment:A}),L.current={startX:e.currentX,startSize:t},N.current=!1}),[A,t]),O=(0,o.useCallback)((e=>{if(!L.current)return;h().clear(A),N.current=!0;const{startX:t,startSize:o}=L.current,i=e.currentX-t,r=W("right"===n?o-i:o+i);null==p||p(r)}),[n,A,W,p]),K=(0,o.useCallback)((()=>{!N.current&&S&&S(),L.current=null,null==g||g()}),[S,g]),$=(0,o.useCallback)((()=>{L.current=null}),[]),Y=(0,o.useCallback)((()=>{var e;const t=null===(e=B.current)||void 0===e?void 0:e.getBoundingClientRect();t&&T((e=>({x:t.left+t.width/2,y:e.y||t.top+t.height/2})))}),[]),V=(0,o.useCallback)((e=>{var t;E(!0);const n=null===(t=B.current)||void 0===t?void 0:t.getBoundingClientRect();n&&T({x:n.left+n.width/2,y:e.clientY})}),[]),U=(0,o.useCallback)((()=>{E(!0)}),[]),X=(0,o.useCallback)((()=>{E(!1)}),[]),H=(0,o.useCallback)((()=>{const e=W(t-k);null==p||p(e),null==g||g(),requestAnimationFrame(Y)}),[t,W,p,g,Y]),G=(0,o.useCallback)((()=>{const e=W(t+k);null==p||p(e),null==g||g(),requestAnimationFrame(Y)}),[t,W,p,g,Y]),q=(0,o.useCallback)((()=>{S&&S()}),[S]);(0,o.useEffect)((()=>{requestAnimationFrame(Y)}),[D,Y]);const Z=(t-i)/(l-i),J=e=>(0,w.jsx)(f().D,{as:"span",colorVariant:"inverseSecondary",children:e}),Q=(0,o.useCallback)((()=>{const e=Boolean(S),t=Boolean(M);return e&&t?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(b().sA,{defaultMessage:"Close <invertedcolor>Click or {keyboardShortcut}</invertedcolor>",id:"collapsiblePanelResizer.tooltip.closeWithShortcut",values:{invertedcolor:J,keyboardShortcut:M}}),(0,w.jsx)("br",{}),(0,w.jsx)(b().sA,{defaultMessage:"Resize <invertedcolor>Drag</invertedcolor>",id:"collapsiblePanelResizer.tooltip.resizeMessage",values:{invertedcolor:J}})]}):e?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(b().sA,{defaultMessage:"Close <invertedcolor>Click</invertedcolor>",id:"collapsiblePanelResizer.tooltip.closeMessage",values:{invertedcolor:J}}),(0,w.jsx)("br",{}),(0,w.jsx)(b().sA,{defaultMessage:"Resize <invertedcolor>Drag</invertedcolor>",id:"collapsiblePanelResizer.tooltip.resizeMessage",values:{invertedcolor:J}})]}):(0,w.jsx)(b().sA,{defaultMessage:"Resize <invertedcolor>Drag</invertedcolor>",id:"collapsiblePanelResizer.tooltip.resizeMessage",values:{invertedcolor:J}})}),[S,M]),ee="left"===n?H:G,te="right"===n?H:G,ne=(0,u().IS)((()=>({wrapper:{height:"100%",zIndex:1},draggable:{cursor:"col-resize",height:"100%",width:12,position:"absolute",pointerEvents:"auto",..."right"===n?{insetInlineStart:0}:{insetInlineEnd:0},top:0},resizer:{position:"absolute",..."right"===n?{insetInlineStart:0}:{insetInlineEnd:0},top:0,height:"100%",width:P?1:0,backgroundColor:P?v().Tj.border.primary:v().Tj.border.secondary,pointerEvents:"none"}})),[n,P]);return z.isChromebook?null:(0,w.jsx)(r().N,{capture:D,debugName:"SidebarResizer",onLeft:ee,onRight:te,onUp:x().D_,onDown:x().D_,onTab:x().D_,onUntab:x().D_,onEnter:q,children:(0,w.jsx)(m().m,{renderTooltip:Q,originRect:new DOMRect(R.x,R.y,0,0),placement:"right"===n?"left":"right",originGap:16,delayThreshold:0,render:e=>(0,w.jsxs)("div",{className:"wrapper",style:ne.wrapper,...(0,a().A)(e,{onMouseMove:U,onMouseLeave:X,onMouseEnter:V}),children:[(0,w.jsx)("div",{style:ne.resizer}),(0,w.jsx)(C().A,{onDraggableDragStart:_,onDraggableDragMove:O,onDraggableDragEnd:K,onDraggableDragCancel:$,disableVerticalEdgeScroll:!0,disableHorizontalEdgeScroll:!0,render:e=>(0,w.jsx)("div",{className:"separator",ref:F,role:"separator",tabIndex:0,"aria-label":j.formatMessage({id:"sidebarResizer.tooltip.resizeLabel",defaultMessage:"Resize with left and right arrow keys"}),"aria-orientation":"vertical","aria-valuenow":Math.round(100*Z),"aria-valuemin":0,"aria-valuemax":100,style:ne.draggable,...e})})]})})})}}}]);