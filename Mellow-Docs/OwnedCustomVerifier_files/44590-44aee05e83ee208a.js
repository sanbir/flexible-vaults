"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[44590],{12956:(e,t,n)=>{n.d(t,{u:()=>S});n(296540);var i=()=>n(383036),s=()=>n(26697),o=()=>n(81068),r=()=>n(575143),a=()=>n(662971),c=()=>n(484714),l=()=>n(590526),d=()=>n(283163),u=()=>n(245720),p=()=>n(546926),m=()=>n(890492),h=()=>n(69708),g=()=>n(636714),b=n(474848);function f(e){const{context:t,extensionMenuParent:n,actionMenuListParent:i,popupEvents:s,displayName:o,width:r,initialFocus:a,subActions:f}=e,{isPhone:y}=(0,c().Y0)(),S=(0,p().Tf)();let x;x=y?S?{menuType:p().gu.Modal,onClickLeft:n.close,left:(0,b.jsx)(d().h,{}),enableMobileRefresh:S,paddingTop:10,title:(0,b.jsx)(h().sA,{...o}),...s}:{menuType:p().gu.Modal,right:(0,b.jsx)(h().sA,{...u().W.done}),onClickRight:n.close,...s}:{menuType:p().gu.Popup,width:r??220,...s};const v=(0,l().K8)((()=>f(t)),[t,f]);return(0,b.jsx)(m().A,{...x,children:(0,b.jsx)(g().A,{initialFocus:a??0,context:t,sections:v,onAccept:i.onAccept})})}var y=()=>n(267271);function S(e){const{key:t,displayName:n,displayNameInterpolatedValues:c,subTitle:l,analyticsName:d,validators:u,subActions:p,collapseSubActionsIntoParent:m,hideSubActions:h,svg:g,icon:S,right:x,rightStyle:v,renderTooltip:w,disableTooltip:A,tooltipPlacement:j,width:k,initialFocus:I,clientSkill:T,fuzzySearchKeywordsArray:M,disabled:C,bottomSheetInitialState:_}=e,L=(0,y().Ls)({clientSkill:T,key:`extension ${t}`,displayName:n,displayNameInterpolatedValues:c,analyticsName:d,validators:u,subActions:p,collapseSubActionsIntoParent:m,hideSubActions:h,fuzzySearchKeywordsArray:M,closeParentMenu:!0,disabled:C,action:()=>{},render:(t,c,d)=>(0,b.jsx)(s().m,{render:s=>{var u;const m=null===(u=e.disabled)||void 0===u?void 0:u.call(e,c);return(0,b.jsx)(a().A,{...t,disabled:m,disabledFeedback:m,renderOrigin:(e,t)=>{const n={...(0,i().A)(e,s),title:l?(0,b.jsx)(y().fh,{subTitle:l(c),children:L.displayName}):L.displayName,right:x,rightStyle:v};return g?(0,b.jsx)(r().A,{...n,svg:g,ref:t}):(0,b.jsx)(o().A,{...n,icon:S,ref:t})},onFocus:d.onFocus,renderExtension:(e,t)=>(0,b.jsx)(f,{context:c,extensionMenuParent:t,actionMenuListParent:d,popupEvents:e,displayName:n,width:k,initialFocus:I,subActions:p}),bottomSheetInitialState:_})},renderTooltip:()=>(0,b.jsx)("div",{style:y().FG,children:null==w?void 0:w({context:c,title:L.displayName})}),disableTooltip:!w||(null==A?void 0:A(c)),placement:j})});return L}},44590:(e,t,n)=>{n.d(t,{ti:()=>xe,rY:()=>Ce,rK:()=>Me});n(944114),n(898992),n(354520),n(672577),n(581454);var i=n(296540),s=()=>n(907258),o=()=>n(726637),r=()=>n(484714),a=()=>n(590526),c=()=>n(401497),l=()=>n(929219),d=()=>n(675133),u=()=>n(792057),p=()=>n(11271),m=()=>n(574359),h=()=>n(613848),g=()=>n(483226),b=()=>n(878126),f=()=>n(396896),y=()=>n(807449),S=()=>n(546926),x=()=>n(663639),v=()=>n(736847),w=()=>n(452540),A=()=>n(207207),j=()=>n(73822),k=()=>n(696706),I=()=>n(84520),T=()=>n(294712),M=()=>n(795523),C=()=>n(979340),_=()=>n(69708),L=()=>n(100622),V=()=>n(534177),F=()=>n(523337),P=()=>n(378409),O=()=>n(243020),R=()=>n(899963),B=()=>n(840153),N=()=>n(548863),z=()=>n(634596),W=()=>n(1130),E=()=>n(320460),K=()=>n(267271);const D=(0,_().YK)({joinOrCreateWorkspace:{id:"sidebarSwitcherMultiAccount.singleAccountMenu.joinOrCreateWorkspace.label",defaultMessage:"Join or create workspace"},logOut:{id:"sidebarSwitcherMultiAccount.singleAccountMenu.logOut.label",defaultMessage:"Log out"}});function G(e){return(0,K().Ls)({key:"join or create a workspace",displayName:D.joinOrCreateWorkspace,analyticsName:D.joinOrCreateWorkspace.defaultMessage,svg:F().addSquareRoundedIcon,validators:[],closeParentMenu:!0,action:({environment:t})=>{if(E().A.reset(),t.currentUser.id!==e)B().T({environment:t,newCurrentUserId:e}).then((e=>{const t=(0,N().uA)();W().createOrJoinSpace(e,t?"workspace_discovery":"space_switcher")}));else{const e=(0,N().uA)();W().createOrJoinSpace(t,e?"workspace_discovery":"space_switcher")}}})}function U(e){return(0,K().Ls)({key:"log out of a single account",displayName:D.logOut,analyticsName:D.logOut.defaultMessage,svg:P().xMarkCircleIcon,validators:[],closeParentMenu:!0,action:({environment:t})=>{const{online:n}=l().A.state;n&&(z().Yq({environment:t,userId:e,logoutOrigin:O().d.SpaceSwitcher}),R().Pz(t))}})}var q=()=>n(348942),Y=()=>n(314529);var H=()=>n(223551),$=()=>n(72234),J=()=>n(231704),Z=()=>n(187820),Q=()=>n(950332),X=()=>n(477293),ee=()=>n(271205),te=()=>n(547149),ne=()=>n(618571),ie=()=>n(644914),se=()=>n(179534),oe=()=>n(214006),re=()=>n(474722),ae=(n(908872),()=>n(383036)),ce=()=>n(148860),le=()=>n(26697),de=()=>n(302501),ue=()=>n(158115),pe=()=>n(29037),me=()=>n(471095),he=()=>n(390635),ge=()=>n(159588),be=n(474848);const fe=function({id:e,focused:t,title:s,memberCount:o,subscriptionTierLabel:a,disabled:l,isCheck:d,isRightArrow:u,icon:p,menuListItemProps:m,hideDragHandle:h,enterpriseWorkspaceAccessRestriction:g,spaceRequiredAuthStep:b,right:f}){const x=(0,r().Y0)(),[v,w]=(0,i.useState)(!1),A=(0,S().Tf)(),j=x.isTablet,k=(0,i.useCallback)((()=>w(!0)),[]),I=(0,i.useCallback)((()=>w(!1)),[]),{isMenuListFocusVisible:T}=(0,i.useContext)(n(85229).V),M=(0,c().IS)((()=>({button:{display:"flex",flexDirection:"row",width:"100%",height:x.isTablet&&A?40:32,alignItems:"center",padding:"4px 8px",gap:x.isTablet&&A?12:8,transition:"background 150ms ease",...!l&&t&&T&&{boxShadow:L().Tj.buttonBlueFocusRing},borderRadius:6},contentContainer:{display:"flex",flexDirection:"row",width:"100%",alignItems:"center",minWidth:0,gap:4,...f&&{justifyContent:"space-between"}},iconContainer:{display:"grid",justifyContent:"center",alignItems:"center"},dragHandle:{width:20,gridColumn:1,gridRow:1,opacity:v?1:0,transition:`opacity ${ge().bM}`},spaceIcon:{gridColumn:1,gridRow:1,opacity:v&&!h?0:1,transition:`opacity ${ge().bM}`},checkIcon:{marginInlineStart:"auto"},chevronRightIcon:{marginInlineStart:"auto",marginInlineEnd:6},tooltip:{display:"flex",flexDirection:"column"},tooltipCaption:{color:L().Tj.text.inverseSecondary}})),[l,t,f,T,v,h,x.isTablet,A]),C=(0,be.jsxs)("div",{style:M.tooltip,children:[a,(0,be.jsx)("div",{style:M.tooltipCaption,children:(0,be.jsx)(_().sA,{id:"sidebarSwitcherMenuItem.spaceSubscriptionTier.tooltipMessage",defaultMessage:"{memberCount, plural, one {{memberCount} member} other {{memberCount} members}}",values:{memberCount:o}})})]});if(j&&A){const t=(0,be.jsxs)("div",{style:M.iconContainer,children:[h?void 0:(0,be.jsx)(ce().t,{iconSize:"xs",wrapperStyle:M.dragHandle}),(0,be.jsx)("div",{style:M.spaceIcon,children:p})]}),i=(0,be.jsxs)(be.Fragment,{children:[(0,be.jsx)(Se,{spaceRequiredAuthStep:b,enterpriseWorkspaceAccessRestriction:g}),d?(0,be.jsx)(y().I,{icon:pe().checkmarkIcon,size:j&&A?"lg":"default"}):void 0,u?(0,be.jsx)("div",{style:M.chevronRightIcon,children:(0,be.jsx)(y().I,{icon:ue().arrowChevronSingleRightFillSmallIcon,size:"sm"})}):void 0]});return(0,be.jsx)(le().m,{renderTooltip:()=>C,disableTooltip:!a||!o,placement:"right",render:e=>(0,be.jsx)(n(81068).A,{...[m??{},e,{onMouseMove:k,onMouseLeave:I}].reduce(ae().A),focused:!1,disabled:l,icon:t,title:s,right:i??f})},`sidebarswitchermenuitem-tooltip-${e}`)}return(0,be.jsx)(le().m,{renderTooltip:()=>C,disableTooltip:!a||!o,placement:"right",render:e=>(0,be.jsxs)(n(718827).Ay,{...[m??{},e,{onMouseMove:k,onMouseLeave:I}].reduce(ae().A),hovered:v,focused:!1,disabled:l,style:M.button,children:[(0,be.jsxs)("div",{style:M.iconContainer,children:[h?void 0:(0,be.jsx)(ce().t,{iconSize:"xs",wrapperStyle:M.dragHandle}),(0,be.jsx)("div",{style:M.spaceIcon,children:p})]}),(0,be.jsxs)("div",{style:M.contentContainer,children:[(0,be.jsx)(ye,{title:s}),(0,be.jsx)(Se,{spaceRequiredAuthStep:b,enterpriseWorkspaceAccessRestriction:g}),d?(0,be.jsx)("span",{style:M.checkIcon,children:(0,be.jsx)(y().I,{icon:pe().checkmarkIcon,size:x.isTablet&&A?"lg":"default"})}):void 0,u?(0,be.jsx)(y().I,{icon:ue().arrowChevronSingleRightFillSmallIcon,size:"xxs"}):void 0,f]})]})},`sidebarswitchermenuitem-tooltip-${e}`)};function ye(e){const{title:t}=e;return(0,be.jsx)(de().A,{className:"notranslate",style:{minWidth:0},children:t})}function Se(e){const{enterpriseWorkspaceAccessRestriction:t,spaceRequiredAuthStep:n}=e,i=(0,c().IS)((()=>({iconContainer:{display:"grid",justifyContent:"center",alignItems:"center"}})),[]);return n&&"required-saml-auth"===n.type?(0,be.jsx)(le().m,{renderTooltip:()=>(0,be.jsx)(_().sA,{id:"sidebarSwitcherMenuItem.spaceAccessRestriction.tooltip",defaultMessage:"Requires SSO Sign-in"}),render:e=>(0,be.jsx)("div",{...e,style:i.iconContainer,children:(0,be.jsx)(y().I,{icon:he().shieldLockFillIcon,size:"sm",colorVariant:"secondary"})})}):t&&(0,ne().mR)(t)?(0,be.jsx)("div",{style:i.iconContainer,children:(0,be.jsx)(y().I,{icon:me().lockFillIcon,size:"sm",colorVariant:"secondary"})}):null}function xe(e){const{userId:t,isLastUser:n,shouldShowNewWorkspaceButtonInUserSpaceView:i,joinableSpacesCount:l,onSpaceClick:d,close:u,disableAccountActions:p,disableDrag:h,spaceViewStoreFilterFn:g,hideEmptySection:b}=e,f=(0,r().v3)(),y=(0,r().Y0)(),A=(0,S().Tf)(),j=(0,c().IS)((()=>({menuList:y.isPhone?{paddingTop:10}:{},bottomGap:{paddingBottom:8}})),[y.isPhone]),k=(0,a().K8)((()=>{const e=oe().A.getSpaceViewStores(f,t);return g?e.filter(g):e}),[f,t,g]),I=(0,a().K8)((()=>[...k.map((e=>(0,w().sZ)({id:e.pointer.id,spaceId:e.pointer.spaceId||""}))),"create-workspace-row"]),[k]),{currentUserRootStore:T,sidebarSpaceStore:M}=(0,a().K8)((()=>{const{currentUserRootStore:e,sidebarSpaceStore:t}=s().default.state;return{currentUserRootStore:e,sidebarSpaceStore:t}}),[]),C=(0,_().tz)(),L=(0,a().uB)(ne().zo),V=(0,a().K8)((()=>{if(!T)return[];const e=[];for(const[n,i]of k.entries()){const n=i.getSpaceStore();if(!n)continue;if(Ve(i))continue;const s=t===T.id&&n.id===(null==M?void 0:M.id),{results:o}=se().A.state,r=o.find((e=>e.spaceId===n.id)),a=(0,m().G)(f,n),c=Me({environment:f,spaceStore:n,userId:t}),{memberCount:l,subscriptionTierLabel:p}=Ce(f,C,n),g=L.getWorkspaceAccessRestrictionForSpace({userId:t,spaceId:n.id}),b=n.getSettings().required_auth_step;e.push({key:i.id,render:i=>{const{focused:o}=i;return(0,be.jsx)(fe,{id:n.id,menuListItemProps:i,focused:o,icon:(0,be.jsx)(we,{id:n.id,icon:n.getIcon(),size:y.isTablet&&A?24:20,spaceName:a,unreadMentions:t===f.currentUser.id&&r&&r.spaceId!==(null==M?void 0:M.id)&&r.unread.mentions>0?r.unread.mentions:void 0}),title:c,memberCount:l,subscriptionTierLabel:p,isCheck:s,disabled:_e(f,t),hideDragHandle:h||e.length<=1,enterpriseWorkspaceAccessRestriction:g,spaceRequiredAuthStep:b})},action:async({event:e})=>{u();const n=(0,Q().v)({userId:t,spaceViewStore:i});(0,oe().t)(i)&&n.isLoaded&&!n.isTeamGuestInSpace?Te({environment:f,spaceViewStore:i}):s||await d({event:e,spaceViewStore:i})}})}return e}),[T,k,t,null==M?void 0:M.id,f,C,h,y.isTablet,A,u,d,L]),F=h||V.length<=1,P=function({shouldShowNewWorkspaceButtonInUserSpaceView:e,joinableSpacesCount:t}){const n=(0,r().v3)(),i=(0,r().Y0)(),s=(0,N().GO)(t),o=(0,S().Tf)(),a=[];if("join_workspace_new_entrypoint"===s)a.push({key:"join-workspace",render:e=>(0,be.jsx)(je,{...e,title:(0,be.jsx)(_().sA,{id:"sidebarSwitcherMultiAccount.singleAccountMenu.userSpaceViewList.joinWorkspace.label",defaultMessage:"Join workspace"}),subtitle:(0,be.jsx)(_().sA,{id:"sidebarSwitcherMultiAccount.singleAccountMenu.userSpaceViewList.joinWorkspace.subtitle",defaultMessage:"{joinableSpacesCount, plural, one {1 workspace} other {{joinableSpacesCount} workspaces}}",values:{joinableSpacesCount:t}}),colorVariant:"primary",ignoreBlueOverrides:!0,usePlusIcon:!1}),action:()=>{ke({environment:n,source:"workspace_discovery_switcher"})}});else if("add_workspace_existing_entrypoint"===s)return[{key:"add-workspace-section",render:e=>(0,be.jsx)(v().A,{...e,disableMobilePadding:!(i.isTablet&&o),style:{paddingTop:0}}),items:[{key:"add-workspace",render:e=>(0,be.jsx)(je,{...e,title:(0,be.jsx)(_().sA,{id:"sidebarSwitcherMultiAccount.singleAccountMenu.userSpaceViewList.addWorkspace.label",defaultMessage:"Add workspace"}),usePlusIcon:!0}),action:()=>{ke({environment:n,source:"workspace_discovery_switcher"})}}]}];(e||"new_workspace_existing_entrypoint"===s)&&a.push({key:"new-workspace",render:e=>(0,be.jsx)(je,{...e,title:(0,be.jsx)(_().sA,{id:"sidebarSwitcherMultiAccount.singleAccountMenu.userSpaceViewList.newWorkspace.label",defaultMessage:"New workspace"}),usePlusIcon:!0}),action:()=>{"new_workspace_existing_entrypoint"===s?ke({environment:n,source:"workspace_discovery_switcher"}):(ke({environment:n,source:"sidebar_switcher"}),function(e){(0,Y().DO_NOT_USE_trackLegacy)(e,"quick_workspace_creation_click")}(n))}});return a.length>0?[{key:"join-and-new-workspace-section",render:e=>(0,be.jsx)(v().A,{...e,disableMobilePadding:!(i.isTablet&&o),style:{paddingTop:0}}),items:a}]:void 0}({shouldShowNewWorkspaceButtonInUserSpaceView:i,joinableSpacesCount:l}),O=0===V.length?[]:[{key:"spaces",render:e=>(0,be.jsx)(v().A,{...e,disableMobilePadding:!(y.isTablet&&A),topBorder:y.isPhone,children:o().A.isMobile?e.children:(0,be.jsx)(ee().Ay,{direction:"vertical",keys:I,renderKey:t=>e.children[I.indexOf(t)],onDrop:Le({userId:t,environment:f,appendSpaceViewStores:void 0}),style:{marginBottom:1},disabled:F}),style:i?{paddingBottom:0}:void 0}),items:V},...V.length>0&&P?P:[]],R=0===V.length;return b&&!k.length?null:(0,be.jsxs)("div",{style:R&&n?j.bottomGap:{},children:[(0,be.jsx)(ve,{userId:t,disableAccountActions:p}),O.length>0?(0,be.jsx)("div",{style:j.menuList,children:(0,be.jsx)(x().A,{type:x().O.Vertical,sections:O,initialFocus:void 0,captureKeyboardOnlyWhenFocused:!0})}):null]},t)}function ve(e){const{userId:t,disableAccountActions:n=!1}=e,i=(0,a().O$)(l().e),s=(0,r().v3)(),o=(0,a().K8)((()=>oe().A.getUserEmailAddress(s,t)),[s,t]);if(!o)return null;const c=n?[]:[G(t),U(t)];return(0,be.jsx)(re().A,{emailAddress:o,userId:t,disabled:!i||n,accountActions:c,source:"userSpaceViewList"})}function we({id:e,icon:t,size:n,spaceName:i,unreadMentions:s}){return(0,be.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,be.jsxs)("div",{style:{position:"relative"},children:[e?(0,be.jsx)(Z().B6,{disabled:!0,icon:t,isEmptyPage:!1,title:i,size:n,isLarge:!0,iconRecordCategory:"workspace"}):void 0,s?(0,be.jsx)(Ae,{}):void 0]})})}function Ae(){const e=(0,c().IS)((()=>({unreadBadge:{backgroundColor:L().Tj.red.icon.accentPrimary,position:"absolute",top:-3,insetInlineEnd:-4,width:8,height:8,borderRadius:4,border:`1px solid ${L().Tj.background.secondary}`}})),[]);return(0,be.jsx)("div",{style:e.unreadBadge})}function je(e){const{title:t,colorVariant:n="secondary",ignoreBlueOverrides:i,usePlusIcon:s,...o}=e,a=(0,r().Y0)(),l=(0,X().r)("improve_new_workspace_cta_in_account_switcher"),d=!i&&("blue_text"===l||"blue_text_and_multi_cta"===l),u=(0,S().Tf)(),p=function(e){const{isTabletDesign:t,colorVariant:n,iconSize:i}=e,s="blue"===n;return(0,c().IS)((()=>({iconContainer:{display:"grid",justifyContent:"center",alignItems:"center",width:t?24:20,height:t?24:20},icon:{fill:s?L().Tj.blue.text.accentPrimary:L().Tj.icon.secondary,width:t?16:i,height:t?16:i},label:{color:"blue"===n?L().Tj.blue.text.accentPrimary:"primary"===n?L().Tj.text.primary:L().Tj.text.secondary}})),[s,n,t,i])}({isTabletDesign:a.isTablet&&u,colorVariant:d?"blue":n,iconSize:s?16:14});let m;return m=s?(0,be.jsx)(y().I,{icon:j().plusFillIcon,size:"sm",style:p.icon}):(0,be.jsx)(y().I,{icon:A().magnifyingGlassIcon,size:"default",style:p.icon}),(0,be.jsx)(fe,{id:(new Date).toString(),focused:!1,title:(0,be.jsx)("div",{style:p.label,children:t}),menuListItemProps:o,hideDragHandle:!0,icon:(0,be.jsx)("div",{style:p.iconContainer,children:m})})}function ke(e){const{environment:t,source:n}=e;E().A.reset(),W().createOrJoinSpace(t,n)}const Ie=(0,_().YK)({noAccessAsGuest:{defaultMessage:"You no longer have access to this workspace.",id:"UserSpaceViewList.noAccessAsGuest.label"}});function Te({environment:e,spaceViewStore:t}){u().rG({message:d().A.formatMessage(Ie.noAccessAsGuest),onAccept:()=>{$().kg({environment:e,spaceViewStore:t})}})}function Me(e){const{environment:t,spaceStore:n,userId:i}=e,s=(0,m().G)(t,n),o=h().A.getData(t,{spaceId:n.id,userId:i});return o&&"none"===o.role?(0,be.jsxs)(f().fI,{alignItems:"center",gap:8,children:[(0,be.jsx)("span",{style:{flexShrink:1,textOverflow:"ellipsis",overflow:"hidden"},children:s}),(0,be.jsx)(J().w,{labelType:"guest"})]}):s}function Ce(e,t,n){const i=h().A.getData(e,{spaceId:n.id,userId:e.currentUser.id});if(!i||"page_guest"===i.membershipType||"none"===i.membershipType)return{subtitle:void 0,subscriptionTier:void 0,memberCount:void 0};if("restricted_member"===i.membershipType||"member"===i.membershipType||"membership_admin"===i.membershipType||"owner"===i.membershipType){const s=b().T.getData(e,{spaceId:n.id}),o=(0,M().TB)(s),r=(0,M().AI)(s),a=(0,g().kg)({subscriptionTier:r,currentSubscriptionTier:r,salesStatus:(0,M().N8)(s)?"sales_assisted":"self_serve"}),c=(0,C().bQ)({tier:a,intl:t,isTrialing:o}),l=t.formatNumber(i.memberCount);return{subtitle:"restricted_member"===i.membershipType?t.formatMessage(ie().EN.workspaceSubtitleWithoutMembers,{planType:c}):t.formatMessage(ie().EN.workspaceSubtitleWithMembers,{numberOfWorkspaceMembers:l,planType:c}),subscriptionTierLabel:c,memberCount:"restricted_member"===i.membershipType?void 0:l}}(0,V().HB)(i.membershipType)}function _e(e,t){const{online:n}=l().A.state;return!n&&e.currentUser.id!==t}function Le(e){const{userId:t,environment:n,prependSpaceViewStores:i,appendSpaceViewStores:s}=e;return function(e){const o=[...i?i.map((e=>e.pointer)):[],...e.filter((e=>"create-workspace-row"!==e&&"guest-workspaces"!==e&&"external-pages"!==e&&"your-workspace"!==e)).map((e=>k().L3.fromSpaceShardRecordId((0,w().gK)(e),I().mu))),...s?s.map((e=>e.pointer)):[]],r=new(p().d)(n,{table:T().GD,id:t},{userId:t});te().createAndCommit({userAction:"SidebarSwitcherMultiAccount.handleDraggableListDrop",environment:n,canUndo:!0,perform:e=>{(0,H().M)({userRootStore:r,transaction:e,spaceViewIds:o.map((e=>e.id)),spaceViewPointers:o})},userId:t}),(0,q().p)(n,{workspace_count:e.length})}}function Ve(e){return e.getPublicShareLinkPages().length>0&&!e.getJoined()}},223551:(e,t,n)=>{n.d(t,{M:()=>s});var i=()=>n(384944);function s(e){const{userRootStore:t,spaceViewIds:n,transaction:s,spaceViewPointers:o}=e;i().zv({store:t,data:{space_views:n,space_view_pointers:o},transaction:s})}},231536:(e,t,n)=>{n.d(t,{Y:()=>r,G:()=>o});var i=()=>n(534177);const s={clipboardActions:n(884107).R.clipboardActions,duplicationActions:n(855801).VI.duplicateActions,formulasModule:n(862292).T.formulas,markdownLinkifyIt:n(659602).g,tinyMceMicrosoftWordPasteFilter:n(335722).S};function o(...e){for(const t of e)s[t].load()}function r(e){const t=s[e].getLoadingState();if("idle"===t.status)o(e);else if("pending"===t.status||"rejected"===t.status);else{if("resolved"===t.status)return t.value;(0,i().HB)(t)}}},231704:(e,t,n)=>{n.d(t,{p:()=>p,w:()=>u});n(296540);var i=()=>n(590526),s=()=>n(74351),o=()=>n(970236),r=()=>n(109100),a=()=>n(468006),c=()=>n(69708),l=()=>n(47373),d=n(474848);function u(e){const{labelType:t}=e,n="invited"===t,s=(0,i().K8)((()=>"invited"===t?r().S.invitedLabel:(0,l().Qd)()?"team_level_guest"===t?r().S.teamGuestLabel:r().S.pageGuestLabel:r().S.guestLabel),[t]);return(0,d.jsx)(o().E,{content:(0,d.jsx)(c().sA,{...s}),color:n?"gray":"yellow"})}function p(e){const{store:t,userId:n,spaceUserStore:i}=e,o=(0,s().U)(t),r=null==o?void 0:o.getModel();if(r){if((0,a().CG)({team:r,userId:n}))return"team_level_guest"}if(i&&i.isPageGuest())return"page_guest"}},348942:(e,t,n)=>{n.d(t,{p:()=>s});var i=()=>n(314529);function s(e,t){(0,i().DO_NOT_USE_trackLegacy)(e,"reorder_workspaces",t)}},390635:(e,t,n)=>{n.r(t),n.d(t,{iconDefinition:()=>s,shieldLockFillIcon:()=>o});n(296540);var i=n(474848);const s={viewBox:"0 0 20 20",fittedViewBox:"3.07 2.17 13.85 15.65",svg:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("path",{d:"M10 10.453a.756.756 0 1 1 0 1.513.756.756 0 0 1 0-1.513m0-3.622a.9.9 0 0 1 .9.9v1.01H9.1V7.73a.9.9 0 0 1 .9-.9"}),(0,i.jsx)("path",{d:"M9.788 2.212a.63.63 0 0 1 .491.03l1.89.944a7.5 7.5 0 0 0 3.344.789h.787c.345 0 .625.28.625.625v6.933a5.13 5.13 0 0 1-3.106 4.71l-3.573 1.532a.63.63 0 0 1-.492 0l-3.572-1.532a5.13 5.13 0 0 1-3.107-4.71V4.6c0-.345.28-.625.625-.625h.788c1.16 0 2.305-.27 3.343-.79l1.89-.944zM10 5.607a2.125 2.125 0 0 0-2.125 2.125v1.093c-.525.194-.9.698-.9 1.29v2.291c0 .76.616 1.375 1.375 1.375h3.3c.759 0 1.374-.615 1.374-1.375v-2.29c0-.593-.375-1.097-.9-1.29V7.731c0-1.174-.95-2.125-2.124-2.125"})]})},o=(0,n(340498).wt)("shieldLockFill",s,"fill")},474722:(e,t,n)=>{n.d(t,{A:()=>d});n(296540);var i=()=>n(726637),s=()=>n(484714),o=()=>n(250910),r=()=>n(546926),a=()=>n(100622),c=()=>n(284371),l=n(474848);const d=function({emailAddress:e,userId:t,disabled:d,accountActions:u,prefix:p,source:m}){const h=(0,s().v3)(),g=(0,s().Y0)(),b=(0,n(590526).uB)(void 0,n(118307).A),f=(0,r().Tf)(),y=(0,n(792485).S)();let S;S=i().A.isMobile?{menuType:r().gu.Modal,enableMobileRefresh:g.isTablet}:{menuType:r().gu.Popup};const x=(0,n(401497).IS)((()=>({container:{height:i().A.isMobile?24:20,marginTop:p?1:i().A.isMobile?20:8,marginInlineStart:12,marginInlineEnd:12,display:"flex",alignItems:"center",justifyContent:"space-between",color:a().Tj.text.secondary,transition:"opacity 150ms ease",paddingInlineStart:g.isTablet&&f?16:void 0,paddingInlineEnd:g.isTablet&&f?16:void 0},text:{fontSize:n(115512).Kw,lineHeight:c().K_.UISmall.desktop,fontWeight:c().Wy.medium,marginInlineEnd:6},button:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:i().A.isMobile?24:20,height:i().A.isMobile?24:20,borderRadius:4},prefix:{textAlign:"end",height:i().A.isMobile?16:18,marginTop:i().A.isMobile?8:4,marginInlineStart:12,marginInlineEnd:18,color:a().Tj.text.secondary,transition:"opacity 150ms ease"}})),[p,g.isTablet,f]);return(0,l.jsxs)(l.Fragment,{children:[p?(0,l.jsx)("div",{style:x.prefix,children:p}):void 0,(0,l.jsxs)("div",{style:x.container,children:[(0,l.jsx)(n(404905).j,{style:x.text,children:e}),(0,l.jsx)(o().A,{popupType:(()=>{switch(!0){case g.isTablet:return o().z.BottomSheet;case i().A.isMobile:return o().z.SlideUp;default:return o().z.Popup}})(),bottomSheetInitialState:g.isTablet?"half":void 0,buttonPopupStore:b,renderOrigin:e=>{if(!d)return(0,l.jsx)(n(718827).Ay,{...e,style:x.button,children:(0,l.jsx)(n(807449).I,{icon:n(126617).ellipsisSmallIcon,size:i().A.isMobile?"default":"sm"})})},render:()=>(0,l.jsx)(n(890492).A,{...S,children:(0,l.jsx)(n(636714).A,{sections:[{key:"option section",render:e=>(0,l.jsx)(n(736847).A,{...e}),actions:u}],context:{environment:h,blocks:[],publicEditMode:void 0,pageContext:y}})})})]})]})}},523337:(e,t,n)=>{n.r(t),n.d(t,{addSquareRoundedIcon:()=>o,iconDefinition:()=>s});n(296540);var i=n(474848);const s={viewBox:"0 0 20 20",fittedViewBox:"3.12 3.12 13.75 13.75",svg:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("path",{d:"M10 6.375c.345 0 .625.28.625.625v2.375H13a.625.625 0 1 1 0 1.25h-2.375V13a.625.625 0 1 1-1.25 0v-2.375H7a.625.625 0 1 1 0-1.25h2.375V7c0-.345.28-.625.625-.625"}),(0,i.jsx)("path",{d:"M3.125 5.25c0-1.174.951-2.125 2.125-2.125h9.5c1.174 0 2.125.951 2.125 2.125v9.5a2.125 2.125 0 0 1-2.125 2.125h-9.5a2.125 2.125 0 0 1-2.125-2.125zm2.125-.875a.875.875 0 0 0-.875.875v9.5c0 .483.392.875.875.875h9.5a.875.875 0 0 0 .875-.875v-9.5a.875.875 0 0 0-.875-.875z"})]})},o=(0,n(340498).wt)("addSquareRounded",s,"default")},636714:(e,t,n)=>{n.d(t,{A:()=>v});n(898992),n(354520),n(581454);var i=n(296540),s=()=>n(590526),o=()=>n(182412),r=()=>n(683021),a=()=>n(498521),c=()=>n(449279),l=()=>n(663639),d=()=>n(922931),u=()=>n(535393),p=()=>n(736847),m=()=>n(452004),h=()=>n(69708),g=()=>n(231536),b=()=>n(671894),f=n(474848);const y=25,S=200,x=n(757695).Store.createClass(y,{name:"limitStore"});function v({topBorder:e,context:t,onAccept:n,onFocus:v,empty:w,keyboardPriority:A,disableKeyboard:j,initialFocus:k,onEmptyEnter:I,comboboxProps:T,useLimit:M,onFilteredSectionsChange:C,filter:_,sections:L,menuListStore:V,resetInitialFocusOnSectionChangeAlways:F,resetFocusOnMouseOut:P,role:O,showNoResultsMessage:R,onFooterEnter:B,filterSections:N,flattenSectionsOnSearch:z,renderItemStyles:W,shouldShowBlockTypeTitle:E}){const K=(0,s().uB)(void 0,x),D=(0,s().uB)(V,m().$),[G,U,q]=(0,s().K8)((()=>{let e=0;const n=(0,b().js)({sections:_&&N?N:L,context:t,query:_||"",shouldShowBlockTypeTitle:E});for(const t of n)e+=t.actions.length;return[M?(0,b().Le)(n,K.state):n,e,n]}),[L,t,_,M,K,N,E]);(0,i.useEffect)((()=>{r().Ay.state.open&&r().rA.setState(0===q.length)}),[q]),(0,i.useEffect)((()=>{null==C||C(G)}),[C,G]);const Y=(0,i.useRef)(_),H=(0,i.useCallback)((e=>{e<S&&K.state<U&&K.setState(K.state+y)}),[K,U]),$=Boolean(z&&_),J=(0,i.useMemo)((()=>{const e=new Map;for(const t of q)if(t.key!==o().IZ)for(const n of t.actions)e.set(n.key,t.title);return e}),[q]),{menuItemActionMap:Z,menuItemSectionKeyMap:Q,menuListSections:X}=(0,i.useMemo)((()=>{const i=new Map,s=new Map,r=G.map((r=>{const a=r.key.toString();return{key:r.key,render:t=>r.render({...t,topBorder:!$&&(0!==t.index||Boolean(e)),title:r.title,hideTitle:$}),items:r.actions.map((e=>{e.lazyDependencyKeys&&(0,g().G)(...e.lazyDependencyKeys);const c={key:e.key,render:(i,s)=>{const c=r.key===o().IZ?J.get(e.key):r.title,l=$||r.key===o().IZ;return e.render(i,t,{onAccept:(e,t,i)=>{null==n||n(e,t,i,a)},onFocus:s.onFocus,sectionTitle:c,extendItemTitle:l,styles:W})},action:({event:n})=>{e.action(t,n)}};return i.set(c,e),s.set(c,a),c}))}}));return{menuItemActionMap:i,menuItemSectionKeyMap:s,menuListSections:r}}),[G,$,e,J,t,W,n]);(0,i.useEffect)((()=>{if(_!==Y.current&&0===k){Y.current=_;if(Boolean(B)&&0===u().i2(X))return d().rd({store:D});D.setState({...D.state,focus:{section:0,indexLocal:0,indexGlobal:0,footerFocused:!1}})}}),[_,k,X,D,B]);const ee=(0,i.useCallback)(((e,i)=>{if(n){const o=Z.get(e),r=Q.get(e);if(o){var s;if(null!==(s=o.isDisabled)&&void 0!==s&&s.call(o,t))return;n(o,t,i.event,r,i.index)}}}),[n,t,Z,Q]),te=(0,i.useCallback)((e=>{let n;var i;(e.indexLocal&&(n=u().SG(e.indexLocal,X)),e.indexGlobal)&&(n=null===(i=u().e7(e.indexGlobal,X))||void 0===i?void 0:i.item);if(!n)return;const s=Z.get(n),o=Q.get(n);s&&(null==v||v(s,t,o))}),[Z,Q,v,X,t]);return(0,f.jsxs)(f.Fragment,{children:[Boolean(R)&&0===G.length?(0,f.jsx)(p().A,{children:(0,f.jsx)(c().u,{title:w||(0,f.jsx)(h().sA,{id:"action.search.noResults",defaultMessage:"No results"})})}):void 0,(0,f.jsx)(l().A,{type:l().O.Vertical,role:O,priority:A,store:D,disableKeyboard:j,sections:X,initialFocus:k,onEmptyEnter:I,onAccept:ee,onFocus:te,comboboxProps:T,resetInitialFocusOnSectionChangeAlways:F,resetFocusOnMouseOut:P,onFooterEnter:B}),M?(0,f.jsx)(a().A,{onChange:H}):void 0]})}},671894:(e,t,n)=>{n.d(t,{hS:()=>x,o2:()=>v,js:()=>y,Le:()=>S,F6:()=>w});n(944114),n(517642),n(658004),n(733853),n(845876),n(432475),n(515024),n(731698),n(898992),n(823215),n(354520),n(581454);var i=()=>n(675133),s=()=>n(69708),o=()=>n(778078),r=()=>n(496603),a=(n(296540),()=>n(736847)),c=()=>n(589407),l=()=>n(12956),d=n(474848);const u=(0,s().YK)({moreOptions:{id:"action.moreOptions",defaultMessage:"More options"}});var p=()=>n(431404),m=()=>n(680288),h=()=>n(129522);const g=25,b=5,f=(0,s().YK)({mixedBlocks:{id:"actionMenuHelpers.mixedBlocks.title",defaultMessage:"{count, plural, one {{count} block} other {{count} blocks}}"}});function y(e){const t=i().A.getIntl(),{sections:n,context:s,query:y,shouldShowBlockTypeTitle:S}=e;let x=y.trim().toLowerCase();x.startsWith("/")&&(x=x.slice(1));const A=v(n,s).map(((e,n)=>{let{actions:i,title:o}=e;const r=i.length-b;if(e.shouldShowMoreOptions&&r>1){const e=function(e){return(0,l().u)({key:"more options",displayName:u.moreOptions,analyticsName:u.moreOptions.defaultMessage,svg:c().ellipsisIcon,validators:[],subActions:()=>[{key:0,title:void 0,render:e=>(0,d.jsx)(a().A,{...e}),actions:e}]})}(i.slice(b));i=[...i.slice(0,b),e]}const g=s.blocks[0];if(g){const e=g.getType();if(S&&e&&0===n){const n=s.blocks.every((t=>t.getType()===e))?(0,p().Z)(e):f.mixedBlocks;if(n){var y;o=t.formatMessage(n,{count:s.blocks.length});const e=null===(y=h().K.findCollectionViewBlockFromStore(g))||void 0===y?void 0:y.collectionContextStore.getViewType();if(e){const t=m().to[e];t&&(o+=` Â· ${t}`)}}}}return{...e,actions:i,title:o}}));if(!x)return A;const j=function(e){return e.map((e=>({...e,actions:e.actions.map((t=>{const n=t.searchName||t.displayName||"",i=[n,e.searchTitle||e.title||"",n].join(" ");return{...t,searchName:i}}))})))}(function(e,t){const n=[];for(const i of e){const e={...i,actions:[]};for(const s of i.actions)if(w(s,t))if(s.subActions){const o=v(s.subActions(t),t);if(s.hideSubActions){e.actions.push(s);continue}if(s.collapseSubActionsIntoParent){for(const t of o)for(const n of t.actions)e.actions.push(n);continue}const r=o.map((e=>({...e,key:`${i.key} ${s.key} ${e.key}`,title:e.title||s.displayName,searchTitle:[s.searchName||s.displayName,e.searchTitle||e.title].filter(Boolean).join(" ")})));for(const e of r)n.push(e)}else e.actions.push(s);e.actions.length&&n.push(e)}return n}(n,s)),k=[],I=new Map;for(const i of j)for(const e of i.actions)I.set(e,i),k.push(e);const T=(0,o().Ay)(x,k,(e=>e.searchName||""),{minScore:g,getSortScore:e=>-e.score*(e.original.sortScoreMultiplier??1)}),M=new Set(T),C=k.filter((e=>Boolean(e.alwaysShowInSearch)&&!M.has(e))),_=C.filter((e=>"start"===e.alwaysShowInSearch)),L=C.filter((e=>"end"===e.alwaysShowInSearch)),V=r().$z([..._,...T,...L],(e=>{const t=I.get(e);if(t)return t.title})),F=[];for(const i of Object.keys(V)){const e=V[i],t=I.get(e[0]);t&&F.push({...t,actions:e})}return F}function S(e,t){if(!t)return e;let n=0;const i=[];for(const s of e){if(n>=t)break;const e=s.actions.slice(0,t-n);e.length>0&&(n+=e.length,i.push({...s,actions:e}))}return i}function x(e,t){const n=[];for(const i of e){const e=i.actions.filter(t);e.length>0&&n.push({...i,actions:e})}return n}function v(e,t){return x(e,(e=>w(e,t)))}function w(e,t){if(e.validators){return e.validators.every((e=>e(t)))}return!0}}}]);