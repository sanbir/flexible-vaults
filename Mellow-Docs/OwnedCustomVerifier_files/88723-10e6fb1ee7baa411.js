"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[88723],{258035:(e,t,n)=>{n.d(t,{CO:()=>te,HL:()=>M,L5:()=>P,Pl:()=>re,ph:()=>k});n(944114),n(517642),n(658004),n(733853),n(845876),n(432475),n(515024),n(731698),n(898992),n(823215),n(354520),n(672577),n(430670),n(803949),n(581454),n(908872),n(737550);var o=()=>n(496603),r=()=>n(534177),a=()=>n(720665),s=()=>n(700500),l=()=>n(356246),i=()=>n(898244),c=()=>n(713998),p=()=>n(175482),d=()=>n(498140),m=()=>n(651124),u=()=>n(165358),h=()=>n(384813),f=()=>n(416845),y=()=>n(997769),g=()=>n(792071),v=()=>n(72135),I=()=>n(134025),C=()=>n(179034),b=()=>n(519831),S=()=>n(869558),x=()=>n(201980);const _="PartialMatch",T="FullMatch",w="ColumnCategory",D=(0,n(69708).YK)({titleColumnName:{id:"database.titleColumn.name",defaultMessage:"Title"},genericColumnName:{id:"database.genericColumn.name",defaultMessage:"Column {columnNumber}"}});function k(e){const{table:t,deps:{intl:n,randomShortID:r,isPhoneNumber:a},options:{useCsvAdaptiveSchema:l,addHeadersToCollectionEnabled:c}}=e,d=function(e,t,n,r,a=!1,s,l,i){var c;e=e.filter((e=>e.some((e=>Boolean((e.text||"").trim())))));const p=e.length>0?e[0].length:0,d=e.map(((e,t)=>({row:e,rowIndex:t}))).filter((({row:e})=>e.length!==p));if(d.length>0){const e=d[0];throw new(f().yI4)("CsvImportError",{data:{},clientData:{type:"csv_import_inconsistent_columns",messageValues:{numTitleColumns:p,numBadRows:d.length,firstBadRowIndex:e.rowIndex+1,firstBadRow:JSON.stringify(e.row.map((e=>e.text))),firstBadRowLength:e.row.length}}})}const m=null===(c=e[0])||void 0===c?void 0:c.length;null==s||s.set(w,function(e){return e<50?"lessthan50":e<100?"lessthan100":e<500?"lessthan500":e<1e3?"lessthan1000":e<5e3?"lessthan5000":"greaterthan5000"}(m));const u=null==l?void 0:l.columnHeaders,h=void 0!==u&&u.length>0;let y=[];h?(y=u.flatMap((e=>e.doNotImport?[]:[e.headerName])),null!=l&&l.useFirstRowAsHeaders&&e.shift()):1===e.length||i?y=e[0].map(((e,n)=>t.formatMessage(D.genericColumnName,{columnNumber:n+1}))):e.length>1&&(y=e[0].map((e=>e.text)),e.shift());const g=e,{types:v,schema:I,pages:C}=h&&u?function(e){const{body:t,intl:n,randomShortID:r,headerTitles:a,headersMetadata:s,isPreTypedCSV:l,csvEvalContext:i}=e,c=performance.now(),{types:p,notToImportColumnIndex:d}=function(e){const{intl:t,columns:n,randomShortID:r}=e,a=[],s=n.flatMap(((e,n)=>{if(e.doNotImport)return a.push(n),[];let s=o().D_;"checkbox"===e.propertyType?s=e=>O(e):"number"===e.propertyType?s=e=>L(e):"date"===e.propertyType&&"format"in e?s=n=>q(n,t,e.format):"date"===e.propertyType&&(s=e=>q(e,t));return[{id:"title"===e.propertyType?"title":r(),schema:{name:e.headerName,type:e.propertyType},coerce:s}]}));return{types:s,notToImportColumnIndex:a}}({intl:n,columns:s,randomShortID:r}),m=performance.now()-c;null==i||i.set("columnTypeInferenceTimeTakenMS",m);const{pages:u,selectPropertyOptions:h}=N({body:t,types:p,isPreTypedCSV:l,notToImportColumnIndex:d});if(h)for(const o of p)!h[o.id]||"select"!==o.schema.type&&"multi_select"!==o.schema.type||(o.schema.options=V({randomShortID:r,optionValues:h[o.id],propertyType:o.schema.type}));const{schema:f}=B({body:t,intl:n,randomShortID:r,headers:a,types:p,isPreTypedCSV:l});return{types:p,schema:f,pages:u}}({body:g,intl:t,randomShortID:n,headerTitles:y,headersMetadata:u,isPreTypedCSV:h,csvEvalContext:s}):function(e){const{body:t,intl:n,randomShortID:o,isPhoneNumber:r,useCsvAdaptiveSchema:a,headers:s,isPreTypedCSV:l,csvEvalContext:i}=e,c=performance.now(),{types:p}=M({body:t,intl:n,randomShortID:o,isPhoneNumber:r,useCsvAdaptiveSchema:a,csvEvalContext:i}),d=performance.now()-c;null==i||i.set("columnTypeInferenceTimeTakenMS",d);const{schema:m}=B({body:t,intl:n,randomShortID:o,headers:s,types:p,isPreTypedCSV:l}),{pages:u}=N({body:t,types:p,isPreTypedCSV:l});return{types:p,schema:m,pages:u}}({body:g,intl:t,randomShortID:n,isPhoneNumber:r,useCsvAdaptiveSchema:a,headers:y,isPreTypedCSV:h,csvEvalContext:s});return{schema:I,types:v,pages:C}}(t,n,r,a,l,e.csvEvalContext,e.metadata,c);return function(e){const{actor:t,blockType:n,root:r,parent:a,name:l,format:c,deps:{randomID:d,spaceIdCreator:u,addFileIdsToBlock:f,createCollectionAsyncWithStatusLabel:y},options:{ignoreBlockCount:v,legacyNonCrdt:_},pages:T,schema:w,columnIds:D}=e,k=e.collectionId??(null==u?void 0:u.idInSavedSpace(b().Vl))??d(),P=e.collectionViewId??(null==u?void 0:u.idInSavedSpace(S().Gy))??d(),M=[],B=[],N=[],{operations:V}=g().WBy.create({id:k,parent:r.existing?r.record.pointer:{id:r.id,table:C().ev,spaceId:a.spaceId},space_id:a.spaceId,name:x().x9d(l),schema:w,format:{collection_page_properties:o().oE(D.map((e=>{if(e)return{visible:!0,property:e}}))),...y&&{sync_state:{syncing:!0,last_synced_at:Date.now()},static_import_collection_type:m().IE.CsvImport}},createdBy:t});M.push(...V);const E={id:r.existing?r.record.id:r.id,type:n,collection_id:k,format:{collection_pointer:{table:b().Vl,id:k,spaceId:a.spaceId}},view_ids:[P],createdBy:t,parentPointer:a,space_id:a.spaceId},{createOrUpdateBlockOperations:F}=p().Rf({blockModelArgs:E,existingBlock:r.existing?r.record:void 0,legacyNonCrdt:_});if(M.push(...F),y){const{operations:e}=g().lqf.create({id:P,type:"table",name:"Show All",parent:r.existing?r.record.pointer:{id:r.id,table:C().ev,spaceId:a.spaceId},space_id:a.spaceId,format:{collection_pointer:(0,i().Z8)({collectionId:k,spaceId:a.spaceId}),table_properties:o().oE(D.map((e=>{if(e)return{visible:!0,property:e}}))),...c},createdBy:t});M.push(...e)}const A=function(e){const{actor:t,collectionId:n,spaceId:o,pages:r,randomID:a,spaceIdCreator:l,options:i}=e;return r.map((r=>{const c=(null==l?void 0:l.idInSavedSpace(C().ev))??a(),{model:p,operations:d}=g().zgg.create({id:c,parentPointer:{id:n,table:b().Vl,spaceId:o},space_id:o,type:s().xd.page,createdBy:t,properties:r,...i.ignoreBlockCount?{ignore_block_count:!0}:void 0}),m=[...d];if(e.addFileIdsToBlock){const e=(0,h().c)(p,"","").fileIds;e.length>0&&m.push(I().op.update({pointer:p.pointer,path:[],args:{file_ids:e.map((e=>e.id))}}))}return{id:c,operations:m}}))}({actor:t,collectionId:k,addFileIdsToBlock:f,spaceId:a.spaceId,pages:T,randomID:d,spaceIdCreator:u,options:{ignoreBlockCount:v}});for(const{operations:o}of A)B.push(...o);const{operations:R}=g().lqf.create({id:P,type:"table",name:"Show All",parent:r.existing?r.record.pointer:{id:r.id,table:C().ev,spaceId:a.spaceId},space_id:a.spaceId,format:{collection_pointer:(0,i().Z8)({collectionId:k,spaceId:a.spaceId}),table_properties:o().oE(D.map((e=>{if(e)return{visible:!0,property:e}}))),...c},page_sort:A.map((e=>e.id)).slice(0,i().WF),createdBy:t});if(B.push(...R),y){const e={table:b().Vl,id:k,spaceId:a.spaceId},t=I().op.update({pointer:e,path:["format","sync_state"],args:{syncing:!1,last_synced_at:Date.now()}});return N.push(t),{operations:B,createCollectionOperations:M,collectionFinishedOperations:N}}return{operations:[...M,...B]}}({...d,columnIds:d.types.map((e=>e.id)),...e})}function P(e){const{table:t,actor:n,parent:o,tableId:a,deps:{randomID:l,spaceIdCreator:i,randomShortID:c},options:{legacyNonCrdt:p,ignoreBlockCount:d,hasHeaderRow:m,hasHeaderColumn:u}}=e,h=[],f=t.length?t[0].map((e=>c())):[],y=t.map((e=>(null==i?void 0:i.idInSavedSpace(C().ev))??l()));h.push(...g().zgg.create({id:a,type:s().xd.table,content:y,format:{table_block_column_order:f,...m?{table_block_column_header:!0}:{},...u?{table_block_row_header:!0}:{}},properties:{},parentPointer:o,space_id:o.spaceId,createdBy:n,ignore_block_count:!!d||void 0,legacyNonCrdt:p}).operations);const v=y.flatMap(((e,l)=>{const i=(0,r().MU)(f.flatMap(((e,n)=>{var o;const r=null===(o=t[l])||void 0===o||null===(o=o[n])||void 0===o?void 0:o.textValue;return r?[[e,r]]:[]})));return g().zgg.create({id:e,type:s().xd.tableRow,parentPointer:{id:a,table:C().ev,spaceId:o.spaceId},space_id:o.spaceId,properties:i,createdBy:n,legacyNonCrdt:p}).operations}));return h.push(...v),{operations:h}}function M(e){const{body:t,intl:n,randomShortID:r,isPhoneNumber:s,useCsvAdaptiveSchema:l,csvEvalContext:i}=e,c=function(e){return[{test:G.bind(null,e),sampledSchemaIsComplete:!0},{test:W,sampledSchemaIsComplete:!0},{test:Z,sampledSchemaIsComplete:!0},{test:$,sampledSchemaIsComplete:!0},{test:K,sampledSchemaIsComplete:!0},{test:H,sampledSchemaIsComplete:!1},{test:Y,sampledSchemaIsComplete:!1},{test:X,sampledSchemaIsComplete:!1},{test:ee,sampledSchemaIsComplete:!0}]}(s),p=o().oE(o().$1(t).map((e=>e.length&&e[0].columnType?e[0].columnType:function(e,t,n,r,s,l){const i=t.filter((e=>Boolean(e)));if(0===i.length)return ee(e,i);if(s){const o=i.length>1e3?function(e,t){const n=e.length,o=[];for(let r=0;r<t;r++){const t=Math.floor(Math.random()*n);o.push(e[t])}return o}(i,1e3):i;for(const s of r){const r=s.test(e,o,n);if(r){let n=r;if(!1===r.isFullMatch){u().log({level:"info",from:"csvHelper",type:"csvColumnTypes",data:{message:"Partial column type match detected, setting data type as string",columnType:r.schema.type,matchType:"Partial"}}),n=ee(e,t);const o=(null==l?void 0:l.get(_))||0;(0,a().Et)(o)&&(null==l||l.set(_,o+1))}else u().log({level:"info",from:"csvHelper",type:"csvColumnTypes",data:{message:"Complete column type match detected",columnType:r.schema.type,matchType:"Full"}});const o=(null==l?void 0:l.get(T))||0;return(0,a().Et)(o)&&(null==l||l.set(T,o+1)),n}}}else{const t=i.filter((e=>!o().Im(e))).slice(0,100);for(const o of r){const r=o.test(e,t,n);if(r){const s=o.sampledSchemaIsComplete||t.length===i.length?r:o.test(e,i,n);if(s){if(!1===s.isFullMatch){u().log({level:"info",from:"csvHelper",type:"csvColumnTypes",data:{message:"Partial column type match detected, Potential data loss due to parsing failures",columnType:s.schema.type,matchType:"Partial"}});const e=(null==l?void 0:l.get(_))||0;(0,a().Et)(e)&&(null==l||l.set(_,e+1))}else{const e=(null==l?void 0:l.get(T))||0;(0,a().Et)(e)&&(null==l||l.set(T,e+1))}return s}}}}return ee(e,[])}(n,e.map((e=>null==e?void 0:e.text)),r,c,l,i))));return{types:p}}function B(e){const{body:t,intl:n,randomShortID:o,headers:r,types:a,isPreTypedCSV:s}=e,l=r.map((()=>!1));if(!s)for(let p=0;p<r.length;p++)if("text"===a[p].schema.type)for(let e=0;e<t.length;e++){const n=t[e][p].textValue;if(n)for(const o of n)if(x().BEe(o)){l[p]=!0,e=t.length;break}}let i=!0;const c={title:{type:"title",name:n.formatMessage(D.titleColumnName)}};return r.forEach(((e,t)=>{const n=a[t];if(n)if("text"!==n.schema.type||!i||l[t]||s)if(s&&"title"===n.schema.type){const t=c.title;t&&(t.name=e)}else{const t=n.id??o();n.id||(n.id=t),c[t]={...n.schema,name:e}}else{i=!1,n.id="title",n.schema={type:"title",name:e};const t=c.title;t&&(t.name=e)}})),{schema:c}}function N(e){const{body:t,types:n,isPreTypedCSV:o,notToImportColumnIndex:r}=e,a={};return{pages:t.map((e=>{null!=r&&r.length&&(e=e.filter(((e,t)=>!r.includes(t))));const t={};return n.forEach(((n,r)=>{if(n){const{id:s,schema:l,coerce:i}=n,{type:p}=l;if(s){const n=e[r]||"";if("url"===p)t[s]=c().jw(n.text);else if("date"===p)t[s]=c().m5(i(n.text));else if("text"===p)t[s]=n.textValue||x().x9d(i(n.text));else if("file"===p)t[s]=n.textValue||[];else if("select"===p||"multi_select"===p){let e=[];if("multi_select"===p){e=n.text.split(",").map((e=>e.trim())).filter((e=>e.length>0)).filter(((e,t,n)=>n.findIndex((t=>t.toLowerCase()===e.toLowerCase()))===t))}else e=n.text.trim()?[n.text.trim()]:[];if(o)for(const t of e){if(!t||!t.trim())continue;const e=t.trim();a[s]||(a[s]=[]);a[s].find((t=>t.toLowerCase()===e.toLowerCase()))||a[s].push(e)}t[s]=x().x9d(i(n.text))}else t[s]=x().x9d(i(n.text))}}})),t})),selectPropertyOptions:o?a:void 0}}function V(e){const{randomShortID:t,optionValues:n,propertyType:o}=e;return("multi_select"===o?n.flatMap((e=>e.split(",").map((e=>e.trim())).filter((e=>e.length>0)))):n.map((e=>e.trim())).filter((e=>e.length>0))).filter(((e,t,n)=>n.findIndex((t=>t.toLowerCase()===e.toLowerCase()))===t)).map((e=>({id:t(),value:e,color:(0,i().Zd)([])})))}const E=["yes","Yes","true","True","checked"],F=["no","No","false","False","unchecked"];function A(e){return E.some((t=>e===t))||F.some((t=>e===t))}function R(e,t){return e.length===t.length}function O(e){return E.some((t=>e===t))?l().I1:l().oP}function H(e,t){if(t.every(A))return{schema:{type:"checkbox"},validate:A,coerce:e=>O(e)}}function L(e){const t=v().sA(e);return`${t?t.value:void 0}`}function W(e,t){const n=t.map(v().sA),o=n[0];if(o&&n.every((e=>Boolean(e&&e.format===o.format))))return{schema:{type:"number",number_format:o.format},validate(e){const t=v().sA(e);return!a().pN(t)&&t.format===o.format},coerce:e=>L(e)}}function z(e,t){if(parseInt(t)&&t.length<=6)return!1;const n=d().JC(t,e);return Boolean(n)}function q(e,t,n){const o=e.includes("â†’")?void 0:n;return d().JC(e,t,o)}function K(e,t){const n=t.filter((t=>z(e,t)));if(n.length>=t.length/2)return{schema:{type:"date"},validate:t=>z(e,t),coerce:t=>q(t,e),isFullMatch:R(t,n)}}function J(e){return e.length<320&&e.includes("@")&&y().t6(e,"email")}function Z(e,t){const n=t.filter(J);if(n.length>=t.length/2)return{schema:{type:"email"},validate:J,coerce:o().D_,isFullMatch:R(t,n)}}function U(e){return e.length<320&&y().t6(e,"url")}function $(e,t){const n=t.filter(U);if(n.length>=t.length/2)return{schema:{type:"url"},validate:U,coerce:o().D_,isFullMatch:R(t,n)}}function j(e,t){return!String(t).match(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/)&&e(String(t))}function G(e,t,n){const r=j.bind(null,e),a=n.filter(r);if(a.length>=n.length/2)return{schema:{type:"phone_number"},validate:r,coerce:o().D_,isFullMatch:R(n,a)}}function Y(e,t,n){const r=[];t.forEach((e=>e.split(",").forEach((e=>r.push(e.trim())))));const a=c().ki(r),s=new Set(a);if(l=a.length,p=r.length,d=t.length,p>d&&Q(l,p)){return{schema:{type:"multi_select",options:a.map(((e,t)=>({id:n(),value:e,color:(0,i().Zd)([])})))},validate:e=>s.has(e),coerce:o().D_}}var l,p,d}function Q(e,t){return e>0&&e**2<t}function X(e,t,n){const r=c().ki(t),a=new Set(r);if(Q(r.length,t.length)){return{schema:{type:"select",options:r.map(((e,t)=>({id:n(),value:e,color:(0,i().Zd)([])})))},validate:e=>a.has(e),coerce:o().D_}}}function ee(e,t){return{schema:{type:"text"},validate:o().vF,coerce:o().D_}}function te(e,t){t||(t=function(e,t){let n=",",o=0;const r=e.split(/\r?\n/).slice(0,10).join("\n");for(const a of t){const e=oe(r,a);if(e.length<=1)continue;const t=e.map((e=>e.length)),s=ne(t),l=t.filter((e=>e===s)).length/t.length;if(s<=1||l<(s>=6?.6:.7))continue;const i=s,c=100*l+10*i-50*(e.flat().filter((e=>e.includes(a))).length/(e.length*i));c>o&&(o=c,n=a)}return n}(e,[",",";","\t","|"]));const n=[];let o=[],r="",a=!1;for(let s=0;s<e.length;s++){const l=e[s],i=e[s+1];if('"'===l)a&&'"'===i?(r+='"',s++):a=!a;else if(l!==t||a)if("\n"!==l&&("\r"!==l||"\n"===i)||a){if("\r"===l&&"\n"===i&&!a)continue;r+=l}else o.push(r),n.push(o),o=[],r="";else o.push(r),r=""}return(r||o.length>0)&&(o.push(r),n.push(o)),n}function ne(e){var t;const n=e.reduce(((e,t)=>(e[t]=(e[t]||0)+1,e)),{});return Number((null===(t=Object.entries(n).sort(((e,t)=>t[1]-e[1]))[0])||void 0===t?void 0:t[0])||0)}function oe(e,t){const n=[];let o=[],r="",a=!1;for(let s=0;s<e.length;s++){const l=e[s],i=e[s+1];'"'===l?a&&'"'===i?(r+='"',s++):a=!a:l!==t||a?"\n"!==l&&"\r"!==l||a?r+=l:(o.push(r),o.length>0&&n.push(o),o=[],r="","\r"===l&&"\n"===i&&s++):(o.push(r),r="")}return(r||o.length>0)&&(o.push(r),n.push(o)),n.filter((e=>e.length>0&&e.some((e=>e.trim()))))}const re=[{type:"title",name:"Title"},{type:"text",name:"Text"},{type:"number",name:"Number"},{type:"select",name:"Select"},{type:"multi_select",name:"Multi-select"},{type:"status",name:"Status"},{type:"date",name:"Date"},{type:"checkbox",name:"Checkbox"},{type:"url",name:"URL"},{type:"email",name:"Email"},{type:"phone_number",name:"Phone Number"},{type:"person",name:"Person"},{type:"dont_import",name:"Don't import"}]},388723:(e,t,n)=>{n.d(t,{G:()=>y});n(944114),n(898992),n(823215),n(354520),n(581454),n(737550);var o=()=>n(713998),r=()=>n(258035),a=()=>n(522419),s=()=>n(201980),l=()=>n(534177),i=()=>n(384944),c=()=>n(766854),p=()=>n(450510),d=()=>n(919878),m=()=>n(857048),u=()=>n(404715),h=()=>n(295304),f=()=>n(500178);function y(e){const{clipboardActions:t,environment:n,selection:o,currentRows:a,event:l,transaction:i,markdownLinkifyIt:c,tinyMceMicrosoftWordPasteFilter:h}=e;if(!l.clipboardData)return;let y;const b=l.clipboardData.getData(p().sE),S=l.clipboardData.getData("text/html"),x=l.clipboardData.getData("text/plain");if(b)y=JSON.parse(b);else if(S){const e=document.createElement("div");e.innerHTML=S;const t=e.querySelector("table");if(t){const e=t.querySelectorAll("tr");y=[];for(const t of Array.from(e)){const e=[],n=t.querySelectorAll("td, th");for(const t of Array.from(n)){const n=s().x9d(t.textContent||"");e.push([n,void 0])}y.push(e)}}}if(!y&&x){const e=(0,r().CO)(x);if(e.length>1&&e.every((t=>t.length===e[0].length))&&e[0].length>1){y=[];for(const t of e){const e=[];for(const n of t){const t=s().x9d(n);e.push([t,void 0])}y.push(e)}}}if(!y){const e=t.getInlineTextValueFromClipboardData({event:l,markdownLinkifyIt:c,tinyMceMicrosoftWordPasteFilter:h,supportsChatSelectionContextTokens:!1});e&&(y=[[[e,void 0]]])}if(y){const t=p().hn(o),{trimmedSelection:r,actualWidth:s,actualHeight:l}=function(e){if(!e.length)return{trimmedSelection:e,actualWidth:0,actualHeight:0};let t=e.length,n=e[0].length;for(;t>0;){if(e[t-1].some((e=>!C(e))))break;t--}if(0===t)return{trimmedSelection:[],actualWidth:0,actualHeight:0};for(;n>0;){let o=!1;for(let r=0;r<t;r++)if(!C(e[r][n-1])){o=!0;break}if(o)break;n--}const o=e.slice(0,t).map((e=>e.slice(0,n)));return{trimmedSelection:o,actualWidth:n,actualHeight:t}}(y),c=s,h=l;if(0===c||0===h)return;let b=Math.floor((t.maxCol-t.minCol+1)/c);0===b&&(b=1);let S,x=Math.floor((t.maxRow-t.minRow+1)/h);if(0===x&&(x=1),"simpleTableStore"in e){const n=t.minCol+c*b,{simpleTableStore:o}=e;S=e.columnOrder;const r=S.length;if(n>r){const e=n-r;d().eI({count:e,simpleTableStore:o,transaction:i}),S=(0,u().$O)(o)||[]}}for(let o=0;o<x;o++)for(let s=0;s<b;s++){const l=t.minCol+s*c,p=t.minRow+o*h;for(let t=0;t<h;t++){let o=a[p+t];if(!o){const t="selectionKey"in e?g(e):d().D(e);t&&(e.currentRows.push(t),o=t)}for(let a=0;a<c;a++){var _;const s=null===(_=r[t])||void 0===_?void 0:_[a];if(!s)continue;const c=l+a;"currentPropertyFormats"in e?v({rowStore:o,x:c,serializedValue:s,currentPropertyFormats:e.currentPropertyFormats,transaction:i,schema:e.schema,environment:n}):I({rowStore:o,x:c,serializedValue:s,columnOrder:S??e.columnOrder,transaction:i,environment:n})}}}const T={start:{col:t.minCol,row:t.minRow},end:{col:t.minCol+c*b-1,row:t.minRow+h*x-1}};"selectionKey"in e?(0,f().t)({environment:n,selectionKey:e.selectionKey,selection:T}):(0,m().ep)({environment:n,start:T.start,end:T.end,simpleTableStore:e.simpleTableStore})}}function g(e){const{environment:t,currentRows:n,collectionContextStore:o,selectionKey:r,transaction:a}=e,{groupFormat:s}=r,l=(0,c().Q)({environment:t,collectionContextStore:o,groupsPointer:s?[s]:[],insertAtIndex:n.length,shouldCoerce:!0,transaction:a,from:{createBlock:"table_paste_selection"},inMemoryRecordCache:t.defaultRecordCache.inMemoryRecordCache});return null==l?void 0:l.newStore}function v(e){var t;const{environment:n,rowStore:r,x:s,serializedValue:c,currentPropertyFormats:p,transaction:d,schema:m}=e,u=p[s];if(!u)return;if("verification"===(null===(t=m[u.property])||void 0===t?void 0:t.type))return;const[f,y]=c,g=r.getPropertyStore(u.property);if(h().R9({environment:n,store:g,value:f,transaction:d}),y){var v;const e=f?o().pJ(f):void 0,t=null==e||null===(v=e.map((e=>{var t;return null===(t=(0,a().oN)({urlOrAlias:e.url}))||void 0===t?void 0:t.fileId})))||void 0===v?void 0:v.filter(l().O9);t&&t.length>0&&i().Bn({store:r,source:y,fileIds:t,transaction:d})}}function I(e){const{rowStore:t,x:n,serializedValue:o,transaction:r,columnOrder:a,environment:l}=e,i=a[n];if(!i)return;const[c,p]=o,d=t.getPropertyStore(i);h().R9({environment:l,store:d,value:s().Uee(c,{removeSuggestionAnnotationsAndText:!1,removeSuggestionAnnotations:!0,removeDiscussions:!0}),transaction:r})}function C(e){if(!e)return!0;const[t]=e;if(!t||!t.length)return!0;const n=s().q4_(t);return!n||""===n.trim()}}}]);