"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[37062,88895],{298929:(t,o,e)=>{e.r(o),e.d(o,{PostImportIntroPopup:()=>h,trackImportOnboardingTourProgress:()=>T});var r=e(296540),n=()=>e(564884),i=()=>e(367485),a=()=>e(404694),s=()=>e(907258),u=()=>e(484714),l=()=>e(590526),d=()=>e(543906),c=()=>e(69708),p=()=>e(812182),m=()=>e(680977),g=()=>e(300789),v=()=>e(547149);var f=()=>e(797180);const S=(0,c().YK)({titleForIntroToast:{id:"PostImportIntroPopup.titleForIntroToast",defaultMessage:"Project Management in Notion"},descriptionForIntroToast:{id:"PostImportIntroPopup.descriptionForIntroToast",defaultMessage:"Your newly imported Asana projects are here. Want to learn more about how to use Notion Projects and Tasks?"},primaryButton:{id:"PostImportIntroPopup.primaryButton",defaultMessage:"Take the tour"}}),b="post_import_intro_toast";function h(){const t="asana_post_import_tour",o=(0,u().v3)(),e=(0,a().V)(),n=(0,i().g)(),h=(0,l().K8)((()=>{var o,r;return!0===(null===(o=s().default.state.mainEditorCurrentBlockStore)||void 0===o?void 0:o.getFormat().is_asana_imported_project)&&!0!==(null==n||null===(r=n.getSettings())||void 0===r?void 0:r.seen_asana_post_import_tour)&&e.getCalloutVisibility(t).canShow}),[e,n]),I=(0,r.useCallback)((()=>{!function(t){const{environment:o}=t,{currentUserSettingsStore:e}=s().default.state;e&&void 0===e.getSettingsStore().getKeyStore("seen_asana_post_import_tour").getValue()&&v().createAndCommit({environment:o,userAction:"userSettingsActions.setSeenAsanaPostImportTutorial",canUndo:!0,cellTarget:"main",perform:t=>{(0,m().m)({userSettingsStore:e,transaction:t,data:{seen_asana_post_import_tour:!0}})}})}({environment:o}),g().a(o,t)}),[o]),k=(0,r.useCallback)((()=>{n&&v().createAndCommit({userAction:"PostImportIntroPopup.startOnboardingTour",environment:o,canUndo:!0,perform:t=>{var o;(0,m().m)({transaction:t,userSettingsStore:n,data:{tutorials:{...null==n||null===(o=n.getSettings())||void 0===o?void 0:o.tutorials,"project-management-import-onboarding":"your-teamspace-tooltip"}}})}}),f().Z.setState({...f().Z.state,showOnboardingTour:!0})}),[n,o]),_=(0,c().tz)(),j=(0,r.useMemo)((()=>function(t){const{intl:o,onDismiss:e,primaryActionHandler:r}=t;return{presentationType:"persistent",id:b,title:o.formatMessage(S.titleForIntroToast),message:o.formatMessage(S.descriptionForIntroToast),actions:{primary:{title:o.formatMessage(S.primaryButton),onAction:r}},onDismiss:e}}({intl:_,onDismiss:()=>{I(),T(o,{importer:"asana",action:"dismissed",progress:0,callout_id:t,from:"imported_page"})},primaryActionHandler:()=>{T(o,{importer:"asana",action:"start",progress:0,callout_id:t,from:"imported_page"}),k(),I(),p().UW(b)}})),[_,I,o,k]);return(0,d().A)((()=>{p().HK(j)}),h),null}function T(t,o){return(0,n().u)({environment:t,event:{eventName:"import_projects_onboarding",eventProperties:o}})}},335092:(t,o,e)=>{e.r(o),e.d(o,{AllProjectsTooltip:()=>m,NavigateToProjectTasksTooltip:()=>v,ProjectCustomizationTooltip:()=>g,TasksDatabaseViewsTooltip:()=>f,YourCurrentTeamspaceTooltip:()=>S});e(898992),e(672577);var r=e(296540),n=()=>e(484714),i=()=>e(590526),a=()=>e(69708),s=()=>e(521855),u=()=>e(797180),l=()=>e(298929),d=e(474848);const c={minWidth:300,marginBottom:0,whiteSpace:"pre-wrap",wordBreak:"break-word",fontSize:e(284371).J.UIRegular.desktop,minHeight:40},p="project-management-import-onboarding",m=r.memo((function({origin:t}){const o=(0,n().v3)(),r=(0,i().K8)((()=>Boolean(u().Z.state.showOnboardingTour)),[]),m=(0,e(404694).V)();return r?(0,d.jsx)(e(734762).B,{shouldShow:r,calloutId:"asana_post_import_tour",inAppCalloutStore:m,children:(0,d.jsx)(s().B,{origin:t,placementToOrigin:"right",style:c,tutorialId:p,tutorialStepId:"all-projects-tooltip",pointerLength:40,pointerPosition:"12.5%",header:(0,d.jsx)("div",{children:(0,d.jsx)(a().sA,{id:"AsanaImportOnboarding.AllProjects.header1",defaultMessage:"Your Projects are here"})}),content:(0,d.jsx)(a().sA,{id:"AsanaImportOnboarding.AllProjects.content",defaultMessage:"All your Asana projects for this team are on this page. Use filters and views to customize this database to fit your needs."}),onPrimaryButtonClick:()=>(0,l().trackImportOnboardingTourProgress)(o,{action:"advance",importer:"asana",from:"toast",callout_id:p,progress:1})})}):null})),g=r.memo((function({origin:t}){const o=(0,i().K8)((()=>Boolean(u().Z.state.showOnboardingTour)),[]),e=(0,n().v3)();return o?(0,d.jsx)(s().B,{origin:t,placementToOrigin:"left",style:c,tutorialId:p,tutorialStepId:"project-customization-tooltip",pointerLength:30,pointerPosition:"8%",header:(0,d.jsx)("div",{children:(0,d.jsx)(a().sA,{id:"AsanaImportOnboarding.ProjectCustomization.header",defaultMessage:"Customize your projects"})}),content:(0,d.jsx)(a().sA,{id:"AsanaImportOnboarding.ProjectCustomization.content",defaultMessage:"Customize your project by adding properties or a description on this page"}),onPrimaryButtonClick:()=>(0,l().trackImportOnboardingTourProgress)(e,{action:"advance",importer:"asana",from:"toast",callout_id:p,progress:2})}):null})),v=r.memo((function({origin:t,onNext:o,store:m}){const g=(0,i().K8)((()=>u().Z.state.showOnboardingTour),[]),v=(0,n().v3)(),f=(0,r.useCallback)(((t,o)=>{const{mainEditorCurrentBlockStore:r}=e(907258).default.state,n=e(999140).wy({environment:v,store:t,mainEditorCurrentBlockStore:r,collectionContextStore:o,fullyQualified:!1});n&&(0,e(246766).navigate)({environment:v,url:n})}),[v]);if(!g)return null;return(0,d.jsx)(s().B,{origin:t,placementToOrigin:"bottom",style:c,tutorialId:p,tutorialStepId:"navigate-to-project-tasks-tooltip",pointerLength:20,pointerPosition:"30%",pointerOffset:25,onPrimaryButtonClick:()=>{var t;const r=(null==m?void 0:m.groupsStore.anyGroupHasResults())&&m.groupsStore.getAllGroupStates(),n=r&&r.length>0?null===(t=r.find((t=>{var o;return null===(o=t.reducerResultStore)||void 0===o||null===(o=o.state)||void 0===o?void 0:o.blockIds.length})))||void 0===t||null===(t=t.reducerResultStore)||void 0===t||null===(t=t.state)||void 0===t?void 0:t.blockIds[0]:void 0;n&&m&&f(new(e(295633).B)(v,{id:n,table:"block"}),m),o&&o(),(0,l().trackImportOnboardingTourProgress)(v,{action:"advance",importer:"asana",from:"toast",callout_id:p,progress:3})},header:(0,d.jsx)("div",{children:(0,d.jsx)(a().sA,{id:"AsanaImportOnboarding.NavigateToTasks.header",defaultMessage:"View tasks for this project"})}),content:(0,d.jsx)(a().sA,{id:"AsanaImportOnboarding.NavigateToTasks.content",defaultMessage:"Click ‘Open’ next to the project title to view related tasks"})})})),f=r.memo((function({origin:t,store:o}){const r=(0,n().v3)();return(0,i().K8)((()=>u().Z.state.showOnboardingTour&&(null==o?void 0:o.isInPeekRendererStore)),[o])?(0,d.jsx)(s().B,{origin:t,placementToOrigin:"bottom",style:c,tutorialId:p,tutorialStepId:"related-tasks-database-views-tooltip",pointerLength:20,onPrimaryButtonClick:e(806080).lQ,header:(0,d.jsx)(a().sA,{id:"AsanaImportOnboarding.RelatedTasks.header",defaultMessage:"Project Tasks"}),content:(0,d.jsxs)("div",{children:[(0,d.jsx)(a().sA,{id:"AsanaImportOnboarding.RelatedTasks.contentPart1",defaultMessage:"Find all your Asana tasks related to this project in the "}),(0,d.jsx)(e(807449).I,{icon:e(652620).h,size:"sm",style:{display:"inline-block",marginTop:4,verticalAlign:"top",marginInlineEnd:2}}),(0,d.jsx)(a().sA,{id:"AsanaImportOnboarding.RelatedTasks.contentPart2",defaultMessage:"Tasks Database"})]}),onSkipButtonClick:()=>(0,l().trackImportOnboardingTourProgress)(r,{action:"advance",importer:"asana",from:"toast",callout_id:p,progress:4})}):null})),S=r.memo((function({origin:t}){const o=(0,i().K8)((()=>Boolean(u().Z.state.showOnboardingTour)),[]),e=(0,n().v3)();return o?(0,d.jsx)(s().B,{origin:t,placementToOrigin:"bottom",style:c,tutorialId:p,tutorialStepId:"your-teamspace-tooltip",pointerLength:20,header:(0,d.jsx)(a().sA,{id:"AsanaImportOnboarding.YourCurrentTeamspace.header",defaultMessage:"Your current teamspace"}),content:(0,d.jsx)(a().sA,{id:"AsanaImportOnboarding.YourCurrentTeamspace.content",defaultMessage:"Navigate between your projects, tasks and other pages from here"}),onPrimaryButtonClick:()=>{(0,l().trackImportOnboardingTourProgress)(e,{action:"advance",importer:"asana",from:"toast",callout_id:p,progress:5})}}):null}))},367485:(t,o,e)=>{e.d(o,{g:()=>i});var r=()=>e(590526);const n=new(e(140934).ComputedStore)((()=>e(907258).default.state.currentUserSettingsStore),{debugName:"AppStoreCurrentUserSettingsStore"});function i(){return(0,r().O$)(n)}},521855:(t,o,e)=>{e.d(o,{B:()=>f});var r=e(296540),n=()=>e(404694),i=()=>e(907258),a=()=>e(484714),s=()=>e(590526),u=()=>e(734762),l=()=>e(148297),d=()=>e(541235),c=()=>e(564884);const p=new Map;var m=()=>e(611947),g=()=>e(646355),v=e(474848);function f({tutorialId:t,tutorialStepId:o,onPrimaryButtonClick:e,displayStore:f,calloutId:S,enableTracking:b=!1,...h}){const T=(0,a().v3)(),I=function(t){const o=!p.get(t),e=(0,r.useRef)(o);return e.current&&p.set(t,!0),(0,r.useEffect)((()=>()=>{e.current&&p.set(t,!1)}),[t]),e.current}(`${t}.${o}`),k=(0,n().V)(),{currentStep:_,isLoading:j}=(0,s().K8)((()=>{var o;return{isLoading:!(null!==(o=i().default.state.currentUserSettingsStore)&&void 0!==o&&o.getSettings()),currentStep:(0,g().gt)(i().default.state.currentUserSettingsStore,t)}}),[t]);if((0,r.useEffect)((()=>{j||_!==o||!I?null==f||f.setState(!1):null==f||f.setState(!0)}),[j,_,o,I,f]),j||_!==o||!I)return null;const A=d().c$[t],x=A.steps.findIndex((t=>t.id===o)),P=A.steps.length,y=e=>{b&&function(t,o){(0,c().u)({environment:t,event:{eventName:"tutorial_tooltip_action",eventProperties:o}})}(T,{step:x+1,total_steps:P,tutorial_id:t,tutorial_step_id:o,action_type:e})},C=(0,v.jsx)(l().k,{onCloseClick:()=>{m().dismissTutorial(T,t),y("dismiss")},onPrimaryButtonClick:o=>{m().tutorialGoToNextStep(T,t),null==e||e(o),y("next")},onBackButtonClick:()=>{m().tutorialGoToPrevStep(T,t),y("back")},numSteps:P,currStepIndex:x,...h});return S?(0,v.jsx)(u().B,{calloutId:S,shouldShow:!0,inAppCalloutStore:k,children:C}):C}},541235:(t,o,e)=>{e.d(o,{Ud:()=>a,YD:()=>i,c$:()=>r,q_:()=>n});const r={"sprints-onboarding":{steps:[{id:"current-sprint-view-tooltip"},{id:"sprint-task-tooltip"},{id:"complete-sprint-button-tooltip"}]},"enhanced-qna-onboarding":{steps:[{id:"find-in-tooltip"},{id:"mention-tooltip"}]},"jira-sync-onboarding":{steps:[{id:"all-projects-tooltip"},{id:"all-issues-tooltip"},{id:"database-views-and-filters-tooltip"},{id:"settings-to-setup-projects-and-issues"}]},"project-management-import-onboarding":{steps:[{id:"your-teamspace-tooltip"},{id:"all-projects-tooltip"},{id:"navigate-to-project-tasks-tooltip"},{id:"project-customization-tooltip"},{id:"related-tasks-database-views-tooltip"}]},"ai-comment-onboarding":{steps:[{id:"ai-comment-onboarding-tooltip"}]},database_onboarding:{steps:[{id:"database_onboarding_status_property_tooltip"},{id:"database_onboarding_add_property_tooltip"},{id:"database_onboarding_database_page_tooltip"},{id:"database_onboarding_board_view_tooltip"}]},"new-user-home-workspace-tour":{steps:[{id:"teamspaces"}]}},n="completed",i="dismissed";function a(t,o){return null==o?void 0:o[t]}},611947:(t,o,e)=>{e.r(o),e.d(o,{checkIsTutorialDone:()=>v,dismissTutorial:()=>d,resetTutorials:()=>c,tutorialAdvanceToStep:()=>p,tutorialAdvanceToStepAfter:()=>m,tutorialGoToNextStep:()=>u,tutorialGoToPrevStep:()=>l,tutorialGoToStep:()=>g});var r=()=>e(907258),n=()=>e(541235),i=()=>e(680977),a=()=>e(547149),s=()=>e(646355);function u(t,o,e){var n;const{currentUserSettingsStore:a}=r().default.state;if(!a)return;const u=null===(n=a.getSettings())||void 0===n?void 0:n.tutorials;e?(0,i().m)({userSettingsStore:a,transaction:e,data:{tutorials:{...u,[o]:(0,s().i9)(a,o)}}}):f({userAction:"TutorialActions.nextStep",environment:t,perform:t=>{(0,i().m)({userSettingsStore:a,transaction:t,data:{tutorials:{...u,[o]:(0,s().i9)(a,o)}}})},userId:a.id})}function l(t,o){var e;const{currentUserSettingsStore:n}=r().default.state;if(!n)return;const a=null===(e=n.getSettings())||void 0===e?void 0:e.tutorials;f({userAction:"TutorialActions.prevStep",environment:t,perform:t=>{(0,i().m)({userSettingsStore:n,transaction:t,data:{tutorials:{...a,[o]:(0,s().KD)(n,o)}}})},userId:n.id})}function d(t,o){var e;const{currentUserSettingsStore:a}=r().default.state;if(!a)return;const s=null===(e=a.getSettings())||void 0===e?void 0:e.tutorials;(null==s?void 0:s[o])!==n().YD&&f({userAction:"TutorialActions.dismissTutorial",environment:t,perform:t=>{(0,i().m)({userSettingsStore:a,transaction:t,data:{tutorials:{...s,[o]:n().YD}}})},userId:a.id})}function c(t){const{currentUserSettingsStore:o}=r().default.state;o&&f({userAction:"TutorialActions.resetTutorialsDebug",environment:t,perform:t=>{(0,i().m)({userSettingsStore:o,transaction:t,data:{tutorials:{}}})},userId:o.id})}function p(t,o,e){var a;const{currentUserSettingsStore:u}=r().default.state;if(!u||(0,s().x$)(u,o))return;const l=(0,s().gt)(u,o);n().c$[o].steps.findIndex((t=>t.id===l))>=n().c$[o].steps.findIndex((t=>t.id===e))||(0,i().m)({userSettingsStore:u,transaction:t,data:{tutorials:{...null===(a=u.getSettings())||void 0===a?void 0:a.tutorials,[o]:e}}})}function m(t,o,e){if((0,s().ll)(e))return;const r=(0,s().tb)(o,e);r&&p(t,o,r)}function g(t,o,e,n){var a;const{currentUserSettingsStore:s}=r().default.state;if(!s)return;const u=null===(a=s.getSettings())||void 0===a?void 0:a.tutorials;n?(0,i().m)({userSettingsStore:s,transaction:n,data:{tutorials:{...u,[o]:e}}}):f({userAction:"TutorialActions.nextStep",environment:t,perform:t=>{(0,i().m)({userSettingsStore:s,transaction:t,data:{tutorials:{...u,[o]:e}}})},userId:s.id})}function v(t){const{currentUserSettingsStore:o}=r().default.state;return!!o&&(0,s().x$)(o,t)}function f(t){return a().createAndCommit({...t,canUndo:!1})}},646355:(t,o,e)=>{e.d(o,{KD:()=>u,gt:()=>l,i9:()=>s,ll:()=>i,tb:()=>a,x$:()=>n});e(18107),e(967357);var r=()=>e(541235);function n(t,o){return i(l(t,o))}function i(t){return void 0!==t&&(t===r().q_||t===r().YD)}function a(t,o){if(i(o))return;const e=r().c$[t],n=e.steps.findIndex((t=>t.id===o));return-1===n?e.steps[0].id:n===e.steps.length-1?r().q_:e.steps[n+1].id}function s(t,o){const e=l(t,o);if(e&&!i(e))return a(o,e)}function u(t,o){const e=l(t,o);if(e)return function(t,o){const e=r().c$[t];var n;if(i(o))return null===(n=e.steps.at(-1))||void 0===n?void 0:n.id;const a=e.steps.findIndex((t=>t.id===o));return-1!==a&&0!==a?e.steps[a-1].id:void 0}(o,e)}function l(t,o){var e;if(!t)return;const n=((null===(e=t.getSettings())||void 0===e?void 0:e.tutorials)||{})[o];return void 0===n?r().c$[o].steps[0].id:n}},652620:(t,o,e)=>{e.d(o,{h:()=>i});e(296540);var r=e(474848);const n={viewBox:"0 0 16 16",fittedViewBox:"2.37 2.37 11.25 11.25",svg:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("path",{d:"M10.172 5.564a.625.625 0 0 0-.858.214L7.36 9.035 6.325 7.827a.625.625 0 1 0-.95.813l1.6 1.867a.625.625 0 0 0 1.01-.085l2.4-4a.625.625 0 0 0-.213-.858"}),(0,r.jsx)("path",{d:"M4.25 2.375c-1.036 0-1.875.84-1.875 1.875v7.5c0 1.036.84 1.875 1.875 1.875h7.5c1.036 0 1.875-.84 1.875-1.875v-7.5c0-1.036-.84-1.875-1.875-1.875zM3.625 4.25c0-.345.28-.625.625-.625h7.5c.345 0 .625.28.625.625v7.5c0 .345-.28.625-.625.625h-7.5a.625.625 0 0 1-.625-.625z"})]})},i=(0,e(340498).wt)("checkmarkSquareSmall",n,"small")}}]);