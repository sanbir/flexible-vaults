"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[47160],{56739:(e,t,s)=>{s.d(t,{k:()=>d});s(296540);var o=()=>s(383036),i=()=>s(484714),n=()=>s(26697),a=()=>s(991249),l=()=>s(112698),r=s(474848);function d(e){const t=(0,i().v3)(),{render:s,upsell:d,analyticsName:c,spaceStore:u,renderUpgradeTooltip:p,onUpgradeClick:m,alwaysAllowClick:b,tooltipPlacement:g,upgradeButtonDesktopStyle:f,upgradeButtonMobileStyle:v}=e;let y,{onClick:h,renderTooltip:x}=e;return d&&"product"===d.type&&(y=(0,r.jsx)(l().B,{upsell:d,analyticsName:c,desktopStyle:{display:"inline-block",pointerEvents:"none",...f},mobileStyle:{display:"inline-block",pointerEvents:"none",...v}}),b||(h=e=>{a().K(t,{from:c,upsell:d,spaceStore:u}),m&&m(e)},x=p)),(0,r.jsx)(n().m,{renderTooltip:x||(()=>null),render:e=>s((0,o().A)(e,{onClick:h}),y),disableTooltip:!x,placement:g})}},103448:(e,t,s)=>{s.d(t,{A:()=>n});s(296540);var o=()=>s(284371),i=s(474848);const n=function({imageURL:e,imageWidth:t,imageHeight:o,caption:n,title:l,imageContainerStyle:r}){if(e){const d=(0,s(478184).L)(e);return(0,i.jsxs)("div",{style:{width:t||200,marginTop:4,marginBottom:4},children:[(0,i.jsx)("div",{style:{width:"100%",height:o||100,borderRadius:4,backgroundImage:`url(${d})`,backgroundSize:"cover",marginBottom:6,...r}}),(0,i.jsx)(a,{caption:n,title:l})]})}return(0,i.jsx)(a,{caption:n,title:l,style:{width:t}})};function a({style:e,caption:t,title:s}){return(0,i.jsxs)("div",{style:{whiteSpace:"normal",lineHeight:1.4,...e},children:[s?(0,i.jsx)("header",{style:{fontWeight:o().Wy.bold,marginBottom:4},children:s}):void 0,t]})}},192421:(e,t,s)=>{s.d(t,{F:()=>c});s(296540);var o=()=>s(726637),i=()=>s(493552),n=()=>s(424400),a=()=>s(433847),l=()=>s(69708),r=()=>s(583690),d=s(474848);function c(e){const{role:t}=e,s=(0,l().tz)(),c=(0,r().I2)(t);return(0,d.jsx)(n().Ay,{...e,title:(0,d.jsx)(i().D,{styleKey:"captionMedium",colorVariant:"secondary",children:s.formatMessage((0,a().sK)(t,void 0).label)}),shouldWrapCaption:!0,style:o().A.isMobile?{padding:"12px 4px"}:{padding:4,marginTop:2,marginBottom:2},captionStyle:{marginTop:4},caption:(0,d.jsx)("div",{children:c})})}},268153:(e,t,s)=>{s.d(t,{Y:()=>h,R:()=>x});s(296540);var o=()=>s(726637),i=()=>s(401497),n=()=>s(807449),a=()=>s(631524),l=()=>s(324254),r=()=>s(589407),d=()=>s(236262),c=()=>s(273900),u=()=>s(433847),p=()=>s(109100),m=()=>s(743246),b=()=>s(69708),g=()=>s(100622),f=()=>s(534177);const v=(0,b().YK)({fullAccessLabel:{id:"workflowPermissions.fullAccess.label",defaultMessage:"Full Access"},fullAccessCaption:{id:"workflowPermissions.fullAccess.caption",defaultMessage:"Edit settings, interact, get notified, and share agent with others"},canEditAndInteractLabel:{id:"workflowPermissions.canEditAndInteract.label",defaultMessage:"Can Edit"},canEditAndInteractCaption:{id:"workflowPermissions.canEditAndInteract.caption",defaultMessage:"Edit settings and interact with agent"},canInteractLabel:{id:"workflowPermissions.canInteract.label",defaultMessage:"Can View and Interact"},canInteractCaption:{id:"workflowPermissions.canInteract.caption",defaultMessage:"View settings and interact anywhere agent is accessible"}});var y=s(474848);function h({type:e,role:t,events:s,disabled:d,buttonStyle:c,buttonContents:u,buttonColorPalette:p,buttonIconColorPalette:m,icon:f,table:v,isCurrentUser:h,from:w,isNoneOverride:C,displayRoleInButton:A}){const _=(0,i().IS)((()=>({button:{...c},icon:{width:14,height:14,marginInlineStart:4,fill:"blue"===m?g().Tj.blue.text.secondary:g().Tj.icon.secondary},label:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},iconContainer:{fill:"blue"===m?g().Tj.blue.text.secondary:g().Tj.icon.secondary,padding:2}})),[c,m]),S=f||!d&&l().arrowChevronSingleDownSmallIcon,j="shareMenu"===w;return o().A.isMobile&&j?d?null:(0,y.jsx)(a().p,{...s,disabled:d,style:_.iconContainer,colorPalette:p,children:(0,y.jsx)(n().I,{icon:r().ellipsisIcon,size:"lg",colorPalette:m})}):(0,y.jsxs)(a().p,{id:void 0,...s,disabled:d,style:_.button,colorPalette:p,children:[u||(0,y.jsx)("span",{className:"notranslate",style:_.label,children:(0,y.jsx)(b().sA,{...x({type:e,role:A??t,table:v,isRemovable:!1,isNoneOverride:C}).label})}),S?S(_.icon):void 0]})}function x({type:e,role:t,table:s,isRemovable:o,isNoneOverride:i,canCreate:a}){if(s===m().C0&&function(e){return"access"!==e&&"limited"!==e}(t)){const e=function(e){switch(e){case"editor":return{label:v.fullAccessLabel,caption:v.fullAccessCaption};case"read_and_write":return{label:v.canEditAndInteractLabel,caption:v.canEditAndInteractCaption};case"reader":case"comment_only":return{label:v.canInteractLabel,caption:v.canInteractCaption};default:return{label:p().S.noAccessLabel,caption:void 0}}}(t);if("none"!==t||!o)return e}if("access"===t)return{label:p().S.variousAccessLabel};if("limited"===t)return{label:p().S.limitedAccessLabel};if((0,c().II)(t)){const e="workflow"===s?"block":s;return(0,u().sK)(t,e)}switch(t){case"editor":return{label:p().S.fullAccessLabel,caption:p().S.fullAccessCaption};case"membership_admin":case"read_and_write":return{label:p().S.canEditLabel,caption:p().S.canEditCaptionV2};case"content_only_editor":return{label:p().S.canEditContentLabel,caption:p().S.canEditContentCaption};case"reader":return{label:a?p().S.canReadAndCreateLabel:p().S.canReadLabel,caption:void 0};case"comment_only":return{label:a?p().S.canCommentAndCreateLabel:p().S.canCommentLabel,caption:p().S.canCommentCaptionV2};case"none":if("public_permission"===e)return{label:o?p().S.publicShareLinkRemoveLabel:p().S.publicShareLinkNoAccessLabel,hideSelectionCheckIcon:o};if(o){return{label:"collection_property_permission"===e?p().S.removePermissionRuleLabel:p().S.removeWorkspaceLabel,style:{color:g().oZ.red},icon:(0,y.jsx)(n().I,{icon:d().trashIcon,style:{marginInlineEnd:4}}),hideSelectionCheckIcon:o}}return i?{label:p().S.customAgentsNoneLabel,style:{color:g().oZ.red}}:{label:a?p().S.canOnlyCreateLabel:p().S.noAccessLabel,style:{color:g().oZ.red}};default:(0,f().HB)(t)}}},347160:(e,t,s)=>{s.d(t,{$w:()=>ne,Ay:()=>J});s(944114),s(898992),s(354520),s(672577),s(430670);var o=s(296540),i=()=>s(664594),n=()=>s(907258),a=()=>s(59226),l=()=>s(726637),r=()=>s(383036),d=()=>s(484714),c=()=>s(590526),u=()=>s(401497),p=()=>s(792057),m=()=>s(483226),b=()=>s(249046),g=()=>s(250910),f=()=>s(807449),v=()=>s(416783),y=()=>s(546926),h=()=>s(26697),x=()=>s(302501),w=()=>s(81068),C=()=>s(663639),A=()=>s(736847),_=()=>s(584262),S=()=>s(148307),j=()=>s(563692),k=()=>s(273900),I=()=>s(68263),M=()=>s(519831),R=()=>s(946064),P=()=>s(96689),T=()=>s(743246),B=()=>s(69708),O=()=>s(100622),L=()=>s(534177),U=()=>s(701763),E=()=>s(857783),N=()=>s(254600),D=()=>s(232930),W=()=>s(977863),F=()=>s(350824),K=()=>s(991249),V=()=>s(56739),Y=()=>s(807778),H=()=>s(615623),z=()=>s(528093),X=()=>s(134217),$=()=>s(781919),G=()=>s(824160),Z=()=>s(268153),q=()=>s(103448),Q=s(474848);const J=function({isUserPermission:e,workflowId:t,type:i,table:n,role:r,isInvite:p,availableRoleItems:m,roleItemOverrides:b,blockType:f,onClick:v,onClose:h,origin:x,isMenuItem:S,isRemovableOverride:j,showNoneRoleWithOtherRolesOverride:I,isNoneOverride:R,disabled:P,buttonContents:O,buttonPopupStore:U,buttonStyle:E,buttonColorPalette:N,buttonIconColorPalette:D,placementToOrigin:W,alignmentToOrigin:K="end",upgradeButtonName:V,onUpgradeButtonClick:Y,onChange:H,additionalCapabilities:z,onRemoveMemberClick:X,onRemoveSelfClick:$,header:G,footer:q,showPermissionOverrideWarning:J,from:ee,spaceStore:le,overlayContainerZIndex:re,renderCurrentAccessSection:de,displayRoleInButton:ce}){const{navigate:ue}=(0,o.useContext)(s(312788).E),pe=(0,d().v3)(),me=(0,c().uB)(U,s(118307).A),be=Boolean(e),ge="on"===(0,s(477293).r)("improved_sharing_ui_highest_access_level"),fe=(0,c().K8)((()=>function({type:e,table:t,role:s,isInvite:o,availableRoleItems:i,roleItemOverrides:n,blockType:a,showNoneRoleWithOtherRolesOverride:l}){if(i&&i.length>0)return i;if("trusted_domain_permission"===e)return F().PA;if("collection_property_permission"===e)return F().Wc;if(t===M().Vl)return F().mx;if(t===T().C0)return F().YU;const r=[];"explicit_team_guest_permission"===e?r.push(F().X6):"bot_permission"!==e&&"public_permission"!==e&&r.push(F().L5);r.push(F().sP),"collection_view"!==a&&"collection_view_page"!==a||"bot_permission"===e&&"content_only_editor"!==s||"public_permission"===e||r.push(F().Q$);"bot_permission"!==e&&r.push(F().uH);"bot_permission"===e&&"reader"!==s||r.push(F().pn);o&&!l||r.push(F().EL);if(!n)return r;return r.map((e=>{const t=n.find((t=>t.role===e.role));return t||e}))}({type:i,table:n,role:r,isInvite:p,showNoneRoleWithOtherRolesOverride:I,availableRoleItems:m,roleItemOverrides:b,blockType:f})),[i,n,r,p,m,b,f,I],{equalityFn:s(821062).k}),ve="shareMenu"===ee,ye=(0,c().K8)((()=>me.state.open),[me]),he=(0,u().IS)((()=>({viewSettingsMenuItem:l().A.isMobile?ne:{},viewSettingsTitle:{display:"flex",alignItems:"center"}})),[]),xe=(0,c().K8)((()=>{if(t&&le){return s(350013).N.createChildStore(le,{table:T().C0,id:t,spaceId:le.id}).canEdit()}return!1}),[t,le]),we=(0,a().X)("custom_agent_boot_from_share_menu"),Ce=(0,o.useCallback)((()=>t?[]:[{key:"bot_capabilities_warning",render:e=>(0,Q.jsx)(A().A,{...e,topBorder:!0}),items:[{key:"warning_details",render:e=>(0,Q.jsx)(s(424400).Ay,{...e,shouldWrapCaption:!0,caption:(0,Q.jsx)(B().sA,{id:"PermissionRoleSelect.botRole.capabilitiesWarning",defaultMessage:"Integration permissions cannot be changed on a page. You can manage integrations in settings."})}),action:()=>{}}]}]),[t]),Ae=(0,o.useCallback)((o=>!t||we||xe?(0,s(496603).oE)([t&&xe?{key:"agent_access",render:e=>(0,Q.jsx)(A().A,{...e,topBorder:!0}),items:[{key:"view_agent_settings",render:e=>(0,Q.jsx)(w().A,{...e,style:he.viewSettingsMenuItem,title:(0,Q.jsx)("div",{style:he.viewSettingsTitle,children:(0,Q.jsx)("div",{children:(0,Q.jsx)(B().sA,{id:"PermissionRoleSelect.workflowBot.viewSettings",defaultMessage:"Manage agent access"})})})}),action:()=>{ue({environment:pe,url:(0,s(496703).L)({workflowId:t,pageVisitSource:_().y8.ShareMenu,params:{workflowViewType:"settings"}})}),o()}}]}:void 0,!t||we?{key:"remove_bot",render:e=>(0,Q.jsx)(A().A,{...e,topBorder:!0}),items:[{key:"none",render:e=>(0,Q.jsx)(oe,{role:r,upgradeButtonName:V,onUpgradeButtonClick:Y,focused:e.focused,props:e,availableRole:F().EL,isRemovableOverride:j,table:n,type:i,spaceStore:le,isFromShareMenu:ve,workflowId:t,shouldDisableRole:!1}),action:()=>{se({newRole:"none",table:n,role:r,type:i,upgradeButtonName:V,environment:pe,availableRoles:fe,isPublicShareLinkEnabled:!0,spaceStore:le,onChange:H,onUpgradeButtonClick:Y,isUserPermission:e,onRemoveMemberClick:X,onRemoveSelfClick:$}),o()}}]}:void 0]):[]),[fe,xe,pe,we,ve,j,e,ue,H,X,$,Y,r,le,he.viewSettingsMenuItem,he.viewSettingsTitle,n,i,V,t]),_e=[];let Se,je;if(de){const e=de();e&&(je=e.lowestSelectableRole,_e.push(e.section),Se=(0,Q.jsx)(B().sA,{id:"PermissionRoleSelect.rolesSection.title",defaultMessage:"User access"}))}return(0,Q.jsx)(g().A,{onClick:e=>{e.preventDefault(),e.stopPropagation(),v&&v()},onClose:h,popupType:l().A.isMobile?g().z.BottomSheet:g().z.Popup,bottomSheetInitialState:"half",buttonPopupStore:me,open:ye,overlayContainerZIndex:re,renderOrigin:e=>x||(S?(0,Q.jsx)(w().A,{...e,title:(0,Q.jsx)(B().sA,{...(0,Z().R)({type:i,role:r,table:n,isRemovable:!1,isNoneOverride:R}).label}),focused:!1,showExtensionArrow:!0}):(0,Q.jsx)(Z().Y,{type:i,role:r,events:e,disabled:P,buttonContents:O,buttonStyle:E,buttonColorPalette:N,buttonIconColorPalette:D,table:n,isCurrentUser:be,from:ee,isNoneOverride:R,displayRoleInButton:ce})),placementToOrigin:W||"bottom",alignmentToOrigin:K,originGap:4,render:o=>{let a,d;if((0,k().II)(r))a=[{key:"mixed_role_section",render:e=>(0,Q.jsx)(A().A,{...e,topBorder:!1}),items:[{key:"mixed_role_description",render:()=>(0,Q.jsx)(s(192421).F,{role:r}),action:()=>{}}]},...Ce(),...Ae(o.close)];else{a=[..._e,{key:"roles",render:e=>(0,Q.jsx)(A().A,{...e,title:Se,topBorder:0!==e.index}),items:fe.flatMap((s=>{const a=ge&&void 0!==je&&(0,k().sG)(s.role,je),l={key:s.role,render:e=>(0,Q.jsx)(oe,{bodyContent:s.bodyContent,role:r,upgradeButtonName:V,onUpgradeButtonClick:Y,focused:e.focused,props:e,availableRole:s,isRemovableOverride:!I&&j,isNoneOverride:R,table:n,type:i,spaceStore:le,workflowId:t,shouldDisableRole:a}),action:()=>{se({newRole:s.role,table:n,role:r,type:i,upgradeButtonName:V,environment:pe,availableRoles:fe,isPublicShareLinkEnabled:!0,spaceStore:le,onChange:H,onUpgradeButtonClick:Y,isUserPermission:e,onRemoveMemberClick:X,onRemoveSelfClick:$}),s.bodyContent||o.close()}};return ve&&"none"===s.role&&!I?[]:[s.prefixItem,l].filter(L().O9)}))}],z&&z.length>0&&a.push({key:"additional-capabilities",render:e=>(0,Q.jsx)(A().A,{...e,topBorder:!(l().A.isMobile&&ve)}),items:z});const s=!I||te(i,j);if(ve&&s){const s=fe.find((e=>"none"===e.role));(null==s?void 0:s.prefixItem)&&!l().A.isMobile&&a.push({key:"prefix-item",render:e=>(0,Q.jsx)(A().A,{...e,topBorder:!0}),items:[null==s?void 0:s.prefixItem].filter(L().O9)});const d=fe.filter((e=>"none"===e.role));d.length>0&&a.push({key:"none-role",render:e=>(0,Q.jsx)(A().A,{...e,topBorder:!(l().A.isMobile&&ve)}),items:d.flatMap((s=>{const a={key:s.role,render:e=>(0,Q.jsx)(oe,{role:r,upgradeButtonName:V,onUpgradeButtonClick:Y,focused:e.focused,props:e,availableRole:s,isRemovableOverride:j,isNoneOverride:R,table:n,spaceStore:le,type:i,workflowId:t,shouldDisableRole:!1}),action:()=>{se({newRole:s.role,table:n,role:r,type:i,upgradeButtonName:V,environment:pe,availableRoles:fe,isPublicShareLinkEnabled:!0,spaceStore:le,onChange:H,onUpgradeButtonClick:Y,isUserPermission:e,onRemoveMemberClick:X,onRemoveSelfClick:$,isRemovingPermission:!0}),o.close()}};return l().A.isMobile?[s.prefixItem,a].filter(L().O9):[a].filter(L().O9)}))})}}return d=l().A.isMobile?{menuType:y().gu.Modal,title:(0,Q.jsx)(B().sA,{defaultMessage:"Change access",id:"PermissionRoleSelect.Header.ChangeAccess"}),right:(0,Q.jsx)(ae,{}),onClickRight:o.close,height:"100%"}:{menuType:y().gu.Popup,width:264},(0,Q.jsx)(s(890492).A,{className:s(882722).yw8,header:G,footer:(0,Q.jsxs)(Q.Fragment,{children:[q,J?(0,Q.jsx)(ie,{}):void 0]}),...d,children:(0,Q.jsx)(C().A,{type:C().O.Vertical,initialFocus:void 0,sections:a})})}})};function ee(e,t,s){const o=I().p2(e)&&!I().Km(e);return!s&&(!(!o||"public_permission"===t||"bot_permission"===t)&&(0,Q.jsx)(q().A,{imageURL:S().A.images.tooltips.upsells.userReadAndWritePng,imageWidth:240,imageHeight:100,caption:(0,Q.jsx)(B().sA,{defaultMessage:"Users with edit access can edit a page but not share it with others.",id:"permissionRoleSelect.userReadAndWriteUpgradeTooltip.caption"}),title:(0,Q.jsx)(B().sA,{defaultMessage:"Upgrade to add editors",id:"permissionRoleSelect.userReadAndWriteUpgradeTooltip.title"})}))}function te(e,t){if(void 0!==t)return t;switch(e){case"user_permission":case"bot_permission":case"group_permission":case"collection_property_permission":return!0;case"space_permission":case"space_owner_permission":case"explicit_team_permission":case"team_permission":case"team_owner_permission":case"explicit_team_owner_permission":case"explicit_team_guest_permission":case"public_permission":case"trusted_domain_permission":case"exclusive_user_permission":return!1;default:(0,L().HB)(e)}}async function se(e){var t;const{newRole:s,table:o,role:i,type:a,upgradeButtonName:r,environment:d,availableRoles:c,spaceStore:u,onChange:b,onUpgradeButtonClick:g,isUserPermission:f,onRemoveMemberClick:y,onRemoveSelfClick:h,isRemovingPermission:x}=e;if(i===s&&!x)return;const w=()=>{b&&b(s,x)};U().Uo({newRole:s,availableRoles:c});const C=await(0,H().S)(d,{name:"block_read_and_write_role",spaceId:null==u?void 0:u.id,userId:null===(t=n().default.state.currentUserStore)||void 0===t?void 0:t.id});if(ee(s,a,C)&&!l().A.isAdminMode)K().K(d,{from:r,upsell:{type:"product",product:X().Si(d)||"plus",limit:{type:"none"},trialability:"none"},spaceStore:u}),g&&g();else if(function(e,t,s){return s&&(0,k().$q)(t,e)===t&&"none"===e}(s,i,f))h?h():p().ui({showCancel:!0,keepFocus:!1,message:o===P().NX||o===R().y7?(0,Q.jsx)(B().sA,{id:"userPermissionsMenu.removePermissionsModal.removeSelfFromWorkspace.confirmationMessage",defaultMessage:"Are you sure you want to remove your own access? You will lose access to the workspace, and any private pages will be lost."}):(0,Q.jsx)(B().sA,{id:"userPermissionsMenu.removePermissionsModal.removeSelfFromPage.confirmationMessage",defaultMessage:"Are you sure you want to remove your own access?"}),items:[{label:(0,Q.jsx)(B().sA,{id:"userPermissionsMenu.removePermissionsModal.removeSelfButton.label",defaultMessage:"Remove"}),color:"red",onAccept:async()=>{w();const e=n().default.state.sidebarSpaceViewStore;if(!e)return;const t=(0,W().c)(d,e,n().default.state.currentUserSettingsStore);t.length>0?E().uK({environment:d,store:t[0],pageVisitSource:_().y8.LeaveOrRemove}):await(0,N().t)({environment:d,spaceViewStore:e,userSettingsStore:n().default.state.currentUserSettingsStore,userRootStore:n().default.state.currentUserRootStore,pageVisitSource:_().y8.LeaveOrRemove,navigationType:"switchingToOrLoadingSpace"})}}]});else if(function(e,t,s){return s&&(0,k().$q)(t,e)===t}(s,i,f))p().ui({showCancel:!0,keepFocus:!1,message:(0,Q.jsx)(B().sA,{id:"userPermissionsMenu.downgradePermissionsModal.downgradeSelfFromWorkspaceOrPage.confirmationMessage",defaultMessage:"Are you sure you want to downgrade your own access?"}),items:[{label:(0,Q.jsx)(B().sA,{id:"userPermissionsMenu.downgradePermissionsModal.downgradeSelfButton.label",defaultMessage:"Downgrade"}),color:"red",onAccept:w}]});else if(function(e,t){return(t===P().NX||t===R().y7)&&"none"===e}(s,o))if(y)y();else{const e=await async function(e){const{message:t}=e;return new Promise((e=>{p().ui({showCancel:!0,keepFocus:!1,handleCancel:()=>e(!1),message:t,items:[{label:(0,Q.jsx)(B().sA,{id:"userPermissionsMenu.removePermissionsModal.removeUserButton.label",defaultMessage:"Remove"}),color:"red",onAccept:()=>e(!0)}]})}))}({message:(A=!0,A&&(0,m().OX)()?(0,Q.jsx)(B().sA,{id:"userPermissionsMenu.removePermissionsModal.removeUserFromWorkspace.enterprise.confirmationMessage",defaultMessage:"If you remove this member, they will lose workspace access. After their removal, you may transfer their private pages to another member. <transferpagelink>Learn more</transferpagelink>.",values:{transferpagelink:e=>(0,Q.jsx)(v().V,{href:(0,D().x)("guides.transferContent"),external:!0,children:e})}}):A?(0,Q.jsx)(B().sA,{id:"userPermissionsMenu.removePermissionsModal.removeUserFromWorkspace.confirmationMessage",defaultMessage:"Are you sure you want to remove this person? They will lose access to the workspace, and any private pages will be lost."}):(0,Q.jsx)(B().sA,{id:"userPermissionsMenu.removePermissionsModal.removeUserFromPage.confirmationMessage",defaultMessage:"Are you sure you want to remove this person?"}))});e&&w()}else w();var A}function oe(e){const{availableRole:t,role:s,table:o,type:p,isRemovableOverride:m,isNoneOverride:g,upgradeButtonName:f,onUpgradeButtonClick:v,spaceStore:y,workflowId:x,bodyContent:C,shouldDisableRole:A=!1}=e,{label:_,caption:S,hideSelectionCheckIcon:j,icon:k}=(0,Z().R)({type:p,role:t.role,table:o,isRemovable:te(p,m),isNoneOverride:g}),I=(0,c().K8)((()=>null==y?void 0:y.id),[y]),M=(0,i().T)(),R=(0,d().Y0)(),P=(0,a().X)("upgrade_system_sharing"),{onClick:T,key:L,...U}=e.props,E=t.disabledInfo,N=(0,z()._)({name:"block_read_and_write_role",spaceId:I,userId:M}),D=(0,c().K8)((()=>ee(t.role,p,"available"===(null==N?void 0:N.type))),[t,p,N]),W=(0,c().K8)((()=>l().A.isMobile&&!Y().S$()),[]),F=Boolean(D),K=(0,c().K8)((()=>{var e;return null===(e=n().default.getState().sidebarSpaceStore)||void 0===e?void 0:e.canAdmin()}),[]),H=F&&(!K||W)||A,X=(0,u().IS)((()=>({buttonMenuItem:{...l().A.isMobile?ne:void 0,..."none"===t.role&&(l().A.isMobile||x)?{color:O().Tj.red.text.accentPrimary}:void 0,...t.bodyContent?{paddingTop:4,paddingBottom:4}:void 0},disabledButtonMenuItem:l().A.isMobile?{...ne,color:O().Tj.text.tertiary}:{}})),[t.role,x,t.bodyContent]);return R.isMobileNative&&F?null:E&&E.isDisabled?(0,Q.jsx)(h().m,{delayThreshold:0,renderTooltip:e=>(0,Q.jsx)("div",{...e,children:E.disabledMessage}),placement:"right",textWrap:!0,render:o=>(0,Q.jsx)(w().A,{style:X.disabledButtonMenuItem,...o,focused:e.focused,disabled:!0,disabledFeedback:!0,isChecked:s===t.role&&!j,title:(0,Q.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,Q.jsx)("div",{style:{...e.style,marginInlineEnd:D?6:0},children:(0,Q.jsx)(B().sA,{..._})})}),caption:S&&(0,Q.jsx)(B().sA,{...S}),shouldWrapCaption:!0})}):P?(0,Q.jsx)($().N,{source:f,featureName:"block_read_and_write_role",spaceStore:y,upsell:F?null==N?void 0:N.upsell:void 0,tooltipMessage:D||void 0,tooltipPlacement:"left",buttonMenuItemProps:{...U,onClick:T,focused:U.focused||e.focused,caption:S&&(0,Q.jsx)(B().sA,{...S}),shouldWrapCaption:!0,style:X.buttonMenuItem,isChecked:s===t.role&&!j,disabled:H,disabledFeedback:H,isRedOnHover:Boolean(!H&&"none"===t.role&&te(p,m))},title:({upgradeLabel:s})=>(0,Q.jsxs)(b().Ye,{alignItems:"center",justifyContent:"space-between",children:[(0,Q.jsxs)(b().Ye,{alignItems:"center",style:{...e.style,marginInlineEnd:D?6:0},children:[k,(0,Q.jsx)(B().sA,{..._})]}),s,t.tag?(0,Q.jsx)(G().A,{desktopStyle:{marginInlineStart:7},children:e.availableRole.tag}):void 0]})}):(0,Q.jsx)(V().k,{upsell:F&&("unavailable"===(null==N?void 0:N.type)?N.upsell:void 0),spaceStore:y,analyticsName:f,renderUpgradeTooltip:()=>D,tooltipPlacement:"left",onClick:T,onUpgradeClick:v,render:(o,i)=>{const{focused:n,...a}=(0,r().A)(U,o);return(0,Q.jsx)(w().A,{...a,style:H?X.disabledButtonMenuItem:X.buttonMenuItem,focused:n||e.focused,isChecked:s===t.role&&!j,title:(0,Q.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,Q.jsxs)("div",{style:{...e.style,marginInlineEnd:D?6:0,display:"flex",alignItems:"center"},children:[k,(0,Q.jsx)(B().sA,{..._})]}),i,e.availableRole.tag?(0,Q.jsx)(G().A,{desktopStyle:{marginInlineStart:7},children:e.availableRole.tag}):void 0]}),caption:S&&(0,Q.jsx)(B().sA,{...S}),shouldWrapCaption:!0,disabled:H,disabledFeedback:H,isRedOnHover:!H&&"none"===t.role&&te(p,m),body:C})}})}function ie(){const e=(0,u().IS)((()=>({label:{padding:12,backgroundColor:O().Tj.sidebarSecondaryBackground,boxShadow:`0 -1px 0 ${O().Tj.border.secondaryTranslucent}`,marginTop:l().A.isMobile?28:1}})),[]);return(0,Q.jsx)(x().A,{style:e.label,isMultiline:!0,isSmall:!0,children:(0,Q.jsx)(B().sA,{id:"permissionRoleSelect.overrideMessage.caption",defaultMessage:"You’ll override permissions from the parent page if you change this role."})})}const ne={paddingTop:12,paddingBottom:12};function ae(){const e=(0,u().IS)((()=>({exitButton:{height:32,width:32,backgroundColor:O().Tj.palette.gray[75],borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:O().Tj.text.primary}})),[]);return(0,Q.jsx)("div",{style:e.exitButton,children:(0,Q.jsx)(f().I,{icon:j().xMarkFillSmallIcon,size:"sm"})})}},350824:(e,t,s)=>{s.d(t,{EL:()=>o,KG:()=>d,L5:()=>r,PA:()=>u,Q$:()=>n,Wc:()=>m,X5:()=>p,X6:()=>v,YU:()=>g,mx:()=>b,pn:()=>l,sP:()=>i,uH:()=>a,vx:()=>c});const o={role:"none"},i={role:"read_and_write"},n={role:"content_only_editor"},a={role:"comment_only"},l={role:"reader"},r={role:"editor"},d=[],c=[{role:"none"}],u=[{role:"reader"},{role:"none"}],p=[{role:"editor"},{role:"read_and_write"},{role:"comment_only"},{role:"reader"}],m=[{role:"read_and_write"},{role:"comment_only"},{role:"reader"},{role:"none"}],b=[{role:"editor"},{role:"read_and_write"},{role:"content_only_editor"},{role:"comment_only"},{role:"reader"},{role:"none"}],g=[{role:"editor"},{role:"read_and_write"},{role:"reader"},{role:"none"}],f=(0,s(69708).YK)({fullAccessTeamGuestsDisabledMessage:{id:"permissionRoleSelect.teamGuestPermissionItem.disabledPermissionitem.tooltip",defaultMessage:"Teamspace guests can’t have full access."}}),v={role:"editor",disabledInfo:{isDisabled:!0,disabledMessage:s(675133).A.formatMessage(f.fullAccessTeamGuestsDisabledMessage)}}},583690:(e,t,s)=>{s.d(t,{AC:()=>m,I2:()=>u,YC:()=>p});s(296540);var o=()=>s(396896),i=()=>s(807449),n=()=>s(493552),a=()=>s(349679),l=()=>s(995847),r=()=>s(69708),d=s(474848);function c(e){const{enabled:t,labelIfEnabled:s,labelIfDisabled:r}=e;return(0,d.jsx)(o().fI,{gap:4,alignItems:"center",children:t?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(i().I,{icon:a().checkmarkSmallIcon,size:"sm",colorPalette:"blue",colorVariant:"accentPrimary"}),(0,d.jsx)(n().D,{styleKey:"captionRegular",colorVariant:"secondary",children:s})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(i().I,{icon:l().xMarkSmallIcon,size:"sm",colorVariant:"tertiary"}),(0,d.jsx)(n().D,{styleKey:"captionRegular",colorVariant:"tertiary",children:r})]})})}function u(e){const t="none"!==e;return[(0,d.jsx)(c,{enabled:t&&e.read_content,labelIfEnabled:(0,d.jsx)(r().sA,{id:"capabilitiesTooltip.mixedAccess.readContent.enabled",defaultMessage:"Can read content"}),labelIfDisabled:(0,d.jsx)(r().sA,{id:"capabilitiesTooltip.mixedaccess.readContent.disabled",defaultMessage:"Cannot read content"})},"read_content"),(0,d.jsx)(c,{enabled:t&&e.insert_content,labelIfEnabled:(0,d.jsx)(r().sA,{id:"capabilitiesTooltip.mixedaccess.insertContent.enabled",defaultMessage:"Can insert content"}),labelIfDisabled:(0,d.jsx)(r().sA,{id:"capabilitiesTooltip.mixedaccess.insertContent.disabled",defaultMessage:"Cannot insert content."})},"insert_content"),(0,d.jsx)(c,{enabled:t&&e.update_content,labelIfEnabled:(0,d.jsx)(r().sA,{id:"capabilitiesTooltip.mixedaccess.updateContent.enabled",defaultMessage:"Can update content"}),labelIfDisabled:(0,d.jsx)(r().sA,{id:"capabilitiesTooltip.mixedaccess.updateContent.disabled",defaultMessage:"Cannot update content"})},"update_content"),(0,d.jsx)(c,{enabled:t&&e.insert_comment,labelIfEnabled:(0,d.jsx)(r().sA,{id:"capabilitiesTooltip.insertComment.enabled",defaultMessage:"Can comment"}),labelIfDisabled:(0,d.jsx)(r().sA,{id:"capabilitiesTooltip.insertComment.disabled",defaultMessage:"Cannot comment"})},"insert_comment"),(0,d.jsx)(c,{enabled:t&&e.read_comment,labelIfEnabled:(0,d.jsx)(r().sA,{id:"capabilitiesTooltip.readComment.enabled",defaultMessage:"Can read comments"}),labelIfDisabled:(0,d.jsx)(r().sA,{id:"capabilitiesTooltip.readComment.disabled",defaultMessage:"Cannot read comments"})},"read_comment")]}function p(e){return[(0,d.jsx)(c,{enabled:e.read_user_without_email,labelIfEnabled:(0,d.jsx)(r().sA,{id:"capabilitiesTooltip.userAccess.readUsers.enabled",defaultMessage:"Can view users"}),labelIfDisabled:(0,d.jsx)(r().sA,{id:"capabilitiesTooltip.userAccess.readUsers.disabled",defaultMessage:"Cannot view users"})},"read_user_without_email"),(0,d.jsx)(c,{enabled:e.read_user_with_email,labelIfEnabled:(0,d.jsx)(r().sA,{id:"capabilitiesTooltip.userAccess.readUserEmailAddresses.enabled",defaultMessage:"Can view user email addresses"}),labelIfDisabled:(0,d.jsx)(r().sA,{id:"capabilitiesTooltip.userAccess.readUserEmailAddresses.disabled",defaultMessage:"Cannot view user email addresses"})},"read_user_with_email")]}function m(e){return[(0,d.jsx)(c,{enabled:e.link_preview,labelIfEnabled:(0,d.jsx)(r().sA,{id:"capabilitiesTooltip.linkPreview.enabled",defaultMessage:"Can preview links."}),labelIfDisabled:(0,d.jsx)(r().sA,{id:"capabilitiesTooltip.linkPreview.disabled",defaultMessage:"Cannot preview links."})},"link_preview"),(0,d.jsx)(c,{enabled:e.synced_database,labelIfEnabled:(0,d.jsx)(r().sA,{id:"capabilitiesTooltip.syncedDatabase.enabled",defaultMessage:"Can sync databases."}),labelIfDisabled:(0,d.jsx)(r().sA,{id:"capabilitiesTooltip.syncedDatabase.disabled",defaultMessage:"Cannot sync databases."})},"synced_database")]}}}]);