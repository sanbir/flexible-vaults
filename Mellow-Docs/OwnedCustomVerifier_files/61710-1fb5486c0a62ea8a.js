"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[61710],{12591:(e,t,n)=>{n.d(t,{C:()=>s});var o=()=>n(726637),i=()=>n(401497),r=()=>n(100622),a=()=>n(284371);function s(){return(0,i().IS)((()=>({popup:{...o().A.isMobile&&{borderStartStartRadius:12,borderStartEndRadius:12,overflow:"hidden"}},menuScroller:o().A.isMobile?{background:r().Tj.background.secondary}:{},header:o().A.isMobile?{display:"flex",justifyContent:"center",alignItems:"center",fontSize:16,fontWeight:a().Wy.semibold,background:r().Tj.background.secondary,height:45}:{paddingInlineStart:12,paddingInlineEnd:12,paddingTop:8,fontWeight:a().Wy.medium},subheader:o().A.isMobile?{display:"flex",justifyContent:"start",alignItems:"center",fontSize:15,fontWeight:a().Wy.medium,background:r().Tj.background.secondary,height:45,color:r().Tj.text.secondary,paddingInlineStart:16,paddingInlineEnd:16}:{paddingInlineStart:16,paddingInlineEnd:16,paddingTop:10,fontWeight:a().Wy.semibold},sectionMenuItem:o().A.isMobile?{overflow:"hidden",background:r().Tj.background.elevated,borderRadius:12,marginInlineStart:16,marginInlineEnd:16,marginBottom:16,borderWidth:1,borderStyle:"solid",borderColor:r().Tj.border.secondary,padding:void 0}:{},buttonMenuItem:o().A.isMobile?{backgroundColor:r().Tj.background.elevated,paddingTop:12,paddingBottom:12,borderBottomWidth:1,borderBottomStyle:"solid",borderBottomColor:r().Tj.border.secondary}:{},buttonMenuItemPressed:{background:r().Tj.buttonPressedBackground},transparentButtonMenuItemBorder:{borderBottomColor:"transparent"},title:o().A.isMobile?{fontSize:16}:{},icon:{...o().A.isMobile?{height:24,width:24}:{height:20,width:20}},checkIcon:{...o().A.isMobile?{height:20,width:20}:{height:16,width:16}}})),[])}},104077:(e,t,n)=>{n.d(t,{r:()=>i});n(296540);const o={viewBox:"0 0 20 20",fittedViewBox:"2.79 2.35 14.41 15.68",svg:(0,n(474848).jsx)("path",{d:"M10 2.355a2.35 2.35 0 0 0-2.253 1.686 5.06 5.06 0 0 0-2.803 4.527v1.189c0 .919-.334 1.806-.939 2.498l-.818.935c-.881 1.007-.166 2.583 1.173 2.583h3.02a2.65 2.65 0 0 0 5.24 0h3.02c1.339 0 2.054-1.576 1.173-2.583l-.818-.935a3.8 3.8 0 0 1-.939-2.498v-1.19a5.06 5.06 0 0 0-2.803-4.526A2.35 2.35 0 0 0 10 2.355m1.5 13.418a1.55 1.55 0 0 1-2.998 0zM8.909 4.564A1.104 1.104 0 0 1 10 3.605c.556 0 1.017.415 1.091.96l.049.353.329.138a3.81 3.81 0 0 1 2.337 3.512v1.189c0 1.221.444 2.401 1.248 3.32l.818.936a.307.307 0 0 1-.232.51H4.36a.308.308 0 0 1-.232-.51l.818-.935a5.04 5.04 0 0 0 1.248-3.321v-1.19c0-1.58.963-2.936 2.337-3.511l.33-.138z"})},i=(0,n(340498).wt)("bell",o,"default")},138873:(e,t,n)=>{n.d(t,{tx:()=>X,ZR:()=>ee,Of:()=>Q,Ay:()=>te,uJ:()=>J});n(898992),n(354520),n(581454),n(737550);var o=n(296540),i=()=>n(756117),r=()=>n(726637),a=()=>n(484714),s=()=>n(590526),d=()=>n(401497),l=()=>n(97879),c=()=>n(807449),u=()=>n(695115),m=()=>n(373009),g=()=>n(26697),p=()=>n(634201),h=()=>n(349679),x=()=>n(546703),v=n(474848);const f={viewBox:"0 0 16 16",fittedViewBox:"1.88 1.87 13.8 13.8",svg:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("path",{d:"M8 1.875a6.125 6.125 0 1 0 .918 12.182l.091-.014-.032-.087a4 4 0 0 1-.233-1.056l-.006-.08-.08.01q-.323.045-.658.045a4.875 4.875 0 1 1 4.83-4.216l-.01.079.08.006q.555.044 1.056.233l.087.032.014-.092q.068-.449.068-.917A6.125 6.125 0 0 0 8 1.875"}),(0,v.jsx)("path",{d:"M5.892 6.025c-.444 0-.779.413-.779.891s.335.891.78.891c.443 0 .778-.413.778-.891s-.335-.891-.779-.891m4.216 0c-.444 0-.779.413-.779.891s.335.891.779.891.779-.413.779-.891-.335-.891-.779-.891M6.499 9.323a.575.575 0 0 0-.954.642A2.96 2.96 0 0 0 9.008 11.1l.03-.011.013-.03a3.9 3.9 0 0 1 1.374-1.658l.066-.045-.048-.063a.576.576 0 0 0-.933.03 1.82 1.82 0 0 1-1.506.802A1.81 1.81 0 0 1 6.5 9.323m6.1.202a3.075 3.075 0 1 0 0 6.15 3.075 3.075 0 0 0 0-6.15m-.425 1.409a.425.425 0 1 1 .85 0v1.241h1.242a.425.425 0 1 1 0 .85h-1.242v1.242a.425.425 0 0 1-.85 0v-1.242h-1.242a.425.425 0 0 1 0-.85h1.242z"})]})},j=(0,n(340498).wt)("emojiFacePlusSmall",f,"small");var y=()=>n(69708),b=()=>n(100622),S=()=>n(534177),I=()=>n(182641),T=()=>n(383594),C=()=>n(56086),w=()=>n(508398),k=()=>n(87878),A=()=>n(115512),B=()=>n(486666),R=()=>n(547149),z=()=>n(249349),M=()=>n(528787),E=()=>n(250910),W=()=>n(546926),_=()=>n(463438),P=()=>n(890492),L=()=>n(424400),D=()=>n(712030),O=()=>n(683097),K=()=>n(811879);function N({reactionStores:e,initialIndex:t}){const[n,i]=o.useState(t),r=(0,y().tz)(),a=(0,D().Ol)(),d=(0,s().K8)((()=>e.map(((e,t)=>{const o=e.getIcon();if(!o)return;const i="raw"!==a||p().qg.isCustomEmojiString(o);return(0,v.jsx)("span",{style:i&&t!==n?{opacity:.5}:{},children:(0,v.jsx)(C().A,{size:14,char:o})},o)})).filter(S().O9)),[e,n,a]),l=(0,s().K8)((()=>e[n].getActorStores().map((e=>({id:e.id,store:e,name:e.getDisplayName(r)}))).filter(S().O9)),[e,n,r]);return(0,v.jsxs)(P().A,{menuType:W().gu.ActionSheet,children:[(0,v.jsx)(_().LZ,{tabStyle:{flex:1,justifyContent:"center",display:"flex",minWidth:60},tabs:d,selectedIndex:n,onChange:e=>i(e)}),l.map((e=>(0,v.jsx)(L().Ay,{title:e.name,dontShrinkIcon:!0,icon:(0,v.jsx)(K().E,{authorStore:e.store,avatarSize:20,avatarStyle:{width:20,height:20}})},e.id)))]})}function V(e){const t=(0,a().Y0)(),n=(0,s().K8)((()=>l().L.getUserVisibleReactions(e.store)),[e.store]),i=(0,o.useRef)(null),d=(0,O().A)({onLongPress:()=>{var e;return null===(e=i.current)||void 0===e?void 0:e.setOpen(!0)}});if(!r().A.isMobile)return(0,v.jsx)(v.Fragment,{children:e.children});const c=n.findIndex((t=>!e.reactionStore||t===e.reactionStore))??0;return(0,v.jsx)(E().A,{bottomSheetBackgroundColor:"elevated",ref:i,renderOrigin:()=>(0,v.jsx)("div",{...d,onTouchStart:e=>{e.stopPropagation(),d.onTouchStart()},onTouchMove:e=>{e.stopPropagation(),d.onTouchMove(e)},onTouchEnd:e=>{e.stopPropagation(),d.onTouchEnd()},onTouchCancel:e=>{e.stopPropagation(),d.onTouchCancel()},children:e.children}),bottomSheetInitialState:"half",popupType:t.isTablet?E().z.Popup:E().z.BottomSheet,render:()=>(0,v.jsx)(N,{initialIndex:c,reactionStores:n})},e.store.id)}const U=(0,y().YK)({addReaction:{defaultMessage:"Add reaction",id:"ReactionBar.newReaction.ariaLabel"},resolveDiscussion:{defaultMessage:"Resolve",id:"ReactionBar.resolveDiscussion.ariaLabel"},emojiPickerTitle:{defaultMessage:"Reaction",id:"ReactionBar.emojiModalMenu.title"}});function F(){return(0,d().IS)((()=>({reaction:{...Q,display:"flex",justifyContent:"center",alignItems:"center",gap:"4px",borderRadius:"100px",fontSize:14,fontVariantNumeric:"tabular-nums",...r().A.isMobile?ee:{},paddingTop:2,paddingInlineEnd:8,paddingBottom:2,paddingInlineStart:8,border:"none"},count:{fontSize:A().Kw},reacted:{border:"none",fontWeight:500},countNoReact:{color:b().Tj.text.secondary},emojiStyle:{paddingTop:1,color:"black",display:"flex"}})),[])}function $(e){const{store:t,disabled:n,onClick:o,size:i}=e,r=(0,s().K8)((()=>t.getActors()),[t]),d=(0,s().K8)((()=>t.getIcon()),[t]),l=F(),c=i??16,{currentUser:u}=(0,a().v3)();if(!r||!d)return null;if(0===r.length)return null;const p=r.some((e=>e.id===u.id)),h={...l.count,...!p&&l.countNoReact};return(0,v.jsx)(g().m,{textWrap:!0,style:{maxWidth:250,width:"max-content"},placement:"bottom",delayThreshold:300,renderTooltip:()=>(0,v.jsx)(Z,{store:t,icon:d}),render:e=>(0,v.jsxs)(m().E,{colorPalette:p?"blue":void 0,disabled:n,style:l.reaction,onClick:o,...e,children:[(0,v.jsx)("span",{style:l.emojiStyle,children:(0,v.jsx)(C().A,{size:c,char:d})}),(0,v.jsx)("span",{style:h,children:r.length})]})})}function H(e){const{parentStore:t,reactions:n,disabled:i,onReact:r}=e,[a,s]=(0,o.useState)(e.maxReactionsToShow),l=n.slice(0,a),c=void 0!==a?n.length-a:0,u=F(),m=(0,d().IS)((()=>({remaining:{...u.reaction,...u.count,color:b().Tj.text.secondary}})),[u.reaction,u.count]);return(0,v.jsxs)(v.Fragment,{children:[l.map((e=>(0,v.jsx)(V,{reactionStore:e,store:t,children:(0,v.jsx)($,{disabled:i,store:e,onClick:()=>{null==r||r(e)}})},e.id))),c>0?(0,v.jsx)("div",{role:"button",tabIndex:0,style:m.remaining,onClick:()=>s(void 0),children:(0,v.jsx)(y().sA,{defaultMessage:"+{count}",id:"ReactionBar.remaining",values:{count:c}})}):null]})}function Z({store:e,icon:t}){const n=(0,y().tz)(),o=(0,s().K8)((()=>e.getActorStores()),[e]),i=(0,s().K8)((()=>o.map((e=>e.getDisplayName(n))).filter(S().O9)),[o,n]),r=p().qg.isCustomEmojiString(t),a=(0,s().K8)((()=>{if(r){const e=p().qg.fromCustomEmojiString(t).pointer;return(0,k().nA)({parentStore:void 0,pointer:e})}}),[t,r]),d=(0,s().K8)((()=>{if(null!=a&&a.isDefined())return null==a?void 0:a.getModel().getRenderTitle()}),[a]);return r?a?(0,v.jsx)(w().A,{type:"custom",customEmojiStore:a,text:(0,v.jsx)(q,{names:i,emojiNameOrIcon:(0,v.jsx)("span",{className:"notranslate",children:d}),isDeletedCustomEmoji:!1}),deletedText:(0,v.jsx)(q,{names:i,emojiNameOrIcon:(0,v.jsx)("span",{className:"notranslate",children:d}),isDeletedCustomEmoji:!0})}):null:(0,v.jsx)(w().A,{type:"unicode",emoji:t,text:(0,v.jsx)(q,{names:i,emojiNameOrIcon:(0,v.jsx)(C().A,{size:12,char:t}),isDeletedCustomEmoji:!1})})}function q({names:e,emojiNameOrIcon:t,isDeletedCustomEmoji:n}){const o=(0,d().IS)((()=>({text:{color:b().Tj.text.inverseSecondary}})),[]);return e.length>50?(0,v.jsx)(y().sA,{defaultMessage:"{additionalNames, plural, one {{names} and {additionalNames} other <medium>reacted with</medium> {icon}} other {{names} and {additionalNames} others <medium>reacted with</medium> {icon}}} {isDeletedCustomEmoji, select, true {<medium>(deleted)</medium>} other {}}",id:"ReactionBar.hoverTooltip.textAbbreviated",values:{additionalNames:e.length-50,names:e.slice(0,50).join(", "),medium:e=>(0,v.jsx)("span",{style:o.text,children:e}),icon:t,isDeletedCustomEmoji:n}}):(0,v.jsx)(y().sA,{defaultMessage:"{nameOrNames} <medium>reacted with</medium> {icon} {isDeletedCustomEmoji, select, true {<medium>(deleted)</medium>} other {}}",id:"ReactionBar.hoverTooltip.text",values:{numberOfNames:e.length,nameOrNames:e.join(", "),medium:e=>(0,v.jsx)("span",{style:o.text,children:e}),icon:t,isDeletedCustomEmoji:n}})}function G(e){const{store:t,discussionLocation:n,onEmojiSelection:i,style:s}=e,l=(0,a().v3)(),m=(0,o.useRef)(null),g=(0,d().IS)((()=>({container:{padding:2,display:"flex",boxShadow:b().Tj.shadowSM,backgroundColor:b().Tj.buttonGroupBackground,borderRadius:r().A.isMobile?3:4,...s},iconButton:{height:24,width:24,flex:"0 0 auto"}})),[s]),p=(0,y().tz)();return(0,v.jsx)("div",{style:g.container,children:(0,v.jsx)(u().A,{hasBackground:!0,ariaLabel:p.formatMessage(U.addReaction),showShadow:!1,icon:()=>(0,v.jsx)(c().I,{icon:x().r,colorVariant:"secondary"}),style:g.iconButton,ref:m,onClick:()=>J(l,p,t,null==m?void 0:m.current,n,i)})})}function Y({store:e,discussionLocation:t,onEmojiSelection:n}){const i=(0,a().v3)(),r=(0,o.useRef)(null),s=F(),d=(0,y().tz)();return(0,v.jsx)(m().E,{style:{...s.reaction,minWidth:"2em"},ref:r,onClick:()=>J(i,d,e,null==r?void 0:r.current,t,n),children:(0,v.jsx)(c().I,{icon:j,size:"sm",colorVariant:"secondary"})})}function J(e,t,n,o,i,r){if(!(o instanceof Element))return;const a=o.getBoundingClientRect();T().W(e,{originGap:4,originRect:a,popupWidth:B().jv,popupHeight:B().GF,isSmallWidth:!1,title:t.formatMessage(U.emojiPickerTitle),currentTab:"emoji",tabs:[{type:"emoji",title:(0,v.jsx)(y().sA,{defaultMessage:"Emoji",id:"recordIcon.emojiTab.title"}),hideRandomButton:!0,onChange:(t,o)=>{r&&r(),R().createAndCommit({environment:e,userAction:"Comment.toggleReactionFromMenu",canUndo:!0,perform:r=>{M().toggleReaction({environment:e,transaction:r,store:n,icon:t,discussionLocation:i}),o&&o.keepVisible||T().I()}})}}]})}function X(e){const{parentStore:t,discussionLocation:n,onReact:m,focused:p,showAddReactionButton:f=!0,additionalItems:j}=e,[S,T]=(0,o.useState)(!1),C=(0,d().IS)((()=>({container:{gap:"4px",marginTop:"feed_item_top_level_discussion"===n||"page_discussion"===n?0:12,paddingBottom:0,display:"flex",flexWrap:"wrap",alignItems:"center",willChange:"transform",transition:"transform 200ms ease",transformOrigin:"center left",transform:p?"scale3d(1.05)":"scale(1)"},actionButton:{borderRadius:"50%",marginInlineStart:2},postReactionButton:{...Q,width:40,paddingTop:0,paddingInlineEnd:10,paddingBottom:0,paddingInlineStart:10,borderRadius:13,borderWidth:1,borderColor:b().Tj.border.secondary,borderStyle:"solid",...r().A.isMobile?ee:{},border:"none",background:b().Tj.background.secondary}})),[p,n]),w=e=>{R().createAndCommit({userAction:"Discussion.handleResolve",environment:k,canUndo:!0,perform:e=>{(0,z().j)({environment:k,discussionStore:t,transaction:e,discussionLocation:n})}}),I().UP(),null==e||e.stopPropagation()},k=(0,a().v3)(),A=(0,s().K8)((()=>!!k.currentUser.isLoggedIn()&&t.canComment()),[t,k.currentUser]),B=(0,s().K8)((()=>!!k.currentUser.isLoggedIn()&&(t.canEdit()&&"feed_item_top_level_discussion"!==n)),[t,k.currentUser,n]),E=(0,o.useRef)(null),W=(0,y().tz)(),_=S||e.focused,P=(0,s().K8)((()=>l().L.getUserVisibleReactions(t)),[t]),L=()=>{J(k,W,t,null==E?void 0:E.current,n,m)},D=(0,o.useCallback)((e=>{e.isDefined()&&(null==m||m(),("margin_comments"!==n||p)&&R().createAndCommit({environment:k,userAction:"Comment.toggleReaction",canUndo:!0,perform:o=>M().toggleReaction({environment:k,transaction:o,store:t,icon:e.getIcon(),discussionLocation:n})}))}),[k,t,n,p,m]);return(0,v.jsxs)("div",{onMouseEnter:()=>T(!0),onMouseLeave:()=>T(!1),style:C.container,children:[(0,v.jsx)(H,{parentStore:t,reactions:P,disabled:!A,onReact:D,maxReactionsToShow:r().A.isMobile?6:void 0}),f?(0,v.jsxs)(i().A,{animate:{opacity:_?1:0,visibility:_?"visible":"hidden"},style:{display:"flex",alignItems:"center",marginInlineStart:2},children:[A?(0,v.jsx)(V,{store:t,children:(0,v.jsx)(g().m,{renderTooltip:()=>(0,v.jsx)(y().sA,{...U.addReaction}),render:t=>(0,v.jsx)(u().A,{style:"feed_item_top_level_discussion"===e.discussionLocation?C.postReactionButton:C.actionButton,hasBackground:!1,showShadow:!1,ref:E,icon:()=>(0,v.jsx)(c().I,{icon:x().r,colorVariant:"secondary"}),onClick:L,...t,ariaLabel:W.formatMessage(U.addReaction)})})}):void 0,B?(0,v.jsx)(g().m,{renderTooltip:()=>(0,v.jsx)(y().sA,{...U.resolveDiscussion}),render:e=>(0,v.jsx)(u().A,{style:{borderRadius:"50%",marginInlineStart:4},hasBackground:!1,showShadow:!1,icon:()=>(0,v.jsx)(c().I,{icon:h().checkmarkSmallIcon,size:"sm",colorVariant:"secondary"}),onClick:w,...e,ariaLabel:W.formatMessage(U.resolveDiscussion)})}):void 0]}):void 0,j]})}const Q={height:25},ee={height:32,borderRadius:100,fontSize:13,paddingTop:1,paddingInlineEnd:12,paddingBottom:1,paddingInlineStart:12,minWidth:44,transform:"translateZ(0)"},te=o.memo((function(e){const{parentStore:t,discussionLocation:o,onReactionToggle:i,newReactionStyle:r}=e,d=(0,a().v3)(),c=(0,s().K8)((()=>!!d.currentUser.isLoggedIn()&&t.canComment()),[t,d.currentUser]),u=(0,s().K8)((()=>l().L.getUserVisibleReactions(t)),[t]),m=(0,s().K8)((()=>{if(t.table===n(343666).SN){const e=t.getParentBlockStore();return Boolean(e&&e.pathIsDead())}if(t.table===n(197959).$Y){const e=t.getParentStore();return Boolean(e&&e.pathIsDead())}return!1}),[t]),g=(0,n(59226).X)("enable_reactions_for_trashed_blocks"),p=m&&!g,h=c&&!p&&u.length>0&&"updates_menu_archive"!==o,x=c&&!p&&0===u.length;return(0,v.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:"4px"},children:[u.map((e=>(0,v.jsx)(V,{reactionStore:e,store:t,children:(0,v.jsx)($,{disabled:!c||p,store:e,onClick:()=>{if(e.isDefined()){const n=R().createAndCommit({environment:d,userAction:"Comment.toggleReaction",canUndo:!0,perform:n=>M().toggleReaction({environment:d,transaction:n,store:t,icon:e.getIcon(),discussionLocation:o})});void 0!==n.performResult&&i&&i(n.performResult)}}})},e.id))),h?(0,v.jsx)(V,{store:t,children:(0,v.jsx)(Y,{store:t,discussionLocation:o,onEmojiSelection:void 0!==i?()=>i("Added"):void 0})}):void 0,x?(0,v.jsx)(G,{store:t,discussionLocation:o,onEmojiSelection:void 0!==i?()=>i("Added"):void 0,style:r}):void 0]})}))},199103:(e,t,n)=>{n.d(t,{H:()=>r});n(296540);var o=n(474848);const i={viewBox:"0 0 20 20",fittedViewBox:"4.12 2.37 11.75 15.25",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M9.134 5.001c-.236-.667-1.18-.667-1.415 0L6.28 9.084a.5.5 0 1 0 .943.332l.276-.784h1.857l.276.784a.5.5 0 0 0 .944-.332zm-.708 1.001.576 1.63h-1.15zM10.75 5a.5.5 0 0 0 0 1h2.5a.5.5 0 0 0 0-1zm.313 3a.5.5 0 0 1 .5-.5h1.687a.5.5 0 0 1 0 1h-1.687a.5.5 0 0 1-.5-.5M6.75 10.708a.5.5 0 0 0-.5.5v3.715a.5.5 0 0 0 .845.362l1.101-1.05a.25.25 0 0 1 .347.003l.675.657a.5.5 0 0 0 .734-.038l1.189-1.435a.25.25 0 0 1 .375-.01l1.368 1.467a.5.5 0 0 0 .866-.341v-3.33a.5.5 0 0 0-.5-.5zm2.554 2.435a.696.696 0 1 1 0-1.393.696.696 0 0 1 0 1.393"}),(0,o.jsx)("path",{d:"M6.25 2.375A2.125 2.125 0 0 0 4.125 4.5v11c0 1.174.951 2.125 2.125 2.125h7.5a2.125 2.125 0 0 0 2.125-2.125v-11a2.125 2.125 0 0 0-2.125-2.125zM5.375 4.5c0-.483.392-.875.875-.875h7.5c.483 0 .875.392.875.875v11a.875.875 0 0 1-.875.875h-7.5a.875.875 0 0 1-.875-.875z"})]})},r=(0,n(340498).wt)("docRichText",i,"default")},362976:(e,t,n)=>{function o(e){const t=e.getSchema();if(t)for(const[o,i]of Object.entries(t)){var n;if(i&&"text"===i.type&&"summarize"===(null===(n=i.ai_inference)||void 0===n?void 0:n.type)){const t=e.getPropertyValue(o);if(t)return t}}}n.d(t,{E:()=>o})},404905:(e,t,n)=>{n.d(t,{j:()=>l});var o=n(296540),i=()=>n(484714),r=()=>n(401497),a=()=>n(284371),s=()=>n(26697);var d=n(474848);function l(e){const{children:t,style:n,overlayContainerZIndex:l,placement:c="bottom",tooltipStyle:u}=e,{isSafari:m}=(0,i().Y0)(),g=(0,o.useRef)(null),p=function(e){const[t,n]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{const{current:t}=e;if(!t)return void n(!1);const o="ResizeObserver"in window?new ResizeObserver((([e])=>{n(e.target.scrollWidth>e.target.clientWidth)})):void 0;return null==o||o.observe(t),()=>null==o?void 0:o.unobserve(t)}),[]),t}(g),h=(0,r().IS)((()=>({overflowText:{...a().RC,...n}})),[n]);return(0,d.jsx)(s().m,{delayThreshold:500,placement:c,textWrap:!0,style:u,overlayContainerZIndex:l,forceVisibleState:!(m||!p)&&void 0,renderTooltip:()=>p?t:void 0,render:e=>(0,d.jsx)("div",{ref:g,style:h.overflowText,...e,children:t})})}},463438:(e,t,n)=>{n.d(t,{Jy:()=>l,LZ:()=>c,vU:()=>d});n(581454);var o=n(296540),i=()=>n(100622),r=()=>n(546926),a=n(474848);function s({tabs:e,selectedIndex:t,onChange:s,separatorIndexes:c,right:u,style:m,rightStyle:g,tabStyle:p,tabTitleStyle:h,selectedTabTitleStyle:x,tabBorderStyle:v,selectedTabStyle:f,readOnly:j,hideTabBorder:y,idPrefix:b,hideTabIndexes:S}){const I=(0,o.useContext)(r().xu),{WindowSizeStore:T}=(0,n(484714).v3)(),{safePaddingLeft:C,safePaddingRight:w}=(0,n(590526).K8)((()=>({safePaddingLeft:T.getSafePaddingLeftCSS(16),safePaddingRight:T.getSafePaddingRightCSS(16)})),[T]),k=(0,n(401497).IS)((()=>{const e={paddingTop:6,paddingBottom:6,whiteSpace:"nowrap",minWidth:0,flexShrink:0,color:i().Tj.text.secondary,...p},t=`inset 0 -1px 0 ${i().Tj.border.secondaryTranslucent}`,o=I.menuType===r().gu.Popup,a={fontSize:16,paddingTop:2,paddingInlineStart:o?16:C,paddingInlineEnd:o?16:w,zIndex:2,height:44,background:i().Tj.popoverBackground};return{container:{overflowY:"visible",overflowX:"auto",display:"flex",width:"100%",position:"relative",boxShadow:y?void 0:t,...n(726637).A.isMobile?a:{fontSize:14,paddingInlineStart:8,paddingInlineEnd:8,zIndex:1},...m},separator:{display:"inline-flex",alignItems:"center",margin:"0 4px",paddingBottom:4,whiteSpace:"nowrap",minWidth:0,flexShrink:0,color:i().Tj.border.secondaryTranslucent},tab:e,selectedTab:{...e,position:"relative",color:i().Tj.text.primary,...f},border:{borderBottom:`2px solid ${i().Tj.text.primary}`,position:"absolute",bottom:0,insetInlineStart:8,insetInlineEnd:8,...v},rightContainer:{flexGrow:1,display:"flex",alignItems:"center",justifyContent:"flex-end",color:i().Tj.text.secondary,...g}}}),[I.menuType,g,C,w,f,m,v,p,y]);return(0,a.jsxs)("div",{className:"hide-scrollbar",style:k.container,role:"tablist",children:[e.map(((e,i)=>{if(null!=S&&S.includes(i))return null;const r=i===t;return(0,a.jsxs)(o.Fragment,{children:[(0,a.jsxs)("div",{style:r?k.selectedTab:k.tab,children:[(0,a.jsx)(n(631524).p,{role:"tab",style:{...h,...r?x:{}},onClick:()=>s(i),disabled:j,"aria-selected":r,id:d(b,i),"aria-controls":l(b,i),colorPalette:r?void 0:"gray",children:e}),r?(0,a.jsx)("div",{style:k.border}):void 0]},`tabButton-${i}`),c&&c.includes(i)?(0,a.jsx)("div",{style:k.separator,className:"notranslate",children:"|"},`${i}-separator`):void 0]},i)})),u?(0,a.jsx)("div",{style:k.rightContainer,children:u}):void 0]})}function d(e,t){if(e)return`${e}-tab-${t}`}function l(e,t){if(e)return`${e}-tabpanel-${t}`}const c=o.memo(s)},490242:(e,t,n)=>{n.d(t,{f:()=>x});var o=n(296540),i=()=>n(484714),r=()=>n(590526),a=()=>n(206267),s=()=>n(201980),d=()=>n(567141),l=()=>n(837622),c=()=>n(358006),u=()=>n(362976),m=()=>n(990261),g=()=>n(871830),p=n(474848);const h=20;function x(e){const t=(0,i().v3)(),{store:n,startBlockId:x,size:v,isDiscussion:f}=e,j=(0,g().O)(),y=(0,r().K8)((()=>u().E(n)),[n]),b=y&&s().FAw(y)>=h,S=(0,o.useMemo)((()=>a().JW()),[]),I=(0,r().K8)((()=>{var e;if("tall"===v)return 200;const t=n.getModel();return!t||!t.isCollectionView()||t.hasWikiBlockUri()||null!==(e=n.getAssociatedCollectionStore())&&void 0!==e&&e.isPageTreeCollection()?84:125}),[v,n]);return(0,o.useEffect)((()=>{const e=m().uk.getCurrentPageVisitId();return d().Z3(t,{hover_session_id:S,mentioned_page_id:n.pointer.id,hover_content_type:b?"ai_summary":"content_preview",page_visit_id:e}),()=>{d().Q_(t,{hover_session_id:S,hover_content_type:b?"ai_summary":"content_preview",mentioned_page_id:n.pointer.id,page_visit_id:e})}}),[t,S,b,n.pointer.id]),x||!b?(0,p.jsx)(c().z,{variant:"default",store:n,coverFormat:{type:"page_content"},allowVideoPlayback:!1,coverContentFadedOverlay:!0,coverContentFadedOverlayStyle:j.contentCoverFade,coverHeight:I,startBlockId:x,contentWrapStyle:j.contentCover,imageCoverWrapStyle:j.imageCoverWrap,emptyGalleryCoverStyle:j.contentCoverEmpty,loadingShimmerStyle:j.loadingShimmer,showLoadingShimmer:!0,showEmptyGalleryCover:!0,onLoadProxiedImage:()=>{},rendererBlockStyle:j.rendererBlockStyle,renderAdditionalBlocks:!0,exactBlockOnlyNoContentCover:f}):(0,p.jsx)("div",{children:(0,p.jsx)("div",{style:j.summary,children:(0,p.jsx)(l().A,{textValue:y,parentStore:n})})})}},499512:(e,t,n)=>{n.d(t,{d:()=>c});n(296540);var o=()=>n(401497),i=()=>n(807449),r=()=>n(26697),a=()=>n(403733),s=()=>n(69708),d=()=>n(100622),l=n(474848);function c(e){const{enableIcon:t,onClick:n,gradientColor:c}=e,u=(0,o().IS)((()=>({moreCommentsWrapper:{position:"absolute",display:"flex",justifyContent:"center",alignItems:"flex-start",zIndex:1,insetInlineStart:0,insetInlineEnd:0,height:30,background:`linear-gradient(to bottom, ${d().Tj.contentBackgroundTransparent} 0px, ${c??d().Tj.selectedMarginDiscussionBackground} 30px)`,marginTop:-28},tooltip:{...(0,r().n)(!1),cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center",marginTop:-4,borderRadius:6,paddingTop:4,paddingInlineEnd:10,paddingBottom:4,paddingInlineStart:8,gap:5}})),[c]);return(0,l.jsx)("div",{style:u.moreCommentsWrapper,children:(0,l.jsxs)("div",{tabIndex:0,role:"button",style:u.tooltip,onClick:n,children:[t?(0,l.jsx)(i().I,{colorVariant:"inversePrimary",icon:a().arrowStraightDownSmallIcon,size:"xxs"}):null,(0,l.jsx)(s().sA,{defaultMessage:"See more",id:"discussion.moreMessageTooltip"})]})})}},508398:(e,t,n)=>{n.d(t,{A:()=>r});n(296540);var o=()=>n(302501),i=n(474848);const r=function(e){const{type:t,emoji:r,customEmojiStore:a,text:s,deletedText:d,subText:l}=e,c=(0,n(590526).K8)((()=>"custom"===t&&a.isDefined()&&a.getAlive()),[a,t]),u=(0,n(401497).IS)((()=>({container:{alignItems:"center"},label:{color:n(100622).Tj.text.inversePrimary,fontWeight:n(284371).Wy.medium,textAlign:"center",overflowWrap:"anywhere"},emojiContainer:{background:"white",borderRadius:4,padding:4,display:"flex",lineHeight:1,marginTop:2}})),[]);return(0,i.jsxs)(n(249046).wt,{gap:4,style:u.container,children:["custom"===t&&c?(0,i.jsx)("div",{style:u.emojiContainer,children:(0,i.jsx)(n(448664).A,{emojiStore:a,size:40})}):"unicode"===t?(0,i.jsx)("div",{style:u.emojiContainer,children:(0,i.jsx)(n(56086).A,{size:40,char:r})}):null,(0,i.jsx)(o().A,{isSmall:!0,isMultiline:!0,style:u.label,children:"unicode"===t||c?s:d}),l?(0,i.jsx)(o().A,{isSmall:!0,isMultiline:!0,style:u.label,children:l}):void 0]})}},768631:(e,t,n)=>{n.d(t,{k:()=>o,w:()=>i});const o=260,i=24},871830:(e,t,n)=>{n.d(t,{O:()=>l,d:()=>d});var o=()=>n(401497),i=()=>n(100622),r=()=>n(284371),a=()=>n(115512),s=()=>n(768631);function d(){return(0,o().IS)((()=>({wrapper:{width:s().k},coverContainer:{height:36,zIndex:1},content:{padding:"0 16px"},breadcrumb:{color:i().Tj.text.tertiary,fontSize:11,marginBottom:-2,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"100%"},pageTitle:{display:"inline",fontWeight:r().Wy.semibold,color:i().Tj.text.primary,fontSize:13,lineHeight:1.15},pageTitleIcon:{zIndex:2,position:"relative",marginInlineStart:16,marginTop:-15,marginBottom:8},pageTitleContainer:{...(0,a().pA)(2),verticalAlign:"top",lineHeight:1.15},empty:{height:16},highlightedBlockWrapper:{display:"flex",marginBottom:8}})),[])}function l(){return(0,o().IS)((()=>({icon:{height:16,width:16,fill:i().Tj.purple.icon.accentPrimary,marginInlineEnd:2},title:{fontSize:12,color:i().Tj.purple.icon.accentPrimary},summary:{...(0,a().pA)(4),fontSize:12,lineHeight:1.35,color:i().Tj.text.secondary,marginBottom:12},contentCover:{color:i().Tj.text.primary,fontSize:11,lineHeight:1.5,marginBottom:0,width:"110%",transform:"translateX(-13px) translateY(-2px) scale(0.91)"},contentCoverEmpty:{height:16},imageCoverWrap:{marginBottom:16},contentCoverFade:{height:48,background:`linear-gradient(to bottom, transparent, ${i().Tj.background.elevated} 100%)`},loadingShimmer:{marginBottom:0},rendererBlockStyle:{fontSize:9}})),[])}},877349:(e,t,n)=>{n.d(t,{y:()=>g});n(581454),n(296540);var o=()=>n(590526),i=()=>n(249046),r=()=>n(495576),a=()=>n(187820),s=()=>n(128295),d=()=>n(16006),l=()=>n(768631),c=()=>n(871830),u=()=>n(490242),m=n(474848);function g(e){const{store:t,contentBlocks:n,events:g,size:p="regular",isDiscussion:h,hideCover:x=!1,hideIcon:v=!1,hideTitle:f=!1}=e,j=(0,c().d)(),{icon:y,isEmptyPage:b,content:S}=(0,o().K8)((()=>{if(!t)return{icon:void 0,isEmptyPage:!1,content:null};const e=t.isEmptyPage(),o=e?(0,m.jsx)("div",{style:{height:l().w}}):n?n.map(((e,n)=>(0,m.jsx)("div",{style:j.highlightedBlockWrapper,children:(0,m.jsx)(u().f,{store:t,startBlockId:null==e?void 0:e.id,size:p,isDiscussion:h})},`${e.id}_${n}`))):(0,m.jsx)(u().f,{store:t,size:p});return{icon:t.getIcon(),isEmptyPage:e,content:o}}),[t,n,j.highlightedBlockWrapper,p,h]),I=(0,o().K8)((()=>(0,a().Te)(t)),[t]);return t?(0,m.jsxs)("div",{style:j.wrapper,...g,children:[x?void 0:(0,m.jsx)("div",{style:j.coverContainer,children:(0,m.jsx)(r().d,{store:t,disabled:!0,paddingLeft:0,paddingRight:0,height:36,proxyWidth:260})}),v?void 0:(0,m.jsx)(a().B6,{disabled:!0,icon:y,iconRecordCategory:I,isEmptyPage:b,isLarge:!0,disableShrinking:!0,size:26,emojiSize:26,largeIcon:!0,style:j.pageTitleIcon}),(0,m.jsxs)(i().wt,{gap:4,style:j.content,children:[f?void 0:(0,m.jsxs)(i().wt,{gap:2,children:[(0,m.jsx)(s().Ay,{store:t,style:j.breadcrumb}),(0,m.jsx)("div",{style:j.pageTitleContainer,children:(0,m.jsx)(d().A,{shouldWrap:!0,maxLines:2,store:t,style:j.pageTitle})})]}),S]})]}):null}}}]);