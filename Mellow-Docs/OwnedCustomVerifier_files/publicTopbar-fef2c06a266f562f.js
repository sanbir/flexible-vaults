"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[4460],{22634:(e,t,i)=>{i.d(t,{O:()=>a});i(296540);var n=i(474848);const o={viewBox:"0 0 20 20",fittedViewBox:"4.42 3.97 12.16 12.06",directional:!0,svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"m5.492 4.158 5.4 5.4a.625.625 0 0 1 0 .884l-5.4 5.4a.625.625 0 1 1-.884-.884L9.566 10 4.608 5.042a.625.625 0 1 1 .884-.884"}),(0,n.jsx)("path",{d:"m16.392 10.442-5.4 5.4a.625.625 0 0 1-.884-.884L15.066 10l-4.958-4.958a.625.625 0 0 1 .884-.884l5.4 5.4a.625.625 0 0 1 0 .884"})]})},a=(0,i(340498).wt)("arrowChevronDoubleForward",o,"default")},35889:(e,t,i)=>{i.d(t,{aL:()=>y,T7:()=>x,Hi:()=>S,$4:()=>v});i(296540);var n=()=>i(564884),o=()=>i(792057),a=()=>i(584262),l=()=>i(427704),s=()=>i(69708),r=()=>i(329458),d=()=>i(314529);var c=()=>i(687633),u=()=>i(729283),g=()=>i(486674),p=()=>i(492414),m=()=>i(171598),b=()=>i(619206),f=()=>i(968877),h=i(474848);async function v(e){(0,r().L)(e,{variant:"open_notion"}),(0,c().u)(e,{target:"open_notion"}),await u().VE(e,{utmContent:"topbar_cta",nextRoute:l().JZ.root})}function x(e,t){const{RouterStore:i}=e,n=i.state.route,r=(0,g().a)();if(function(e){(0,d().DO_NOT_USE_trackLegacy)(e,"public_page_topbar_edit_click",{},{dontWait:!0})}(e),"page"===n.name&&n.requestedOnPublicDomain&&r){const t=(0,p().Ay)({store:r,preferPublicLink:!1,pageVisitSource:a().y8.EditPublicPage,disableSlug:!0,embedded:!1});(0,m().navigateOnBaseUrl)({environment:e,url:t,openInNewTab:n.embedded})}else e.currentUser.isLoggedIn()?o().ui({showCancel:!0,keepFocus:!1,message:(0,h.jsx)(s().sA,{defaultMessage:"When you start editing, your name, email and photo may become visible to anyone who can view the page.",id:"action.startPublicEditDialog.message"}),items:[{label:(0,h.jsx)(s().sA,{defaultMessage:"Continue",id:"action.startPublicEditDialog.continueLabel"}),color:"blue",onAccept(){b().A.setState({editing:!0,commenting:!0})}}]}):(f().iZ({currentUserId:e.currentUser.id,blockId:t}),(0,m().navigateOnBaseUrl)({environment:e,url:l().JZ.login}))}function y(e,t){const{RouterStore:i}=e,n=i.state.route,o=(0,g().a)();if(function(e){(0,d().DO_NOT_USE_trackLegacy)(e,"public_page_topbar_comment_click",{},{dontWait:!0})}(e),"page"===n.name&&n.requestedOnPublicDomain&&o){const t=(0,p().Ay)({store:o,preferPublicLink:!1,pageVisitSource:a().y8.CommentPublicPage,disableSlug:!0,embedded:!1});(0,m().navigateOnBaseUrl)({environment:e,url:t,openInNewTab:n.embedded})}else f().iZ({currentUserId:e.currentUser.id,blockId:t}),(0,m().navigateOnBaseUrl)({environment:e,url:l().JZ.login})}function S(e,t){(0,n().u)({environment:e,event:{eventName:"report_form_clicked",eventProperties:{form_id:t}}}),(0,m().navigateOnBaseUrl)({environment:e,url:l().JZ.reportInappropriateForm})}},70191:(e,t,i)=>{i.d(t,{s:()=>d});var n=i(296540),o=()=>i(205127),a=()=>i(725655),l=()=>i(573792),s=i(474848);function r({store:e}){const t=(0,n.useMemo)((()=>(0,a().d)(e.id)),[e.id]);return(0,s.jsx)(o().oK,{route:t,style:(0,l().lx)(),maxAncestorCount:2,ancestorMaxWidth:160,currentPageMaxWidth:240,showCurrentPageControls:!0})}function d(e){const{store:t,isInvalidPage:i}=e;return!i&&(0,s.jsx)(r,{store:t})}},104077:(e,t,i)=>{i.d(t,{r:()=>o});i(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"2.79 2.35 14.41 15.68",svg:(0,i(474848).jsx)("path",{d:"M10 2.355a2.35 2.35 0 0 0-2.253 1.686 5.06 5.06 0 0 0-2.803 4.527v1.189c0 .919-.334 1.806-.939 2.498l-.818.935c-.881 1.007-.166 2.583 1.173 2.583h3.02a2.65 2.65 0 0 0 5.24 0h3.02c1.339 0 2.054-1.576 1.173-2.583l-.818-.935a3.8 3.8 0 0 1-.939-2.498v-1.19a5.06 5.06 0 0 0-2.803-4.526A2.35 2.35 0 0 0 10 2.355m1.5 13.418a1.55 1.55 0 0 1-2.998 0zM8.909 4.564A1.104 1.104 0 0 1 10 3.605c.556 0 1.017.415 1.091.96l.049.353.329.138a3.81 3.81 0 0 1 2.337 3.512v1.189c0 1.221.444 2.401 1.248 3.32l.818.936a.307.307 0 0 1-.232.51H4.36a.308.308 0 0 1-.232-.51l.818-.935a5.04 5.04 0 0 0 1.248-3.321v-1.19c0-1.58.963-2.936 2.337-3.511l.33-.138z"})},o=(0,i(340498).wt)("bell",n,"default")},277201:(e,t,i)=>{i.d(t,{I:()=>S,i:()=>k});var n=i(296540),o=()=>i(756117),a=()=>i(726637),l=()=>i(484714),s=()=>i(590526),r=()=>i(401497),d=()=>i(75435),c=()=>i(882722),u=()=>i(695115),g=()=>i(26697),p=()=>i(387964),m=()=>i(69708),b=()=>i(100622),f=()=>i(180252),h=()=>i(869562),v=()=>i(749687),x=()=>i(35392),y=i(474848);function S(e){const t=(0,l().v3)(),i=(0,l().Y0)(),n=(0,m().tz)(),o=(0,s().O$)(v().sidebarMouseEnteredStore),a=(0,s().O$)(d().b),r=(0,s().O$)((0,f().$o)(t)),c=n.formatMessage({defaultMessage:"Close sidebar",id:"sidebarUnexpandButton.closeSidebar.tooltip"}),u=(!i.isElectronMac||!r)&&!a&&o;return(0,y.jsx)(k,{isVisible:u,icon:p().S,caption:c,onClick:()=>{h().closeSidebarFromTopbarUnexpandButton(t)},keyboardShortcutName:"toggleSidebar",style:e.style,hoveredStyle:e.hoveredStyle})}function k(e){const t=(0,l().Y0)(),i=(0,r().IS)((()=>({keyboardShortcut:{color:b().Tj.text.inverseSecondary},button:{fill:b().Tj.icon.secondary}})),[]),s=(0,n.useMemo)((()=>({position:"relative",marginInlineStart:10,...a().A.isMobile&&{height:"100%"},...i.button,...e.style})),[e.style,i.button]);return e.isVisible?(0,y.jsx)(g().m,{renderTooltip:()=>(0,y.jsxs)("div",{children:[(0,y.jsx)("div",{children:e.caption}),e.keyboardShortcutName?(0,y.jsx)(x().A,{style:i.keyboardShortcut,name:e.keyboardShortcutName}):void 0]}),originGap:6,placement:t.isElectron?"right":"bottom",render:t=>(0,y.jsx)(o().A,{tag:u().A,animate:{opacity:e.isVisible?1:0},ariaLabel:e.caption,disabled:!e.isVisible,icon:{icon:e.icon,size:"lg",style:{fill:"inherit"}},style:s,hoveredStyle:e.hoveredStyle,onClick:e.onClick,className:c().P7S,...t})}):null}},278116:(e,t,i)=>{i.d(t,{i:()=>f});i(814603),i(147566),i(198721),i(296540);var n=()=>i(242422),o=()=>i(726637),a=()=>i(590526),l=()=>i(401497),s=()=>i(802149),r=()=>i(69708),d=()=>i(100622),c=()=>i(284371),u=()=>i(326406),g=()=>i(905654),p=()=>i(20489),m=i(474848);const b=(0,r().YK)({signupTitleForSpace:{id:"signupPage.titleForSpace",defaultMessage:"Welcome to {company} on Notion"},signupTitleTryNotionMobileCTA:{id:"signupPage.title.tryNotionMobileCTA",defaultMessage:"Sign up to create a Notion page"},signupDefaultSubtitle:{id:"signupPage.revamped.signInText",defaultMessage:"Create your Notion account"},signupWorkEmailSubtitle:{id:"signupPage.workEmail.signInText",defaultMessage:"Sign up with your work email"},signupUpworkTitle:{id:"signupPage.upwork.title",defaultMessage:"Try Notion Plus, on us"},signupUpworkSubtitle:{id:"signupPage.upwork.signInText",defaultMessage:"Sign up to get started"},signupPerfmarkTrialTitle:{id:"signupPage.perfmarkTrial.title",defaultMessage:"Start your free Notion Plus trial"},signupPerfmarkTrialSubtitle:{id:"signupPage.smb.signInText",defaultMessage:"No credit card required"},signupFormResponseTitle:{id:"signupPage.formResponse.title",defaultMessage:"Sign up to see a copy of your form response"},mailTitle:{id:"signupPage.mail.title",defaultMessage:"Welcome to Notion Mail"},calendarTitle:{id:"signupPage.calendar.title",defaultMessage:"Welcome to Notion Calendar"},signupReferralTitle:{id:"signupPage.referral.title",defaultMessage:"Try Notion Business, on us"},signupReferralSignInText:{id:"signupPage.referral.signInText",defaultMessage:"Sign up using a business email"},signupAddAnotherAccountSubtitle:{id:"signupPage.addAnotherAccount.subtitle",defaultMessage:"Log in or create an account"},loginNotionAcademyTitle:{id:"signupPage.title.fromSourceNotionAcademy",defaultMessage:"Log in to view this lesson"},loginTemplateGalleryTitle:{id:"signupPage.title.fromSourceNotionTemplateGallery",defaultMessage:"Log in to duplicate this template"},loginTitleFromTemplate:{id:"loginPage.title.fromTemplate",defaultMessage:"Log in to get this template"},signupAddAnotherAccountTitle:{id:"signupPage.addAnotherAccount.title",defaultMessage:"Add an account"},loginAddAnotherAccountSubtitle:{id:"loginPage.addAnotherAccount.subtitle",defaultMessage:"Use an existing account, or sign up with a new email"},loginFormResponsePromptTitle:{id:"loginPage.formResponsePrompt.title",defaultMessage:"Log in or sign up to see your form response"},defaultTitle:{id:"loginPage.revamped.title",defaultMessage:"Your AI workspace."},titleForWorkEmailExperiment:{id:"loginPage.workEmail.title",defaultMessage:"Notion: your AI workspace."},loginStartupProgramSubtitle:{id:"loginPage.startupProgram.subtitle",defaultMessage:"Claim your free trial"},defaultLoginSubtitle:{id:"loginPage.revamped.logInText",defaultMessage:"Log in to your Notion account"},meetingNotesTitle:{id:"loginPage.meetingNotes.title",defaultMessage:"Try AI Meeting Notes for Free"},createAWorkAccountTitle:{id:"loginPage.createAWorkAccount.title",defaultMessage:"Create a work account"},createAWorkAccountSubtitle:{id:"loginPage.createAWorkAccount.subtitle",defaultMessage:"We’ll check if your teammates are already on Notion. If not, we’ll create a new home for you and your team."}});function f(e){const{spaceName:t,isSignup:i,isUpworkSignup:f,isPerfmarkTrialSignup:h,isAddAnotherAccount:v,isReferralSignup:x,isStartupProgram:y,isTemplateLogin:S,isCreateAWorkAccount:k,isOnFrontSignupPage:A,centerText:P}=e,j=new URLSearchParams(window.location.search),M=i&&o().A.isMobile&&j.get("try_notion_cta"),T=(0,a().K8)((()=>(0,u().A)()),[]),I=(0,g().Nz)(),_=(0,g().EB)(),w=(0,a().K8)((()=>p().b.isMicrosoftVerification()),[]),C=s().J0(),L=(0,a().K8)((()=>A?n().default.getEligibleGroup({experimentId:"signup_page_for_work",defaultGroup:"control"}):"control"),[A]),E="placeholder_and_copy"===L||"placeholder_and_copy_and_banner_v1"===L||"placeholder_and_copy_and_banner_v2"===L;const N=(0,l().IS)((()=>{const e={fontWeight:c().Wy.semibold,fontSize:22,lineHeight:"26px",margin:0,textWrap:"balance"};return{wrapper:{display:"flex",flexDirection:"column",textAlign:P?"center":"start",width:x?360:320},title:{...e},subtitle:{...e,color:d().Tj.text.tertiary}}}),[x,P]);if(w)return null;const{title:B,subtitle:D}=function(){if(i){if(t)return{title:{...b.signupTitleForSpace,values:{company:t}}};if("mobile"===M)return{title:b.signupTitleTryNotionMobileCTA};{const e=E?b.signupWorkEmailSubtitle:b.signupDefaultSubtitle;return"meeting_notes"===C?{title:b.meetingNotesTitle,subtitle:e}:f?{title:b.signupUpworkTitle,subtitle:b.signupUpworkSubtitle}:h?{title:b.signupPerfmarkTrialTitle,subtitle:b.signupPerfmarkTrialSubtitle}:T?{title:b.signupFormResponseTitle}:I?{title:b.mailTitle,subtitle:e}:_?{title:b.calendarTitle,subtitle:e}:x?{title:b.signupReferralTitle,subtitle:b.signupReferralSignInText}:k?{title:b.createAWorkAccountTitle,subtitle:b.createAWorkAccountSubtitle}:v?{title:b.signupAddAnotherAccountTitle,subtitle:b.signupAddAnotherAccountSubtitle}:{title:E?b.titleForWorkEmailExperiment:b.defaultTitle,subtitle:e}}}{const e=j.get("from");if(o().A.isAdminMode)return{title:"Log In (Admin Mode)"};if(e)switch(e){case"notion_academy":return{title:b.loginNotionAcademyTitle};case"notion_template_gallery":return{title:b.loginTemplateGalleryTitle}}return S?{title:b.loginTitleFromTemplate}:v?{title:b.signupAddAnotherAccountTitle,subtitle:b.loginAddAnotherAccountSubtitle}:T?{title:b.loginFormResponsePromptTitle}:y?{title:b.defaultTitle,subtitle:b.loginStartupProgramSubtitle}:I?{title:b.mailTitle,subtitle:b.defaultLoginSubtitle}:_?{title:b.calendarTitle,subtitle:b.defaultLoginSubtitle}:"meeting_notes"===C?{title:b.meetingNotesTitle,subtitle:b.defaultLoginSubtitle}:{title:b.defaultTitle,subtitle:b.defaultLoginSubtitle}}}();return(0,m.jsxs)("div",{style:N.wrapper,children:[(0,m.jsx)("h1",{style:N.title,children:"string"==typeof B?B:(0,m.jsx)(r().sA,{...B})}),D?(0,m.jsx)("h2",{style:N.subtitle,children:(0,m.jsx)(r().sA,{...D})}):void 0]})}},387964:(e,t,i)=>{i.d(t,{S:()=>a});i(296540);var n=i(474848);const o={viewBox:"0 0 20 20",fittedViewBox:"3.42 3.97 12.16 12.06",directional:!0,svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M3.608 10.442a.625.625 0 0 1 0-.884l5.4-5.4a.625.625 0 0 1 .884.884L4.934 10l4.958 4.958a.625.625 0 1 1-.884.884z"}),(0,n.jsx)("path",{d:"m14.508 4.158-5.4 5.4a.625.625 0 0 0 0 .884l5.4 5.4a.625.625 0 1 0 .884-.884L10.434 10l4.958-4.958a.625.625 0 1 0-.884-.884"})]})},a=(0,i(340498).wt)("arrowChevronDoubleBackward",o,"default")},687633:(e,t,i)=>{i.d(t,{u:()=>o});var n=()=>i(314529);function o(e,t){(0,n().DO_NOT_USE_trackLegacy)(e,"template_gallery_public_page_topbar_click",t,{dontWait:!0})}},697430:(e,t,i)=>{i.d(t,{K:()=>o});var n=()=>i(564884);function o({environment:e,source:t,sourceData:i,formId:o}){(0,n().u)({environment:e,event:{eventName:"forms_growth_click",eventProperties:{source:t,source_data:i,form_id:o}}})}},783423:(e,t,i)=>{i.d(t,{M:()=>a});var n=()=>i(79926);const o=new(n().O2)("topbarStopSuggestModeButton",(async()=>await Promise.all([i.e(75134),i.e(35530),i.e(9773),i.e(36556),i.e(55373),i.e(36192),i.e(40537),i.e(71562),i.e(96346),i.e(44711),i.e(53321),i.e(51220),i.e(16471),i.e(37353),i.e(37571),i.e(29151),i.e(40118),i.e(50397),i.e(62475),i.e(3151),i.e(98629),i.e(22926),i.e(22900),i.e(42838),i.e(85128),i.e(49889),i.e(20108),i.e(46174),i.e(27992),i.e(63452),i.e(66249),i.e(92845),i.e(87249),i.e(79022),i.e(44854),i.e(34877),i.e(46414),i.e(11676),i.e(61165),i.e(47668),i.e(94522),i.e(44584),i.e(24587),i.e(67494),i.e(3651),i.e(38293),i.e(40992),i.e(88455),i.e(64556),i.e(33893),i.e(91793),i.e(55162),i.e(71003),i.e(32370),i.e(26264),i.e(36437),i.e(50363),i.e(42660),i.e(44590),i.e(55113),i.e(85071),i.e(7914),i.e(25588),i.e(68637),i.e(23640),i.e(72252),i.e(93134),i.e(12452),i.e(52871),i.e(29351),i.e(18825),i.e(71853),i.e(93049),i.e(22582),i.e(18636),i.e(87289),i.e(16060),i.e(34281),i.e(48376),i.e(35279),i.e(80229),i.e(77754),i.e(71309),i.e(74562),i.e(39986),i.e(47431),i.e(47160),i.e(76677),i.e(68609),i.e(37384),i.e(15553),i.e(77345),i.e(67720),i.e(37759),i.e(41423),i.e(13955),i.e(42056),i.e(14699),i.e(57924),i.e(5181),i.e(3261),i.e(19456),i.e(17729),i.e(45147),i.e(65375),i.e(32116),i.e(94995),i.e(98339),i.e(51240),i.e(82641),i.e(20029),i.e(68395),i.e(81803),i.e(96654),i.e(68643),i.e(32625),i.e(63687),i.e(95885),i.e(27083),i.e(78999),i.e(11424),i.e(40119),i.e(54742),i.e(38946),i.e(90880),i.e(49175),i.e(8852),i.e(5331),i.e(92924),i.e(71381),i.e(1947),i.e(96385),i.e(80326),i.e(53352),i.e(2373),i.e(5315),i.e(995),i.e(76690),i.e(60713),i.e(31106),i.e(63248),i.e(54719),i.e(48570),i.e(78862),i.e(54234),i.e(85160),i.e(15381),i.e(50525),i.e(15922),i.e(77651),i.e(51204),i.e(34974),i.e(58672),i.e(95103),i.e(58071),i.e(75681)]).then(i.bind(i,271459)))),a=(0,n()._h)(o,(e=>e.TopbarStopSuggestModeButton))},839003:(e,t,i)=>{i.d(t,{S:()=>k});var n=i(296540),o=()=>i(242422),a=()=>i(726637),l=()=>i(484714),s=()=>i(852507),r=()=>i(590526),d=()=>i(401497),c=()=>i(406094),u=()=>i(160432),g=()=>i(558687),p=()=>i(651784),m=()=>i(427704),b=()=>i(69708),f=()=>i(769864),h=()=>i(697430),v=()=>i(326589),x=()=>i(578872),y=()=>i(911909),S=i(474848);function k(e){const{store:t}=e,i=(0,l().v3)(),[k,A]=(0,n.useState)(!1),P=(0,d().IS)((()=>({notionLogoStyleMobile:{width:16,height:16},notionLogoStyleDesktop:{width:16,height:16},notionLogoTrailing:{marginInlineStart:4}})),[]),{isForm:j,formId:M,spaceId:T}=(0,r().K8)((()=>({isForm:t.isFormBlock(),formId:t.id,spaceId:t.getSpaceId()})),[t]),I=(0,r().K8)((()=>{const e=i.RouterStore.state.route;return(0,p().bh)(e)}),[i]),_=(0,r().K8)((()=>j?k&&x().hn(t):x().hn(t)),[t,j,k]),w=(0,r().K8)((()=>_?"control":a().A.isMobile?void 0:o().default.getEligibleGroup({experimentId:"sites_cta_content_2",defaultGroup:"control"})),[_]),C=(0,r().K8)((()=>!_&&a().A.isMobile&&!(0,v().g)()&&"on"===o().default.getEligibleGroup({experimentId:"sites_update_mobile_cta_content",defaultGroup:"control"})),[_]);(0,s().w)((()=>{j&&async function(){var e;const n=i.currentUser.id,o=await f().callApi({eventName:"getFormData",environment:i,data:{formId:t.id,spaceId:t.getSpaceId()},userId:n});"failed"!==o.type&&A((null===(e=o.data.additionalFeatures)||void 0===e?void 0:e.customization)??!1)}()}));const L=(0,n.useCallback)((async()=>{j?((0,h().K)({environment:i,source:"public_topbar_cta",sourceData:"Made with Notion",formId:M}),await y().lY({environment:i,route:m().JZ.signup,formId:M,spaceId:T,openInNewTab:I})):await y().Cy({environment:i,route:m().JZ.signup,openInNewTab:I})}),[j,i,M,T,I]);if(_)return null;const E={padding:a().A.isMobile?"0 8px":"0 10px",marginInlineStart:8,...C&&{maxWidth:128,overflow:"hidden",justifyContent:"left",textOverflow:"ellipsis",whiteSpace:"nowrap"}};function N(e){if(!e||"control"===e||"black_background"===e)return(0,S.jsxs)(S.Fragment,{children:[a().A.isMobile?void 0:(0,S.jsx)(b().sA,{defaultMessage:"Made with",id:"topbar.publicPage.cta.label.madeWithNotion"}),C?(0,S.jsx)(b().sA,{defaultMessage:"Get Notion free",id:"topbar.publicPage.cta.label.getNotionFree"}):(0,g().notionIcon)(a().A.isMobile?P.notionLogoStyleMobile:{...P.notionLogoStyleDesktop,...P.notionLogoTrailing})]});switch(e){case"try_notion_sites":return(0,S.jsx)(b().sA,{defaultMessage:"Try Notion Sites",id:"topbar.publicPage.cta.label.tryNotionSites"});case"get_notion_free":return(0,S.jsx)(b().sA,{defaultMessage:"Get Notion free",id:"topbar.publicPage.cta.label.getNotionFree"});default:return(0,S.jsxs)(S.Fragment,{children:[a().A.isMobile?void 0:(0,S.jsx)(b().sA,{defaultMessage:"Made with",id:"topbar.publicPage.cta.label.madeWithNotion"}),(0,g().notionIcon)(a().A.isMobile?P.notionLogoStyleMobile:{...P.notionLogoStyleDesktop,...P.notionLogoTrailing})]})}}return w&&"control"!==w?(0,S.jsx)(u().A,{size:"lg",style:E,onClick:L,children:N(w)}):(0,S.jsx)(c().A,{size:"lg",style:E,onClick:L,children:N(w)})}},964704:(e,t,i)=>{i.r(t),i.d(t,{PublicTopbar:()=>Ce});var n=i(296540),o=()=>i(484714),a=()=>i(792485),l=()=>i(590526),s=()=>i(792057),r=()=>i(267956),d=()=>i(584262),c=()=>i(340498),u=()=>i(651784),g=()=>i(427704),p=()=>i(69708),m=()=>i(835435),b=()=>i(725951),f=()=>i(492414),h=()=>i(997513),v=()=>i(278116),x=()=>i(215152),y=()=>i(968877),S=()=>i(619206),k=()=>i(171598),A=()=>i(321874),P=()=>i(16006),j=()=>i(269345),M=()=>i(976582),T=()=>i(911909),I=()=>i(70191),_=()=>i(863059),w=()=>i(401497),C=()=>i(406094),L=()=>i(631524),E=()=>i(22634),N=()=>i(49621),B=()=>i(105819),D=()=>i(783423),K=()=>i(499764),U=()=>i(554283),F=()=>i(869562),R=()=>i(644914),O=()=>i(737230),W=()=>i(77246),z=(i(898992),i(354520),i(581454),()=>i(295633)),G=()=>i(834051),V=()=>i(996332),J=()=>i(142748),Z=()=>i(179034),q=()=>i(578872),H=()=>i(187820),Y=i(474848);function $(e){const{store:t}=e,i=(0,l().K8)((()=>t.getSpaceStore()),[t]),n=(0,l().K8)((()=>{var e;if(!i)return[];const n=q().GN(t),o=null==n||null===(e=n.getSiteStore())||void 0===e||null===(e=e.getHeader())||void 0===e?void 0:e.customItems;return o?o.filter((e=>"block"===e.type)):[]}),[t,i]);return i&&n&&0!==n.length?(0,Y.jsx)("div",{style:{display:"flex"},children:n.map((e=>(0,Y.jsx)(Q,{spaceStore:i,blockId:e.blockId},e.blockId)))}):null}function Q(e){const{spaceStore:t,blockId:i}=e,{store:n,icon:o,isEmptyPage:a,url:s,isReady:r,hasPublicAccess:c}=(0,l().K8)((()=>{const e=z().B.createChildStore(t,{table:Z().ev,id:i}),n=(0,f().Ay)({store:e,preferPublicLink:!0,pageVisitSource:d().y8.SiteCustomHeader}),o=(0,G().E)(e),a=(0,J().ot)(o);return{store:e,icon:e.getIcon(),isEmptyPage:e.isEmptyPage(),url:n,isReady:e.isReady(),hasPublicAccess:a}}),[t,i]),u=(0,w().IS)((()=>({container:{display:"flex",alignItems:"center",gap:4,padding:4,borderRadius:4},pageTitle:{fontSize:14,wordBreak:"break-word",marginInlineEnd:4}})),[]);return c&&r?(0,Y.jsxs)(V().Q,{href:s,style:u.container,children:[o?(0,Y.jsx)(H().B6,{icon:o,store:n,disabled:!0,size:14,isEmptyPage:a,emojiSize:20}):void 0,(0,Y.jsx)(P().A,{store:n,style:u.pageTitle,maxLength:30})]}):null}var X=()=>i(474370),ee=()=>i(277201),te=()=>i(807449),ie=()=>i(207207);function ne(e){const{store:t,style:i,showTitle:n,onClick:o}=e,a=function(e){return(0,l().K8)((()=>q().Vg(e)),[e])}(t);return a?null:(0,Y.jsxs)(L().p,{onClick:o,children:[(0,Y.jsx)(te().I,{icon:ie().magnifyingGlassIcon,size:"lg",style:i}),n?(0,Y.jsx)(p().sA,{defaultMessage:"Search",id:"topbar.publicPage.searchButton.label"}):void 0]})}const oe={width:c().Ev.lg,height:c().Ev.lg,marginInlineEnd:6};function ae(e){const{store:t,isInvalidPage:i,forkPageRef:a,onDuplicatePageButtonClick:s,onEditButtonClick:r,onCommentButtonClick:d,onSearchButtonClick:c}=e,u=(0,o().v3)(),g=(0,p().tz)(),[m,b]=(0,U().B)(),f=(0,l().K8)((()=>(0,T().JK)()),[]),h=(0,l().K8)((()=>!f&&t.canEdit()&&!S().A.state.editing),[t,f]),v=(0,l().K8)((()=>!f&&!u.currentUser.isLoggedIn()&&t.canComment()&&!t.canEdit()),[u,t,f]),x=(0,l().K8)((()=>(0,K().K1)(t)),[t]),y=(0,l().K8)((()=>O().Ay.state.width),[]),k=(0,l().K8)((()=>(0,R().Nk)(u)),[u]),A=(0,l().K8)((()=>k&&(O().Ay.state.mouseEntered||b)),[k,b]),P=(0,_().Nq)(),j=(0,w().IS)((()=>({container:{display:"flex",width:k?y:void 0,justifyContent:"space-between",paddingInlineStart:P},rightButtons:{display:"flex"}})),[k,y,P]),M=(0,n.useCallback)((()=>{(0,F().setUpdateExpand)({environment:u,isExpanded:!1,from:"topbar",saveDetailsSidebarPreference:!0})}),[u]),I=(0,l().K8)((()=>{var e;return null===(e=W().Uv.getStateForBlock(t.id))||void 0===e?void 0:e.mode}),[t.id]);return(0,Y.jsxs)("div",{style:j.container,ref:m,children:[(0,Y.jsx)(ee().i,{isVisible:A,icon:E().O,caption:g.formatMessage({defaultMessage:"Close panel",id:"defaultPublicTopbar.updateSidebarUnexpandButton.closePanel.tooltip"}),onClick:M,keyboardShortcutName:"toggleUpdateSidebar"}),(0,Y.jsxs)("div",{style:j.rightButtons,children:["suggest"===I?(0,Y.jsx)("div",{style:{marginInlineEnd:2,padding:"0 8px"},children:(0,Y.jsx)(D().M,{store:t,isVisible:"suggest"===I,compact:!1})}):void 0,(0,Y.jsx)($,{store:t}),h?(0,Y.jsx)(C().A,{size:"lg",onClick:r,style:{marginInlineEnd:2,padding:"0 8px"},iconLeading:B().pencilLineIcon,children:(0,Y.jsx)(p().sA,{id:"topbar.publicPage.edit",defaultMessage:"Edit"})}):void 0,!u.currentUser.isLoggedIn()&&v?(0,Y.jsx)(C().A,{size:"lg",onClick:d,style:{marginInlineEnd:2,padding:"0 8px"},iconLeading:N().h,children:(0,Y.jsx)(p().sA,{id:"topbar.publicPage.comment",defaultMessage:"Comment"})}):void 0,(0,Y.jsx)(ne,{store:t,style:oe,showTitle:!0,onClick:c}),x?(0,Y.jsx)(L().p,{ref:a,onClick:s,children:(0,Y.jsx)(p().sA,{defaultMessage:"Duplicate",id:"topbar.publicPage.duplicateButton.label"})}):void 0,(0,Y.jsx)(X().b,{store:t,isInvalidPage:i})]})]})}var le=()=>i(564884),se=()=>i(59226),re=()=>i(242422),de=()=>i(726637),ce=()=>i(100622),ue=()=>i(777505),ge=()=>i(559378),pe=()=>i(795179),me=()=>i(538233),be=()=>i(630722),fe=()=>i(100042),he=()=>i(26697),ve=()=>i(35889);function xe(e){const{iconStyle:t,store:i}=e,n=(0,o().v3)(),a=(0,l().K8)((()=>i.canComment()),[i]),s=(0,l().K8)((()=>S().A.state.commenting),[]),r=(0,l().K8)((()=>(0,T().JK)()),[]);return!a||s||r?null:(0,Y.jsx)(he().m,{renderTooltip:()=>(0,Y.jsx)(p().sA,{id:"topbar.publicPage.commentButton.tooltip",defaultMessage:"Comment"}),placement:"bottom",alignment:"center",originGap:6,render:e=>(0,Y.jsx)(L().p,{...e,onClick:()=>ve().aL(n,i.id),children:(0,Y.jsx)(te().I,{icon:N().h,style:t})})})}function ye(e){const{iconStyle:t,store:i}=e,n=(0,o().v3)(),a=(0,l().K8)((()=>i.canEdit()),[i]),s=(0,l().K8)((()=>S().A.state.editing),[]),r=(0,l().K8)((()=>(0,T().JK)()),[]);return!a||s||r?null:(0,Y.jsx)(he().m,{renderTooltip:()=>(0,Y.jsx)(p().sA,{id:"topbar.publicPage.editButton.tooltip",defaultMessage:"Edit"}),placement:"bottom",alignment:"center",originGap:6,render:e=>(0,Y.jsx)(L().p,{...e,onClick:()=>ve().T7(n,i.id),children:(0,Y.jsx)(te().I,{icon:B().pencilLineIcon,style:t})})})}const Se=n.forwardRef((function(e,t){const{iconStyle:n,onClick:o}=e;return(0,Y.jsx)(he().m,{renderTooltip:()=>(0,Y.jsx)("div",{style:{display:"flex"},children:(0,Y.jsx)(p().sA,{id:"topbar.publicPage.duplicateButton.tooltip",defaultMessage:"Duplicate"})}),placement:"bottom",alignment:"center",originGap:6,render:e=>(0,Y.jsx)(L().p,{onClick:o,ref:t,...e,children:(0,Y.jsx)(te().I,{icon:i(764781).V,style:n})})})}));var ke=()=>i(756117),Ae=()=>i(104077),Pe=()=>i(29037);const je=5e3;function Me({store:e}){const t=(0,o().v3)(),i=(0,w().IS)((()=>({button:{gap:4,paddingInlineStart:8,paddingInlineEnd:8,marginInlineStart:4,marginInlineEnd:4},tooltip:{display:"flex",flexDirection:"column",gap:2,fontWeight:400,paddingTop:2,paddingBottom:2},tooltipHeader:{fontWeight:600},tooltipDescription:{fontWeight:400}})),[]),a=(0,l().O$)(Te),[s,r]=(0,n.useState)(!1),d=()=>{(0,le().u)({environment:t,event:{eventName:"click_get_updates_cta_on_public_site",eventProperties:{page_block_id:e.id}}}),s||(r(!0),setTimeout((()=>{Te.setState(!0)}),je))},{buttonContent:c,icon:u,tooltipContent:g}=s?{buttonContent:(0,Y.jsx)(p().sA,{id:"topbar.publicPage.getUpdates.thanksLabel",defaultMessage:"Thanks"}),icon:Pe().checkmarkIcon,tooltipContent:(0,Y.jsxs)("div",{style:i.tooltip,children:[(0,Y.jsx)("div",{style:i.tooltipHeader,children:(0,Y.jsx)(p().sA,{id:"topbar.publicPage.getUpdates.tooltip.thanks.header",defaultMessage:"This feature is coming soon"})}),(0,Y.jsx)("div",{style:i.tooltipDescription,children:(0,Y.jsx)(p().sA,{id:"topbar.publicPage.getUpdates.tooltip.thanks.description",defaultMessage:"You’ve let us know you’re interested in getting updates to this page"})})]})}:{buttonContent:(0,Y.jsx)(p().sA,{id:"topbar.publicPage.getUpdates.label",defaultMessage:"Get updates"}),icon:Ae().r,tooltipContent:(0,Y.jsxs)("div",{style:i.tooltip,children:[(0,Y.jsx)("div",{style:i.tooltipHeader,children:(0,Y.jsx)(p().sA,{id:"topbar.publicPage.getUpdates.tooltip.header",defaultMessage:"This feature is coming soon"})}),(0,Y.jsx)("div",{style:i.tooltipDescription,children:(0,Y.jsx)(p().sA,{id:"topbar.publicPage.getUpdates.tooltip.description",defaultMessage:"Click to let us know that you’re interested"})})]})};return(0,Y.jsx)(he().m,{renderTooltip:()=>a?null:(0,Y.jsx)("div",{children:g}),style:i.tooltip,placement:"bottom",alignment:"center",originGap:6,render:e=>(0,Y.jsx)(ke().A,{visible:!a,animate:{opacity:a?0:1},children:(0,Y.jsx)(C().A,{...e,size:"lg",style:i.button,onClick:d,iconLeading:{icon:u,size:"sm"},disabled:s,children:c})})})}const Te=new(i(29923).R)({key:"sites_has_checked_get_updates_cta",namespace:i(553737).Bq,important:!0,trackingType:"preference"});var Ie=()=>i(839003);function _e(e){const t=(0,o().v3)(),i=(0,p().tz)(),{store:a,isInvalidPage:s,iconStyle:r,onSearchButtonClick:d,forkPageRef:c,onDuplicatePageButtonClick:u}=e,[g,m]=(0,U().B)(),b=(0,l().K8)((()=>ge().A.isActiveDemo()),[]),f=(0,l().K8)((()=>(0,K().K1)(a)),[a]),h=(0,l().K8)((()=>!q().Zk(a)),[a]),v=(0,l().K8)((()=>{var e;return null===(e=(0,q().GN)(a))||void 0===e||null===(e=e.getSiteStore())||void 0===e?void 0:e.id}),[a]);(0,n.useEffect)((()=>{h&&v&&(0,le().u)({environment:t,event:{eventName:"like_button_displayed_on_public_site",eventProperties:{site_id:v,button_location:"topbar"}}})}),[h,v,t]);const x=(0,l().K8)((()=>!q().yr(a)),[a]),y=(0,l().K8)((()=>O().Ay.state.width),[]),S=(0,l().K8)((()=>(0,R().Nk)(t)),[t]),k=(0,l().K8)((()=>S&&(O().Ay.state.mouseEntered||m)),[S,m]),A=(0,_().Nq)(),P=(0,w().IS)((()=>({container:{display:"flex",width:S?y:void 0,justifyContent:"space-between",paddingInlineStart:A},rightButtons:{display:"flex",alignItems:"center"},verticalBorder:{height:28,width:1,backgroundColor:ce().Tj.border.primary,marginInlineEnd:4}})),[S,y,A]),j=(0,n.useCallback)((()=>{(0,F().setUpdateExpand)({environment:t,isExpanded:!1,from:"topbar",saveDetailsSidebarPreference:!0})}),[t]),M=(0,l().K8)((()=>!de().A.isMobile&&x&&"on"===re().default.getEligibleGroup({experimentId:"public_site_topbar_share_button",defaultGroup:"control"})),[x]),T=(0,se().X)("public_sites_get_updates_button"),I=!de().A.isMobile&&T;return(0,Y.jsxs)("div",{style:P.container,ref:g,children:[(0,Y.jsx)(ee().i,{isVisible:k,icon:E().O,caption:i.formatMessage({defaultMessage:"Close panel",id:"unauthedPublicTopbar.updateSidebarUnexpandButton.closePanel.tooltip"}),onClick:j,keyboardShortcutName:"toggleUpdateSidebar"}),(0,Y.jsxs)("div",{style:P.rightButtons,children:[(0,Y.jsx)($,{store:a}),h?(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(be().f,{store:a,button_location:"topbar"}),(0,Y.jsx)("div",{style:P.verticalBorder})]}):void 0,(0,Y.jsx)(ne,{store:a,onClick:d}),b?void 0:(0,Y.jsxs)(Y.Fragment,{children:[M?(0,Y.jsx)(fe().J,{buttonPopupStore:me().A,store:a}):void 0,f?(0,Y.jsx)(Se,{ref:c,onClick:u,iconStyle:r}):void 0,(0,Y.jsx)(xe,{store:a,iconStyle:r}),(0,Y.jsx)(ye,{store:a,iconStyle:r}),de().A.isMobile||s?void 0:(0,Y.jsx)(ue().A,{store:a,buttonPopupStore:pe().A,useEllipsisIcon:!0}),I?(0,Y.jsx)(Me,{store:a}):void 0,(0,Y.jsx)(Ie().S,{store:a})]})]})]})}const we={width:c().Ev.lg,height:c().Ev.lg};function Ce(e){const{store:t,isInvalidPage:i}=e,s=(0,o().v3)(),d=(0,a().S)(),c=(0,l().uB)(void 0,x().A),p=(0,b().x3)(s),f=(0,_().Kh)({shouldRenderTemplateGalleryTopbar:!1}),w=(0,l().K8)((()=>T().i_({store:t,environment:s})),[t,s]),C=(0,l().K8)((()=>t.isFormBlock()),[t]),L=(0,l().K8)((()=>{const e=s.RouterStore.state.route;return!!(0,u().bh)(e)||Boolean(t.getIsFormClosed()||t.pathIsDead())}),[s,t]),E=(0,n.useRef)(!1);(0,n.useEffect)((()=>{const{RouterStore:e}=s,i=e.state.route,{publicPageData:n}=r().A.state;w&&t.canComment()&&!t.canEdit()&&"page"===i.name&&!i.requestedOnPublicDomain&&T().K6(t,s)&&null!=n&&n.requireLogin?S().A.setState({commenting:!0,editing:!1}):!w||!t.canEdit()||"page"!==i.name||S().A.state.editing||S().A.state.commenting||i.shouldDuplicate||i.requestedOnPublicDomain||!T().K6(t,s)||E.current||null==n||!n.requireLogin||(E.current=!0,Le(s,t,d))}),[s,t,d,w]);const N=(0,n.useCallback)((()=>{y().iZ({currentUserId:s.currentUser.id,blockId:t.id}),Ee(s,d)||(0,k().navigateOnBaseUrl)({environment:s,url:g().JZ.login})}),[s,t,d]),B=(0,n.useCallback)((()=>A()._N({environment:s,analyticsFrom:"public-page-topbar",isPublicPageSearch:!0})),[s]),D=(0,n.useRef)(null),K=(0,n.useCallback)((()=>{var e;const i=null===(e=D.current)||void 0===e?void 0:e.getBoundingClientRect();m().Ul({environment:s,store:t,originRect:i})}),[s,t,D]),U=(0,n.useCallback)((()=>{Le(s,t,d)}),[s,t,d]),F=(0,M().m)({location:"PublicPage"});return(0,Y.jsxs)("div",{style:f,onDoubleClick:T().mz,children:[C&&!L?(0,Y.jsx)(P().A,{store:t,removeIfEmpty:!0,style:{fontSize:14}}):void 0,(0,Y.jsx)(h().z,{loginModalStore:c,title:(0,Y.jsx)(v().i,{isSignup:!0}),isSignup:!0}),(0,Y.jsx)(j()._,{topbarFeatureController:F}),C?void 0:I().s({store:t,isInvalidPage:i}),(0,Y.jsx)("div",{style:{flexGrow:1,flexShrink:1}}),p?(0,Y.jsx)(ae,{store:t,isInvalidPage:i,onEditButtonClick:U,onCommentButtonClick:N,onSearchButtonClick:B,forkPageRef:D,onDuplicatePageButtonClick:K}):(0,Y.jsx)(_e,{store:t,isInvalidPage:i,iconStyle:we,forkPageRef:D,onDuplicatePageButtonClick:K,onSearchButtonClick:B})]})}function Le(e,t,i){Ee(e,i)||(e.currentUser.isLoggedIn()?s().ui({showCancel:!0,keepFocus:!1,message:(0,Y.jsx)(p().sA,{defaultMessage:"When you start editing, your name, email and photo may become visible to anyone who can view the page.",id:"topbar.startPublicEditDialog.message"}),items:[{label:(0,Y.jsx)(p().sA,{defaultMessage:"Continue",id:"topbar.startPublicEditDialog.continueLabel"}),color:"blue",onAccept(){S().A.setState({editing:!0,commenting:!0})}}]}):(y().iZ({currentUserId:e.currentUser.id,blockId:t.id}),(0,k().navigateOnBaseUrl)({environment:e,url:g().JZ.login})))}function Ee(e,t){const{RouterStore:i}=e,n=i.state.route,o=null==t?void 0:t.pageStore;if("page"===n.name&&n.requestedOnPublicDomain&&o){const t=(0,f().Ay)({store:o,preferPublicLink:!1,pageVisitSource:d().y8.EditPublicPage});return(0,k().navigateOnBaseUrl)({environment:e,url:t}),!0}return!1}},969339:(e,t,i)=>{i.d(t,{C6:()=>l,HQ:()=>a,Yo:()=>s});var n=()=>i(79926);const o=new(n().O2)("login",(async()=>{const{default:e}=await Promise.all([i.e(44711),i.e(35837),i.e(38293),i.e(91793),i.e(19456),i.e(65375),i.e(77808),i.e(25192),i.e(96966)]).then(i.bind(i,465209)),{default:t}=await Promise.all([i.e(44711),i.e(35837),i.e(38293),i.e(91793),i.e(19456),i.e(65375),i.e(77808),i.e(25192),i.e(96966)]).then(i.bind(i,406370)),{LoginMobileNative:n}=await Promise.all([i.e(44711),i.e(35837),i.e(38293),i.e(91793),i.e(19456),i.e(65375),i.e(77808),i.e(25192),i.e(96966)]).then(i.bind(i,737515)),{default:o}=await Promise.all([i.e(44711),i.e(35837),i.e(38293),i.e(91793),i.e(19456),i.e(65375),i.e(77808),i.e(25192),i.e(96966)]).then(i.bind(i,990718)),{default:a}=await Promise.all([i.e(44711),i.e(35837),i.e(38293),i.e(91793),i.e(19456),i.e(65375),i.e(77808),i.e(25192),i.e(96966)]).then(i.bind(i,52542));return{LoginPage:e,LoginDesktop:t,LoginMobileNative:n,FrontLoginPage:o,LoginModalContent:a}})),a=(0,n()._h)(o,(e=>e.LoginPage)),l=(0,n()._h)(o,(e=>e.FrontLoginPage)),s=(0,n()._h)(o,(e=>e.LoginModalContent))},997513:(e,t,i)=>{i.d(t,{z:()=>m});var n=i(296540),o=()=>i(726637),a=()=>i(590526),l=()=>i(611648),s=()=>i(394888),r=()=>i(69708),d=()=>i(100622),c=()=>i(376254),u=()=>i(969339),g=()=>i(20489),p=i(474848);function m({loginModalStore:e,title:t,description:i,isSignup:l,disableLoginLink:r,redirectURL:d,className:c,onDismiss:g,trustedDomain:m}){const v=(0,a().K8)((()=>e.state.open),[e]),x=(0,n.useId)(),y=(0,n.useId)(),S={title:t,description:i,isSignup:l,redirectURL:d,disableLoginLink:r,titleAriaId:x,descriptionAriaId:y,trustedDomain:m};return(0,p.jsx)(s().s,{ariaLabelledBy:x,ariaDescribedBy:y,isOpen:v,onDismiss:()=>{h({loginModalStore:e,onDismiss:g})},areaConstraint:{width:{type:"fixed",length:480},height:{type:"unlimited",scroll:"allow"}},deprecatedCompatibilityOverrides:{tabletsUsePhoneDisplayMode:!0},render:()=>(0,p.jsx)(b,{children:(0,p.jsxs)("div",{className:c,children:[o().A.isMobile?void 0:(0,p.jsx)(f,{loginModalStore:e,onDismiss:g}),(0,p.jsx)(u().Yo,{...S})]})})})}function b({children:e}){return o().A.isMobile?(0,p.jsx)(c().H,{type:l().A.Y,children:e}):e}function f({loginModalStore:e,onDismiss:t}){return(0,p.jsx)("div",{style:{fontSize:14,color:d().Tj.text.secondary,position:"absolute",insetInlineEnd:0,marginTop:16,marginInlineEnd:16,cursor:"pointer",zIndex:1},onClick:()=>{h({loginModalStore:e,onDismiss:t})},children:(0,p.jsx)(r().sA,{defaultMessage:"Cancel",id:"sidebarSwitcherMultiAccount.addAccountModal.cancelButton.label"})})}function h(e){const{loginModalStore:t,onDismiss:i}=e;g().b.reset(),t.setState({open:!1}),i&&i()}}}]);