"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[14344,15499,22197],{25500:(e,t,n)=>{n.d(t,{A:()=>i});n(296540);var o=n(474848);function i(e){return(0,o.jsx)("div",{style:{width:"100%",position:"relative",paddingBottom:100*e.ratio+"%"},children:e.children})}},51194:(e,t,n)=>{n.d(t,{a:()=>a});var o=n(296540),i=()=>n(525128);function a(){const e=(0,o.useRef)(!1);return(0,i().E)((()=>(e.current=!0,()=>{e.current=!1})),[]),e}},51367:(e,t,n)=>{n.d(t,{Cu:()=>f,DL:()=>l,Jb:()=>c,Sq:()=>r,Y5:()=>s,gc:()=>u,wo:()=>d});var o=()=>n(564884),i=()=>n(917629),a=()=>n(866727);function l(e,t){const n=(0,i().h2)(t.callout_key);n&&(t.placement_key=(0,i().t9)(n)),(0,o().u)({environment:e,event:{eventName:"callout_show",eventProperties:{...t,callout_src:n?"static":"cio"}}})}function s(e,t){const n=(0,i().h2)(t.callout_key);n&&(t.placement_key=(0,i().t9)(n)),(0,o().u)({environment:e,event:{eventName:"callout_click",eventProperties:{...t,callout_src:n?"static":"cio"}}}),t.callout_key&&a().l.trackEvent("callout_click",{callout_key:t.callout_key,click_type:t.click_type,placement_key:t.placement_key})}function r(e,t){const n=(0,i().h2)(t.callout_key);n&&(t.placement_key=(0,i().t9)(n)),(0,o().u)({environment:e,event:{eventName:"callout_dismiss",eventProperties:{...t,callout_src:n?"static":"cio"}}})}function c(e,t){const n=(0,i().h2)(t.callout_key);n&&(t.placement_key=(0,i().t9)(n)),(0,o().u)({environment:e,event:{eventName:"callout_engagement",eventProperties:{...t,callout_src:n?"static":"cio"}}})}function d(e,t){const{eligible_callouts:n,required_arg_timeout:i,required_args_run_duration:a,eligibility_timeouts:l,blocklist:s}=t;(0,o().u)({environment:e,event:{eventName:"callout_coordinator_resolved",eventProperties:{eligible_callouts:n,required_arg_timeout:i,required_args_run_duration:a,eligibility_timeouts:l,blocklist:s}}})}function u(e,t){(0,o().u)({environment:e,event:{eventName:"callout_feature_interaction",eventProperties:t}})}function f(e,t){(0,o().u)({environment:e,event:{eventName:"callout_skipped",eventProperties:t}})}},63728:(e,t,n)=>{n.d(t,{l:()=>i});class o extends(()=>n(757695))().Store{getInitialState(){return null}}const i=new o},112799:(e,t,n)=>{n.d(t,{a:()=>r,E:()=>s});n(16280);var o=n(296540),i=()=>n(484714),a=(n(898992),n(672577),()=>n(427704));a().Ju.downloadMac,a().Ju.downloadMacUniversal,a().Ju.downloadMacIntel,a().Ju.downloadMacAppleSilicon,a().Ju.downloadWindows,a().Ju.downloadWindowsArm;const l=[{route:a().Ju.downloadMac,architecture:"universal",operatingSystem:"mac",target:"macUniversal"},{route:a().Ju.downloadMacIntel,architecture:"x86",operatingSystem:"mac",target:"mac"},{route:a().Ju.downloadMacUniversal,architecture:"universal",operatingSystem:"mac",target:"macUniversal"},{route:a().Ju.downloadMacAppleSilicon,architecture:"arm",operatingSystem:"mac",target:"macArm64"},{route:a().Ju.downloadWindows,architecture:"x86",operatingSystem:"windows",target:"windows"},{route:a().Ju.downloadWindowsArm,architecture:"arm",operatingSystem:"windows",target:"windowsArm64"}];function s(){const e=(0,o.useRef)(null),t=(0,i().Y0)();return(0,o.useEffect)((()=>{r(t).then((t=>{e.current=t??null})).catch((e=>{throw new Error(e)}))}),[t]),e}async function r(e){var t;if(!("userAgentData"in navigator))return e.isMac?a().Ju.downloadMacUniversal:a().Ju.downloadWindows;const n=navigator.userAgentData,o=await(null==n||null===(t=n.getHighEntropyValues)||void 0===t?void 0:t.call(n,["architecture"])),i=function(e,t){const n=function(e=""){const t=e.toLowerCase();return t.startsWith("arm")?"arm":t.startsWith("x86")||"intel"===t?"x86":null}(e);if(!n||"mac"!==t&&"windows"!==t)return null;const o=l.find((e=>e.architecture===n&&e.operatingSystem===t));return(null==o?void 0:o.route)||null}(null==o?void 0:o.architecture,e.os);return i||null}},132389:(e,t,n)=>{n.d(t,{A:()=>i});n(296540);var o=n(474848);function i(e){const t={display:"inline-block",minWidth:e.size,minHeight:e.size};return"x"===e.axis?t.minHeight=1:"y"===e.axis&&(t.minWidth=1),(0,o.jsx)("div",{style:t})}},132855:(e,t,n)=>{n.r(t),n.d(t,{arrowInCircleUpFillIcon:()=>i,iconDefinition:()=>o});n(296540);const o={viewBox:"0 0 20 20",fittedViewBox:"2.37 2.37 15.25 15.26",svg:(0,n(474848).jsx)("path",{d:"M10 17.625a7.625 7.625 0 1 0 0-15.25 7.625 7.625 0 0 0 0 15.25m3.042-8.07a.625.625 0 0 1-.884 0L10.625 8.02v5.466a.625.625 0 1 1-1.25 0V8.021L7.842 9.554a.625.625 0 1 1-.884-.883l2.6-2.6a.625.625 0 0 1 .884 0l2.6 2.6a.625.625 0 0 1 0 .883"})},i=(0,n(340498).wt)("arrowInCircleUpFill",o,"fill")},198048:(e,t,n)=>{n.d(t,{C:()=>l});var o=n(296540),i=()=>n(51194),a=()=>n(610104);function l(){const e=(0,i().a)(),[t,n]=(0,o.useState)(0),l=(0,o.useCallback)((()=>{e.current&&n(t+1)}),[t]);return[(0,o.useCallback)((()=>a().Gt.postRender(l)),[l]),t]}},203066:(e,t,n)=>{n.d(t,{N:()=>c});var o=n(296540);class i extends o.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function a({children:e,isPresent:t}){const n=(0,o.useId)(),a=(0,o.useRef)(null),l=(0,o.useRef)({width:0,height:0,top:0,left:0});return(0,o.useInsertionEffect)((()=>{const{width:e,height:o,top:i,left:s}=l.current;if(t||!a.current||!e||!o)return;a.current.dataset.motionPopId=n;const r=document.createElement("style");return document.head.appendChild(r),r.sheet&&r.sheet.insertRule(`\n          [data-motion-pop-id="${n}"] {\n            position: absolute !important;\n            width: ${e}px !important;\n            height: ${o}px !important;\n            top: ${i}px !important;\n            left: ${s}px !important;\n          }\n        `),()=>{document.head.removeChild(r)}}),[t]),o.createElement(i,{isPresent:t,childRef:a,sizeRef:l},o.cloneElement(e,{ref:a}))}const l=({children:e,initial:t,isPresent:i,onExitComplete:l,custom:r,presenceAffectsLayout:c,mode:d})=>{const u=(0,n(328601).M)(s),f=(0,o.useId)(),p=(0,o.useMemo)((()=>({id:f,initial:t,isPresent:i,custom:r,onExitComplete:e=>{u.set(e,!0);for(const t of u.values())if(!t)return;l&&l()},register:e=>(u.set(e,!1),()=>u.delete(e))})),c?void 0:[i]);return(0,o.useMemo)((()=>{u.forEach(((e,t)=>u.set(t,!1)))}),[i]),o.useEffect((()=>{!i&&!u.size&&l&&l()}),[i]),"popLayout"===d&&(e=o.createElement(a,{isPresent:i},e)),o.createElement(n(786719).t.Provider,{value:p},e)};function s(){return new Map}const r=e=>e.key||"";const c=({children:e,custom:t,initial:i=!0,onExitComplete:a,exitBeforeEnter:s,presenceAffectsLayout:c=!0,mode:d="sync"})=>{(0,n(285238).V)(!s,"Replace exitBeforeEnter with mode='wait'");const u=(0,o.useContext)(n(29473).L).forceRender||(0,n(198048).C)()[0],f=(0,n(51194).a)(),p=function(e){const t=[];return o.Children.forEach(e,(e=>{(0,o.isValidElement)(e)&&t.push(e)})),t}(e);let m=p;const g=(0,o.useRef)(new Map).current,h=(0,o.useRef)(m),y=(0,o.useRef)(new Map).current,v=(0,o.useRef)(!0);if((0,n(525128).E)((()=>{v.current=!1,function(e,t){e.forEach((e=>{const n=r(e);t.set(n,e)}))}(p,y),h.current=m})),(0,n(757491).l)((()=>{v.current=!0,y.clear(),g.clear()})),v.current)return o.createElement(o.Fragment,null,m.map((e=>o.createElement(l,{key:r(e),isPresent:!0,initial:!!i&&void 0,presenceAffectsLayout:c,mode:d},e))));m=[...m];const x=h.current.map(r),b=p.map(r),w=x.length;for(let n=0;n<w;n++){const e=x[n];-1!==b.indexOf(e)||g.has(e)||g.set(e,void 0)}return"wait"===d&&g.size&&(m=[]),g.forEach(((e,n)=>{if(-1!==b.indexOf(n))return;const i=y.get(n);if(!i)return;const s=x.indexOf(n);let v=e;if(!v){const e=()=>{g.delete(n);const e=Array.from(y.keys()).filter((e=>!b.includes(e)));if(e.forEach((e=>y.delete(e))),h.current=p.filter((t=>{const o=r(t);return o===n||e.includes(o)})),!g.size){if(!1===f.current)return;u(),a&&a()}};v=o.createElement(l,{key:r(i),isPresent:!1,onExitComplete:e,custom:t,presenceAffectsLayout:c,mode:d},i),g.set(n,v)}m.splice(s,0,v)})),m=m.map((e=>{const t=e.key;return g.has(t)?e:o.createElement(l,{key:r(e),isPresent:!0,presenceAffectsLayout:c,mode:d},e)})),o.createElement(o.Fragment,null,g.size?m:m.map((e=>(0,o.cloneElement)(e))))}},218429:(e,t,n)=>{n.d(t,{l:()=>b});var o=n(296540),i=()=>n(933922),a=()=>n(484714),l=()=>n(590526),s=()=>n(401497),r=()=>n(543906),c=()=>n(110750),d=()=>n(107975),u=()=>n(172489),f=()=>n(379887),p=()=>n(100622),m=()=>n(754002),g=()=>n(993130),h=()=>n(404141),y=()=>n(51367),v=()=>n(131448),x=n(474848);function b(e){const{messageKey:t,desktopRenderInner:n,desktopInnerStyle:o,desktopOnDismiss:u,phoneRenderInner:f,phoneInnerStyle:m,phoneOnly:b,calloutMetadata:S}=e,k=(0,a().v3)(),_=(0,a().Y0)(),j=(0,s().IS)((()=>({modalStyle:{background:p().Tj.background.secondary,borderRadius:12,...o}})),[o]),M=(0,l().K8)((()=>{var e;const t=(0,c().Xz)(k.TabbedRouterStore.state);return"web"===t.type&&((null===(e=t.redirectedTo)||void 0===e?void 0:e.route)||t.route)}),[k.TabbedRouterStore]),C=(0,l().K8)((()=>!(_.isPhone&&(0,g().A)(k)&&(!M||"page"!==M.name))&&!h().Ay.state.open),[_.isPhone,k,M]),T=(0,l().K8)((()=>v().default.isVisible(t)),[t])&&C;return(0,r().A)((()=>{y().DL(k,{callout_key:t,is_forced:v().default.isForced(t),placement_key:"Modal",callout_metadata:S})}),T),T?_.isPhone?(0,x.jsx)(w,{messageKey:t,renderInner:f,innerStyle:m}):b&&!_.isPhone?null:(0,x.jsx)(d().a,{open:!0,preventHideChildrenWhileOpening:!0,onDismiss:u,innerStyle:j.modalStyle,render:()=>(0,x.jsx)(i().A,{capture:!0,allowEsc:!0,render:n})}):null}function w(e){const{renderInner:t,innerStyle:n,messageKey:i}=e,l=(0,a().v3)(),{clearSelection:s}=(0,f().g)(),r=(0,o.useCallback)((()=>{y().Sq(l,{callout_key:i,dismiss_type:"modal_background_clicked",placement_key:"Modal"})}),[l,i]),c=(0,o.useCallback)((()=>{y().Sq(l,{callout_key:i,dismiss_type:"modal_dismiss_clicked",placement_key:"Modal"})}),[l,i]);return(0,o.useEffect)((()=>{s(),(0,u().k)()}),[s]),(0,x.jsx)(m()._,{renderInner:t,innerStyle:n,onDismiss:r,onClosed:c})}},234485:(e,t,n)=>{n.d(t,{x:()=>s});var o=n(296540),i=()=>n(535446),a=()=>n(997346),l=()=>n(328601);function s({children:e,isValidProp:t,...n}){t&&(0,a().D)(t),(n={...(0,o.useContext)(i().Q),...n}).isStatic=(0,l().M)((()=>n.isStatic));const s=(0,o.useMemo)((()=>n),[JSON.stringify(n.transition),n.transformPagePoint,n.reducedMotion]);return o.createElement(i().Q.Provider,{value:s},e)}},241785:(e,t,n)=>{n.d(t,{X:()=>s});var o=()=>n(534177),i=()=>n(680977),a=()=>n(680074),l=()=>n(547149);function s(e){const{environment:t,releaseDate:n,type:s,timestamp:r}=e,c=(0,a().R$)(t);if(!c)return;const d=c.getSettings();if(d)switch(s){case"latest":!function(e){const{environment:t,releaseDate:n,userSettings:o,userSettingsStore:a,timestamp:s}=e,r=o.latest_release_seen;if(r&&(n===r.releaseDate||n<r.releaseDate))return;const c={releaseDate:n,timestamp:s??Date.now()};l().createAndCommit({environment:t,userAction:"userSettings.changelogActions.setLatestReleaseSeen",canUndo:!1,perform:e=>{(0,i().m)({userSettingsStore:a,transaction:e,data:{latest_release_seen:c}})}})}({environment:t,releaseDate:n,userSettings:d,userSettingsStore:c,timestamp:r});break;case"special":!function(e){const{environment:t,releaseDate:n,userSettings:o,userSettingsStore:a,timestamp:s,viewed:r}=e,c=o.special_release_seen,d=o.latest_release_seen;let u=!1;"entrypoint"===r?u=Boolean(!c||c.releaseDate<n):"content"===r&&(u=Boolean(c&&"entrypoint"===c.viewed&&n===c.releaseDate));if(!u)return;const f={releaseDate:n,timestamp:s??Date.now(),viewed:e.viewed},p=Boolean("content"===r&&(!d||d.releaseDate<n));l().createAndCommit({environment:t,userAction:"userSettings.changelogActions.setSpecialReleaseSeen",canUndo:!1,perform:e=>{(0,i().m)({userSettingsStore:a,transaction:e,data:{special_release_seen:f,...p?{latest_release_seen:{releaseDate:n,timestamp:s??Date.now()}}:{}}})}})}({environment:t,releaseDate:n,userSettings:d,userSettingsStore:c,viewed:e.viewed,timestamp:r});break;default:(0,o().HB)(s)}}},313633:(e,t,n)=>{n.d(t,{A:()=>d});n(296540);var o=()=>n(401497),i=()=>n(695115),a=()=>n(563692),l=()=>n(340498),s=()=>n(69708),r=()=>n(100622),c=n(474848);function d(e){const{top:t,right:n,onClick:d}=e,u=(0,s().tz)(),f=(0,o().IS)((()=>({buttonBackground:{position:"absolute",top:t??12,insetInlineEnd:n??12,width:22,height:22,borderRadius:"100%",background:r().Tj.background.elevated},button:{width:"100%",height:"100%",borderRadius:"100%",display:"flex",justifyContent:"center",alignItems:"center",background:"transparent"},buttonHovered:{background:r().Tj.buttonHoveredBackground},icon:{width:l().Ev.xs,height:l().Ev.xs}})),[t,n]);return(0,c.jsx)("div",{style:f.buttonBackground,children:(0,c.jsx)(i().A,{ariaLabel:u.formatMessage({id:"closeButton.ariaLabel",defaultMessage:"Close"}),style:f.button,hoveredStyle:f.buttonHovered,onClick:d,icon:a().xMarkFillSmallIcon,iconStyle:f.icon})})}},345781:(e,t,n)=>{var o=n(746518),i=n(497751),a=n(422812),l=n(500655),s=n(767416),r=i("URL");o({target:"URL",stat:!0,forced:!s},{parse:function(e){var t=a(arguments.length,1),n=l(e),o=t<2||void 0===arguments[1]?void 0:l(arguments[1]);try{return new r(n,o)}catch(i){return null}}})},379887:(e,t,n)=>{n.d(t,{g:()=>l,j:()=>a});var o=n(296540);const i={clearSelection:()=>{}},a=(0,o.createContext)(i);function l(){return(0,o.useContext)(a)}a.displayName="ClearSelectionContext"},391657:(e,t,n)=>{n.d(t,{g:()=>p,t:()=>u});n(581454);var o=n(296540),i=()=>n(484714),a=()=>n(264300),l=()=>n(690495),s=()=>n(300789),r=()=>n(51367),c=()=>n(832895),d=n(474848);function u(e){const{messageKey:t,onDismiss:n}=e;return f({message:(0,o.useMemo)((()=>t?{key:t,type:"static",props:{},id:"",category:l().lU[t].category}:void 0),[t]),onDismiss:n})}function f(e){const t=null==e?void 0:e.message,n=null==e?void 0:e.onDismiss,l=(0,i().v3)();(0,o.useEffect)((()=>{t&&r().DL(l,{callout_key:t.key,placement_key:(0,a().Q3)(t)})}),[l,t]);return{onClick:(0,o.useCallback)((e=>{t&&r().Y5(l,{callout_key:t.key,placement_key:(0,a().Q3)(t),click_type:"primary_cta"}),e&&e()}),[l,t]),onDismiss:(0,o.useCallback)((()=>{t&&(r().Sq(l,{callout_key:t.key,placement_key:(0,a().Q3)(t),dismiss_type:"sidebar_dismiss"}),s().OX(l,t)),n&&n()}),[l,t,n])}}function p(e){const{onClick:t,buttons:n,...o}=e,{onClick:i,onDismiss:a}=f(e),l=null==n?void 0:n.map((e=>({...e,onClick:()=>{i(e.onClick)}})));return(0,d.jsx)(c().Ue,{children:(0,d.jsx)(c().wY,{...o,...l?{buttons:l}:{onClick:t?()=>{i(t)}:void 0},onDismiss:a})})}},449789:(e,t,n)=>{function o(e){const{store:t,toggleSource:n}=e;t.update((e=>{const t=!e.isKeyboardShortcutsOpen;return{...e,isKeyboardShortcutsOpen:t,toggleSource:t?n:e.toggleSource,openCount:t?e.openCount+1:e.openCount}}))}function i(e){const{store:t}=e;return t.state.isKeyboardShortcutsOpen}n.d(t,{W:()=>i,j:()=>o})},562042:(e,t,n)=>{n.d(t,{f:()=>i});n(296540);const o={viewBox:"0 0 16 16",fittedViewBox:"1.95 1.94 12.1 11.57",svg:(0,n(474848).jsx)("path",{d:"M8 1.95c-.27 0-.51.174-.594.431l-1.14 3.51H2.574a.625.625 0 0 0-.367 1.13l2.985 2.17-1.14 3.509a.625.625 0 0 0 .962.699L8 11.229l2.986 2.17a.625.625 0 0 0 .961-.699l-1.14-3.51 2.985-2.169a.625.625 0 0 0-.367-1.13h-3.69l-1.14-3.51A.625.625 0 0 0 8 1.95m-.686 4.759L8 4.597l.686 2.112a.625.625 0 0 0 .595.432h2.22L9.705 8.446a.625.625 0 0 0-.227.699l.686 2.112-1.797-1.305a.625.625 0 0 0-.734 0l-1.797 1.305.686-2.112a.625.625 0 0 0-.227-.699L4.5 7.141h2.22a.63.63 0 0 0 .595-.432"})},i=(0,n(340498).wt)("starSmall",o,"small")},563692:(e,t,n)=>{n.r(t),n.d(t,{iconDefinition:()=>o,xMarkFillSmallIcon:()=>i});n(296540);const o={viewBox:"0 0 16 16",fittedViewBox:"3.03 3.03 9.94 9.94",svg:(0,n(474848).jsx)("path",{d:"M12.73 4.33a.75.75 0 1 0-1.06-1.06L8 6.94 4.33 3.27a.75.75 0 1 0-1.06 1.06L6.94 8l-3.67 3.67a.75.75 0 1 0 1.06 1.06L8 9.06l3.67 3.67a.75.75 0 0 0 1.06-1.06L9.06 8z"})},i=(0,n(340498).wt)("xMarkFillSmall",o,"fillSmall")},603867:(e,t,n)=>{n.d(t,{AJ:()=>k,I7:()=>P,PM:()=>b,Rh:()=>_,Sm:()=>j,YD:()=>S,at:()=>B,ho:()=>T,rI:()=>C,s3:()=>w,uc:()=>D,wc:()=>E,xg:()=>M});n(814603),n(147566),n(198721);var o=()=>n(201794),i=()=>n(427704),a=()=>n(148024),l=()=>n(537941),s=()=>n(994877),r=()=>n(241785),c=()=>n(369026),d=()=>n(288782),u=()=>n(381678),f=()=>n(232930),p=()=>n(449789),m=()=>n(965142),g=()=>n(369763),h=()=>n(305743),y=()=>n(752860),v=()=>n(732797),x=()=>n(19575);function b(e,t){A(e,"help_feedback",t),s().SI({environment:e,from:"help_button"}),R()}function w(e,t){A(e,"sales_chat",t),(0,x().lK)({openedFrom:"help_menu"}),R()}function S(e,t){A(e,"guides",t),(0,y().L)({environment:e,url:(0,f().x)("guides.guides")}),P(e)}function k(e,t){A(e,"keyboard_shortcuts",t),P(e),p().j({store:m().V,toggleSource:"help_menu"})}function _(e,t){A(e,"twitter",t),(0,y().L)({environment:e,url:i().JZ.notionTwitter}),P(e)}function j(e,t){A(e,"status",t),(0,y().L)({environment:e,url:i().JZ.statusPage}),P(e)}function M(e,t,n){const o=(0,c().Nw)(n||i().JZ.releases);(0,y().L)({environment:e,url:o}),A(e,"whats_new",t),P(e)}function C(e,t){(0,y().L)({environment:e,url:i().JZ.termsAndPrivacy}),A(e,"terms",t),P(e)}function T(e){const{environment:t,changelogFooterUpdatesEnabled:n,releaseDate:i}=e;if(n&&i&&(0,r().X)({environment:t,releaseDate:i,type:"latest"}),(0,o().T)("supportsDecentralizedWebViewNavigation"))return R(),void(0,h().a)(t);D(t)?l().navigateToHomeTab(t,R):R()}function A(e,t,n){a().wF(e,{item:t,from:n})}function P(e){D(e)||R()}function D(e){const{mobileNative:t}=e;return(null==t?void 0:t.supportsNativeHomeOnPhone())||!1}function R(){v().r.setState({...v().r.state,open:!1,source:void 0})}async function E(e){var t;const n=(0,d().s)(),o=null===(t=(0,u()._)(e))||void 0===t?void 0:t.id;if(!n||!o)return;const i=(0,g().getOPFSPageCacheInstance)();if(i)try{await i.delete(o,n),window.location.reload()}catch(a){}}function B(e){const{environment:t,from:n}=e;A(t,"consultants",n);const o=(0,u()._)(t),a=null==o?void 0:o.getName();let l=a||"",s="";const r=null==a?void 0:a.indexOf(" ");a&&void 0!==r&&-1!==r&&(l=a.slice(0,r),s=a.slice(r+1));const c=new URLSearchParams;c.set("User-ID",(null==o?void 0:o.id)||""),c.set("email",(null==o?void 0:o.getEmail())||""),c.set("firstName",l),c.set("lastName",s),c.set("utm_source","help_menu"),c.set("utm_campaign","help_menu_setup_sessions_item"),(0,y().L)({environment:t,url:`${i().JZ.setupSessions}?${c.toString()}`}),R()}},674730:(e,t,n)=>{n.r(t),n.d(t,{MaybeOfflineModeLaunchModal:()=>le,OfflineModeLaunchModal:()=>Z,OfflineModeLaunchVideo:()=>H,OfflineModeMenuItemTooltip:()=>ge,OfflineModeSidebarCallout:()=>fe,OfflineModeTopbarTooltip:()=>me,OfflinePagesListener:()=>Qe,isEligibleForOfflineModeMessage:()=>_e,isLocationEligibleForOfflineModeModal:()=>je,offlineModeTourStore:()=>F().k,useOfflineToastsAreEnabled:()=>Ue});var o=()=>n(484714),i=()=>n(543906),a=()=>n(300789),l=(n(581454),n(345781),()=>n(234485)),s=()=>n(153321),r=n(296540),c=()=>n(300474),d=()=>n(590526),u=()=>n(401497),f=()=>n(741615),p=()=>n(699143),m=()=>n(807449),g=()=>n(631524),h=()=>n(160432),y=()=>n(493552),v=()=>n(218275),x=()=>n(340498),b=n(474848);const w={viewBox:"0 0 16 16",fittedViewBox:"1.08 2.82 13.83 10.36",svg:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("path",{d:"M10.272 7.033a.55.55 0 1 0-.944-.566L7.801 9.013l-.783-.914a.55.55 0 0 0-.836.716l1.28 1.493a.55.55 0 0 0 .89-.075z"}),(0,b.jsx)("path",{d:"M8.35 2.825a5.176 5.176 0 0 0-5.087 4.223 3.138 3.138 0 0 0 .95 6.127h7.831a2.856 2.856 0 0 0 1.48-5.3 5.175 5.175 0 0 0-5.174-5.05M4.444 7.617a3.926 3.926 0 0 1 7.825.603l-.024.443.41.17a1.607 1.607 0 0 1-.61 3.092H4.211a1.887 1.887 0 0 1-.294-3.751l.479-.075z"})]})},S=(0,x().wt)("cloudCheckSmall",w,"small");var k=()=>n(562042),_=()=>n(795523),j=()=>n(69708),M=()=>n(100622),C=()=>n(209660),T=()=>n(313633),A=()=>n(603867),P=()=>n(778450),D=()=>n(597755),R=()=>n(232930),E=()=>n(112799),B=()=>n(51367),L=()=>n(218429),I=()=>n(246766),O=()=>n(752860),U=()=>n(549721),z=()=>n(795179),N=()=>n(717250),F=()=>n(481411),V=()=>n(907258),K=()=>n(242422),W=()=>n(687039);function Y(){const e=(0,d().K8)((()=>{var e;const t=null===(e=V().default.state.currentUserSettingsStore)||void 0===e?void 0:e.getSettings();return(null==t?void 0:t.preferred_locale)??"en-US"}),[]);return{assets:(0,d().K8)((()=>K().default.getConfigKey("offline_nux_localized_assets","videos")),[])[e],locale:e}}function H({aspectRatio:e,assets:t,locale:n,useSmallThumbnail:o}){const i=(0,d().K8)((()=>{if(o){return K().default.getConfigKey("offline_nux_localized_assets","videoQualitySmall")??"360p"}return K().default.getConfigKey("offline_nux_localized_assets","videoQualityDefault")??"auto"}),[o]),a=(0,u().IS)((()=>({thumbnail:{objectFit:"cover"},videoPlayer:{aspectRatio:"9 / 16",height:"auto",objectFit:"cover",position:"absolute",top:"50%",transform:"translateY(-50%)",width:"inherit"}})),[]);return t?(0,b.jsx)(W().Ay,{aspectRatioOverride:e,defaultTextTrack:W().VH[n]||"en",options:{autoplay:!0,background:!0,loop:!0,muted:!0,playsinline:!0,quality:i},preloadThumbnailSrc:o&&t.thumbnailSrcSmall?t.thumbnailSrcSmall:t.thumbnailSrc,preloadThumbnailStyle:a.thumbnail,src:t.src,style:a.videoPlayer}):null}const J="offline_mode_electron_launch_modal",q="offline_mode_web_launch_modal",$=460,Q=512;function Z(){const e=(0,o().v3)();return(0,b.jsx)(L().l,{messageKey:te(e),desktopOnDismiss:()=>{(0,B().Sq)(e,{callout_key:te(e),dismiss_type:"modal_background_clicked",placement_key:"Modal"}),X(e)},desktopRenderInner:()=>(0,b.jsx)(G,{}),phoneRenderInner:()=>null})}function G(){const e=(0,o().v3)(),t=(0,c().r)(),{assets:n,locale:i}=Y(),a=(0,f().lh)({spaceId:t}),r=(0,_().Gm)(a),m=(0,d().K8)((()=>e.WindowSizeStore.state.width>=900),[e.WindowSizeStore]),h=(0,u().IS)((()=>({container:{borderRadius:12,minHeight:480},mediaContent:{borderRadius:10,height:Q,overflow:"hidden",width:$},title:{color:M().Tj.text.primary,fontSize:34,fontWeight:700,letterSpacing:.408,lineHeight:"37px",margin:0},textBody:{flexGrow:1},footerButtons:{marginTop:"24px"},learnMoreButton:{color:M().Tj.text.secondary,display:"flex",justifyContent:"center"}})),[]);return(0,b.jsx)(l().x,{reducedMotion:"user",children:(0,b.jsxs)(p().Y1,{direction:"horizontal",padding:12,style:h.container,children:[(0,b.jsxs)(p().Y1,{gap:16,padding:18,width:400,children:[(0,b.jsx)(s().P.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:1,type:"spring",bounce:0,delay:.2},children:(0,b.jsxs)(p().Y1,{direction:"vertical",gap:8,children:[(0,b.jsx)("h1",{style:h.title,children:(0,b.jsx)(j().sA,{id:"offlineModeLaunchModal.title",defaultMessage:"Notion, now available offline."})}),(0,b.jsx)(y().D,{colorVariant:"secondary",styleKey:"bodyRegular",children:(0,b.jsx)(j().sA,{id:"offlineModeLaunchModal.subTitle",defaultMessage:"Capture ideas, access pages, and keep projects moving anywhere you go."})})]})}),(0,b.jsx)(p().Y1,{direction:"vertical",gap:16,style:h.textBody,children:oe(r).map(((e,t)=>(0,b.jsx)(s().P.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:1,type:"spring",bounce:0,delay:.3+.1*t},children:(0,b.jsx)(ie,{...e})},e.key)))}),(0,b.jsx)(s().P.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:1,type:"spring",bounce:0,delay:.6},children:(0,b.jsxs)(p().Y1,{direction:"vertical",gap:8,style:h.footerButtons,children:[(0,b.jsx)(ae,{isNativeApp:e.device.isElectron,isPaidTier:r}),(0,b.jsx)(g().p,{iconTrailing:v().arrowUpRightSquareSmallIcon,onClick:()=>{(0,B().Y5)(e,{callout_key:te(e),click_type:"learn_more",placement_key:"Modal"}),function(e){(0,O().L)({environment:e,url:(0,R().x)("guides.offlineMode")}),(0,A().I7)(e)}(e)},size:"xl",style:h.learnMoreButton,children:(0,b.jsx)(j().sA,{id:"offlineModeLaunchModal.link.learnMore",defaultMessage:"Learn more"})})]})})]}),void 0!==n&&m?(0,b.jsx)(p().Y1,{style:h.mediaContent,children:(0,b.jsx)(H,{aspectRatio:Q/$,assets:n,locale:i})}):null,(0,b.jsx)(T().A,{onClick:()=>{(0,B().Sq)(e,{callout_key:te(e),dismiss_type:"modal_dismiss_clicked",placement_key:"Modal"}),X(e)},right:18,top:18})]})})}function X(e){(0,a().a)(e,te(e))}function ee(){C().Ow({currentTab:"offline",openedFrom:"offline_mode_launch_modal"})}function te(e){const{device:t}=e;return t.isElectron?J:q}const ne={download:{description:(0,b.jsx)(j().sA,{id:"offlineModeLaunchModal.body.downloadDescription",defaultMessage:"Choose the pages you need and manage them from the Offline dashboard in Settings"}),icon:S,key:"download",title:(0,b.jsx)(j().sA,{id:"offlineModeLaunchModal.body.downloadTitle",defaultMessage:"Download pages for offline use"})},haveAccessPaid:{description:(0,b.jsx)(j().sA,{id:"offlineModeLaunchModal.body.haveAccessPaidDescription",defaultMessage:"Your recents and top favorites are automatically downloaded"}),icon:k().f,key:"haveAccessPaid",title:(0,b.jsx)(j().sA,{id:"offlineModeLaunchModal.body.haveAccessTitle",defaultMessage:"Always have access to your most important pages"})},haveAccessFree:{description:(0,b.jsx)(j().sA,{id:"offlineModeLaunchModal.body.haveAccessFreeDescription",defaultMessage:"For users on the paid plan, your recents and top favorites are automatically downloaded"}),icon:k().f,key:"haveAccessFree",title:(0,b.jsx)(j().sA,{id:"offlineModeLaunchModal.body.haveAccessTitle",defaultMessage:"Always have access to your most important pages"})},keepBuilding:{description:(0,b.jsx)(j().sA,{id:"offlineModeLaunchModal.body.keepBuildingDescription",defaultMessage:"Create, view, and edit pages without internet access on the Notion desktop and mobile app"}),icon:n(523389).pencilLineSmallIcon,key:"keepBuilding",title:(0,b.jsx)(j().sA,{id:"offlineModeLaunchModal.body.keepBuildingTitle",defaultMessage:"Keep building, even offline"})}};function oe(e){return(e?["keepBuilding","haveAccessPaid","download"]:["keepBuilding","download","haveAccessFree"]).map((e=>ne[e]))}function ie(e){const{description:t,icon:n,title:o}=e,i=(0,u().IS)((()=>({itemTitle:{margin:0},itemDescription:{margin:0}})),[]);return(0,b.jsxs)(p().Y1,{direction:"horizontal",gap:8,children:[(0,b.jsx)(m().I,{icon:n,size:"default"}),(0,b.jsxs)(p().Y1,{direction:"vertical",gap:2,children:[(0,b.jsx)(y().D,{as:"p",style:i.itemTitle,styleKey:"bodyMedium",children:o}),(0,b.jsx)(y().D,{as:"p",style:i.itemDescription,styleKey:"bodyRegular",children:t})]})]})}function ae(e){const t=(0,o().v3)(),{onClick:n,text:i}=function(e){const{environment:t,isNativeApp:n,isPaidTier:o}=e;return n?o?{onClick:ee,text:(0,b.jsx)(j().sA,{id:"offlineModeLaunchModal.primaryCta.paidTierApp",defaultMessage:"View offline pages"})}:{onClick:()=>{!function(e){z().A.setState({...z().A.state,open:!0}),F().k.setState({currentStep:"available_offline_item",numSteps:1}),(0,a().UW)(e,N().l)}(t)},text:(0,b.jsx)(j().sA,{id:"offlineModeLaunchModal.primaryCta.freeTierApp",defaultMessage:"Try it"})}:{onClick:()=>{!async function(e){const{device:t}=e;if(await(0,P().e)(e)){const t=(0,D().PT)(window.location.href),n=URL.parse(t);if(!n)return;n.searchParams.append("target",`inappmessage.${N().l}`),n.searchParams.append("origin","nux"),(0,U().e)({environment:e,url:n.toString()})}else{const n=await(0,E().a)(t);if(!n)return;(0,I().navigate)({environment:e,url:n,openInNew:"tab"})}}(t)},text:(0,b.jsx)(j().sA,{id:"offlineModeLaunchModal.primaryCta.web",defaultMessage:"Download the Notion app"})}}({environment:t,...e}),l=(0,r.useCallback)((()=>{(0,B().Y5)(t,{callout_key:te(t),click_type:"primary_cta",placement_key:"Modal"}),X(t),n()}),[t,n]);return(0,b.jsx)(h().A,{colorPalette:"blue",onClick:l,size:"xl",children:i})}function le(){const e=(0,o().v3)();return(0,i().A)((()=>{(0,a().HH)(e,te(e))}),!0),null}var se=()=>n(72234),re=()=>n(861243),ce=()=>n(547149);const de="offline_mode_sidebar_callout",ue=9;function fe(){const e=(0,o().v3)(),t=(0,j().tz)(),{assets:n,locale:l}=Y(),s=(0,r.useRef)(null);(0,i().A)((()=>{!function(e){const{sidebarSpaceViewStore:t}=V().default.state;if(!t)return;const n=null==t?void 0:t.getSettings(),o=(null==n?void 0:n.offline_mode_sidebar_callout_shown_count)||0;ce().createAndCommit({environment:e,userAction:"OfflineModeSidebarCallout.incrementShownCount",canUndo:!1,cellTarget:"main",perform:e=>{se().AG(t,e,{offline_mode_sidebar_callout_shown_count:o+1,offline_mode_sidebar_callout_last_shown_at:Date.now()})}})}(e)}),!0);const c=(0,u().IS)((()=>({mediaContainer:{aspectRatio:"16/9",borderStartStartRadius:"inherit",borderStartEndRadius:"inherit",margin:-1*ue,marginBottom:0,overflow:"hidden",position:"relative",width:`calc(100% + ${2*ue}px)`}})),[]),d=(0,r.useCallback)((()=>{z().A.setState({...z().A.state,open:!0}),F().k.setState({currentStep:"available_offline_item",numSteps:1}),(0,a().UW)(e,N().l),(0,a().a)(e,de)}),[e]),f=(0,r.useCallback)((()=>{(0,a().a)(e,de)}),[e]);return(0,b.jsx)(re().Y,{messageKey:de,body:(0,b.jsx)(j().sA,{id:"offlineModeSidebarCallout.description",defaultMessage:"Notion now works without internet access. Download pages for offline use to access them anytime."}),buttons:[{onClick:d,text:t.formatMessage({id:"offlineModeSidebarCallout.cta",defaultMessage:"Try it"})}],badge:{color:"blue",content:t.formatMessage({id:"newBadgeComponent.label",defaultMessage:"New"})},heroElement:n?(0,b.jsx)("div",{ref:s,style:c.mediaContainer,children:(0,b.jsx)(H,{aspectRatio:9/16,assets:n,locale:l,useSmallThumbnail:!0})}):null,onDismiss:f,title:t.formatMessage({id:"offlineModeSidebarCallout.title",defaultMessage:"Went offline?"})})}var pe=()=>n(148297);function me(e){const t=(0,o().v3)(),n=(0,r.useCallback)((()=>{he(t)}),[t]),i=(0,r.useCallback)((()=>{z().A.setState({...z().A.state,open:!0}),F().k.nextStep()}),[]);return(0,b.jsx)(pe().k,{alignmentToOrigin:"center",content:(0,b.jsx)(j().sA,{id:"offlineModeTour.topbarMoreButtonStep.content",defaultMessage:"Download this page for offline use here."}),currStepIndex:0,header:(0,b.jsx)(j().sA,{id:"offlineModeTour.topbarMoreButtonStep.title",defaultMessage:"Notion is now available offline"}),numSteps:2,onCloseClick:n,onPrimaryButtonClick:i,origin:e.originRef,placementToOrigin:"bottom",pointerLength:24,pointerPosition:"98%",shouldDismissUponOutsideClick:!0,style:{width:250}})}function ge(e){const t=(0,o().v3)(),n=(0,d().K8)((()=>F().k.state.numSteps),[]),i=(0,r.useCallback)((()=>{he(t)}),[t]);return(0,b.jsx)(pe().k,{alignmentToOrigin:"center",content:(0,b.jsx)(j().sA,{id:"offlineModeTour.offlineToggleStep.content",defaultMessage:"Download the page to edit and view it offline."}),currStepIndex:1,header:(0,b.jsx)(j().sA,{id:"offlineModeTour.offlineToggleStep.title",defaultMessage:"Make available offline"}),numSteps:n,onCloseClick:i,onPrimaryButtonClick:i,origin:e.originRef,placementToOrigin:"left",pointerLength:24,pointerPosition:"50%",shouldDismissUponOutsideClick:!0,style:{width:250}})}function he(e){(0,a().a)(e,N().l),F().k.reset()}n(814603),n(147566),n(198721);var ye=()=>n(230711),ve=()=>n(726637),xe=()=>n(700500),be=()=>n(711059),we=()=>n(381678),Se=()=>n(272509),ke=()=>n(712505);function _e(e){const{spaceStore:t,environment:n,experimentStore:o,mainEditorCurrentBlockStore:i}=e;{const e=(0,be().parseVersion)("23.13.0.4306"),t=(0,be().parseVersion)(ve().A.version);if(t&&e&&!(0,be().isGreaterThanOrEqualToVersion)(t,e))return!1}if(!o.checkGate({gateName:"download_for_offline"}))return!1;const a=(0,we()._)(n);return!(void 0===a||void 0===t||!(0,ye().dp)(t,a.id).isMember()||(0,Se().I)(t))&&(!(i.getType()!==xe().xd.page||null!=i&&i.pathIsDead())&&(!ke().default.isSidePeekOpen()&&!ke().default.isCenterPeekOpen()))}function je(){const e=new URLSearchParams(window.location.search);return!e.has("d")&&"nux"!==e.get("origin")}n(898992),n(803949);var Me=()=>n(203066),Ce=()=>n(591779);const Te={viewBox:"0 0 16 16",fittedViewBox:"1.07 2.82 13.83 10.36",svg:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("path",{d:"M8.425 5.15c0-.419-.5-.624-.795-.33L6.584 5.866a.46.46 0 0 0 0 .659L7.63 7.57a.465.465 0 0 0 .795-.33v-.578A1.69 1.69 0 1 1 6.661 8.35a.575.575 0 1 0-1.15 0 2.84 2.84 0 1 0 2.914-2.838zM8.35 6.585"}),(0,b.jsx)("path",{d:"M8.35 2.825a5.176 5.176 0 0 0-5.088 4.223 3.138 3.138 0 0 0 .95 6.127h7.832a2.856 2.856 0 0 0 1.48-5.3 5.175 5.175 0 0 0-5.174-5.05M4.443 7.617a3.926 3.926 0 0 1 7.826.603l-.025.443.411.17a1.607 1.607 0 0 1-.61 3.092H4.211a1.887 1.887 0 0 1-.294-3.751l.479-.075z"})]})},Ae=(0,x().wt)("cloudArrowCircleCounterclockwiseLeftSmall",Te,"small"),Pe={viewBox:"0 0 16 16",fittedViewBox:"0.89 2.7 14.19 10.61",svg:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("path",{d:"M8.3 5.295c.345 0 .625.28.625.625v2.52a.625.625 0 1 1-1.25 0V5.92c0-.345.28-.625.625-.625m0 5.695a.675.675 0 1 0 0-1.35.675.675 0 0 0 0 1.35"}),(0,b.jsx)("path",{d:"M3.143 7.034a5.306 5.306 0 0 1 10.52.848 2.92 2.92 0 0 1-1.504 5.423H4.103a3.209 3.209 0 0 1-.959-6.27m5.216-3.09a4.056 4.056 0 0 0-4.036 3.659l-.046.482-.48.075a1.96 1.96 0 0 0 .305 3.894h8.057a1.67 1.67 0 0 0 .635-3.215l-.41-.17.024-.442q.006-.114.006-.228A4.055 4.055 0 0 0 8.36 3.945"})]})},De=(0,x().wt)("cloudExclamationSmall",Pe,"small");var Re=()=>n(812182),Ee=()=>n(78901),Be=()=>n(959462),Le=()=>n(964848),Ie=()=>n(929219),Oe=()=>n(475553);function Ue(){const e=(0,o().v3)(),t=Boolean(e.device.isElectron),n=(0,Oe().y)(),i=(0,d().O$)(Ie().e);return t&&n&&i}n(354520);var ze=()=>n(920198),Ne=()=>n(293188),Fe=()=>n(747012),Ve=()=>n(615234),Ke=()=>n(704658),We=()=>n(810312),Ye=()=>n(968913);const He=new(n(29923).R)({key:"offlineToastSettings",namespace:n(553737).Bq,important:!1,trackingType:"preference"}),Je="offlineUpgradeToast",qe="offline_mode_limit_callout";function $e(){const e=(0,o().v3)(),t=(0,j().tz)(),n=(0,We().EW)(),i=Ue(),a=(0,ze().L)(),l=(0,d().K8)((()=>{var e;if(a)return null===(e=(0,Ye().di)())||void 0===e?void 0:e.filter((e=>e.space_id===a.id))}),[a]),s=(0,Ce().ZC)(l),c=(0,d().K8)((()=>{var e;return null===(e=He.state)||void 0===e?void 0:e.upgradeShownTs}),[]),u=(0,d().K8)((()=>K().default.getConfigKey("offline_monetization_settings","manual_toggles_that_trigger_upsell_toast")),[]);(0,r.useEffect)((()=>{if(!i)return;if(!function(e){const{availability:t,manualTogglesThatTriggerUpsellToast:n,explicitlyOfflinedOriginPages:o,previousExplicitlyOfflinedOriginPages:i,lastShownTs:a}=e;if(a&&Date.now()-a<Ve().nD)return!1;if(null==t||!t.upsell)return!1;if(!o)return!1;if(!i)return!1;if(2!==n.length)return!1;const l=o.length,s=i.length||0,[r,c]=n;return l>s&&(l===r||l>=c)}({availability:n,manualTogglesThatTriggerUpsellToast:u,explicitlyOfflinedOriginPages:l,previousExplicitlyOfflinedOriginPages:s,lastShownTs:c}))return;const o=null==n?void 0:n.upsell;if("product"!==(null==o?void 0:o.type))return;const r={id:Je,icon:Fe().arrowInCircleDownSmallIcon,actions:{primary:{title:(0,b.jsx)(Ke().UpgradeButton,{source:"offline_mode_settings",upsell:o,featureName:"offline_manual_sync",display:"text",width:"hug",size:"small",textColor:"inversePrimary",spaceStore:a}),onAction:()=>{Re().UW(Je)}}},jsxMessage:(0,b.jsx)(j().sA,{id:"offline.upgradeToast.message",defaultMessage:"Upgrade to the {product} plan and your Recents and Favorites will always be ready for offline use.",values:{product:(0,Ne().T)({intl:t,upsell:o})}}),onUserDismiss:()=>{(0,B().Sq)(e,{callout_key:qe,dismiss_type:"toast_dismiss",placement_key:"SidebarFooter"})},presentationType:"persistent",title:(0,b.jsx)(j().sA,{id:"offline.upgradeToast.title",defaultMessage:"Auto-download your offline pages"})};Re().HK(r),(0,B().DL)(e,{callout_key:qe,placement_key:"SidebarFooter"}),He.setState({...He.state,upgradeShownTs:Date.now()})}),[e,t,l,s,u,n,i,c,a])}function Qe(){const e=Ue();return $e(),e?(0,b.jsx)(et,{}):null}const Ze="offlineInfoToast",Ge="offlineErrorToast",Xe=(0,M().O4)({theme:"dark"});function et(){const[e,t]=(0,r.useState)({}),n=(0,c().r)(),o=(0,d().K8)((()=>Be().A.state.offlinePages),[]),i=(0,Ce().ZC)(o),[a,l]=(0,r.useState)(!0),s=(0,r.useRef)(),u=(0,r.useRef)();(0,r.useEffect)((()=>{o&&i&&t((e=>{const t={...e};let a=!1;for(const[s,r]of Object.entries(o)){if(null!=r&&r.is_explicitly_offlined_origin&&void 0!==(null==r?void 0:r.download_status)&&(null==r?void 0:r.space_id)===n){var l;const n=!i[s],o=!1===(null===(l=i[s])||void 0===l?void 0:l.is_explicitly_offlined_origin);(r.is_explicitly_offlined_origin&&(n||o)&&!(s in e)||s in e&&r.download_status!==e[s])&&(t[s]=r.download_status,a=!0)}!(s in t)||null!=r&&r.is_explicitly_offlined_origin||(delete t[s],a=!0)}for(const n of Object.keys(t))n in o||(delete t[n],a=!0);return a?t:e}))}),[o,i,n]);const f=(0,r.useCallback)((e=>{t((t=>{const n={...t};return Object.entries(t).forEach((([t,o])=>{e.includes(o)&&delete n[t]})),n}))}),[]),p=(0,r.useCallback)(((e,t)=>{const n=e+t;return{id:Ze,actions:{primary:{onAction:()=>{u.current&&clearTimeout(u.current),Re().UW(Ze),(0,Le().c)("offline_mode_info_toast")},title:(0,b.jsx)(j().sA,{id:"offline.statusToast.primaryActionTitle",defaultMessage:"View all downloads"})}},disableBounceAnimation:!0,icon:e>0?Ae:S,jsxMessage:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(y().D,{colorVariant:"secondary",children:(0,b.jsx)(j().sA,{id:"offline.statusToast.infoMessage",defaultMessage:"{downloadedCount} of {totalCount} pages downloaded",values:{downloadedCount:t,totalCount:n}})}),(0,b.jsx)(tt,{filledColor:Xe.text.primary,percentage:t/n*100,visible:a})]}),onDismiss:()=>{f(["downloading","success"])},presentationType:"persistent",title:e>0?(0,b.jsx)(j().sA,{id:"offline.statusToast.downloadingTitle",defaultMessage:"Download in progress"}):(0,b.jsx)(j().sA,{id:"offline.statusToast.successTitle",defaultMessage:"Download complete"})}}),[f,a]),m=(0,r.useCallback)((e=>({id:Ge,actions:{primary:{onAction:()=>{Re().UW(Ge),(0,Le().c)("offline_mode_error_toast")},title:(0,b.jsx)(j().sA,{id:"offline.statusToast.primaryActionTitle",defaultMessage:"View all downloads"})}},disableBounceAnimation:!0,icon:De,jsxMessage:(0,b.jsx)(y().D,{children:(0,b.jsx)(j().sA,{id:"offline.statusToast.failedMessage",defaultMessage:(0,j().LS)("failedCount",{one:"# page has failed to download",other:"# pages have failed to download"}),values:{failedCount:e}})}),onDismiss:()=>{f(["failed"])},presentationType:"persistent",title:(0,b.jsx)(j().sA,{id:"offline.statusToast.failedTitle",defaultMessage:(0,j().LS)("failedCount",{one:"# error",other:"# errors"}),values:{failedCount:e}}),variant:"error"})),[f]);return(0,r.useEffect)((()=>{let t=0,n=0,o=0;return Object.values(e).forEach((e=>{"downloading"===e?t+=1:"failed"===e?n+=1:"success"===e&&(o+=1)})),u.current&&(clearTimeout(u.current),u.current=void 0),s.current&&(clearTimeout(s.current),s.current=void 0),t>0||o>0?(Re().HK(p(t,o)),0===t?(u.current=setTimeout((()=>{Re().UW(Ze)}),1e4),s.current=setTimeout((()=>{l(!1)}),1e3)):l(!0)):0===t&&0===o&&Re().UW(Ze),n>0&&Re().HK(m(n)),()=>{u.current&&clearTimeout(u.current),s.current&&clearTimeout(s.current)}}),[m,p,e]),null}function tt({animationDuration:e=.5,style:t={},visible:n,...o}){return(0,b.jsx)(Me().N,{initial:n,children:n?(0,b.jsx)(s().P.div,{animate:"open",exit:"collapsed",initial:"collapsed",style:{overflow:"hidden",...t},transition:{duration:e,ease:"easeOut"},variants:{open:{height:"auto",scaleY:1},collapsed:{height:0,scaleY:0}},children:(0,b.jsx)("div",{style:{paddingTop:8},children:(0,b.jsx)(Ee().z,{...o})})},"animated-progress-bar"):void 0})}},687039:(e,t,n)=>{n.d(t,{Ay:()=>s,VH:()=>a});n(898992),n(803949),n(814603),n(147566),n(198721);var o=n(296540),i=n(474848);const a={"en-US":"en","ja-JP":"ja","ko-KR":"ko","fr-FR":"fr","de-DE":"de","pt-BR":"pt-BR","es-ES":"es-ES"};function l(e){return e.src?(0,i.jsx)("img",{alt:"",style:e.style,src:e.src}):null}const s=o.forwardRef((function(e,t){var a;const s=o.useRef(e);s.current=e;const r=o.useRef(void 0),[c,d]=o.useState(Boolean(e.customPlayButton)),[u,f]=o.useState(!1);o.useEffect((()=>{let t,n=!0;const o=()=>{const i=window.Vimeo;if(!i||!n)return;const a=document.getElementById(e.src);if(a)try{var l,c;if(t=new i.Player(a,{logging:!1}),r.current=t,!n||!t)return;t.on("play",(e=>{var t,n;d(!1),null===(t=(n=s.current).onPlay)||void 0===t||t.call(n,e)})),t.on("pause",(e=>{var t,n;null===(t=(n=s.current).onPause)||void 0===t||t.call(n,e)})),t.on("ended",(e=>{var t,n;null===(t=(n=s.current).onEnd)||void 0===t||t.call(n,e)})),null===(l=(c=s.current).onPlayerReady)||void 0===l||l.call(c,t),t.on("timeupdate",(e=>{var t,n;null===(t=(n=s.current).onTimeUpdate)||void 0===t||t.call(n,e)}))}catch(u){}else setTimeout(o,50)};if(window.Vimeo)o();else{const e=document.createElement("script");e.src="https://player.vimeo.com/api/player.js",e.onload=o,document.body.appendChild(e)}return()=>{if(n=!1,r.current=void 0,t)try{t.off("play"),t.off("pause"),t.off("ended"),t.off("timeupdate")}catch(e){}}}),[e.src]);const p=o.useCallback((()=>{const e=r.current;e&&(f(!0),e.play().catch((e=>{n(165358).log({level:"error",from:"VimeoVideoPlayer",type:"vimeo_play_failed",error:e})})))}),[]),m=function(e,t){const o=new URL(e);return(0,(()=>n(534177))().WP)(t).forEach((([e,t])=>{void 0!==t&&o.searchParams.set(e,String(t))})),o.toString()}(e.src,{texttrack:e.defaultTextTrack,playsinline:!1,dnt:(null===(a=e.options)||void 0===a?void 0:a.dnt)??!0,...e.options}),g=(0,n(401497).IS)((()=>({innerStyle:{position:"absolute",top:0,insetInlineStart:0,width:"100%",height:"100%",border:0,boxShadow:`0 1px 0 0 ${n(100622).Tj.border.secondary}`},customPlayButtonOverlay:{position:"absolute",top:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0, 0, 0, 0.4)",opacity:u?0:1,transition:"opacity 0.15s ease-out",pointerEvents:u?"none":"auto"}})),[u]);return(0,i.jsxs)(n(25500).A,{ratio:e.aspectRatioOverride??9/16,children:[(0,i.jsx)(l,{style:{...g.innerStyle,...e.preloadThumbnailStyle},src:e.preloadThumbnailSrc}),(0,i.jsx)("iframe",{ref:t,id:e.src,className:e.className,allowFullScreen:!0,src:m,style:{...g.innerStyle,...e.style}}),c&&e.customPlayButton?(0,i.jsx)("div",{style:g.customPlayButtonOverlay,children:(0,i.jsx)(n(160432).A,{onClick:p,size:"lg",colorPalette:"blue",children:e.customPlayButton})}):void 0]})}))},704658:(e,t,n)=>{n.r(t),n.d(t,{UpgradeButton:()=>h});n(296540);var o=()=>n(593531),i=()=>n(406094),a=()=>n(69708),l=()=>n(86269),s=()=>n(839897),r=()=>n(674482),c=()=>n(24796),d=n(474848);function u(e){var t;const{upgradeStatus:n,handleClick:o,size:u="default",width:f="fill",hoverRef:p,onMouseDown:m,upsell:g,featureName:h}=e,y=(0,a().tz)(),v=(0,s().e)(n),x=v.label.button({intl:y,upsell:g,featureName:h}),b=Boolean(v.disabledTooltip),w=(0,l().Lo)({width:f}),{animationState:S,animationTriggers:k}=(0,l().lP)(p);return(0,d.jsx)(c().T,{tooltipMessage:b&&!p?null===(t=v.disabledTooltip)||void 0===t?void 0:t.call(v,{intl:y,upsell:g,featureName:h}):void 0,children:(0,d.jsx)(i().A,{...p?{}:k,disabled:b,hoveredStyle:p?{background:"unset"}:void 0,size:r().lR[u],iconLeading:{...(0,l().e4)({icon:v.icon({upsell:g}),animationState:S}),size:r().Ud[u]},style:w,onClick:o,onMouseDown:m,children:x})})}var f=()=>n(160432);function p(e){var t;const{upsell:n,upgradeStatus:o,handleClick:i,onMouseDown:l,featureName:u}=e,p=(0,a().tz)(),m=(0,s().e)(o),g=m.label.button({intl:p,upsell:n,featureName:u}),h=Boolean(m.disabledTooltip);return(0,d.jsx)(c().T,{tooltipMessage:h?null===(t=m.disabledTooltip)||void 0===t?void 0:t.call(m,{intl:p,upsell:n,featureName:u}):void 0,children:(0,d.jsx)(f().A,{colorPalette:"blue",disabled:h,size:r().lR.default,onClick:i,onMouseDown:l,children:g})})}var m=()=>n(986321),g=()=>n(408543);function h({source:e,upsell:t,featureName:n,hoverRef:i,onMouseDown:a,postUpgradeCallback:l,onClickBeforeUpgradeAction:s,spaceStore:r,...c}){const{upgradeEligibility:f,handleClick:h}=(0,g().C)({upsell:t,source:e,buttonDisplayType:c.display,onClickBeforeUpgradeAction:s,postUpgradeCallback:l,spaceStore:r});if(!f||"not_eligible"===f.status&&"feature_not_upsellable"===f.reason)return null;switch(c.display){case"button":return(0,d.jsx)(u,{upgradeStatus:f.status,handleClick:h,upsell:t,featureName:n,hoverRef:i,onMouseDown:a,...c});case"icon":return(0,d.jsx)(o().c,{upgradeStatus:f.status,handleClick:h,upsell:t,featureName:n,hoverRef:i,onMouseDown:a,...c});case"text":return(0,d.jsx)(m().c,{upgradeStatus:f.status,handleClick:h,upsell:t,featureName:n,hoverRef:i,onMouseDown:a,...c});case"primary":return(0,d.jsx)(p,{upgradeStatus:f.status,handleClick:h,upsell:t,featureName:n,onMouseDown:a,...c})}}},710096:(e,t,n)=>{n.d(t,{A:()=>i});class o extends(()=>n(757695))().Store{getInitialState(){return{open:!1}}}const i=new o},747012:(e,t,n)=>{n.r(t),n.d(t,{arrowInCircleDownSmallIcon:()=>a,iconDefinition:()=>i});n(296540);var o=n(474848);const i={viewBox:"0 0 16 16",fittedViewBox:"1.87 1.87 12.25 12.25",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M8 4.585a.625.625 0 0 0-.625.625v4.071L6.362 8.268a.625.625 0 1 0-.884.884l2.08 2.08a.625.625 0 0 0 .884 0l2.08-2.08a.625.625 0 1 0-.884-.884L8.625 9.281v-4.07A.625.625 0 0 0 8 4.584"}),(0,o.jsx)("path",{d:"M8 1.875a6.125 6.125 0 1 0 0 12.25 6.125 6.125 0 0 0 0-12.25M3.125 8a4.875 4.875 0 1 1 9.75 0 4.875 4.875 0 0 1-9.75 0"})]})},a=(0,n(340498).wt)("arrowInCircleDownSmall",i,"small")},754002:(e,t,n)=>{n.d(t,{_:()=>g});n(296540);var o=()=>n(484714),i=()=>n(590526),a=()=>n(401497),l=()=>n(611648),s=()=>n(911988),r=()=>n(917150),c=()=>n(127833),d=()=>n(30537),u=()=>n(100622),f=()=>n(132389),p=()=>n(111043),m=n(474848);function g(e){const{renderInner:t,innerStyle:n,onDismiss:g,onClosed:h,fullscreen:y}=e,v=(0,o().v3)(),x=(0,o().Y0)(),b=(0,i().K8)((()=>v.WindowSizeStore.isLandscape()),[v.WindowSizeStore]),w=(0,a().IS)((()=>{let e;return(y||b)&&(e="100%"),{popupStyle:{background:u().Tj.background.secondary,borderStartEndRadius:"24px",borderStartStartRadius:"24px",overflow:"hidden",width:"100%",height:e,display:"flex",alignItems:"center",justifyContent:"center"},scrollerStyle:{background:u().Tj.background.secondary,width:b?"80%":"100%",height:e,display:"flex",flexDirection:b?"row":"column",alignItems:"center",...n}}}),[b,n,y]),S=(0,i().K8)((()=>v.WindowSizeStore.getSafePaddingTopCSS(s().s1)),[v.WindowSizeStore]),k=(0,p().o)();return(0,m.jsx)(c().zD,{open:!0,hidesMobileNativeBottomBar:!0,preventBlockRenderQueueOnEnter:!0,popupType:d().n.SlideUp,onDismiss:g,onClosed:h,style:w.popupStyle,render:()=>(0,m.jsxs)(r()._,{type:b?l().A.Y:l().A.None,style:w.scrollerStyle,children:[(0,m.jsx)(f().A,{size:b?S:0}),t(),(0,m.jsx)(f().A,{size:k+(x.isMobileBrowser?32:0)})]})})}},757491:(e,t,n)=>{n.d(t,{l:()=>i});var o=n(296540);function i(e){return(0,o.useEffect)((()=>()=>e()),[])}},767416:(e,t,n)=>{var o=n(779039),i=n(978227),a=n(743724),l=n(996395),s=i("iterator");e.exports=!o((function(){var e=new URL("b?a=1&b=2&c=3","https://a"),t=e.searchParams,n=new URLSearchParams("a=1&a=2&b=3"),o="";return e.pathname="c%20d",t.forEach((function(e,n){t.delete("b"),o+=n+e})),n.delete("a",2),n.delete("b",void 0),l&&(!e.toJSON||!n.has("a",1)||n.has("a",2)||!n.has("a",void 0)||n.has("b"))||!t.size&&(l||!a)||!t.sort||"https://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[s]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("https://тест").host||"#%D0%B1"!==new URL("https://a#б").hash||"a1c3"!==o||"x"!==new URL("https://x",void 0).host}))},778450:(e,t,n)=>{n.d(t,{e:()=>l});var o=()=>n(165358),i=()=>n(769864),a=()=>n(63728);async function l(e){if(null!==a().l.state)return a().l.state;const t=e.device.os;if("mac"!==t&&"windows"!==t)return!1;const n=await i().callApi({eventName:"getDesktopAppRegistration",environment:e,data:{os:t}});if("failed"===n.type)return o().log({level:"error",from:"getDesktopAppRegistered",type:"api:getDesktopAppRegistration",error:n.error}),!1;const l=n.data.isRegistered||Boolean(n.data.isRegistered30Day);return a().l.setState(l),l}},832895:(e,t,n)=>{n.d(t,{Ue:()=>b,wY:()=>w});n(944114),n(898992),n(803949);var o=n(296540),i=()=>n(401497),a=()=>n(699143),l=()=>n(718827),s=()=>n(606712),r=()=>n(970236),c=()=>n(807449),d=()=>n(406094),u=()=>n(631524),f=()=>n(493552),p=()=>n(995847),m=()=>n(340498),g=()=>n(100622),h=()=>n(534177),y=n(474848);const v=(0,o.createContext)(void 0);v.displayName="AnimationDismissContext";const x=300;function b(e){const{children:t}=e,[n,a]=(0,o.useState)(100),l=(0,i().IS)((()=>({card:{marginBottom:`-${n}%`,transitionProperty:"margin-bottom",transitionDuration:`${x}ms`,transitionTimingFunction:"ease"}})),[n]);(0,o.useEffect)((()=>{a(0)}),[]);const s=(0,o.useCallback)((e=>{a(100),setTimeout(e,x)}),[]);return(0,y.jsx)(v.Provider,{value:s,children:(0,y.jsx)("div",{style:l.card,children:t})})}function w(e){const{onClick:t,onDismiss:n,...r}=e,d=(0,i().eP)(),f=(0,i().IS)((()=>({container:{background:"transparent",margin:8,display:"flex",position:"relative"},card:{width:"100%",position:"relative",padding:8,borderRadius:8,boxShadow:g().Tj.shadow.outline.sm,background:g().Tj.background.secondary,WebkitBackdropFilter:"blur(30px)",backdropFilter:"blur(30px)",overflow:"hidden"},cardHovered:{background:(0,s().R)({color:g().Tj.background.secondary,mode:d,adjustmentFactor:.5})},cardPressed:{background:(0,s().y)({color:g().Tj.background.secondary,mode:d,adjustmentFactor:1})},closeButton:{position:"absolute",top:8,insetInlineEnd:8,width:20,height:20,display:"flex",alignItems:"center",justifyContent:"center"}})),[d]),m=(0,o.useContext)(v),h=(0,o.useCallback)((e=>{e.stopPropagation(),m?m((()=>null==n?void 0:n())):null==n||n()}),[n,m]);let x;return n&&(x=(0,y.jsx)(u().p,{colorPalette:"gray",size:"xs",style:f.closeButton,onClick:h,children:(0,y.jsx)(c().I,{icon:p().xMarkSmallIcon,size:"xs",colorVariant:"secondary"})})),(0,y.jsx)("div",{style:f.container,children:t?(0,y.jsxs)(l().Ay,{onClick:t,style:f.card,hoveredStyle:f.cardHovered,pressedStyle:f.cardPressed,children:[(0,y.jsx)(a().Y1,{direction:"vertical",gap:8,children:(0,y.jsx)(S,{...r})}),x]}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(a().Y1,{direction:"vertical",style:f.card,gap:8,children:(0,y.jsx)(S,{...r})}),x]})})}function S(e){const{title:t,body:n,buttons:o,imageSources:l,imageHeight:s,imageMarginLeft:c,imageMarginTop:d,onDismiss:u,icon:p,iconColor:v,badge:x,fullWidth:b,heroElement:w}=e,S=(0,i().eP)(),_=(null==x?void 0:x.placement)??"inlineWithTitle",j=(0,i().IS)((()=>({content:{paddingTop:4},image:{height:s??56,alignSelf:"start",maxWidth:"100%",marginInlineStart:c??4,marginTop:d??0},icon:{width:m().Ev.default,height:m().Ev.default,fill:v?g().Tj[v].icon.accentPrimary:g().Tj.icon.primary},iconWrapper:{width:24,height:24,display:"flex",justifyContent:"center",alignItems:"center"},title:{textWrap:"pretty"},badgeWrapper:{marginInlineStart:6},badge:{display:"inline-flex",alignSelf:"aboveTitle"===_?"flex-start":void 0}})),[v,s,c,d,_]),M=[];let C;return o&&(0,h().EI)(o)&&o.forEach(((e,t)=>M.push((0,y.jsx)(k,{...e},t)))),l?C=(0,y.jsx)("img",{src:l[S],style:j.image,alt:""}):w&&(C=w),(0,y.jsxs)(y.Fragment,{children:[C,(0,y.jsxs)(a().Y1,{direction:"horizontal",children:[p?(0,y.jsx)("span",{style:j.iconWrapper,children:p(j.icon)}):null,(0,y.jsxs)(a().Y1,{gap:4,style:j.content,children:[(0,y.jsxs)(a().Y1,{gap:4,padding:b?"0px":`0px ${u?32:8}px 0px 8px`,children:[x&&"aboveTitle"===_?(0,y.jsx)(r().E,{content:x.content,color:x.color,style:j.badge}):null,(0,y.jsxs)(f().D,{style:j.title,styleKey:"captionSemibold",colorVariant:"primary",children:[t,x&&"inlineWithTitle"===_?(0,y.jsx)("span",{style:j.badgeWrapper,children:(0,y.jsx)(r().E,{content:x.content,color:x.color,style:j.badge})}):null]}),(0,y.jsx)(f().D,{styleKey:"captionRegular",colorVariant:"secondary",children:n})]}),(0,y.jsx)("div",{children:M})]})]})]})}function k(e){const{text:t,onClick:n,leftIcon:o,rightIcon:s,disabled:r,variant:c="default",colorPalette:u,colorVariant:p="primary"}=e,h="outline-fill"===c,v=(0,i().IS)((()=>({defaultIconStyles:{width:m().Ev.sm,height:m().Ev.sm,fill:r?g().Tj.gray.text.primary:u?g().Tj[u].text[p]:g().Tj.text.primary},button:{paddingTop:4,paddingInlineEnd:8,paddingBottom:4,paddingInlineStart:Boolean(o)?6:8,borderRadius:6,...h?{width:"100%"}:{}}})),[o,h,u,p,r]),x="outline-fill"===c?d().A:l().Ay,b=h?"fill":"hug",w=h?"center":"center-left";return(0,y.jsx)(a().Y1,{direction:"horizontal",children:(0,y.jsx)(x,{disabled:r,style:v.button,onClick:n,children:(0,y.jsxs)(a().Y1,{direction:"horizontal",align:w,gap:Boolean(o)?4:6,width:b,children:[o?o(v.defaultIconStyles):null,(0,y.jsx)(f().D,{styleKey:"captionSemibold",colorPalette:r?"gray":u??void 0,colorVariant:r?"primary":p,children:t}),s?s(v.defaultIconStyles):null]})})})}},861243:(e,t,n)=>{n.d(t,{Y:()=>s});n(296540);var o=()=>n(690495),i=()=>n(391657),a=()=>n(832895),l=n(474848);function s(e){const{messageKey:t}=e,n={id:"",key:t,type:"static",category:o().lU[t].category,props:{}};return(0,l.jsx)(a().Ue,{children:(0,l.jsx)(i().g,{...e,message:n})})}},964848:(e,t,n)=>{n.d(t,{c:()=>i});n(296540);var o=()=>n(209660);n(474848);(0,n(69708).YK)({togglePageAvailableOfflineSuccessTitle:{id:"offlinePagesActions.togglePageAvailableOfflineSuccessTitle",defaultMessage:"Page now available offline"},togglePageAvailableOfflineSuccessBody:{id:"offlinePagesActions.togglePageAvailableOfflineSuccessBody",defaultMessage:"This page and all inline databases within it are available offline."},toggleCollectionViewBlockAvailableOfflineTitle:{id:"offlinePagesActions.toggleCollectionViewBlockAvailableOfflineSuccess",defaultMessage:"Database now available offline"},toggleCollectionViewBlockAvailableOfflineBody:{id:"offlinePagesActions.toggleCollectionViewBlockAvailableOfflineBody",defaultMessage:"The top 50 pages in the first view are available offline. To guarantee offline access to a page, make it available manually."},togglePageAvailableOfflineFailedTitle:{id:"offlinePagesActions.togglePageAvailableOfflineFailedTitle",defaultMessage:"Download failed. Please try again"},togglePageAvailableOfflineFailedBody:{id:"offlinePagesActions.togglePageAvailableOfflineFailedBody",defaultMessage:"Tap to manage offline pages"}});function i(e){o().Ow({currentTab:"offline",openedFrom:e})}},965142:(e,t,n)=>{n.d(t,{V:()=>i});class o extends(()=>n(757695))().Store{getInitialState(){return{isKeyboardShortcutsOpen:!1,toggleSource:void 0,openCount:0}}}const i=new o;(0,n(852832).exposeDebugValue)("keyboardShortcutsModalStore",i)},970236:(e,t,n)=>{n.d(t,{E:()=>s});n(296540);var o=()=>n(401497),i=()=>n(100622),a=()=>n(284371),l=n(474848);function s(e){const{color:t="gray",style:n,content:s,...r}=e,c=(0,o().IS)((()=>({badge:{alignSelf:"center",padding:"2px 4px",background:i().Tj[t].background.secondaryTranslucent,color:i().Tj[t].text.accentPrimary,borderRadius:4,fontSize:11,fontWeight:a().Wy.medium,lineHeight:1.3,...n}})),[t,n]);return(0,l.jsx)("div",{style:c.badge,...r,children:s})}}}]);