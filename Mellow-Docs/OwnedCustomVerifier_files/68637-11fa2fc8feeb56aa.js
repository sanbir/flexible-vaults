"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[68637],{103975:(e,t,i)=>{i.d(t,{M:()=>u});i(296540);var s=()=>i(484714),o=()=>i(590526),a=()=>i(383070),r=()=>i(783793),n=()=>i(79926);const l=new(n().O2)("assistantAnimatedFace",(()=>Promise.all([i.e(32257),i.e(15961)]).then(i.bind(i,995062))));var c=i(474848);function d(e){const{sizeVariant:t,highLevelState:i,includeBoxShadow:s,onMouseEnter:o}=e,{value:a}=(0,n().fJ)(l);if(!a)return(0,c.jsx)(r().o,{variant:t});const d=a.AssistantAnimatedFace,u=a.AssistantAnimatedFaceInner;return i?(0,c.jsx)(u,{sizeVariant:t,highLevelState:i,includeBoxShadow:s??!1,onMouseEnter:o}):(0,c.jsx)(d,{sizeVariant:t,includeBoxShadow:s??!1,onMouseEnter:o})}function u(e){const{variant:t,highLevelState:i,includeBoxShadow:n}=e,l=(0,s().Y0)(),u=(0,o().K8)((()=>a().zD.shouldShowAnimatedAssistantFace(l)),[l]);return i||u?(0,c.jsx)(d,{sizeVariant:t,highLevelState:i,includeBoxShadow:n}):(0,c.jsx)(r().x,{variant:t})}},104077:(e,t,i)=>{i.d(t,{r:()=>o});i(296540);const s={viewBox:"0 0 20 20",fittedViewBox:"2.79 2.35 14.41 15.68",svg:(0,i(474848).jsx)("path",{d:"M10 2.355a2.35 2.35 0 0 0-2.253 1.686 5.06 5.06 0 0 0-2.803 4.527v1.189c0 .919-.334 1.806-.939 2.498l-.818.935c-.881 1.007-.166 2.583 1.173 2.583h3.02a2.65 2.65 0 0 0 5.24 0h3.02c1.339 0 2.054-1.576 1.173-2.583l-.818-.935a3.8 3.8 0 0 1-.939-2.498v-1.19a5.06 5.06 0 0 0-2.803-4.526A2.35 2.35 0 0 0 10 2.355m1.5 13.418a1.55 1.55 0 0 1-2.998 0zM8.909 4.564A1.104 1.104 0 0 1 10 3.605c.556 0 1.017.415 1.091.96l.049.353.329.138a3.81 3.81 0 0 1 2.337 3.512v1.189c0 1.221.444 2.401 1.248 3.32l.818.936a.307.307 0 0 1-.232.51H4.36a.308.308 0 0 1-.232-.51l.818-.935a5.04 5.04 0 0 0 1.248-3.321v-1.19c0-1.58.963-2.936 2.337-3.511l.33-.138z"})},o=(0,i(340498).wt)("bell",s,"default")},274894:(e,t,i)=>{i.d(t,{f:()=>r});i(296540);var s=()=>i(401497),o=()=>i(100622),a=i(474848);function r(e){const t=(0,s().IS)((()=>({assistantBlueLink:{color:o().Tj.blue.text.accentPrimary,cursor:"pointer",fontWeight:600}})),[]);return(0,a.jsx)("span",{style:t.assistantBlueLink,onClick:e.onClick,children:e.children})}},322972:(e,t,i)=>{i.d(t,{P:()=>o});i(296540);const s={viewBox:"0 0 16 16",fittedViewBox:"2.18 1.3 11.63 11.45",svg:(0,i(474848).jsx)("path",{d:"M8.45 12.75a3.66 3.66 0 0 1-1.643-.387v-.008l-1.132-.387h-.097v-6.15l1.399-1.492c.233-.298.458-.745.672-1.172.143-.283.28-.557.413-.773l.287-.589a1.024 1.024 0 0 1 1.232-.418c.496.193.76.728.612 1.24l-.403 1.41c-.079.272-.192.5-.305.73-.11.22-.22.441-.3.704a.32.32 0 0 0 .31.41h3.256a.97.97 0 0 1 .969.97c0 .333-.179.62-.442.79a.94.94 0 0 1 .534.852.955.955 0 0 1-.65.907.96.96 0 0 1 .364.744.96.96 0 0 1-.961.969.97.97 0 0 1-.69 1.65zM4.61 6.334H2.913a.727.727 0 0 0-.727.726v4.181c0 .402.326.727.727.727H4.61z"})},o=(0,i(340498).wt)("handThumbsUpFillSmall",s,"fillSmall")},330966:(e,t,i)=>{i.d(t,{o:()=>v});var s=()=>i(300474),o=()=>i(920198),a=()=>i(590526),r=()=>i(741615),n=()=>i(676370),l=()=>i(84262),c=()=>i(427419),d=()=>i(69708),u=()=>i(534177),p=()=>i(843014),g=()=>i(807778),m=()=>i(803025);const f=(0,d().YK)({default:{id:"aiUpgradeButtonProps.genericCredits.default",defaultMessage:"You’ve run out of free AI responses. <highlight>{upgradePhrase}</highlight>."},notEligible:{id:"aiUpgradeButtonProps.genericCredits.notEligible",defaultMessage:"You’ve run out of free AI responses."}}),h=(0,d().YK)({default:{id:"aiUpgradeButtonProps.creditLimit.default",defaultMessage:"Your workspace has hit its credit limit. <highlight>{upgradePhrase}</highlight>."},notEligible:{id:"aiUpgradeButtonProps.creditLimit.notEligible",defaultMessage:"Your workspace has hit its credit limit."}});function v(e){const{featureAvailability:t,source:i,showOptimisticUpsell:d,type:v}=e,_=(0,s().r)(),y=(0,o().L)(),b=(0,r().lh)({spaceId:_}),x=(0,m().q)(),M=(0,u().Xk)(n().uv,i),S="ai_formulas"===i,C="sales_assisted"===x,w=(0,a().K8)((()=>(0,g().FA)()),[]),B=(0,l().Pd)(t)||d?null==t?void 0:t.upsell:void 0;if(!B||"none"===B.type)return;const k=Boolean(w&&b&&(0,c().Hg)(b)),I={source:i,upsell:B,featureName:"ai_usage",spaceStore:y};switch(v){case"primary":return{...I,display:"primary"};case"button":return{...I,display:"button",size:"small"};case"icon":return{...I,showPlanName:!0,display:"icon"};case"text":{let t;return t=w?k?{eligible_to_purchase:h.default,eligible_for_trial:h.default,sales_eligible:h.default,sales_assisted:h.default,eligible_to_request:h.default,request_pending:h.default,not_eligible:h.notEligible}:{eligible_to_purchase:f.default,eligible_for_trial:f.default,sales_eligible:f.default,sales_assisted:f.default,eligible_to_request:f.default,request_pending:f.default,not_eligible:f.notEligible}:function({isFormulas:e,isResearchMode:t,salesAssistedUpgradeRequired:i}){return{eligible_to_purchase:{...p().D["adminUpsell.selfService"],interpolatedValues:{isResearchMode:t,isFormulas:e}},sales_assisted:{...p().D["adminUpsell.salesAssisted"],interpolatedValues:{isResearchMode:t,isFormulas:e}},eligible_to_request:{...p().D[i?"memberCanRequest.salesAssisted":"memberCanRequest.selfService"],interpolatedValues:{isResearchMode:t,isFormulas:e}}}}({isFormulas:S,isResearchMode:M,salesAssistedUpgradeRequired:C}),{...I,display:"text",size:e.size??"small",customMessages:t}}default:(0,u().HB)(v)}}},362976:(e,t,i)=>{function s(e){const t=e.getSchema();if(t)for(const[s,o]of Object.entries(t)){var i;if(o&&"text"===o.type&&"summarize"===(null===(i=o.ai_inference)||void 0===i?void 0:i.type)){const t=e.getPropertyValue(s);if(t)return t}}}i.d(t,{E:()=>s})},412237:(e,t,i)=>{i.r(t),i.d(t,{aiFaceSmallIcon:()=>a,iconDefinition:()=>o});i(296540);var s=i(474848);const o={viewBox:"0 0 16 16",fittedViewBox:"2.89 1.43 11.63 12.81",svg:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("path",{d:"M7.204 1.93a3.47 3.47 0 0 0-4.097.39.625.625 0 1 0 .834.931 2.22 2.22 0 0 1 3.16.202.625.625 0 0 0 .944-.818 3.5 3.5 0 0 0-.84-.705m6.018.976A3.47 3.47 0 0 0 8.463 4.1l-5.077 8.476a.625.625 0 0 0 .437.938l4.41.715a.625.625 0 0 0 .2-1.234l-3.5-.568 4.602-7.685a2.22 2.22 0 0 1 3.822.02.625.625 0 1 0 1.08-.63 3.46 3.46 0 0 0-1.214-1.226m-7.83 2.105a1.094 1.094 0 1 0-.35 2.159 1.094 1.094 0 0 0 .35-2.159"}),(0,s.jsx)("path",{d:"M10.762 5.881a1.093 1.093 0 1 0-.35 2.159 1.093 1.093 0 0 0 .35-2.159"})]})},a=(0,i(340498).wt)("aiFaceSmall",o,"small")},490242:(e,t,i)=>{i.d(t,{f:()=>h});var s=i(296540),o=()=>i(484714),a=()=>i(590526),r=()=>i(206267),n=()=>i(201980),l=()=>i(567141),c=()=>i(837622),d=()=>i(358006),u=()=>i(362976),p=()=>i(990261),g=()=>i(871830),m=i(474848);const f=20;function h(e){const t=(0,o().v3)(),{store:i,startBlockId:h,size:v,isDiscussion:_}=e,y=(0,g().O)(),b=(0,a().K8)((()=>u().E(i)),[i]),x=b&&n().FAw(b)>=f,M=(0,s.useMemo)((()=>r().JW()),[]),S=(0,a().K8)((()=>{var e;if("tall"===v)return 200;const t=i.getModel();return!t||!t.isCollectionView()||t.hasWikiBlockUri()||null!==(e=i.getAssociatedCollectionStore())&&void 0!==e&&e.isPageTreeCollection()?84:125}),[v,i]);return(0,s.useEffect)((()=>{const e=p().uk.getCurrentPageVisitId();return l().Z3(t,{hover_session_id:M,mentioned_page_id:i.pointer.id,hover_content_type:x?"ai_summary":"content_preview",page_visit_id:e}),()=>{l().Q_(t,{hover_session_id:M,hover_content_type:x?"ai_summary":"content_preview",mentioned_page_id:i.pointer.id,page_visit_id:e})}}),[t,M,x,i.pointer.id]),h||!x?(0,m.jsx)(d().z,{variant:"default",store:i,coverFormat:{type:"page_content"},allowVideoPlayback:!1,coverContentFadedOverlay:!0,coverContentFadedOverlayStyle:y.contentCoverFade,coverHeight:S,startBlockId:h,contentWrapStyle:y.contentCover,imageCoverWrapStyle:y.imageCoverWrap,emptyGalleryCoverStyle:y.contentCoverEmpty,loadingShimmerStyle:y.loadingShimmer,showLoadingShimmer:!0,showEmptyGalleryCover:!0,onLoadProxiedImage:()=>{},rendererBlockStyle:y.rendererBlockStyle,renderAdditionalBlocks:!0,exactBlockOnlyNoContentCover:_}):(0,m.jsx)("div",{children:(0,m.jsx)("div",{style:y.summary,children:(0,m.jsx)(c().A,{textValue:b,parentStore:i})})})}},557943:(e,t,i)=>{i.d(t,{s:()=>o});i(296540);const s={viewBox:"0 0 16 16",fittedViewBox:"1.56 0.68 12.88 12.7",svg:(0,i(474848).jsx)("path",{d:"M9.8.788a1.65 1.65 0 0 0-2.013.73l-.274.563c-.143.237-.29.53-.427.802v.002l-.103.203c-.178.35-.336.639-.483.833L4.823 5.709H2.914c-.746 0-1.352.605-1.352 1.351v4.181c0 .747.606 1.352 1.352 1.352h2.657l.945.324.01.005h.001c.598.3 1.252.454 1.923.454h3.425a1.594 1.594 0 0 0 1.562-1.912c.432-.286.714-.779.714-1.333 0-.213-.044-.413-.119-.593.251-.278.406-.645.406-1.058a1.56 1.56 0 0 0-.284-.901c.12-.218.19-.47.19-.742 0-.88-.713-1.593-1.593-1.593H9.94q.05-.106.11-.225l.002-.004c.11-.222.243-.491.338-.817v-.002l.403-1.41A1.65 1.65 0 0 0 9.808.791zM8.623 2.655l.27-.556a.4.4 0 0 1 .464-.141.4.4 0 0 1 .235.483L9.19 3.85a3.5 3.5 0 0 1-.26.612l-.011.025c-.106.214-.236.475-.33.787a.946.946 0 0 0 .907 1.219h3.255c.19 0 .344.154.344.343 0 .1-.052.198-.157.266a.625.625 0 0 0 .066 1.087.32.32 0 0 1 .184.29.33.33 0 0 1-.231.317.625.625 0 0 0-.192 1.073.34.34 0 0 1 .136.261.34.34 0 0 1-.336.344.625.625 0 0 0-.452 1.057.344.344 0 0 1-.238.594H8.45c-.45 0-.886-.097-1.29-.286a.6.6 0 0 0-.151-.076l-1.131-.387a.6.6 0 0 0-.203-.034h-.006V6.634l1.764-1.88.037-.043c.236-.302.449-.705.627-1.057l.117-.232a10 10 0 0 1 .41-.767M2.812 7.06c0-.056.046-.101.102-.101H4.52v4.384H2.914a.1.1 0 0 1-.102-.102z"})},o=(0,i(340498).wt)("handThumbsUpSmall",s,"small")},634054:(e,t,i)=>{i.d(t,{mA:()=>w});i(16280),i(517642),i(658004),i(733853),i(845876),i(432475),i(515024),i(731698),i(898992),i(354520);var s=()=>i(242422),o=()=>i(675133),a=()=>i(295633),r=()=>i(732810),n=()=>i(43864),l=()=>i(329199),c=()=>i(416504),d=()=>i(696706),u=()=>i(179034),p=()=>i(973647),g=()=>i(534177),m=()=>i(769864),f=()=>i(89053),h=()=>i(193994),v=()=>i(842076),_=()=>i(862292),y=()=>i(180252);const b=1e3;class x extends Error{constructor(e,t){super(t),this.type=e}}class M extends x{constructor(){super("query_collection_limit_outside_range",`Query collection limit must be between 0 and ${b}`)}}class S extends x{constructor(e){super("query_collection_failed",`Query collection failed: ${e.reason}`),this.data=e}}class C extends x{constructor(){super("query_collection_too_many_items","Query collection updating too many items")}}async function w(e,t){const{source:i,parentRecordStore:x,collectionPointer:w,filter:B,sort:k,limit:I}=t,A=I??b;if(A<0||A>b)return{error:new M};const F=r().m.createChildStore(x,w);await F.load();const j=F.getModel();if(!j)return{error:new S({reason:"no collection value"})};const R=F.getParentBlockStore();if(!R)return{error:new S({reason:"no collection parent"})};await R.load();const q=R.getCollectionViewStores()[0],z=q.getSpaceId();if(!q||!z)return{error:new S({reason:"no first collection view"})};const P="results",T={[P]:{type:"results",limit:A}},D=Object.keys(t.aggregations??{});for(const s of D){var E;if(s===P)return{error:new S({reason:`${P} is a reserved reducer keyword.`})};const e=null===(E=t.aggregations)||void 0===E?void 0:E[s];if(!e)return{error:new S({reason:`no aggregation provided for ${s}.`})};e&&(T[s]={type:"aggregation",aggregation:e})}const V=F.getSchema(),H={filter:B&&(0,n().SK)(B,V),sort:k&&l().g4(k,V),userId:e.currentUser.id,userTimeZone:(0,c().P)(),searchQuery:void 0,reducers:T},L=await m().callCellCompatibleApi({eventName:"queryCollection",environment:e,data:{source:{type:"collection",id:w.id,spaceId:w.spaceId},collectionView:{id:q.id,spaceId:z},loader:H,clientType:"notion_app"},tracking:{src:i},cellNavigation:{spaceId:w.spaceId}});if("failed"===L.type)return{error:new S({reason:"server query failed",cause:L.error})};const U=L.data.result.reducerResults[P];if(!U||"results"!==U.type)return{error:new S({reason:"unexpected server result"})};if(U.blockIds.length===b&&U.hasMore)return{error:new C};const{groupsReducerIds:W,reducerIdsWithNoGroupDependencies:O}=l().M(H.reducers,H.reducerDependencies),K=s().default.getConfigKey("collection_request_settings","clientFormulaTimeoutMs"),$=Date.now(),Y=await _().T.formulas.load(),N=e.idCreator.getSpaceIdCreatorSync(w.spaceId),G={pageSort:[],schema:V,loader:H,userId:e.currentUser.id,userStartOfWeek:y().XX.state,currentTime:$,getRecordModel:x.getRecordModel,getRecordRole:x.getRecordRole,intl:o().A.getIntl(),isSorted:!1,visibleProperties:void 0,relativeVariableResult:null==L?void 0:L.data.relativeVariableResult,currentPageInRelatedCollection:void 0,isSprintPlanningView:!1,source:{type:"collection",id:w.id,spaceId:w.spaceId},groupsReducerIds:W,reducerIdsWithNoGroupDependencies:O,formulaTimeoutMs:K,resultCache:new Map,regExpCache:new Map,formatDateCache:new Map,experimentService:s().default,collectionFeatureGates:(0,f().i)(),shouldUseClientMode:!1,clientModeConfig:void 0,formulasModule:Y,spaceIdCreator:N,getRelationEdgeList:(0,v().Y)({environment:e,spaceId:w.spaceId})},X=l().zl(G);for(const s of U.blockIds){var Q;const e=a().B.createChildStore(x,{table:u().ev,id:s}),t=null===(Q=e.getAssociatedCollectionStore())||void 0===Q?void 0:Q.pointer;if(!(t&&d().L3.isEqualIdTable(t,F.pointer)))continue;const i=x.getRecordModel(e);i&&l().UC({blockValueOrModel:i,collectionValueOrModel:j,queryArgs:G,state:X})}const J=h().A.getEditedBlocksForCollection(j.id),Z=new Set(U.blockIds);for(const s of J){if(Z.has(s))continue;const e=x.getRecordModel({table:u().ev,id:s});e&&l().UC({blockValueOrModel:e,collectionValueOrModel:j,queryArgs:G,state:X})}const{result:ee}=l().Mo(G,X),te=l().uX({result:ee}),ie={};for(const s of D){var se;const e=l().VI({expectedAggregator:null===(se=t.aggregations)||void 0===se||null===(se=se[s])||void 0===se?void 0:se.aggregator,aggregationReducerResult:L.data.result.reducerResults[s]});if(p().Q.isFail(e)){const t="no aggregation provided"===e.error?`no aggregation provided for ${s}`:"unexpected response returned for aggregation"===e.error?`unexpected response returned for aggregation ${s}`:(0,g().HB)(e.error);return{error:new S({reason:t})}}ie[s]=e.value}return{value:{blockIds:te,...ie}}}},669358:(e,t,i)=>{i.d(t,{A:()=>o});class s extends(()=>i(757695))().Store{getInitialState(){return{}}}const o=new s},676370:(e,t,i)=>{i.d(t,{CT:()=>a,uv:()=>o,zL:()=>r,zj:()=>s});const s=["ai_unified_find_search_modal","ai_unified_find_chat","ai_chat_with_model","ai_assistant_limit_in_app","ai_autofill_fill_all_pages","ai_autofill_bulk_fill","ai_autofill_on_page_edit","ai_autofill_try_on_view","ai_limit_in_app","ai_limit_property_autofill","ai_limit_sidebar","ai_limit_settings","ai_limited_qna_no_results","ai_limited_qna_upsell_action_button","ai_qna_waitlist","ai_qna_limit_in_app","ai_upsell_notice","ai_upsell_settings","ai_page_translation","ai_plans_page","ai_formulas"],o=["ai_research_mode"],a=["ai_meeting_notes","ai_meeting_notes_custom_transcript_retention"],r=["ai_agent"]},768631:(e,t,i)=>{i.d(t,{k:()=>s,w:()=>o});const s=260,o=24},811979:(e,t,i)=>{i.d(t,{A:()=>l});var s=i(296540),o=()=>i(205262),a=()=>i(590526),r=i(474848);function n(e,t){const{onClose:n,persistOnClose:l,render:u,stopClickPropagation:p,onClick:g,disablePopup:m,disabled:f,forceInitialInbound:h,renderOrigin:v,originGap:_,borderRadius:y,popupWrapStyle:b}=e,x=(0,a().uB)(e.buttonPopupStore,i(118307).A);(0,s.useEffect)((()=>()=>{x.setState({open:!1})}),[x]);const M=(0,s.useCallback)((()=>c(n,l,x)),[n,l,x]),S=(0,s.useCallback)((()=>(0,r.jsx)(d,{onClose:n,persistOnClose:l,render:u,buttonPopupStore:x})),[n,l,u,x]),C=(0,s.useCallback)((e=>function(e,t,i,s,a){t&&(null==e||e.stopPropagation());if(e&&(0,o().V)(e))return;i&&i(e);s||a.setState({...a.state,open:!0})}(e,p,g,m,x)),[p,g,m,x]),w=(0,a().K8)((()=>v({...e,onClick:f?i(496603).D_:C})),[f,C,e,v]),B=(0,a().K8)((()=>x.state.open),[x]);return(0,r.jsx)(i(127833).zD,{ref:t,...e,forceInitialInbound:Boolean(h),render:S,open:B,onDismiss:M,origin:w,originGap:_,borderRadius:y,popupWrapStyle:b,trapFocus:!0})}const l=s.forwardRef(n);function c(e,t,i){e&&e(),t||i.reset()}function d({onClose:e,persistOnClose:t,render:i,buttonPopupStore:o}){const n=(0,s.useCallback)((()=>c(e,t,o)),[e,t,o]),l=(0,a().K8)((()=>i({close:n})),[i,n]);return(0,r.jsx)(r.Fragment,{children:l})}},871830:(e,t,i)=>{i.d(t,{O:()=>c,d:()=>l});var s=()=>i(401497),o=()=>i(100622),a=()=>i(284371),r=()=>i(115512),n=()=>i(768631);function l(){return(0,s().IS)((()=>({wrapper:{width:n().k},coverContainer:{height:36,zIndex:1},content:{padding:"0 16px"},breadcrumb:{color:o().Tj.text.tertiary,fontSize:11,marginBottom:-2,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"100%"},pageTitle:{display:"inline",fontWeight:a().Wy.semibold,color:o().Tj.text.primary,fontSize:13,lineHeight:1.15},pageTitleIcon:{zIndex:2,position:"relative",marginInlineStart:16,marginTop:-15,marginBottom:8},pageTitleContainer:{...(0,r().pA)(2),verticalAlign:"top",lineHeight:1.15},empty:{height:16},highlightedBlockWrapper:{display:"flex",marginBottom:8}})),[])}function c(){return(0,s().IS)((()=>({icon:{height:16,width:16,fill:o().Tj.purple.icon.accentPrimary,marginInlineEnd:2},title:{fontSize:12,color:o().Tj.purple.icon.accentPrimary},summary:{...(0,r().pA)(4),fontSize:12,lineHeight:1.35,color:o().Tj.text.secondary,marginBottom:12},contentCover:{color:o().Tj.text.primary,fontSize:11,lineHeight:1.5,marginBottom:0,width:"110%",transform:"translateX(-13px) translateY(-2px) scale(0.91)"},contentCoverEmpty:{height:16},imageCoverWrap:{marginBottom:16},contentCoverFade:{height:48,background:`linear-gradient(to bottom, transparent, ${o().Tj.background.elevated} 100%)`},loadingShimmer:{marginBottom:0},rendererBlockStyle:{fontSize:9}})),[])}},877349:(e,t,i)=>{i.d(t,{y:()=>g});i(581454),i(296540);var s=()=>i(590526),o=()=>i(249046),a=()=>i(495576),r=()=>i(187820),n=()=>i(128295),l=()=>i(16006),c=()=>i(768631),d=()=>i(871830),u=()=>i(490242),p=i(474848);function g(e){const{store:t,contentBlocks:i,events:g,size:m="regular",isDiscussion:f,hideCover:h=!1,hideIcon:v=!1,hideTitle:_=!1}=e,y=(0,d().d)(),{icon:b,isEmptyPage:x,content:M}=(0,s().K8)((()=>{if(!t)return{icon:void 0,isEmptyPage:!1,content:null};const e=t.isEmptyPage(),s=e?(0,p.jsx)("div",{style:{height:c().w}}):i?i.map(((e,i)=>(0,p.jsx)("div",{style:y.highlightedBlockWrapper,children:(0,p.jsx)(u().f,{store:t,startBlockId:null==e?void 0:e.id,size:m,isDiscussion:f})},`${e.id}_${i}`))):(0,p.jsx)(u().f,{store:t,size:m});return{icon:t.getIcon(),isEmptyPage:e,content:s}}),[t,i,y.highlightedBlockWrapper,m,f]),S=(0,s().K8)((()=>(0,r().Te)(t)),[t]);return t?(0,p.jsxs)("div",{style:y.wrapper,...g,children:[h?void 0:(0,p.jsx)("div",{style:y.coverContainer,children:(0,p.jsx)(a().d,{store:t,disabled:!0,paddingLeft:0,paddingRight:0,height:36,proxyWidth:260})}),v?void 0:(0,p.jsx)(r().B6,{disabled:!0,icon:b,iconRecordCategory:S,isEmptyPage:x,isLarge:!0,disableShrinking:!0,size:26,emojiSize:26,largeIcon:!0,style:y.pageTitleIcon}),(0,p.jsxs)(o().wt,{gap:4,style:y.content,children:[_?void 0:(0,p.jsxs)(o().wt,{gap:2,children:[(0,p.jsx)(n().Ay,{store:t,style:y.breadcrumb}),(0,p.jsx)("div",{style:y.pageTitleContainer,children:(0,p.jsx)(l().A,{shouldWrap:!0,maxLines:2,store:t,style:y.pageTitle})})]}),M]})]}):null}},949305:(e,t,i)=>{i.d(t,{x:()=>b});var s=i(296540),o=()=>i(920198),a=()=>i(59226),r=()=>i(590526),n=()=>i(401497),l=()=>i(416783),c=()=>i(427704),d=()=>i(676370),u=()=>i(69708),p=()=>i(100622),g=()=>i(534177),m=()=>i(843014),f=()=>i(274894),h=()=>i(803025),v=()=>i(408543),_=()=>i(704658),y=i(474848);function b(e){const{featureAvailability:t,upsellFrom:i,sunsetCheckSource:_,showOptimisticUpsell:b}=e,M=(0,u().tz)(),S=(0,h().q)(),C=(0,o().L)(),w=(0,a().X)("upgrade_system_ai"),B=(0,n().IS)((()=>({assistantBlueLink:{color:p().Tj.blue.text.accentPrimary,cursor:"pointer",fontWeight:600,textDecoration:"none"}})),[]),k=(0,r().K8)((()=>!!t&&("available"===t.type&&void 0!==t.expiry&&"sunset"===t.expiry.type)),[t]),I=(0,g().Xk)(d().uv,i),A="ai_formulas"===i,F="sales_assisted"===S,{handleClick:j,upgradeEligibility:R}=(0,v().C)({upsell:null==t?void 0:t.upsell,source:i,spaceStore:C});return(0,s.useMemo)((()=>{if(!t)return{upsellHeader:void 0,upsellMessage:M.formatMessage(m().D.noAccessFeatureMessage),actionButtonMsg:void 0,actionForFeatureAvailability:void 0,isSunset:k};if("available"===t.type&&!b){const e=t.expiry;return void 0!==_&&k&&void 0!==t&&void 0!==e?{upsellHeader:M.formatMessage(m().D.upgradeToBusiness),upsellMessage:M.formatMessage(m().D.aiConnectorsSunsetUpsellBanner,{date:e.endDate.toFormat("MMMM d"),bold:e=>(0,y.jsx)(l().V,{external:!0,href:c().JZ.pricing,hoverColor:"blue",style:B.assistantBlueLink,children:e}),breakLine:"assistant_overflow_menu_add_connectors"===_,br:(0,y.jsx)("br",{})}),actionButtonMsg:M.formatMessage(m().D.upgradeButton),actionForFeatureAvailability:j,isSunset:k}:{upsellHeader:void 0,upsellMessage:void 0,actionButtonMsg:void 0,actionForFeatureAvailability:void 0,isSunset:k}}const e=t.upsell;if(!e||"none"===e.type)return{upsellHeader:void 0,upsellMessage:void 0,actionButtonMsg:void 0,actionForFeatureAvailability:void 0,isSunset:k};const s=function(e){const{salesAssistedUpgradeRequired:t,upgradeEligibility:i}=e,s="eligible_to_request"===i.status?"memberCanRequest":"request_pending"===i.status?"memberRequested":"adminUpsell",o=t?"salesAssisted":"selfService",a=`${s}.${o}`;return m().D[a]}({salesAssistedUpgradeRequired:F,upgradeEligibility:R});if("request_pending"===R.status)return{upsellHeader:void 0,upsellMessage:M.formatMessage(s,{isResearchMode:I,isFormulas:A}),actionButtonMsg:void 0,actionForFeatureAvailability:void 0,isSunset:k};if("eligible_to_request"===R.status)return w?{upsellHeader:void 0,upsellMessage:x({upsellMsgInfo:s,upsellFrom:i,upsell:e,isResearchMode:I,isFormulas:A,onClick:j,spaceStore:C}),actionButtonMsg:"ai_meeting_notes"===i?M.formatMessage(m().D.requestAccessButtonShort):M.formatMessage(m().D.requestAccessButton),actionForFeatureAvailability:j,isSunset:k}:{upsellHeader:void 0,upsellMessage:M.formatMessage(s,{isResearchMode:I,isFormulas:A,bold:e=>(0,y.jsx)(f().f,{onClick:j,children:e})}),actionButtonMsg:"ai_meeting_notes"===i?M.formatMessage(m().D.requestAccessButtonShort):M.formatMessage(m().D.requestAccessButton),actionForFeatureAvailability:j,isSunset:k};{const t="sales_assisted"===R.status?M.formatMessage(m().D.contactSalesButton):"ai_meeting_notes"===i?M.formatMessage(m().D.upgradeButton):M.formatMessage(m().D.getNotionAI);return w?{upsellHeader:void 0,upsellMessage:x({upsellMsgInfo:s,upsellFrom:i,upsell:e,isResearchMode:I,isFormulas:A,onClick:j,spaceStore:C}),actionButtonMsg:t,actionForFeatureAvailability:j,isSunset:k}:{upsellHeader:void 0,upsellMessage:M.formatMessage(s,{isResearchMode:I,isFormulas:A,bold:e=>(0,y.jsx)(f().f,{onClick:j,children:e})}),actionButtonMsg:t,actionForFeatureAvailability:j,isSunset:k}}}),[t,b,F,M,k,_,j,B.assistantBlueLink,I,A,w,i,R,C])}function x(e){const{upsellMsgInfo:t,upsellFrom:i,upsell:s,isResearchMode:o,isFormulas:a,onClick:r,spaceStore:n}=e,l={...t,interpolatedValues:{isResearchMode:o,isFormulas:a,bold:e=>(0,y.jsx)(f().f,{onClick:r,children:e})}};return(0,y.jsx)(_().UpgradeButton,{source:i,upsell:s,display:"text",size:"small",customMessages:{eligible_to_purchase:l,sales_eligible:l,sales_assisted:l},spaceStore:n})}}}]);