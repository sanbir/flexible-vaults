"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[30879],{403966:(e,t,a)=>{a.r(t),a.d(t,{TranscriptionUsageFetcher:()=>o});var i=a(296540),n=()=>a(664594),l=()=>a(300474),s=()=>a(484714),r=()=>a(534177),c=()=>a(769864),u=()=>a(891360);function o(){const e=(0,s().v3)(),t=(0,l().r)(),a=(0,n().T)(),o=(0,i.useCallback)((async()=>{if(!t||!a)return;const i=await c().callApi({eventName:"getTranscriptionUsage",environment:e,data:{spaceId:t}});if("success"===i.type){const e=i.data;"rateLimited"===e.type?u().W.setState({type:"rateLimited",retryAfterSec:e.retryAfterSec}):"available"===e.eligibility?u().W.setState({type:"available",usage:e.usage,limit:e.limit}):"unavailable"===e.eligibility?u().W.setState({type:"unavailable"}):(0,r().HB)(e.eligibility)}}),[e,t,a]);return(0,i.useEffect)((()=>{o()}),[o,t,a]),null}}}]);