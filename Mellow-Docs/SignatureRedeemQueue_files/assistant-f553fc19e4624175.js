"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[2411,2709,14344,22197,26126,32626,48486,53697,77093,78984,90871,92754,95576,97651,99171],{346:(e,t,o)=>{o.d(t,{MG:()=>f,T1:()=>m,a1:()=>S,dt:()=>g,kg:()=>v,lC:()=>y,n_:()=>h});var n=o(296540),r=()=>o(484714),i=()=>o(590526),a=()=>o(79926),s=()=>o(187174),l=()=>o(941463),c=()=>o(441199),d=()=>o(749687),u=()=>o(737230),p=()=>o(756114);const m=new(a().O2)("PerformanceToolbar",(()=>Promise.all([o.e(23640),o.e(45624)]).then(o.bind(o,688201)))),f=(0,a()._h)(m,(e=>e.PerformanceToolbar)),g=(0,a()._h)(m,(e=>e.PerformanceToolbarSettings));function v(){const e=(0,r().v3)();return(0,i().K8)((()=>(0,p().D)(e,e.RouterStore.state)),[e])}function h(){const e=(0,r().v3)(),t=b("performanceToolbarStore"),o=b("isPerformanceToolbarVisible");return(0,i().K8)((()=>!(!t||!o)&&o(e,e.RouterStore.state,t.state)),[o,e,t])}function y(){const e=b("performanceToolbarStore");return(0,i().K8)((()=>!!e&&e.state.isPerformanceToolbarMounted),[e])}function S(){const e=(0,r().v3)(),t=b("createPerformanceToolbarMouseListeners"),o=b("performanceToolbarStore"),{sidebarExpanded:a,sidebarWidth:s,secondarySidebarExpanded:p,secondarySidebarWidth:m,updateSidebarExpanded:f,updateSidebarWidth:g}=(0,i().K8)((()=>({sidebarExpanded:d().sidebarExpandedStore.state,sidebarWidth:d().sidebarWidthStore.state,secondarySidebarExpanded:c().default.isOpen(),secondarySidebarWidth:l().Ay.getWidth(),updateSidebarExpanded:u().Ay.state.expanded,updateSidebarWidth:u().Ay.state.width})),[]);return(0,n.useEffect)((()=>{if(o&&t)return t(e,(e=>o.update((t=>({...t,isMouseNearPerformanceToolbar:e})))),a,s,p,m,f,g)}),[t,e,o,a,s,p,m,f,g])}function b(e){const t=v(),[{value:o}]=(0,s().Yb)((()=>t?m.load().then((t=>t[e])):Promise.resolve(void 0)),[e,t]);return o}},670:(e,t,o)=>{o.d(t,{Lr:()=>a,PM:()=>r,Ur:()=>i});o(517642),o(658004),o(733853),o(845876),o(432475),o(515024),o(731698);class n extends(()=>o(757695))().Store{getInitialState(){return{duplicatingWorkflowIds:new Set,isDuplicating:!1}}}const r=new n;function i(e){r.update((t=>{const o=new Set(t.duplicatingWorkflowIds);return o.add(e),{duplicatingWorkflowIds:o,isDuplicating:o.size>0}}))}function a(e){r.update((t=>{if(!t.duplicatingWorkflowIds.has(e))return t;const o=new Set(t.duplicatingWorkflowIds);return o.delete(e),{duplicatingWorkflowIds:o,isDuplicating:o.size>0}}))}},6697:(e,t,o)=>{o.d(t,{h:()=>i});var n=()=>o(79926);const r=new(n().O2)("DictationAvatar",(async()=>await Promise.all([o.e(75134),o.e(35530),o.e(9773),o.e(36556),o.e(55373),o.e(36192),o.e(40537),o.e(27992),o.e(63452),o.e(66249),o.e(92845),o.e(87249),o.e(79022),o.e(44854),o.e(87017),o.e(34877),o.e(46414),o.e(11676),o.e(61165),o.e(94522),o.e(44584),o.e(38293),o.e(40992),o.e(88455),o.e(52871),o.e(47160),o.e(49021),o.e(53697),o.e(26126),o.e(6039),o.e(71136),o.e(86341),o.e(29316),o.e(3101)]).then(o.bind(o,310947)))),i=(0,n()._h)(r,(e=>e.DictationAvatar))},24126:(e,t,o)=>{o.d(t,{c:()=>r});o(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"3.9 2.75 12.18 14.49",svg:(0,o(474848).jsx)("path",{d:"M12.626 2.768a.625.625 0 0 1 0 1.224l-.126.013h-.125v4.794l3.366 5.159c.893 1.369-.03 3.17-1.623 3.281l-.156.006H6.039c-1.688 0-2.703-1.873-1.78-3.287l3.366-5.157V4.005H7.5a.625.625 0 0 1 0-1.25h5zM8.875 9.173l-.102.156-1.567 2.401h5.589l-1.569-2.403-.101-.156V4.005h-2.25z"})},r=(0,o(340498).wt)("beaker",n,"default")},27356:(e,t,o)=>{o.r(t),o.d(t,{UISpacePermissionGroupToken:()=>y});var n=o(296540),r=()=>o(726637),i=()=>o(484714),a=()=>o(590526),s=()=>o(401497),l=()=>o(942194),c=()=>o(784892),d=()=>o(437607),u=()=>o(914462),p=()=>o(69708),m=()=>o(100622),f=()=>o(284371),g=()=>o(848401),v=()=>o(580648),h=o(474848);function y(e){const{parentStore:t,style:o,format:y}=e,S=e.groupPointer.id,b=e.groupPointer.spaceId,x=(0,d().S4)({spacePermissionGroupId:S,spaceId:b}),w=(0,a().K8)((()=>{if(e.groupModel)return e.groupModel;if(!t)return;return l().C.createChildStore(t,x).getModel()}),[t,x,e.groupModel]),_=(0,i().Y0)(),{outerStyle:I,avatarWrapStyle:C}=(0,s().IS)((()=>({outerStyle:{display:"flex",alignItems:"center",minWidth:0},avatarWrapStyle:{width:"none",minHeight:"none",marginInlineEnd:6},badgeStyle:{borderRadius:4,background:m().Tj.legacyDefaultSelectColor,fontSize:r().A.isMobile?11:9,lineHeight:_.isAndroid?1.5:1,textTransform:"uppercase",letterSpacing:"0.04em"}})),[_]),M=(0,p().tz)(),k=(0,a().K8)((()=>(0,u().n)({intl:M,permissionGroupModel:w})),[M,w]),A=(0,n.useCallback)((e=>y===c().NY.Inline?(0,h.jsx)(v().o,{group:w,size:e}):(0,h.jsxs)("div",{style:I,children:[(0,h.jsx)("div",{style:C,children:(0,h.jsx)(v().o,{group:w,size:e})}),(0,h.jsx)("div",{style:{...f().RC},children:k})]})),[y,I,C,w,k]);return(0,h.jsx)(g().Ay,{...e,style:{margin:0,...o},renderAvatar:A})}},38554:(e,t,o)=>{o.d(t,{U:()=>a});var n=()=>o(590526),r=()=>o(822789),i=()=>o(229508);function a(){const e=(0,i().a)();return(0,n().K8)((()=>(0,r().XM)(e)),[e])}},53528:(e,t,o)=>{o.d(t,{OH:()=>s,T2:()=>l,do:()=>c});var n=()=>o(597777),r=()=>o(869190),i=()=>o(604995),a=()=>o(416504);function s(e){const{dateTime:t,intl:o,shortenDateAndRange:n}=e,a=i().C6.toPersistedDate(t.valueOf());return r().ZF({value:a,allowRelativeDates:!0,intl:o,shortenDateAndRange:n,displayInUserTimezone:!0})}function l(e){const{dateTime:t,intl:o,userTimeZone:n,displayInUserTimezone:a,alwaysIncludeTimezone:s}=e,l=i().C6.toPersistedDateTime(t.valueOf(),t.zoneName);return r().ZF({value:l,allowRelativeDates:!0,intl:o,userTimeZone:n,displayInUserTimezone:a,alwaysIncludeTimezone:s})}function c(e){const{luxonRange:t,intl:o}=e,s=i().C6.toPersistedDateRange(t),l=r().ZF({value:s,allowRelativeDates:!1,shortenDateAndRange:!0,intl:o,displayInUserTimezone:!0}),c=t.end.setZone((0,a().P)()),d=r().fU({start_time:c.toFormat(n().GE),humanReadable:!1,intl:o});return o.formatMessage({id:"verification.timeRange",defaultMessage:"{formattedDateRange} at {formattedEndTime}"},{formattedDateRange:l,formattedEndTime:d})}},59110:(e,t,o)=>{o.r(t),o.d(t,{loadLocalSubtree:()=>x});o(944114),o(517642),o(658004),o(733853),o(845876),o(432475),o(515024),o(731698),o(898992),o(354520),o(803949);var n=()=>o(726637),r=()=>o(700500),i=()=>o(175482),a=()=>o(777447),s=()=>o(792071),l=()=>o(976618),c=()=>o(388821),d=()=>o(696706),u=()=>o(912720),p=()=>o(199378),m=()=>o(179034),f=()=>o(519831),g=()=>o(869558),v=()=>o(37165),h=()=>o(144081),y=()=>o(743246),S=()=>o(201980),b=()=>o(534177);function x(e){const{environment:t,blockId:o,inMemoryRecordCache:n,options:r}=e,i=t.currentUser.id,a=c().RecordMap.create(),s=new Set,l=[{pointer:{table:m().ev,id:o},parentId:"doesn't matter"}];for(;l.length>0;){const e=l.shift();if(!e)continue;if(s.has(e.pointer.id))continue;const t=o===e.pointer.id,c=w({pointer:e.pointer,recordMap:a,inMemoryRecordCache:n,currentUserId:i,cursors:l,cursor:e,options:r,isRootRequest:t});if(c)return c;s.add(e.pointer.id)}return{type:"success",recordMap:a}}function w(e){const{pointer:t,recordMap:o,inMemoryRecordCache:c,currentUserId:x,cursors:w,cursor:_,options:I,isRootRequest:C}=e;let M;return(0,d().Yt)(t,m().ev)?M=function(e){var t,o,l,c;const{pointer:d,recordMap:p,inMemoryRecordCache:f,currentUserId:v,cursors:h,cursor:x,options:w,isRootRequest:_}=e,I=f.getRecord({pointer:d,userId:v}),C=null==I?void 0:I.value;if(!C)return w.requireFullSubtree?{type:"error",reason:"missing_record",pointer:d}:void 0;const M=w.excludeCrdtData?i().ir(C):C;if(w.includeLegacyTransclusionBlockValues){if(!_&&M.parent_id!==x.parentId&&!x.isBlockContentChild)return}else if(!_&&M.parent_id!==x.parentId)return;if(M.type===r().xd.externalObjectInstance&&!w.allowCopyExternalObjectInstances)return{type:"error",reason:"encountered_external_object_instance",pointer:d};if(p.setValue(d,M),!w.skipNavigableChildren){const e=s().Bj6.fromBlock(M).getCollectionPointers();for(const t of e){const e=f.getRecord({pointer:t,userId:v});var k,A;if(e)(null===(k=e.value)||void 0===k?void 0:k.parent_table)===m().ev&&(null===(A=e.value)||void 0===A?void 0:A.parent_id)===M.id&&h.push({pointer:t,parentId:M.id});else if(w.requireFullSubtree)return{type:"error",reason:"missing_record",pointer:t}}if(M.view_ids)for(const t of M.view_ids)h.push({pointer:{table:g().Gy,id:t,spaceId:M.space_id},parentId:M.id})}if(!(w.skipBlockContent||w.skipTransclusionContainerChildren&&"transclusion_container"===M.type||w.skipNavigableChildren&&(0,r().$I)(M.type))){const e=s().Bj6.fromBlock(M).getRenderableContentIds();for(const t of e)h.push({pointer:{table:m().ev,id:t},parentId:M.id,isBlockContentChild:!0})}const T=s().Bj6.fromBlock(M).getNonContentChildren();for(const n of T)h.push({pointer:{table:m().ev,id:n},parentId:M.id,isBlockContentChild:!0});if(M.type===r().xd.externalObjectInstance){var j,E;const e=(null===(j=M.format)||void 0===j?void 0:j.related_external_object_uris_to_instance_ids)&&Object.values(null===(E=M.format)||void 0===E?void 0:E.related_external_object_uris_to_instance_ids)||[];for(const t of e)h.push({pointer:{table:m().ev,id:t,spaceId:M.space_id},parentId:M.id})}if(!w.skipNavigableChildren&&M.properties){const e=Object.values(M.properties).filter(b().O9);for(const t of e)for(const e of t)for(const t of S().uPN(e)){if(S().jIt(t)){const e=S().v55(t);h.push({pointer:{table:m().ev,id:e},parentId:M.id})}if(S().sh$(t)){const e=S().cQR(t),o=(0,a().lX)({url:e,baseUrl:n().A.domainBaseUrl,publicDomainName:n().A.publicDomainName});o&&h.push({pointer:{table:m().ev,id:o},parentId:M.id})}if(S().N53(t)){const e=S().T$c(t);e&&h.push({pointer:{table:m().ev,id:e,spaceId:M.space_id},parentId:M.id})}}}"form"===M.type&&null!==(t=M.format)&&void 0!==t&&t.form_layout_pointer&&h.push({pointer:M.format.form_layout_pointer,parentId:M.id});null!==(o=M.format)&&void 0!==o&&o.automation_id&&h.push({pointer:{table:u().yB,id:M.format.automation_id,spaceId:M.space_id},parentId:M.id});null!==(l=M.format)&&void 0!==l&&l.workflow_id&&h.push({pointer:{table:y().C0,id:M.format.workflow_id,spaceId:M.space_id},parentId:M.id});null!==(c=M.format)&&void 0!==c&&c.ai_instructions_page_pointer&&h.push({pointer:M.format.ai_instructions_page_pointer,parentId:M.id})}({pointer:t,recordMap:o,inMemoryRecordCache:c,currentUserId:x,cursors:w,cursor:_,options:I,isRootRequest:C}):(0,d().Yt)(t,f().Vl)?M=function(e){var t,o;const{pointer:n,recordMap:r,inMemoryRecordCache:i,currentUserId:a,cursors:s,cursor:l,options:c}=e;if(!c.allowCopyCollections)return{type:"error",reason:"encountered_collection",pointer:n};const d=i.getRecord({pointer:n,userId:a});if(null==d||!d.value)return c.requireFullSubtree?{type:"error",reason:"missing_record",pointer:n}:void 0;if(d.value.parent_id!==l.parentId)return;const p=d.value;r.setValue(n,p),i.forEachRecord(a,(({model:e})=>{e.table===m().ev&&e&&e.parent_id===n.id&&e.alive&&s.push({pointer:e.pointer,parentId:n.id})}));const f=(null===(t=p.format)||void 0===t?void 0:t.automation_ids)??[];for(const m of f)s.push({pointer:{table:u().yB,id:m,spaceId:p.space_id},parentId:p.id});p.schema&&Object.values(p.schema).forEach((e=>{e&&"button"===e.type&&e.automation_id&&s.push({pointer:{id:e.automation_id,spaceId:p.space_id,table:u().yB},parentId:p.id})}));null!==(o=p.format)&&void 0!==o&&o.layout_pointer&&s.push({pointer:p.format.layout_pointer,parentId:p.id})}({pointer:t,recordMap:o,inMemoryRecordCache:c,currentUserId:x,cursors:w,cursor:_,options:I}):(0,d().Yt)(t,g().Gy)?M=function(e){var t,o;const{pointer:n,recordMap:r,inMemoryRecordCache:i,currentUserId:a,cursors:s,cursor:l,options:c}=e,d=i.getRecord({pointer:n,userId:a});if(null==d||!d.value)return c.requireFullSubtree?{type:"error",reason:"missing_record",pointer:n}:void 0;if(d.value.parent_id!==l.parentId)return;"form_editor"===d.value.type&&null!==(t=d.value.format)&&void 0!==t&&t.form_block_pointer&&s.push({pointer:d.value.format.form_block_pointer,parentId:d.value.id});null!==(o=d.value.format)&&void 0!==o&&o.dashboard_layout_pointer&&s.push({pointer:d.value.format.dashboard_layout_pointer,parentId:d.value.id});r.setValue(n,d.value)}({pointer:t,recordMap:o,inMemoryRecordCache:c,currentUserId:x,cursors:w,cursor:_,options:I}):(0,d().Yt)(t,u().yB)?M=function(e){const{pointer:t,recordMap:o,inMemoryRecordCache:n,currentUserId:r,cursors:i,cursor:a,options:s}=e,l=n.getRecord({pointer:t,userId:r});if(null==l||!l.value)return s.requireFullSubtree?{type:"error",reason:"missing_record",pointer:t}:void 0;if(l.value.parent_id!==a.parentId)return;o.setValue(t,l.value);for(const c of l.value.action_ids??[])i.push({pointer:{table:p().SC,id:c,spaceId:l.value.space_id},parentId:l.value.id})}({pointer:t,recordMap:o,inMemoryRecordCache:c,currentUserId:x,cursors:w,cursor:_,options:I}):(0,d().Yt)(t,p().SC)?M=function(e){const{pointer:t,recordMap:o,inMemoryRecordCache:n,currentUserId:r,cursors:i,cursor:a,options:s}=e,l=n.getRecord({pointer:t,userId:r});if(null==l||!l.value)return s.requireFullSubtree?{type:"error",reason:"missing_record",pointer:a.pointer}:void 0;if(l.value.parent_id!==a.parentId)return;o.setValue(t,l.value);for(const c of l.value.blocks??[])i.push({pointer:{table:m().ev,id:c,spaceId:l.value.space_id},parentId:l.value.id})}({pointer:t,recordMap:o,inMemoryRecordCache:c,currentUserId:x,cursors:w,cursor:_,options:I}):(0,d().Yt)(t,y().C0)?M=function(e){const{pointer:t,recordMap:o,inMemoryRecordCache:n,currentUserId:r,cursor:i,options:a}=e,s=n.getRecord({pointer:t,userId:r});if(null==s||!s.value)return a.requireFullSubtree?{type:"error",reason:"missing_record",pointer:i.pointer}:void 0;if(s.value.parent_id!==i.parentId)return;o.setValue(t,s.value)}({pointer:t,recordMap:o,inMemoryRecordCache:c,currentUserId:x,cursor:_,options:I}):(0,d().Yt)(t,h().zx)?M=function(e){const{pointer:t,recordMap:o,inMemoryRecordCache:n,currentUserId:r,cursors:i,options:a}=e,c=n.getRecord({pointer:t,userId:r}),d=null==c?void 0:c.value;if(!d)return a.requireFullSubtree?{type:"error",reason:"missing_record",pointer:t}:void 0;o.setValue(t,d);const u=s().Bj6.fromValue(h().zx,d);for(const s of u.getBlockChildrenPointers())i.push({pointer:s,parentId:t.id});const p=e=>{const o={id:e.collection_view_id,table:g().Gy,spaceId:d.space_id};return i.push({pointer:o,parentId:t.id}),e};(0,l().E)(d.modules,(e=>{if("formQuestion"===e.type){const o={id:e.formQuestionId,table:v().lo,spaceId:d.space_id};i.push({pointer:o,parentId:t.id})}else if("view"===e.type)p(e);else if("row"===e.type)for(const t of e.modules)"view"===t.type&&p(t)}))}({pointer:t,recordMap:o,inMemoryRecordCache:c,currentUserId:x,cursors:w,cursor:_,options:I}):(0,d().Yt)(t,v().lo)&&(M=function(e){const{pointer:t,recordMap:o,inMemoryRecordCache:n,currentUserId:r,options:i}=e,a=n.getRecord({pointer:t,userId:r});if(null==a||!a.value)return i.requireFullSubtree?{type:"error",reason:"missing_record",pointer:t}:void 0;o.setValue(t,a.value)}({pointer:t,recordMap:o,inMemoryRecordCache:c,currentUserId:x,cursors:w,cursor:_,options:I})),M}},64790:(e,t,o)=>{o.d(t,{$L:()=>u,EV:()=>s,PZ:()=>d,dp:()=>l,xm:()=>c});o(944114);var n=()=>o(798880),r=()=>o(100622),i=()=>o(496603),a=()=>o(720665);function s(e){if(null!=e&&e.blockId)return e.blockId}function l(e,t){const o=e.currentUser.id;return t.userId===o||t.present}function c(e){var t;return(null===(t=e.state.rootStore)||void 0===t?void 0:t.canEdit())??!1}function d(e){const{pageVisitStore:t,presenceStore:o}=e,{remotePresenceData:n}=o.state;let r=[];n&&i().uk(n,(e=>{null!=e&&e.userId&&r.push(e)}));const{pageId:s,lastViewTime:l,lastExitTime:c,totalCount:d,hasMore:u,...p}=t.state;return i().uk(p,(e=>{e.isDefined()&&r.push({userId:e.getUserId(),activityTimestampNearestMinuteMs:(0,a().WY)(e.getVisitedAt()),present:!1})})),r=i().hS(r,(e=>e.userId)),i().Ul(r,(({activityTimestampNearestMinuteMs:e})=>e?-e:0))}function u(e){const{userId:t,theme:o}=e;return(0,n().MF)(t)?r().Tj.icon.secondary:(0,r().Nq)(t,o)}},72307:(e,t,o)=>{o.d(t,{A:()=>n});const n={appCursorListener:{sidebar:1,secondarySidebar:2,editor:3,aiChat:3,marketplace:3,teamHome:3,aiChatSidebar:4}}},75600:(e,t,o)=>{o.d(t,{O:()=>i,t:()=>r});var n=()=>o(79926);const r=(0,n()._h)(new(n().O2)("PeekRenderer",(async()=>{const{default:e}=await Promise.all([o.e(75134),o.e(35530),o.e(9773),o.e(55373),o.e(36192),o.e(71562),o.e(96346),o.e(44711),o.e(53321),o.e(51220),o.e(16471),o.e(37353),o.e(37571),o.e(29151),o.e(40118),o.e(50397),o.e(62475),o.e(3151),o.e(98629),o.e(27992),o.e(63452),o.e(66249),o.e(92845),o.e(87249),o.e(79022),o.e(44854),o.e(87017),o.e(34877),o.e(46414),o.e(11676),o.e(61165),o.e(47668),o.e(94522),o.e(44584),o.e(24587),o.e(67494),o.e(3651),o.e(38293),o.e(40992),o.e(88455),o.e(64556),o.e(33893),o.e(91793),o.e(55162),o.e(71003),o.e(32370),o.e(26264),o.e(36437),o.e(50363),o.e(42660),o.e(44590),o.e(55113),o.e(85071),o.e(7914),o.e(25588),o.e(68637),o.e(23640),o.e(72252),o.e(93134),o.e(12452),o.e(52871),o.e(29351),o.e(18825),o.e(71853),o.e(93049),o.e(22582),o.e(18636),o.e(87289),o.e(16060),o.e(34281),o.e(48376),o.e(35279),o.e(80229),o.e(77754),o.e(71309),o.e(74562),o.e(39986),o.e(47160),o.e(76677),o.e(68609),o.e(15553),o.e(77345),o.e(67720),o.e(37759),o.e(41423),o.e(14699),o.e(21627),o.e(57924),o.e(77777),o.e(17729),o.e(23493),o.e(51240),o.e(20029),o.e(95885),o.e(39438),o.e(54719),o.e(25523),o.e(26962),o.e(43151)]).then(o.bind(o,172342));return{PeekRenderer:e}})),(e=>e.PeekRenderer)),i=(0,n()._h)(new(n().O2)("RestrictedAccess",(async()=>{const{RestrictedAccessComponent:e}=await Promise.all([o.e(22114),o.e(57314)]).then(o.bind(o,260775));return{RestrictedAccessComponent:e}})),(e=>e.RestrictedAccessComponent))},77279:(e,t,o)=>{o.r(t),o.d(t,{default:()=>r});class n extends(()=>o(757695))().Store{getInitialState(){return{discussionIdToExpansionStartPointMap:{}}}}const r=new n},79877:(e,t,o)=>{o.d(t,{A:()=>d});var n=o(296540),r=()=>o(597777),i=()=>o(869190),a=()=>o(604995),s=()=>o(416504),l=()=>o(100622),c=o(474848);const d=function(e){const t=(0,o(69708).tz)(),d=(0,o(396182).I)(),m=(0,n.useRef)(),f=(0,n.useCallback)((()=>{const t=e.value;if(!t)return;const n=a().q8(t,(0,s().P)());if(!n)return;const r=n.valueOf(),i=r-Date.now();i<0||i>o(720665).nD||m.current&&m.current.timestamp===r||(m.current&&clearTimeout(m.current.timer),m.current={timestamp:r,timer:setTimeout((()=>d("DateBox","DateBox/createReminderTimer")),i)})}),[d,e.value]),g=(0,n.useCallback)((()=>{m.current&&(clearTimeout(m.current.timer),m.current=void 0)}),[]);(0,n.useEffect)((()=>{f()}),[f]),(0,n.useEffect)((()=>()=>{g()}),[g]);const{value:v,withComma:h}=e,y=(0,o(590526).K8)((()=>v?(0,i().ZF)({value:v,date_format:e.dateFormat,time_format:e.timeFormat,userTimeZone:(0,s().P)(),allowRelativeDates:!0,intl:t,shortenDateAndRange:e.shortenDateAndRange,displayInUserTimezone:e.displayInUserTimezone,getToday:o(847109).x1}):void 0),[t,e.dateFormat,e.displayInUserTimezone,e.shortenDateAndRange,e.timeFormat,v]);if(!v)return null;const S=a().AA(v,(0,s().P)(),o(609679).locale);let b;if((0,r().Lh)(v)){const e=a().Zs(v,(0,s().P)());b=e?{color:l().Tj.red.text.accentPrimary}:{color:l().oZ.blue}}const x=(0,c.jsxs)(c.Fragment,{children:[y,(0,r().Lh)(v)?(0,c.jsx)(o(807449).I,{icon:o(472219).alarmSmallIcon,style:{display:"inline-block",width:"1.2em",marginInlineStart:5,marginInlineEnd:2,paddingBottom:3,verticalAlign:"middle"}}):void 0,h?", ":null]});return e.disableTooltip?(0,c.jsx)("div",{className:e.className,style:{...e.style,...b},children:x}):(0,c.jsx)(o(26697).m,{renderTooltip:()=>(0,c.jsxs)(c.Fragment,{children:[e.tooltipHeader,(0,c.jsxs)("div",{style:p(e.tooltipHeader),children:[u(S.start),S.end?` → ${u(S.end)}`:""]})]}),render:t=>(0,c.jsx)("div",{className:e.className,style:{...e.style,...b},...t,children:x}),placement:e.tooltipPlacement})};function u(e){return(0,i().eV)({value:e,preset:"medium"})}function p(e){return e?{color:l().Tj.text.inverseSecondary}:{}}},89956:(e,t,o)=>{o.d(t,{p:()=>r});o(296540);const n={viewBox:"0 0 16 16",fittedViewBox:"2.46 2.46 11.08 11.08",svg:(0,o(474848).jsx)("path",{d:"M3.088 2.463a.625.625 0 0 0-.625.625v4a.625.625 0 1 0 1.25 0V4.597l3.045 3.045a.625.625 0 0 0 .884-.884L4.597 3.713h2.49a.625.625 0 1 0 0-1.25zM9.244 8.36a.625.625 0 0 0-.883.884l3.042 3.043H8.912a.625.625 0 1 0 0 1.25h4c.345 0 .625-.28.625-.625v-4a.625.625 0 0 0-1.25 0v2.491z"})},r=(0,o(340498).wt)("arrowExpandDiagonalSmall",n,"small")},97059:(e,t,o)=>{o.d(t,{s:()=>r});o(296540);const n={viewBox:"0 0 16 16",fittedViewBox:"1.82 1.82 12.68 12.68",svg:(0,o(474848).jsx)("path",{d:"M8 1.825a.575.575 0 0 0-.575.575V4a.575.575 0 0 0 1.15 0V2.4A.575.575 0 0 0 8 1.825m4.367 1.809a.575.575 0 0 0-.814 0l-1.131 1.131a.575.575 0 1 0 .813.813l1.132-1.131a.575.575 0 0 0 0-.813m-7.92 0a.575.575 0 0 0-.813.813l1.13 1.131a.575.575 0 1 0 .814-.813zm3.248 3.071a.7.7 0 1 0-.99.99l.77.77.99-.99zm4.305.72a.575.575 0 0 0 0 1.15h1.6a.575.575 0 1 0 0-1.15zm-9.6 0a.575.575 0 1 0 0 1.15H4a.575.575 0 0 0 0-1.15zm11.895 5.88-5.37-5.37-.99.99 5.37 5.37a.7.7 0 0 0 .99-.99m-8.717-2.883a.575.575 0 0 0-.813 0l-1.131 1.131a.575.575 0 1 0 .813.813l1.131-1.131a.575.575 0 0 0 0-.813M8 11.425a.575.575 0 0 0-.575.575v1.6a.575.575 0 1 0 1.15 0V12A.575.575 0 0 0 8 11.425"})},r=(0,o(340498).wt)("magicWandSmall",n,"small")},108184:(e,t,o)=>{o.r(t),o.d(t,{COMPLETION_THROTTLE:()=>_,PREVIEW_STEP_DELAY:()=>I,maybeUpdateAIUsageEligibilityStoreV2:()=>A,maybeUpdateAiEligibility:()=>k,postProcessAICreatedStores:()=>M,showCompletionErrorWithCode:()=>C,wrapTemporaryBlocksInList:()=>T});o(18107),o(967357);var n=()=>o(242422),r=()=>o(675133),i=()=>o(128933),a=()=>o(770063),s=()=>o(878126),l=()=>o(165358),c=()=>o(179034),d=()=>o(427419),u=()=>o(720665),p=()=>o(769864),m=()=>o(722101),f=()=>o(384944),g=()=>o(274873),v=()=>o(412669),h=()=>o(556122),y=()=>o(594794),S=()=>o(668721),b=()=>o(685377),x=()=>o(661077),w=()=>o(96563);const _=300,I=250;function C(e){const t=r().A.getIntl();return 451===e?i().D6({label:t.formatMessage({id:"completionActions.moderationError",defaultMessage:"AI does not allow content that is harmful or illegal. Please revise your input and try again. (451)"})}):413===e?i().D6({label:t.formatMessage({id:"completionActions.promptOrAttachmentTooLarge",defaultMessage:"Query or attachment is too large. Please revise your input and try again. (413)"})}):502===e||503===e||504===e?i().D6({label:t.formatMessage({id:"completionActions.providerError",defaultMessage:"We’re experiencing issues with our AI provider. Try again in a few minutes. ({errorCode})"},{errorCode:e})}):void i().D6({label:t.formatMessage({id:"completionActions.genericError",defaultMessage:"AI is temporarily unavailable. Try again in a few minutes. ({errorCode})"},{errorCode:e})})}function M(e,t){for(const o of t)g().In({environment:e,blockStore:o})}async function k(e,t,o){let r;if(n().default.checkGate({gateName:"usage_based_pricing_pfa_checks_purchased_credits_enabled"}))return void(await A(e,t,o));n().default.checkGate({gateName:"usage_based_pricing_alpha_enabled"})&&A(e,t,o).catch((e=>{l().log({level:"error",from:"ai.completionActions",type:"maybeUpdateAIUsageEligibilityStoreV2Error",spaceId:t,error:e})}));const i=h().TI();if(i.debug)r=402!==i.showErrorCode;else{const n=S().o.getState();if(n&&n.isEligible&&"unlimited"===n.type&&!o){const e=n.lastUpdatedAt;if(Date.now()-e<10*u().Xb)return}const i=await p().callCellCompatibleApi({eventName:"getAIUsageEligibility",environment:e,data:{spaceId:t},cellNavigation:{cellId:void 0,spaceId:t}});if("success"===i.type){r=i.data.isEligible,r&&v().K.state&&v().K.setState(!1);const e=!1===(null==n?void 0:n.isEligible)&&(null==n?void 0:n.requestedAccess),t=i.data.researchModeUsage??0;S().o.setState({...i.data,lastUpdatedAt:Date.now(),researchModeUsage:t,...!1===i.data.isEligible&&{requestedAccess:e}})}}void 0!==r&&x().P.setState(r)}async function A(e,t,o){const n=await s().T.awaitData(e,{spaceId:t}),r=b().y.getData(e,{spaceId:t});if(n){if(r&&(0,d().Hg)(n)&&!o){const e=r.lastUpdatedAt;if(Date.now()-e<10*u().Xb)return}await(0,w().y3)(e,t)}}function T(e){var t;const{environment:o,stores:n,listId:r,inMemoryRecordCache:i,transaction:s}=e,l=(null===(t=n.at(0))||void 0===t?void 0:t.getSpaceId())??s.spaceId,d=new(a().pm)({environment:o,pointer:{table:c().ev,id:r||(0,y().Z1)({environment:o,table:c().ev,spaceId:l}),spaceId:l},recordStoreOptions:{inMemoryRecordCache:i,userId:o.currentUser.id},path:["content"]});for(const a of n)m().BC({parentStore:d,appendStore:a,transaction:s}),f().zv({store:a,data:{parent_id:d.id,parent_table:d.table,alive:!0},transaction:s});return d}},126126:(e,t,o)=>{o.d(t,{eQ:()=>z,hJ:()=>oe,Ay:()=>L,Uo:()=>G,XE:()=>ee});o(944114),o(898992),o(823215),o(672577),o(581454);var n=o(296540),r=()=>o(484714),i=()=>o(590526),a=()=>o(401497),s=()=>o(929219),l=()=>o(75435),c=()=>o(609679),d=()=>o(849255),u=()=>o(56268),p=()=>o(718827),m=()=>o(631524),f=()=>o(26697),g=()=>o(302501),v=()=>o(869190),h=()=>o(641007),y=()=>o(187174),S=()=>o(798880),b=()=>o(695608),x=()=>o(69708),w=()=>o(100622),_=()=>o(496603),I=()=>o(23420),C=()=>o(488923),M=()=>o(102172),k=()=>o(130119),A=()=>o(6697),T=()=>o(673657),j=()=>o(64790),E=()=>o(869562),R=()=>o(737230),P=()=>o(994006),D=()=>o(453697),B=()=>o(852273);const V=function(e){const t=(0,r().v3)(),i=(0,n.useRef)(),a=(0,o(336811).T)(),s=(0,n.useCallback)((async()=>{if(await o(129286).transactionQueue.awaitRecordTransaction(e.blockStore.pointer),!a.current)return;const n=(0,o(921997).Ws)(e.blockStore.id);i.current=B().Ay.addListener(n,void 0,_().nF((()=>o(466721).updatePageVisits(t,{blockStore:e.blockStore,pageVisitStore:e.pageVisitStore,incremental:!0,limit:e.limit})),1e3),void 0,t)}),[t,a,e.blockStore,e.limit,e.pageVisitStore]),l=(0,n.useCallback)((()=>{i.current&&(B().Ay.removeListener(i.current,t),i.current=void 0)}),[t]);return(0,n.useEffect)((()=>(s(),l)),[s,l]),null};var F=o(474848);const U=5,O=25,N=6,z=22;const L=function({pageVisitStore:e,presenceStore:t,rootStore:n,maxUsers:r}){return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(o(912474).a,{rootStore:n}),(0,F.jsx)(oe,{rootStore:n,pageVisitStore:e,presenceStore:t,maxUsers:r,isShowingInFeed:!1}),(0,F.jsx)(V,{blockStore:n,pageVisitStore:e,limit:1+H(r)+O})]})};function W(e){return _().Ul(e,(e=>e.activityTimestampNearestMinuteMs))}function H(e){return e??U}function K(e,t){return d().L.createChildStore(t,{table:S().oo,id:e})}function G(e){const{environment:t,isShowingTabBar:o,isShowingInFeed:n}=e;return{...(0,k().g)({noDrag:t.device.isElectron&&!o}),display:"flex",alignItems:"center",position:"relative",flexDirection:"row-reverse",marginInlineStart:8,paddingInlineEnd:N,transform:"translateZ(0)",...n&&{maxHeight:54,paddingBottom:12}}}function $(){return{color:w().Tj.text.inverseSecondary,fontSize:10,textTransform:"uppercase",letterSpacing:"0.015em"}}function Y({userData:e,isPresent:t,rootStore:o,isShowingInFeed:n}){const a=(0,r().v3)(),s=(0,x().tz)(),l=a.currentUser.id,d=(0,i().K8)((()=>K(e.userId,o)),[e,o]),u=(0,i().K8)((()=>d.isDefined()),[d]),p=(0,i().K8)((()=>(0,b().c6)(s,d.getModel())),[s,d]),m=(0,i().K8)((()=>d.getEmail()),[d]);if(!u)return null;let f;return t?l!==d.id&&(f=e.blockId&&!n?(0,F.jsx)(x().sA,{defaultMessage:"Viewing now. Click to see where they are.",id:"topbar.presenceIndicator.viewingNowWithLocation.tooltip"}):(0,F.jsx)(x().sA,{defaultMessage:"Viewing now",id:"topbar.presenceIndicator.viewingNow.tooltip"})):l!==d.id&&e.activityTimestampNearestMinuteMs&&(f=(0,F.jsx)(x().sA,{defaultMessage:"Last viewed {timeFromNow}",id:"topbar.presenceIndicator.lastViewedTime.tooltip",values:{timeFromNow:(0,v().v9)(Math.min(e.activityTimestampNearestMinuteMs,Date.now()),c().locale)}})),(0,F.jsxs)("div",{children:[(0,F.jsx)("div",{className:"notranslate",children:p}),(0,F.jsx)("div",{style:{fontWeight:400},children:m}),f?(0,F.jsx)("div",{style:{color:w().Tj.text.inverseSecondary,minWidth:150,paddingTop:2,paddingBottom:2,lineHeight:1.3},children:f}):void 0]})}function q({userData:e,index:t,rootStore:o}){const n=(0,r().v3)(),a=(0,j().dp)(n,e),s=(0,i().K8)((()=>K(e.userId,o)),[e,o]);if(!(0,i().K8)((()=>s.isDefined()),[s]))return null;let l;!a&&e.activityTimestampNearestMinuteMs&&(l=(0,v().v9)(e.activityTimestampNearestMinuteMs,c().locale));const d=(0,F.jsxs)("div",{style:{display:"flex",alignContent:"flex-end",minWidth:140,width:"100%",marginTop:4},children:[(0,F.jsx)(P().A,{userStore:s,avatarSize:18,style:{flexGrow:1},hasPersonHoverCard:!1}),(0,F.jsx)("div",{style:{marginInlineStart:"auto",paddingInlineStart:12,textAlign:"end",flexShrink:1,color:w().Tj.text.inverseSecondary},children:l})]});if(a&&e.blockId){const t=e.blockId;return(0,F.jsx)(p().Ay,{onClick:()=>(0,I().B)([t],!0,n),style:{display:"flex",alignItems:"center"},children:d})}return(0,F.jsx)("div",{style:{display:"flex",alignItems:"center"},children:d})}function Z({hiddenUsers:e,hiddenUsersCount:t,hasMore:o,rootStore:n,environment:r}){return(0,F.jsx)(f().m,{allowHover:!0,originGap:7,renderTooltip:r=>(0,F.jsx)(X,{hiddenUsers:e,hiddenUsersCount:t,hasMore:o,rootStore:n,events:r}),render:e=>(0,F.jsx)(Q,{hiddenUsersCount:t,events:e,environment:r,rootStore:n})})}function X({hiddenUsers:e,hiddenUsersCount:t,hasMore:o,rootStore:n,events:i}){const a=(0,r().v3)(),s=[],l=[];for(const r of e)(0,j().dp)(a,r)?s.push(r):l.push(r);const c=l.slice(0,O-s.length),d=t-(s.length+c.length);return(0,F.jsxs)("div",{...i,children:[s.length>0?(0,F.jsxs)("div",{style:{marginBottom:4},children:[(0,F.jsx)(g().A,{style:$(),children:(0,F.jsx)(x().sA,{defaultMessage:"Viewing now",id:"topbar.presenceIndicator.hiddenUsers.viewingNow.tooltip"})}),s.map(((e,t)=>(0,F.jsx)(q,{userData:e,index:t,rootStore:n},t)))]}):void 0,c.length>0?(0,F.jsxs)("div",{style:{marginBottom:4},children:[(0,F.jsx)(g().A,{style:{...$()},children:(0,F.jsx)(x().sA,{defaultMessage:"Last viewed by",id:"topbar.presenceIndicator.hiddenUsers.lastViewedBy.tooltip"})}),c.map(((e,t)=>(0,F.jsx)(q,{userData:e,index:t,rootStore:n},t)))]}):void 0,(0,F.jsx)(J,{remainingHiddenUsersCount:d,hasMore:o})]})}function Q({hiddenUsersCount:e,events:t,environment:o,rootStore:r}){const i=(0,a().IS)((()=>({origin:{paddingInline:8,marginInlineStart:4,marginInlineEnd:-N-4}})),[]),s=(0,n.useCallback)((()=>{E().handleSidebarButtonClick(o,r,R().tF.Updates,"more_menu"),R().Ay.setState({...R().Ay.state,updatesSubTab:R().VE.Analytics})}),[o,r]);return(0,F.jsx)(m().p,{style:i.origin,size:"sm",shape:"pill",colorPalette:"gray",onClick:s,...t,children:(0,F.jsx)(x().sA,{defaultMessage:"{hiddenUsersCount, plural, one {+{hiddenUsersCount}} other {+{hiddenUsersCount}}}",id:"topbar.presenceIndicator.hiddenUsers.otherCount.message",values:{hiddenUsersCount:e}})})}function J({hasMore:e,remainingHiddenUsersCount:t}){const o=(0,a().IS)((()=>({message:{marginInlineStart:2,marginTop:2,color:w().Tj.text.inverseSecondary}})),[]);return t>0?(0,F.jsx)("div",{style:o.message,children:e?(0,F.jsx)(x().sA,{defaultMessage:"{remainingVisitorsCount}+ more…",id:"topbarPresence.presenceIndicator.hiddenUsers.evenMoreUsersNotViewing.tooltip",values:{remainingVisitorsCount:t}}):(0,F.jsx)(x().sA,{defaultMessage:"{remainingVisitorsCount} more…",id:"topbarPresence.presenceIndicator.hiddenUsers.moreUsersNotViewing.tooltip",values:{remainingVisitorsCount:t}})}):null}function ee(e,t){const o=(0,a().DP)();return(0,a().IS)((()=>{const n={width:z,height:z,borderRadius:z},r=e(o);return{button:{transition:"all 0.2s ease",transform:"scale(1)"},buttonHovered:{transform:"scale(1.15)",background:"none"},buttonPressed:{transform:"scale(0.9)",background:"none"},uiUserAvatarStyles:{...n},avatarInnerOutline:{...n,outlineStyle:"solid",outlineColor:w().Tj.UIUserAvatarInnerOutline,outlineWidth:.5,outlineOffset:-.5},avatarBorder:t?{...n,outlineStyle:"solid",outlineColor:r,outlineWidth:1.5,outlineOffset:-.5}:{},avatarOuterOutline:{...n,outlineStyle:"solid",outlineColor:t?w().Tj.background.primary:w().Tj.UIUserAvatarIdleOutline,outlineWidth:.5,outlineOffset:t?1:0,backgroundColor:w().Tj.background.primary,marginInlineEnd:-6,position:"relative"},initialColor:{color:t?r:w().Tj.icon.secondary}}}),[e,t,o])}function te(e){const{userData:t,rootStore:o,isShowingInFeed:a=!1}=e,s=(0,r().v3)(),{userId:l}=t,c=(0,j().dp)(s,t),{userStore:d,showAvatar:u}=(0,i().K8)((()=>{if((0,S().MF)(l))return{userStore:h().px,showAvatar:!0};const e=K(l,o);return{userStore:e,showAvatar:(e.isDefined()||(0,S().MF)(e.id))&&!e.getIsSuspended()}}),[l,o]),m=ee((0,n.useCallback)((e=>(0,S().MF)(l)?w().Tj.icon.secondary:l===s.currentUser.id?w().Tj.border.accentPrimary:(0,w().Nq)(l,e)),[s.currentUser.id,l]),c);return u?(0,F.jsx)(f().m,{disableTooltip:a,textWrap:!0,renderTooltip:()=>(0,F.jsx)(Y,{rootStore:o,userData:t,isPresent:c,isShowingInFeed:a}),render:e=>{const o=(0,F.jsx)("div",{style:m.avatarOuterOutline,children:(0,F.jsx)("div",{style:m.avatarBorder,children:(0,F.jsx)(D().A,{iconStyle:m.avatarInnerOutline,userStore:d,style:m.uiUserAvatarStyles,isOffline:!c,size:z,avatarShouldShowShadow:!a,initialOverrideStyle:m.initialColor})})});if(c&&t.blockId){const n=t.blockId;return(0,F.jsx)(p().Ay,{...e,onClick:()=>(0,I().B)([n],!0,s),style:m.button,hoveredStyle:m.buttonHovered,pressedStyle:m.buttonPressed,children:o})}return(0,F.jsx)("div",{...e,children:o})}}):null}function oe(e){const{rootStore:t,pageVisitStore:o,presenceStore:n,maxUsers:a,isShowingInFeed:c}=e,d=(0,r().v3)(),p=d.currentUser.id,[{status:m,value:f}]=(0,y().Yb)((async()=>(0,C().$g)()),[]),g=(0,i().K8)((()=>{var e;if("resolved"===m)return null==f||null===(e=f.getPresencesForBlock(t.id))||void 0===e?void 0:e.find((e=>e.blockId===t.id))}),[f,m,t.id]),v=(0,i().K8)((()=>{const e=d.currentUser.id;if(!e)return;const r=c||(0,j().xm)(n)?(0,j().PZ)({pageVisitStore:o,presenceStore:n}):[];let i=(null==o?void 0:o.state.totalCount)??r.length;const s=[],l=[];for(const t of r)t.userId!==e?(0,j().dp)(d,t)?s.push(t):l.push(t):i--;!(0,u().r)({environment:d,store:t})&&t.isNavigableBlock()&&(0,M().BP)(t,d,d.device)&&"resolved"===m&&null!=g&&g.present&&s.push(g);const p=[...W(s).reverse(),...W(l).reverse()],f=H(a)-1;return{visibleUsers:p.slice(0,f),hiddenUsers:p.slice(f),totalCount:i,hasMore:Boolean(null==o?void 0:o.state.hasMore)}}),[o,n,d,c,a,t,m,g],{useDeepEqual:!0}),{visibleUsers:h,hiddenUsers:b,hiddenUsersCount:x,hasMoreHiddenUsers:w,isEveryUserStoreReady:_}=(0,i().K8)((()=>{if(!p)return{};const{visibleUsers:e=[],hiddenUsers:o=[]}=v??{},n=[p,...e.map((e=>e.userId)),...o.map((e=>e.userId))].map((e=>K(e,t)));return{visibleUsers:e,hiddenUsers:o,hiddenUsersCount:Number(null==v?void 0:v.totalCount)-e.length,hasMoreHiddenUsers:Boolean(null==v?void 0:v.hasMore),isEveryUserStoreReady:n.every((e=>e.isReady()||(0,S().MF)(e.id)))}}),[p,v,t]),I=(0,i().O$)(l().b),k=(0,T().n)(t),E=!(0,i().O$)(s().e);if(!p||!v||!_||E)return null;if(p!==t.userId)return null;if(0===h.length&&0===b.length)return k?(0,F.jsx)("div",{style:G({environment:d,isShowingTabBar:I,isShowingInFeed:c}),children:(0,F.jsx)(A().h,{enableClickToScroll:!0,rootStore:t})}):null;{const e=[...h];return e.reverse(),(0,F.jsxs)("div",{style:G({environment:d,isShowingTabBar:I,isShowingInFeed:c}),children:[x>0?(0,F.jsx)(Z,{rootStore:t,hiddenUsers:b,hiddenUsersCount:x,hasMore:w,environment:d}):void 0,e.map((e=>(0,F.jsx)(te,{userData:e,rootStore:t},e.userId))),c?void 0:(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(te,{rootStore:t,userData:{userId:p,present:!0}}),(0,F.jsx)(A().h,{enableClickToScroll:!0,rootStore:t})]})]})}}},129852:(e,t,o)=>{o.r(t),o.d(t,{exclamationMarkCircleIcon:()=>i,iconDefinition:()=>r});o(296540);var n=o(474848);const r={viewBox:"0 0 20 20",fittedViewBox:"2.37 2.37 15.26 15.25",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M9.875 6.25c.345 0 .625.28.625.625v3.5a.625.625 0 1 1-1.25 0v-3.5c0-.345.28-.625.625-.625m0 7.375a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5"}),(0,n.jsx)("path",{d:"M2.375 10a7.625 7.625 0 1 1 15.25 0 7.625 7.625 0 0 1-15.25 0M10 3.625a6.375 6.375 0 1 0 0 12.75 6.375 6.375 0 0 0 0-12.75"})]})},i=(0,o(340498).wt)("exclamationMarkCircle",r,"default")},130119:(e,t,o)=>{function n(e){return"drag"in e&&e.drag?{WebkitAppRegion:"drag"}:"noDrag"in e&&e.noDrag?{WebkitAppRegion:"no-drag"}:{}}o.d(t,{g:()=>n})},132389:(e,t,o)=>{o.d(t,{A:()=>r});o(296540);var n=o(474848);function r(e){const t={display:"inline-block",minWidth:e.size,minHeight:e.size};return"x"===e.axis?t.minHeight=1:"y"===e.axis&&(t.minWidth=1),(0,n.jsx)("div",{style:t})}},132855:(e,t,o)=>{o.r(t),o.d(t,{arrowInCircleUpFillIcon:()=>r,iconDefinition:()=>n});o(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"2.37 2.37 15.25 15.26",svg:(0,o(474848).jsx)("path",{d:"M10 17.625a7.625 7.625 0 1 0 0-15.25 7.625 7.625 0 0 0 0 15.25m3.042-8.07a.625.625 0 0 1-.884 0L10.625 8.02v5.466a.625.625 0 1 1-1.25 0V8.021L7.842 9.554a.625.625 0 1 1-.884-.883l2.6-2.6a.625.625 0 0 1 .884 0l2.6 2.6a.625.625 0 0 1 0 .883"})},r=(0,o(340498).wt)("arrowInCircleUpFill",n,"fill")},147294:(e,t,o)=>{o.d(t,{Ee:()=>g,J1:()=>u,oG:()=>p});o(296540);var n=()=>o(907258),r=()=>o(59226),i=()=>o(590526),a=()=>o(401497),s=()=>o(970236),l=()=>o(69708),c=o(474848);const d={define_variables_automation_action:{launchDateMs:17277408e5,expiryDateMs:1738368e6},passkey_setting:{launchDateMs:1729101727e3,expiryDateMs:1738432882e3},publish_site_settings_embed_page:{launchDateMs:1736208e6,expiryDateMs:1743984e6},generalized_recurrence_automations:{launchDateMs:17365536e5,expiryDateMs:17460576e5},ai_page_translation_topbar_more_action:{launchDateMs:1740451280830,expiryDateMs:17434656e5},verification:{launchDateMs:1740096e6,expiryDateMs:174375e7},notion_ai_workspace_settings:{launchDateMs:17424288e5,expiryDateMs:17550432e5},notion_mail_launch_modal:{launchDateMs:17446752e5,expiryDateMs:17525376e5},notion_mail_launch_modal_2:{launchDateMs:17446752e5,expiryDateMs:17578944e5},ui_doc_example:{launchDateMs:19249056e5,expiryDateMs:19249056e5},collection_property_permissions:{launchDateMs:17433792e5,expiryDateMs:17671392e5},salesforce_sync_unfurling_option:{launchDateMs:17443296e5,expiryDateMs:17538336e5},personal_home_sidebar_item:{launchDateMs:17470944e5,expiryDateMs:175392e7},collection_property_reminder:{launchDateMs:1751958e6,expiryDateMs:17552628e5},get_notified_onboarding_tooltip:{launchDateMs:17520228e5,expiryDateMs:17591904e5},conditional_color_feature:{launchDateMs:17537472e5,expiryDateMs:17563392e5},web_clipper_new_tab_settings:{launchDateMs:17471808e5,expiryDateMs:18149184e5},my_meetings:{launchDateMs:17578944e5,expiryDateMs:17657568e5},workspace_connections_tab:{launchDateMs:17578944e5,expiryDateMs:18149184e5},external_agents_tab:{launchDateMs:17578944e5,expiryDateMs:18149184e5},permissions_tab:{launchDateMs:17578944e5,expiryDateMs:18149184e5}};function u({style:e}){const t=(0,a().IS)((()=>({badge:{letterSpacing:0,whiteSpace:"nowrap",width:"fit-content",...e}})),[e]);return(0,c.jsx)(s().E,{color:"blue",style:t.badge,content:(0,c.jsx)(l().sA,{id:"newBadgeComponent.label",defaultMessage:"New"})})}function p(e){return(0,i().K8)((()=>{const{launchDateMs:t,expiryDateMs:o}=d[e],{currentUserSettingsStore:r}=n().default.state;if(r&&r.isReady()){var i;const e=null===(i=r.getSettings())||void 0===i?void 0:i.signup_time;if(e&&e>t)return!1}return Date.now()<=o}),[e])}function m({style:e,newBadgeKey:t}){return p(t)?(0,c.jsx)(u,{style:e}):null}function f({style:e,newBadgeKey:t}){return(0,r().X)(t)?(0,c.jsx)(u,{style:e}):null}function g(e){return e.didUserEngage?null:"feature_gate"===e.keyType?(0,c.jsx)(f,{...e}):(0,c.jsx)(m,{...e})}},158115:(e,t,o)=>{o.r(t),o.d(t,{arrowChevronSingleRightFillSmallIcon:()=>r,iconDefinition:()=>n});o(296540);const n={viewBox:"0 0 16 16",fittedViewBox:"5.54 2.94 5.81 10.11",directional:!0,svg:(0,o(474848).jsx)("path",{d:"M11.13 8.53a.75.75 0 0 0 0-1.06L6.81 3.15a.75.75 0 0 0-1.06 1.06L9.54 8l-3.79 3.79a.75.75 0 0 0 1.06 1.06z"})},r=(0,o(340498).wt)("arrowChevronSingleRightFillSmall",n,"fillSmall")},170350:(e,t,o)=>{o.r(t),o.d(t,{filterIcon:()=>r,iconDefinition:()=>n});o(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"2.37 4.87 15.25 10.25",svg:(0,o(474848).jsx)("path",{d:"M3 4.875a.625.625 0 1 0 0 1.25h14a.625.625 0 1 0 0-1.25zm2.125 5.742h9.75a.625.625 0 1 0 0-1.25h-9.75a.625.625 0 1 0 0 1.25m1.5 3.883c0-.345.28-.625.625-.625h5.5a.625.625 0 1 1 0 1.25h-5.5a.625.625 0 0 1-.625-.625"})},r=(0,o(340498).wt)("filter",n,"default")},173783:(e,t,o)=>{o.d(t,{A:()=>s});o(296540);var n=()=>o(807449),r=()=>o(888867),i=()=>o(497577),a=o(474848);function s(e){const t=(0,i().E)(e);return(0,a.jsx)("div",{style:t.iconContainer,children:(0,a.jsx)(n().I,{icon:r().s,size:t.icon.width,colorVariant:"secondary"})})}},175882:(e,t,o)=>{o.r(t),o.d(t,{exclamationMarkTriangleSmallIcon:()=>i,iconDefinition:()=>r});o(296540);var n=o(474848);const r={viewBox:"0 0 16 16",fittedViewBox:"1.49 1.87 13.01 11.75",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M7.9 5.281a.625.625 0 0 0-.625.625v2.5a.625.625 0 0 0 1.25 0v-2.5a.625.625 0 0 0-.625-.625m0 4.7a.725.725 0 1 0 0 1.45.725.725 0 0 0 0-1.45"}),(0,n.jsx)("path",{d:"M9.58 2.788c-.702-1.217-2.458-1.217-3.16 0l-4.677 8.1c-.702 1.216.176 2.737 1.58 2.737h9.354c1.405 0 2.283-1.52 1.58-2.738zm-2.078.625a.575.575 0 0 1 .996 0l4.677 8.1a.575.575 0 0 1-.498.862H3.324a.575.575 0 0 1-.498-.863z"})]})},i=(0,o(340498).wt)("exclamationMarkTriangleSmall",r,"small")},200424:(e,t,o)=>{e.exports=o.p+"9ade71d75a1c0e93.png"},200562:(e,t,o)=>{o.d(t,{z:()=>i});var n=()=>o(79926);const r=new(n().O2)("topbarSidebarButton",(async()=>await o.e(62033).then(o.bind(o,81292)))),i=(0,n()._h)(r,(e=>e.TopbarSidebarButton))},208993:(e,t,o)=>{o.d(t,{W:()=>u});o(296540);var n=()=>o(401497),r=()=>o(699143),i=()=>o(718827),a=()=>o(265060),s=()=>o(493552),l=()=>o(26697),c=()=>o(846523),d=o(474848);function u({tooltipTitle:e,tooltipDescription:t,buttonProps:o,iconSize:n="small",iconColorVariant:i="tertiary",tooltipWidth:u,forceVisibleState:m=!1}){return(0,d.jsx)(l().m,{placement:"top",forceVisibleState:m,style:u?{width:u}:void 0,renderTooltip:()=>(0,d.jsxs)(r().Y1,{gap:2,direction:"vertical",children:[(0,d.jsx)(s().D,{styleKey:"captionMedium",colorVariant:"inversePrimary",children:e}),t?(0,d.jsx)(s().D,{styleKey:"captionRegular",colorVariant:"inverseSecondary",children:t}):null]}),render:e=>(0,d.jsx)(p,{buttonProps:o,...e,children:(0,d.jsx)(a().Q,{iconGroup:c().u,colorVariant:i,variantName:n})}),textWrap:Boolean(u)})}function p({children:e,buttonProps:t,...o}){const r=(0,n().IS)((()=>({button:{borderRadius:2}})),[]);return t?(0,d.jsx)(i().Ay,{style:r.button,...t,...o,children:e}):(0,d.jsx)("span",{...o,children:e})}},212473:(e,t,o)=>{o.r(t),o.d(t,{arrowUpRightSquareIcon:()=>i,iconDefinition:()=>r});o(296540);var n=o(474848);const r={viewBox:"0 0 20 20",fittedViewBox:"3.12 3.12 13.75 13.75",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M7.875 7c0-.345.28-.625.625-.625H13c.345 0 .625.28.625.625v4.5a.625.625 0 1 1-1.25 0V8.509l-5.12 5.12a.625.625 0 1 1-.884-.883l5.12-5.121H8.5A.625.625 0 0 1 7.875 7"}),(0,n.jsx)("path",{d:"M3.125 5.25c0-1.174.951-2.125 2.125-2.125h9.5c1.174 0 2.125.951 2.125 2.125v9.5a2.125 2.125 0 0 1-2.125 2.125h-9.5a2.125 2.125 0 0 1-2.125-2.125zm2.125-.875a.875.875 0 0 0-.875.875v9.5c0 .483.392.875.875.875h9.5a.875.875 0 0 0 .875-.875v-9.5a.875.875 0 0 0-.875-.875z"})]})},i=(0,o(340498).wt)("arrowUpRightSquare",r,"default")},224011:(e,t,o)=>{o.d(t,{A:()=>i});var n=()=>o(20022);class r extends(()=>o(757695))().Store{getInitialState(){return{isFullScreen:window.outerWidth===window.screen.width&&window.outerHeight===window.screen.height}}constructor(){super(),this.updateFromElectronState=async()=>{const e=await n().Y5.get();void 0!==e&&this.setState({isFullScreen:e})},n().Y5.addListener(this.updateFromElectronState),this.updateFromElectronState()}}const i=new r},224682:(e,t,o)=>{o.d(t,{m:()=>r});class n extends(()=>o(757695))().Store{getInitialState(){return{type:"uninitialized"}}isWriting(){return"filling"===this.state.type&&!this.state.haveAllBlocksCompletedAutofill&&!this.state.didInterruptStreaming}setIsWriting(e){const{propertySchema:t,stores:n,sessionIdForAnalytics:r,collectionId:i}=e,a=r||o(206267).JW();return this.setState({type:"filling",propertySchema:t,collectionId:i,numBlocksToAutofill:n.length,numBlocksAutofilled:0,sessionId:a,didInterruptStreaming:!1,haveAllBlocksCompletedAutofill:!1}),a}}const r=new n},229508:(e,t,o)=>{o.d(t,{a:()=>i});var n=()=>o(907258),r=()=>o(590526);function i(){return(0,r().O$)(n().AppStoreSidebarSpaceViewStore)}},240865:(e,t,o)=>{o.d(t,{V:()=>i});var n=()=>o(755531),r=()=>o(590526);function i(e){return(0,r().K8)((()=>{var t;return e?e.getMemberCountFromPublicSpaceData()??void 0:(null===(t=(0,n().S)())||void 0===t?void 0:t.getMemberCountFromPublicSpaceData())??void 0}),[e])}},241319:(e,t,o)=>{o.d(t,{y:()=>i});o(898992),o(672577);var n=()=>o(534177),r=()=>o(239381);function i(e){var t;const{actionModels:o,id:i}=e,a=(0,r().y5)(i),s="action"===a.source?o.find((e=>e.id===a.action_id)):void 0,l=(0,n().O9)(s)&&s.isType("create_page")?null===(t=s.getConfig())||void 0===t?void 0:t.collection:void 0;return{automationValueInfo:a,collectionPointer:l,actionModel:s}}},243331:(e,t,o)=>{o.d(t,{K_:()=>r,Lf:()=>a});var n=()=>o(206267);function r(){return{currentScreen:"none",status:"not_started",isBackendConnected:!1,externalSourceName:void 0,sessionId:n().JW(),analyticsFrom:"unknown",isConnected:!1,isPersonalAuthComplete:!1,isDisconnecting:!1,isLoaded:!1,isNotionMailProhibited:!1}}class i extends(()=>o(757695))().Store{getInitialState(){return r()}}const a=new i;(0,o(852832).exposeDebugValue)("notionMailAIConnectorStore",a)},245720:(e,t,o)=>{o.d(t,{W:()=>n});const n=(0,o(69708).YK)({done:{id:"modal.doneButton",defaultMessage:"Done"},cancel:{id:"modal.cancelButton",defaultMessage:"Cancel"},back:{id:"modal.backButton",defaultMessage:"Back"}})},246679:(e,t,o)=>{o.d(t,{VK:()=>r,gv:()=>a});var n=()=>o(206267);function r(){return{currentScreen:"none",status:"not_started",isBackendConnected:!1,externalSourceName:void 0,sessionId:n().JW(),analyticsFrom:"unknown",isConnected:!1,isPersonalAuthComplete:!1,isDisconnecting:!1,isLoaded:!1,isNotionCalendarProhibited:!1}}class i extends(()=>o(757695))().Store{getInitialState(){return r()}}const a=new i;(0,o(852832).exposeDebugValue)("notionCalendarAIConnectorStore",a)},253447:(e,t,o)=>{o.d(t,{F:()=>r});var n=()=>o(963575);function r(e,t){if(e)return e;switch(t){case"large":return n().A.card.desktop.large.height;case"small":return n().A.card.desktop.small.height;default:return n().A.card.desktop.medium.height}}},255043:(e,t,o)=>{o.d(t,{O:()=>x,r:()=>w});o(898992),o(672577),o(581454);var n=o(296540),r=()=>o(401497),i=()=>o(249046),a=()=>o(250910),s=()=>o(807449),l=()=>o(546926),c=()=>o(631524),d=()=>o(302501),u=()=>o(890492),p=()=>o(81068),m=()=>o(663639),f=()=>o(736847),g=()=>o(324254),v=()=>o(676510),h=()=>o(534177),y=()=>o(608346),S=()=>o(419357),b=o(474848);function x(e){return(0,b.jsxs)(i().Ye,{alignItems:"center",style:{gap:4},children:[e.icon,(0,b.jsx)(d().A,{isSmall:e.isSmall,children:e.name})]})}function w(e){const{onSelectOption:t,options:o,currentOption:i,placeHolder:u,initialFocus:m,menuProps:f,iconOnly:y,inputProps:w,searchThreshold:I,selectorButtonStyle:C}=e,[M,k]=(0,n.useState)(""),A=o.find((({key:e})=>e===i)),T=(0,r().IS)((()=>({workspaceSelectorButton:{paddingTop:8,paddingBottom:8,paddingInlineStart:8,paddingInlineEnd:8,opacity:1,width:376,border:`1px solid ${v().$.light.gray[100]}`,justifyContent:"space-between",marginTop:8,marginBottom:8},teamspacePickerButton:{maxWidth:300},menuChevronDownIcon:{marginInlineStart:4}})),[]),j={..."workspace"===C?T.workspaceSelectorButton:{},..."teamspace"===C?T.teamspacePickerButton:{}};return(0,b.jsx)(a().A,{popupType:a().z.Popup,placementToOrigin:"bottom",alignmentToOrigin:e.alignmentToOrigin,originGap:4,renderOrigin:e=>(0,b.jsxs)(c().p,{...e,style:{color:i?void 0:v().$.light.gray[300],...j},children:[(0,b.jsx)(d().A,{style:{textOverflow:"ellipsis",fontSize:"14px",font:"SF Pro Text",color:i?void 0:"#ACABA9",lineHeight:"19.6px"},children:(y?null==A?void 0:A.icon:A&&(0,b.jsx)(x,{...A}))??u}),(0,b.jsx)(s().I,{icon:g().arrowChevronSingleDownSmallIcon,size:"xs",colorVariant:"secondary",style:T.menuChevronDownIcon})]}),render:e=>{const n=(0,b.jsx)(S().Ay,{style:{width:"100%",paddingTop:8,paddingBottom:2},onChange:e=>k(e.target.value),value:M,...w}),r={menuType:l().gu.Popup,width:376,left:50,header:(0,h().O9)(I)&&o.length>I?n:null,...f},a=o.map((({key:o,name:n,icon:r,searchTerm:a})=>({key:o,keywords:a??[],action:()=>{t(o),e.close()},render:e=>(0,b.jsx)(p().A,{...e,title:(0,b.jsx)(x,{name:n,icon:r}),shouldWrapCaption:!0,isChecked:i===o})})));return(0,b.jsx)(_,{menuOptions:r,menuItems:a,filterQuery:M,initialFocus:m})}})}function _({menuOptions:e,menuItems:t,filterQuery:o,initialFocus:n}){const r=(0,y().m)({sections:[{key:"dropdown.menuList",render:e=>(0,b.jsx)(f().A,{...e}),items:t}],filterQuery:o||void 0});return(0,b.jsx)(u().A,{...e,children:(0,b.jsx)(m().A,{type:m().O.Vertical,sections:r,initialFocus:n,style:{position:"relative",alignItems:"flex-end"}})})}},262661:(e,t,o)=>{o.d(t,{i:()=>r});var n=()=>o(130382);function r(e){const t=e.getSettings(),o=null==t?void 0:t.signup_time;return o?(0,n().Mn)(o):null}},266685:(e,t,o)=>{o.d(t,{a:()=>l});o(296540);var n=()=>o(819121),r=()=>o(401497),i=()=>o(451306),a=()=>o(100622),s=o(474848);function l(e){const{disabled:t,checked:o,selectorSize:l}=e,[c,d]=(0,n().A)(),u=function(e){const{checked:t,disabled:o,isFocusVisible:n,selectorSize:i}=e;return(0,r().IS)((()=>({root:{position:"absolute",display:"flex",width:15,height:15,padding:5,margin:1.5,justifyContent:"center",alignItems:"center",gap:8,flexShrink:0,borderRadius:"50%",transition:"background 100ms ease-out",...t?{boxShadow:`0 0 0 1.5px ${o?a().Tj.background.tertiaryTranslucent:a().Tj.blue.background.accentPrimary}`,background:o?a().Tj.background.tertiaryTranslucent:a().Tj.blue.background.accentPrimary}:{boxShadow:`0 0 0 1.5px ${o?a().Tj.background.tertiaryTranslucent:a().Tj.border.strongTranslucent}`,background:a().Tj.background.primary},...n&&{boxShadow:a().Tj.buttonBlueFocusRing}},active:{background:t?a().Tj.blueButtonPressedBackground:a().Tj.buttonHoveredBackground},input:{opacity:0,width:"small"===i?14:18,height:"small"===i?14:18,...o?{pointerEvents:"none"}:{cursor:"pointer"}}})),[t,o,n,i])}({checked:o,disabled:t,isFocusVisible:d,selectorSize:l});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("input",{ref:c,type:"radio",style:u.input,className:"radio-button",...e}),(0,s.jsx)("span",{...(0,i().ow)("custom-radio-button",u.root,t?{}:{pseudoActive:u.active})})]})}},269345:(e,t,o)=>{o.d(t,{_:()=>R});o(296540);var n=()=>o(484714),r=()=>o(590526),i=()=>o(401497),a=()=>o(75435),s=()=>o(127833),l=()=>o(30537),c=()=>o(695115),d=()=>o(26697),u=()=>o(526278),p=()=>o(940563),m=()=>o(617668),f=()=>o(69708),g=()=>o(899963),v=()=>o(109488),h=()=>o(44551),y=()=>o(116749);var S=()=>o(896922),b=()=>o(564704),x=()=>o(800140),w=()=>o(917908),_=()=>o(551253),I=()=>o(712505),C=()=>o(35392),M=o(474848);const k=(0,f().YK)({newTabButton:{id:"desktopTopbarBrowserHistoryButton.newTabButton.label",defaultMessage:"New tab"},goBackButton:{id:"desktopTopbarBrowserHistoryButtons.goBackButton.label",defaultMessage:"Go back"},goForwardButton:{id:"desktopTopbarBrowserHistoryButton.goForwardButton.label",defaultMessage:"Go forward"}});function A(){const e=(0,f().tz)(),t=(0,r().K8)((()=>a().A.state.isTabPositionSupported),[]);return(0,M.jsx)(d().m,{renderTooltip:()=>(0,M.jsxs)("div",{style:{display:"flex"},children:[e.formatMessage(k.newTabButton),(0,M.jsx)(C().A,{name:"newTab",style:{opacity:.5,marginInlineStart:4}})]}),placement:"bottom",alignment:"center",originGap:6,render:o=>(0,M.jsx)(c().A,{ariaLabel:e.formatMessage(k.newTabButton),icon:{icon:m().plusIcon,size:"lg"},colorVariant:"primary",className:"notion-new-tab-button",style:{position:"relative"},onClick:()=>function(e){h().electronApi&&null!==h().electronApi&&void 0!==h().electronApi&&h().electronApi.newTab?h().electronApi.newTab():(0,y().V)({url:"",makeTabActive:!0,position:e?"end":"start"})}(t),...o})})}function T({isNavigationHistorySupported:e}){const t=(0,f().tz)(),o=(0,n().v3)(),i=(0,r().K8)((()=>!w().H.canGoBack()),[]);return(0,M.jsx)(d().m,{renderTooltip:()=>(0,M.jsxs)("div",{style:{display:"flex"},children:[t.formatMessage(k.goBackButton),(0,M.jsx)(C().A,{name:"goBack",style:{opacity:.5,marginInlineStart:4}})]}),placement:"bottom",alignment:"center",originGap:6,render:n=>(0,M.jsx)(c().A,{ariaLabel:t.formatMessage(k.goBackButton),icon:{icon:u().arrowStraightLeftIcon,size:"lg"},colorVariant:"primary",className:"notion-history-back-button",disabled:i,style:{position:"relative",width:24,height:24},onClick:t=>function(e,t,o){g().Lt(t,{type:"back"});const n=e.metaKey||e.ctrlKey;o&&n?(0,b().Y)(t,"back"):(0,S().a)(t)}(t,o,e),onContextMenu:()=>{!i&&e&&_().I.setState({direction:"back",open:!0})},...n})})}function j({isNavigationHistorySupported:e}){const t=(0,f().tz)(),o=(0,n().v3)(),i=(0,r().K8)((()=>!w().H.canGoForward()),[]);return(0,M.jsx)(d().m,{renderTooltip:()=>(0,M.jsxs)("div",{style:{display:"flex"},children:[t.formatMessage(k.goForwardButton),(0,M.jsx)(C().A,{name:"goForward",style:{opacity:.5,marginInlineStart:4}})]}),placement:"bottom",alignment:"center",originGap:6,render:n=>(0,M.jsx)(c().A,{ariaLabel:t.formatMessage(k.goForwardButton),icon:{icon:p().arrowStraightRightIcon,size:"lg"},colorVariant:"primary",className:"notion-history-forward-button",disabled:i,style:{position:"relative",width:24,height:24},onClick:t=>function(e,t,o){g().Lt(t,{type:"forward"});const n=e.metaKey||e.ctrlKey;o&&n?(0,b().Y)(t,"forward"):(0,x().s)(t)}(t,o,e),onContextMenu:()=>{!i&&e&&_().I.setState({direction:"forward",open:!0})},...n})})}function E(e){const{topbarFeatureController:t}=e,o=(0,r().K8)((()=>{var e;return(null===(e=a().A.state.preferences)||void 0===e?void 0:e.isNavigationHistoryEnabled)&&a().A.state.isNavigationHistorySupported}),[]),n=(0,i().IS)((()=>({container:{position:"relative",display:"flex",flexShrink:0,gap:4}})),[]);return(0,M.jsx)(v().A,{capture:!0,render:e=>(0,M.jsxs)("div",{style:n.container,...e,children:[(0,M.jsx)(T,{isNavigationHistorySupported:o}),(0,M.jsx)(j,{isNavigationHistorySupported:o}),t.showNewTabButton?(0,M.jsx)(A,{}):null]})})}function R(e){const{topbarFeatureController:t}=e,{isElectron:o}=(0,n().Y0)(),i=(0,r().O$)(a().b),c=(0,r().K8)((()=>I().default.isCenterPeekOpen()),[]);return!o||i?null:(0,M.jsx)(s().zD,{trapFocus:!1,style:{background:"transparent",borderRadius:0,boxShadow:"none"},origin:(0,M.jsx)(E,{topbarFeatureController:t}),render:()=>(0,M.jsx)(E,{topbarFeatureController:t}),placementToOrigin:"center",alignmentToOrigin:"center",open:c,disableMouseCapture:!0,preventCaptureEsc:!0,preventScaleTransition:!0,preventOpacityTransition:!0,popupType:l().n.Popup})}},271232:(e,t,o)=>{o.d(t,{t:()=>i});var n=o(296540),r=o(474848);const i=n.memo((function(e){const{coverHeight:t,coverSizeFormat:n,emptyGalleryCoverStyle:i}=e,a=(0,o(401497).IS)((()=>({container:{height:(0,o(253447).F)(t,n),...i}})),[t,n,i]);return(0,r.jsx)("div",{style:a.container})}))},278589:(e,t,o)=>{o.d(t,{N:()=>i});var n=()=>o(534177),r=()=>o(126126);function i(e){return"avatar"===e?r().eQ:"xsmall"===e?18:"xsmall_plus"===e?24:"small"===e?28:"small_plus"===e?32:"medium"===e?36:"medium_plus"===e?44:"medium_large"===e?48:"large"===e?50:"large_plus"===e?64:"xlarge"===e?94:"plans"===e?20:"deep_dive"===e?16:"upsell_banner"===e?74:"personalization_modal"===e?96:(0,n().HB)(e)}},299177:(e,t,o)=>{o.d(t,{A:()=>i});class n extends(()=>o(757695))().Store{getInitialState(){return{}}}const r=new n;o(852832).exposeDebugValue("SpaceWorkflowTemplateInstanceMapStore",r);const i=r},320865:(e,t,o)=>{o.d(t,{A:()=>r});o(296540);var n=o(474848);const r=function(){return(0,n.jsx)(o(424400).Ay,{title:(0,n.jsx)(o(98126).k,{size:"default"}),titleStyle:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%"}})}},326887:(e,t,o)=>{o.d(t,{$X:()=>i,H8:()=>a,x2:()=>r});var n=()=>o(534177);function r(e){return"event"===e||"recurrence"===e}function i(e){const t=e.getTrigger();return(0,n().O9)(t)&&r(t.type)}function a(e){return"event"===e?"event":"recurrence"===e?"recurrence":void(0,n().HB)(e)}},344417:(e,t,o)=>{o.r(t),o.d(t,{iconDefinition:()=>n,magnifyingGlassSmallIcon:()=>r});o(296540);const n={viewBox:"0 0 16 16",fittedViewBox:"1.97 1.97 12.46 12.46",svg:(0,o(474848).jsx)("path",{d:"M7.1 1.975a5.125 5.125 0 1 0 3.155 9.164l3.107 3.107a.625.625 0 1 0 .884-.884l-3.107-3.107A5.125 5.125 0 0 0 7.1 1.975M3.225 7.1a3.875 3.875 0 1 1 7.75 0 3.875 3.875 0 0 1-7.75 0"})},r=(0,o(340498).wt)("magnifyingGlassSmall",n,"small")},348869:(e,t,o)=>{o.d(t,{g:()=>s});o(944114);var n=()=>o(792057),r=()=>o(785728),i=()=>o(532659),a=()=>o(769864);async function s(e){const{environment:t,onResponse:o,data:s,userId:l,tracking:c,abortSignal:d}=e,u=await a().callStreamApi({eventName:"runInferenceTranscript",environment:t,data:s,userId:l,tracking:c,abortSignal:d,headers:(0,r().WS)({spaceId:s.spaceId})});if("success"!==u.type)return null!=d&&d.aborted?{error:{message:"Aborted",code:0}}:(n().Qg(u),{error:{message:u.error.message,code:u.status}});const p=[];if(i().hS.is(u.data))for await(const n of u.data){if("error"===n.type)return{error:{message:n.message,code:n.errorCode}};null==o||o(n),p.push(n)}return{value:p}}},358006:(e,t,o)=>{o.d(t,{z:()=>a});o(296540);var n=()=>o(79926),r=o(474848);const i=new(n().O2)("CollectionItemCover",(async()=>{const{CollectionItemCover:e}=await o.e(79883).then(o.bind(o,873718));return{CollectionItemCover:e}})),a=(0,n()._h)(i,(e=>e.CollectionItemCover),{renderLoading:(e,t)=>{const{coverHeight:n,coverSizeFormat:i,emptyGalleryCoverStyle:a,showEmptyGalleryCover:s}=t;return s?(0,r.jsx)(o(271232).t,{coverHeight:n,coverSizeFormat:i,emptyGalleryCoverStyle:a}):null}})},360576:(e,t,o)=>{o.r(t),o.d(t,{iconDefinition:()=>n,personFillSmallIcon:()=>r});o(296540);const n={viewBox:"0 0 16 16",fittedViewBox:"2.89 1.85 10.22 12.3",svg:(0,o(474848).jsx)("path",{d:"M8 1.85c-.925 0-1.673.382-2.179 1.012-.495.617-.73 1.435-.73 2.29 0 .856.235 1.674.73 2.291.506.63 1.255 1.012 2.18 1.012.924 0 1.672-.382 2.178-1.012.495-.617.73-1.435.73-2.29 0-.856-.235-1.674-.73-2.291C9.673 2.232 8.925 1.85 8 1.85m0 7.403c-2.175 0-4.115 1.06-4.94 2.672-.3.585-.165 1.179.19 1.594.34.396.873.63 1.43.63h6.64c.557 0 1.09-.234 1.43-.63.355-.415.49-1.01.19-1.594-.825-1.612-2.765-2.672-4.94-2.672"})},r=(0,o(340498).wt)("personFillSmall",n,"fillSmall")},371231:(e,t,o)=>{o.d(t,{m:()=>c});var n=()=>o(988083),r=()=>o(201794),i=()=>o(232615),a=()=>o(496603);const s=a().sg(((e,t)=>{n().A.setState({...n().A.state,phase:e,estimatedKeyboardWebViewOverlap:t})}),300),l=a().sg(((e,t)=>{n().A.setState({...n().A.state,phase:e,estimatedKeyboardWebViewOverlap:t})}),150);function c(e,t,o){const{device:a,RouterStore:c}=e;if(!(0,r().T)("supportsAlwaysMultiTextSelectionBehavior")){const e="page"===c.state.route.name,n=a.isAndroid&&a.isMobileNative,r="editing"===i().default.state.mode;if(e&&n&&!r)return void s(t,o)}if((0,r().T)("supportsDebouncingKeyboardDuringOnboarding")){const e="onboarding"===c.state.route.name,n=a.isIOS&&a.isMobileNative;if(e&&n)return void l(t,o)}n().A.setState({...n().A.state,phase:t,estimatedKeyboardWebViewOverlap:o})}},375555:(e,t,o)=>{function n(e,t){const{device:o}=e;o.isAndroid&&t.focus(),t.select()}o.d(t,{G:()=>n})},377093:(e,t,o)=>{o.d(t,{XO:()=>H,h3:()=>z,nZ:()=>W,pG:()=>L});o(944114),o(898992),o(823215),o(354520),o(803949),o(581454);var n=()=>o(314529),r=()=>o(564884),i=()=>o(907258),a=()=>o(365917),s=()=>o(675133),l=()=>o(295633),c=()=>o(732810),d=()=>o(433337),u=()=>o(716016),p=()=>o(898244),m=()=>o(617871),f=()=>o(165358),g=()=>o(388693),v=()=>o(792071),h=()=>o(179034),y=()=>o(332393),S=()=>o(96689),b=()=>o(854150),x=()=>o(496603),w=()=>o(534177),_=()=>o(935664),I=()=>o(769864),C=()=>o(803074),M=()=>o(896628),k=()=>o(235059),A=()=>o(969956),T=()=>o(928213),j=()=>o(339798),E=()=>o(254497),R=()=>o(312296),P=()=>o(999140),D=()=>o(601734),B=()=>o(395963),V=()=>o(838038),F=()=>o(547149),U=()=>o(155269);const O=(0,o(69708).YK)({aiCustomPromptDefaultPropertyName:{id:"collectionSettingsCreatePropertyActions.createProperty",defaultMessage:"Text"}});function N(e){const{environment:t,collectionContextStore:o,collectionUri:r,feature:i,transaction:a,addFeatureFrom:s,createFeatureStartTime:l}=e;if("dependencies"in i)for(const n of i.dependencies)"property"===n.type&&n.collectionUri===r&&(0,_().Z)({environment:t,collectionContextStore:o,from:"view_settings",property:n.uri,property_type:n.propertySchema.type,is_suggested_property:!0,property_id:n.uri,feature:{id:n.uri,from:s,type:i.uri}});if("dependencies"in i&&i.dependencies.map((e=>e.type)).every((e=>"property"===e))){const e=o.collectionViewStore(),t=o.getPropertyFormatKey(),n=o.normalizedFormatStore.state;if(t&&e){const o=n[t]||[],r=[...o];i.dependencies.forEach((e=>{const t=o.findIndex((t=>t.property===e.uri));-1===t?r.push({visible:!0,property:e.uri}):r[t]={...o[t],visible:!0}})),M().zA({stores:[e],update:{[t]:r},transaction:a})}}if(void 0!==i.propertyIdCollectionSettingToNavigateTo){const e={type:"property",property:i.propertyIdCollectionSettingToNavigateTo,selectNameInitial:!1,formatKey:o.getPropertyFormatKey()};j().a2({collectionSettingsStore:o.settingsStore,item:e})}a.postSubmitCallbacks.push((e=>{(0,n().DO_NOT_USE_trackLegacy)(t,"collection_create_suggested_property_latency",{collection_uri:i.collectionUri,feature_uri:i.uri,time:Date.now()-l,status:Boolean(e)?"fail":"success"})}))}async function z(e){var t;const{appTemplatesSetupActions:o,appTemplatesSprintBoardActions:n,appConfigs:r}=await D().Aw.load(),{environment:s,collectionContextStore:c,feature:p,addFeatureFrom:v,customPropertyName:x}=e,{sidebarSpaceViewStore:w}=i().default.state,_=c.collectionStore(),j=null==_?void 0:_.getParentBlockStore(),E={},R=e=>{(0,f().log)({level:"error",from:"collectionSettingsCreatePropertyActions",type:"handleCreateNewSuggestedProperty",data:{collectionId:null==_?void 0:_.id,miscDataToConvertToString:{featureUri:p.uri,addFeatureFrom:v,...E,...e}}})};if(!_||!j)return void R({hasCollectionStore:Boolean(_),hasCollectionViewBlockStore:Boolean(j)});if((0,A().u)(p))return async function(e){const{environment:t,collectionContextStore:o,feature:n,addFeatureFrom:r}=e,{untypedFeaturesSetupActions:i}=await D().Aw.load(),a=o.collectionStore(),s=null==a?void 0:a.getParentBlockStore();if(!a||!s)return;const l=Date.now();F().createAndCommit({environment:t,userAction:"collectionSettingsCreatePropertyActions.handleCreateNewUntypedFeature",canUndo:!0,perform:e=>{i.applyUntypedFeature({environment:t,collectionStore:a,collectionViewBlockStore:s,feature:n,transaction:e}),N({environment:t,collectionContextStore:o,collectionUri:d().iH,feature:n,transaction:e,addFeatureFrom:r,createFeatureStartTime:l})}})}({environment:s,collectionContextStore:c,feature:p,addFeatureFrom:v});const P=c.collectionViewStore(),B=null==j?void 0:j.getParentStore(),V=null==_||null===(t=_.getFormat())||void 0===t?void 0:t.app_config_uri,U=V&&(0,k().l)(r(),V);if(E.appConfigUri=U&&U.uri,!B||B.table!==S().NX&&B.table!==h().ev&&B.table!==b().yK||!U)return void R({hasAppParentStore:Boolean(B),appParentStoreTable:null==B?void 0:B.table,appConfigUri:U?U.uri:void 0});const O=_.getSchema(),z=j.getFormat().app_id;E.appId=z;const L=z?await I().callApi({eventName:"getCollectionViewBlocksByAppId",environment:s,data:{spaceId:j.getSpaceId(),appId:z}}):void 0,W="success"===(null==L?void 0:L.type)&&L.data.result.length?L.data.result.map((e=>l().B.createChildStore(B,{table:h().ev,id:e.blockId,spaceId:j.getSpaceId()}))):[j],H=p.integrationId;if(H){const e=a().A.getIntegrationsAsRecordMap().getValue({table:y().Li,id:H});if(!e||!(0,g().v_)(e))return void R({hasIntegration:Boolean(e)});await C().C4(s,_,e,Boolean(p.canOnlyAdminAuth))}H===m().ob&&O&&0===(0,u().yP)(O).length&&await T().c({environment:s,collectionStore:_});const K=Date.now();F().createAndCommit({environment:s,userAction:"collectionSettingsCreatePropertyActions.handleCreateNewSuggestedProperty",canUndo:!0,perform:e=>{var t;if(!w)return void R({hasCurrentSpaceViewStore:!1});const r=null===(t=_.getFormat())||void 0===t?void 0:t.app_config_uri;if(!r)return void R({hasCollectionUri:!1});const i=o.applyTypedFeatures({environment:s,spaceViewStore:w,appParentStore:B,appUri:U.uri,features:[{type:"simple",featureUri:p.uri}],transaction:e,createOrModify:"modify",appCollectionViewBlockStores:W,customPropertyName:x});n.createSprintPage({environment:s,spaceViewStore:w,appParentStore:B,transaction:e,blockStores:i,creationEntryPoint:{type:"sprint_relation"}}),"notion://tasks/sub_task_feature"===p.uri&&M().zA({stores:[_],update:{subitem_property:d().yx.SubTaskRelation},transaction:e}),"notion://tasks/task_dependencies_feature"===p.uri&&(M().zA({stores:[_],update:{collection_default_arrows_by:d().yx.BlockingRelation},transaction:e}),P&&M().zA({stores:[P],update:{timeline_arrows_by:{property:d().yx.BlockingRelation}},transaction:e})),N({environment:s,collectionContextStore:c,collectionUri:r,feature:p,transaction:e,addFeatureFrom:v,createFeatureStartTime:K}),e.isEmpty()&&R({isEmptyTransaction:!0})}})}function L({propertyType:e,collectionContextStore:t,propertyId:o}){const n=t.normalizedSchemaStore.state[o];if(n)switch(e){case"ai_custom_prompt":case"ai_summary":case"ai_extract":case"ai_translate":return j().a2({collectionSettingsStore:t.settingsStore,item:{type:"propertyAiAutofill",propertySchema:n,property:o}});case"ai_keywords":return j().a2({collectionSettingsStore:t.settingsStore,item:{type:"property",property:o,formatKey:t.getPropertyFormatKey()}});default:(0,w().HB)(e)}}function W(e){const{environment:t,collectionContextStore:n,propertyType:r,isSuggestedProperty:i,propertyName:a,propertyIcon:l,selectOptions:c,from:d,shouldOpenEditMenu:u=!0,newPropertyFormat:m}=e,f=n.collectionStore(),g=n.collectionViewStore(),v=n.getPropertyFormatKey(),h=n.normalizedFormatStore.state;if(!f)return;if("relation"===r)return void j().a2({collectionSettingsStore:n.settingsStore,item:{type:"selectRelationSource",property:void 0,initialPropertyName:a,formatKey:v,newPropertyFormat:m}});let y=a;"ai_custom_prompt"===r&&(y=s().A.formatMessage(O.aiCustomPromptDefaultPropertyName));const S=m&&v?{...h,[v]:m}:h,{performResult:b}=F().createAndCommit({userAction:"collectionSettingsCreatePropertyActions.handleCreateNewStandardProperty",environment:t,canUndo:!0,perform:e=>(0,U().createProperty)({environment:t,collectionStore:f,collectionViewArgs:g&&v?{collectionViewStore:g,format:S,formatKey:v}:void 0,propertyName:y,propertyIcon:l,propertyType:r,selectOptions:c,transaction:e})});u&&((0,p().hN)(r)?L({propertyType:r,propertyId:b,collectionContextStore:n}):j().n1({collectionSettingsStore:n.settingsStore,property:b,formatKey:v,selectNameInitial:!0}));const x="view_settings"===d?{feature:{id:b,from:"new_property",type:r}}:{};(0,_().Z)({environment:t,collectionContextStore:n,from:d,property_type:(0,p().v2)(r),property:(0,p().hN)(r)?r:void 0,is_suggested_property:i,property_id:b,...x}),i||n.userAddedPropertyStore.update((()=>!0)),b&&!(0,p().hN)(r)&&o.e(52315).then(o.bind(o,830213)).then((e=>{e.maybeTriggerDatabaseViewNudgeOnCreateProperty({environment:t,collectionContextStore:n,propertyId:b,propertyType:(0,p().v2)(r)})}))}async function H(e){const{environment:t,collectionContextStore:o,intl:n,connectedRelationProperty:i,from:a,untypedFeatureArgs:s,propertyGroupId:l,propertyLimit:c,skipDatabaseActions:d,propertyName:g}=e,h=o.collectionStore(),y=o.collectionViewStore(),S=o.getPropertyFormatKey();if(!h||!S)return;const b=i.integration.id;(0,m().XO)(b)||await C().C4(t,h,i.integration,Boolean(i.canOnlyAdminAuth));const I=h.getSchema();let M;b===m().ob&&I&&0===(0,u().yP)(I).length&&(M=await T().c({environment:t,collectionStore:h}));const k=h.getDeletedSchema(),A=(0,w().WP)(k).map((([e,t])=>{if(t&&p().UU(t)&&t.connectedRelation.integration_id===m().ob)return{propertyId:e,propertySchema:t}})).filter(w().O9);let P;if(!x().Im(A)){const e=A[0];P={propertyId:e.propertyId,update:await K({collectionStore:h,property:e})}}F().createAndCommit({environment:t,userAction:"collectionSettingsCreatePropertyActions.handleCreateNewConnectedRelationProperty",canUndo:!0,perform:e=>{const{shouldCreateNewProperty:u,restoredPropertyId:p}=function(e){const{environment:t,generatedPrefix:o,integrationId:n,propertyGroupId:r,collectionStore:i,collectionContextStore:a,collectionViewStore:s,formatKey:l,transaction:c,maybeRestoreDeletedProperty:d}=e;o&&(0,U().createProperty)({environment:t,collectionStore:i,collectionViewArgs:s?{collectionViewStore:s,format:s.getFormat(),formatKey:l}:void 0,propertyType:"auto_increment_id",transaction:c,propertyGroupId:r});if(null!=d&&d.propertyId){if(d.update){r&&(0,B().En)({collectionStore:i,groupId:r,propertyId:d.propertyId,transaction:c}),(0,R().F)({environment:t,collectionStore:i,update:d.update.updateSchema,transaction:c}),(0,E().E)({collectionStore:i,update:d.update.updateDeletedSchema,transaction:c});const e={type:"property",property:d.propertyId,formatKey:l};return j().a2({collectionSettingsStore:a.settingsStore,item:e}),{shouldCreateNewProperty:!1,restoredPropertyId:d.propertyId}}return(0,f().log)({level:"error",from:"collectionSettingsCreatePropertyActions",type:"handleCreateNewConnectedRelationProperty",data:{message:"Invalid property found in deleted_schema",collectionId:null==i?void 0:i.id,miscDataToConvertToString:{integration:n,maybeRestoreDeletedProperty:d}}}),(0,E().E)({collectionStore:i,update:{[d.propertyId]:null},transaction:c}),{shouldCreateNewProperty:!0}}return{shouldCreateNewProperty:!0}}({environment:t,generatedPrefix:M,transaction:e,propertyGroupId:l,collectionStore:h,collectionViewStore:y,collectionContextStore:o,integrationId:b,formatKey:S,maybeRestoreDeletedProperty:P});if(!u&&p)return p;const m=function(e){const{environment:t,transaction:o,collectionStore:n,collectionViewStore:r,collectionContextStore:i,intl:a,connectedRelationProperty:s,untypedFeatureArgs:l,propertyLimit:c,propertyName:d,formatKey:u}=e,p=s.integration.id,m=v().Bj6.fromIntegration(s.integration),f=C().qM({environment:t,pattern:s.pattern,integration:m,parentCollectionStore:n,transaction:o}),g=(0,U().createProperty)({environment:t,collectionStore:n,collectionViewArgs:r&&u?{collectionViewStore:r,format:r.getFormat(),formatKey:u}:void 0,propertyType:"relation",transaction:o,propertyId:null==l?void 0:l.propertyId});return V().cT({environment:t,collectionContextStore:i,collectionStore:n,property:g,propertyName:d&&d.length>0?d:s.name,propertyIcon:s.integration.info.icon,propertyLimit:c??"no_limit",targetCollectionStore:f,hasInverseRelation:!0,autoRelate:void 0,intl:a,connectedRelation:{integration_id:p},transaction:o}),g}({environment:t,transaction:e,collectionStore:h,collectionViewStore:y,collectionContextStore:o,intl:n,connectedRelationProperty:i,untypedFeatureArgs:s,propertyLimit:c,propertyName:g,formatKey:S});if((0,_().Z)({environment:t,collectionContextStore:o,from:"view_settings",property_id:m,property_type:"relation",integration_id:b,feature:{id:m,from:a,type:`notion://feature/connection_${b}`}}),!s)if(d){const e=h.getSchema(),n=null==e?void 0:e[m];j().a2({collectionSettingsStore:o.settingsStore,item:{type:"connectedRelationDatabaseActions",source:"connectedRelationAddProperties",rootPropertyId:m,integrationId:b,rootPropertySchema:n,skipDatabaseActions:!0,eventSource:"first_time_setup"}}),(0,r().u)({environment:t,event:{eventName:"salesforce_actions",eventProperties:{actionType:"add_properties_clicked",details:{source:"first_time_setup"},integrationId:b,collectionId:null==h?void 0:h.id}}})}else{const e={type:"property",property:m,formatKey:S};j().a2({collectionSettingsStore:o.settingsStore,item:e})}return m}})}async function K(e){const{property:{propertyId:t,propertySchema:o},collectionStore:n}=e,r=(0,p().Nv)(o);if((null==r?void 0:r.spaceId)!==n.getSpaceId())return;const i=c().m.createChildStore(n,r);if(await i.load(),null==i||!i.isDefined())return;if(i.getParentId()!==n.id)return;return(0,P().KA)({deletedSchema:n.getDeletedSchema(),property:t})}},381553:(e,t,o)=>{o.d(t,{Y:()=>i});o(296540);var n=o(474848);const r={viewBox:"0 0 16 16",fittedViewBox:"2.37 2.37 11.25 11.25",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M7.053 6.407a.643.643 0 1 0 0 1.286.643.643 0 0 0 0-1.286m1.894 0a.643.643 0 1 0 0 1.286.643.643 0 0 0 0-1.286m1.893 0a.643.643 0 1 0 0 1.286.643.643 0 0 0 0-1.286M5.159 8.3a.643.643 0 1 0 0 1.287.643.643 0 0 0 0-1.286M7.053 8.3a.643.643 0 1 0 0 1.287.643.643 0 0 0 0-1.286M8.947 8.3a.643.643 0 1 0 0 1.287.643.643 0 0 0 0-1.286M10.84 8.3a.643.643 0 1 0 0 1.287.643.643 0 0 0 0-1.286m-5.681 1.894a.643.643 0 1 0 0 1.286.643.643 0 0 0 0-1.286m1.894 0a.643.643 0 1 0 0 1.286.643.643 0 0 0 0-1.286m1.894 0a.643.643 0 1 0 0 1.286.643.643 0 0 0 0-1.286"}),(0,n.jsx)("path",{d:"M4.25 2.375c-1.036 0-1.875.84-1.875 1.875v7.5c0 1.036.84 1.875 1.875 1.875h7.5c1.036 0 1.875-.84 1.875-1.875v-7.5c0-1.036-.84-1.875-1.875-1.875zm-.625 9.375V5.632h8.75v6.118c0 .345-.28.625-.625.625h-7.5a.625.625 0 0 1-.625-.625"})]})},i=(0,o(340498).wt)("viewCalendarSmall",r,"small")},383567:(e,t,o)=>{o.d(t,{F:()=>i});o(296540);var n=o(474848);const r={viewBox:"0 0 20 20",fittedViewBox:"3.26 1.98 16.32 17.52",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M15.825 12a3.75 3.75 0 1 1-.001 7.501 3.75 3.75 0 0 1 0-7.501m0 1.325a.55.55 0 0 0-.55.55V15.2H13.95a.55.55 0 0 0-.001 1.1h1.326v1.325a.55.55 0 0 0 1.1 0V16.3h1.324a.55.55 0 0 0 0-1.1h-1.325v-1.325a.55.55 0 0 0-.55-.55M9.702 5.022a3.918 3.918 0 0 1 6.742.036.626.626 0 0 1-1.08.63 2.667 2.667 0 0 0-4.59-.023L5.376 14.68l4.19.678a.626.626 0 0 1-.2 1.235l-5.1-.827a.625.625 0 0 1-.437-.938z"}),(0,n.jsx)("path",{d:"M10.912 8.094a1.178 1.178 0 1 1 2.326.377 1.178 1.178 0 0 1-2.326-.377M4.7 7.087a1.178 1.178 0 1 1 2.327.377A1.178 1.178 0 0 1 4.7 7.087M3.488 2.985a3.92 3.92 0 0 1 5.572.357.625.625 0 0 1-.944.818 2.67 2.67 0 0 0-3.796-.243.625.625 0 1 1-.832-.932"})]})},i=(0,o(340498).wt)("aiFacePlus",r,"default")},390527:(e,t,o)=>{o.r(t),o.d(t,{DEFAULT_MAX_RECURRENCE_DUPLICATION_PER_TASK:()=>E,MAXIMUM_DAILY_RECURRENCES_IN_PATH:()=>_,MAXIMUM_NESTED_RECURRENCE_LEVEL:()=>w,MAX_RECURRENCE_INTERVAL:()=>h,MAX_RECURRENCE_NUMBER_OF_RUNS:()=>y,RRULE_WEEKDAYS_MAP:()=>v,adjustedStartDateIfPossible:()=>C,areRecurrenceSchedulesEqual:()=>V,convertFromUnpersistedRecurrenceConfig:()=>B,convertToUnpersistedRecurrenceConfig:()=>R,getFormattedEndCondition:()=>j,getFormattedNextRecurrenceTime:()=>T,getNewEndTimestamp:()=>P,getNextDateUtc:()=>A,getRecurrenceAfter:()=>M,isRunningBetweenMidnightAnd3AM:()=>k,isValidRecurrenceInterval:()=>S,isValidRecurrenceNumberOfRuns:()=>b,rruleFromRecurrence:()=>x,templateAncestorsViolateRecurrenceNesting:()=>I});o(898992),o(354520),o(581454);var n=()=>o(906745);o(944114);function r(e,...t){if(0===t.length)return e.map((e=>[e]));const o=[];for(const n of e)o.push(...r(t[0],...t.slice(1)).map((e=>[n,...e])));return o}var i=()=>o(496603),a=()=>o(534177),s=()=>o(720665),l=()=>o(597777),c=()=>o(869190),d=()=>o(416504),u=()=>o(402390);class p extends(()=>o(896346))().p3{constructor(e,t){super(e,t)}after(e,t){return super.after(e,t)}}var m=()=>o(912720);const f=(0,o(69708).YK)({dateAtTime:{id:"automations.recurrenceHelpers.dateAtTime",defaultMessage:"{date} at {time}"},dateBetweenMidnightAnd3AM:{id:"automations.recurrenceHelpers.dateBetweenMidnightAnd3AM",defaultMessage:"{date} between 12–3 AM"},numberEndConditionDescription:{id:"automations.recurrenceHelpers.numberEndConditionDescription",defaultMessage:"{number, plural, one {After {number} run} other {After {number} runs}}"},noEndCondition:{id:"automations.recurrenceHelpers.noEndCondition",defaultMessage:"Never"}}),g={hour:p.HOURLY,day:p.DAILY,week:p.WEEKLY,month:p.MONTHLY,year:p.YEARLY},v={MO:p.MO,TU:p.TU,WE:p.WE,TH:p.TH,FR:p.FR,SA:p.SA,SU:p.SU},h=99,y=999;function S(e){return(0,s().Et)(e)&&Number.isInteger(e)&&e>0&&e<=h}function b(e){return(0,s().Et)(e)&&Number.isInteger(e)&&e>0&&e<=y}function x(e){const{start_date:t,frequency:o,interval:n,weekdays:i,timezone:s,hour:c,minute:d}=e,u=(0,l().eU)(t);"hour"===o&&u.setUTCHours(c??0,d??0,0,0);const m="week"===o&&i?i.map((e=>v[e])):void 0,f={};return(0,a().O9)(e.end_condition)&&("date"===e.end_condition.type?f.until=(0,l().eU)(e.end_condition.end_at):"number"===e.end_condition.type?f.count=e.end_condition.number_of_occurrences:(0,a().HB)(e.end_condition)),"month"===e.frequency&&(0,a().O9)(e.monthly_restriction)&&("monthdays"===e.monthly_restriction.type?f.bymonthday=e.monthly_restriction.monthdays:"weekdays_in_month"===e.monthly_restriction.type?f.byweekday=r(e.monthly_restriction.weekdays,e.monthly_restriction.week_numbers).map((([e,t])=>v[e].nth(t))):(0,a().HB)(e.monthly_restriction)),new p({freq:g[o],dtstart:u,interval:n,byweekday:m,tzid:"hour"===o?void 0:s,..."hour"===o?{}:{byhour:c??0,byminute:d??0,bysecond:0},...f})}const w=1,_=1;function I(e){var t;if(0===e.length)return{violatesConstraint:!1,templateNestingExceedsMaxDepth:!1,ancestorHasDailyTemplate:!1,nestedDepthOfAutomationAncestors:void 0,immediateAncestorRecurrenceType:void 0};const o=e.filter((e=>{var t;return"day"===(null===(t=e.getRecurrence())||void 0===t?void 0:t.frequency)})),n=e.length,r=null===(t=e[0].getRecurrence())||void 0===t?void 0:t.frequency,i=n>w,a=o.length>=_;return{violatesConstraint:i||a,templateNestingExceedsMaxDepth:i,ancestorHasDailyTemplate:a,nestedDepthOfAutomationAncestors:n,immediateAncestorRecurrenceType:r}}function C(e){var t;const{recurrence:o,afterDate:r}=e;if("number"===(null===(t=o.end_condition)||void 0===t?void 0:t.type)||o.start_date>=r)return o;let i=n().DateTime.fromMillis(o.start_date,{zone:"utc"});const a=n().DateTime.fromMillis(r,{zone:"utc"});switch(o.frequency){case"hour":{const e=Math.floor(a.diff(i,"hours").hours/o.interval);i=i.plus({hours:e*o.interval});break}case"year":{const e=Math.floor(a.diff(i,"years").years/o.interval);i=i.plus({years:e*o.interval});break}case"month":{const e=Math.floor(a.diff(i,"months").months/o.interval);i=i.plus({months:e*o.interval});break}case"week":{const e=Math.floor(a.diff(i,"weeks").weeks/o.interval);i=i.plus({weeks:e*o.interval});break}case"day":{const e=Math.floor(a.diff(i,"days").days/o.interval);i=i.plus({days:e*o.interval});break}}return{...o,start_date:(0,l().DH)(i.toMillis())}}function M(e){const{recurrence:t,afterDate:o}=e;if((0,m().wt)(t)){const e=(0,l().l1)(o);return t.start_date>=e?new Date(t.start_date):void 0}{const e=x(C({recurrence:t,afterDate:o})).after((0,l().eU)(o));if(!e)return;return(0,l().h1)(e)}}function k(e){return 0===e.hour||1===e.hour||2===e.hour}function A(e){return x(e).after((0,l().eU)((0,l().Rz)()))||void 0}function T(e){const{recurrence:t,intl:o}=e,r=A(B(t));if(!r)return;const i=k(t),a=n().DateTime.fromJSDate(r).toUTC().setZone("local",{keepLocalTime:!0}).setLocale((0,u().H)(o)).setZone(t.timezone),s=(0,c().Yq)({date:a,dateFormat:"relative",allowRelativeDates:!0,intl:o,shortenDate:!0});if(i)return o.formatMessage(f.dateBetweenMidnightAnd3AM,{date:s});{let e=a.toLocaleString(n().DateTime.TIME_SIMPLE);return t.timezone!==(0,d().P)()&&(e+=` ${a.toFormat("ZZZZ")}`),o.formatMessage(f.dateAtTime,{date:s,time:e})}}function j(e,t){return(0,a().O9)(e)?"number"===e.type?t.formatMessage(f.numberEndConditionDescription,{number:e.number_of_occurrences}):"date"===e.type?(0,c().Yq)({date:n().DateTime.fromMillis(e.end_at),dateFormat:"relative",allowRelativeDates:!0,intl:t,shortenDate:!0}):void(0,a().HB)(e):t.formatMessage(f.noEndCondition)}const E=100;function R(e){return{...e,start_date:(0,l().l1)(e.start_date),end_condition:e.end_condition?"number"===e.end_condition.type?e.end_condition:"date"===e.end_condition.type?{type:"date",end_at:(0,l().l1)(e.end_condition.end_at)}:(0,a().HB)(e.end_condition):void 0}}function P(e,t,o){return e.plus(o-t)}function D(e,t){const o=n().DateTime.fromMillis(t.end_at).set({hour:e.hour??0,minute:e.minute??0});return{type:"date",end_at:(0,l().Rz)(o.toJSDate())}}function B(e){return{...e,start_date:(0,l().Rz)(new Date(e.start_date)),end_condition:e.end_condition?"number"===e.end_condition.type?e.end_condition:"date"===e.end_condition.type?D(e,e.end_condition):(0,a().HB)(e.end_condition):void 0}}function V(e,t){const o=i().fN(e,(e=>void 0!==e)),n=i().fN(t,(e=>void 0!==e));return i().n4(o,n)}},404905:(e,t,o)=>{o.d(t,{j:()=>c});var n=o(296540),r=()=>o(484714),i=()=>o(401497),a=()=>o(284371),s=()=>o(26697);var l=o(474848);function c(e){const{children:t,style:o,overlayContainerZIndex:c,placement:d="bottom",tooltipStyle:u}=e,{isSafari:p}=(0,r().Y0)(),m=(0,n.useRef)(null),f=function(e){const[t,o]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{const{current:t}=e;if(!t)return void o(!1);const n="ResizeObserver"in window?new ResizeObserver((([e])=>{o(e.target.scrollWidth>e.target.clientWidth)})):void 0;return null==n||n.observe(t),()=>null==n?void 0:n.unobserve(t)}),[]),t}(m),g=(0,i().IS)((()=>({overflowText:{...a().RC,...o}})),[o]);return(0,l.jsx)(s().m,{delayThreshold:500,placement:d,textWrap:!0,style:u,overlayContainerZIndex:c,forceVisibleState:!(p||!f)&&void 0,renderTooltip:()=>f?t:void 0,render:e=>(0,l.jsx)("div",{ref:m,style:g.overflowText,...e,children:t})})}},419357:(e,t,o)=>{o.d(t,{Ay:()=>b,KF:()=>S,LG:()=>v,Zf:()=>y,yD:()=>h});var n=o(296540),r=()=>o(484714),i=()=>o(401497),a=()=>o(718827),s=()=>o(695115),l=()=>o(31511),c=()=>o(546926),d=()=>o(424400),u=()=>o(340498),p=()=>o(100622),m=()=>o(496603),f=()=>o(284371),g=o(474848);const v=30,h=28;function y(e){const{icon:t}=e;return t({fill:p().Tj.icon.secondary,width:u().Ev.sm,height:u().Ev.sm,flexGrow:0,flexShrink:0})}function S(e){const t=(0,r().WS)(),o=(0,i().eP)(),n=(0,i().IS)((()=>({outlineButton:{...(0,a().qq)({shape:"default",size:"sm",hasIconOnly:!0,isButtonGapEnabled:!0}),fontWeight:f().Wy.medium,lineHeight:1.2,border:`1px solid ${p().Tj.border.primaryTranslucent}`,background:e.hasBackground?p().Tj.background.primary:void 0},outlineButtonHovered:{background:p().Tj.background.secondary},outlineButtonPressed:{background:(0,a().yZ)({color:p().Tj.background.primary,mode:o})}})),[e.hasBackground,o]);return(0,g.jsx)(s().A,{size:"xs",colorVariant:"primary",...e,ariaLabel:e.ariaLabel,style:{...n.outlineButton,...e.style,height:t?v:h,width:t?v:h},hoveredStyle:n.outlineButtonHovered,pressedStyle:n.outlineButtonPressed})}const b=n.forwardRef((function({preventCaptureArrowShortcuts:e,preventCaptureDeleteWhenEmpty:t,preventCaptureClipboardShortcuts:r,preventCaptureSpacebarWhenEmpty:i,...a},s){const{left:l,right:u,inputLeft:p,inputRight:f,inputRightStyle:v,disableInput:h,inputOuterStyle:y,rightMobileEditLabel:S,mobileKeyboardOnDismiss:b,style:x,value:I,onChange:C,autosize:M,autosizeMinHeight:k,autosizeMaxHeight:A,customElementAttributes:T,disabled:j,format:E,id:R,placeholder:P,type:D,autoFocus:B,focus:V,focusInitial:F,focusAfterAnimation:U,forceShowClearButton:O,ignoreKeyboardMode:N,inputElementAttributes:z,inputStyle:L,isRightLastElementOfInput:W,maxlength:H,min:K,max:G,selectAll:$,showClearButton:Y,suppressFocusRing:q,textarea:Z,textareaSubmitOnEnter:X,onBlur:Q,onCancel:J,onClearButtonClick:ee,onClick:te,onFocus:oe,onKeyDown:ne,onSubmit:re,...ie}=a,[ae,se]=(0,n.useState)((()=>Boolean(V||F)));(0,n.useEffect)((()=>{void 0!==V&&se(V)}),[V]);const le=e?void 0:m().D_,ce=!t||I.length>0?m().D_:void 0,de=r?void 0:m().D_,ue=!i||I.length>0?m().D_:void 0,pe=(0,c().Tf)(),me=(0,n.useContext)(c().xu),fe=(0,n.useRef)(null),ge={value:I,onChange:C,autosize:M,autosizeMinHeight:k,autosizeMaxHeight:A,customElementAttributes:T,disabled:j,format:E,id:R,placeholder:P,type:D,autoFocus:B,focus:V,focusInitial:F,focusAfterAnimation:U,forceShowClearButton:O,ignoreKeyboardMode:N,inputElementAttributes:z,inputStyle:L,isRightLastElementOfInput:W,maxlength:H,min:K,max:G,selectAll:$,showClearButton:Y,suppressFocusRing:q,textarea:Z,textareaSubmitOnEnter:X,onBlur:Q,onCancel:J,onClearButtonClick:ee,onClick:te,onFocus:oe,onKeyDown:ne,onSubmit:re};return(0,g.jsx)(o(782482).N,{debugName:"InputMenuItem",capture:!0,onUntab:m().D_,onTab:m().D_,onSelectAll:m().D_,onRedo:m().D_,onUndo:m().D_,onToggleBold:m().D_,onToggleItalics:m().D_,onToggleCode:m().D_,onCut:de,onCopy:de,onPaste:de,onKeypress:m().D_,onLeft:le,onRight:le,onDelete:ce,onBackspace:ce,onSpace:ue,children:o(726637).A.isMobile?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(d().Ay,{ref:s,...ie,itemMarginLeft:pe?8:void 0,style:x,title:(0,g.jsx)(_,{ref:fe,left:l,right:u,inputLeft:p,inputRight:f,inputRightStyle:v,disableInput:h,inputOuterStyle:y,rightMobileEditLabel:S,isFocused:ae,setIsFocused:se,...ge})}),(0,g.jsx)(o(797324).A,{show:ae&&me.menuType!==c().gu.ActionSheet,onDismiss:b,inputRef:fe})]}):(0,g.jsx)(d().Ay,{ref:s,...ie,left:l,right:u,isTokenTitle:!0,title:(0,g.jsx)(w,{ref:fe,disableInput:h,inputOuterStyle:y,inputRight:f,inputRightStyle:v,inputLeft:p,...ge}),style:{paddingTop:4,paddingBottom:4,...x}})})}));function x({rightMobileEditLabel:e,inputRef:t}){const i=(0,r().v3)(),s=(0,n.useCallback)((e=>{e.preventDefault();const n=t.current;n&&(0,o(375555).G)(i,n)}),[i,t]);return(0,g.jsx)(a().Ay,{onClick:s,style:{color:p().Tj.text.secondary},children:e})}const w=n.forwardRef((function(e,t){const{disabled:o,disableInput:n,inputOuterStyle:r,inputRight:i,inputRightStyle:a,inputLeft:s,min:c,textarea:d,...u}=e;return(0,g.jsx)(l().A,{...u,ref:t,disabled:o||n,style:{height:d?void 0:28,padding:"3px 6px",...r},left:s,right:i,rightStyle:a,min:c,textarea:d})})),_=n.forwardRef((function(e,t){const{left:r,right:i,inputLeft:a,inputRight:s,inputRightStyle:c,disableInput:d,inputOuterStyle:u,rightMobileEditLabel:p,isFocused:m,setIsFocused:f,disabled:v,showClearButton:h,onBlur:y,onFocus:S,...b}=e,w=(0,n.useCallback)((e=>{f(!1),y&&y(e)}),[y,f]),_=(0,n.useCallback)((e=>{f(!0),S&&S(e)}),[S,f]),I=(0,n.useRef)(null),C=(0,o(93583).A)(I,t),M=p&&!m?(0,g.jsx)(x,{rightMobileEditLabel:p,inputRef:I}):null;return(0,g.jsx)(l().A,{...b,ref:C,format:"transparent",style:{fontSize:16,...u},onFocus:_,onBlur:w,showClearButton:!1!==h,disabled:v||d,left:a||r,right:M||s||i,rightStyle:c})}))},422540:(e,t,o)=>{o.d(t,{$0:()=>h,Fx:()=>I,Ge:()=>f,I3:()=>p,Kj:()=>w,PP:()=>C,TK:()=>M,Yy:()=>u,aE:()=>k,cQ:()=>_,kH:()=>g,m7:()=>m,nq:()=>b,nv:()=>y,tj:()=>v});o(898992),o(354520),o(737550);var n=()=>o(496603),r=()=>o(534177),i=()=>o(381283),a=()=>o(898244),s=()=>o(651124),l=()=>o(349835),c=()=>o(390066);const d={checkbox:!0,date:!0,email:!0,multi_select:!0,number:!0,person:!0,phone_number:!0,relation:!0,select:!0,status:!0,text:!0,title:!0,url:!0,auto_increment_id:!1,button:!1,created_by:!1,created_time:!1,file:!1,formula:!1,last_edited_by:!1,last_edited_time:!1,last_visited_time:!1,location:!1,rollup:!1,verification:!1,place:!1},u={checkbox:[{type:"checkbox"}],date:[{type:"date"}],email:[{type:"text"}],multi_select:[{type:"text"},{of:{type:"text"},type:"array"}],number:[{type:"number"}],person:[{type:"person"},{of:{type:"person"},type:"array"}],phone_number:[{type:"text"}],relation:[{type:"block"},{of:{type:"block"},type:"array"}],select:[{type:"text"},{of:{type:"text"},type:"array"}],status:[{type:"text"},{of:{type:"text"},type:"array"}],text:void 0,title:void 0,url:[{type:"text"}]};function p(e){return Boolean(d[e.type]&&!(0,a().UU)(e)&&(!(0,a().$M)(e)||void 0===(0,a().om)(e)))}function m(e){const{collectionFormat:t,collectionSchema:o,filter:i,sort:l,sourcePropertyIds:d}=e,u=(d??(0,r().uv)(o)).filter(((t,n,r)=>{const s=o[t];return!(!s||!p(s))&&(("relation"!==s.type||!e.restrictCrossSpace||!(0,a().o2)(e.spaceId,s))&&(!i||i([t,s],n,o)))}));if(0===u.length)return[];if(!t||!1===l)return u;const m=(0,c().L)(t,o,void 0,s().jf.Page).collection_page_properties||[];return n().Ul(u,(e=>m.findIndex((t=>t.property===e))))}function f(e){const{collectionFormat:t,collectionSchema:o,sort:a}=e,l=(0,r().uv)(o).filter(((e,t,n)=>{const r=o[e];return!(!r||!(0,i().J)(r))}));if(0===l.length)return[];if(!t||!1===a)return l;const d=(0,c().L)(t,o,void 0,s().jf.Page).collection_page_properties||[];return n().Ul(l,(e=>d.findIndex((t=>t.property===e))))}function g(e){return e.type===l().M9.InvalidCharacter?{type:e.type,character:e.character}:e.type===l().M9.TokenExpected?{type:e.type,token:e.token}:e.type===l().uW.MissingSchemaPropertyOnThisRow||e.type===l().uW.MissingSchemaPropertyOnCollection?{type:e.type,collectionId:e.collectionId,property:e.property,errorSource:e.errorSource}:e.type===l().uW.ThisRowBlockPropertyMismatchCollection?{type:e.type,thisRowCollection:e.thisRowCollection,errorSource:e.errorSource}:e.type===l().uW.MissingContextVariable?{type:e.type,valueId:e.valueId,errorSource:e.errorSource}:e.type===l().uW.FunctionCallTooFewArguments?{type:e.type,numArguments:e.numArguments,errorSource:e.errorSource}:e.type===l().uW.FunctionCallUnexpectedArgument?{type:e.type,parameterIndex:e.parameterIndex,errorSource:e.errorSource}:e.type===l().uW.FunctionCallArgumentWrongType?{type:e.type,argumentType:e.argumentType,libraryFunctionName:e.libraryFunction.name,parameterIndex:e.parameterIndex,errorSource:e.errorSource}:e.type===l().uW.MissingDataDependencyBlock?{type:e.type,blockPointer:e.blockPointer,node:e.node,errorSource:e.errorSource}:e.type===l().uW.MissingDataDependencyPerson?{type:e.type,personPointer:e.personPointer,errorSource:e.errorSource}:e.type===l().uW.MemberPropertyMismatchCollection?{type:e.type,blockCollection:e.blockCollection,errorSource:e.errorSource}:e.type===l().uW.DownstreamParseFailure?{type:e.type,collectionId:e.collectionId,property:e.property,errorSource:e.errorSource}:e.type===l().uW.ContextVariableWrongType?{type:e.type,valueId:e.valueId,expectedType:e.expectedType,resultType:e.resultType,errorSource:e.errorSource}:e.type===l().uW.DisallowedValueType?{type:e.type,expressionValue:e.expressionValue,allowedValueTypes:e.allowedValueTypes,errorSource:e.errorSource}:e.type===l().uW.LibraryFunctionExecutionError?{type:e.type,error:e.error,libraryFunctionName:e.libraryFunction.name,errorSource:e.errorSource}:"errorSource"in e?{type:e.type,errorSource:e.errorSource}:{type:e.type}}const v={checkbox:!0,date:!0,email:!0,multi_select:!0,number:!0,person:!0,phone_number:!0,relation:!0,select:!0,status:!0,text:!0,title:!0,url:!0,button:!1,file:!1,verification:!1,auto_increment_id:!1,created_by:!1,created_time:!1,formula:!1,last_edited_by:!1,last_edited_time:!1,last_visited_time:!1,location:!1,rollup:!1,place:!1};function h(e){return Boolean(v[e.type])}function y(e){const{collectionFormat:t,collectionSchema:o,filter:i,sort:l}=e,d=(0,r().uv)(o).filter(((e,t,n)=>{var r;const s=o[e];return!(!s||!v[s.type])&&((!(0,a().$M)(s)||null===(r=(0,a().om)(s))||void 0===r||!r.auto_update_on_edit)&&(!i||i([e,s],t,o)))}));if(0===d.length)return[];if(!t||!1===l)return d;const u=(0,c().L)(t,o,void 0,s().jf.Page).collection_page_properties||[];return n().Ul(d,(e=>u.findIndex((t=>t.property===e))))}const S={checkbox:!0,email:!0,multi_select:!0,number:!0,person:!0,phone_number:!0,relation:!0,select:!0,status:!0,text:!0,title:!0,url:!0,auto_increment_id:!1,button:!1,created_by:!1,created_time:!1,date:!1,file:!1,formula:!1,last_edited_by:!1,last_edited_time:!1,last_visited_time:!1,location:!1,rollup:!1,verification:!1,place:!1};function b(e){return S[e.type]}const x={checkbox:!0,created_by:!0,created_time:!0,date:!0,email:!0,multi_select:!0,number:!0,person:!0,phone_number:!0,relation:!0,select:!0,status:!0,text:!0,title:!0,url:!0,last_edited_by:!0,last_edited_time:!0,auto_increment_id:!1,button:!1,file:!1,formula:!1,last_visited_time:!1,location:!1,rollup:!1,verification:!1,place:!1};function w(e){return x[e.type]}function _(e){return 0===e}function I(e){return function(e){return"button_block"===e||"button_property"===e}(e)}function C(e){const{property:t,collectionSchema:o}=e;return!!o&&!o[t]}function M(e){const{collectionSchema:t,property:o,type:n}=e,r=null==t?void 0:t[o];return!r||("action"===n?!p(r):!v[r.type])}function k({automationTrigger:e,collectionSchema:t}){if("event"===(null==e?void 0:e.type)){const{pagesAdded:o,pagePropertiesEdited:n,source:i}=e.event;if(void 0===i)return!1;const a="some"===n.type&&n.some,s="all"===n.type&&n.all;if((a||s||[]).some((e=>C({collectionSchema:t,property:e.property})||M({collectionSchema:t,property:e.property,type:"trigger"}))))return!1;const l="some"===n.type&&(!(0,r().O9)(n.some)||0===n.some.length),c="all"===n.type&&(!(0,r().O9)(n.all)||0===n.all.length);if(!o&&("none"===n.type||l||c))return!1}else{if("recurrence"!==(null==e?void 0:e.type))return!1;if(!e.recurrence)return!1}return!0}},427636:(e,t,o)=>{o.d(t,{A:()=>i});o(296540);var n=()=>o(100622),r=o(474848);const i=function(e){const{botStore:t,avatarSize:i,shouldShowBadge:a,style:s,inline:l}=e,c=(0,o(69708).tz)(),d=(0,o(484714).Y0)(),u=(0,o(590526).K8)((()=>null==t?void 0:t.getDisplayName(c)),[t,c]),{outerStyle:p,avatarWrapStyle:m,badgeStyle:f}=(0,o(401497).IS)((()=>({outerStyle:{display:"flex",alignItems:"center",minWidth:0,...s},avatarWrapStyle:l?{width:"none",minHeight:"none",marginInlineEnd:6}:{marginInlineEnd:6},badgeStyle:{padding:"2px 6px",borderRadius:4,color:n().Tj.text.secondary,background:n().Tj.legacyDefaultSelectColor,fontSize:o(726637).A.isMobile?11:9,lineHeight:d.isAndroid?1.5:1,textTransform:"uppercase",letterSpacing:"0.04em",marginInlineStart:8,marginTop:1}})),[s,l,d]);return(0,r.jsxs)("div",{style:p,children:[(0,r.jsx)("div",{style:m,children:(0,r.jsx)(o(256863).A,{botStore:t,size:i})}),(0,r.jsx)("div",{style:{...o(284371).RC},children:u}),a?(0,r.jsx)("div",{style:f,children:"Bot"}):void 0]})}},435386:(e,t,o)=>{o.d(t,{w:()=>r});var n=()=>o(651784);function r({url:e,config:t}){const o=(0,n().parseRoute)({url:e,baseUrl:t.domainBaseUrl,publicDomainName:t.publicDomainName,isMobile:!1,protocol:t.protocol,currentUrl:void 0});return"page"===o.name?o.blockId:"team"===o.name?o.peekViewBlockId:void 0}},436525:(e,t,o)=>{o.d(t,{D:()=>u});var n=o(296540),r=()=>o(59226),i=()=>o(484714),a=()=>o(79926),s=()=>o(562984),l=()=>o(742734),c=()=>o(141465),d=o(474848);function u({userStore:e,suppressMouse:t,children:o,spaceStore:u}){const p=(0,n.useRef)(null),m=(0,l().E)({spaceStore:u,viewedUserId:null==e?void 0:e.id}),f=(0,r().X)("prefetch_extended_user_profiles"),g=m&&f,v=(0,a().fJ)(s().u.extendedUserProfileActions,{disabled:!g}),h=(0,i().v3)();(0,n.useEffect)((()=>{g&&"resolved"===v.status&&null!=e&&e.id&&u&&null!=u&&u.userId&&v.value.prefetchExtendedUserProfiles({spaceStore:u,actorUserId:u.userId,viewedUserIds:[e.id]},h)}),[g,null==e?void 0:e.id,u,m,h,v]);const y=(0,n.useCallback)((()=>{p.current&&e&&u&&!t&&c().A.setState({type:"user",store:e,domRect:p.current.getBoundingClientRect(),spaceStore:u})}),[e,u,t]),S=(0,n.useCallback)((()=>{c().A.setState(void 0)}),[]);return e&&m?(0,d.jsx)("div",{ref:p,onMouseEnter:m?y:void 0,onMouseLeave:m?S:void 0,children:o}):o}},445560:(e,t,o)=>{o.d(t,{X:()=>n});const n=o(757695).Store.createValue({shouldReset:!1},{name:"MobileAssistantMenuStore"})},448693:(e,t,o)=>{o.d(t,{Ay:()=>b,t_:()=>x,v7:()=>w});o(296540);var n=()=>o(484714),r=()=>o(590526),i=()=>o(34977),a=()=>o(457205),s=()=>o(849255),l=()=>o(764880),c=()=>o(784892),d=()=>o(534177),u=()=>o(883701),p=()=>o(427636),m=()=>o(256863),f=()=>o(848401),g=()=>o(994006),v=()=>o(453697),h=o(474848);function y(e){const t=(0,n().v3)(),{actor:o,format:l,hasTooltip:y,tooltipHeader:b,hasPersonHoverCard:x,spaceStore:w}=e,_=(0,r().K8)((()=>{const e=o.asActor;if(e)return(0,u().J)(t,e)}),[o,t]);return(0,h.jsx)(f().Ay,{...e,renderAvatar:e=>{if(_)return _ instanceof a().v?l===c().NY.Inline?(0,h.jsx)(m().A,{botStore:_,size:e,style:S}):(0,h.jsx)(p().A,{botStore:_,avatarSize:e,inline:!0,style:S}):_ instanceof s().L?l===c().NY.Inline?(0,h.jsx)(v().A,{userStore:_,size:e,avatarShouldShowShadow:!1,hasTooltip:y??!0,style:S,tooltipHeader:b,hasPersonHoverCard:x}):(0,h.jsx)(g().A,{userStore:_,avatarSize:e,inline:!0,hasTooltip:y,hasPersonHoverCard:x,style:S,tooltipHeader:b,spaceStore:w}):void(_ instanceof i().p||(0,d().HB)(_))}})}const S={minWidth:0};y.Format=c().NY;const b=y;function x(e){const{userValue:t,...o}=e,n=(0,l().MR)(t);return(0,h.jsx)(y,{actor:n,...o})}function w(e){const{botValue:t,...o}=e;return(0,h.jsx)(y,{actor:(0,l().oC)(t),hasPersonHoverCard:!1,...o})}x.Format=f().mI,w.Format=f().mI},448801:(e,t,o)=>{o.d(t,{i:()=>r});o(944114),o(517642),o(658004),o(733853),o(845876),o(432475),o(515024),o(731698);var n=()=>o(371562);n();function r(e,t){const o=n().create({arrays:{detectMove:!1,includeValueOnMove:!0}}).diff(e,t);if(!o)return{beforeOps:{},removeOps:new Set};let r=[],i=[];for(const n in o)"_t"!==n&&("_"===n[0]?r.push(parseInt(n.slice(1),10)):1===o[n].length&&i.push({index:parseInt(n,10),value:o[n][0]}));const a={},s=new Set,l=[...e];r=r.sort(((e,t)=>e-t));for(let n=r.length-1;n>=0;n--){const e=r[n],t=l.splice(e,1)[0];s.add(t)}i=i.sort(((e,t)=>e.index-t.index));for(let n=0;n<i.length;n++){const e=i[n];a[e.value]=l[e.index],l.splice(e.index,0,e.value)}return{beforeOps:a,removeOps:s}}},453697:(e,t,o)=>{o.d(t,{A:()=>p,n:()=>u});var n=o(296540),r=()=>o(590526),i=()=>o(401497),a=()=>o(849255),s=()=>o(807449),l=()=>o(798880),c=()=>o(100622),d=o(474848);function u(e){return(0,i().IS)((()=>({tooltipTextStyle:{color:c().Tj.text.inverseSecondary},tooltipAvatarContainer:{display:"flex",alignItems:"center",marginInlineEnd:8},tooltipContainer:{display:"flex",flexDirection:"row",padding:"4px 6px",alignItems:"center",...e},tooltipUserInfoContainer:{overflow:"hidden",textOverflow:"ellipsis"}})),[e])}const p=function(e){const{hasTooltip:t,showAvatarInTooltip:p,tooltipHeader:m,style:f,iconStyle:g,isOffline:v,borderStyle:h,avatarShouldShowShadow:y,initialOverrideStyle:S,tooltipOverrideStyle:b,userValue:x,userStore:w,avatar:_,type:I="avatar",delayThreshold:C,hasPersonHoverCard:M,avatarOutlineOffset:k}=e,A=(0,o(69708).tz)(),T=(0,r().O$)(o(907258).AppStoreSidebarSpaceStore),j=(0,o(792485).S)(),E=(0,r().K8)((()=>(0,o(876338).$)(j)??T),[j,T]),R=e.size??18,{initialStyle:P,avatarWrapStyle:D,avatarStyle:B,proxiedImageStyle:V,suspendedUserStyle:F}=(0,i().IS)((()=>({initialStyle:{boxSizing:"content-box",borderRadius:"100%",lineHeight:`${R}px`,width:R,height:R,overflow:"hidden",textAlign:"center",fontSize:Math.max(.4375*R,11),background:c().Tj.popoverBackground,userSelect:"none",WebkitUserSelect:"none",color:c().Tj.icon.secondary,opacity:v?.3:1,isolation:"auto",...g,...S},avatarWrapStyle:{background:c().Tj.background.primary,borderRadius:"100%",boxShadow:y?c().Tj.avatarBoxShadow:"none",outlineWidth:1,outlineStyle:h??"solid",outlineColor:c().Tj.border.secondaryTranslucent,outlineOffset:k??-1,...g},avatarStyle:{borderRadius:"100%",width:R,height:R,display:"flex",alignItems:"center",justifyContent:"center",userSelect:"none",WebkitUserSelect:"none",opacity:v?.3:1,...g},proxiedImageStyle:{width:R,height:R,...g},suspendedUserStyle:{boxSizing:"content-box",borderRadius:"100%",width:R-2,height:R-2,overflow:"hidden",background:c().Tj.suspendedUIUserAvatarBackground,userSelect:"none",WebkitUserSelect:"none",color:c().Tj.text.primary,opacity:v?.3:1,display:"flex",justifyContent:"center",alignItems:"center",...g}})),[S,y,h,v,R,g,k]),{tooltipTextStyle:U,tooltipAvatarContainer:O,tooltipContainer:N,tooltipUserInfoContainer:z}=u(b),L=(0,n.useMemo)((()=>w??(x?o(792071).Bj6.fromValue(l().oo,x):void 0)),[w,x]),W=(0,n.useMemo)((()=>L instanceof a().L?L:E&&L?a().L.createChildStore(E,{id:L.id,table:l().oo}):void 0),[L,E]),H=(0,r().K8)((()=>null==L?void 0:L.getFullName(A)),[L,A]),K=(0,r().K8)((()=>null==L?void 0:L.getDisplayName(A)),[L,A]),G=(0,r().K8)((()=>null==L?void 0:L.getEmail()),[L]),$=(0,r().K8)((()=>null==L?void 0:L.getProfilePhoto()),[L]),Y=(0,r().K8)((()=>null==L?void 0:L.getIsSuspended()),[L]),q=(0,o(742734).E)({spaceStore:E,viewedUserId:null==L?void 0:L.id})&&M,Z=()=>e.defaultAvatar??(0,d.jsx)(s().I,{icon:o(360576).personFillSmallIcon,size:"sm",colorVariant:"primary"}),X=(e,t,n)=>{if(!e)return Z();const r={width:"100%",height:"100%",borderRadius:"100%",...n};return(0,d.jsx)(o(738471).A,{alt:t,src:e,enableLoadingShimmer:!0,style:r,placeholderStyle:r})},Q=e=>(0,d.jsxs)("div",{style:N,children:[(0,d.jsx)("div",{style:O,children:te()}),(0,d.jsxs)("div",{style:z,children:[L?K:null==_?void 0:_.name,e?void 0:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("br",{}),L?(0,d.jsx)("span",{style:U,children:G}):null!=_&&_.email?(0,d.jsx)("span",{style:U,children:null==_?void 0:_.email}):null]})]})]}),J=()=>p?Q():(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{children:m}),K,(0,d.jsx)("br",{}),L?(0,d.jsx)("span",{style:U,children:G}):void 0]}),ee=e=>{const t=o(634201).PE(e)[0].toUpperCase();return(0,d.jsx)("div",{style:D,children:(0,d.jsx)("div",{style:P,children:(0,d.jsx)("div",{children:t})})})},te=()=>{if(L){if(Y)return(0,d.jsx)("div",{style:D,children:(0,d.jsx)("div",{style:F,children:(0,d.jsx)(s().I,{icon:o(947086).personSlashIcon,size:R-2,colorVariant:"tertiary"})})});if($)return(0,d.jsx)("div",{style:B,children:(0,d.jsx)(o(360083).A,{stripGoogleIconQuery:!0,url:$,isAuthenticated:!1,width:Math.max(Number(V.width),120),render:(e,t)=>X(t,H,D)})});if(H)return ee(H);if(G)return ee(G)}else if(_){if(!_.type&&_.avatarUrl)return(0,d.jsx)("div",{style:D,children:(0,d.jsx)("div",{style:B,children:X(_.avatarUrl,_.name)})});if(_.name)return ee(_.name);if(_.email)return ee(_.email)}return Z()};switch(I){case"avatar":{const e=(0,d.jsx)("div",{style:f,children:te()});return q&&W&&E?(0,d.jsx)(o(436525).D,{userStore:W,spaceStore:E,children:e}):t?(0,d.jsx)(o(26697).m,{renderTooltip:J,placement:"bottom",alignment:"start",delayThreshold:C,render:t=>(0,d.jsx)("div",{style:f,"aria-label":K,...t,children:e})}):e}case"avatar-name":case"avatar-name-email":return Q("avatar-name"===I);default:(0,o(534177).HB)(I)}}},460957:(e,t,o)=>{o.d(t,{E:()=>a});o(581454);var n=()=>o(201980),r=()=>o(718957),i=()=>o(29554);function a(e){const{multiSelection:t}=e;return(0,r().$W)(t).map((({store:e,selection:t})=>{const o=(0,n().RQ)(e.getValue()),r=(0,n().xbM)(o,t),{tokensInsideRange:a}=(0,n().AI5)(o,r.startIndex,r.endIndex);return(0,i().r4)(a,e)})).join("\n\n")}},466721:(e,t,o)=>{o.r(t),o.d(t,{STORE_MAX_LIMIT:()=>x,initializePageVisit:()=>w,updatePageVisits:()=>_});o(898992),o(354520),o(581454);var n=()=>o(907258),r=()=>o(770063),i=()=>o(273648),a=()=>o(90023),s=()=>o(179034),l=()=>o(874852),c=()=>o(559653),d=()=>o(161479),u=()=>o(743246),p=()=>o(496603),m=()=>o(534177),f=()=>o(211716),g=()=>o(499764),v=()=>o(299545),h=()=>o(41161),y=()=>o(129286),S=()=>o(769864);const b=32,x=100;async function w(e,t){await n().default.waitUntilRendered();const{fromPageRefresh:o,blockStore:i,pageVisitStore:p,timestamp:m,type:b}=t,x=e.currentUser.id;if(void 0===x||o)return;t.blockStore.id!==p.state.pageId&&p.setState({...p.getInitialState(),pageId:t.blockStore.id});const w=(0,r().v3)(i,{table:c().F9,id:(0,c().$5)({parent_id:i.id,user_id:x}),spaceId:(0,d().e)(i.pointer.spaceId)}),_=(0,r().v3)(i,{table:l().ou,id:(0,c().$5)({parent_id:i.id,user_id:x}),spaceId:(0,d().e)(i.pointer.spaceId)});if(await y().transactionQueue.awaitRecordTransaction({table:s().ev,id:i.id}),await(0,v().hS)(i),!i.canRead()||(0,g().qb)(e,i,i.getSpaceStore()))return;await w.load(),await _.load();const C=w.getKeyStore("visited_at").getValue(),M=_.getKeyStore("exited_at").getValue(),k=await async function(e,t,o,n,r){const{id:i}=e.currentUser,s=t.id,l=t.getSystemBlockTypeStore().getValue();if((0,a().kR)(l))return{type:"skipped"};const c=t.getParentTable()===u().C0;if(c)return{type:"skipped"};if(i&&"passive"!==r){var d;null==e||null===(d=e.mobileNative)||void 0===d||d.recordPageVisit(i,{blockId:s,spaceId:o,visitedAt:n}),h().A.recordVisit({id:s,systemBlockType:l,type:f().ig.Default,currentUserId:i})}const p=await S().callApi({eventName:"recordPageVisit",environment:e,data:{block:{id:s,spaceId:o},timestamp:n,type:r},headers:{recordId:s,spaceId:o}});return p}(e,i,(0,d().e)(i.pointer.spaceId),m,b);if("skipped"===k.type)return;if("failed"===k.type)return;const A=I({pageVisits:k.data.pageVisits,currentState:p.state,blockStore:i,totalCount:p.state.totalCount,hasMore:void 0});p.state.pageId===i.id&&p.setState({...A,lastViewTime:C,lastExitTime:M})}async function _(e,t){await n().default.waitUntilRendered();const o=e.currentUser.id;if(void 0===o)return;const{blockStore:r,pageVisitStore:i,incremental:a}=t,s=t.limit||b;let l;if(a){const{pageId:e,lastViewTime:t,lastExitTime:n,totalCount:r,hasMore:a,...s}=i.state,c=Object.entries(s).map((([e,t])=>{if(o===e)return;const n=t.getVisitedAt();return void 0!==n?n+1:void 0}));l=p().T9(c.filter(m().O9))}const c=await S().callApi({eventName:"getPageVisitors",environment:e,data:{block:{id:r.id,spaceId:(0,d().e)(r.pointer.spaceId)},sinceTimestamp:l,limit:s,includeTotalCount:t.includeTotalCount},headers:{recordId:r.id,spaceId:(0,d().e)(r.pointer.spaceId)}});if("failed"===c.type)return;const u=I({pageVisits:c.data.pageVisits,blockStore:r,currentState:i.state,totalCount:c.data.totalCount,hasMore:c.data.hasMore});let f;if(Object.keys(u).length<=x)f=u;else{const{pageId:e,lastViewTime:t,lastExitTime:o,totalCount:n,hasMore:r,...i}=u,a=(0,m().WP)(i).map((([e,t])=>[e,t.getVisitedAt()??0]));f={pageId:e,lastViewTime:void 0,lastExitTime:void 0,totalCount:n,hasMore:r};const s=p().Ul(a,(([,e])=>-e)).slice(0,x);for(const[l]of s)f[l]=u[l]}i.state.pageId===u.pageId&&i.setState(f)}function I(e){const{blockStore:t,pageVisits:o,currentState:n,totalCount:r,hasMore:a}=e,s={...n,pageId:t.id,totalCount:r,hasMore:a};for(const l of o){const{id:e,user_id:o}=l;o in s||(s[o]=i()._.createChildStore(t,{table:c().F9,id:e,spaceId:(0,d().e)(t.pointer.spaceId)}))}return s}},471095:(e,t,o)=>{o.r(t),o.d(t,{iconDefinition:()=>n,lockFillIcon:()=>r});o(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"3.97 1.95 12.05 15.66",svg:(0,o(474848).jsx)("path",{d:"M6 5.95a4 4 0 1 1 8 0v1.433a2.426 2.426 0 0 1 2.025 2.392v5.4A2.425 2.425 0 0 1 13.6 17.6H6.4a2.425 2.425 0 0 1-2.425-2.425v-5.4c0-1.203.876-2.201 2.025-2.392zm6.75 1.4v-1.4a2.75 2.75 0 1 0-5.5 0v1.4zm-2.2 5.458a1.35 1.35 0 1 0-1.1 0v1.242a.55.55 0 0 0 1.1 0z"})},r=(0,o(340498).wt)("lockFill",n,"fill")},495576:(e,t,o)=>{o.d(t,{d:()=>k});var n=o(296540),r=()=>o(968578),i=()=>o(484714),a=()=>o(590526),s=()=>o(69708),l=()=>o(896628),c=()=>o(401497),d=()=>o(534177),u=()=>o(738471),p=o(474848);function m({src:e,placeholderSrc:t,placeholderBehavior:o,imageStyle:r,containerStyle:i,onLoadComplete:a,testId:s}){const[l,m]=(0,n.useState)(!0);let f;switch(o){case"force-show-placeholder":f=!0;break;case"force-show-src":f=!1;break;case"show-placeholder-if-loading-src":f=!!t&&(l||void 0===e);break;default:(0,d().HB)(o)}const g=(0,c().IS)((()=>{const e={gridColumn:1,gridRow:1};return{container:{display:"grid",...i},srcWrapper:{...f&&{display:"none"},...e},placeholderWrapper:{pointerEvents:"none",...e}}}),[i,f]);(0,n.useEffect)((()=>{void 0!==e&&m(!0)}),[e]);const v=(0,n.useCallback)((e=>{m(!1),null==a||a()}),[a]);return(0,p.jsxs)("div",{style:g.container,children:[(0,p.jsx)(u().A,{src:e,onLoad:v,style:r,placeholderStyle:g.srcWrapper,placeholderLoadedStyle:g.srcWrapper,testId:s}),t?(0,p.jsx)(u().A,{src:t,style:r,placeholderStyle:g.placeholderWrapper,placeholderLoadedStyle:g.placeholderWrapper}):void 0]})}var f=()=>o(19771),g=()=>o(360083),v=()=>o(801678),h=()=>o(504023),y=()=>o(821507),S=()=>o(568365),b=()=>o(77246),x=()=>o(867772),w=()=>o(547149),_=()=>o(79926);const I=new(_().O2)("AnimatedCoverImageActionBar",(async()=>Promise.all([o.e(75134),o.e(35530),o.e(36556),o.e(55373),o.e(36192),o.e(27992),o.e(63452),o.e(66249),o.e(87249),o.e(79022),o.e(34877),o.e(12039),o.e(40454)]).then(o.bind(o,166913)))),C=(0,_()._h)(I,(e=>e.AnimatedCoverImageActionBar)),M=280;function k(e){const{store:t,disabled:o,paddingRight:c,paddingLeft:d,height:u,proxyWidth:_}=e,I=(0,s().tz)(),k=(0,i().v3)(),T=(0,i().Y0)(),j=(0,a().uB)(void 0,r().A),E=(0,a().K8)((()=>o||"suggest"===b().Uv.getMode(t)||(0,y().aD)(T)),[o,t,T]),R=(0,a().K8)((()=>t.getCover()),[t]),P=(0,a().O$)(S().M),D=(0,h().x)(t.id),[B,V]=(0,n.useState)(void 0);if(!R)return null;const F=P.loadingMode!==x().pF&&P.loadingMode!==x().Wc;return(0,p.jsx)(v().A,{mouseStore:j,onFlushTemporaryPosition:e=>function(e,t,o){const{imagePosition:n,reset:r}=e;w().createAndCommit({userAction:"PageCover.handleFlushTemporaryPosition",environment:o,canUndo:!0,perform:e=>{l().yY({store:t,coverPosition:n,transaction:e}),r()}})}(e,t,k),renderControl:({handleRepositionClick:e,handleSavePositionClick:o,handleCancelClick:n,isVisible:r,isRepositioning:i})=>E?null:(0,p.jsx)(C,{store:t,mouseStore:j,imageUrl:B,handleRepositionClick:e,handleSavePositionClick:o,handleCancelClick:n,visible:r||D,isRepositioning:i,paddingLeft:d,paddingRight:c}),source:"page",store:t,style:{display:"flex",flexDirection:"column",alignItems:"center",height:u,maxHeight:M,cursor:"default"},preventClickPropagation:!0,render:e=>(0,p.jsxs)(n.Fragment,{children:[(0,p.jsx)(g().A,{url:R.cover,isAuthenticated:!0,permissionRecord:R.pointer,width:_,onFinishedLoadingProxyUrl:V,render:(t,o)=>{const n={width:"100%",height:u,maxHeight:M,objectFit:"cover",opacity:F?.5:1,objectPosition:`center ${100*(1-(e.imagePosition||0))}%`,borderRadius:0},r={width:"100%",height:u,maxHeight:M};return(0,p.jsx)(m,{src:o,placeholderSrc:F?P.dataURL:void 0,placeholderBehavior:F?"force-show-placeholder":"show-placeholder-if-loading-src",containerStyle:r,imageStyle:n,onLoadComplete:A,testId:"pageCover"})}},R.pointer.id),F?(0,p.jsx)(f().X,{variant:"spinner",percentage:P.uploadProgress,text:void 0!==P.uploadProgress?void 0:P.progressText}):D?(0,p.jsx)(f().X,{variant:"dots",text:I.formatMessage({id:"CoverImageActionBar.generatingCover",defaultMessage:"Generating..."})}):void 0]})})}function A(){S().M.reset()}},497577:(e,t,o)=>{o.d(t,{E:()=>i});var n=()=>o(401497),r=()=>o(100622);function i(e){const{size:t,style:o}=e;return(0,n().IS)((()=>({icon:{width:.6*t,height:.6*t,fill:r().Tj.text.secondary},iconContainer:{width:t,height:t,borderRadius:"100%",background:r().Tj.border.secondaryTranslucent,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,...o}})),[t,o])}},526278:(e,t,o)=>{o.r(t),o.d(t,{arrowStraightLeftIcon:()=>r,iconDefinition:()=>n});o(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"2.37 3.97 15.26 12.06",directional:!0,svg:(0,o(474848).jsx)("path",{d:"M2.411 9.79a.6.6 0 0 1 .147-.232l5.4-5.4a.625.625 0 1 1 .884.884L4.509 9.375H17a.625.625 0 1 1 0 1.25H4.509l4.333 4.333a.625.625 0 1 1-.884.884l-5.4-5.4a.62.62 0 0 1-.147-.651"})},r=(0,o(340498).wt)("arrowStraightLeft",n,"default")},526905:(e,t,o)=>{o.d(t,{b9:()=>p,bS:()=>u,xA:()=>m});o(581454);var n=()=>o(907258),r=()=>o(416504),i=()=>o(763884),a=()=>o(72234),s=()=>o(866805),l=()=>o(547149);const c=144e5,d=new Map;function u(e){return`${e}:user_first_active_today`}function p(e){var t;const o=function(e){let t=d.get(e);return t||(t=new Intl.DateTimeFormat("en-CA",{timeZone:e,year:"numeric",month:"2-digit",day:"2-digit"}),d.set(e,t)),t}((null===(t=n().default.state.currentUserSettingsStore)||void 0===t||null===(t=t.getSettings())||void 0===t?void 0:t.time_zone)??(0,r().P)()),i=o.formatToParts(new Date(e-c)),a=Object.fromEntries(i.map((e=>[e.type,e.value])));return`${a.year??"0000"}-${a.month??"00"}-${a.day??"00"}`}async function m(e){var t;const{environment:r,userId:c,spaceId:d}=e;if(!(0,s().OE)())return!1;const m=Date.now(),f=p(m),g=i().K.get({userId:c,key:u(d)});if((null==g?void 0:g.dateBucket)===f)return!1;const v=await async function(e){const t=n().default.state.sidebarSpaceViewStore;if(t&&t.getSpaceId()===e)return await t.load(),t}(d);if(!v)return!1;const h=v.getSettings();if((null==h?void 0:h.user_daily_first_active_local_date_bucket)===f)return i().K.set({userId:c,key:u(d),value:{dateBucket:f,triggeredAt:h.user_daily_first_active_at_utc??m}}),!1;i().K.set({userId:c,key:u(d),value:{dateBucket:f,triggeredAt:m}});const{maybeUpdateDailyBriefPageIfTemplateUpdated:y}=await Promise.all([o.e(35530),o.e(9773),o.e(55373),o.e(36192),o.e(71562),o.e(96346),o.e(27992),o.e(63452),o.e(66249),o.e(92845),o.e(87249),o.e(79022),o.e(44854),o.e(87017),o.e(34877),o.e(46414),o.e(11676),o.e(61165),o.e(47668),o.e(94522),o.e(44584),o.e(24587),o.e(67494),o.e(3651),o.e(40992),o.e(88455),o.e(33893),o.e(48486),o.e(56351)]).then(o.bind(o,833779));await y({environment:r,spaceViewStore:v});const S=null==h||null===(t=h.agent_personalization_settings)||void 0===t?void 0:t.daily_brief_prompt;if(null==S||!S.tooltip_dismissed_at){const{startDailyBriefChat:e}=await Promise.all([o.e(35530),o.e(9773),o.e(55373),o.e(36192),o.e(71562),o.e(96346),o.e(27992),o.e(63452),o.e(66249),o.e(92845),o.e(87249),o.e(79022),o.e(44854),o.e(87017),o.e(34877),o.e(46414),o.e(11676),o.e(61165),o.e(47668),o.e(94522),o.e(44584),o.e(24587),o.e(67494),o.e(3651),o.e(40992),o.e(88455),o.e(33893),o.e(48486),o.e(73199)]).then(o.bind(o,30154));await e({environment:r,showChatSidebarSource:"daily_brief_reminder",skipOpeningPanel:!0})}return l().createAndCommit({environment:r,userAction:"dailyFirstActivityActions.markTriggered",canUndo:!1,perform:e=>{a().AG(v,e,{user_daily_first_active_local_date_bucket:f,user_daily_first_active_at_utc:m})}}),!0}},529099:(e,t,o)=>{o.r(t),o.d(t,{aiFaceIcon:()=>i,iconDefinition:()=>r});o(296540);var n=o(474848);const r={viewBox:"0 0 20 20",fittedViewBox:"4.13 2.52 13.27 14.61",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M12.758 9.976a1.178 1.178 0 1 0 .377-2.326 1.178 1.178 0 0 0-.377 2.326M6.547 8.97a1.178 1.178 0 1 0 .377-2.327 1.178 1.178 0 0 0-.377 2.326"}),(0,n.jsx)("path",{d:"M10.573 5.554a3.917 3.917 0 0 1 6.743.035.625.625 0 1 1-1.08.63 2.667 2.667 0 0 0-4.591-.023l-5.398 9.015 4.192.68a.625.625 0 0 1-.2 1.233l-5.102-.827a.625.625 0 0 1-.436-.938zM4.36 3.517a3.92 3.92 0 0 1 5.572.356.625.625 0 1 1-.945.818 2.67 2.67 0 0 0-3.795-.243.625.625 0 1 1-.833-.931"})]})},i=(0,o(340498).wt)("aiFace",r,"default")},529803:(e,t,o)=>{o.d(t,{A:()=>r});class n extends(()=>o(757695))().Store{}const r=new n},539412:(e,t,o)=>{o.d(t,{$y:()=>y,jc:()=>h,x9:()=>v});o(296540);var n=()=>o(564884),r=()=>o(484714),i=()=>o(590526),a=()=>o(212473),s=()=>o(922189),l=()=>o(69708),c=()=>o(209660),d=()=>o(511393),u=()=>o(529803),p=()=>o(780262),m=()=>o(807778),f=()=>o(671812),g=o(474848);function v(){const e=(0,i().K8)((()=>{const{editsBlocked:e}=p().A.state;return e??!1}),[]);return(0,i().K8)((()=>(0,m().Jq)()),[])&&e}function h(){return(0,i().K8)((()=>{var e;const t=u().A.state;return null==t||null===(e=t.data)||void 0===e?void 0:e.invoiceHostedUrl}),[])}function y(){const e=(0,r().v3)(),t=h(),o=(0,i().K8)((()=>{var e;const t=u().A.state;return(null==t||null===(e=t.data)||void 0===e?void 0:e.overdueInvoiceCount)??0}),[]),n=(0,i().K8)((()=>(0,d().h)(e)),[e]),p=function(e,t){if(e)return t>1?(0,g.jsx)(l().sA,{defaultMessage:"Access to Notion is limited because we couldn’t process {overdueInvoiceCount, plural, one {your last payment} other {{overdueInvoiceCount} payments}}.",id:"uncollectibleExperience.uncollectibleExperienceOverlay.multipleInvoicesMessageContent",values:{overdueInvoiceCount:t}}):(0,g.jsx)(l().sA,{defaultMessage:"Access to Notion is limited because we couldn’t process your last payment",id:"uncollectibleExperience.uncollectibleExperienceOverlay.messageContent"});return(0,g.jsx)(l().sA,{id:"uncollectibleExperience.uncollectibleExperienceOverlay.memberMessageContent",defaultMessage:"Access to Notion is limited"})}(n,o),m=function(e){if(e)return;return(0,g.jsx)(l().sA,{id:"uncollectibleExperience.uncollectibleExperienceOverlay.memberSecondaryLabel",defaultMessage:"Contact a workspace owner to update your workspace’s payment method"})}(n),v=function(e,t,o){if(t){const n=(0,f().a)(o);return o=>{n&&(S(t,e),n(o))}}return o=>{S(t,e),c().Ow()}}(e,n,t),y=function(e){if(e)return(0,g.jsx)(l().sA,{defaultMessage:"View unpaid invoice",id:"uncollectibleExperience.uncollectibleExperienceOverlay.buttonLabel"});return(0,g.jsx)(l().sA,{id:"uncollectibleExperience.uncollectibleExperienceOverlay.memberButtonLabel",defaultMessage:"View workspace owner"})}(n);return{clickAction:v,ctaMessage:y,primaryMessage:p,secondaryMessage:m,ctaIcon:n?a().arrowUpRightSquareIcon:s().personCircleFillIcon,tooltipBodyMessage:n?y:m,isWorkspaceOwner:n,overdueInvoiceCount:o}}function S(e,t){(0,n().u)({environment:t,event:{eventName:"subscription_uncollectible_blurred_experience_cta_clicked",eventProperties:{is_workspace_owner:e}}})}},541235:(e,t,o)=>{o.d(t,{Ud:()=>a,YD:()=>i,c$:()=>n,q_:()=>r});const n={"sprints-onboarding":{steps:[{id:"current-sprint-view-tooltip"},{id:"sprint-task-tooltip"},{id:"complete-sprint-button-tooltip"}]},"enhanced-qna-onboarding":{steps:[{id:"find-in-tooltip"},{id:"mention-tooltip"}]},"jira-sync-onboarding":{steps:[{id:"all-projects-tooltip"},{id:"all-issues-tooltip"},{id:"database-views-and-filters-tooltip"},{id:"settings-to-setup-projects-and-issues"}]},"project-management-import-onboarding":{steps:[{id:"your-teamspace-tooltip"},{id:"all-projects-tooltip"},{id:"navigate-to-project-tasks-tooltip"},{id:"project-customization-tooltip"},{id:"related-tasks-database-views-tooltip"}]},"ai-comment-onboarding":{steps:[{id:"ai-comment-onboarding-tooltip"}]},database_onboarding:{steps:[{id:"database_onboarding_status_property_tooltip"},{id:"database_onboarding_add_property_tooltip"},{id:"database_onboarding_database_page_tooltip"},{id:"database_onboarding_board_view_tooltip"}]},"new-user-home-workspace-tour":{steps:[{id:"teamspaces"}]}},r="completed",i="dismissed";function a(e,t){return null==t?void 0:t[e]}},546461:(e,t,o)=>{o.d(t,{K4:()=>x,To:()=>C,fi:()=>w,q8:()=>b,u:()=>S});o(16280),o(18107),o(967357);var n=o(296540),r=()=>o(484714),i=()=>o(792485),a=()=>o(590526),s=()=>o(79926),l=()=>o(140934),c=()=>o(322867),d=()=>o(69708),u=()=>o(534177),p=()=>o(813297),m=()=>o(326887),f=()=>o(862292),g=()=>o(190019),v=()=>o(76190),h=o(474848);const y=(0,n.createContext)({ancestors:[]});y.displayName="AutomationContext";y.Consumer;function S(e){const{automationStore:t,children:o,contextType:S,enableExistenceGuarantees:b}=e,x=(0,r().v3)(),w=(0,d().tz)(),{value:C}=(0,s().fJ)(f().T.formulas),{value:M}=(0,s().fJ)(p().QV.automationTypecheck),k=(0,v().n)(t),A=(0,i().S)(),T=(0,a().K8)((()=>{if(!C)return{error:new(c().N9)("Missing formulas dependency")};if(!M)return{error:new(c().N9)("Missing automation dependency")};const e=function(e){const{environment:t,automationStore:o,automationTypecheckModule:n,contextType:r,formulasModule:i,intl:a,isSubscribed:s,pageStore:c,enableExistenceGuarantees:d}=e,p=function(e,t){if(t)return _.get(e);return _.get(e)??I.get(e)}(o,d);if(p)return p;const f=new(l().ComputedStore)((()=>{const e=o.getTriggerType();let l=r;return(0,u().O9)(e)&&(0,m().x2)(e)&&(l=(0,m().H8)(e)),(0,g().Z)({environment:t,automationStore:o,automationTypecheckModule:n,contextType:l,formulasModule:i,intl:a,isSubscribed:s,pageStore:c,enableExistenceGuarantees:d})}),{debugName:"automationContextTypecheckResultCachedStore"});return function(e,t,o){o?(_.set(e,t),I.set(e,t)):I.set(e,t)}(o,f,d),f}({automationStore:t,automationTypecheckModule:M,contextType:S,environment:x,formulasModule:C,intl:w,isSubscribed:k,pageStore:"button_block"===S?null==A?void 0:A.pageStore:void 0,enableExistenceGuarantees:b});return e.state}),[x,t,M,S,C,w,k,null==A?void 0:A.pageStore,b]),j=(0,n.useContext)(y),E=(0,n.useMemo)((()=>0===j.ancestors.length?[{automationStore:t,contextType:S,typecheckResult:T}]:[...j.ancestors,{automationStore:t,contextType:S,typecheckResult:T}]),[j,t,S,T]),R=(0,n.useMemo)((()=>({ancestors:E,enableExistenceGuarantees:b})),[E,b]);return(0,h.jsx)(y.Provider,{value:R,children:o})}function b(){const e=(0,n.useContext)(y).ancestors.at(-1);if(!e)throw new Error("No automation context found!");return e}function x(){return(0,n.useContext)(y).ancestors.at(-1)}function w(){return(0,n.useContext)(y).enableExistenceGuarantees}const _=new WeakMap,I=new WeakMap;function C(e){var t;return null===(t=_.get(e))||void 0===t?void 0:t.state}},550368:(e,t,o)=>{o.d(t,{a:()=>u});var n=o(296540),r=()=>o(401497),i=()=>o(100622),a=()=>o(534177),s=()=>o(284371),l=()=>o(699143),c=()=>o(493552),d=o(474848);const u=n.forwardRef((function({additionalContent:e,description:t,isDisabled:o,isSelected:a,label:c,name:u,onChange:f,width:g="fill",selectorSize:v="normal",selectAlignXAxis:h="left",selectAlignYAxis:y="center",selectType:S="checkbox",style:b,supportText:x,value:w,colorVariant:_,alignAdditionalContent:I,...C},M){const k=(0,n.useId)(),A=function(e){const{isSelected:t,isDisabled:o,selectAlignYAxis:n,alignAdditionalContent:a}=e;return(0,r().IS)((()=>{const e=t&&!o?i().Tj.blue.border.accentPrimary:i().Tj.border.primary;return{container:{display:"flex",alignItems:a??"center",gap:12,userSelect:"none",paddingTop:9,paddingInlineEnd:16,paddingBottom:10,paddingInlineStart:10,borderRadius:6,border:`1px solid ${e}`,...!o&&{cursor:"pointer"}},title:{fontWeight:s().Wy.medium,fontSize:14,userSelect:"none",lineHeight:18},additionalContentWrapper:{flexShrink:0},selectorWrapper:{display:"flex",..."top"===n?{marginTop:2}:{}},rightAlignSelectorWrapper:{display:"flex"}}}),[t,o,n,a])}({isSelected:a,isDisabled:o,selectAlignYAxis:y,alignAdditionalContent:I}),T=(0,d.jsxs)(l().Y1,{direction:"horizontal",align:"top"===y?"top-left":"center-left",gap:12,width:g,children:[(0,d.jsx)("div",{style:A.selectorWrapper,children:(0,d.jsx)(m,{id:k,selectType:S,name:u,value:w,onChange:f,isSelected:a,selectorSize:v,isDisabled:o,...C})}),(0,d.jsx)(p,{colorVariant:_,description:t,label:c,selectorSize:v,supportText:x,isDisabled:o})]}),j=(0,d.jsxs)(l().Y1,{direction:"horizontal",align:"top"===y?"top-center":"center",gap:12,children:[(0,d.jsx)(p,{colorVariant:_,description:t,label:c,selectorSize:v,supportText:x,isDisabled:o}),(0,d.jsx)("div",{style:{...A.selectorWrapper,...A.rightAlignSelectorWrapper},children:(0,d.jsx)(m,{id:k,selectType:S,name:u,value:w,onChange:f,selectorSize:v,isSelected:a,isDisabled:o,...C})})]}),E=e?(0,d.jsx)("div",{style:A.additionalContentWrapper,children:e}):null;return(0,d.jsx)("label",{ref:M,style:{...A.container,...b},htmlFor:k,children:"left"===h?(0,d.jsxs)(d.Fragment,{children:[T,E]}):(0,d.jsxs)(d.Fragment,{children:[E,j]})})}));function p(e){const{description:t,label:o,supportText:n,selectorSize:r,isDisabled:i,colorVariant:s}=e;let u;return"large"===r?u="pageContentTextBlock":"normal"===r||void 0===r?u="bodySmMedium":"small"===r?u="captionRegular":(0,a().HB)(r),(0,d.jsxs)(l().Y1,{gap:4,children:[(0,d.jsxs)(l().Y1,{gap:2,children:[(0,d.jsx)(c().D,{styleKey:u,colorVariant:s||(i?"disabled":"primary"),children:o}),t?(0,d.jsx)(c().D,{styleKey:"captionRegular",colorVariant:i?"disabled":"secondary",children:t}):null]}),n?(0,d.jsx)(c().D,{styleKey:"captionMedium",colorVariant:"tertiary",children:n}):null]})}function m(e){const{selectType:t,selectorSize:n="normal",id:i,name:s,value:l,onChange:c,isSelected:u,isDisabled:p,...m}=e,f=(0,r().IS)((()=>({checkboxWrapper:{minWidth:18,display:"flex",justifyContent:"center"}})),[]);switch(t){case"radio":return(0,d.jsx)(o(266685).a,{id:i,name:s,value:l,onChange:c,checked:u,disabled:p,selectorSize:n,...m});case"checkbox":return(0,d.jsx)("div",{style:f.checkboxWrapper,children:(0,d.jsx)(o(665290).W,{id:i,name:s,value:l,onChange:c,checked:u,disabled:p,selectorSize:n,...m})});case"none":return null;default:(0,a().HB)(t)}}},551253:(e,t,o)=>{o.d(t,{I:()=>r});class n extends(()=>o(757695))().Store{getInitialState(){return{open:!1,direction:"back"}}}const r=new n},555267:(e,t,o)=>{o.d(t,{A:()=>l});var n=o(296540),r=()=>o(991003),i=()=>o(98126),a=()=>o(100622),s=o(474848);function l({loadingMessage:e}){const t=(0,r().A)(!0,400);return(0,s.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:t?(0,s.jsxs)(n.Fragment,{children:[(0,s.jsx)(i().k,{}),e?(0,s.jsx)("div",{style:{marginInlineStart:8,color:a().Tj.text.secondary},children:e}):void 0]}):void 0})}},556122:(e,t,o)=>{o.d(t,{QJ:()=>m,TI:()=>c});o(944114),o(581454);var n=()=>o(726637),r=()=>o(763824);let i=0;const a="clipboard",s={debug:Boolean(n().A.isDevelopingInAirplaneMode),responseText:a,showErrorCode:!1,delayBetweenChunks:20,chunkSize:5,numLoremIpsums:3},l="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec porta auctor sem vel efficitur. Vivamus efficitur eros sed erat efficitur efficitur. Vivamus et augue vel est efficitur efficitur.";function c(){return s}function d(e){return{async*[Symbol.asyncIterator](){for(const t of e)await(0,r().wR)(s.delayBetweenChunks),yield t}}}function u(e,t){const o=Math.ceil(e.length/t),n=new Array(o);for(let r=0,i=0;r<o;++r,i+=t)n[r]=e.substr(i,t);return n}function p(e){return e.map((e=>({type:"success",p:"padding",completion:e,inferenceId:"mock"})))}async function m({environment:e,data:t}){console.log("Retrieving fake completion for data",t);const{context:o}=t,r=o.selectedText,c=[];let{responseText:m}=s;if(m===a&&(m=await async function(){try{return await navigator.clipboard.readText()}catch(e){return}}()??"Unable to retrieve clipboard text."),void 0===m&&(c.push({type:"success",p:"padding",completion:"\n",inferenceId:"mock"},{type:"success",p:"padding",completion:"this is ",inferenceId:"mock"},{type:"success",p:"padding",completion:"fake ",inferenceId:"mock"},{type:"success",p:"padding",completion:`streaming response ${i++}.`,inferenceId:"mock"}),n().A.isDevelopingInAirplaneMode&&c.push({type:"success",p:"padding",completion:"\n\nTo see a real AI response, run the server with `--airplaneMode=false`.",inferenceId:"mock"}),"string"==typeof r)){c.push({type:"success",p:"padding",completion:"\n\nHere is the text you selected:\n\n",inferenceId:"mock"});for(const e of u(r,s.chunkSize))c.push({type:"success",completion:e,p:"padding",inferenceId:"mock"})}if(s.showErrorCode)c.push({type:"error",message:"alas",errorCode:s.showErrorCode,isRetryable:!1});else if(void 0===m)for(let n=0;n<s.numLoremIpsums;n++)c.push(...p([`\n\n${n+1}. `,...u(l,0===s.delayBetweenChunks?l.length:s.chunkSize)]));else if(m.length>0){const e=u(m,s.chunkSize);c.push(...p(e))}return Promise.resolve({type:"success",data:d(c),status:200,headers:{}})}(0,o(852832).exposeDebugValue)("completionDebugSettings",s)},557297:(e,t,o)=>{o.d(t,{lz:()=>i,nO:()=>r,wl:()=>a});var n=()=>o(79926);const r={chatSidebar:new(n().O2)("chatSidebar",(()=>Promise.all([o.e(35530),o.e(55373),o.e(36192),o.e(44711),o.e(53321),o.e(67539),o.e(27992),o.e(63452),o.e(66249),o.e(87249),o.e(79022),o.e(34877),o.e(11676),o.e(61165),o.e(94522),o.e(44584),o.e(40992),o.e(88455),o.e(36437),o.e(87289),o.e(18503),o.e(11386),o.e(28463),o.e(2703)]).then(o.bind(o,942646)))),chatSidebarActions:new(n().O2)("chatSidebarActions",(async()=>await Promise.resolve().then(o.bind(o,703748)))),chatSidebarHelpers:new(n().O2)("chatSidebarHelpers",(async()=>await Promise.resolve().then(o.bind(o,770160)))),chatSidebarModeButton:new(n().O2)("chatSidebarModeButton",(async()=>await Promise.all([o.e(75134),o.e(35530),o.e(9773),o.e(55373),o.e(36192),o.e(71562),o.e(96346),o.e(44711),o.e(53321),o.e(51220),o.e(16471),o.e(37353),o.e(37571),o.e(29151),o.e(40118),o.e(50397),o.e(62475),o.e(3151),o.e(98629),o.e(27992),o.e(63452),o.e(66249),o.e(92845),o.e(87249),o.e(79022),o.e(44854),o.e(87017),o.e(34877),o.e(46414),o.e(11676),o.e(61165),o.e(47668),o.e(94522),o.e(44584),o.e(24587),o.e(67494),o.e(3651),o.e(38293),o.e(40992),o.e(88455),o.e(64556),o.e(33893),o.e(91793),o.e(55162),o.e(71003),o.e(32370),o.e(26264),o.e(36437),o.e(50363),o.e(42660),o.e(44590),o.e(55113),o.e(85071),o.e(7914),o.e(25588),o.e(68637),o.e(23640),o.e(72252),o.e(93134),o.e(12452),o.e(52871),o.e(29351),o.e(18825),o.e(71853),o.e(93049),o.e(22582),o.e(18636),o.e(87289),o.e(16060),o.e(34281),o.e(48376),o.e(35279),o.e(80229),o.e(77754),o.e(71309),o.e(74562),o.e(39986),o.e(47431),o.e(47160),o.e(76677),o.e(68609),o.e(15553),o.e(77345),o.e(67720),o.e(37759),o.e(41423),o.e(21627),o.e(57924),o.e(77777),o.e(17729),o.e(23493),o.e(42810),o.e(20741),o.e(16866),o.e(18503),o.e(83271),o.e(33695),o.e(85673),o.e(92926),o.e(94814)]).then(o.bind(o,256499)))),dockedSidebar:new(n().O2)("dockedSidebar",(async()=>await Promise.all([o.e(35530),o.e(55373),o.e(36192),o.e(44711),o.e(53321),o.e(67539),o.e(27992),o.e(63452),o.e(66249),o.e(87249),o.e(79022),o.e(34877),o.e(11676),o.e(61165),o.e(94522),o.e(44584),o.e(40992),o.e(88455),o.e(36437),o.e(87289),o.e(18503),o.e(11386),o.e(28463)]).then(o.bind(o,217609)))),mobileChatModal:new(n().O2)("mobileChatModal",(async()=>await Promise.all([o.e(35530),o.e(55373),o.e(36192),o.e(27992),o.e(63452),o.e(66249),o.e(87249),o.e(79022),o.e(34877),o.e(11676),o.e(61165),o.e(94522),o.e(44584),o.e(40992),o.e(88455),o.e(11386),o.e(63454)]).then(o.bind(o,257819))))},i=(0,n()._h)(r.chatSidebar,(e=>e.ChatSidebar)),a=(0,n()._h)(r.chatSidebarModeButton,(e=>e.ChatSidebarModeButtonPopupContents))},562984:(e,t,o)=>{o.d(t,{i:()=>i,u:()=>r});var n=()=>o(79926);const r={PersonProfileContainer:new(n().O2)("PersonProfileContainer",(()=>Promise.all([o.e(75134),o.e(71003),o.e(32370),o.e(26264),o.e(80229),o.e(71309),o.e(47431),o.e(14699),o.e(26126),o.e(95576),o.e(77093),o.e(26962),o.e(44632)]).then(o.bind(o,557558)))),extendedUserProfileActions:new(n().O2)("extendedUserProfileActions",(()=>o.e(63717).then(o.bind(o,260513))))},i=(0,n()._h)(r.PersonProfileContainer,(e=>e.PersonProfileContainer))},563692:(e,t,o)=>{o.r(t),o.d(t,{iconDefinition:()=>n,xMarkFillSmallIcon:()=>r});o(296540);const n={viewBox:"0 0 16 16",fittedViewBox:"3.03 3.03 9.94 9.94",svg:(0,o(474848).jsx)("path",{d:"M12.73 4.33a.75.75 0 1 0-1.06-1.06L8 6.94 4.33 3.27a.75.75 0 1 0-1.06 1.06L6.94 8l-3.67 3.67a.75.75 0 1 0 1.06 1.06L8 9.06l3.67 3.67a.75.75 0 0 0 1.06-1.06L9.06 8z"})},r=(0,o(340498).wt)("xMarkFillSmall",n,"fillSmall")},564704:(e,t,o)=>{o.d(t,{Y:()=>s,x:()=>l});var n=()=>o(917908),r=()=>o(459621),i=()=>o(619553),a=()=>o(414754);function s(e,t){const o="back"===t?-1:1,i=n().H.peekEntry(o);i&&(0,r().x)(e,{url:i.url,position:"after-children"})}function l(e,t,o){const r=function(e){const{entries:t,activeIndex:o}=n().H.getState();if(void 0===o)return;const r=t.findIndex((t=>t.historyId===e));if(-1===r)return;return r-o}(t);if(void 0===r)return;const s=n().H.peekEntry(r);s&&(o?(0,i().B)({environment:e,url:s.url,makeTabActive:!1,position:"after-children",openInNew:o}):(0,a().o)({environment:e,offset:r}))}},567121:(e,t,o)=>{o.d(t,{EG:()=>a,K5:()=>i,RH:()=>r,Yi:()=>s,ls:()=>n});const n=32,r=202,i=1e3,a="Want to add a metric? Look for 'src/client/performanceToolbar/config.ts' in notion-next.",s="To disable the toolbar entirely, go to the 'Experiments' panel and look for the 'performance_debugging_toolbar' flag."},568365:(e,t,o)=>{o.d(t,{M:()=>n});const n=new(o(867772).Ay)},573792:(e,t,o)=>{o.d(t,{DW:()=>l,R1:()=>c,lx:()=>s});var n=()=>o(726637),r=()=>o(418135),i=()=>o(175947),a=()=>o(100622);function s(){return{height:"100%",flexGrow:0,marginInlineEnd:8,fontSize:14,minWidth:0}}function l({environment:e,isShowingTabBar:t,shouldShowSidebar:o,isSidebarExpanded:a,isSecondarySidebarVisible:s,isBrowserFullScreen:l,shouldRenderTemplateGalleryTopbar:c,allowOverflow:d,zoom:u}){const{device:p}=e,m=p.isElectronMac&&(!o||!a&&!s)&&!l&&!t,f=p.isElectronWindows&&!t,g=f&&(!o||!a&&!s);let v=i().ek(p.isElectronMac);return c&&(v=i().Hi),{display:"flex",justifyContent:"space-between",alignItems:"center",overflow:d?"visible":"hidden",height:v,paddingInlineStart:m?(0,r().n$)(u):g?46:n().A.isMobile?4:12,paddingInlineEnd:f?(0,r().yA)(u)+4:n().A.isMobile?4:10}}function c(){return{flex:"none",width:1,height:16,marginInlineStart:8,marginInlineEnd:8,background:a().Tj.border.primaryTranslucent}}},578194:(e,t,o)=>{o.d(t,{r:()=>n});const n=(0,o(583835).Dv)("importEvernote")},580648:(e,t,o)=>{o.d(t,{o:()=>c});o(296540);var n=()=>o(590526),r=()=>o(914462),i=()=>o(69708),a=()=>o(173783),s=()=>o(187820),l=o(474848);function c(e){const{group:t}=e,o=e.size??20,c=(0,i().tz)(),d=(0,n().K8)((()=>{if(t&&t.icon)return{pointer:t.pointer,icon:t.icon}}),[t]),u=(0,n().K8)((()=>(0,r().n)({intl:c,permissionGroupModel:t})),[c,t]);return(0,l.jsx)("div",{children:d?(0,l.jsx)(s().B6,{disabled:!0,size:o,icon:d,isEmptyPage:!1,title:u}):(0,l.jsx)(a().A,{size:o})})}},589407:(e,t,o)=>{o.r(t),o.d(t,{ellipsisIcon:()=>r,iconDefinition:()=>n});o(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"2.62 8.62 14.76 2.76",svg:(0,o(474848).jsx)("path",{d:"M4 11.375a1.375 1.375 0 1 0 0-2.75 1.375 1.375 0 0 0 0 2.75m6 0a1.375 1.375 0 1 0 0-2.75 1.375 1.375 0 0 0 0 2.75m6 0a1.375 1.375 0 1 0 0-2.75 1.375 1.375 0 0 0 0 2.75"})},r=(0,o(340498).wt)("ellipsis",n,"default")},591197:(e,t,o)=>{o.d(t,{VY:()=>s,ZJ:()=>i,u3:()=>a});var n=()=>o(140934);class r extends(()=>o(757695))().Store{getInitialState(){return{popupRenderedInPage:!1,popupRenderedInPeekView:!1}}}const i=new r,a=new(n().ComputedStore)((()=>!1!==i.state.popupRenderedInPage),{debugName:"AssistantWriterRenderedInPageStore"}),s=new(n().ComputedStore)((()=>!1!==i.state.popupRenderedInPeekView),{debugName:"AssistantWriterRenderedInPeekViewStore"})},595939:(e,t,o)=>{o.d(t,{OY:()=>s,S4:()=>a,Wu:()=>l});var n=()=>o(680074),r=()=>o(547149),i=()=>o(680977);function a(e){const{environment:t,preference:o}=e,a=(0,n().R$)(t);a&&(r().createAndCommit({environment:t,userAction:"userSettingsActions.setContrastPreference",canUndo:!0,cellTarget:"main",perform:e=>{(0,i().m)({userSettingsStore:a,transaction:e,data:{contrast_preference:o}})}}),s(o))}async function s(e){document.body.setAttribute("data-contrast",e);("high"===e||"auto"===e&&window.matchMedia("(prefers-contrast: more)").matches)&&await o.e(76353).then(o.bind(o,811300))}function l(e){const t=(0,n().R$)(e);return(null==t?void 0:t.getSettingsStore().getKeyStore("contrast_preference").getValue())??"auto"}},607567:(e,t,o)=>{o.d(t,{Z:()=>i});o(296540);var n=o(474848);const r={viewBox:"0 0 20 20",fittedViewBox:"2.37 4.12 16.74 14.99",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M4.5 4.125A2.125 2.125 0 0 0 2.375 6.25v7.5c0 1.174.951 2.125 2.125 2.125h5.702a4.7 4.7 0 0 1-.2-1.25H4.5a.875.875 0 0 1-.875-.875V7.5h12.75v2.535a4.7 4.7 0 0 1 1.25.684V6.25A2.125 2.125 0 0 0 15.5 4.125zm.758 1.684a.625.625 0 1 1-1.25 0 .625.625 0 0 1 1.25 0m1.375-.625a.625.625 0 1 1 0 1.25.625.625 0 0 1 0-1.25m2.625.625a.625.625 0 1 1-1.25 0 .625.625 0 0 1 1.25 0"}),(0,n.jsx)("path",{d:"M17.7 16.607a3.625 3.625 0 1 0-.893.878l1.223 1.427a.625.625 0 0 0 .94-.823zM12.375 14.5a2.375 2.375 0 1 1 4.75 0 2.375 2.375 0 0 1-4.75 0"})]})},i=(0,o(340498).wt)("browserMagnifyingGlass",r,"default")},608346:(e,t,o)=>{o.d(t,{m:()=>a});o(898992),o(354520),o(672577),o(581454);var n=o.n(o(844751)),r=o(296540),i=()=>o(534177);function a({sections:e,filterQuery:t}){return(0,r.useMemo)((()=>e.map((e=>function(e,t){const{items:o,...r}=e;if(!t)return e;const i=o.filter((e=>e.keywords.find((e=>n().match(t,e)))));return i.length>0?{...r,items:i}:void 0}(e,t))).filter(i().O9)),[t,e])}},611947:(e,t,o)=>{o.r(t),o.d(t,{checkIsTutorialDone:()=>g,dismissTutorial:()=>d,resetTutorials:()=>u,tutorialAdvanceToStep:()=>p,tutorialAdvanceToStepAfter:()=>m,tutorialGoToNextStep:()=>l,tutorialGoToPrevStep:()=>c,tutorialGoToStep:()=>f});var n=()=>o(907258),r=()=>o(541235),i=()=>o(680977),a=()=>o(547149),s=()=>o(646355);function l(e,t,o){var r;const{currentUserSettingsStore:a}=n().default.state;if(!a)return;const l=null===(r=a.getSettings())||void 0===r?void 0:r.tutorials;o?(0,i().m)({userSettingsStore:a,transaction:o,data:{tutorials:{...l,[t]:(0,s().i9)(a,t)}}}):v({userAction:"TutorialActions.nextStep",environment:e,perform:e=>{(0,i().m)({userSettingsStore:a,transaction:e,data:{tutorials:{...l,[t]:(0,s().i9)(a,t)}}})},userId:a.id})}function c(e,t){var o;const{currentUserSettingsStore:r}=n().default.state;if(!r)return;const a=null===(o=r.getSettings())||void 0===o?void 0:o.tutorials;v({userAction:"TutorialActions.prevStep",environment:e,perform:e=>{(0,i().m)({userSettingsStore:r,transaction:e,data:{tutorials:{...a,[t]:(0,s().KD)(r,t)}}})},userId:r.id})}function d(e,t){var o;const{currentUserSettingsStore:a}=n().default.state;if(!a)return;const s=null===(o=a.getSettings())||void 0===o?void 0:o.tutorials;(null==s?void 0:s[t])!==r().YD&&v({userAction:"TutorialActions.dismissTutorial",environment:e,perform:e=>{(0,i().m)({userSettingsStore:a,transaction:e,data:{tutorials:{...s,[t]:r().YD}}})},userId:a.id})}function u(e){const{currentUserSettingsStore:t}=n().default.state;t&&v({userAction:"TutorialActions.resetTutorialsDebug",environment:e,perform:e=>{(0,i().m)({userSettingsStore:t,transaction:e,data:{tutorials:{}}})},userId:t.id})}function p(e,t,o){var a;const{currentUserSettingsStore:l}=n().default.state;if(!l||(0,s().x$)(l,t))return;const c=(0,s().gt)(l,t);r().c$[t].steps.findIndex((e=>e.id===c))>=r().c$[t].steps.findIndex((e=>e.id===o))||(0,i().m)({userSettingsStore:l,transaction:e,data:{tutorials:{...null===(a=l.getSettings())||void 0===a?void 0:a.tutorials,[t]:o}}})}function m(e,t,o){if((0,s().ll)(o))return;const n=(0,s().tb)(t,o);n&&p(e,t,n)}function f(e,t,o,r){var a;const{currentUserSettingsStore:s}=n().default.state;if(!s)return;const l=null===(a=s.getSettings())||void 0===a?void 0:a.tutorials;r?(0,i().m)({userSettingsStore:s,transaction:r,data:{tutorials:{...l,[t]:o}}}):v({userAction:"TutorialActions.nextStep",environment:e,perform:e=>{(0,i().m)({userSettingsStore:s,transaction:e,data:{tutorials:{...l,[t]:o}}})},userId:s.id})}function g(e){const{currentUserSettingsStore:t}=n().default.state;return!!t&&(0,s().x$)(t,e)}function v(e){return a().createAndCommit({...e,canUndo:!1})}},612900:(e,t,o)=>{o.d(t,{u:()=>i});var n=()=>o(79926);const r=new(n().O2)("PulsingWrapper",(async()=>o.e(45248).then(o.bind(o,673962)))),i=(0,n().jQ)(r,(e=>e.PulsingWrapper),{renderLoading:(e,t)=>t.children})},613016:(e,t,o)=>{o.d(t,{a:()=>r});var n=()=>o(907258);function r(){const{sidebarSpaceStore:e}=n().default.getState();return e?e.id:void 0}},613885:(e,t,o)=>{o.d(t,{k:()=>r});var n=()=>o(726637);function r(e,t){const o=n().A.isMobile?2:3;return t.slice(0,o)}},619553:(e,t,o)=>{o.d(t,{B:()=>a});var n=()=>o(459621),r=()=>o(59145),i=()=>o(441748);function a({openInNew:e,url:t,makeTabActive:o,position:a,isNewPage:s,environment:l}){"tab"===e&&o?(0,r().x)(l,{url:t,position:a,makeTabActive:o,isNewPage:s}):"tab"!==e||o?"window"===e&&(0,i().E)(t):(0,n().x)(l,{url:t,position:a})}},621594:(e,t,o)=>{o.r(t),o.d(t,{exclamationMarkCircleSmallIcon:()=>i,iconDefinition:()=>r});o(296540);var n=o(474848);const r={viewBox:"0 0 16 16",fittedViewBox:"1.87 1.87 12.25 12.25",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M7.9 4.875a.625.625 0 0 0-.625.625V8a.625.625 0 1 0 1.25 0V5.5a.625.625 0 0 0-.625-.625m0 4.7a.725.725 0 1 0 0 1.45.725.725 0 0 0 0-1.45"}),(0,n.jsx)("path",{d:"M8 1.875a6.125 6.125 0 1 0 0 12.25 6.125 6.125 0 0 0 0-12.25M3.125 8a4.875 4.875 0 1 1 9.75 0 4.875 4.875 0 0 1-9.75 0"})]})},i=(0,o(340498).wt)("exclamationMarkCircleSmall",r,"small")},625194:(e,t,o)=>{o.d(t,{m:()=>a});var n=o(296540),r=()=>o(96330),i=o(474848);const a=n.memo((function(e){const{textValue:t}=e,o=(0,n.useMemo)((()=>(0,r().X1)((0,r().eC)(t))),[t]);return(0,i.jsx)("span",{children:o})}))},627503:(e,t,o)=>{o.d(t,{a:()=>r});o(296540);const n={viewBox:"0 0 16 16",fittedViewBox:"1.37 1.37 13.25 13.25",svg:(0,o(474848).jsx)("path",{d:"M3.25 1.375c-1.036 0-1.875.84-1.875 1.875v6c0 1.036.84 1.875 1.875 1.875h1.625v1.625c0 1.036.84 1.875 1.875 1.875h6c1.036 0 1.875-.84 1.875-1.875v-6c0-1.036-.84-1.875-1.875-1.875h-1.625V3.25c0-1.036-.84-1.875-1.875-1.875zM2.625 3.25c0-.345.28-.625.625-.625h6c.345 0 .625.28.625.625v1.625H6.75c-1.036 0-1.875.84-1.875 1.875v3.125H3.25a.625.625 0 0 1-.625-.625zm3.5 3.5c0-.345.28-.625.625-.625h6c.345 0 .625.28.625.625v6c0 .345-.28.625-.625.625h-6a.625.625 0 0 1-.625-.625z"})},r=(0,o(340498).wt)("duplicateSmall",n,"small")},646355:(e,t,o)=>{o.d(t,{KD:()=>l,gt:()=>c,i9:()=>s,ll:()=>i,tb:()=>a,x$:()=>r});o(18107),o(967357);var n=()=>o(541235);function r(e,t){return i(c(e,t))}function i(e){return void 0!==e&&(e===n().q_||e===n().YD)}function a(e,t){if(i(t))return;const o=n().c$[e],r=o.steps.findIndex((e=>e.id===t));return-1===r?o.steps[0].id:r===o.steps.length-1?n().q_:o.steps[r+1].id}function s(e,t){const o=c(e,t);if(o&&!i(o))return a(t,o)}function l(e,t){const o=c(e,t);if(o)return function(e,t){const o=n().c$[e];var r;if(i(t))return null===(r=o.steps.at(-1))||void 0===r?void 0:r.id;const a=o.steps.findIndex((e=>e.id===t));return-1!==a&&0!==a?o.steps[a-1].id:void 0}(t,o)}function c(e,t){var o;if(!e)return;const r=((null===(o=e.getSettings())||void 0===o?void 0:o.tutorials)||{})[t];return void 0===r?n().c$[t].steps[0].id:r}},662971:(e,t,o)=>{o.d(t,{A:()=>m});var n=o(296540),r=()=>o(30537);const i=function(){const[e,t]=n.useState({x:0,y:0});return n.useEffect((()=>{const e=e=>{t({x:e.clientX,y:e.clientY})};return window.addEventListener("mousemove",e),()=>{window.removeEventListener("mousemove",e)}}),[]),e};var a=o(474848);function s({x:e,mouseX:t}){return t>e?void 0:-Math.max(e-t,10)+"px"}function l({x:e,width:t,mouseX:o}){return o>e?-Math.max(o-(e+t),10)+"px":void 0}function c({x:e,width:t,mouseX:o}){return o>e?`${Math.max(o-(e+t),10)}px`:`${Math.max(e-o,10)}px`}function d({x:e,y:t,height:o,mouseX:n,mouseY:r}){return n>e?`polygon(0% 0%, 0% 100%, 100% ${100*(r-t)/o}%)`:`polygon(100% 0%, 0% ${100*(r-t)/o}%, 100% 100%)`}function u(e){const{x:t=0,y:o=0,height:r=0,width:u=0}=e.el.getBoundingClientRect()||{},{x:p,y:m}=i(),f={x:t,y:o,height:r,width:u,mouseX:p,mouseY:m},g=(0,n.useRef)(null),v=n.useCallback((e=>{if(g.current){g.current.style.pointerEvents="none";const t=document.elementFromPoint(e.clientX,e.clientY);if(g.current.style.pointerEvents="auto",t){const o=new MouseEvent(e.nativeEvent.type,e.nativeEvent);t.dispatchEvent(o)}}}),[]),h={insetInlineEnd:l(f),insetInlineStart:s(f),height:r,width:c(f),clipPath:d(f)};return(0,a.jsx)("div",{ref:g,onClick:v,style:{cursor:"pointer",position:"absolute",pointerEvents:"auto",top:0,...h}})}function p({onClick:e,renderOrigin:t,renderExtension:i,allowOptionalExtensionMenu:s,...l},c){const{disabled:d,disableDefaultClick:p,onFocus:m,focused:f,openOnFocus:g,placementToOrigin:v,alignmentToOrigin:h,disableCloseOnEnter:y,bottomSheetInitialState:S,popupTypeOverride:b}=l,x=(0,o(484714).WS)(),w=(0,o(546926).Tf)(),[_,I]=(0,n.useState)(!1),C=(0,n.useRef)(null),M=(0,n.useRef)(null),k=(0,n.useRef)(null),A=(0,n.useRef)(null),T=(0,n.useCallback)((()=>{k.current&&window.clearTimeout(k.current),A.current&&window.clearTimeout(A.current),k.current=null,A.current=null}),[]),j=(0,n.useCallback)((()=>{T(),d||I(!0)}),[d,T]),E=(0,n.useCallback)((()=>{T(),I(!1)}),[T]),R=(0,n.useCallback)((e=>{T(),_||(e&&e.preventDefault&&e.preventDefault(),k.current=window.setTimeout(j,120))}),[_,T,j]),P=(0,n.useCallback)((()=>{T(),_&&(A.current=window.setTimeout(E,100))}),[_,E,T]),D=(0,n.useCallback)((t=>{m(),j(),s&&(null==e||e(t),E())}),[m,j,s,e,E]),B=(0,n.useCallback)((()=>{R()}),[R]),V=(0,n.useCallback)((()=>{m(),R()}),[m,R]),F=(0,n.useCallback)((e=>{if(o(726637).A.isMobile)return;const t=C.current;_&&t&&!t.contains(e.target)&&E()}),[_,E]),U=(0,n.useCallback)((e=>{13===e.keyCode&&_&&!y&&E()}),[_,E,y]);(0,n.useEffect)((()=>{if(!Boolean(p))return window.addEventListener("click",F),()=>{window.removeEventListener("click",F)}}),[p,F]),(0,n.useEffect)((()=>(window.addEventListener("keydown",U),()=>{window.removeEventListener("keydown",U)})),[U]);const O=(0,n.useRef)(f);(0,n.useEffect)((()=>{g&&!O.current&&f?R():!f&&O.current&&P(),O.current=f}),[f,g,R,P]);const N=(0,o(401497).IS)((()=>({mobilePopupStyle:{borderRadius:12,backgroundColor:o(100622).Tj.background.secondary}})),[]),z={...(0,o(383036).A)({onMouseEnter:B,onClick:D},l),showExtensionArrow:!0};let L=r().n.Popup;return b?L=b:x&&(L=w?r().n.BottomSheet:r().n.SlideUp),(0,a.jsx)(o(782482).N,{debugName:"ExtensionMenuItem",capture:f,onEnter:_?void 0:R,onRight:R,onLeft:_?P:void 0,onEsc:_?P:void 0,children:(0,a.jsx)(o(127833).zD,{popupType:L,bottomSheetInitialState:S,open:_,origin:t(z,c),placementToOrigin:v??"right",alignmentToOrigin:h??"center",originGap:0,disableMouseCapture:!0,preventBlockRenderQueueOnEnter:!0,preventScaleTransition:!x,preventCaptureEsc:!0,ref:C,render:()=>(0,a.jsxs)(a.Fragment,{children:[!x&&M.current?(0,a.jsx)(u,{el:M.current}):null,(0,a.jsx)("div",{ref:M,style:{height:"100%"},children:i({onMouseEnter:V},{close:P})})]}),style:{overflow:"visible",...x&&N.mobilePopupStyle},trapFocus:!0,onDismiss:E})})}const m=n.forwardRef(p)},665290:(e,t,o)=>{o.d(t,{W:()=>d});o(296540);var n=()=>o(819121),r=()=>o(401497),i=()=>o(451306),a=()=>o(73956),s=()=>o(100622),l=()=>o(807449),c=o(474848);function d(e){const{selectorSize:t="normal",...o}=e,{disabled:d,checked:u}=o,[p,m]=(0,n().A)(),f=function(e){const{checked:t,disabled:o,isFocusVisible:n,selectorSize:i}=e;return(0,r().IS)((()=>({root:{position:"absolute",display:"flex",width:"large"===i?15:11,height:"large"===i?15:11,margin:1.5,justifyContent:"center",alignItems:"center",flexShrink:0,borderRadius:"large"===i?2:1,transition:"background 100ms ease-out",...t?{boxShadow:`0 0 0 1.5px ${o?s().Tj.background.tertiaryTranslucent:s().Tj.blue.background.accentPrimary}`,background:o?s().Tj.background.tertiaryTranslucent:s().Tj.blue.background.accentPrimary}:{boxShadow:`0 0 0 1.5px ${o?s().Tj.background.tertiaryTranslucent:s().Tj.border.strongTranslucent}`,background:s().Tj.background.primary},...n&&{boxShadow:s().Tj.buttonBlueFocusRing}},active:{background:t?s().Tj.blueButtonPressedBackground:s().Tj.buttonHoveredBackground},input:{opacity:0,width:"large"===i?18:void 0,height:"large"===i?18:void 0,...o?{pointerEvents:"none"}:{cursor:"pointer"}}})),[i,t,o,n])}({checked:u,disabled:d,selectorSize:t,isFocusVisible:m});return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("input",{ref:p,type:"checkbox",style:f.input,...o}),(0,c.jsx)("span",{...(0,i().ow)(f.root,d?{}:{pseudoActive:f.active}),children:u?(0,c.jsx)(l().I,{icon:a().checkmarkFillSmallIcon,colorPalette:"blue",colorVariant:"inversePrimary",size:"large"===t?"xs":"xxs"}):void 0})]})}},671089:(e,t,o)=>{o.r(t),o.d(t,{checkmarkCircleIcon:()=>i,iconDefinition:()=>r});o(296540);var n=o(474848);const r={viewBox:"0 0 20 20",fittedViewBox:"2.37 2.37 15.25 15.26",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M12.876 7.982a.625.625 0 1 0-1.072-.644L9.25 11.595 7.815 9.92a.625.625 0 0 0-.95.813l2 2.334a.625.625 0 0 0 1.01-.085z"}),(0,n.jsx)("path",{d:"M10 2.375a7.625 7.625 0 1 0 0 15.25 7.625 7.625 0 0 0 0-15.25M3.625 10a6.375 6.375 0 1 1 12.75 0 6.375 6.375 0 0 1-12.75 0"})]})},i=(0,o(340498).wt)("checkmarkCircle",r,"default")},673657:(e,t,o)=>{o.d(t,{n:()=>i});var n=()=>o(590526),r=()=>o(964345);function i(e){return(0,n().K8)((()=>r().gZ.state&&(null==e?void 0:e.id)===r().Di.state),[e])}},704658:(e,t,o)=>{o.r(t),o.d(t,{UpgradeButton:()=>v});o(296540);var n=()=>o(593531),r=()=>o(406094),i=()=>o(69708),a=()=>o(86269),s=()=>o(839897),l=()=>o(674482),c=()=>o(24796),d=o(474848);function u(e){var t;const{upgradeStatus:o,handleClick:n,size:u="default",width:p="fill",hoverRef:m,onMouseDown:f,upsell:g,featureName:v}=e,h=(0,i().tz)(),y=(0,s().e)(o),S=y.label.button({intl:h,upsell:g,featureName:v}),b=Boolean(y.disabledTooltip),x=(0,a().Lo)({width:p}),{animationState:w,animationTriggers:_}=(0,a().lP)(m);return(0,d.jsx)(c().T,{tooltipMessage:b&&!m?null===(t=y.disabledTooltip)||void 0===t?void 0:t.call(y,{intl:h,upsell:g,featureName:v}):void 0,children:(0,d.jsx)(r().A,{...m?{}:_,disabled:b,hoveredStyle:m?{background:"unset"}:void 0,size:l().lR[u],iconLeading:{...(0,a().e4)({icon:y.icon({upsell:g}),animationState:w}),size:l().Ud[u]},style:x,onClick:n,onMouseDown:f,children:S})})}var p=()=>o(160432);function m(e){var t;const{upsell:o,upgradeStatus:n,handleClick:r,onMouseDown:a,featureName:u}=e,m=(0,i().tz)(),f=(0,s().e)(n),g=f.label.button({intl:m,upsell:o,featureName:u}),v=Boolean(f.disabledTooltip);return(0,d.jsx)(c().T,{tooltipMessage:v?null===(t=f.disabledTooltip)||void 0===t?void 0:t.call(f,{intl:m,upsell:o,featureName:u}):void 0,children:(0,d.jsx)(p().A,{colorPalette:"blue",disabled:v,size:l().lR.default,onClick:r,onMouseDown:a,children:g})})}var f=()=>o(986321),g=()=>o(408543);function v({source:e,upsell:t,featureName:o,hoverRef:r,onMouseDown:i,postUpgradeCallback:a,onClickBeforeUpgradeAction:s,spaceStore:l,...c}){const{upgradeEligibility:p,handleClick:v}=(0,g().C)({upsell:t,source:e,buttonDisplayType:c.display,onClickBeforeUpgradeAction:s,postUpgradeCallback:a,spaceStore:l});if(!p||"not_eligible"===p.status&&"feature_not_upsellable"===p.reason)return null;switch(c.display){case"button":return(0,d.jsx)(u,{upgradeStatus:p.status,handleClick:v,upsell:t,featureName:o,hoverRef:r,onMouseDown:i,...c});case"icon":return(0,d.jsx)(n().c,{upgradeStatus:p.status,handleClick:v,upsell:t,featureName:o,hoverRef:r,onMouseDown:i,...c});case"text":return(0,d.jsx)(f().c,{upgradeStatus:p.status,handleClick:v,upsell:t,featureName:o,hoverRef:r,onMouseDown:i,...c});case"primary":return(0,d.jsx)(m,{upgradeStatus:p.status,handleClick:v,upsell:t,featureName:o,onMouseDown:i,...c})}}},721253:(e,t,o)=>{o.d(t,{lv:()=>h,C5:()=>g,u7:()=>f,uh:()=>v});var n=()=>o(560198),r=()=>o(267785),i=()=>o(100622);const a="theme";var s=()=>o(534177),l=()=>o(44551);var c=()=>o(20822),d=()=>o(661179);const u=15;function p(e,t){const{ThemeStore:o}=e,{mode:s,usingSystemTheme:c}=t;if(n()._u)return;const d={mode:s};var u,p;o.setState(d),e.mobileNative&&e.mobileNative.setTheme(s,c),u=function(e,t){const o=(0,i().O4)({theme:e});return{mode:e,usingSystemTheme:t,colors:{white:i().oZ.white,blue:i().oZ.blue},borderRadius:4,textColor:o.text.primary,popoverBackgroundColor:o.popoverBackground,popoverBoxShadow:o.shadowMD,inputBoxShadow:o.inputBoxShadow,inputBackgroundColor:o.inputBackground,dividerColor:o.border.primaryTranslucent,shadowOpacity:0}}(s,c),null===l().electronApi||void 0===l().electronApi||null===(p=l().electronApi.setTheme)||void 0===p||p.call(l().electronApi,u);try{localStorage.setItem(a,JSON.stringify(d))}catch(m){(0,r().x)(a,JSON.stringify(d),"ThemeActions",m)}f(s),"dark"===s?(document.body.classList.add("dark"),document.body.classList.add("notion-dark-theme")):(document.body.classList.remove("dark"),document.body.classList.remove("notion-dark-theme"))}const m={scrollbarTrack:{light:"rgba(0, 0, 0, 0)",dark:"rgba(0, 0, 0, 0)"},scrollbarThumb:{light:"#D3D1CB",dark:"rgba(255, 255, 255, 0.2)"}};function f(e){if(0===d().A.state)return;const t=document.getElementById("scroll-properties");t&&(t.innerHTML=`\n\t\t* {\n\t\t\tscrollbar-width: ${u}px;\n\t\t\tscrollbar-color: ${m.scrollbarThumb[e]}  ${m.scrollbarTrack[e]};\n\t\t}\n\t`)}function g(e){c().A.setState(e)}function v(e){const t=h();switch(t){case"dark":case"light":p(e,{mode:t,usingSystemTheme:!1});break;case"system":!async function(e){const{mobileNative:t}=e;let o="light";o=t&&t.api.getTheme?await t.api.getTheme():(0,n().VD)(e),p(e,{mode:o,usingSystemTheme:!0})}(e);break;default:(0,s().HB)(t)}}function h(){const e=c().A.state||"system";return"dark"===(t=e)||"light"===t||"system"===t?t:"system";var t}},730307:(e,t,o)=>{o.d(t,{l:()=>m});var n=()=>o(779315),r=()=>o(292985),i=()=>o(161479),a=()=>o(878523),s=()=>o(129522),l=()=>o(404783),c=()=>o(555776),d=()=>o(116008),u=()=>o(36088),p=()=>o(405981);async function m(e){var t;const{environment:o,blockStore:m,rect:f,property_id:g,from:v}=e;if(d().A.hasContent())return void(0,p()._y)({environment:o,reason:"starting_new"});const h=s().K.getRect(m);if(!h)return;const y=new(l().A)(o,(0,i().e)(m.pointer.spaceId)),S=h.width,b=h.height,x=h.right-S;d().A.setState({open:!0,rect:f||new DOMRect(x,h.top,S,b),type:"block",content:"comment",blockStore:m,blockId:m.id,discussionInputStore:y,property_id:g,lastKnownBlockStore:m,from:v}),(0,r().V)({element:null===(t=n().A.UpdateSidebarCommentScroller)||void 0===t?void 0:t.getNode(),environment:o,options:{top:0,behavior:"smooth"}}),c().A.setActiveWithSource("text_annotation"),await(0,u().M)({discussionInputStore:y,environment:o}),a().j4(o,{from:v})}},736767:(e,t,o)=>{o.d(t,{A:()=>a});var n=o(296540),r=o(474848);function i(e,t){return(0,r.jsx)(o(424400).Ay,{...e,ref:t,style:{background:"none",borderBottom:"none",boxShadow:"",marginTop:2,marginBottom:6,paddingTop:4,paddingBottom:4,minHeight:"none",...e.style}})}const a=(0,n.forwardRef)(i)},738508:(e,t,o)=>{o.r(t),o.d(t,{cursorIcon:()=>i,iconDefinition:()=>r});o(296540);var n=o(474848);const r={viewBox:"0 0 20 20",fittedViewBox:"1.25 0 17.5 20",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("g",{className:"logo-light-mode",children:[(0,n.jsxs)("g",{clipPath:"url(#clip0_16020_205)",children:[(0,n.jsx)("path",{fill:"#757575",d:"m9.995 9.987 8.658 4.999a.6.6 0 0 1-.226.226l-8.092 4.672a.68.68 0 0 1-.68 0l-8.092-4.672a.6.6 0 0 1-.226-.226z"}),(0,n.jsx)("path",{fill:"#525252",d:"M9.995 0v9.987l-8.658 4.999a.6.6 0 0 1-.082-.309v-9.38c0-.22.117-.424.308-.534L9.655.09a.7.7 0 0 1 .34-.09"}),(0,n.jsx)("path",{fill:"#404040",d:"M18.652 4.989a.6.6 0 0 0-.225-.226L10.334.09A.7.7 0 0 0 9.995 0v9.987l8.658 4.999a.6.6 0 0 0 .083-.309v-9.38c0-.11-.03-.216-.083-.308"}),(0,n.jsx)("path",{fill:"#D9D9D9",d:"M18.047 5.339a.29.29 0 0 1 0 .29l-7.859 13.61c-.053.093-.193.055-.193-.05v-8.97a.4.4 0 0 0-.054-.201z"}),(0,n.jsx)("path",{fill:"#fff",d:"m18.047 5.339-8.106 4.68a.4.4 0 0 0-.147-.147L2.027 5.387c-.092-.053-.054-.193.052-.193h15.717c.111 0 .202.06.25.145"})]}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_16020_205",children:(0,n.jsx)("path",{fill:"#fff",d:"M1.255 0h17.49v20H1.256z"})})})]}),(0,n.jsxs)("g",{className:"logo-dark-mode",children:[(0,n.jsxs)("g",{clipPath:"url(#clip0_16020_213)",children:[(0,n.jsx)("path",{fill:"#6E6E6E",d:"m9.995 9.987 8.658 4.999a.6.6 0 0 1-.226.226l-8.092 4.672a.68.68 0 0 1-.68 0l-8.092-4.672a.6.6 0 0 1-.226-.226z"}),(0,n.jsx)("path",{fill:"#4A4A4A",d:"M9.995 0v9.987l-8.658 4.999a.6.6 0 0 1-.082-.309v-9.38c0-.22.117-.424.308-.534L9.655.09a.7.7 0 0 1 .34-.09"}),(0,n.jsx)("path",{fill:"#383838",d:"M18.652 4.989a.6.6 0 0 0-.225-.226L10.334.09A.7.7 0 0 0 9.995 0v9.987l8.658 4.999a.6.6 0 0 0 .083-.309v-9.38c0-.11-.03-.216-.083-.308"}),(0,n.jsx)("path",{fill:"#C9C9C9",d:"M18.047 5.339a.29.29 0 0 1 0 .29l-7.859 13.61c-.053.093-.193.055-.193-.05v-8.97a.4.4 0 0 0-.054-.201z"}),(0,n.jsx)("path",{fill:"#fff",d:"m18.047 5.339-8.106 4.68a.4.4 0 0 0-.147-.147L2.027 5.387c-.092-.053-.054-.193.052-.193h15.717c.111 0 .202.06.25.145"})]}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_16020_213",children:(0,n.jsx)("path",{fill:"#fff",d:"M1.255 0h17.49v20H1.256z"})})})]})]})},i=(0,o(340498).wt)("cursor",r,"default")},742734:(e,t,o)=>{o.d(t,{E:()=>a});var n=()=>o(230711),r=()=>o(590526),i=()=>o(304228);function a(e){const{spaceStore:t,viewedUserId:o}=e,a=(0,n().nB)(t),s=(0,n().V_)({spaceStore:t,userId:o});return(0,r().K8)((()=>(0,i().V)({spaceStore:t,actorRole:a,viewedRole:s})),[t,a,s])}},748054:(e,t,o)=>{o.d(t,{M:()=>r});o(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"3.97 2.68 12.51 14.37",svg:(0,o(474848).jsx)("path",{d:"M10.282 3.66a5.39 5.39 0 0 0-5.217-.54l-.711.305a.63.63 0 0 0-.38.575v12.425a.625.625 0 1 0 1.25 0v-3.913l.333-.142a4.14 4.14 0 0 1 4.008.414 5.39 5.39 0 0 0 5.504.405l1.06-.53a.63.63 0 0 0 .346-.56V4a.625.625 0 0 0-.905-.558l-1.06.53c-1.36.68-2.983.56-4.228-.312m-5.057 7.495V4.412l.332-.142a4.14 4.14 0 0 1 4.008.413 5.39 5.39 0 0 0 5.504.406l.156-.078v6.703l-.715.357c-1.36.68-2.983.56-4.228-.312a5.4 5.4 0 0 0-5.057-.604"})},r=(0,o(340498).wt)("flag",n,"default")},756114:(e,t,o)=>{o.d(t,{D:()=>n});function n(e,t){t.route.name;return!1}},763765:(e,t,o)=>{o.d(t,{t:()=>r});class n extends(()=>o(757695))().Store{getInitialState(){return{loaded:!1}}USEWITHCAUTION_markStatsigUserFetched(e){const{userId:t,spaceId:o,fetched:n}=e;this.setState({loaded:n,userId:t,spaceId:o})}USEWITHCAUTION_isFetchedForSpaceAndUserId(e){const{spaceId:t,userId:o}=e;return this.state.loaded&&this.state.spaceId===t&&this.state.userId===o}}const r=new n;(0,o(852832).exposeDebugValue)("statsigUserLoadingStatusStore",r)},780863:(e,t,o)=>{o.d(t,{p:()=>l});var n=o(296540),r=()=>o(40845),i=()=>o(496603),a=()=>o(440024);const s={isRepositioning:!1};function l(e){const{currentPosition:t,imageUrl:o,onSavePosition:l,onPositionChange:c,rootRef:d,environment:u}=e,[p,m]=(0,n.useState)(s),{isRepositioning:f}=p,g=(0,n.useCallback)((()=>{m(s)}),[]),v=(0,n.useMemo)((()=>void 0!==p.temporaryPosition?p.temporaryPosition:t),[p.temporaryPosition,t]);(0,n.useEffect)((()=>{c&&c(v)}),[v,c]);const h=(0,n.useCallback)((e=>{(0,a().I)({environment:u});const t=new Image;t.onload=()=>{m((e=>({...e,isRepositioning:!0,image:t})))};const n=e||o;n&&(t.src=n)}),[u,o]),y=(0,n.useCallback)((()=>{l(v),g()}),[l,v,g]),S=(0,n.useCallback)((()=>{g()}),[g]);(0,n.useEffect)((()=>{const e=e=>{const t=d.current;t&&e.target instanceof Node&&!t.contains(e.target)&&f&&y()};return f&&window.addEventListener("mousedown",e),()=>{window.removeEventListener("mousedown",e)}}),[f,y,d]);const b=(0,n.useCallback)((e=>{const{image:t}=p;if(!t||!f)return;const o=d.current;if(o&&o instanceof Element){const e=o.getBoundingClientRect().width/t.width*t.height;m((t=>({...t,startDragImageScreenHeight:e,startDragRenderedPosition:v})))}}),[p,f,v,d]),x=(0,n.useCallback)((e=>{if(!f)return;const{startDragImageScreenHeight:t,startDragRenderedPosition:o}=p,n=e.diffY/(t||0)+(o||0);m((e=>({...e,temporaryPosition:(0,i().LI)((0,r().A)(n,0,1),4)})))}),[f,p]),w=(0,n.useCallback)((()=>{m((e=>({...e,startDragImageScreenHeight:void 0,startDragRenderedPosition:void 0})))}),[]),_=(0,n.useMemo)((()=>f?"ns-resize":"default"),[f]);return{isRepositioning:f,currentImagePosition:v,handleDragStart:b,handleDragMove:x,handleDragEnd:w,handleStartReposition:h,handleSavePosition:y,handleCancelReposition:S,repositioningCursor:_}}},783793:(e,t,o)=>{o.d(t,{o:()=>c,x:()=>l});o(296540);var n=()=>o(401497),r=()=>o(100622),i=()=>o(278589),a=()=>o(200424),s=o(474848);function l(e){const{variant:t,imgSource:o,tintColor:a,faceStyle:l,shadowVariant:d="strong",style:u,...p}=e,m=(0,n().IS)((()=>{const e=(0,i().N)(t);return{faceImgWrap:{width:e,height:e,borderRadius:"100%",background:r().Tj.assistantCornerButtonBackground,..."strong"===d&&{boxShadow:e>=90?r().Tj.shadowMDThickerOutline:r().Tj.shadowMD},..."light"===d&&{borderRadius:"50%",boxShadow:e>=90?r().Tj.shadowSMThickerOutline:r().Tj.shadowSM},overflow:"hidden",...u}}}),[t,d,u]);return(0,s.jsx)("div",{...p,children:(0,s.jsx)("div",{style:m.faceImgWrap,children:(0,s.jsx)(c,{imgSource:o,variant:t,tintColor:a,style:l})})})}function c(e){const{imgSource:t,variant:o,tintColor:r,style:l,alt:c,...d}=e,u=(0,i().N)(o),p=t??a(),m=c??"Notion AI face",f=(0,n().IS)((()=>({faceImg:{height:u,width:u,transform:"scaleX(var(--direction, 1))",...l},tintedFace:{height:u,width:u,transform:"scaleX(var(--direction, 1))",backgroundColor:r,WebkitMaskImage:`url(${p})`,maskImage:`url(${p})`,WebkitMaskRepeat:"no-repeat",maskRepeat:"no-repeat",WebkitMaskPosition:"center",maskPosition:"center",WebkitMaskSize:"contain",maskSize:"contain",...l}})),[u,l,r,p]);return void 0!==r?(0,s.jsx)("div",{style:f.tintedFace,role:"img","aria-label":m}):(0,s.jsx)("img",{...d,style:f.faceImg,src:p,alt:m})}},786702:(e,t,o)=>{o.d(t,{w:()=>i});var n=()=>o(726637),r=()=>o(435386);function i(e){return(0,r().w)({url:e,config:n().A})}},791177:(e,t,o)=>{o.d(t,{$:()=>r});var n=o(296540);function r(){const[e,t]=(0,n.useState)({inputElementAttributes:void 0,suppressFocusRing:!1}),[o,r]=(0,n.useState)(!1),[i,a]=(0,n.useState)(!1);(0,n.useEffect)((()=>{if(o){function e(){a(!1)}function t(e){"ArrowDown"!==e.key&&"ArrowUp"!==e.key||a(!0)}return window.addEventListener("pointerdown",e),window.addEventListener("keydown",t),()=>{window.removeEventListener("pointerdown",e),window.removeEventListener("keydown",t)}}}),[o]);return[(0,n.useMemo)((()=>({inputElementAttributes:e.inputElementAttributes,suppressFocusRing:e.suppressFocusRing&&i,onFocus:()=>{r(!0)},onBlur:()=>{r(!1)}})),[e,i]),(0,n.useMemo)((()=>({setComboboxState:t,isFocusVisible:i,isComboboxFocused:o,onItemHover:()=>{a(!1)}})),[i,o])]}},797324:(e,t,o)=>{o.d(t,{A:()=>g});var n=o(296540),r=()=>o(560520),i=()=>o(484714),a=()=>o(790748),s=()=>o(581010),l=()=>o(69708),c=()=>o(100622),d=()=>o(284371),u=()=>o(396406),p=()=>o(718827),m=()=>o(843798),f=o(474848);function g(e){const{onDismiss:t,inputRef:o}=e,g=(0,i().Y0)(),v=(0,n.useRef)(null),h=g.isMobileNative&&g.isIOS,y=h&&e.show;(0,a().b)(s().A,(()=>({getNode:()=>v.current,isShown:()=>y})),[y]);const S=(0,r().n)(),b=(0,n.useCallback)((()=>{var e;null==o||null===(e=o.current)||void 0===e||e.focus(),t&&t();const n=document.activeElement;n instanceof HTMLElement&&n.blur()}),[o,t]);if(!h)return null;const x=y?-(m().j+S):0;return(0,f.jsx)(u().O,{open:!0,children:(0,f.jsx)("div",{style:{position:"fixed",top:"100vh",width:"100%",height:m().j,display:y?"flex":"none",alignItems:"center",justifyContent:"flex-end",backgroundColor:c().Tj.keyboardDoneBarBackground,transform:`translateY(${x}px)`,transition:y?"ease-out":"ease-in",boxShadow:y?`\n\t\t\t\t\t\t\t\t0 -1px 0 ${c().Tj.border.primaryTranslucent}\n\t\t\t\t\t\t\t`:void 0},ref:v,children:(0,f.jsx)(p().Ay,{style:{display:"flex",alignItems:"center",marginInlineEnd:16,color:c().oZ.blue,fontWeight:d().Wy.semibold},onTouchEnd:()=>{b()},children:(0,f.jsx)(l().sA,{defaultMessage:"Done",id:"mobile.dismissKeyboardBar.button.label"})})})})}},800140:(e,t,o)=>{o.d(t,{s:()=>i});var n=()=>o(917908),r=()=>o(414754);function i(e){n().H.canGoForward()&&(0,r().o)({environment:e,offset:1})}},801678:(e,t,o)=>{o.d(t,{A:()=>g});var n=o(296540),r=()=>o(756117),i=()=>o(590526),a=()=>o(609679),s=()=>o(69708),l=()=>o(100622),c=()=>o(496603),d=()=>o(806080),u=()=>o(284371),p=()=>o(720665),m=()=>o(46986),f=o(474848);const g=function(e){const t=(0,n.useRef)(null),r=(0,o(484714).v3)(),{renderControl:a,onFlushTemporaryPosition:s,style:l,source:u,store:g}=e,h=(0,i().K8)((()=>0===o(206051).default.state.stores.length),[]),[y,S]=(0,n.useState)(!1),b=(0,i().uB)(e.mouseStore,o(968578).A),x=(0,i().K8)((()=>b.state.mouseEntered),[b]),w=(0,i().K8)((()=>function(e,t){if("gallery"===e||"board"===e){const e=t.getFormat().card_cover_position;if((0,d().Et)(e))return e}const o=.5;var n;if((0,m().V)())return(null===(n=t.getCover())||void 0===n?void 0:n.cover_position)??o;if(t.isCollectionView()){const e=t.getCollectionStoreIfSingleSource();if(e){const t=e.getFormat().collection_cover_position;return(0,p().pN)(t)?o:t}}const r=t.getFormat(),i=r.page_cover_position;if((0,d().Et)(i))return i;return o}(u,g)),[u,g]),{isRepositioning:_,currentImagePosition:I,handleDragStart:C,handleDragMove:M,handleDragEnd:k,handleStartReposition:A,handleSavePosition:T,handleCancelReposition:j,repositioningCursor:E}=(0,o(780863).p)({currentPosition:w,onSavePosition:e=>{s({imagePosition:e,reset:()=>{b.reset()}})},rootRef:t,environment:r}),R=(0,o(401497).IS)((()=>({dragContainer:{width:"100%",cursor:E},container:{position:"relative",width:"100%",zIndex:1}})),[E]);_&&!h&&j();const P=(0,n.useMemo)((()=>(0,c().nF)((e=>{b.setState({...b.state,mouseEntered:!0})}),100)),[b]),D=(0,n.useMemo)((()=>(0,c().sg)((e=>{b.setState({...b.state,mouseEntered:!1})}),100)),[b]),B=(0,n.useCallback)(((e,t)=>{A(t)}),[A]),V=(0,n.useCallback)((e=>{T()}),[T]),F=(0,n.useCallback)((e=>{const t=e.target;void 0!==t&&t instanceof HTMLElement&&(0,o(819121).p)(t)&&S(!0)}),[]),U=(0,n.useCallback)((()=>{S(!0)}),[]),O=(0,i().K8)((()=>a({handleRepositionClick:B,handleSavePositionClick:V,handleCancelClick:j,isVisible:x||y||_,isRepositioning:_})),[B,V,j,y,_,x,a]),N=(0,o(870956).A)(Boolean(e.preventClickPropagation));return(0,f.jsxs)("div",{ref:t,onFocus:F,onBlur:U,onMouseEnter:P,onMouseMove:P,onMouseLeave:D,...N,...(0,o(451306).ow)(R.container,l),children:[(0,f.jsx)(o(222321).A,{onDraggableDragStart:C,onDraggableDragMove:M,onDraggableDragEnd:k,onDraggableDragCancel:k,disabled:!_,render:t=>(0,f.jsx)("div",{style:R.dragContainer,...t,children:e.render({imagePosition:I,isRepositioning:_})})}),(0,f.jsx)(v,{small:e.small,isRepositioning:_}),O]})};function v({small:e,isRepositioning:t}){if(e)return null;const o={background:l().IF.blackWithAlpha(.4),borderRadius:4,color:l().oZ.white,fontSize:12,fontFamily:u().vc(a().locale).sans,width:180,insetInlineStart:"calc(50% - 90px)",padding:"0.3em 1.5em 0.3em",pointerEvents:"none",position:"absolute",top:"calc(50% - 10px)",textAlign:"center"};return(0,f.jsx)(r().A,{visible:t,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:o,children:(0,f.jsx)(s().sA,{defaultMessage:"Drag image to reposition",id:"withImageRepositioning.dragImage.text"})})}},803074:(e,t,o)=>{o.d(t,{C4:()=>S,Nf:()=>x,qM:()=>b});o(16280),o(944114),o(898992),o(430670),o(581454);var n=()=>o(726637),r=()=>o(675133),i=()=>o(792057),a=()=>o(732810),s=()=>o(617871),l=()=>o(388693),c=()=>o(519831),d=()=>o(161479),u=()=>o(534177),p=()=>o(594794),m=()=>o(252833),f=()=>o(620791),g=()=>o(769864),v=()=>o(510683),h=()=>o(384944);const y=(0,o(69708).YK)({authError:{defaultMessage:"Auth failed. Please try again or contact Notion support.",id:"database.viewSettings.propertyTypeSection.connected.authFail"},mobileAdminError:{defaultMessage:"Ask your workspace admin to configure the GitHub (Workspace) app in settings to use this feature.",id:"database.viewSettings.propertyTypeSection.connected.mobileAdminError"},mobileError:{defaultMessage:"Please authorize this integration on the desktop app or a browser.",id:"database.viewSettings.propertyTypeSection.connected.mobileError"}});async function S(e,t,o,a){const s=null==t?void 0:t.getSpaceStore();if(!s)return;const l=(0,f().jw)(o.id).length;if(n().A.isMobile&&a&&!l){const e=r().A.formatMessage(y.mobileAdminError);throw i().f1(e),new Error(e)}if(n().A.isMobile&&!a&&!l){const e=r().A.formatMessage(y.mobileError);throw i().f1(e),new Error(e)}if(!l&&a&&s.canAdmin()||!l&&!a)try{await v().Jq({environment:e,integration:o,spaceId:s.id,from:"collection_settings_property_type"})}catch(c){const e=r().A.formatMessage(y.authError);throw i().f1(e),new Error(e)}if(!(0,f().jw)(o.id).length){const e=r().A.formatMessage(y.authError);throw i().f1(e),new Error(e)}}function b(e){const{environment:t,pattern:o,integration:n,parentCollectionStore:r,transaction:i}=e;if(!o.connected_relation_properties)throw new Error("Cannot create a connected relation collection without properties");const s=new(a().m)(t,(0,p().zP)({environment:t,table:c().Vl,spaceId:r.pointer.spaceId})),l={};o.connected_relation_sub_schemas&&(0,u().WP)(o.connected_relation_sub_schemas).map((([e,o])=>{const n=new(a().m)(t,(0,p().zP)({environment:t,table:c().Vl,spaceId:r.pointer.spaceId})),u={bot_id:void 0,external_object_id:void 0,uri:e,integration_id:void 0,is_placeholder:void 0,original_url:void 0,domain:void 0,external_schema:o,sync_state:void 0,pattern_name:void 0},m={id:n.id,version:0,space_id:(0,d().e)(r.pointer.spaceId),parent_table:c().Vl,parent_id:s.id,alive:!0,format:u,schema:{}};l[e]=n.id,h().zv({store:n,data:m,transaction:i})}));const f={id:s.id,version:0,space_id:(0,d().e)(r.pointer.spaceId),parent_table:c().Vl,parent_id:r.id,alive:!0,format:{attributes:[{id:"title",name:"title",type:"inline",format:{type:"title",section:"title"},values:[(0,m().Fe)({pattern:o,integration:n})]}],bot_id:void 0,external_object_id:void 0,uri:`notion://user-defined-collection/${n.id}/${o.name}`,integration_id:n.id,is_placeholder:void 0,original_url:void 0,domain:void 0,external_schema:o.connected_relation_properties,sync_state:void 0,pattern_name:o.name,related_external_object_uris_to_instance_ids:l},schema:{}};return h().zv({store:s,data:f,transaction:i}),s}async function x(e){const{bot:t,connected_relation_properties:o}=e;if(t.integration_id===s().Iy||t.integration_id===s().mn)return await async function(e){var t,o,n;const{environment:r,objectName:i,spaceId:a,bot:s}=e,c=await g().callApi({eventName:"describeSalesforceObject",environment:r,data:{spaceId:a,objectName:i,botId:s.id}});if("success"!==(null==c?void 0:c.type))return{error:l().qh.FAILED_TO_FETCH_SALESFORCE_PROPERTIES};var d,u;if((null===(t=c.data)||void 0===t?void 0:t.responseStatus)===l().qh.REAUTHENTICATION_REQUIRED||(null===(o=c.data)||void 0===o?void 0:o.responseStatus)===l().qh.NO_USER_API_ACCESS)return{error:`${null===(d=c.data)||void 0===d?void 0:d.responseStatus}:${null===(u=c.data)||void 0===u?void 0:u.userType}`};const p=null==c||null===(n=c.data)||void 0===n?void 0:n.properties;if(p){return{value:p.flatMap((e=>{const t=e.custom?e.label:e.relationshipName||e.label;return"User"===e.referenceTo||"Group"===e.referenceTo?[{id:e.name,name:t,isSelected:!1,type:e.type,metadata:e,isAlreadySynced:e.isAlreadySynced,isAdminNotAccessible:e.isAdminNotAccessible},{id:`mapped_${e.name}`,name:`${t} (Notion User)`,isSelected:!1,type:"person",metadata:e,isAlreadySynced:e.isAlreadySynced,isAdminNotAccessible:e.isAdminNotAccessible}]:[{id:"Name"===e.name?"title":e.name,name:"relation"===e.type?t:e.label,isSelected:!1,type:e.type,metadata:e,isAlreadySynced:e.isAlreadySynced,isAdminNotAccessible:e.isAdminNotAccessible}]}))}}return{error:l().qh.NO_PROPERTIES_FOUND}}(e);const n=[],r=o;for(const i in r){const e=r[i];null!=e&&e.name&&null!=e&&e.type&&n.push({id:i,name:e.name,isSelected:!1,type:e.type,metadata:{name:e.name,label:e.name,type:e.type,custom:!1},isAlreadySynced:!1})}return{value:n}}},803960:(e,t,o)=>{o.r(t),o.d(t,{arrowChevronSingleDownIcon:()=>r,iconDefinition:()=>n});o(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"3.97 6.97 12.06 6.66",svg:(0,o(474848).jsx)("path",{d:"M9.558 13.442c.244.244.64.244.884 0l5.4-5.4a.625.625 0 0 0-.884-.884L10 12.116 5.042 7.158a.625.625 0 1 0-.884.884z"})},r=(0,o(340498).wt)("arrowChevronSingleDown",n,"default")},811558:(e,t,o)=>{var n=o(746518),r=o(439928),i=o(225397),a=Array;n({target:"Array",proto:!0},{with:function(e,t){return r(i(this),a,e,t)}})},837622:(e,t,o)=>{o.d(t,{A:()=>u});var n=o(296540),r=()=>o(590526),i=()=>o(401497),a=()=>o(201980),s=()=>o(116008),l=()=>o(279115),c=()=>o(29554),d=o(474848);const u=n.memo((function(e){const{parentStore:t,withComma:u,linkifyUrls:p,disableCommentHighlight:m,disableLinks:f,shouldTruncate:g,clampLines:v,textValue:h}=e,y=(0,o(484714).v3)(),S=(0,i().DP)(),b=(0,o(712030).Ol)();(0,n.useEffect)((()=>{void 0!==h&&y.KatexStore.loadIfNeeded((()=>h))}),[y.KatexStore,h]);const{collectionContextStore:x,property:w}=(0,n.useContext)(o(971003).L8),{collectionViewBlockId:_,collectionViewId:I}=(0,r().K8)((()=>{var e,t;return{collectionViewId:null==x||null===(e=x.collectionViewStore())||void 0===e?void 0:e.id,collectionViewBlockId:null==x||null===(t=x.collectionViewBlockStore())||void 0===t?void 0:t.id}}),[x]),C=(0,r().K8)((()=>y.KatexStore.getKatex()),[y.KatexStore]),M=(0,r().K8)((()=>{const e=l().qu.state,o=l().wb.state;return e&&w&&h?c().nu({textValue:h,blockId:t.id,textProps:{type:"page_property_value_match",collectionViewBlockId:_,collectionViewId:I,propertyId:w},find:e,currentFocusedResult:o,store:t}):h}),[w,t,h,_,I]),k=(0,r().K8)((()=>{if(s().A.getPropertyId()!==w||s().A.getBlockStore()!==t)return M;const e=s().A.getMultiSelection();return e?a().Mwp({textValue:M,selection:{startIndex:e.start.index,endIndex:e.end.index},annotation:[a().Ifu.TemporaryComment]}):h?a().Mwp({textValue:M,selection:{startIndex:0,endIndex:a().qAZ(h).length},annotation:[a().Ifu.TemporaryComment]}):M}),[t,w,h,M]),A=(0,r().K8)((()=>void 0===k?null:c().S5({environment:y,textValue:k&&{value:k,spaceId:(0,o(161479).e)(t.pointer.spaceId)},parentStore:t,disableHover:!1,disableStyleAnnotations:!1,disableInsertedDeletedAnnotations:!1,disableDateStyleAnnotations:!1,disableSuggestionAnnotations:!1,disableCommentAnnotations:m??!1,disabled:!0,theme:S,disableLinks:f??!1,emojiType:b,katex:C,formulaValueTypes:[],stopLinkPropagation:!0,linkTargetBlank:!0})),[k,y,t,m,S,f,b,C],{silenceRerenderDefender:!0}),T=(0,n.useMemo)((()=>{if(!p||void 0===h)return null;const e=(0,a().k4p)(h);return(0,o(735577).A)(e)?(0,o(713998).MO)(h):null}),[p,h]),j=(0,i().IS)((()=>({text:{...g&&!v?o(284371).RC:void 0,...g&&v?{...(0,o(115512).pA)(v),overflow:"hidden",textOverflow:"ellipsis"}:{}}})),[g,v]);return(0,d.jsxs)("span",{style:j.text,children:[T?(0,d.jsx)(o(552712).N,{href:T,style:{display:"inline",pointerEvents:"auto",...(0,o(468882).w_)()},external:!0,onClick:e=>e.stopPropagation(),children:A}):A,u?", ":null]})}))},838364:(e,t,o)=>{o.d(t,{H:()=>n});const n=52},839754:(e,t,o)=>{o.d(t,{Bi:()=>C,My:()=>I,ZM:()=>k,_M:()=>M,navigateToWorkflowTemplateOnboardingModal:()=>A});o(16280),o(944114),o(517642),o(658004),o(733853),o(845876),o(432475),o(515024),o(731698),o(898992),o(354520),o(672577),o(581454);var n=()=>o(907258),r=()=>o(295633),i=()=>o(584262),a=()=>o(663077),s=()=>o(179034),l=()=>o(201980),c=()=>o(749750),d=()=>o(896628),u=()=>o(384944),p=()=>o(857783),m=()=>o(730969),f=()=>o(840153),g=()=>o(339798),v=()=>o(180762),h=()=>o(799832),y=()=>o(111379),S=()=>o(295304),b=()=>o(547149),x=()=>o(373444),w=()=>o(165592),_=()=>o(204067);function I({transaction:e,collectionStore:t,propertyTemplates:o}){var n;const r=(null===(n=t.getParentBlockStore())||void 0===n?void 0:n.getCollectionViewStores().filter((e=>"table"===e.getType())))??[];if(0===r.length)return;const i=[];for(const l of o){const e=(0,_().S1)({collectionStore:t,templateId:l.templateId,instancePointerType:"property"});e&&i.push({property:e.id,visible:!(0,a().Sz)(l),...l.tablePropertyFormat})}if(0!==i.length)for(const a of r){var s;const t=(null===(s=a.getPropertyFormatsStore("table_properties"))||void 0===s?void 0:s.getValue())??[],o=new Set(t.map((e=>e.property))),n=i.filter((e=>!o.has(e.property)));0!==n.length&&d().zA({stores:[a],update:{table_properties:[...t,...n]},transaction:e})}}function C({transaction:e,collectionStore:t,propertyTemplates:o}){const n=[];for(const s of o){const e=(0,_().S1)({collectionStore:t,templateId:s.templateId,instancePointerType:"property"});e&&n.push({property:e.id,visible:!0})}const r=t.getFormat().collection_page_properties??[],i=new Set(r.map((e=>e.property))),a=n.filter((e=>!i.has(e.property)));a.length&&d().zA({stores:[t],update:{collection_page_properties:[...r,...a]},transaction:e})}function M({environment:e,newPageStore:t,result:o}){"accepted_template"!==o.type&&"accepted_empty_collection"!==o.type||b().createAndCommit({environment:e,canUndo:!1,perform:n=>{const i=t.getTitleValue();if(u().zv({store:t,transaction:n,data:{alive:!1}}),"accepted_empty_collection"===o.type&&!(0,l().w9s)(i)){const a=r().B.createChildStore(t,{table:"block",id:o.blockId}).getTitleStore();a&&S().yr({environment:e,transaction:n,tokens:i,index:0,store:a})}const a=t.getParentStore();if((null==a?void 0:a.table)===s().ev){const e=a.getContentIds();u().zv({store:a,transaction:n,data:{content:e.filter((e=>e!==t.id))}})}},userAction:"clean_up_empty_new_page"})}function k({environment:e,userAction:t,result:o,existingCollectionViewBlockStore:n,existingCollectionStore:r}){if("canceled"!==o.type){if("accepted_empty_collection"===o.type&&r){const n=r.getKeyStore("name"),i=(0,l().x9d)(o.newCollectionTitle);n&&b().createAndCommit({userAction:t,environment:e,canUndo:!0,perform:t=>S().R9({environment:e,store:n,transaction:t,value:i})})}if(n){var i;const e=null===(i=(0,h().U)(n))||void 0===i?void 0:i.settingsStore;e&&g().os({collectionSettingsStore:e})}if("accepted_template"===o.type&&null!=n&&n.isCollectionView()&&(null==n||!n.hasSingleSourceAndNoLinkedCollections())){const t=(0,h().U)(n),r=n.getCollectionViewStores().find((e=>{var t;return(null===(t=e.getCollectionStore())||void 0===t?void 0:t.id)===o.collectionId}));if(!t||!r)return;(0,v().t)({environment:e,collectionContextStore:t,collectionViewId:r.id,isFullScreen:t.isFullScreenStore.state,isRootChild:t.isRootChildStore.state,isInPeekRenderer:t.isInPeekRendererStore.state})}}}async function A({environment:e,collectionViewBlockStore:t}){const o=t.id;if(!t.isDefined()){const n=await c().$f({environment:e,blockId:o});if(!n)return;e=await f().T({environment:e,newCurrentUserId:n}),t=new(r().B)(e,{table:s().ev,id:o}),await t.load()}const a=t.getSpaceId();if(!a)throw new Error("Space ID not found for collection block");const l=(0,y().k)(a);if(!l)throw new Error(`Space view not found for space ID: ${a}`);const{sidebarSpaceStore:d}=n().default.state;(null==d?void 0:d.id)!==a&&await(0,m().y)({environment:e,spaceViewStore:l});const u=t.getFormat();if("workflow_template_placeholder"===(null==u?void 0:u.collection_view_sub_type)&&null!=u&&u.placeholder_workflow_template_id&&t.isCollectionView()){const{getCollectionTemplateFromId:o}=await w().t.load(),n=o(u.placeholder_workflow_template_id);if(!n)throw new Error(`Collection template "${u.placeholder_workflow_template_id}" not found`);const{onNavigateToPlaceholderWorkflowTemplateBlock:r}=await x().O.load();r({environment:e,collectionTemplate:n,collectionViewBlockStore:t})}else p().uK({environment:e,store:t,pageVisitSource:i().y8.WorkflowTemplatesDeeplink})}},846523:(e,t,o)=>{o.d(t,{u:()=>n});const n=(0,o(340498).xh)("questionMarkCircle",{default:{loader:()=>o.e(82106).then(o.bind(o,406533))},small:{loader:()=>o.e(82106).then(o.bind(o,721479))},fill:{loader:()=>o.e(82106).then(o.bind(o,299733))},fillSmall:{loader:()=>o.e(82106).then(o.bind(o,182060))}},["question","query","inquiry","uncertain","unknown","help","circle"])},848401:(e,t,o)=>{o.d(t,{Ay:()=>g,mI:()=>m,vb:()=>f});o(296540);var n=()=>o(401497),r=()=>o(718827),i=()=>o(807449),a=()=>o(784892),s=()=>o(563692),l=()=>o(340498),c=()=>o(69708),d=()=>o(284371),u=o(474848);const p=(0,c().YK)({removeTokenLabel:{defaultMessage:"Remove {title}",id:"uiGenericToken.removeTokenLabel"},removeTokenLabelGeneric:{defaultMessage:"Remove Item",id:"uiGenericToken.removeTokenLabelGeneric"}}),m=a().NY,f={[a().NY.ExtremeSmall]:{height:12,fontSize:10,margin:"0 4px 0 0",marginEditState:"0 6px 0 0",closeIconSize:l().Ev.xxs,avatarSize:14},[a().NY.ExtraSmall]:{height:14,fontSize:12,margin:"0 6px 0 0",marginEditState:"0 6px 0 0",closeIconSize:l().Ev.xxs,avatarSize:14},[a().NY.Small]:{height:18,fontSize:12,margin:"0 6px 6px 0",marginEditState:"0 6px 6px 0",closeIconSize:l().Ev.xxs,avatarSize:16},[a().NY.CompactEssential]:{height:20,fontSize:14,margin:"0 10px 6px 0",marginEditState:"0 6px 6px 0",closeIconSize:l().Ev.xxs,avatarSize:20},[a().NY.Medium]:{height:20,fontSize:14,margin:"0 10px 6px 0",marginEditState:"0 6px 6px 0",closeIconSize:l().Ev.xxs,avatarSize:20},[a().NY.Inline]:{height:20,fontSize:14,closeIconSize:l().Ev.xxs,avatarSize:20,margin:"0 -5px 0 0",marginEditState:"0 6px 0 0"},[a().NY.Large]:{height:24,fontSize:16,margin:"0 8px 8px 0",marginEditState:"0 8px 8px 0",closeIconSize:l().Ev.sm,avatarSize:24}};function g({avatarSize:e,format:t,isSingle:o,onClickRemove:a,renderAvatar:l,showRemoveButton:m,shouldShrink:g,style:v,title:h}){const y=(0,c().tz)(),{height:S,fontSize:b,margin:x,marginEditState:w,closeIconSize:_,avatarSize:I}=f[t],C=e??I,M=(0,n().IS)((()=>({root:{display:"flex",alignItems:"center",flexShrink:g?1:0,minWidth:0,height:S,borderRadius:6,fontSize:b,lineHeight:"120%",margin:o?0:m?w:x,...v}})),[b,S,o,x,w,g,m,v]);return(0,u.jsxs)("div",{style:M.root,children:[null==l?void 0:l(C),(0,u.jsx)("div",{className:"notranslate",style:{...d().RC},children:h}),m?(0,u.jsx)(r().Ay,{ariaLabel:void 0!==h?y.formatMessage(p.removeTokenLabel,{title:h}):y.formatMessage(p.removeTokenLabelGeneric),onClick:a,style:{display:"flex",alignItems:"center",justifyContent:"center",width:S,height:S,marginInlineStart:2,marginInlineEnd:2,flexGrow:0,flexShrink:0,borderRadius:6},children:(0,u.jsx)(i().I,{icon:s().xMarkFillSmallIcon,size:_,style:{opacity:.5}})}):null]})}},859384:(e,t,o)=>{o.d(t,{M:()=>i});o(296540);var n=o(474848);const r={viewBox:"0 0 20 20",fittedViewBox:"3.12 2.99 13.88 13.88",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"m16.774 4.341-.59.589-1.109-1.11.596-.594a.784.784 0 0 1 1.103 0c.302.302.302.8 0 1.102zM8.65 12.462l6.816-6.813-1.11-1.11-6.822 6.808a1.1 1.1 0 0 0-.236.393l-.289.932c-.052.196.131.38.315.314l.932-.288a.9.9 0 0 0 .394-.236"}),(0,n.jsx)("path",{d:"M4.375 6.25c0-1.036.84-1.875 1.875-1.875H11a.625.625 0 1 0 0-1.25H6.25A3.125 3.125 0 0 0 3.125 6.25v7.5c0 1.726 1.4 3.125 3.125 3.125h7.5c1.726 0 3.125-1.4 3.125-3.125V9a.625.625 0 1 0-1.25 0v4.75c0 1.036-.84 1.875-1.875 1.875h-7.5a1.875 1.875 0 0 1-1.875-1.875z"})]})},i=(0,o(340498).wt)("compose",r,"default")},863059:(e,t,o)=>{o.d(t,{Hh:()=>A,Kh:()=>I,Nq:()=>_,U:()=>C,gQ:()=>T,nh:()=>k,u7:()=>M});var n=o(296540),r=()=>o(726637),i=()=>o(484714),a=()=>o(590526),s=()=>o(401497),l=()=>o(75435),c=()=>o(418135),d=()=>o(340498),u=()=>o(175947),p=()=>o(100622),m=()=>o(180252),f=()=>o(614949),g=()=>o(696746),v=()=>o(900652),h=()=>o(441199),y=()=>o(644914),S=()=>o(224011),b=()=>o(150193),x=()=>o(965833);const w=10;function _(){const{isElectronWindows:e}=(0,i().Y0)(),t=(0,a().O$)(l().b),o=(0,a().K8)((()=>l().A.state.zoomFactor||c().rx),[]),s=e&&!t;return(0,n.useMemo)((()=>s?(0,c().yA)(o)+4:r().A.isMobile?4:w),[s,o])}function I({shouldRenderTemplateGalleryTopbar:e}){const t=(0,i().v3)(),o=(0,a().K8)((()=>l().A.state.zoomFactor),[]),s=(0,a().O$)(l().b),d=(0,a().K8)((()=>(0,f().X)(t).shouldShowSidebar),[t]),p=(0,a().K8)((()=>(0,y().KB)(t)),[t]),m=(0,a().K8)((()=>h().default.isPanelPinnedState()),[]),g=(0,a().K8)((()=>S().A.state.isFullScreen),[]),{device:v}=t,b=o||c().rx,x=v.isElectronMac&&(!d||!p&&!m)&&!g&&!s,w=v.isElectronWindows&&!s,_=w&&(!d||!p&&!m);let I=u().ek(v.isElectronMac);e&&(I=u().Hi);return(0,n.useMemo)((()=>({display:"flex",justifyContent:"space-between",alignItems:"center",overflow:"hidden",height:I,paddingInlineStart:x?(0,c().n$)(b):_?46:r().A.isMobile?4:12,paddingInlineEnd:w?(0,c().yA)(b)+4:r().A.isMobile?4:10})),[I,x,b,_,w])}function C({store:e,shouldRenderTemplateGalleryTopbar:t,isBrowserFullScreen:o}){const n=(0,i().v3)(),r=(0,i().Y0)(),d=(0,i().WS)(),f=(0,a().K8)((()=>"meet"===n.RouterStore.state.route.name),[n.RouterStore]),h=(0,a().K8)((()=>((0,g().lU)(e)||f)&&0===b().A.state.banners.length),[e,f]);let S=u().ek(r.isElectronMac);t&&(S=2*u().Hi);const w=(0,a().K8)((()=>v().Z8()),[]),_=(0,a().O$)((0,m().$o)(n)),I=(0,a().K8)((()=>l().A.state.zoomFactor),[]),C=u().pz(r.isElectronMac,o,I||c().rx);return(0,s().IS)((()=>({header:{background:h&&!d?"transparent":p().Tj.background.primary,maxWidth:"100vw",zIndex:100,WebkitUserSelect:"none",userSelect:"none",position:"relative"},container:{width:`calc(100% - ${w}px)`,maxWidth:"100vw",height:S,opacity:_?0:1,transition:`\n\t\t\t\t\t\topacity ${x().L}ms,\n\t\t\t\t\t\tcolor ${x().L}ms\n\t\t\t\t\t`,position:"relative",insetInlineStart:w},electronTopbarSidebarMousePeekArea:{position:"absolute",top:0,bottom:-y().qe,width:`${C}px`}})),[h,d,w,_,S,C])}const M=34,k=28;function A(){return{iconButton:{width:M,height:k,marginInlineEnd:2},icon:{height:d().Ev.lg,width:d().Ev.lg,fill:p().Tj.icon.primary},tabletIcon:{height:d().lD.lg,width:d().lD.lg,fill:p().Tj.icon.primary}}}function T(){return(0,s().IS)(A,[])}},866805:(e,t,o)=>{o.d(t,{Jl:()=>d,Ni:()=>l,OE:()=>c});var n=()=>o(242422),r=()=>o(726637),i=()=>o(534177),a=()=>o(246679),s=()=>o(243331);const l=3;function c(){if(r().A.isMobile)return!1;if(!n().default.checkGate({gateName:"agent_daily_brief"}))return!1;const e="authenticated"===a().gv.state.status,t="authenticated"===s().Lf.state.status;return e&&t}async function d(e={}){var t;const{spaceId:n,environment:r,...a}=e,{UserChatPreferenceLocalStorageStore:s}=await o.e(37342).then(o.bind(o,166442)),{AGENT_MODEL_TYPES:l}=await o.e(27992).then(o.bind(o,365646)),c=n?(null===(t=s.getState())||void 0===t?void 0:t[n])??{}:{},{model:d}=c;let u=d&&(0,i().Xk)(l,d)?d:void 0;if(n&&u){const{getAvailableWorkflowAgentModels:e}=await Promise.all([o.e(27992),o.e(7049)]).then(o.bind(o,676953));e(r,n).has(u)||(u=void 0)}const{getWorkflowAgentConfig:p}=await Promise.all([o.e(35530),o.e(55373),o.e(36192),o.e(27992),o.e(63452),o.e(66249),o.e(87249),o.e(79022),o.e(34877),o.e(32236)]).then(o.bind(o,844317)),m=p({...a,spaceId:n,model:u,useReadOnlyMode:!1}),f=!0;return m.enableUserSessionContext=!0,m.enableQueryCalendar=f,m.enableQueryMail=f,m.enableAgentViewNotificationsTool=f,m.agentFollowupVariation=void 0,m}},867772:(e,t,o)=>{o.d(t,{Ay:()=>l,Gi:()=>i,Wc:()=>n,pF:()=>a,vS:()=>r});const n="loadingLocalImage",r="uploading",i="downloading",a="loaded";class s extends(()=>o(757695))().Store{getInitialState(){return{loadingMode:a}}}const l=s},883701:(e,t,o)=>{o.d(t,{J:()=>s});var n=()=>o(34977),r=()=>o(457205),i=()=>o(849255),a=()=>o(534177);function s(e,t){if(t&&t.asActor)switch(t.pointer.table){case"bot":return new(r().v)(e,t.pointer);case"agent":return new(n().p)(e,t.pointer);case"notion_user":return new(i().L)(e,t.pointer);default:(0,a().HB)(t.pointer)}}},888325:(e,t,o)=>{function n(e){return`${e.table}:${e.id}`}o.d(t,{_:()=>n})},888643:(e,t,o)=>{o.d(t,{k:()=>r});var n=()=>o(402014);function r(e){(0,n().SQ)(e,n().y$.Click,(()=>{}))}},890409:(e,t,o)=>{o.d(t,{Ah:()=>h,Dk:()=>f,Iv:()=>v,SF:()=>g,YO:()=>b,_f:()=>w,c_:()=>p,dW:()=>S,gW:()=>m,sp:()=>_,vN:()=>y});o(16280),o(944114),o(898992),o(354520),o(803949),o(581454),o(737550);var n=()=>o(496603),r=()=>o(973647),i=()=>o(534177),a=()=>o(842599),s=()=>o(239381),l=()=>o(179034),c=()=>o(798880),d=()=>o(201980),u=()=>o(241319);function p(e,t){e.DO_NOT_USE_commonTrackEvent({eventName:"add_automation_step",properties:t})}function m(e,t){e.DO_NOT_USE_commonTrackEvent({eventName:"delete_automation_step",properties:t})}function f(e,t){e.DO_NOT_USE_commonTrackEvent({eventName:"automation_create",properties:t})}function g(e,t){e.DO_NOT_USE_commonTrackEvent({eventName:"automation_update",properties:t})}function v(e,t){e.DO_NOT_USE_commonTrackEvent({eventName:"automation_delete",properties:t})}function h(e,t){e.DO_NOT_USE_commonTrackEvent({eventName:"automation_enable",properties:t})}function y(e,t){e.DO_NOT_USE_commonTrackEvent({eventName:"automation_disable",properties:t})}function S(e,t){e.DO_NOT_USE_commonTrackEvent({eventName:"automation_action_create",properties:t})}function b(e,t){e.DO_NOT_USE_commonTrackEvent({eventName:"automation_action_delete",properties:t})}function x(e){const{formulaAnalyticsModule:t,formulasModule:o,formulaTypecheckContextValues:n,getRecordModel:a,spaceId:l,value:c,featureGates:d}=e;if("formula"===c.type){if(!(0,i().O9)(c.value))return;const e=r().Q.unwrapOr(o.parseFormulaInputToAst(c.value),void 0);if(e){const r=o.addTypesToFormulaAST(e,{handleDataRequest:(0,s().zg)(a),spaceId:l,valueTypes:n,featureGates:d});return{...t.getFormulaAnalytics(e,{getRecordModel:a,typecheckContextValues:n}),formula_return_type:r.node.type,redacted_formula:t.getRedactedFormulaAsStringSync(e,{getRecordModel:a,typecheckContextValues:n})}}}else{if("simple"===c.type){if(!(0,i().O9)(c.value))return;return t.getSimpleFormulaAnalytics(c.value,{getRecordModel:a,typecheckContextValues:n})}(0,i().HB)(c.type)}}function w(e){const{automationActionModel:t,automationActionModels:o,formulaAnalyticsModule:r,formulasModule:l,formulaTypecheckContextValues:p,getRecordModel:m,featureGates:f,simpleFormulasModule:g}=e;return t.isType("complete_sprint")?{automation_action_id:t.pointer.id,type:"complete_sprint"}:t.isType("create_page")?function(e){const{automationActionModel:t,formulaAnalyticsModule:o,formulasModule:n,formulaTypecheckContextValues:r,getRecordModel:a,featureGates:s}=e,l=t.getConfig();let c,d=[];const u=null==l?void 0:l.collection,p=null==l?void 0:l.properties;if((0,i().O9)(u)&&(0,i().O9)(p)&&p.length>0){const e=a(u),f=null==e?void 0:e.getNormalizedSchema();(0,i().O9)(f)&&(d=p.map((e=>{var t;return(null===(t=f[e])||void 0===t?void 0:t.type)??"unknown"})));const g=null==l?void 0:l.values;if(n&&(0,i().O9)(g)){c=[];for(const e of p){var m;const i=null===(m=g[e])||void 0===m?void 0:m.value;if(!i)continue;const l=x({formulaAnalyticsModule:o,formulasModule:n,getRecordModel:a,formulaTypecheckContextValues:r,spaceId:t.spaceId,value:i,featureGates:s});l&&c.push(l)}}}return{automation_action_id:t.pointer.id,property_formula_stats:c,property_types:d,type:"create_page"}}({automationActionModel:t,formulaAnalyticsModule:r,formulasModule:l,formulaTypecheckContextValues:p,getRecordModel:m,featureGates:f}):t.isType("duplicate_blocks")?{automation_action_id:t.pointer.id,type:"duplicate_blocks"}:t.isType("modal_confirmation")?function(e){const{automationActionModel:t,formulaAnalyticsModule:o,formulasModule:n,formulaTypecheckContextValues:r,getRecordModel:a,featureGates:s}=e,l=t.getConfig(),c=[];if(n&&(0,i().O9)(l)&&l.text){const e=x({formulasModule:n,formulaAnalyticsModule:o,getRecordModel:a,formulaTypecheckContextValues:r,spaceId:t.spaceId,value:l.text,featureGates:s});e&&c.push(e)}return{automation_action_id:t.pointer.id,formula_stats:c,type:"modal_confirmation"}}({automationActionModel:t,formulaAnalyticsModule:r,formulasModule:l,formulaTypecheckContextValues:p,getRecordModel:m,featureGates:f}):t.isType("open_page")?{automation_action_id:t.pointer.id,type:"open_page"}:t.isType("query_collection")?{automation_action_id:t.pointer.id,type:"query_collection"}:t.isType("send_in_app_notification")?function(e){var t;const{automationActionModel:o,formulaAnalyticsModule:n,formulasModule:r,formulaTypecheckContextValues:a,getRecordModel:s,featureGates:l,simpleFormulasModule:c}=e,u={automation_action_id:o.pointer.id,messageCharacterCount:0,type:"send_in_app_notification"},p=o.getConfig();if(!(0,i().O9)(p))return u;if((0,i().O9)(p.target))if("formula"===p.target.type&&(0,i().O9)(p.target.value)){if(u.targetData={type:"formula",numUserFormulaTargets:(0,d().Fbh)(p.target.value.value).length,numFormulaContextTargets:c.getReferencedContextValueIds(p.target.value).length},r){const e=x({formulasModule:r,formulaAnalyticsModule:n,getRecordModel:s,formulaTypecheckContextValues:a,spaceId:o.spaceId,value:p.target.value,featureGates:l});e&&(u.formula_stats??=[],u.formula_stats.push(e))}}else if("property"===p.target.type&&(0,i().O9)(p.target.propertyId)&&(0,i().O9)(p.target.collectionPointer)){const e=s(p.target.collectionPointer),t=null==e?void 0:e.getSchema();var m;(0,i().O9)(t)&&(u.targetData={type:"property",propertyType:null===(m=t[p.target.propertyId])||void 0===m?void 0:m.type})}if((0,i().O9)(null===(t=p.notification_message)||void 0===t?void 0:t.value)&&(u.messageCharacterCount=(0,d().FAw)(p.notification_message.value),r)){const e=x({formulasModule:r,formulaAnalyticsModule:n,getRecordModel:s,formulaTypecheckContextValues:a,spaceId:o.spaceId,value:p.notification_message,featureGates:l});e&&(u.formula_stats??=[],u.formula_stats.push(e))}return u}({automationActionModel:t,formulaAnalyticsModule:r,formulasModule:l,formulaTypecheckContextValues:p,getRecordModel:m,featureGates:f,simpleFormulasModule:g}):t.isType("send_gmail_notification")?function(e){var t,o,r,s,l,u,p;const{automationActionModel:m,formulaAnalyticsModule:f,formulasModule:g,formulaTypecheckContextValues:v,getRecordModel:h,featureGates:y}=e,S=m.getConfig();if(!(0,i().O9)(S))return{automation_action_id:m.pointer.id,fields:{},recipient_domains:{},type:"send_gmail_notification"};const b=Object.fromEntries(Object.entries(S||{}).map((([e,t])=>{var o;return"formula"===(null==t?void 0:t.type)?[e,Boolean(null==t||null===(o=t.value)||void 0===o?void 0:o.value)]:"simple"===(null==t?void 0:t.type)?[e,Boolean(null==t?void 0:t.value)]:[e,Boolean(t)]}))),{to:w,cc:_,bcc:I}=S,C=[...(null==w||null===(t=w.value)||void 0===t?void 0:t.value)||[],...(null==_||null===(o=_.value)||void 0===o?void 0:o.value)||[],...(null==I||null===(r=I.value)||void 0===r?void 0:r.value)||[]],M=[...(0,d().Fbh)(C).map((e=>h({table:c().oo,id:e}))).map((e=>null==e?void 0:e.email)).filter(i().O9),...(0,a().C3)((0,d().k4p)(C))],k=n().Tr(M.map((e=>e.split("@")[1]))),A=[null===(s=S.to)||void 0===s?void 0:s.value,null===(l=S.cc)||void 0===l?void 0:l.value,null===(u=S.bcc)||void 0===u?void 0:u.value,null===(p=S.reply_to)||void 0===p?void 0:p.value,S.from_name,S.email_subject,S.email_body].map((e=>{if(g&&(0,i().O9)(e))return x({formulaAnalyticsModule:f,formulasModule:g,getRecordModel:h,formulaTypecheckContextValues:v,spaceId:m.spaceId,value:e,featureGates:y})})).filter(i().O9);return{automation_action_id:m.pointer.id,fields:b,formula_stats:A,recipient_domains:k,type:"send_gmail_notification"}}({automationActionModel:t,formulaAnalyticsModule:r,formulasModule:l,formulaTypecheckContextValues:p,getRecordModel:m,featureGates:f}):t.isType("slack_notification")?{automation_action_id:t.pointer.id,type:"slack_notification"}:t.isType("update_pages")?function(e){const{automationActionModel:t,automationActionModels:o,formulaAnalyticsModule:n,formulasModule:r,formulaTypecheckContextValues:a,getRecordModel:l,featureGates:c}=e,d=t.getConfig(),p=[],m=[],f=[];if((0,i().O9)(d)&&(0,i().O9)(d.target)&&(0,i().O9)(d.properties)&&d.properties.length>0){let e;if("variable"===d.target.type){const t=(0,s().y5)(d.target.id);if("action"===t.source){const t=(0,u().y)({actionModels:o,id:d.target.id}).collectionPointer;if((0,i().O9)(t)){const o=l(t);e=null==o?void 0:o.getNormalizedSchema()}}else{if("global"!==t.source||"button_page"!==t.global)throw new Error("Failed loading property schema");{const t=(0,s().IV)(a,d.target.id);if("block"===(null==t?void 0:t.type.type)&&(0,i().O9)(t.type.collection)){const o=l(t.type.collection);e=null==o?void 0:o.getNormalizedSchema()}}}}else if("collection"===d.target.type){const t=l(d.target.collection);e=null==t?void 0:t.getNormalizedSchema()}(0,i().O9)(e)&&d.properties.forEach((o=>{const s=e[o];if((0,i().O9)(s)&&(p.push(s.type),r&&(0,i().O9)(d.values))){const e=d.values[o];if((0,i().O9)(e)&&(m.push({type:s.type,operator:e.action}),e.value)){const o=x({formulasModule:r,formulaAnalyticsModule:n,getRecordModel:l,formulaTypecheckContextValues:a,spaceId:t.spaceId,value:e.value,featureGates:c});o&&f.push(o)}}}))}return{automation_action_id:t.pointer.id,property_configs:m,property_formula_stats:f,property_types:p,type:"update_pages"}}({automationActionModel:t,automationActionModels:o,formulaAnalyticsModule:r,formulasModule:l,formulaTypecheckContextValues:p,getRecordModel:m,featureGates:f}):t.isType("define_variables")?function(e){const{automationActionModel:t,formulaAnalyticsModule:o,formulasModule:n,formulaTypecheckContextValues:r,getRecordModel:a,featureGates:s}=e,l=t.getConfig(),c=[];if(n&&(0,i().O9)(l)&&l.values)for(const i of Object.values(l.values))if(i.value){const e=x({formulasModule:n,formulaAnalyticsModule:o,getRecordModel:a,formulaTypecheckContextValues:r,spaceId:t.spaceId,value:i.value,featureGates:s});e&&c.push(e)}return{automation_action_id:t.pointer.id,formula_stats:c,type:"define_variables"}}({automationActionModel:t,formulaAnalyticsModule:r,formulasModule:l,formulaTypecheckContextValues:p,getRecordModel:m,featureGates:f}):t.isType("http_request")?{automation_action_id:t.pointer.id,type:"http_request"}:t.isType("publish_site")?{automation_action_id:t.pointer.id,type:"publish_site"}:t.isType("worker")?{automation_action_id:t.pointer.id,type:"worker"}:void(0,i().HB)(t)}function _(e){const{automationModel:t,builderType:o="sidebar",formulaAnalyticsModule:n,formulasModule:r,formulaTypecheckContextValues:a,getRecordModel:s,featureGates:c,simpleFormulasModule:d,source:u}=e,p=[],m=t.getActionPointers().map((e=>s(e))).filter(i().O9);for(const l of t.getActionPointers()){const e=s(l);(0,i().O9)(e)&&p.push(w({automationActionModel:e,automationActionModels:m,formulaAnalyticsModule:n,formulasModule:r,formulaTypecheckContextValues:a,getRecordModel:s,featureGates:c,simpleFormulasModule:d}))}const f=[];let g,v,h;if(t.isEventType()){var y;const e=t.getEventConfiguration(),o=s(t.getParentPointer());g=t.getParentId();const n=t.getEventConfiguration();if("collection_view"===(null===(y=n.source)||void 0===y?void 0:y.type)){const e=s(n.source.pointer);(null==e?void 0:e.parent_table)===l().ev&&(h=null==e?void 0:e.parent_id),v=null==n?void 0:n.source.pointer.id}const r=null==o?void 0:o.getNormalizedSchema();if((0,i().O9)(r)){const{pagesAdded:t,pagePropertiesEdited:o}=e;if(t&&f.push({type:"page"}),"any"===o.type)f.push({condition:"any",type:"property"});else if("none"===o.type)f.push({condition:"none",type:"property"});else{let e=[];"some"===o.type?e=o.some??[]:"all"===o.type&&(e=o.all??[]);const t=[],n=[];e.forEach((e=>{var o;const a=null===(o=r[e.property])||void 0===o?void 0:o.type;(0,i().O9)(a)&&(t.push({type:a,operator:e.filter.operator}),n.push(a))})),f.push({condition:o.type,property_configs:t,property_types:n,type:"property"})}}}else if(t.isButtonType())f.push({type:"button"});else if(t.isRecurrenceType()){var S;f.push({type:"recurrence",frequency:null===(S=t.getTrigger().recurrence)||void 0===S?void 0:S.frequency})}else(0,i().HB)(t);return{automation_actions:p,automation_id:t.id,automation_triggers:f,collection_id:g,collection_view_id:v,collection_view_block_id:h,builder_type:o,source:u}}},912474:(e,t,o)=>{o.d(t,{a:()=>i});var n=()=>o(79926);const r=new(n().O2)("StopDictationButton",(async()=>await Promise.all([o.e(75134),o.e(35530),o.e(9773),o.e(36556),o.e(55373),o.e(36192),o.e(40537),o.e(27992),o.e(63452),o.e(66249),o.e(92845),o.e(87249),o.e(79022),o.e(44854),o.e(87017),o.e(34877),o.e(46414),o.e(11676),o.e(61165),o.e(94522),o.e(44584),o.e(38293),o.e(40992),o.e(88455),o.e(52871),o.e(47160),o.e(49021),o.e(53697),o.e(26126),o.e(6039),o.e(71136),o.e(86341),o.e(29316),o.e(3101)]).then(o.bind(o,962309)))),i=(0,n()._h)(r,(e=>e.StopDictationButton))},916275:(e,t,o)=>{o.d(t,{P:()=>i});o(16280),o(898992),o(354520),o(672577),o(737550);var n=()=>o(449412);class r extends(()=>o(62175))().U{isModelAvailable(e,t,o){const n=this.getData(e,{spaceId:t});return!!n&&n.some((e=>e.model===o))}isModelDisabled(e,t,o){const n=this.getData(e,{spaceId:t});if(!n)return!1;const r=n.find((e=>e.model===o));return(null==r?void 0:r.isDisabled)??!1}getModelsForMode(e,t,o){const n=this.getData(e,{spaceId:t});if(n)return n.filter((e=>"markdown-chat"===o?void 0!==e.markdownChat:void 0!==e.workflow))}}const i=new r(((e,{spaceId:t})=>`${e.currentUser.id}:${t}`),(async(e,{spaceId:t})=>{const r=e.currentUser.id;try{const i=await e.api.callCellCompatibleApi({eventName:"getAvailableModels",environment:e,cellNavigation:{spaceId:t},data:{spaceId:t}});if("failed"===i.type){const e=(0,o(247584).V4)(i);return void n().O8(new Error(`Failed to fetch available models: ${e}`),{from:"AvailableModelsStore.fetch",type:"api_failed_response",data:{spaceId:t,userId:r,errorMessage:e}})}return 0===i.data.models.length&&n().O8(new Error("Received empty model list from server"),{from:"AvailableModelsStore.fetch",type:"empty_response",data:{spaceId:t,userId:r}}),i.data.models}catch(i){return void n().O8(i,{from:"AvailableModelsStore.fetch",type:"error",data:{spaceId:t,userId:r}})}}),{dontCacheUndefined:!0});(0,o(852832).exposeDebugValue)("availableAiModelsStore",i)},921123:(e,t,o)=>{o.r(t),o.d(t,{archiveBoxFillIcon:()=>r,iconDefinition:()=>n});o(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"3.12 3.12 13.75 13.75",svg:(0,o(474848).jsx)("path",{d:"M3.125 4.25c0-.621.504-1.125 1.125-1.125h11.5c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125H4.25A1.125 1.125 0 0 1 3.125 5.75zm1 3.875h11.75v7.625c0 .621-.504 1.125-1.125 1.125h-9.5a1.125 1.125 0 0 1-1.125-1.125zM8 9.875a.625.625 0 1 0 0 1.25h4a.625.625 0 1 0 0-1.25z"})},r=(0,o(340498).wt)("archiveBoxFill",n,"fill")},922952:(e,t,o)=>{o.d(t,{u:()=>a});var n=()=>o(295633),r=()=>o(302996),i=()=>o(723085);function a(e){return e instanceof i().h||e instanceof r().SpaceStore||e instanceof n().B}},926586:(e,t,o)=>{o.d(t,{K:()=>p});o(296540);var n=()=>o(590526),r=()=>o(75435),i=()=>o(695115),a=()=>o(182183),s=()=>o(69708),l=()=>o(44551);var c=()=>o(130119),d=o(474848);const u=(0,s().YK)({menu:{defaultMessage:"Menu",id:"topbar.appMenuButton.title"}});function p(){const e=(0,s().tz)();return(0,n().O$)(r().b)?null:(0,d.jsx)(i().A,{style:{position:"absolute",top:"10px",insetInlineStart:"14px",width:24,height:24,zIndex:1e5,...(0,c().g)({noDrag:!0})},colorVariant:"primary",onClick:()=>{var e;null===l().electronApi||void 0===l().electronApi||null===(e=l().electronApi.openAppMenu)||void 0===e||e.call(l().electronApi)},icon:a().notionTintableIcon,ariaLabel:e.formatMessage(u.menu)})}},928213:(e,t,o)=>{o.d(t,{c:()=>a});var n=()=>o(165358),r=()=>o(519831),i=()=>o(769864);async function a(e){const{environment:t,collectionStore:o}=e,a={id:o.id,table:r().Vl,spaceId:o.getSpaceId()},s=await i().callApi({eventName:"suggestRecordKey",environment:t,data:{...a,shouldSetSuccessfullySuggestedRecord:!0}});if("success"===s.type)return s.data.key;n().log({level:"error",from:"collectionAutoIncrementIdActions.suggestRecordKeyResponse",type:"JSONParseError",error:{miscDataString:s.error.message}})}},933117:(e,t,o)=>{o.d(t,{A:()=>f});o(944114),o(898992),o(803949),o(581454);var n=o(296540),r=()=>o(245720),i=()=>o(30537),a=()=>o(546926),s=()=>o(890492),l=()=>o(663639),c=()=>o(736847),d=()=>o(69708),u=()=>o(496603),p=()=>o(534177),m=o(474848);const f=function({renderOrigin:e,onClick:t,items:n,getKey:r,renderItem:i,selectedItem:s,onSelect:l,dontCloseParentOnSelect:c,menuTypeOverride:d,menuTitle:u,width:p,minWidth:f,disabled:g,originGap:y,buttonPopupStore:S,sameWidthAsOrigin:b}){const x=(0,o(590526).uB)(S,o(118307).A),w=d??(o(726637).A.isMobile?a().gu.Modal:a().gu.Popup);return(0,m.jsx)(o(250910).A,{popupType:h(w),bottomSheetInitialState:"half",renderOrigin:e,buttonPopupStore:x,placementToOrigin:"bottom",onClick:t,render:e=>(0,m.jsx)(v,{parent:e,items:n,getKey:r,renderItem:i,selectedItem:s,onSelect:l,dontCloseParentOnSelect:c,menuType:w,menuTitle:u,width:p,minWidth:f}),disabled:g,originGap:y,sameWidthAsOrigin:b})};function g(e,t,o,r,i,a,s,l){return{key:0,render:e=>(0,n.createElement)(c().A,{...e,key:t,topBorder:t>0}),items:e.map((e=>({key:r(e),render:t=>i({...t,value:e,key:r(e),selectedItem:a}),action:()=>{!function(e,t,o){t!==e&&o(e)}(e,a,s),l||o.close()}})))}}function v({parent:e,items:t,getKey:o,renderItem:n,selectedItem:i,onSelect:c,dontCloseParentOnSelect:f,menuType:v,menuTitle:h,width:y,minWidth:S}){const b=[];if(function(e){return e.length>0&&e[0]instanceof Array}(t))t.forEach(((t,r)=>{const a=g(t,r,e,o,n,i,c,f);b.push(a)}));else{const r=g(t,0,e,o,n,i,c,f);b.push(r)}const x=(0,m.jsx)(l().A,{type:l().O.Vertical,initialFocus:u().SL(u().Bq(t),(e=>u().n4(e,i))),sections:b});let w;switch(v){case a().gu.ActionSheet:w={menuType:a().gu.ActionSheet};break;case a().gu.Modal:w={menuType:a().gu.Modal,title:h,right:(0,m.jsx)(d().sA,{...r().W.done}),onClickRight:e.close};break;case a().gu.Popup:w={menuType:a().gu.Popup,width:y||160,minWidth:S};break;default:(0,p().HB)(v)}return(0,m.jsx)(s().A,{...w,children:x})}function h(e){switch(e){case a().gu.ActionSheet:return i().n.SlideUp;case a().gu.Modal:return i().n.BottomSheet;case a().gu.Popup:return i().n.Popup}}},935432:(e,t,o)=>{o.d(t,{A:()=>a});var n=()=>o(416845),r=()=>o(357264),i=()=>o(788579);function a(e,t){if((0,n().pA8)(t)){const o=(0,i().$)(t.clientData);if(o)return"messageValues"in t.clientData?e.formatMessage(o,t.clientData.messageValues):e.formatMessage(o)}return e.formatMessage(r().k.generic_error)}},937199:(e,t,o)=>{o.d(t,{LH:()=>i,Op:()=>r,bi:()=>l,sf:()=>s,v$:()=>a});o(16280);var n=o(296540);const r=(0,n.createContext)(null);function i(){const e=(0,n.useContext)(r);if(!e)throw new Error("usePageLayoutEditorContext must be used inside BaseLayoutEditorContext.Provider");return e}function a(){return(0,n.useContext)(r)}r.displayName="BaseLayoutEditorContext";const s=(0,n.createContext)(null);function l(){const e=(0,n.useContext)(s);if(!e)throw new Error("usePageLayoutEditorContext must be used inside PageLayoutEditorContextProvider");return e}s.displayName="PageLayoutEditorContext"},947086:(e,t,o)=>{o.r(t),o.d(t,{iconDefinition:()=>n,personSlashIcon:()=>r});o(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"3.31 2.31 14.13 16.25",svg:(0,o(474848).jsx)("path",{d:"M3.53 2.463a.626.626 0 0 1 .882.067l.032.038q.008.013.018.025l12.687 14.875q.089.101.203.156a.625.625 0 0 1-1.014.72l-.928-1.08a2.4 2.4 0 0 1-1.26.362h-8.3c-.68 0-1.328-.288-1.74-.768-.43-.501-.591-1.217-.23-1.923C4.899 12.945 7.3 11.63 10 11.63q.3 0 .593.021l-1.001-1.166a3.28 3.28 0 0 1-2.267-1.22c-.536-.669-.825-1.532-.886-2.453L3.463 3.345a.626.626 0 0 1 .067-.882M10 12.88c-2.335 0-4.245 1.138-5.007 2.625-.104.203-.071.379.066.54.157.182.449.33.79.33h8.301c.155 0 .3-.032.426-.082l-2.707-3.154a6.8 6.8 0 0 0-1.87-.26M10 2.375c1.137 0 2.055.469 2.675 1.241.607.757.899 1.766.9 2.824 0 1.058-.292 2.067-.9 2.825q-.213.263-.472.477l-.811-.951q.168-.138.307-.309c.392-.487.625-1.2.625-2.042S12.09 4.887 11.7 4.4c-.38-.473-.936-.775-1.7-.775-.762 0-1.32.302-1.7.774a2.4 2.4 0 0 0-.278.44l-.857-1.004q.076-.113.161-.219c.62-.772 1.538-1.241 2.675-1.241"})},r=(0,o(340498).wt)("personSlash",n,"default")},962753:(e,t,o)=>{o.d(t,{EH:()=>y,FO:()=>v,P$:()=>h,VA:()=>f,h0:()=>d,lM:()=>u,mq:()=>g});o(898992),o(581454),o(737550);var n=()=>o(907258),r=()=>o(242422),i=()=>o(763765),a=()=>o(613848),s=()=>o(496603),l=()=>o(534177),c=()=>o(822789);function d(e){const{currentUserRootStore:t}=n().default.state;if(!t)return!1;const o=t.getSpaceViewStores();return(0,s().oE)(null==o?void 0:o.map((e=>e.getSpaceId()))).map((t=>a().A.getData(e,{spaceId:t,userId:e.currentUser.id}))).some((e=>p(e)))}function u(e,t){return p(a().A.getData(e,{spaceId:t,userId:e.currentUser.id}))}function p(e){switch(null==e?void 0:e.membershipType){case void 0:case"none":case"page_guest":return!1;case"restricted_member":case"member":case"membership_admin":case"owner":return!0===e.is_sales_assisted;default:(0,l().HB)(e)}}function m(e,t){if(!t)return"control";if(u(e,t))return"control";const o=r().default.getEligibleGroup({experimentId:"ai_product_retention_simplified_input",defaultGroup:"control"});return"input"===o||"input_and_ask_mode"===o?o:"control"}function f(){switch(r().default.getEligibleGroup({experimentId:"ai_product_retention_agent_follow_ups",defaultGroup:"control"})){case"button_nudge":return["button","nudge"];case"button_control":return["button","default"];case"nudge":return["nudge"];default:return}}function g(e,t){const o=r().default.checkGate({gateName:"agent_deep_find"}),n=void 0!==t&&u(e,t),a=e.currentUser.id,s=!t||!a||i().t.USEWITHCAUTION_isFetchedForSpaceAndUserId({spaceId:t,userId:a}),l=o||!n&&s&&"on"===r().default.getEligibleGroup({experimentId:"ai_product_retention_deepfind",defaultGroup:"control"}),c=h(e,t);return{agentDeepFindEnabled:l,useReadOnlyMode:l&&c}}function v(e,t){if(t?(0,c().vp)(t):(0,c().hw)())return!0;return"control"!==m(e,t)}function h(e,t){return"input_and_ask_mode"===m(e,t)}function y(){return"on"===r().default.getEligibleGroup({experimentId:"ai_product_retention_agent_speculative_search",defaultGroup:"control"})}},965833:(e,t,o)=>{o.d(t,{L:()=>n});const n=700},970236:(e,t,o)=>{o.d(t,{E:()=>s});o(296540);var n=()=>o(401497),r=()=>o(100622),i=()=>o(284371),a=o(474848);function s(e){const{color:t="gray",style:o,content:s,...l}=e,c=(0,n().IS)((()=>({badge:{alignSelf:"center",padding:"2px 4px",background:r().Tj[t].background.secondaryTranslucent,color:r().Tj[t].text.accentPrimary,borderRadius:4,fontSize:11,fontWeight:i().Wy.medium,lineHeight:1.3,...o}})),[t,o]);return(0,a.jsx)("div",{style:c.badge,...l,children:s})}},976582:(e,t,o)=>{o.d(t,{m:()=>i});var n=o(296540);class r{constructor(e){this.topbarRenderLocation=void 0;const{topbarRenderLocation:t}=e;this.topbarRenderLocation=t}get showNewTabButton(){return{AIChat:!0,DefaultTopbar:!0,Marketplace:!0,PersonProfile:!0,PersonalHome:!0,PersonalHomeScrolled:!0,PublicPage:!0,PublicSharing:!0,TeamHome:!0,TrustedDomainPage:!0,WorkflowEditor:!0,AssistantMenuHeader:!1,Meet:!1}[this.topbarRenderLocation]}get topbarActionsDisplayStyle(){return{PersonalHome:"transparent",PersonalHomeScrolled:"bordered",AIChat:"solid",AssistantMenuHeader:"solid",DefaultTopbar:"solid",Marketplace:"solid",PersonProfile:"solid",PublicPage:"solid",PublicSharing:"solid",TeamHome:"solid",TrustedDomainPage:"solid",WorkflowEditor:"solid",Meet:"solid"}[this.topbarRenderLocation]}get showDesktopAppMenuIconButton(){return{AIChat:!0,AssistantMenuHeader:!1,DefaultTopbar:!1,Marketplace:!1,PersonProfile:!1,PersonalHome:!1,PersonalHomeScrolled:!1,PublicPage:!1,PublicSharing:!1,TeamHome:!1,TrustedDomainPage:!1,WorkflowEditor:!1,Meet:!1}[this.topbarRenderLocation]}}function i(e){const{location:t}=e;return(0,n.useMemo)((()=>new r({topbarRenderLocation:t})),[t])}},994006:(e,t,o)=>{o.d(t,{A:()=>r});o(296540);var n=o(474848);const r=function(e){const t={marginInlineEnd:e.avatarMarginRight??6,alignSelf:"center"},r={display:"flex",alignItems:"center",minWidth:0,...e.style},i=e.inline?{...t,width:"none",minHeight:"none"}:t,{userStore:a,avatarShouldShowShadow:s,avatarSize:l,hasTooltip:c,tooltipHeader:d,hasPersonHoverCard:u,spaceStore:p}=e,m=(0,o(69708).tz)(),f=(0,o(590526).K8)((()=>null==a?void 0:a.getDisplayName(m)),[a,m]),g=(0,n.jsxs)("div",{style:r,children:[(0,n.jsx)("div",{style:i,children:(0,n.jsx)(o(453697).A,{userStore:a,avatarShouldShowShadow:s,size:l,hasTooltip:c&&!u,hasPersonHoverCard:!1,tooltipHeader:d})}),(0,n.jsx)("div",{className:"notranslate",style:{...o(284371).RC},children:f})]});return u?(0,n.jsx)(o(436525).D,{userStore:a,spaceStore:p,children:g}):g}}}]);