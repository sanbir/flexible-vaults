"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[64534],{93263:(e,t,n)=>{n.d(t,{A:()=>a});n(944114),n(517642),n(658004),n(733853),n(845876),n(432475),n(515024),n(731698),n(898992),n(354520),n(581454);var r=n(296540);const i=function(e,t){if(e.ref&&t.ref){const n=t.ref;t.ref=t=>{e.ref(t),n(t)}}return r.cloneElement(e,t)};var o=n(474848);const a=function(e){const[t,a]=(0,r.useState)([]),{render:l}=e,s=(0,n(590526).K8)((()=>l()),[l]),c=(0,r.useMemo)((()=>new Set(s.map((e=>e.key)))),[s]),u=(0,n(591779).ZC)(s);if(u){const e=[],n=new Set(t.map((e=>e.key)));for(const t of u)if(!c.has(t.key)&&!n.has(t.key)){const n={visible:!1,onAnimationEnd:()=>{a((e=>e.filter((e=>e.key!==r.key))))}},r=i(t,n);e.push(r)}e.length>0&&a((t=>[...t,...e]))}const d=t.filter((e=>!c.has(e.key))).concat(s);return(0,o.jsx)("div",{className:e.className,children:d})}},327994:(e,t,n)=>{n.d(t,{j:()=>o,u:()=>i});var r=()=>n(486678);const i=r().Z,o=r().S},444570:(e,t,n)=>{n.d(t,{KG:()=>d,TH:()=>u,mC:()=>f,zb:()=>m});var r=()=>n(295633),i=()=>n(700500),o=()=>n(534177),a=()=>n(120672),l=()=>n(836724),s=()=>n(52957),c=()=>n(327994);function u(e){var t,n,o;const{environment:c,store:u,selectableBoundingRect:d}=e,f=u.getType();if(!f||!(0,i().UL)(f))return(null==d?void 0:d.width)??0;const m=null===(t=u.getParentBlockStore())||void 0===t?void 0:t.getType();if("page"===m)return(0,a().y)(c);const g=null===(n=u.getRecordStoreUIParent())||void 0===n||null===(n=n.findRecordStoreUIAncestor((e=>Boolean(e instanceof r().B&&e.isPath([])&&l().T.findSelectableFromStore(e)))))||void 0===n?void 0:n.ancestor,p=g&&g instanceof r().B?l().T.findSelectableFromStore(g):void 0,v=p?null===(o=s().default.state.selectableRectMap.get(p))||void 0===o?void 0:o.width:(null==d?void 0:d.width)??0,b=m?function(e){switch(e){case"bulleted_list":case"toggle":case"to_do":case"numbered_list":return 26;case"callout":return 60;default:return 0}}(m):0;return(v??0)-b}function d(e){const{store:t,selectableBoundingRect:n,containerWidth:r}=e,a=t.getType();if(!(n&&r&&a&&(0,i().UL)(a)))return 0;const l=(e=>{const n=null===(e=t.getFormat())||void 0===e?void 0:e.block_alignment;if(!n){return t.isRootOrDirectChild()?"center":"left"}return n})();switch(l){case"right":const e=r/2;return n.width-e-e;case"center":return(n.width-r)/2;case"left":return 0;default:(0,o().HB)(l)}}function f(e){const t=e.getNode();return t?parseInt(getComputedStyle(t).marginTop):0}function m(){return c().u}},863484:(e,t,n)=>{n.d(t,{qg:()=>I,jU:()=>N,ac:()=>k});var r=()=>n(726637),i=()=>n(677610),o=()=>n(799954),a=()=>n(700500),l=()=>n(209199),s=()=>n(534177);const c=35;var u=()=>n(236030),d=()=>n(999140),f=()=>n(799832),m=()=>n(835066),g=()=>n(91765),p=()=>n(444570),v=()=>n(327994),b=()=>n(807990),y=()=>n(206051),h=()=>n(346116),T=()=>n(809724);const _=u().Fh-2,x=10,C=2,B=4,w=15,S=24;function k(e){const{marginItemType:t,store:n,nodeRect:l,containerRect:c}=e,d=(0,i().s)(),f=(0,g().oK)(n),m=d?function(e){const t=(0,i().s)();if(!t)return 0;const{store:n,marginItemType:r,libraryViewName:l}=e,s=n.getType(),c=n.getNavigableAncestorFormat(),u=Boolean(c.page_small_text),d=(0,T().xU)(n);if(l&&"selectable_hover_menu_overlay_item"===r)return 4;if(d)return d.wrapper.paddingTop+d.title.paddingTop-(u?1.5:0);if(s===a().xd.text)return o().dE.paddingTop-(u?1.5:0);if(s===a().xd.header){return 39.5-(u?2.5:0)}if(s===a().xd.subHeader){return 31.5-(u?2:0)}if(s===a().xd.subSubHeader){return 25-(u?1.5:0)}if(s===a().xd.header4){return 19.5-(u?1:0)}if(s===a().xd.divider)return-5;if(s===a().xd.table)return"presence_avatars"===r?5.5:14;if(s===a().xd.page&&n.getAssociatedCollectionStore())return 3;return 8}({store:n,marginItemType:t,libraryViewName:f}):function(e){const{store:t,marginItemType:n,libraryViewName:r}=e,i=t.getType(),o=t.getNavigableAncestorFormat(),l=Boolean(o.page_small_text);return r&&"selectable_hover_menu_overlay_item"===n?4:i===a().xd.divider?-6:i===a().xd.header?l?7:10:i===a().xd.subHeader?l?4:6:i===a().xd.collectionView?8:i===a().xd.table?"presence_avatars"===n?5.5:14:3}({store:n,marginItemType:t,libraryViewName:f}),p=d?function(e){const t=(0,i().s)();if(!t)return 0;const{baseOffset:n,store:r,libraryViewName:o}=e;if(r.isTransclusionType())return n-1.5;if(A(r,o))return(u().tt-S)/2;if("ai_block"===r.getType())return r.hasContent()?n+9:n+15;if(r.getType()===a().xd.button)return n+6;return n}({baseOffset:m,store:n,libraryViewName:f}):function(e){const{baseOffset:t,store:n,libraryViewName:r}=e;if(n.isTransclusionType())return t+5;if(A(n,r))return(u().tt-S)/2;if("ai_block"===n.getType())return n.hasContent()?t+9:t+15;if(n.getType()===a().xd.button)return t+3;return t}({baseOffset:m,store:n,libraryViewName:f}),b=((null==l?void 0:l.top)??0)-((null==c?void 0:c.top)??0)+p,y=r().A.isMobile?16:22,h=(v().j-y)/2;if("selectable_hover_menu_overlay_item"===t)return b;if("presence_avatars"===t){const{avatarCount:t}=e;return b+h+(t-1)*w}(0,s().HB)(t)}function I(e){const{marginItemType:t,store:n,environment:i,nodeRect:o,containerRect:a,selectable:c}=e,u=r().A.isMobile?16:22,d=(0,g().oK)(n),m=n.isInsideCollection()||Boolean(d)?C:x,v=(0,p().zb)()+m,{maxLeft:y,isBoundedByParentContainer:h}=function(e){const{selectable:t,nodeRect:n,store:r,libraryViewName:i}=e,o=(0,l().A1)()?(null==n?void 0:n.right)??0:(null==n?void 0:n.left)??0;if(r.isCollectionView()||r.isInsideCollection()){const e=(0,f().U)(r);if(e&&"table"!==e.getViewType())return{maxLeft:o,isBoundedByParentContainer:!1}}const a=null==t?void 0:t.getScrollerContext();let s=0;if(!(0,l().A1)()&&a&&a.horizontalScroller){const e=a.horizontalScroller.getClientRect();s=(null==e?void 0:e.left)??0}const c=Math.max(s,o),u=A(r,i)&&V(r)?_:0,d=c-((0,l().A1)()?-1:1)*u<=s,m=d?s:c;return{maxLeft:m,isBoundedByParentContainer:d}}({selectable:c,nodeRect:o,store:n,libraryViewName:d}),T=R(i,v+S,n,h),w=(null==a?void 0:a.left)??0,k=(0,l().A1)()?w-y:y-w;if("drag_handle"===t)return k-R(i,v,n,h,d);if("plus_button"===t)return k-T;if("presence_avatars"===t){const e=function(e){var t;const{marginItemType:n,originalMenuOffset:r,environment:i,store:o,isBoundedByParentContainer:a}=e,l=b().default.state,c=l.isOpen&&(null===(t=l.currentStore)||void 0===t?void 0:t.id)===o.id;switch(n){case"presence_avatars":return c&&l.currentStore&&!b().default.isRightMarginCommentHovered()?r:R(i,0,o,a);case"drag_handle":case"plus_button":return r;default:(0,s().HB)(n)}}({marginItemType:t,originalMenuOffset:T,environment:i,store:n,isBoundedByParentContainer:h});return k-e-B-u}(0,s().HB)(t)}function N(e){const{marginItemType:t,nodeRect:n,containerRect:r}=e;if("add_comment"===t)return(0,l().A1)()?((null==n?void 0:n.left)??0)-((null==r?void 0:r.left)??0):((null==r?void 0:r.right)??0)-((null==n?void 0:n.right)??0);(0,s().HB)(t)}function R(e,t,n,r,i){if(!r&&V(n)&&A(n,i))return t+_;if(n.isQuoteBlockChild()){return t+3+14+o().CC.paddingInlineStart}if(i)return t;if(n.getType()===a().xd.collectionView)return t+6;if(n.isTransclusionType()||"ai_block"===n.getType())return t+4;if(n.isDirectChildOfAiBlock())return t+13;if(n.isInsideTransclusion())return t+5;if(n.getType()===a().xd.table){const r=(0,h().o)({simpleTableStore:n,environment:e,includeInline:!(0,m().dC)(e,n)}),i=n.isImmediateColumnChild();return 0!==r||i?t+8:t}const l=n.getNumberOfDuplicateBlocksAncestors();return l>0?t+c*l:t}function A(e,t){var n;if(t)return!0;if(e.getType()!==a().xd.page&&!e.isPersonProfile())return!1;const r=(0,f().U)(e);if(!r)return!1;return(e.isInsideCollection()||Boolean(null==r||null===(n=r.collectionStore())||void 0===n?void 0:n.isPageTreeCollection()))&&(0,d().f5)({collectionContextStore:r})}function V(e){var t;const n=y().default.state.stores.includes(e);return b().default.state.isOpen&&(null===(t=b().default.state.currentStore)||void 0===t?void 0:t.id)===e.id||n}}}]);