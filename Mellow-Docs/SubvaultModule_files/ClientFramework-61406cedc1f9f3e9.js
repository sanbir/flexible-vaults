"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[75134],{2298:(e,t,n)=>{n.d(t,{Ve:()=>r,Vo:()=>i,bv:()=>a});var o=()=>n(534177);function i(e){if(!e)return{type:"range",min:0,max:Number.MAX_SAFE_INTEGER};if("range"===e.type)return e;let t=0,n=Number.MAX_SAFE_INTEGER;switch(e.type){case"fill":t=Number.MAX_SAFE_INTEGER;break;case"fixed":t=e.length,n=e.length;break;case"unlimited":break;case"min":t=e.length;break;case"max":n=e.length;break;default:(0,o().HB)(e)}return{type:"range",min:t,max:n,scroll:e.scroll}}function r(e){return{width:i(null==e?void 0:e.width),height:i(null==e?void 0:e.height)}}function s(e){switch(null==e?void 0:e.type){case"fill":case"fixed":return!1;case"range":return e.min!==e.max;case"max":case"min":case"unlimited":case void 0:return!0;default:(0,o().HB)(e)}}function a(e){return{width:s(null==e?void 0:e.width),height:s(null==e?void 0:e.height)}}},15258:(e,t,n)=>{n.d(t,{cD:()=>l,lW:()=>u,xJ:()=>c});var o=n(296540),i=()=>n(15333),r=()=>n(484714),s=()=>n(590526);const a=(0,o.createContext)(void 0);function d(){return(0,o.useContext)(a)||window}function c(e){const t=(0,s().K8)((()=>e.state.height),[e]),n=d();return n!==window?n.innerHeight:t}function u(){const{WindowSizeStore:e}=(0,r().v3)();return(0,s().K8)((()=>{const{width:t,height:n}=e.state;return{width:t,height:n}}),[e])}function l(){const e=(0,r().v3)(),t=d(),n=(0,s().K8)((()=>{const t=e.WindowSizeStore.state;return{paddingTop:t.paddingTop,paddingLeft:t.paddingLeft,paddingRight:t.paddingRight,paddingBottom:t.paddingBottom,paddingTopCSS:t.paddingTopCSS,paddingLeftCSS:t.paddingLeftCSS,paddingRightCSS:t.paddingRightCSS,paddingBottomCSS:t.paddingBottomCSS}}),[e.WindowSizeStore]),[a,c]=(0,o.useState)((0,i().zH)(t,e.device,void 0));return(0,o.useEffect)((()=>{const n=()=>{c((n=>{const o=(0,i().zH)(t,e.device,n.largestDimension);return n.width===o.width&&n.height===o.height&&n.largestDimension===o.largestDimension?n:o}))};return t.addEventListener("resize",n),t.document.addEventListener("visibilitychange",n),()=>{t.removeEventListener("resize",n),t.document.removeEventListener("visibilitychange",n)}}),[t,e.device]),(0,i().Me)(a,n)}a.displayName="ModalWindowContext"},15333:(e,t,n)=>{let o;function i(e){if(void 0!==o)return o;const t="undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.supports&&window.CSS.supports("padding-top","env(safe-area-inset-top)"),n=e.isIOS&&e.isMobileBrowser&&!e.isSafari;return o=t&&!n,o}function r(e,t){return i(e)?parseInt(window.getComputedStyle(document.documentElement).getPropertyValue(t).replace("px",""),10):0}function s(e,t,n){return{width:t.isIOS?e.document.documentElement.clientWidth:e.innerWidth,height:t.isIOS?e.document.documentElement.clientHeight:e.innerHeight,largestDimension:Math.max(e.innerWidth,e.innerHeight,n??0)}}function a(e,t){const n=i(e);if(e.isAndroid&&e.isMobileNative&&null!=t&&t.supportsNativeSafeAreaConfig){const{top:e,bottom:n,left:o,right:i}=t;return{paddingTop:e,paddingLeft:o,paddingRight:i,paddingBottom:n,paddingTopCSS:`${e}px`,paddingLeftCSS:`${o}px`,paddingRightCSS:`${i}px`,paddingBottomCSS:`${n}px`}}const o=function(e){return r(e,"--safe-area-inset-top")}(e),s=function(e){return r(e,"--safe-area-inset-left")}(e),a=function(e){return r(e,"--safe-area-inset-right")}(e),d=function(e){return r(e,"--safe-area-inset-bottom")}(e);return{paddingTop:o,paddingLeft:s,paddingRight:a,paddingBottom:d,paddingTopCSS:n?"env(safe-area-inset-top)":"0px",paddingLeftCSS:n?"env(safe-area-inset-left)":"0px",paddingRightCSS:n?"env(safe-area-inset-right)":"0px",paddingBottomCSS:n?"env(safe-area-inset-bottom)":"0px"}}function d(e,t){const{width:n,height:o,largestDimension:i}=e,{paddingLeft:r,paddingTop:s,paddingBottom:a,paddingRight:d,paddingTopCSS:c,paddingLeftCSS:u,paddingRightCSS:l,paddingBottomCSS:h}=t;return{width:n,height:o,paddingLeft:r,paddingTop:s,paddingBottom:a,paddingRight:d,paddingTopCSS:c,paddingLeftCSS:u,paddingRightCSS:l,paddingBottomCSS:h,largestDimension:i}}function c(e,t,n){if(t.isMobileBrowser){const t=e.innerHeight;e.document.body.style.height=`${t}px`;const n=e.document.querySelector("html");n&&(n.style.height=`${t}px`);const o=e.document.querySelector("#notion-app");o&&o instanceof HTMLElement&&(o.style.height=`${t}px`)}e.document.documentElement.style.setProperty("--full-viewport-height",`${n}px`)}n.d(t,{Wn:()=>c,Me:()=>d,wx:()=>a,zH:()=>s})},17022:(e,t,n)=>{n.d(t,{e:()=>o().eF});var o=()=>n(60053)},21560:(e,t,n)=>{n.d(t,{A:()=>i});class o extends(()=>n(757695))().Store{getInitialState(){return{open:!1}}}const i=new o},23749:(e,t,n)=>{n.d(t,{A:()=>s});var o=n(296540),i=()=>n(872994),r=n(474848);function s({name:e,children:t}){const n=(0,i().y)(),s=(0,o.useRef)({displayName:`MCE(${e})`});return(0,o.useInsertionEffect)((()=>{n&&n.domLock.lockAfterRender(s.current)})),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a,{token:s}),(0,r.jsx)(r.Fragment,{children:t})]})}function a({token:e}){const t=(0,i().y)();return(0,o.useInsertionEffect)((()=>{t&&t.domLock.unlockForRender(e.current)})),null}},29923:(e,t,n)=>{n.d(t,{R:()=>s});n(16280),n(517642),n(658004),n(733853),n(845876),n(432475),n(515024),n(731698);var o=()=>n(496603);const i="notion_test_local_storage_key",r="notion_123";class s{constructor({key:e,namespace:t,important:a,trackingType:d}){if(this.lruStore=void 0,this.key=void 0,this.emitter=new(n(592328).A),this._canPersistToLocalStorage=void 0,this.canPersistToLocalStorage=()=>{if(void 0===this._canPersistToLocalStorage){let e;try{this.lruStore.set(i,r),e=this.lruStore.get(i,{disableLRU:!0}),e&&this.lruStore.remove(i)}catch{}this._canPersistToLocalStorage=e===r}return this._canPersistToLocalStorage},this.handleStorage=e=>{if("string"!=typeof e.key)return;if(this.lruStore.parseRawKeyToOwnedKey(e.key)===this.key){if(null===e.newValue&&e.oldValue)return void this.emit();if(e.newValue&&null===e.oldValue)return void this.emit();if(null===e.oldValue&&null===e.newValue)return;if(e.newValue&&e.oldValue)try{const t=JSON.parse(e.oldValue).value,n=JSON.parse(e.newValue).value;o().n4(t,n)||this.emit()}catch{n(449412).O8(new Error("Malformed value(s) found in localStorage"),{from:"LocalStorageKeyStore",type:"ParseError",data:{key:e.key,oldValue:e.oldValue,newValue:e.newValue}})}}},s.keysWithStores.has(`${t}:${e}`))throw new Error("Please create only one LocalStorageKeyStore per key.");s.keysWithStores.add(`${t}:${e}`),this.key=e,this.lruStore=new(n(553737).Ay)({namespace:t,important:a,trackingType:d,onHasPermissionForTrackingTypeChange:()=>{this.emit()}})}waitUntilReady(){return this.lruStore.waitUntilReady()}getState(){return n(60053).eF.logStoreAccess(this,this.getDebugInfo()),this.lruStore.get(this.key)}get state(){return this.getState()}setState(e){const t=this.lruStore.get(this.key,{disableLRU:!0});o().n4(t,e)||(void 0!==e?this.lruStore.set(this.key,e):this.lruStore.remove(this.key),this.emit())}update(e){this.setState(e(this.state))}emit(){this.emitter.emit(this)}addListener(e){const t=this.emitter.listenerCount();this.emitter.addListener(e),0===t&&1===this.emitter.listenerCount()&&window.addEventListener("storage",this.handleStorage)}removeListener(e){const t=this.emitter.listenerCount();this.emitter.removeListener(e),1===t&&0===this.emitter.listenerCount()&&window.removeEventListener("storage",this.handleStorage)}getDebugInfo(){return this.lruStore.get(this.key,{disableLRU:!0})}static reset_TEST_ONLY(){s.keysWithStores=new Set([])}}s.keysWithStores=new Set([])},45105:(e,t,n)=>{n.d(t,{w:()=>o});const o=n(296540).createContext(0);o.displayName="ScrollbarWidthContext"},60053:(e,t,n)=>{n.d(t,{Su:()=>d,eF:()=>s,kR:()=>c});n(16280),n(944114),n(898992),n(354520),n(803949),n(581454);var o=()=>n(558842),i=()=>n(992202);const r=n(427652).jY;class s{static hasCurrentListener(){return Boolean(s.currentListener)}static logStoreAccess(e,t){const r=this.currentListener;(0,i().logStoreAccess)(e,r??void 0),r?r.logStoreAccess(e):this.ignoreCurrentListener||function(e,t){if(!(0,o().xx)())return;const i=(0,o().lz)(),r=n(496603).o8(t);{const t=`A component read ${e.constructor.name}'s state without subscribing to updates`;(0,n(624919).NK)(t,[[i],["state =",r]]),n(449412).Fg("A component read store state without subscribing to updates",{level:"error",extra:{"notion-component-info":i,"notion-store-name":e.constructor.name}})}}(e,t)}static withListenerIgnored(e){const t=s.currentListener,n=s.ignoreCurrentListener;s.currentListener=null,s.ignoreCurrentListener=!0;try{return e()}finally{s.currentListener=t,s.ignoreCurrentListener=n}}static withLogging(e){s.debug=!0;try{return e()}finally{s.debug=!1}}constructor(e){this.debug=!1,this.listenCycle=0,this.listenerVersionMap=new Map,this.args=void 0,this.isListening=!1,this.lastListener=null,this.listenerInfo=void 0,this.observers=void 0,this.onChange=e=>{(s.debug||this.debug)&&console.warn("AutoListener",this.args.debugName||"unknown",`onChange ${this.listenCycle}:`,e),this.isListening||this.args.onChange(e)},this.args=e,this.listenerInfo=r&&e.debugName?{listenerName:e.debugName,listenerType:e.source??"unknown"}:void 0,this.args.debug&&(this.debug=this.args.debug);(this.args.observers??a.map((e=>e.deref())).filter(n(534177).O9)).forEach((e=>{e.isActive()&&(this.observers??=[],this.observers.push(new WeakRef(e)))}))}destroy(e){this.listenerVersionMap.forEach(((t,n)=>{this.removeStoreListener(n,e)}))}startListener(e){var t;this.lastListener=s.currentListener,s.currentListener=this,this.isListening=!0,null===(t=this.observers)||void 0===t||t.forEach((e=>{var t;return null===(t=e.deref())||void 0===t?void 0:t.activate()})),e.incrementCycle&&this.listenCycle++}stopListener(e){var t,n;const o=null===(t=s.currentListener)||void 0===t?void 0:t.args.debugName;s.currentListener=this.lastListener,this.lastListener=null,this.isListening=!1,null===(n=this.observers)||void 0===n||n.forEach((e=>{var t;return null===(t=e.deref())||void 0===t?void 0:t.deactivate()})),e.isEndOfCycle&&this.listenerVersionMap.forEach(((e,t)=>{e<this.listenCycle&&this.removeStoreListener(t,o)}))}logStoreAccess(e){var t;(s.debug||this.debug)&&s.withListenerIgnored((()=>{console.warn("Autolistener",this.args.debugName||"unknown",`logStoreAccess ${this.listenCycle}:`,e)})),this.addStoreListener(e,r?null===(t=s.currentListener)||void 0===t?void 0:t.listenerInfo:void 0),this.listenerVersionMap.set(e,this.listenCycle)}addStoreListener(e,t){if((0,i().logListenerAdded)(e,this,6),!this.listenerVersionMap.has(e)&&(e.addListener(this.onChange,t),this.args.onAddListener&&this.args.onAddListener(e),a.length))for(const o of a){var n;null===(n=o.deref())||void 0===n||n.onAddListener(this,e)}}removeStoreListener(e,t){if(this.listenerVersionMap.has(e)&&(e.removeListener(this.onChange,t),(0,i().logListenerRemoved)(e,this),this.listenerVersionMap.delete(e),this.args.onRemoveListener&&this.args.onRemoveListener(e),a.length))for(const o of a){var n;null===(n=o.deref())||void 0===n||n.onRemoveListener(this,e)}}}s.debug=!1,s.currentListener=null,s.ignoreCurrentListener=!1;const a=[];class d{constructor(e,t){this.version=1,this.activeStackDepth=0,this.debugName=e,this.handlers=t}onAddListener(e,t){this.isActive()&&this.handlers.onAutoListenerAdded(e,t)}onRemoveListener(e,t){this.isActive()&&this.handlers.onAutoListenerRemoved(e,t)}isActive(){return this.activeStackDepth>0}register(){a.push(new WeakRef(this))}unregister(){const e=a.findIndex((e=>e.deref()===this));-1!==e&&(a.splice(e,1),this.handlers.didUnregister())}activate(){this.activeStackDepth++}deactivate(){this.activeStackDepth--}}class c{constructor(e){this.version=1,this.observers=e}forEach(e){this.observers.forEach(e)}}},62175:(e,t,n)=>{n.d(t,{U:()=>r,y:()=>s});var o=()=>n(763884),i=()=>n(757695);class r{constructor(e,t,n){this.nextVersion=1,this.keyFn=void 0,this.promiseMap=void 0,this.versionMap=void 0,this.storeMap=void 0,this.fetchFn=void 0,this.dontCacheUndefined=void 0,this.fetch=async(e,t,n)=>{const o=this.keyFn(e,t),i=this.nextVersion++;this.versionMap[o]=i;const r=await this.fetchFn(e,t,n);return this.versionMap[o]!==i?await this.promiseMap[o]:(this.storeMap[o].setState(r),this.dontCacheUndefined&&void 0===r&&(this.promiseMap[o]=void 0),r)},this.storeMap={},this.promiseMap={},this.versionMap={},this.fetchFn=t,this.keyFn=e,this.dontCacheUndefined=(null==n?void 0:n.dontCacheUndefined)??!1}getData(e,t,n=!1){var o;const r=this.keyFn(e,t);return n&&(this.promiseMap[r]=void 0),this.storeMap[r]??=i().Store.createValue(void 0),this.promiseMap[r]??=this.fetch(e,t,n),null===(o=this.storeMap[r])||void 0===o?void 0:o.state}awaitData(e,t,n=!1){const o=this.keyFn(e,t);return n&&(this.promiseMap[o]=void 0),this.storeMap[o]??=i().Store.createValue(void 0),this.promiseMap[o]??=this.fetch(e,t,n),this.promiseMap[o]}resetData(e,t,n=!1){const o=this.keyFn(e,t),i=this.storeMap[o];if(i&&i.listenerCount()>0||n){const n=this.fetch(e,t,!0);return this.promiseMap[o]=n,n.then((()=>{}))}return this.promiseMap[o]=void 0,Promise.resolve(void 0)}TEST_ONLY__setData(e,t,n){const o=this.keyFn(e,t);this.promiseMap[o]=Promise.resolve(n),this.storeMap[o]??=i().Store.createValue(void 0),this.storeMap[o].setState(n)}TEST_ONLY__getData(e,t){var n;const o=this.keyFn(e,t);return null===(n=this.storeMap[o])||void 0===n?void 0:n.state}TEST_ONLY__hasData(e,t){const n=this.keyFn(e,t);return void 0!==this.storeMap[n]}TEST_ONLY__addListener(e,t,n){const o=this.keyFn(e,t);this.storeMap[o]??=i().Store.createValue(void 0),this.storeMap[o].addListener(n)}}async function s({environment:e,namespace:t,key:n,getValue:i,forceRefetch:r}){const s=e.currentUser.id,a=`{${t}}:${n}`;r&&o().K.set({userId:e.currentUser.id,key:a,value:null});const d=o().K.get({userId:s,key:a});if(d)return d;const c=await i();return o().K.set({userId:e.currentUser.id,key:a,value:c}),c??void 0}},73526:(e,t,n)=>{n.r(t);n(944114);var o=()=>n(466103);(0,o().exposeDebugEnvironmentValue)("toggleKeyboardShortcutStackDebugging",(e=>()=>{const t=!e.KeyboardShortcutStackStore.debugPropagation;e.KeyboardShortcutStackStore.debugPropagation=t,console.log(`Keyboard shortcut stack debugging is now ${t?"enabled":"disabled"}.`)})),(0,o().exposeDebugEnvironmentValue)("logKeyboardShortcutStackState",(e=>()=>{e.KeyboardShortcutStackStore.logDOMNodes()})),(0,o().exposeDebugEnvironmentValue)("logKeyboardShortcutMap",(e=>()=>{const t=e.KeyboardShortcutStackStore.state.stack,o=e.KeyboardShortcutsStore.state.shortcuts,i=(0,n(588165).a)(o);console.log("These are the current shortcut keybindings.","All unset and no-op bindings are passed through to the browser,","triggering its default behavior. Other bindings may or","may not trigger default browser behavior.\n\n");const r=Array.from(Object.entries(i));r.sort(((e,t)=>e[0]>t[0]?1:-1));for(const[e,s]of r){const o=e,i=[],r=s[0],a=s.slice(1);let d=!0;for(let e=t.length-1;e>=0;e--){const r=t[e],s=r.shortcuts[o];if(r.enable&&s){0===i.length&&(d=s===n(496603).D_);const e=d?" (no-op)":"";i.push(`${r.debugName}${e}`)}}const c=d?"font-weight: normal; color: gray":"font-weight: normal",u=i.length>0?i[0]:"unset",l=r?[`%c${o} (%c${r}%c): ${u}`,c,d?c:"font-weight: normal; color: blue",c]:[`%c${o}: ${u}`,c];if(a.length||i.length>1){console.groupCollapsed(...l),a.length&&console.log(`  Also triggered by ${a.join(", ")}.`);for(const e of i.slice(1))console.log(`  â€¢ Overrides ${e}.`);console.groupEnd()}else console.log(...l)}}))},75435:(e,t,n)=>{n.d(t,{A:()=>r,b:()=>s});class o extends(()=>n(757695))().Store{getInitialState(){return{}}}const i=new o,r=i,s=new(n(140934).ComputedStore)((()=>{var e;return Boolean((null===(e=i.state.preferences)||void 0===e?void 0:e.isAlwaysOnTabBarEnabled)||i.state.isShowingTabBar)}),{debugName:"isShowingTabBarStore"})},79926:(e,t,n)=>{n.d(t,{O2:()=>m,Qz:()=>S,_M:()=>h,_h:()=>v,fJ:()=>f,jQ:()=>b,u2:()=>p});n(944114),n(898992),n(803949);var o=n(296540),i=()=>n(187174),r=()=>n(558842),s=()=>n(319625),a=()=>n(763824),d=()=>n(23749),c=()=>n(590526),u=()=>n(929219),l=n(474848);const h=300;class m{constructor(e,t,o){this.name=void 0,this.loader=void 0,this.promise=void 0,this.retryMs=void 0,this.attempts=void 0,this.loadAttempt=async e=>{e&&await Promise.all([a().wR(this.retryMs),u().A.waitUntil((()=>u().A.state.online))]);const t=this.attempts++;try{return await this.loader()}catch(o){throw n(449412).Fg(o,{extra:{waitMs:this.retryMs,attempts:t},tags:{dependencyName:this.name}}),n(165358).log({level:"warning",from:"useDependency",type:"loadError",error:(0,n(229833).convertErrorToLog)(o),data:{miscDataToConvertToString:{waitMs:this.retryMs},name:this.name}}),this.retryMs=Math.min(2*this.retryMs,3e4),o}},this.options=o,this.name=e,this.loader=t,this.promise=new(a().Il)(this.loadAttempt),this.retryMs=500,this.attempts=0}getLoadingState(){return this.promise.state}getLoadingMetrics(){const{state:e}=this.promise;if("resolved"===e.status){const{startedAt:t,resolvedAt:n}=e;return{startedAt:t,resolvedAt:n}}}reset(){this.promise=new(a().Il)(this.loadAttempt),this.retryMs=500}async load(e){var t;null!==(t=this.options)&&void 0!==t&&t.waitUntilReadyToLoad&&!e&&await this.options.waitUntilReadyToLoad();const o=await this.promise.runWithRetry(),i=this.getLoadingMetrics();return i&&i.startedAt&&i.resolvedAt&&n(905343).A.addTrace({type:"lazy_load",name:this.name,start:i.startedAt,end:i.resolvedAt}),o}}function p(e){const{dependency:t,renderLoading:n,renderOfflineError:o,children:s,forceRenderLoading:a}=e,m=f(t),p=!a&&"resolved"===m.status,g=(0,i().BC)({state:m,spinAfterMs:h,render(e){if(n)return n(e)},forceRenderLoading:a}),v=(0,c().K8)((()=>p?s(m.value):null),[p,s,m.value],{debugName:`DependencyConsumer(${t.name}).useComputedStore`,silenceRerenderDefender:!0}),b=(0,c().O$)(u().e),y="rejected"===m.status&&!b;return(0,l.jsx)(d().A,{name:`Lazy_${t.name}`,children:y&&o?o():p?(0,r().Du)(v):g})}function f(e,t){const[n,i]=(0,o.useState)({asyncState:e.getLoadingState(),dependency:e});return n.dependency!==e&&i({asyncState:e.getLoadingState(),dependency:e}),(0,o.useEffect)((()=>{null!=t&&t.disabled||"idle"!==n.asyncState.status&&"rejected"!==n.asyncState.status&&"pending"!==n.asyncState.status||async function(){try{const e=await n.dependency.load();i({asyncState:{status:"resolved",value:e},dependency:n.dependency})}catch(e){i({asyncState:{status:"rejected",error:(0,s().A)(e)},dependency:n.dependency})}}()}),[null==t?void 0:t.disabled,n.dependency,n.asyncState]),n.asyncState}function g(e){const{renderLoading:t,forceRenderLoading:n,...o}=e;return o}function v(e,t,n={}){return y(e,t,{...n,shouldForwardRef:!1,forceRenderLoading:n.forceRenderLoading??!1})}function b(e,t,n={}){return y(e,t,{...n,shouldForwardRef:!0,forceRenderLoading:n.forceRenderLoading??!1})}function y(e,t,n){const{shouldForwardRef:i}=n,r=function(o,r){const s=o.renderLoading||n.renderLoading,a=o.forceRenderLoading||n.forceRenderLoading,d=g(o);return(0,l.jsx)(p,{renderLoading:s?e=>s(e,d):void 0,renderOfflineError:n.renderOfflineError?()=>{var e;return null===(e=n.renderOfflineError)||void 0===e?void 0:e.call(n,o)}:void 0,dependency:e,forceRenderLoading:a,children:e=>{const n=t(e);return(0,l.jsx)(n,{...i?{ref:r}:{},...d})}})};return r.displayName=`DependencyComponent(${e.name})`,i?(0,o.memo)((0,o.forwardRef)(r)):(0,o.memo)(r)}function S(e,t){const n=function(n,o){const i=n.renderLoading,r=g(n);return(0,l.jsx)(p,{renderLoading:i?e=>i(e,r):void 0,dependency:e,children:e=>t(e,{...r,ref:o})})};return n.displayName=`withDependency(${e.name})`,(0,o.forwardRef)(n)}},88728:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});class o extends(()=>n(757695))().Store{getInitialState(){}}const i=new o},91076:(e,t,n)=>{n.d(t,{c:()=>r,z:()=>a});n(517642),n(658004),n(733853),n(845876),n(432475),n(515024),n(731698);var o=n(296540),i=()=>n(726637);const r=new Set;function s(){for(const e of r)e()}function a(){(0,o.useEffect)((()=>{if(i().A.isMobile)return document.addEventListener("scroll",s,!0),()=>{document.removeEventListener("scroll",s,!0)}}),[])}},93583:(e,t,n)=>{n.d(t,{A:()=>i});var o=n(296540);function i(...e){return(0,o.useCallback)((t=>{for(const n of e)"function"==typeof n?n(t):null!=n&&(n.current=t)}),[e])}},105751:(e,t,n)=>{n.d(t,{getHtmlStreamQueueEntry:()=>c});n(16280),n(944114),n(814628);var o=()=>n(149208),i=()=>n(534177);let r=!1;const s={},a={};function d(e,t){if(null!==e){if(s[e])throw new Error(`Duplicate HTML stream entry: ${e}`);s[e]=t,(a[e]??=Promise.withResolvers()).resolve(t)}else{for(const e of(0,i().uv)(a))a[e].reject(e);r=!0}}function c(e){l();const t=a[e]??=Promise.withResolvers();return r&&t.reject(e),t.promise}let u=!1;function l(){if(u)return;u=!0;const e=window[o().n];if(!e)throw new Error("HTML stream queue not found");for(let t=0;t<e.length;t+=2)d(e[t],e[t+1]);e.length=0,e.push=d}},110525:(e,t,n)=>{n.d(t,{B:()=>i,n:()=>r});const o=(0,n(296540).createContext)(void 0);o.displayName="OverrideLinkClickContext";const i=o.Provider,r=o},110750:(e,t,n)=>{n.d(t,{AE:()=>l,Bd:()=>d,Ee:()=>u,GP:()=>g,Un:()=>m,WP:()=>c,XB:()=>p,Xz:()=>h});n(944114),n(898992),n(354520);var o=()=>n(165358),i=()=>n(427704),r=()=>n(496603),s=()=>n(939768);const a=["onboarding","root"];class d extends(()=>n(757695))().Store{constructor(...e){super(...e),this.previousState=void 0}getInitialState(){let e;try{if("/nativetab/updates"===window.location.pathname)e="updates";else e="home"}catch{e="home"}return{activeTab:e,modal:[],tabs:{home:{rootPage:{type:"native",id:"home"},pages:[{type:"web",route:{name:"root"},url:"/"}],nativeRootPageOverrideEnabled:!0},search:{rootPage:{type:"native",id:"search"},pages:[],nativeRootPageOverrideEnabled:!0},updates:{rootPage:{type:"web",route:{name:"nativeTab",tab:"updates",spaceId:void 0},url:`${i().GJ.nativeTab}/updates`},pages:[]},addPage:{rootPage:{type:"web",route:{name:"new"},url:i().GJ.newPage},pages:[]},ai:{rootPage:{type:"web",route:{name:"nativeTab",tab:"assistant",spaceId:void 0},url:`${i().GJ.nativeTab}/assistant`},pages:[]}}}}getPreviousState(){return this.previousState}setUp(e){const{nativeInboxEnabled:t}=e;if(t){const e=(0,r().mg)(this.state);e.tabs.updates.rootPage={type:"native",id:"inbox"},e.tabs.updates.nativeRootPageOverrideEnabled=!0,this.setState(e)}}updateWithWebPage(e){var t;const{page:n,action:i,updateMobileTabbedRouterArgs:s}=e,{url:d,route:c}=n,u=(null==s?void 0:s.silenceErrors)||!1;this.debug&&console.info(`TabbedRouterStore.updateWithWebPage ${i} ${c.name} ${d} clearNativeRootPageOverride: ${null==s?void 0:s.clearNativeRootPageOverride}`);const l=(0,r().mg)(this.state),m=l.tabs[l.activeTab];switch(i){case"pop":const e=((null===(t=l.modal)||void 0===t?void 0:t.length)??0)>0;l.modal=[];const n=(0,r().Kl)(m.pages,(e=>this.isWebPageEqual({page:e,otherRoute:c,otherUrl:d})));if(-1!==n)n<m.pages.length-1?m.pages=m.pages.slice(0,n+1):e||o().log({level:"error",from:"TabbedRouterStore",type:"updateWithPage",error:{message:`failed to pop page ${d} because it's the top page in the active tab and we don't have a modal`}});else if("web"===m.rootPage.type&&this.isWebPageEqual({page:m.rootPage,otherRoute:c,otherUrl:d}))m.pages=[];else{if("web"===m.rootPage.type?m.pages=m.pages.slice(0,-1):"native"===m.rootPage.type&&(m.pages.length>=1?m.pages=m.pages.slice(0,-1):m.nativeRootPageOverrideEnabled=!0),u)break;const e=`Unhandled pop - ${d} ${JSON.stringify(c)} is not in pages nor the rootPage`;this.debug&&console.error(`TabbedRouterStore.updateWithWebPage - ${e}`),o().log({level:"error",from:"TabbedRouterStore",type:"updateWithPage",error:{message:e}})}break;case"replace":if(l.modal&&l.modal.length>0){const e=l.tabs[l.activeTab].pages;if(e.length>0&&this.isWebPageEqual({page:e[e.length-1],otherUrl:d,otherRoute:c}))break;l.modal=[],m.nativeRootPageOverrideEnabled?(l.tabs[l.activeTab].pages=[{type:"web",route:c,url:d}],l.tabs[l.activeTab].nativeRootPageOverrideEnabled=void 0):l.tabs[l.activeTab].pages.push({type:"web",route:c,url:d});break}const i=m.rootPage;switch(i.type){case"web":m.pages=[],i.redirectedTo={route:c,url:d};break;case"native":const e=m.pages.length>0?m.pages[m.pages.length-1]:void 0;m.pages=e?[...m.pages.slice(0,-1),{...e,redirectedTo:{route:c,url:d}}]:[{type:"web",route:c,url:d}]}break;case"push":const s=l.tabs[l.activeTab].pages;if(l.modal&&l.modal.length>0){const e=l.modal[l.modal.length-1];if("web"===e.type&&this.isWebPageEqual({page:e,otherUrl:d,otherRoute:c}))break;l.modal=[],o().log({level:"error",from:"TabbedRouterStore",type:"updateWithWebPage",error:{message:`Currently TabbedRouterStore doesn't support multiple pages in the modal yet, so the behavior is to clear the modal and push the page to the active tab's pages. Pushing a new page while a modal is present is unexpected. Page pushed: ${d}, modal page: ${e}`}})}if(s.length>0&&this.isWebPageEqual({page:s[s.length-1],otherUrl:d,otherRoute:c}))break;const h=s.filter((e=>{var t,n;if(null!==(t=e.redirectedTo)&&void 0!==t&&t.route){if(a.includes(null===(n=e.redirectedTo)||void 0===n?void 0:n.route.name))return!1}else if(a.includes(e.route.name))return!1;return!0}));h.push({type:"web",route:c,url:d}),l.tabs[l.activeTab].pages=h}("onboarding"===n.route.name||Boolean(null==s?void 0:s.clearNativeRootPageOverride))&&(m.nativeRootPageOverrideEnabled=void 0);const p=h(this.state);this.setState(l);const f=h(this.state);if(!u&&"replace"!==i&&(0,r().n4)(p,f)){const e=`topPage is the same. Web page ${i} ${c.name} ${d}`;this.debug&&console.error(`TabbedRouterStore.updateWithWebPage - ${e}`),o().log({level:"error",from:"TabbedRouterStore",type:"updateWithWebPage",error:{message:e}})}}updateWithNativePage(e){const{page:t,clearPages:n,navigationAction:o,navigationSource:i}=e,s=(0,r().mg)(this.state);s.navigationAction=o,s.navigationSource=i,s.modal=[];const a=s.tabs[s.activeTab],d=a.rootPage;this.debug&&console.info(`TabbedRouterStore.updateWithNativePage ${t.id}`),"native"===d.type&&d.id===t.id&&(a.nativeRootPageOverrideEnabled=!0,n&&(a.pages=[]),this.setState(s))}canGoBack(){return Boolean(p(this.state))}canGoForward(){return!1}setState(e){(0,r().n4)(this.state,e)||(this.previousState=this.state,this.instanceState=e,this.emit())}isWebPageEqual(e){const{page:t,otherUrl:n,otherRoute:o}=e;if(this.isRouteEqual(t.route,o))return!0;if(u(t)===n)return!0;if(t.redirectedTo){if(this.isRouteEqual(t.redirectedTo.route,o))return!0;if(t.redirectedTo.url===n)return!0}}isRouteEqual(e,t){if(e.name!==t.name)return!1;let n,o;if("nativeTab"===e.name){const n=t;return e.tab===n.tab&&((!n.spaceId||!e.spaceId||n.spaceId===e.spaceId)&&e.tab===n.tab)}return n=e,o=t,(0,r().n4)(n,o)}}function c(e){const t=h(e);let n,o;if("web"===t.type){const{route:e}=l(t);n=e.name,o=e}else n="native";const i={tab:e.activeTab,type:t.type,route:{name:n},tabDepth:f(e)};return o&&"blockId"in o&&(i.route.block_id=o.blockId),i}function u(e,t=!1,n){const o=l(e,t),i=s().ZO(o.url),r=n||e.queryParams;return r?s().O$(i,r):i}function l(e,t=!1){return!t&&e.redirectedTo?e.redirectedTo:{route:e.route,url:e.url}}function h(e){return m(e).page}function m(e){var t;const n=e.tabs[e.activeTab];if(null===(t=e.modal)||void 0===t?void 0:t.length)return{page:e.modal[e.modal.length-1],type:"page"};if(n.pages.length>0){const e=n.pages[n.pages.length-1];return!("onboarding"===e.route.name)&&"native"===n.rootPage.type&&n.nativeRootPageOverrideEnabled?{page:n.rootPage,type:"rootPage"}:{page:e,type:"page"}}return{page:n.rootPage,type:"rootPage"}}function p(e){const t=e.tabs[e.activeTab];if(!t.nativeRootPageOverrideEnabled||"native"!==t.rootPage.type||0!==(e.modal??[]).length){if(e.modal.length>0){if(e.modal.length>1)return o().log({level:"error",from:"TabbedRouterStore",type:"getPreviousPage",error:{message:"found >1 modals and right now only 1 modal page is supported"}}),e.modal[e.modal.length-2];const t=(0,r().mg)(e);return t.modal=[],h(t)}return t.pages.length>0?t.pages.length>1?t.pages[t.pages.length-2]:t.rootPage:void 0}}function f(e){const t=e.tabs[e.activeTab];return t.nativeRootPageOverrideEnabled?1:1+t.pages.length}function g(e){return e.tabs[e.activeTab].pages}},118884:(e,t,n)=>{n.d(t,{X:()=>i});var o=n(296540);function i(e){const t=(0,o.useRef)(e);t.current=e,(0,o.useEffect)((()=>{const e=t.current;return()=>{e()}}),[])}},119504:(e,t,n)=>{n.d(t,{F:()=>o,t:()=>i});const o=100,i=(0,n(793909).b)()},121924:(e,t,n)=>{n.d(t,{A:()=>s});var o=n(296540),i=()=>n(908006),r=()=>n(921676);function s({capture:e,preventType:t}){(0,o.useEffect)((()=>{if(e){const e={preventType:t};return i().default.afterNextFlush((()=>{r().A.state.capturingAreas.add(e),r().A.emit()})),()=>{i().default.afterNextFlush((()=>{r().A.state.capturingAreas.delete(e),r().A.emit()}))}}}),[e,t])}},122499:(e,t,n)=>{n.d(t,{e:()=>r});n(16280);var o=()=>n(769985);const i={cancelRefetch:!0,throwOnError:!0};o().u;class r extends o().u{constructor(e,t){const o=new(n(908255).z)(e,{...t,notifyOnChangeProps:"all",throwOnError:!0});super({getInitialState:()=>o.getCurrentResult(),effect:()=>o.subscribe((e=>this.setState(e))),debugName:t.debugName??`InfiniteQueryStore(${o.options.queryHash})`}),this.observer=void 0,this.queryClient=e,this.observer=o}get options(){return this.observer.options}prefetch(){return this.queryClient.prefetchInfiniteQuery(this.options)}async fetch(){return await this.queryClient.fetchInfiniteQuery(this.options),this.getDataOrThrow()}fetchNextPage(e){return this.observer.fetchNextPage({...i,...e})}fetchPreviousPage(e){return this.observer.fetchPreviousPage({...i,...e})}async refetch(){const e=await this.observer.refetch(i);if(void 0===e.data)throw new Error("Logic error: QueryObserver refetch returned undefined data (this is a bug in InfiniteQueryStore)");return e.data}getDataOrThrow(){return s(this.getState(),`InfiniteQueryStore is pending: ${this.options.queryHash}`)}getState(){return a((()=>super.getState()),(e=>this.setState(e)),this.observer)}}function s(e,t){if(e.isPending)throw new Error(t);if(e.isError)throw e.error;return e.data}function a(e,t,n){const o=e();if(n.hasListeners())return o;{n.updateResult();const e=n.getCurrentResult();return t(e),e}}},128542:(e,t,n)=>{n.d(t,{NotionQueryClient:()=>d});n(16280),n(944114),n(898992),n(803949);const o="query_state_scope_index",i="QueryState",r={SyncEdgeValuesQuery:!0,__EXAMPLE__getFavoriteColor:!1,__EXAMPLE__usingQueryType:!1,__EXAMPLE__usingQueryTypeInfinite:!1};function s(...e){false}class a{constructor(e,t){this.unsubscribeQueryCache=void 0,this.queryCache=void 0,this.db=void 0,this.queryClient=void 0,this.pendingOperations=new Map,this.flushTimeoutId=void 0,this.queryClient=e,this.db=new(n(426403).$E)({device:t},"notion-query-client",1,{upgrade(e,t,n,r){let s;s=e.objectStoreNames.contains(i)?r.objectStore(i):e.createObjectStore(i,{keyPath:"queryHash"}),Array.from(s.indexNames).includes(o)||s.createIndex(o,"scope")}}),this.queryCache=e.getQueryCache()}async initialize(){await this.restoreQueriesInQueryClientCache(),this.unsubscribeQueryCache=this.queryCache.subscribe((e=>this.handleQueryCacheEvent(e)))}destroy(){var e;null===(e=this.unsubscribeQueryCache)||void 0===e||e.call(this),void 0!==this.flushTimeoutId&&clearTimeout(this.flushTimeoutId),this.flushPendingOperations()}async get({queryHash:e}){const t=await this.db.startTransaction({storeNames:[i],mode:"readonly",name:`${i}.get`,timeoutMs:void 0},(async t=>{const n=t.objectStore(i);return{value:await n.get(e)??void 0}}));if(!t.error)return t.value}shouldPersistQuery(e){const t=e.queryKey[0];return"__test__"!==t&&r[t]}handleQueryCacheEvent(e){const{type:t,query:n}=e;if(this.shouldPersistQuery(n)){switch(t){case"added":case"updated":s(n.queryHash,n.state.data),this.pendingOperations.set(n.queryHash,{type:"set",queryHash:n.queryHash,value:{queryHash:n.queryHash,data:n.state.data,dataUpdatedAt:n.state.dataUpdatedAt,queryKey:n.queryKey,scope:n.queryKey[1]}});break;case"removed":s(n.queryKey,n.state.data),this.pendingOperations.set(n.queryHash,{type:"delete",queryHash:n.queryHash})}this.schedulePendingOperationsFlush()}}schedulePendingOperationsFlush(){void 0===this.flushTimeoutId&&(this.flushTimeoutId=setTimeout((()=>{this.flushTimeoutId=void 0,this.flushPendingOperations()}),1e3))}async flushPendingOperations(){if(0===this.pendingOperations.size)return;const e=this.pendingOperations;this.pendingOperations=new Map,s(e.size),await this.db.startTransaction({storeNames:[i],mode:"readwrite",name:`${i}.batchFlush`,timeoutMs:void 0},(async t=>{const o=t.objectStore(i);for(const i of e.values())"set"===i.type?await o.put(i.value):"delete"===i.type?await o.delete(i.queryHash):(0,n(534177).HB)(i);return{value:void 0}}))}async restoreQueriesInQueryClientCache(){await this.db.startTransaction({storeNames:[i],mode:"readonly",name:`${i}.get`,timeoutMs:void 0},(async e=>{const t=e.objectStore(i),n=await t.getAll();for(const o of n){this.queryClient.getQueryData(o.queryKey)||this.queryClient.setQueryData(o.queryKey,o.data,{updatedAt:o.dataUpdatedAt})}return{value:void 0}}))}async clearUserData(e){const t=(0,n(753673).OW)(e);await this.db.startTransaction({storeNames:[i],mode:"readwrite",name:`${i}.clearUserData`,timeoutMs:void 0},(async e=>{const n=e.objectStore(i).index(o);let r=await n.openCursor(t);for(;r;)await r.delete(),r=await r.continue();return{value:void 0}}))}}class d extends(()=>n(964756))().E{constructor(e={},t){var n;super({...e,defaultOptions:{...null==e?void 0:e.defaultOptions,queries:{networkMode:"offlineFirst",staleTime:500,...null==e||null===(n=e.defaultOptions)||void 0===n?void 0:n.queries}}}),this.queryStoreCache=void 0,this.metaEffects=void 0,this.optimisticUpdateCallbacks=void 0,this.queryClientPersistence=void 0,this.metaEffects=new c(this),this.queryStoreCache=new l(this),this.optimisticUpdateCallbacks=new u(this),this.queryClientPersistence=new a(this,t)}async initialize(){await this.queryClientPersistence.initialize()}async clearUserData(e){await this.queryClientPersistence.clearUserData(e)}}class c{constructor(e){this.unsubscribeQueryCache=void 0,this.cleanupEffects=new Map,this.queryCache=void 0,this.queryClient=e,this.queryCache=this.queryClient.getQueryCache(),this.unsubscribeQueryCache=this.queryCache.subscribe((e=>this.handleQueryCacheEvent(e)))}destroy(){var e;null===(e=this.unsubscribeQueryCache)||void 0===e||e.call(this),this.unsubscribeQueryCache=void 0;for(const t of this.cleanupEffects.values())t.forEach((e=>e()));this.cleanupEffects.clear()}handleQueryCacheEvent(e){switch(e.type){case"updated":"fetch"!==e.action.type||this.didMountEffect(e.query)||this.mountEffect(e.query);break;case"observerAdded":case"observerOptionsUpdated":this.didMountEffect(e.query)||this.mountEffect(e.query);break;case"removed":this.unmountEffect(e.query)}}didMountEffect(e){return this.cleanupEffects.has(e)}mountEffect(e){var t;if(null===(t=e.meta)||void 0===t||!t.effect)return;let n=this.cleanupEffects.get(e);if(n&&0!==n.length)throw new Error(`Query ${e.queryHash} has mounted effects, but is being mounted again`);n||(n=[],this.cleanupEffects.set(e,n)),h(e.meta.effect,(t=>{n.push(t(e))}))}unmountEffect(e){const t=this.cleanupEffects.get(e);t&&(t.forEach((e=>e())),t.length=0,this.cleanupEffects.delete(e))}}class u{constructor(e){this.unsubscribe=void 0,this.queryClient=e,this.unsubscribe=e.getQueryCache().subscribe((e=>this.handleQueryOptimisticallyUpdatedEvent(e)))}handleQueryOptimisticallyUpdatedEvent(e){var t;"updated"===e.type&&"success"===e.action.type&&e.action.manual&&h(null===(t=e.query.meta)||void 0===t?void 0:t.onOptimisticUpdate,(t=>t(e.query)))}destroy(){var e;null===(e=this.unsubscribe)||void 0===e||e.call(this),this.unsubscribe=void 0}}class l{constructor(e){this.queryStoreMemo=new Map,this.infiniteQueryStoreMemo=new Map,this.unsubscribe=void 0,this.queryClient=e}memoizeQueryStore(e,t){const n=this.getQueryHash(t);return this.memoize(this.queryStoreMemo,n,(()=>new e(this.queryClient,t)))}memoizeInfiniteQueryStore(e,t){const n=this.getQueryHash(t);return this.memoize(this.infiniteQueryStoreMemo,n,(()=>new e(this.queryClient,t)))}getQueryHash(e){if(e.queryHash)return e.queryHash;return(e.queryKeyHashFn||n(924880).EN)(e.queryKey)}remove(e){var t;(this.queryStoreMemo.delete(e),this.infiniteQueryStoreMemo.delete(e),0===this.queryStoreMemo.size&&0===this.infiniteQueryStoreMemo.size)&&(null===(t=this.unsubscribe)||void 0===t||t.call(this),this.unsubscribe=void 0)}clear(){var e;this.queryStoreMemo.clear(),this.infiniteQueryStoreMemo.clear(),null===(e=this.unsubscribe)||void 0===e||e.call(this),this.unsubscribe=void 0}memoize(e,t,n){let o=e.get(t);return o||(o=n(),e.set(t,o),this.unsubscribe??=this.subscribe()),o}subscribe(){return this.queryClient.getQueryCache().subscribe((e=>{"removed"===e.type&&this.remove(e.query.queryHash)}))}}function h(e,t){if(e)if("function"==typeof e)t(e);else for(const n of e)t(n)}},131872:(e,t,n)=>{n.d(t,{createDevice:()=>c});n(581454);var o=()=>n(140583),i=()=>n(496603),r=()=>n(726637),s=()=>n(647987),a=()=>n(140934),d=()=>n(757695);function c(e,t){var n;const c=(0,o().Ey)(e,(null==t?void 0:t.userAgentOverride)??e.navigator.userAgent),u=Boolean(e.__isElectron),l=Boolean(e.__isElectronMail),h=Boolean(e.__isElectronCalendar),m=u||l||h,p=u&&"darwin"===e.__platform,f=u&&"win32"===e.__platform,g=u?function(){const e=/Electron\/(\w+\.\w+.\w+)/.exec(navigator.userAgent);if(e)return e[1].split(".").map((e=>parseInt(e,10)));return}():void 0;let v,b;var y,S;u&&(b=null===(y=e.__desktopConfig)||void 0===y?void 0:y.desktopAppId,v=null===(S=e.__desktopConfig)||void 0===S?void 0:S.targetPlatform);const w=c.isMobileNative(),C=c.isMobileNativeCalendar(),k=u||w,E=!k,T="https:"===e.location.protocol||"http:"===e.location.protocol,A=c.isYandex(),L=c.isEdgeHTML(),x=c.isChrome(),R=c.isSafari(),M=c.isFirefox(),I=c.isAndroid(),D=c.isIpad(),N=c.isIOS(),P=c.isMobile();null==t||null===(n=t.horizontalSizeClassStore)||void 0===n||n.setState(N?D?"unknown":"compact":"unknown");const O=d().Store.createValue(e.innerHeight,{name:"windowHeightStore"}),U=d().Store.createValue(e.innerWidth,{name:"windowWidthStore"});e.addEventListener("resize",i().sg((()=>{O.setState(e.innerHeight),U.setState(e.innerWidth)}),300));let F=Math.max(U.state,O.state);const $=new(a().ComputedStore)((()=>{if(F=Math.max(U.state,O.state),I){const e=600,t=969,n=U.state===F?t:e;return U.state>=n}if(!N)return!1;if(null==t||!t.horizontalSizeClassStore)return!1;switch(null==t?void 0:t.horizontalSizeClassStore.state){case"compact":return!1;case"regular":return!0;case"unknown":return!!D&&U.state>680}}),{debugName:"isTablet"}),K=c.isDesktop(),_=c.isMac(),B=c.isWindows(),q=c.isChromebook(),j=c.isLinux(),z=c.isRetina(),W=P&&E,V=K&&E,H="undefined"!=typeof chrome&&void 0!==chrome.tabs,Q=r().A.version,G=c.getDeviceOS(),Y=(0,s().getDeviceOSVersion)().length>0?(0,s().getDeviceOSVersion)():c.getDeviceOSVersion(),X=u?"electron":w?"react-native":"browser",J=(()=>{if(u||h||l)return p?"mac-desktop":"windows-desktop";if(w){if(I)return"android";if(N)return"ios"}return"web"})(),Z=(()=>{if(u)return p?"mac-desktop":"windows-desktop";if(w){if(I)return"android";if(N)return"ios"}return P?"web-mobile":"web-desktop"})(),ee=c.getBrowserName(),te=c.getBrowserVersion(),ne=c.getDoNotTrackEnabled(),oe=c.getIsBannedGoogleSSOUserAgent(),ie=matchMedia("(prefers-reduced-motion: reduce)").matches;return{isElectron:u,isElectronMail:l,isElectronCalendar:h,isElectronAny:m,isElectronMac:p,isElectronWindows:f,desktopAppId:b,electronVersion:g,isMobileNative:w,isMobileBeta:!1,isMobileNativeCalendar:C,isNative:k,isBrowser:E,isHttpApp:T,isYandex:A,isEdgeHTML:L,isChrome:x,isSafari:R,isFirefox:M,isAndroid:I,isIOS:N,isIpad:D,isMobile:P,get isTablet(){return $.state},get isPhone(){return P&&(!$.state||N&&!D)},get isSmallPhone(){return P&&U.state<=320},isDesktop:K,isMac:_,get isApple(){return _||N},isWindows:B,isChromebook:q,isLinux:j,isRetina:z,isMobileBrowser:W,isDesktopBrowser:V,isChromeExtension:H,isIPhoneX:!1,version:Q,desktopAppVersion:undefined,mobileAppVersion:undefined,os:G,osVersion:Y,platform:X,auditLogPlatform:J,browserName:ee,browserVersion:te,doNotTrackEnabled:ne,isBannedGoogleSSOUserAgent:oe,get prefersDarkInterface(){return matchMedia("(prefers-color-scheme: dark)").matches},ramSizeInGB:undefined,deviceType:Z,prefersReducedMotion:ie,desktopTargetPlatform:v}}},134134:(e,t,n)=>{n.d(t,{I:()=>o});console.log.bind(console);const o={log:()=>{}}},136590:(e,t,n)=>{n.d(t,{Ag:()=>c,aw:()=>u,yY:()=>d});var o=()=>n(497665),i=n(296540),r=()=>n(590526),s=n(474848);const a=(0,i.createContext)(void 0);a.displayName="EnvironmentContext";const d=a,c=(0,i.createContext)(void 0);function u(e){var t;const{value:n,children:i}=e,d=(0,r().O$)(null===(t=e.value)||void 0===t?void 0:t.deviceStore),u=null==n?void 0:n.queryClient,l=u?(0,s.jsx)(o().Ht,{client:u,children:i}):i;return(0,s.jsx)(a.Provider,{value:n,children:(0,s.jsx)(c.Provider,{value:d,children:l})})}c.displayName="DeviceContext"},138418:(e,t,n)=>{n.d(t,{A:()=>o});class o extends(()=>n(757695))().Store{getInitialState(){return{mode:"light"}}}},140934:(e,t,n)=>{n.d(t,{ComputedStore:()=>y,ZD:()=>h,g5:()=>b});n(581454);var o=()=>n(496603),i=()=>n(498212),r=()=>n(624919),s=()=>n(134134),a=()=>n(906510),d=()=>n(352246),c=()=>n(427652),u=()=>n(60053);const l=c().jY;function h(){}const m="undefined"!=typeof window&&"true"===localStorage.getItem("__useComprehensiveStoreMap");let p=0,f=0,g=0,v=0;function b(){return{computedStoreCount:p,computedStoreSubscriptionCount:f,computedStoreRecomputesTotal:g,computedStoreRerendersTotal:v}}(0,n(852832).exposeDebugValue)("getComputedStoreStats",b);class y{constructor(e,t){this.debug=!1,this.debugName=void 0,this.computeFn=void 0,this.autoListener=void 0,this.emitter=void 0,this.shouldRecompute=!1,this.useDeepEqual=!1,this.recomputeSchedule=void 0,this.options=void 0,this.handleChange=()=>{if("lazy"===this.recomputeSchedule)this.setShouldRecompute(),n(908006).default.enqueueComputedStoreRecompute((0,n(720665).Zg)(this.performScheduledRecompute,"debugName",this.debugName));else if("eager"===this.recomputeSchedule)this.recomputeState();else if("debounce"===this.recomputeSchedule.type){var e;null===(e=this.recomputeStateDebounced)||void 0===e||e.call(this)}},this.performScheduledRecompute=()=>{this.shouldRecompute&&0!==this.listenerCount()&&this.recomputeState()},this.recomputeState=()=>{this.shouldRecompute=!1;const e=this.lastState;this.listenerCount()>0&&this.autoListener.startListener({incrementCycle:!0});const t={startMs:0,recomputeEndMs:0,comparisonEndMs:0};y.profiling&&(t.startMs=performance.now());const i=this.computeFn();y.profiling&&(t.recomputeEndMs=performance.now()),this.listenerCount()>0&&this.autoListener.stopListener({isEndOfCycle:!0});if(!(this.options.equalityFn??(this.useDeepEqual?o().n4:n(821062).A))(e,i)){if(d().t.getShouldCollect()&&!this.useDeepEqual&&(0,o().n4)(e,i)){let e=`${this.computeFn.toString().replace(/\s+/g," ").replace(/__WEBPACK_IMPORTED_MODULE_\d+__/g,"").replace("_stores_","").replace(/'["default"]'/g,"").replace('[\\"default\\"]',"")}`;e.length>100&&(e=`${e.slice(0,100)}...`),d().t.add(this.options.debugName,e,i,this.options.silenceRerenderDefender)}(y.debug||this.debug)&&s().I.log("ComputedStore.recomputeState emit",this.debugName,this),g+=1,v+=1,this.lastState=i,this.emit()}else(y.debug||this.debug)&&s().I.log("ComputedStore.recomputeState unchanged",this.debugName,this),g+=1;if(this.debugName.startsWith("ExperimentStore.")||a().S3.increment("ComputedStore.recomputeState",this.debugName),y.profiling){t.comparisonEndMs=performance.now();const e=t.recomputeEndMs-t.startMs,n=t.comparisonEndMs-t.recomputeEndMs,o=y.profilingMap.get(this.debugName);o?y.profilingMap.set(this.debugName,{runs:o.runs+1,totalRecomputeTimeMs:o.totalRecomputeTimeMs+e,totalComparisonTimeMs:o.totalComparisonTimeMs+n}):y.profilingMap.set(this.debugName,{runs:1,totalRecomputeTimeMs:e,totalComparisonTimeMs:n})}},this.computeFn=e,this.options=t,this.debugName=m?`${t.debugName}${l?`.${e.toString().replace(/\s+/g,"").slice(0,100)}.${(0,i().Ay)()}`:""}`:`${t.debugName}${l?`.${function(e){return(0,i().gB)(e.toString()).substring(0,8)}(e)}`:""}`,t.debug&&(this.debug=!0),this.autoListener=new(u().eF)({onChange:this.handleChange,debugName:this.debugName,debug:this.debug,source:"computed-store",observers:t.observers}),this.emitter=new(n(592328).A),this.useDeepEqual=Boolean(t.useDeepEqual),t.recomputeSchedule&&"object"==typeof t.recomputeSchedule&&"debounce"===t.recomputeSchedule.type&&(this.recomputeStateDebounced=(0,o().sg)(this.recomputeState,t.recomputeSchedule.debounceMs,{maxWait:t.recomputeSchedule.maxWait,leading:t.recomputeSchedule.leading,trailing:t.recomputeSchedule.trailing}),this.lastState=t.recomputeSchedule.initialValue),"useComputedStore"!==t.source&&"Component"!==t.source||(this.debugName.startsWith("ExperimentStore.")||a().S3.increment("ComputedStore.constructor",this.debugName),p+=1),this.recomputeSchedule=(null==t?void 0:t.recomputeSchedule)??"lazy"}getState(){return u().eF.logStoreAccess(this,this.getDebugInfo()),this.listenerCount()>0?(this.shouldRecompute&&(this.recomputeStateDebounced??this.recomputeState)(),this.lastState):this.computeFn()}get state(){return this.getState()}addListener(e,t){const n=this.emitter.listenerCount();this.emitter.addListener(e);const o=this.emitter.listenerCount();if(e!==h){const e=o-n;f+=e,l&&t&&e>0&&(0,c().EZ)(this.debugName,t)}0===n&&1===o&&((this.recomputeStateDebounced??this.recomputeState)(),(0,c().nH)(this,"computed-store"))}removeListener(e,t){const n=this.emitter.listenerCount();var o;(this.emitter.removeListener(e),e!==h&&(f-=1,t&&(0,c().m)(this.debugName,t)),1===n&&0===this.emitter.listenerCount())&&(null===(o=this.recomputeStateDebounced)||void 0===o||o.cancel(),"useComputedStore"!==this.options.source&&"Component"!==this.options.source||((0,c().N7)(this.debugName),p-=1),this.autoListener.destroy(this.debugName))}emit(){n(992202).logStoreEmit(this),this.emitter.emit(this)}listenerCount(){return this.emitter.listenerCount()}updateStoreInstance(e,t){const n=Boolean(t);this.useDeepEqual===n&&this.computeFn===e||((y.debug||this.debug)&&s().I.log("ComputedStore.updateStoreInstance changed",this.debugName),this.computeFn=e,this.useDeepEqual=n,this.setShouldRecompute())}setShouldRecompute(){this.shouldRecompute=!0}enqueueRecompute(){this.handleChange()}recompute(){this.recomputeState()}getDebugInfo(){return{hasListeners:this.listenerCount()>0,lastState:this.lastState}}static profileStart(){y.profilingMap.clear(),y.profiling=!0}static profileEnd(){y.profiling=!1;const e=Array.from(y.profilingMap.entries()).sort(((e,t)=>{const n=e[1].totalRecomputeTimeMs+e[1].totalComparisonTimeMs;return t[1].totalRecomputeTimeMs+t[1].totalComparisonTimeMs-n}));console.log("ComputedStore profile",e.map((([e,t])=>({name:e,...t}))))}static profileFor(e){y.profileStart(),setTimeout((()=>{y.profileEnd()}),e)}}y.debug=!1,y.profiling=!1,y.profilingMap=new Map,(0,r().EX)({canFormat:e=>Boolean(e&&e instanceof y),header(e){const{span:t,object:n,objectSummary:o,CONTAINER_STYLE:i}=r().iY,s=e.lastState;return t(i,n(e,{useDefaultFormatter:!0}),"(",s&&"object"==typeof s?o(s):n(s),")")},hasBody:()=>!1,body:()=>null})},142113:(e,t,n)=>{n.d(t,{w:()=>o});const o=(0,n(296540).createContext)({constrainedSize:{minWidth:0,minHeight:0,maxWidth:void 0,maxHeight:void 0},actualSize:{width:0,height:0},isWidthScrollbarVisible:!1,isHeightScrollbarVisible:!1});o.displayName="ConstrainSizeContext"},150669:(e,t,n)=>{n.d(t,{A:()=>i});n(898992),n(803949);class o extends(()=>n(757695))().Store{getInitialState(){return{scrollTop_DEPRECATED:0,elementRef:{current:null},element:null}}measureSize(){const e=this.state.elementRef;if(e.current){const t=e.current;let o=n(587682).z8.from(t.getBoundingClientRect());n(403750).A.forEach((e=>{const n=e.getNode();n&&t.contains(n)&&(o=e.customizeEdgeScrollRect(o))}));const i={...this.state,clientRect:o,scrollTop_DEPRECATED:t.scrollTop};return n(496603).n4(this.state,i)||this.setState(i),o}}}const i=o},166972:(e,t,n)=>{n.d(t,{A:()=>i});const o=new(n(150669).A);(0,n(852832).exposeDebugValue)("FrameScrollerStore",o);const i=o},199834:(e,t,n)=>{n.d(t,{L:()=>r,m:()=>s});n(944114),n(517642),n(658004),n(733853),n(845876),n(432475),n(515024),n(731698),n(898992),n(354520),n(581454);var o=()=>n(624919);const i={subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0};class r{constructor(e){this.node=void 0,this.onMutations=void 0,this.enableLogging=!1,this.unlockTokens=new Set,this.isLocked=!1,this.longRenderWarningTimeout=void 0,this.observer=void 0,this.isObserving=!1,this.queue=[],this.setNode=e=>{this.mutate((()=>{this.node=e||void 0}))},this.unlockForRender=e=>{this.unlockTokens.add(e),this.isLocked&&this.isObserving&&this.enableLogging&&this.startLongRenderWarning(),this.stopObservingAndHandleMutations()},this.onMutations=e.onMutations,this.enableLogging=e.enableLogging,this.observer="undefined"==typeof MutationObserver?void 0:new MutationObserver((e=>{this.queue.push(...this.filterMutationRecords(e)),this.stopObservingAndHandleMutations(),this.startObserving()}))}filterMutationRecords(e){return e.filter((e=>"attributes"!==e.type||e.target!==this.node))}mutate(e){const t={displayName:"DOMLock.mutate()"};try{return this.unlockForRender(t),e()}finally{this.lockAfterRender(t)}}lockAfterRender(e){this.unlockTokens.delete(e),this.isLocked&&0===this.unlockTokens.size&&(this.stopLongRenderWarning(),this.startObserving())}lock(e){this.isLocked=!0,this.lockAfterRender(e)}unlock(e){this.stopLongRenderWarning(),this.isLocked=!1,this.unlockForRender(e)}startObserving(){if(this.isObserving)return;const e=this.node;var t;e&&(null===(t=this.observer)||void 0===t||t.observe(e,i),this.isObserving=!0)}stopObservingAndHandleMutations(){if(this.observer&&this.isObserving){const e=this.queue.concat(this.filterMutationRecords(this.observer.takeRecords()));this.queue.length=0,this.observer.disconnect(),this.isObserving=!1,e.length>0&&this.onMutations(e)}}startLongRenderWarning(){if(this.longRenderWarningTimeout)return;const e=Date.now();this.longRenderWarningTimeout=window.setInterval((()=>{const t=Date.now()-e,i=Array.from(this.unlockTokens).map((e=>e.displayName)).join(", ");(0,o().NK)([`DOMLock: still unlocked after ${t}ms for ${this.unlockTokens.size} components: ${i}`,this]),n(449412).Fg(`DOMLock: Unlocked for a long time! components: ${i}`,{level:"error",extra:{timeUnlocked:t}})}),1e3)}stopLongRenderWarning(){this.longRenderWarningTimeout&&(window.clearInterval(this.longRenderWarningTimeout),this.longRenderWarningTimeout=void 0)}}function s(e,t){const n="See documentation for more details: https://dev.notion.so/notion/About-DOMLock-ContentEditableVoid-and-MaybeContentEditable-184b35e6e67f8092a306e41a781782d6";switch(e.type){case"attributes":if(e.target instanceof Element&&e.attributeName)return t&&(0,o().NK)(["Reverting mutation of attribute",e.attributeName,`from "${e.oldValue}" -> "${e.target.getAttribute(e.attributeName)}"`,"in component",(0,o().Qq)(e.target),e,n]),null===e.oldValue?void e.target.removeAttribute(e.attributeName):void e.target.setAttribute(e.attributeName,e.oldValue);break;case"characterData":return t&&(0,o().NK)(["Reverting mutation of characterData",`"${e.oldValue}" -> "${e.target.textContent}"`,"in component",(0,o().Qq)(e.target),e,n]),void(e.target.textContent=e.oldValue);case"childList":{t&&(0,o().NK)(["Reverting mutation of childList","in component",(0,o().Qq)(e.target),e,n]);let i=0;for(i=e.removedNodes.length-1;i>=0;i--)e.target.insertBefore(e.removedNodes[i],e.nextSibling);for(i=e.addedNodes.length-1;i>=0;i--){const t=e.addedNodes[i];t.parentNode&&t.parentNode.removeChild(t)}return}}console.error("DOMLock: unable to revert mutation",e,n)}},205262:(e,t,n)=>{n.d(t,{V:()=>i});var o=()=>n(616068);function i(e){return!!e.isTrusted&&(0,o().Z)()}},221844:(e,t,n)=>{n.d(t,{A:()=>c,Z:()=>d});n(944114),n(517642),n(658004),n(733853),n(845876),n(432475),n(515024),n(731698),n(898992),n(354520);var o=()=>n(452540),i=()=>n(792071),r=()=>n(696706),s=()=>n(54006),a=()=>n(445120);function d(e){const{pointer:t,userId:n}=e;return`${(0,o().jV)(t)}:${n||""}`}const c=class{get size(){return this._size}constructor(e){this.data=void 0,this.cacheOverrides=void 0,this.cacheUsingThisInstanceAsAnOverride=void 0,this.cacheFallbacks=void 0,this.cachesUsingThisInstanceAsAFallback=void 0,this.appliedTransaction=void 0,this.recordEvents=new(n(752196).A),this.edgeListeners=new Set,this.isExpired=!1,this.isFrozen=!1,this._size=0,this.snapshotData=void 0,this.isTemplatePreview=!1,this.isMockTextStore=!1,this.isTemporaryData=void 0,this.onOperationCallback=void 0,this.isSyntheticAssistantData=void 0,this.relatedAssistantSessionId=void 0,this.relatedThreadPointer=void 0,this.cacheLogicalTime=0,this.name=void 0;const{data:t,name:o,isTemporaryData:i,onOperationCallback:r,isSyntheticAssistantData:s,relatedAssistantSessionId:d,relatedThreadPointer:c}=e;this.data=t??new(a().UserRecordMap),this._size=this.data.size,this.cacheOverrides=[],this.cacheFallbacks=new Set,this.cachesUsingThisInstanceAsAFallback=new Set,this.appliedTransaction=!1,this.name=o,this.isTemporaryData=i??!1,this.onOperationCallback=r,this.isSyntheticAssistantData=s??!1,this.relatedAssistantSessionId=d,this.relatedThreadPointer=c}expire(){this.isExpired=!0}freeze(){this.isFrozen=!0}assertUnexpired(){if(this.isExpired)throw new(n(416845).yI4)(`InMemoryRecordCache "${this.name}" is expired! \n If you are using useLocalDraft() this is likely because the localDraftCache Hook did not run its cleanup function.`)}getEntry(e,t){return this.getEntryInternal({key:e,backfillSpaceIdOnPointer:!1,...t})}getEntryWithBackfilledSpaceId(e,t){return this.getEntryInternal({key:e,...t,backfillSpaceIdOnPointer:!0})}getEntryInternal(e){const{key:t,ignoreCache:n,ignoreAllCaches:o,backfillSpaceIdOnPointer:i}=e;if(!o)for(const d of this.cacheOverrides)if(d!==n){const e=d.getEntryInternal({key:t,ignoreCache:this,ignoreAllCaches:void 0,backfillSpaceIdOnPointer:i});if(e)return e}const r=this.data.getValue(t),s=this.data.getRole(t);let a=t.pointer;if(i){const e=this.data.getModelWithBackfilledSpaceId(t);e&&(a=e.pointer)}if(s)return{pointer:a,userId:t.userId,value:{value:r,role:s}};if(!o&&this.cacheUsingThisInstanceAsAnOverride&&this.cacheUsingThisInstanceAsAnOverride!==n)return this.cacheUsingThisInstanceAsAnOverride.getEntryInternal({key:t,ignoreCache:this,ignoreAllCaches:void 0,backfillSpaceIdOnPointer:i});if(!o)for(const d of this.cacheFallbacks)if(d!==n){const e=d.getEntryInternal({key:t,ignoreCache:this,ignoreAllCaches:void 0,backfillSpaceIdOnPointer:i});if(e)return e}}getRecord(e,t){const n=this.getEntry(e,t);if(n)return n.value}getRecordModel(e,t){var n;const o=this.getEntry(e,t);if(null!=o&&null!==(n=o.value)&&void 0!==n&&n.value)return i().Bj6.fromValue(e.pointer.table,o.value.value)}getModelAndRole(e,t){const n=this.getEntry(e,t);if(null!=n&&n.value)return{model:i().Bj6.fromValue(e.pointer.table,n.value.value),role:n.value.role}}checkRecordForTemporaryData(e){if(this.isTemporaryData&&this.data.getRole(e))return this;for(const t of this.cacheOverrides){if(!t.isTemporaryData)continue;if(t.getEntry(e,{ignoreCache:this}))return t}for(const t of this.cacheFallbacks){if(!t.isTemporaryData)continue;if(t.getEntry(e,{ignoreCache:this}))return t}}recordHasOverride(e){for(const t of this.cacheOverrides){if(t.getEntry(e,{ignoreCache:this}))return!0}return!1}makeGetRecordValueFn(e,t={}){return n(813690).xb.fromMonomorphicFunctionUnsafe((n=>{const o=this.getEntry({pointer:n,userId:e},t);if(null!=o&&o.value.value)return o.value.value}))}makeGetRecordModelFn(e){return i().b4_.fromMonomorphicFunctionUnsafe((t=>this.getRecordModel({pointer:t,userId:e})),this.makeGetRecordValueFn(e))}makeGetRecordRoleFn(e){return t=>{const n=this.getRecord({pointer:t,userId:e});if(n&&n.role)return n.role}}getRole(e,t){const n=this.getRecord(e,t);if(n&&n.role)return n.role}hasRecord(e){return void 0!==this.getRole(e)}hasRecordWithVersion(e,t){return this.hasRecord(e)&&this.getVersion(e)===t}getVersion(e,t){const n=this.getRecord(e,t);return n&&n.value&&n.value.version?n.value.version:0}setRecord(e,t){this.assertUnexpired(),this.isFrozen||(this.cacheLogicalTime++,t?(this.hasRecord(e)||this._size++,this.data.setValueAndRole(e,t.value,t.role),(0,r().Yt)(e.pointer,s().IT)&&this.emitEdgeEvent({eventType:"set",pointer:e.pointer,userId:e.userId})):this.deleteRecord(e))}setModelAndRole(e,t,n){this.assertUnexpired(),this.isFrozen||(this.cacheLogicalTime++,this.hasRecord(e)||this._size++,this.data.setModelAndRole(e,t,n),(0,r().Yt)(e.pointer,s().IT)&&this.emitEdgeEvent({eventType:"set",pointer:e.pointer,userId:e.userId}))}deleteRecord(e){this.assertUnexpired(),this.isFrozen||(this.cacheLogicalTime++,this.hasRecord(e)&&this._size--,this.data.delete(e),(0,r().Yt)(e.pointer,s().IT)&&this.emitEdgeEvent({eventType:"delete",pointer:e.pointer,userId:e.userId}))}addCacheOverride(e){this.cacheLogicalTime++,this.cacheOverrides.push(e),e.cacheUsingThisInstanceAsAnOverride=this,e.emitAll()}hasCacheOverride(e){return this.cacheOverrides.includes(e)}removeCacheOverride(e){this.cacheLogicalTime++,this.cacheOverrides=this.cacheOverrides.filter((t=>t!==e)),e.emitAll(),e.cacheUsingThisInstanceAsAnOverride=void 0}addCacheFallback(e){this.cacheLogicalTime++,this.cacheFallbacks.add(e),e.cachesUsingThisInstanceAsAFallback.add(this)}hasCacheFallback(e){return this.cacheFallbacks.has(e)}removeCacheFallback(e){this.cacheLogicalTime++,this.cacheFallbacks.delete(e),e.cachesUsingThisInstanceAsAFallback.delete(this)}forEachRecord(e,t,n,o){for(const{model:r,role:s,userId:a}of this.data)if("none"!==s&&e===a&&r&&t({model:r,role:s}),null!=n&&n.aborted)break;const{shouldIncludeCacheFallbackRecords:i=!1}=o??{};if(i)for(const r of this.cacheFallbacks)r.forEachRecord(e,t,n,{shouldIncludeCacheFallbackRecords:i})}emitAll(){for(const{pointer:e}of this.data)this.emitRecord(e,[])}clearCache(){this.cacheLogicalTime++;const e=[];for(const{pointer:t}of this.data)e.push(t);this.appliedTransaction=!1,this.data=new(a().UserRecordMap);for(const t of e)this.emitRecord(t,[])}addListenerToRecord(e,t){const n=(0,o().jV)(e);this.recordEvents.addListener(n,t)}removeListenerToRecord(e,t){const n=(0,o().jV)(e);this.recordEvents.removeListener(n,t)}emitRecord(e,t){this.cacheLogicalTime++;const n=(0,o().jV)(e);this.recordEvents.emit(n,t),this.cacheUsingThisInstanceAsAnOverride&&this.cacheUsingThisInstanceAsAnOverride.emitRecord(e,t);for(const o of this.cachesUsingThisInstanceAsAFallback)o.emitRecord(e,t)}hasListener(e){var t;const n=(0,o().jV)(e);if(this.recordEvents.listenerCount(n)>0)return!0;if(null!==(t=this.cacheUsingThisInstanceAsAnOverride)&&void 0!==t&&t.hasListener(e))return!0;for(const o of this.cachesUsingThisInstanceAsAFallback)if(o.hasListener(e))return!0;return!1}addEdgeListener(e){this.edgeListeners.add(e)}removeEdgeListener(e){this.edgeListeners.delete(e)}emitEdgeEvent(e){for(const t of this.edgeListeners)t(e)}}},223116:(e,t,n)=>{n.d(t,{$H:()=>i,CX:()=>s,Rb:()=>r,a9:()=>o});const o="adminContentSearchSettings.useContentSearch",i="settingsConsole.singleLegalHoldContentTab.useLegalHoldContent",r="sudoModeActions.privatePageRecordCache",s=[o,r]},225661:(e,t,n)=>{n.d(t,{s:()=>m});n(944114),n(898992),n(354520);var o=n(296540),i=()=>n(949054),r=()=>n(355543),s=n(474848);let a=[];const d=new(n(592328).A);function c(){return a.length>0?a[a.length-1]:null}function u(e){a=a.filter((t=>t!==e)),d.emit(a)}function l(){return document.activeElement instanceof HTMLElement||document.activeElement instanceof SVGElement?document.activeElement:null}let h=0;function m({children:e,active:t,onActiveChange:n}){const m=(0,r().w)((()=>++h)),p=(0,o.useRef)(null),f=(0,o.useRef)(null),[g,v]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{function e(){const e=c()===m;e!==g&&(v(e),null==n||n(e))}return d.addListener(e),()=>{d.removeListener(e)}}),[m,n,g]),(0,o.useEffect)((()=>{function e(){const e=p.current,t=l();e&&t&&!e.contains(t)&&(f.current=t)}function n(){const e=p.current,t=l(),n=e&&e.contains(t),o=t===document.body;f.current&&(n||o)&&f.current.focus({preventScroll:!0}),f.current=null}if(t){o=m,a.includes(o)||(a.push(o),d.emit(a));const t=p.current;let r=null;if(t&&!t.contains(l())){const n=(0,i().Kr)(t);n.length>0?(e(),n[0].focus()):r=function(e,t){const n=new MutationObserver((()=>{const o=(0,i().Kr)(e);o.length>0&&(n.disconnect(),t(o))}));return n.observe(e,{childList:!0,subtree:!0}),()=>{n.disconnect()}}(t,(t=>{e(),t[0].focus()}))}return()=>{var e;null===(e=r)||void 0===e||e(),c()===m&&(u(m),n())}}var o;c()===m&&(u(m),n())}),[t,m]),(0,o.useEffect)((()=>{if(g){function e(e){const t=p.current;if(!g||"Tab"!==e.key||!t)return;const n=document.activeElement;if(!(n instanceof HTMLElement||n instanceof SVGElement))return;const o=(0,i().Kr)(t);if(0===o.length)return;const r=o.indexOf(n);let s=null;-1===r?s=e.shiftKey?o.length-1:0:e.shiftKey&&0===r?s=o.length-1:e.shiftKey||r!==o.length-1||(s=0);const a=null!==s?o[s]:null;a&&(a.focus(),e.preventDefault())}return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}}),[g]),(0,s.jsx)("div",{ref:p,style:{display:"contents"},children:e})}},231781:(e,t,n)=>{function o(e){return e&&"stylus"===e.touchType?"stylus":"finger"}n.d(t,{Q:()=>o})},247584:(e,t,n)=>{n.d(t,{V4:()=>l,ZL:()=>u,fV:()=>c,httpRequest:()=>g});n(16280),n(504294),n(944114),n(517642),n(658004),n(733853),n(845876),n(432475),n(515024),n(731698),n(581454),n(964979);var o=()=>n(206267),i=()=>n(449412),r=()=>n(319625),s=()=>n(534177),a=()=>n(259136);const d=!1;class c extends AggregateError{constructor(e){const t=e.map((e=>e.error)),n=new Set(t.map((e=>e.message)));super(t,`Multiple errors: ${Array.from(n).sort().join(" | ")}`),this.name="HttpRequestAggregateError",this.failures=e}}function u(e){const t=function(e){if("success"===e.type)return e;throw e.error}(e);return t.data}function l(e){var t;return e.offline?"Offline":null!==(t=e.body)&&void 0!==t&&t.debugMessage?e.body.debugMessage:`HTTP ${e.status}`}function h(e){return{"X-Notion-User-Id":e.headers.get("X-Notion-User-Id")||void 0,"X-Notion-Request-Id":e.headers.get("X-Notion-Request-Id")||void 0,"X-Notion-Client-Log-Call-Stack":e.headers.get("X-Notion-Client-Log-Call-Stack")||void 0,"content-type":e.headers.get("content-type")||void 0,"cf-ray":e.headers.get("cf-ray")||void 0}}async function*m(e){if(!e.body)return;const t=e.body.getReader(),n=new TextDecoder;let o="";try{for(;;){const e=await t.read();if(e.done){const e=o.trim();e.length>0&&(yield JSON.parse(e));break}{o+=n.decode(e.value,{stream:!0});const t=o.split("\n");o=t[t.length-1];for(let e=0;e<t.length-1;e++){const n=t[e].trim();n.length>0&&(yield JSON.parse(n))}}}}catch(i){await t.cancel(i)}}async function p(e){try{return await async function(e){const t={type:"application/json"},n=new Blob([e],t).stream().pipeThrough(new CompressionStream("gzip")).getReader(),o=[];for(;;){const{done:e,value:t}=await n.read();if(e)break;o.push(t)}const i=new Blob(o,t);return d&&console.log(`Gzipped payload: ${e.length} bytes uncompressed, ${i.size} bytes compressed`),i}(e)}catch(t){(0,i().O8)(t,{from:"httpRequest",type:"gzipFailed"})}}function f(e,...t){try{null==e||e(...t)}catch{}}async function g(e){var t;const n={...e.headers};let i;"GET"===e.method||"json"!==e.format&&"jsonStream"!==e.format||(n["Content-Type"]="application/json"),"jsonStream"===e.format&&(n.Accept="application/x-ndjson");let d=0;if(e.data){const t=JSON.stringify(e.data);if(i=t,d=t.length,"gzip"===e.encoding&&"json"===e.format&&window.CompressionStream){const e=await p(i);if(e){const t=await e.arrayBuffer();i=t,d=t.byteLength,n["Content-Encoding"]="gzip"}}}const c={method:e.method,credentials:"same-origin",headers:n,body:i,signal:e.abortSignal,keepalive:e.keepAlive};let u;f(null===(t=e.eventListeners)||void 0===t?void 0:t.onRequestStart,d);try{u=await fetch(e.url,c)}catch(w){var l;if(f(null===(l=e.eventListeners)||void 0===l?void 0:l.onRequestFailed,void 0),w instanceof ReferenceError)throw w;if(w instanceof DOMException&&"AbortError"===w.name)return function(e){const{url:t,requestBody:n,headers:i}=e;return{type:"failed",offline:!1,status:0,error:new(a().C)("Request aborted.",{url:t,requestBody:n,responseBody:void 0,offline:!1,status:0}),body:{errorId:o().JW(),name:"AbortedError",clientData:{type:"aborted"}},headers:i}}({url:e.url,requestBody:e.data,headers:n});if(w instanceof TypeError)return function(e){const{url:t,requestBody:n,cause:i}=e;return{type:"failed",offline:!0,status:0,error:new(a().C)("Offline.",{url:t,requestBody:n,responseBody:void 0,offline:!0,status:0,cause:i}),body:{errorId:o().JW(),name:"HttpRequestError",clientData:{type:"offline"}}}}({url:e.url,requestBody:e.data,cause:w});throw w}var g,v;if(200!==u.status)return f(null===(g=e.eventListeners)||void 0===g?void 0:g.onRequestFailed,u),await async function(e,t){let n;try{n=await t.json()}catch(w){}const i=`Received HTTP ${t.status}`;if(0===t.status)return{type:"failed",offline:!0,status:t.status,error:new(a().C)(i,{url:e.url,requestBody:e.data,responseBody:n,offline:!0,status:t.status}),body:{errorId:o().JW(),name:"HttpRequestError",clientData:{type:"offline"}}};{const o=h(t);return{type:"failed",offline:!1,status:t.status,headers:o,error:new(a().C)(i,{url:e.url,requestBody:e.data,responseBody:n,offline:!1,status:t.status}),body:n}}}(e,u);f(null===(v=e.eventListeners)||void 0===v?void 0:v.onRequestFetched,u);try{var b,y;f(null===(b=e.eventListeners)||void 0===b?void 0:b.onParseResponseStart);const t=await async function(e,t){const n=h(t);let o=e.format;return"jsonStream"!==e.format||function(e){const t=e.headers.get("Content-Type");return!!t&&"application/x-ndjson"===t}(t)||(o="json"),"json"===o?{type:"success",status:t.status,data:await t.json(),headers:n}:"text"===o?{type:"success",status:t.status,data:await t.text(),headers:n}:"jsonStream"===o?{type:"success",status:t.status,data:m(t),headers:n}:void(0,s().HB)(o)}(e,u);return f(null===(y=e.eventListeners)||void 0===y?void 0:y.onParseResponseDone,u),t}catch(w){var S;f(null===(S=e.eventListeners)||void 0===S?void 0:S.onParseResponseFailed,u);const t=(0,r().A)(w);return{type:"failed",offline:!1,status:u.status,headers:h(u),error:new(a().C)(`Unable to parse HTTP response: ${t.message}`,{url:e.url,requestBody:e.data,responseBody:u.body,offline:!1,status:u.status,cause:t}),body:e.data}}}},250454:(e,t,n)=>{n.d(t,{I:()=>o});n(944114);const o=new class{constructor(){this.longEventMetrics=[],this.shouldCollect=!1}setShouldCollect(e){this.shouldCollect=e}getShouldCollect(){return this.shouldCollect}generateUniqueId(){return Math.random().toString(36).substring(2,15)}start(e){const t=e?`rqf.${e}`:"rqf";performance.mark(`${t}.start`)}stop(e){const t=e?`rqf.${e}`:"rqf",n=performance.measure(t,`${t}.start`);this.add(n.duration)}add(e){e>500&&this.longEventMetrics.push({eventName:"render_queue_flush_long",eventProperties:{time:e}})}resetMetrics(){this.longEventMetrics=[]}getLongEventMetrics(){return this.longEventMetrics}}},259136:(e,t,n)=>{n.d(t,{C:()=>o});n(16280);class o extends Error{constructor(e,t){super(e),this.name=void 0,this.message=void 0,this.data=void 0,this.message=e,this.name="HttpRequestError",this.data=t}}},259985:(e,t,n)=>{n.d(t,{$:()=>r,U:()=>i});var o=n(296540);const i=(0,o.createContext)(void 0);function r(){return(0,o.useContext)(i)}i.displayName="ScrollerContext"},265515:(e,t,n)=>{n.d(t,{G:()=>r});n(16280);class o extends(()=>n(757695))().Store{constructor(e){super(),this.getValue=e}getState(){return this.instanceState=this.getValue(),super.getState()}setState(){throw new Error("MapKeyStore is read-only")}getInitialState(){}}class i{constructor(e,t){this._stores=void 0,this._map=void 0,this._stores=e(),this._map=e(t)}delete(e){const t=this._map.delete(e);return t&&this.emitKey(e),this.deleteKeyStore(e),t}get(e){return this.getKeyStore(e).getState()}has(e){return this.getKeyStore(e).getState(),this._map.has(e)}set(e,t){const n=!this._map.has(e)||this._map.get(e)!==t;return this._map.set(e,t),n&&this.emitKey(e),this}setUnlessEqual(e,t,n){return!(this._map.has(e)&&n(this._map.get(e),t))&&(this.set(e,t),!0)}getKeyStore(e){let t=this._stores.get(e);return t||(t=new o((()=>this._map.get(e))),this._stores.set(e,t)),t}emitKey(e){const t=this._stores.get(e);null!=t&&t.listenerCount()?t.emit():t&&this._stores.delete(e)}deleteKeyStore(e){const t=this._stores.get(e);return!(!t||0!==t.listenerCount())&&this._stores.delete(e)}}class r extends i{constructor(e){super((e=>new Map(e??[])),e),this._keysStore=new o((()=>this._map.keys())),this[Symbol.toStringTag]="MapStore"}forEach(e,t){for(const[n,o]of this)e.apply(t,[o,n,this])}clear(){if(0===this.size)return;const e=Array.from(this._map.keys());this._map.clear();for(const t of e)this.emitKey(t);for(const t of this._stores.keys())this.deleteKeyStore(t);this._keysStore.emit()}get size(){return this._keysStore.getState(),this._map.size}*entries(){this.keys();for(const e of this._map.entries())this.get(e[0]),yield e}keys(){return this._keysStore.getState()}*values(){this.keys();for(const[e,t]of this.entries())yield t}[Symbol.iterator](){return this.entries()}set(e,t){const n=this._map.size;super.set(e,t);return this._map.size!==n&&this.emitIterable(),this}delete(e){const t=super.delete(e);return t&&this.emitIterable(),t}emitIterable(){this._keysStore.emit()}}},266625:(e,t,n)=>{n.d(t,{y:()=>r});var o=n(296540),i=()=>n(496603);function r(e,t){const n=(0,o.useRef)(Math.random().toString(36).substr(2,9)),r=t,s=(0,o.useRef)();return(0,o.useEffect)((()=>{if(s&&s.current&&i().n4(s.current,r))return;const t=n.current;e&&(e({type:"mount",id:t,props:r}),s.current=r)}),[e,r]),e?n.current:void 0}},272061:(e,t,n)=>{n.d(t,{B:()=>a,J:()=>r});n(944114),n(517642),n(658004),n(733853),n(845876),n(432475),n(515024),n(731698);var o=()=>n(534177),i=()=>n(140934);function r(e,t){const n=new Map,r=new Set,a={nodes:[],edges:[]},d=new Map;let c=0;function u(e){let t=e;return r.has(t)&&(t=`${t}_${++c}`),r.add(t),t}function l(e){let t=n.get(e.value);return t||(t=function(e){var t;let r,a=null===(t=e.value.constructor)||void 0===t?void 0:t.name;a||(a="Unknown"),"component"===e.kind?("debugName"in e.value&&(a=e.value.debugName),r={type:"component",id:u(a),label:a}):"store"===e.kind?e.value instanceof i().ComputedStore?(e.value.debugName&&(a=e.value.debugName),r={type:"computedstore",id:u(a),label:a}):r={type:"store",id:u(a),label:a}:(0,o().HB)(e);for(const n of s)n(r,e.value,(e=>{d.set(r,e)}));return n.set(e.value,r),r}(e)),t}for(const[o,i]of e.entries())for(const e of i)a.edges.push({from:l({kind:"store",value:o}).id,to:l({kind:"component",value:e}).id});for(const[o,i]of t.entries())for(const e of i)a.edges.push({from:l({kind:"store",value:o}).id,to:l({kind:"store",value:e}).id});for(const[o,i]of d.entries()){const e=n.get(i);e&&(o.parentUIStoreId=e.id)}return a.nodes=Array.from(n.values()),a}const s=[];function a(e){s.push(e)}},275144:(e,t,n)=>{n.d(t,{$C:()=>d,Ay:()=>c});var o=n(296540),i=()=>n(726637),r=()=>n(534513),s=()=>n(450183),a=()=>n(231781);let d={x:0,y:0,moved:!1,device:"mouse"};function c(){(0,o.useEffect)((()=>(i().A.isMobile?(window.addEventListener("touchstart",u),window.addEventListener("touchmove",l),window.addEventListener("mousedown",h),window.addEventListener("mousemove",m)):(window.addEventListener("mousedown",h),window.addEventListener("mousemove",m)),()=>{i().A.isMobile?(window.removeEventListener("touchstart",u),window.removeEventListener("touchmove",l),window.removeEventListener("mousedown",h),window.removeEventListener("mousemove",m)):(window.removeEventListener("mousedown",h),window.removeEventListener("mousemove",m))})),[])}function u(e){const t=e.touches[0];d={moved:!1,x:t.clientX,y:t.clientY,device:(0,a().Q)(t)}}function l(e){const{x:t,y:n}=d,o=e.touches[0];(0,r().A)(t,n,o.clientX,o.clientY)>s().t[(0,a().Q)(o)]&&(d={...d,moved:!0})}function h(e){d={moved:!1,x:e.clientX,y:e.clientY,device:"mouse"}}function m(e){const{x:t,y:n}=d;(0,r().A)(t,n,e.clientX,e.clientY)>s().t.mouse&&(d={...d,moved:!0})}},285719:(e,t,n)=>{n.d(t,{q:()=>i});var o=n(296540);function i(e){const[t,n]=(0,o.useState)(Date.now());return(0,o.useEffect)((()=>{const t=setInterval((()=>{n(Date.now())}),e);return()=>clearInterval(t)}),[e]),t}},299972:(e,t,n)=>{n.d(t,{A:()=>o});class o extends(()=>n(757695))().Store{getInitialState(){return{}}canGoBack(){return void 0!==this.state.historyState&&this.state.historyState.index>0}canGoForward(){return!this.state.historyState||this.state.historyState.index<window.history.length-1}}},311029:(e,t,n)=>{n.d(t,{B:()=>i});let o=0;function i(){return`id_${(++o).toString(36)}`}},312788:(e,t,n)=>{n.d(t,{E:()=>s,a:()=>a});n(16280);var o=n(296540);function i(){(0,n(449412).Fg)(new Error("Component accessed RouterContext before it was provided."))}const r=o.createContext({navigate:i,navigateToExternalUrl:i});r.displayName="RouterContext";const s=r,a=r.Provider},329661:(e,t,n)=>{n.d(t,{A:()=>i});var o=()=>n(121924);function i({children:e,...t}){return(0,o().A)(t),e}},338381:(e,t,n)=>{n.d(t,{EV:()=>d,KH:()=>s,Ll:()=>r,MI:()=>h,Xs:()=>g,a2:()=>f,gR:()=>b,nx:()=>p,vq:()=>a,vr:()=>v,z:()=>u,zn:()=>m});n(944114);var o=()=>n(634201),i=()=>n(496603);function r(e){try{return Boolean(e&&void 0!==e.nodeType)}catch(t){return!1}}function s(e){return r(e)&&e.nodeType===Node.TEXT_NODE}function a(e){return r(e)&&e.nodeType===Node.ELEMENT_NODE}function d(e,t){for(;r(e)&&!t(e);)e=e.parentNode;return e}function c(e,t){var n;return s(e)?t>=((null===(n=e.textContent)||void 0===n?void 0:n.length)??0):t>=e.childNodes.length}function u(e,t){let n=e,o=t;if(!c(e,t)&&s(e))return{node:n,offset:o+1};for(;n&&o>=0;){if(!c(n,o)&&s(n))return{node:n,offset:o};if(a(n)&&0===n.childNodes.length&&"IMG"===n.nodeName)return{node:n,offset:o};if(a(n)&&n.childNodes.length>0)n=n.childNodes[o],o=0;else if(Boolean(n.nextSibling))n=n.nextSibling,o=0;else{var i;n=null===(i=n.parentNode)||void 0===i?void 0:i.nextSibling,o=0}}return{node:e,offset:t}}function l(e){var t;return e?s(e)?(null===(t=e.textContent)||void 0===t?void 0:t.length)??0:e.childNodes&&e.childNodes.length>0?e.childNodes.length:1:-1}function h(e,t){let n=e,o=t;if(t>0&&s(e))return{node:n,offset:o-1};let i=!0;for(;n&&o>=0;){if(!i&&o>=0&&s(n))return{node:n,offset:o};if(a(n)&&0===n.childNodes.length&&"IMG"===n.nodeName)return{node:n,offset:o};if(i=!1,a(n)&&n.childNodes.length>0&&o>0)n=n.childNodes[o-1],o=l(n);else if(n.previousSibling)n=n.previousSibling,o=l(n);else{var r;n=null===(r=n.parentNode)||void 0===r?void 0:r.previousSibling,o=n?l(n):-1}}return{node:e,offset:t}}function m(e,t=[]){if(r(e)){for(const n of o().PE(e.childNodes))s(n)?t.push(n):n.childNodes&&m(n,t);return t}return[]}function p(e,t){return r(e)&&r(t)?i().SL(e.childNodes,(e=>e===t)):-1}const f=function(){if("undefined"==typeof window)return!0;if(window.InputEvent&&"function"==typeof window.InputEvent.prototype.getTargetRanges)return!0;const e=window.document.createElement("div");return e.contentEditable="true","onbeforeinput"in e}();function g(e){!f&&e.preventDefault&&e.preventDefault()}function v(e){return"inputType"in e}function b(e,t){return e!==t&&e.contains(t)}},352246:(e,t,n)=>{n.d(t,{t:()=>o});n(944114),n(296540);"undefined"!=typeof window&&localStorage.getItem("__rerenderDefenderFender");const o=new class{setShouldCollect(e){}getShouldCollect(){return this.shouldCollect}constructor(){this.shouldCollect=!1,this.shouldCollect=!1}add(e,t,n){}log(e,t,n,o){}resetMetrics(){}getMetrics(){return[]}}},355543:(e,t,n)=>{n.d(t,{w:()=>s});var o=n(296540),i=()=>n(17022);const r=Symbol("EMPTY_VALUE");function s(e){const t=(0,o.useRef)(r);return t.current===r&&(t.current=i().e.withListenerIgnored((()=>e()))),t.current}},359995:(e,t,n)=>{n.d(t,{N6:()=>d,pQ:()=>a,sm:()=>s,uj:()=>r});n(944114),n(898992),n(354520),n(581454),n(737550);var o=()=>n(496603);function i(e,t){return e.KeyboardShortcutStackStore.state.stack.some((e=>t===e.listener))}function r(e,t,n){const{stack:o}=e.KeyboardShortcutStackStore.state;for(let i=o.length-1;i>=0;i--){const r=o[i],s=r.shortcuts[n];if(e.KeyboardShortcutStackStore.debugPropagation){const[t,o]=e.KeyboardShortcutStackStore.getDebugInfoForStackItem(i),a=r.enable&&s?`propagating ${n} to ${t}`:`not propagating ${n} to ${t}`;console.info(`keyboardShortcutStackActions: ${a}`,o)}if(r.enable&&s)return void s(t)}}function s(e){const{environment:t,stackItem:n}=e,r=t.KeyboardShortcutStackStore;if(i(t,n.listener)){const e=r.state.stack.map((e=>e.listener===n.listener?n:e));r.setState({...r.state,stack:e})}else r.state.stack.push(n),r.setState({stack:o().Ul(r.state.stack,(e=>e.priority))})}function a(e,t){if(i(e,t)){const n=e.KeyboardShortcutStackStore,o=n.state.stack.filter((e=>t!==e.listener));n.setState({...n.state,stack:o})}}function d(e,t){r(e,t,t.type)}},363901:(e,t,n)=>{n.d(t,{A:()=>i});var o=n(296540);function i(e){return(0,o.useMemo)((()=>({onMouseDown:t=>{if(e){if(r(t.target))return;r(document.activeElement)&&t.preventDefault()}}})),[e])}function r(e){return e instanceof HTMLElement&&("true"===e.contentEditable||"input"===e.tagName.toLowerCase())}},377441:(e,t,n)=>{n.d(t,{M:()=>r});const o=3,i=4;function r(e){return e.button===o||e.button===i}},378879:(e,t,n)=>{n.d(t,{a:()=>o});const o=(0,n(296540).createContext)(void 0);o.displayName="ReactivityObserverContext"},380745:(e,t,n)=>{n.d(t,{A:()=>i});class o extends(()=>n(757695))().Store{getInitialState(){return{isEnabled:!0,isKeyboardMode:!1}}setEnabled(e){this.setState({...this.state,isEnabled:e})}setKeyboardMode(e){this.state.isEnabled&&this.setState({isEnabled:!0,isKeyboardMode:e})}}const i=new o},381175:(e,t,n)=>{function o(e){if(void 0!==e)return"shiftKey"in e&&"altKey"in e&&e.shiftKey&&e.altKey?"window":"button"in e&&1===e.button||"metaKey"in e&&e.metaKey||"ctrlKey"in e&&e.ctrlKey?"tab":void 0}function i(e){if(void 0===e)return!1;const t="metaKey"in e&&e.metaKey||"ctrlKey"in e&&e.ctrlKey,n=Boolean("shiftKey"in e&&e.shiftKey);return t&&n}n.d(t,{V:()=>o,t:()=>i})},383036:(e,t,n)=>{n.d(t,{A:()=>r});n(898992),n(803949);var o=()=>n(558842),i=()=>n(496603);function r(e,t){if(!t)return e;const n={...e};return Object.keys(t).forEach((r=>{const s=t[r],a=e[r];a&&r.startsWith("on")&&i().Tn(s)?n[r]=(...e)=>{a(...e),s(...e)}:a&&("ref"===r||r.endsWith("Ref"))&&s?n[r]=(0,o().Px)(a,s):a||(n[r]=s||a)})),n}},390736:(e,t,n)=>{n.d(t,{Q:()=>r,j:()=>i});var o=n(296540);const i=(0,o.createContext)(!1);function r(){return(0,o.useContext)(i)}i.displayName="IsDraggingContext"},391400:(e,t,n)=>{n.d(t,{A:()=>r});var o=()=>n(757695);class i extends o().Store{getInitialState(){return{subMetricsStore:o().Store.createValue({},{name:"subMetricsStore"}),OPFSMetricDataStore:o().Store.createValue({},{name:"OPFSMetricDataStore"}),metricDataStore:o().Store.createValue({num_api_calls_initiated:0,num_api_calls_completed:0,wasm_sqlite_initialized:"skipped-unsupported-device"},{name:"metricDataStore"}),initialRenderCompleted:!1,initialRenderAfterLoginCompleted:!1,initialLoadCachedPageChunkCalledAt:void 0,initialCollectionPendingRenderCount:0,prewarmedTabAppStartTimeOverride:void 0,prewarmedTabSidebarRenderData:void 0,opfsMetadata:void 0}}incrementNumApiCallsInitiated(){this.state.initialRenderCompleted||this.state.metricDataStore.update((e=>({...e,num_api_calls_initiated:e.num_api_calls_initiated+1})))}incrementNumApiCallsCompleted(){this.state.initialRenderCompleted||this.state.metricDataStore.update((e=>({...e,num_api_calls_completed:e.num_api_calls_completed+1})))}setDesktopLoadContext({loadOrigin:e,tabCount:t,wasLoadedAtLogin:n}){const o=e||void 0,i=t?parseInt(t):void 0,r="true"===n;this.update((e=>({...e,...o?{desktopLoadOrigin:o}:{},desktopTabCount:i,desktopWasLoadedAtLogin:r})))}}const r=new i},395361:(e,t,n)=>{n.d(t,{U:()=>r,Y:()=>s});var o=n(296540),i=()=>n(496603);function r(e,t){return(0,o.useRef)(i().sg(e,t)).current}function s(e,t){const n=(0,o.useRef)(e);n.current=e;return(0,o.useMemo)((()=>i().sg(((...e)=>n.current(...e)),t)),[t])}},396182:(e,t,n)=>{n.d(t,{I:()=>s});n(944114);var o=n(296540),i=()=>n(992202);class r{constructor(e,t){this.isUnmounted=!1,this.afterRerenderThunks=[],this.dequeueRerender=void 0,this.dispatch=t;const n=()=>new Promise((e=>{this.isUnmounted?e():(this.afterRerenderThunks.push(e),this.dispatch((e=>e+1)))}));n.componentName=e,this.dequeueRerender=n}enqueueRerender(e,t,o){n(134134).I.log("enqueueRender",t,o),i().isRecording()&&i().logComponentForceUpdateScheduled({componentName:e,debugName:t},o);const r=this.dequeueRerender;r.componentName=e,n(908006).default.enqueueComponentRender(r)}resolveRenderQueuePromises(){if(!this.afterRerenderThunks.length)return;const e=this.afterRerenderThunks;try{for(let t=0;t<e.length;t++)e[t]()}finally{e.length=0}}onUnmount(){this.isUnmounted=!0,this.resolveRenderQueuePromises()}}function s(){const[e,t]=(0,o.useState)(0);(0,o.useDebugValue)(e);const n=(0,o.useRef)(void 0);(0,o.useLayoutEffect)((()=>{var e;return null===(e=n.current)||void 0===e?void 0:e.resolveRenderQueuePromises()})),(0,o.useEffect)((()=>()=>{var e;return null===(e=n.current)||void 0===e?void 0:e.onUnmount()}),[]);return(0,o.useCallback)(((e,o,i)=>{(n.current??=new r(e,t)).enqueueRerender(e,o,i)}),[])}},396487:(e,t,n)=>{n.d(t,{I:()=>i});var o=()=>n(711059);class i extends(()=>n(757695))().Store{getInitialState(){return{}}isPatchUpdate(){return Boolean(this.state.appUpdate&&"ready"===this.state.appUpdate.state&&this.state.appUpdate.type===o().UpdateType.Minor)}isSilentUpdate(){return Boolean(this.state.appUpdate&&"ready"===this.state.appUpdate.state&&this.state.appUpdate.type===o().UpdateType.Silent)}isMajorUpdate(){return this.state.appUpdate&&"ready"===this.state.appUpdate.state&&this.state.appUpdate.type===o().UpdateType.Major||this.state.electronUpdate&&"ready"===this.state.electronUpdate.state&&this.state.electronUpdate.type===o().UpdateType.Major}}},397870:(e,t,n)=>{n.d(t,{j:()=>i});var o=n(296540);function i(e){const{isOpen:t,onClosed:n,onDismiss:i,startClosingOnDismiss:r=!0}=e,[s,a]=(0,o.useState)("none");(0,o.useEffect)((()=>{a((e=>t?"open":"open"===e?"closing":e))}),[t]),(0,o.useEffect)((()=>{"closed"===s&&(null==n||n())}),[s,n]);const d=(0,o.useCallback)((()=>{a((e=>"closing"===e?"closed":e))}),[]),c=(0,o.useCallback)((()=>{r&&a((e=>"open"===e?"closing":e)),null==i||i()}),[i,r]);return{shouldRender:"none"!==s&&"closed"!==s,isOpen:"open"===s,onClosed:d,onDismiss:c}}},401497:(e,t,n)=>{n.d(t,{DP:()=>r,IS:()=>a,eP:()=>s});n(16280);var o=n(296540),i=()=>n(560198);function r(){const e=(0,o.useContext)(i().Dx);if(!e)throw new Error("useCssTheme: no theme context found");return(0,o.useDebugValue)(e),e}function s(){return r().mode}function a(e,t){const n=(0,o.useMemo)((()=>e()),[...t]);return(0,o.useDebugValue)(n),n}},402014:(e,t,n)=>{n.d(t,{SQ:()=>r,s7:()=>s,y$:()=>o});let o=function(e){return e[e.ButtonMouseDown=0]="ButtonMouseDown",e[e.EditorMouseDown=1]="EditorMouseDown",e[e.Click=2]="Click",e[e.AuxClick=3]="AuxClick",e[e.EditorContextMenu=4]="EditorContextMenu",e[e.EditorMouseOver=5]="EditorMouseOver",e[e.EditorDoubleClick=6]="EditorDoubleClick",e[e.SidebarMouseMove=7]="SidebarMouseMove",e[e.MobileTap=8]="MobileTap",e[e.PerformanceToolbarMouseMove=9]="PerformanceToolbarMouseMove",e[e.CopyToClipboard=10]="CopyToClipboard",e[e.DragEvent=11]="DragEvent",e}({});const i={};function r(e,t,n){const o=i[t],r=e.nativeEvent||e;if((null==o?void 0:o.deref())!==r){i[t]=new WeakRef(r);"unhandled"===(null==n?void 0:n())&&(i[t]=o)}}async function s(e,t,n){const o=i[t],r=e.nativeEvent||e;if((null==o?void 0:o.deref())!==r){i[t]=new WeakRef(r);"unhandled"===await(null==n?void 0:n())&&(i[t]=o)}}},402673:(e,t,n)=>{n.d(t,{$:()=>o});const o="function"==typeof requestIdleCallback?(e,t)=>requestIdleCallback(e,{timeout:t}):setTimeout},403750:(e,t,n)=>{n.d(t,{A:()=>i});class o extends(()=>n(959180))().A{}const i=new o},417553:(e,t,n)=>{n.d(t,{k:()=>d});var o=n(296540),i=()=>n(359995),r=()=>n(17022),s=()=>n(484714),a=n(474848);function d({children:e,innerKey:t,...n}){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c,{...n},t),e]})}function c({priority:e,enable:t,debugName:n,shortcuts:a}){const d=(0,s().v3)(),c=(0,o.useRef)(!1),l=(0,o.useRef)(Symbol(n)),h=(0,o.useRef)(e);return(0,o.useEffect)((()=>{h.current!==e&&(u(d,l,c),h.current=e),function(e,t,n,o){r().e.withListenerIgnored((()=>{if(n.current=n.current||o.enable,n.current){const n={listener:t.current,debugName:o.debugName,shortcuts:o.shortcuts,enable:o.enable,priority:o.priority||0};i().sm({environment:e,stackItem:n})}}))}(d,l,c,{priority:e,enable:t,debugName:n,shortcuts:a})}),[d,e,t,n,a]),(0,o.useEffect)((()=>()=>{u(d,l,c)}),[d]),null}function u(e,t,n){r().e.withListenerIgnored((()=>{i().pQ(e,t.current),n.current=!1}))}},426403:(e,t,n)=>{n.d(t,{$E:()=>m,Lc:()=>l,Ss:()=>g,yE:()=>c,yL:()=>h});n(16280);var o=()=>n(911981),i=()=>n(675133),r=()=>n(165358),s=()=>n(319625),a=()=>n(229833),d=()=>n(763824);const c="NotionTransactionTimeout",u=(0,n(69708).YK)({ReloadAllTabs:{defaultMessage:"Try closing and re-opening all Notion tabs or windows. Contact support if that doesnâ€™t fix the issue.",id:"localDatabase.errorFixes.reloadAllTabs"},ReloadThisTab:{defaultMessage:"Try reloading Notion. Contact support if that doesnâ€™t fix the issue.",id:"localDatabase.errorFixes.reloadThisTab"},AppProfileCorrupted:{defaultMessage:"Notionâ€™s local storage may be damaged. See (?) > Help & documentation > Reset Notion. Contact support if that doesnâ€™t fix the issue.",id:"localDatabase.errorFixes.helpAndSupportPrompt"},FirefoxProfileCorrupted:{defaultMessage:"Your Firefox profile may be damaged. Visit https://firefox-storage-test.glitch.me/ to diagnose. Contact support if that doesnâ€™t fix the issue.",id:"localDatabase.errorFixes.firefoxSettingsDamaged"},ChromeProfileCorrupted:{defaultMessage:"Your Chrome profile may be damaged. If you changed any chrome://flags then please reset them, then restart your browser. If issues persist, try making a new Chrome user. Contact support if that doesnâ€™t fix the issue.",id:"localDatabase.errorFixes.chromeSettingsDamaged"},ChromeIndexedDBBucketError:{defaultMessage:"Your Chrome profile may be damaged. For a more consistent experience download the Notion desktop app: https://www.notion.com/desktop",id:"localDatabase.errorFixes.chromeUpgradeCorruptedSettings"},noDiskSpace:{defaultMessage:"No disk space remaining. Contact support if that doesnâ€™t fix the issue.",id:"localDatabase.erroMessages.noDiskSpaceRemaining"},noDiskSpaceBrowserLimit:{defaultMessage:"No disk space remaining. Your browser settings may restrict the storage Notion can use. Contact support if that doesnâ€™t fix the issue.",id:"localDatabase.erroMessages.noDiskSpaceRemainingBrowserLimit"}});function l(e){return e}function h(e){return Promise.all(e)}class m{constructor(e,t,n,o){this.databaseName=void 0,this.databaseVersion=void 0,this.debugLogger=new(r().BatchedLogger)({from:"IndexedDBWrapper",team:"no-team-specified",type:"BulkDebug",level:"info",maxLength:100,logToConsole:false}),this.latestTransactionId=0,this.openDbCallbacks=void 0,this.db=void 0,this.getDBPromise=void 0,this.environment=e,this.databaseName=t,this.databaseVersion=n,this.openDbCallbacks=o}async reset(){try{return await(0,o().MR)(this.databaseName),{value:void 0}}catch(e){return{error:p({environment:this.environment,error:(0,s().A)(e),details:`Failed to reset database ${this.databaseName}`,closed:!1,aborted:!1})}}finally{this.teardown()}}async startTransaction(e,t){const n="startTransaction";let o,i=0;const r=`${e.name}.${this.latestTransactionId++}`;do{try{const a=`${r} attempt #${i+1}`;if(this.debugLogInfo(n,`${a} starting`),o=await this.startTransactionAttempt({...e,name:r},t),!o.error){this.debugLogInfo(n,`${a} succeeded`);break}const c=`${a} errored, type=${o.error.type}`;if(!o.error.closed){this.debugLogInfo(n,`${c}, closed=false`);break}if(this.debugLogInfo(n,`${c}, closed=true`),this.db)try{this.db.close()}catch(s){this.debugLogInfo(n,`db.close() threw ${s}`)}if(this.teardown(),4===i)break;await d().wR(250)}catch(s){return{error:s}}i++}while(i<5);return o}async startTransactionAttempt(e,t){const{storeNames:n,name:o,mode:i,timeoutMs:d}=e,c=`${o} failed`,u="startTransactionAttempt",l=await this.getDB();if(l.error)return l;const h=l.value,f=[];let g;try{g=h.transaction(n,i);const e=Date.now(),t=window.setTimeout((()=>{const t=Date.now()-e,n=`${o} has not completed after ${t} ms, which may prevent other transactions from running.`;this.debugLogInfo(u,n),r().log({from:"IndexedDBWrapper",type:"LongRunningTransactionWarning",level:"warning",data:{message:n,miscDataToConvertToString:{transactionLog:f}},team:"no-team-specified"})}),m.longRunningTimeoutMs);g.addEventListener("complete",(function(){window.clearTimeout(t)}));const s=e=>{e.stopPropagation(),window.clearTimeout(t)};g.addEventListener("error",s),g.addEventListener("abort",s)}catch(b){const e=(0,s().A)(b);return{error:p({environment:this.environment,details:`Failed to create ${i} transaction on ${this.databaseName}.${n}`,error:e,aborted:!0,closed:"InvalidStateError"===e.name})}}const v=await this.runTransaction(g,t,o,d,(e=>{r().pushWithMaxLength(f,e,100)}));if("error"in v||v.abort){this.debugLogInfo(u,`${o} command returned failed/aborted status`);try{g.abort()}catch(y){this.debugLogInfo(u,`transaction.abort() threw ${y}`)}return g.done.catch((e=>{e&&r().log({from:"IndexedDBWrapper",type:"TransactionFailure",level:"error",error:(0,a().convertErrorToLog)(p({environment:this.environment,details:c,error:e,aborted:!0,closed:!1})),team:"no-team-specified"})})),v}if(this.debugLogInfo(u,`${o} command returned successful status`),"readwrite"===i)try{await g.done}catch(y){return{error:p({environment:this.environment,error:(0,s().A)(y),details:`In await transaction.done: ${c}`,aborted:null===y,closed:!1})}}else g.done.catch((e=>{r().log({from:"IndexedDBWrapper",type:"ReadOnlyTransactonFailureIgnored",level:"error",error:(0,a().convertErrorToLog)(p({environment:this.environment,error:e,details:c,aborted:null===e,closed:!1})),team:"no-team-specified"})}));return{value:v.value}}freezeListener(){Boolean(this.db)&&(this.debugLogInfo("freezeListener"),r().log({level:"warning",from:"IndexedDBWrapper",type:"document.freeze",data:{dbName:this.databaseName,dbVersion:this.databaseVersion},team:"no-team-specified"}))}teardown(){this.debugLogInfo("teardown"),this.db=void 0,this.getDBPromise=void 0,document.removeEventListener("freeze",this.freezeListener)}debugLogInfo(e,t){this.debugLogger.log({team:"no-team-specified",from:"IndexedDBWrapper",level:"info",type:e,data:{message:t}})}async initDB(){try{this.debugLogInfo("initDB","Starting openDB()");const e=await(0,o().P2)(this.databaseName,this.databaseVersion,this.openDbCallbacks);return this.debugLogInfo("initDB","Completed openDB()"),document.addEventListener("freeze",this.freezeListener),e.addEventListener("close",(e=>{r().log({level:"warning",from:"IndexedDBWrapper",type:"db.onclose",data:{dbName:this.databaseName,dbVersion:this.databaseVersion},error:(0,a().convertErrorToLog)(f(e)),team:"no-team-specified"}),this.teardown()})),e.addEventListener("abort",(e=>{r().log({level:"warning",from:"IndexedDBWrapper",type:"db.onabort",data:{dbName:this.databaseName,dbVersion:this.databaseVersion},team:"no-team-specified"})})),e.addEventListener("error",(e=>{r().log({level:"error",from:"IndexedDBWrapper",type:"db.onerror",data:{dbName:this.databaseName,dbVersion:this.databaseVersion},error:(0,a().convertErrorToLog)(f(e)),team:"no-team-specified"})})),e.addEventListener("versionchange",(()=>{r().log({level:"warning",from:"IndexedDBWrapper",type:"db.onversionchange",data:{dbName:this.databaseName,dbVersion:this.databaseVersion},team:"no-team-specified"}),e.close(),this.teardown()})),{value:e}}catch(e){return{error:p({environment:this.environment,details:"Unable to initialize database",error:(0,s().A)(e),aborted:!1,closed:!1})}}}async getDB(){let e=this.db;if(!e){this.getDBPromise||(this.getDBPromise=this.initDB().then((e=>(e.error?this.teardown():(this.db=e.value,this.getDBPromise=void 0),e)),(e=>(this.teardown(),{error:{type:"InitDBException",message:"An unexpected error occurred trying to create the database.",details:"Exception in initDB",error:e,closed:!1,aborted:!1}}))));const t=await this.getDBPromise;if(t&&t.error)return t;e=t.value}return{value:e}}async runTransaction(e,t,n,o,i){try{const r=Date.now(),s=t(e,(e=>{this.debugLogInfo("runTransaction",`${n} command: ${e}`),i(e)}));if(void 0!==o&&o>=0){const e=await d().Vq(s,o);if(e.timeout){const e=Date.now()-r,t=new Error(`Timeout after ${e}ms: exceeded limit ${o}ms by ${e-o}ms`);throw t.name=c,this.debugLogInfo("runTransaction",`${n} ${t.name}: ${t.message}`),this.debugLogger.flush(),t}return e.result}i("Awaiting commandResultPromise.");const a=await s;return i("Done awaiting commandResultPromise."),a}catch(r){return{error:p({environment:this.environment,error:(0,s().A)(r),details:`In runTransaction catch: ${n} failed`,closed:!1,aborted:!1})}}}}function p(e){const{environment:t,error:n,details:o,closed:r,aborted:s}=e;if(n){if(n.name===c)return{type:c,details:o,message:`Storage operation did not complete. ${i().A.formatMessage(u.ReloadAllTabs)}`,error:n,closed:!1,aborted:!1};if("TimeoutError"===n.name&&"Transaction timed out due to inactivity."===n.message)return{type:"TransactionTimeout",details:o,message:`IndexedDB access attempt timed out. ${i().A.formatMessage(u.ReloadThisTab)}`,error:n,closed:r,aborted:s};if("VersionError"===n.name)return{type:"OutdatedSchemaVersion",details:o,message:`This tab is running an outdated version of Notion. ${i().A.formatMessage(u.ReloadThisTab)}`,error:n,closed:r,aborted:s};if("UnknownError"===n.name&&"Internal error opening backing store for indexedDB.open."===n.message)return{type:"ChromeUnknownInternalError",details:o,message:`Cannot open IndexedDB. ${t.device.isNative?i().A.formatMessage(u.AppProfileCorrupted):i().A.formatMessage(u.ChromeProfileCorrupted)}`,error:n,closed:r,aborted:s};if(t.device.isBrowser&&"UnknownError"===n.name&&"Internal error retrieving bucket data directory."===n.message)return{type:"ChromeUnknownInternalError",details:o,message:i().A.formatMessage(u.ChromeIndexedDBBucketError),error:n,closed:r,aborted:s};if("SecurityError"===n.name&&"IDBFactory.open() called in an invalid security context"===n.message)return{type:"SafariIframeSecurityError",details:o,message:"Cannot access IndexedDB in an iframe in your browser. Try opening Notion in a new window or use a different browser.",error:n,closed:r,aborted:s};if("UnknownError"===n.name&&"Connection to Indexed Database server lost. Refresh the page to try again"===n.message)return{type:"SafariIndexedDatabaseServerLost",details:o,message:`Cannot access IndexedDB due to a bug in Safari/WebKit. ${i().A.formatMessage(u.ReloadThisTab)}`,error:n,closed:r,aborted:s};if("InvalidStateError"===n.name&&"A mutation operation was attempted on a database that did not allow mutations."===n.message)return{type:"FirefoxPrivateBrowsing",details:o,message:"Firefox does not allow IndexedDB in Private Browsing. Try opening Notion in a normal window.",error:n,closed:r,aborted:s};if("NotFoundError"===n.name&&"The operation failed because the requested database object could not be found. For example, an object store did not exist but was being opened."===n.message)return{type:"FirefoxObjectStoreNotFound",details:o,message:`An IndexedDB object store does not exist. ${i().A.formatMessage(u.ReloadAllTabs)} ${i().A.formatMessage(u.FirefoxProfileCorrupted)}`,error:n,closed:!0,aborted:s};if("QuotaExceededError"===n.name){let e=i().A.formatMessage(u.noDiskSpace);return t.device.isBrowser&&(e=i().A.formatMessage(u.noDiskSpaceBrowserLimit)),{type:"QuotaFull",details:o,message:e,error:n,closed:r,aborted:s}}if(window.navigator.userAgent.includes("WindowsWechat")&&"AbortError"===n.name&&"Version change transaction was aborted in upgradeneeded event handler."===n.message)return{type:"UnsupportedWechat",details:o,message:"This device or application is unsupported.",error:n,closed:r,aborted:s}}return{type:"UnknownIndexedDBError",details:o,message:`An unknown IndexedDB error occurred. ${i().A.formatMessage(u.ReloadThisTab)}`,error:n||new Error("createIndexedDBError: error was falsy"),closed:r,aborted:s}}function f(e){if(e&&e.target&&"error"in e.target){const t=e.target.error;if(!t)return;return`${t.name}: ${t.message}`}}function g(e,t){if(e.stack)return e;try{const n=new Error(`${e.message} (${t})`);throw n.name=e.name,n}catch(n){return e.stack=(0,s().A)(n).stack,e}}m.longRunningTimeoutMs=5*n(720665).Xb,(0,n(852832).exposeDebugValue)("idbUnwrap",o().oA)},427652:(e,t,n)=>{n.d(t,{EZ:()=>c,N7:()=>d,jY:()=>o,m:()=>u,nH:()=>a});const o="undefined"!=typeof window&&"true"===localStorage.getItem("__enableDebugStoreMap"),i=new FinalizationRegistry((e=>{d(e)})),r={};function s(){}(0,n(852832).exposeDebugValue)("getDebugStoreMap",(function(){return r}));const a=o?function(e,t){const n=e.debugName;if(n){if(!r[n]){const o=new WeakRef(e);r[n]={count:0,store:o,listeners:{},type:t},i.register(e,n)}r[n].count+=1}}:s,d=o?function(e){if(!e||!r[e])return;const t=r[e].store;delete r[e];const n=null==t?void 0:t.deref();n&&i.unregister(n)}:s,c=o?function(e,{listenerName:t,listenerType:n}){const o=r[e];if(!o)return;const{listeners:i}=o;i[t]||(i[t]={listenerType:n})}:s,u=o?function(e,t){const n=r[e];if(!n)return;const{listeners:o}=n;delete o[t]}:s},442610:(e,t,n)=>{n.d(t,{A:()=>i});class o extends(()=>n(757695))().Store{getInitialState(){return{ready:!1,loading:!1}}}const i=o},448716:(e,t,n)=>{n.d(t,{W:()=>o});class o{constructor(e=0,t){this.value=e,this.textInstanceId=t;const n=o.overrides.get(t);n&&e>n&&this.updateOverride()}get(){return o.overrides.get(this.textInstanceId)??this.value}set(e){const t=this.get();(0,n(933449).MX)(e>=t,"Clock value must be non-decreasing"),this.value=e,this.updateOverride()}updateOverride(){o.overrides.set(this.textInstanceId,this.value)}static TEST_ONLY__clearOverrides(){this.overrides.clear()}}o.overrides=new Map},450183:(e,t,n)=>{n.d(t,{t:()=>o});const o={mouse:6,finger:0,stylus:6}},452446:(e,t,n)=>{n.d(t,{q:()=>r,r:()=>i});const o=(0,n(296540).createContext)(void 0);o.displayName="PageContext";const i=o,r=o.Provider},466103:(e,t,n)=>{n.r(t),n.d(t,{exposeDebugEnvironmentValue:()=>s,exposeWindowDebugValue:()=>d,setEnvironment:()=>a});n(944114);var o=()=>n(852832);let i;const r=[];function s(e,t){r.push({name:e,getter:t}),i&&(0,o().exposeDebugValue)(e,t(i))}function a(e){i=e;for(const{name:t,getter:n}of r)(0,o().exposeDebugValue)(t,n(i))}function d(e,t){Object.defineProperty(window,`$${e}`,{get:t,enumerable:!0,configurable:!0})}},469708:(e,t,n)=>{n.d(t,{p:()=>o});class o{constructor(e){this.memo=new WeakMap,this.debugName=void 0,this.hits=0,this.misses=0,this.getStateFor=e=>this.computeMemo(e),this.computeMemo=e=>{let t=this.memo.get(e);return t?this.hits++:(this.misses++,t=new(n(140934).ComputedStore)((()=>this.options.compute(e,this.options.memoizeRecursion?this.computeMemo:this.computeNonMemo)),{debugName:this.debugName}),this.memo.set(e,t)),t.getState()},this.computeNonMemo=e=>this.options.compute(e,this.computeNonMemo),this.options=e,this.debugName=`RecursiveComputedStore.${e.debugName}`,(0,n(852832).exposeDebugInstance)(this.debugName,this)}}},470785:(e,t,n)=>{n.d(t,{A:()=>i});var o=n(296540);function i(e){const[t,n]=o.useState((()=>window.matchMedia(e).matches));return o.useEffect((()=>{const t=window.matchMedia(e);function o(){n(t.matches)}return o(),t.addEventListener("change",o),()=>{t.removeEventListener("change",o)}}),[e]),t}},484714:(e,t,n)=>{n.d(t,{WS:()=>a,Y0:()=>s,v3:()=>r});n(16280);var o=n(296540),i=()=>n(136590);function r(){const e=(0,o.useContext)(i().yY);if(!e)throw new Error("No ClientEnvironment provided.");return e}function s(){const e=(0,o.useContext)(i().Ag);if(!e)throw new Error("No DeviceContext provided.");return e}function a(){return s().isPhone}},488814:(e,t,n)=>{n.d(t,{r:()=>s});var o=n(296540);const i=!1;let r=0;function s(e){const{getElement:t,onRequestAnimationFrameForDebugging:n}=e,[s,a]=(0,o.useState)(),d=Boolean(t);(0,o.useEffect)((()=>{d||a(void 0)}),[d]);const c=(0,o.useCallback)((()=>{if(!t)return;null==n||n();const e=t();if(e){const t=e.getBoundingClientRect();let n=!0;if(s){s.x===t.x&&s.y===t.y&&s.width===t.width&&s.height===t.height&&(n=!1)}n&&a(t)}else a(void 0)}),[t,n,s]);var u;return u=t?c:void 0,(0,o.useEffect)((()=>{if(!u)return;const e=++r;let t,n=!1;const o=()=>{u(),n?i&&console.log(`#${e} (raf=${t}): raf loop cancelled, returning early`):t=window.requestAnimationFrame(o)};return t=window.requestAnimationFrame(o),i&&console.log(`#${e} (raf=${t}): starting raf loop`),()=>{i&&console.log(`#${e} (raf=${t}): ending raf loop`),n=!0,window.cancelAnimationFrame(t)}}),[u]),s}},501230:(e,t,n)=>{n.d(t,{P:()=>d});var o=()=>n(497665),i=n(296540),r=()=>n(484714),s=()=>n(128542),a=n(474848);function d(e){const t=(0,r().v3)(),[n,d]=(0,i.useState)(0);return(0,i.useEffect)((()=>{t.queryClient||(t.queryClient=new(s().NotionQueryClient)(void 0,t.device),t.queryClient.initialize().then((()=>{d((e=>e+1))})))}),[t]),t.queryClient?(0,a.jsx)(o().Ht,{client:t.queryClient,children:e.children}):null}},507707:(e,t,n)=>{n.d(t,{A:()=>r});const o=2,i=4;function r(e,t){if(!e&&!t)return 0;if(!t)return-1;if(!e)return 1;const n=e.compareDocumentPosition(t);return(n&i)===i?-1:(n&o)===o?1:0}},522638:(e,t,n)=>{n.d(t,{j:()=>i});var o=n(296540);function i(e,t=[]){const[n,i]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{i(!1)}),[...t]),(0,o.useEffect)((()=>{const t=setTimeout((()=>{i(!0)}),e);return()=>{clearTimeout(t)}})),n}},526323:(e,t,n)=>{n.d(t,{Em:()=>d,OH:()=>a});const o=class extends(()=>n(140934))().ComputedStore{},i=["blank","nativeRedirect","page","space","nativeTab","onboarding","ekmError","requiredSamlError","unsubscribe","unknown","uiDoc","desktopEmailConfirm","root","chat","posts","marketplace","team","gallery","meet","settingsConsoleOrganization","agent","ai","workers","worker","admin","adminSection","adminWorkersList","adminWorkersDetail","adminListData","adminPermissions","adminSingleRecord","adminObject"],r=[...i,"login","login/calendar","signup","quickSearch","meetingNotification"],s=["meetingNotification","desktopNosey"];function a(e){const{device:t,RouterStore:n,ThemeStore:s}=e;let a=i;return(t.isElectron||t.isElectronCalendar||t.isMobileNative)&&(a=r),new o((()=>{const e=n.state.route;return e&&a.includes(e.name)?s.state.mode:"light"}),{debugName:"ThemeModeStore"})}function d(e){return s.includes(e)}},529387:(e,t,n)=>{n.d(t,{q:()=>o});const o=n(296540).createContext(!1);o.displayName="AnimatingOutContext"},534513:(e,t,n)=>{function o(e,t,n,o){return Math.sqrt((e-n)*(e-n)+(t-o)*(t-o))}n.d(t,{A:()=>o})},543906:(e,t,n)=>{n.d(t,{A:()=>i});var o=n(296540);function i(e,t){const n=(0,o.useRef)(!1);(0,o.useEffect)((()=>{!n.current&&t&&(n.current=!0,e())}),[t,e])}},551541:(e,t,n)=>{n.d(t,{A:()=>o});const o=function(){const e=document.documentElement;return new(n(587682).z8)(0,0,e.clientWidth,e.clientHeight)}},560198:(e,t,n)=>{n.d(t,{Dx:()=>d,VD:()=>c,_u:()=>u,wX:()=>h});var o=n(296540),i=()=>n(100622),r=()=>n(484714),s=()=>n(590526),a=n(474848);const d=(0,o.createContext)(void 0);function c(e){return e.device.prefersDarkInterface?"dark":"light"}d.displayName="ThemeContext";const u=window.notionTheme,l={display:"contents"};function h(e){const t=(0,r().v3)(),n=(0,s().K8)((()=>e.mode?e.mode:"system"===u?c(t):u||t.ThemeModeStore.state),[e.mode,t]),h=(0,o.useMemo)((()=>{return e=n,(0,i().O4)({theme:e,useCssVars:!0});var e}),[n]);return(0,a.jsx)(d.Provider,{value:h,children:(0,a.jsx)("div",{className:`notion-${h.mode}-theme`,style:l,children:e.children})})}},560520:(e,t,n)=>{n.d(t,{n:()=>r,r:()=>i});var o=n(296540);const i=(0,o.createContext)(0);function r(){return(0,o.useContext)(i)}i.displayName="MobileNativeBottomPaddingContext"},560533:(e,t,n)=>{n.d(t,{e:()=>o});const o=(0,n(296540).createContext)(void 0);o.displayName="DismissContext"},578510:(e,t,n)=>{function o(e,t,n,o){e.removeEventListener(t,n,Boolean(o))}n.d(t,{O:()=>o})},579273:(e,t,n)=>{n.d(t,{b:()=>r});var o=()=>n(284371);let i=!1;async function r(){const e=await Promise.all([n.e(49889),n.e(96304)]).then(n.bind(n,622279)),t=(await Promise.all([n.e(49889),n.e(96304)]).then(n.bind(n,92227))).default,r=e.default;return i||(r.registerLayoutLoaders(t),r.initialize({startOnLoad:!1,securityLevel:"strict",layout:"elk",themeVariables:{fontFamily:o().O9},dompurifyConfig:{FORBID_ATTR:["href","action"]},maxEdges:1500,maxTextSize:5e5,elk:{nodePlacementStrategy:"LINEAR_SEGMENTS"}}),i=!0),r}},581010:(e,t,n)=>{n.d(t,{A:()=>i});class o extends(()=>n(959180))().A{}const i=new o},587682:(e,t,n)=>{n.d(t,{$E:()=>b,E$:()=>m,GL:()=>y,HY:()=>h,IA:()=>f,JK:()=>l,KK:()=>k,Lq:()=>d,Wi:()=>p,X6:()=>u,fT:()=>v,l6:()=>w,ux:()=>c,v_:()=>a,z8:()=>s});n(944114),n(898992),n(581454),n(908872);var o=()=>n(354138),i=()=>n(806080),r=()=>n(834074);class s{static from(e){return new s(e.left,e.top,e.width,e.height)}constructor(e,t,n,o){this.x=e,this.y=t,this.width=n,this.height=o,this.top=this.height<0?this.y+this.height:this.y,this.bottom=this.height<0?this.y:this.y+this.height,this.left=this.width<0?this.x+this.width:this.x,this.right=this.width<0?this.x:this.x+this.width}toJSON(){return{...this}}}const a=new s(0,0,0,0);function d(e){return Boolean(e&&((0,i().Et)(e.top)||(0,i().Et)(e.left)))}function c(e,t,n){return e.left<=t&&t<=e.right&&e.top<=n&&n<=e.bottom}function u(e,t){return e.left<=t.left&&e.right>=t.right}function l(e,t){return e.top<=t.top&&e.bottom>=t.bottom}function h(e,t){return!(t.left>e.right||t.right<e.left||t.top>e.bottom||t.bottom<e.top)}function m(e,t){return{width:Math.min(e.right,t.right)-Math.max(e.left,t.left),height:Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)}}function p(e,t){return!(e.right<=t.left||t.right<=e.left)}function f(e,t){return!(e.bottom<=t.top||t.bottom<=e.top)}function g(e,t,n){return new s(e.left+t,e.top+n,e.width,e.height)}function v(e,t){return new s(e.left-t,e.top-t,e.width+2*t,e.height+2*t)}function b(e,t){return new s(e.left-t.left,e.top-t.top,t.left+e.width+t.right,t.top+e.height+t.bottom)}function y(e){const t=e.top+e.height/2,n=e.left+e.width/2;return new s(n,t,0,0)}function S(e){const t=e.slice();return t.sort(((e,t)=>{const n=e.top-t.top;if(0!==n)return n;const o=e.left-t.left;if(0!==o)return o;const i=t.width-e.width;return 0!==i?i:t.height-e.height})),t}function w(e,t){const n=Math.min(e.left,t.left),o=Math.min(e.top,t.top),i=Math.max(e.right,t.right),r=Math.max(e.bottom,t.bottom);return new s(n,o,i-n,r-o)}function C(e){const t=new(o().T)(e.length),n=S(e);for(let o=0;o<n.length;o++)for(let e=o+1;e<n.length;e++)h(n[o],n[e])&&t.unionContainingSets(o,e);return S(t.getSets().map((e=>e.map((e=>n[e])).reduce(((e,t)=>w(e,t))))))}function k(e){const t=C(e);if(0===t.length)return{total:new s(0,0,0,0),rects:[]};if(1===t.length){const e=s.from(t[0]);return{total:e,rects:[{original:e,translate:(0,r().zg)(),translated:e}]}}const[n,...o]=t;let i=s.from(n);const a=[{original:n,translate:(0,r().zg)(),translated:n}];for(const s of o){if(f(n,s)){i=w(i,s),a.push({original:s,translate:(0,r().zg)(),translated:s});continue}const e={x:i.right,y:i.top},t=(0,r().Nh)(e,s),o=g(s,t.x,t.y);a.push({original:s,translate:t,translated:o}),i=w(i,o)}return{total:i,rects:a}}(0,n(852832).exposeDebugValue)("Rect",{ComparableRect:s,simplifyIntersectingRects:C,intersects:h,undoTextWrapping:k})},588165:(e,t,n)=>{function o(e){const t={};for(const n of e)t[n.id]=n.customizable&&n.customKeyCombination?n.customKeyCombination:n.defaultKeyCombination;return t}function i(e,t){return o(e)[t]}n.d(t,{a:()=>o,c:()=>i})},588316:(e,t,n)=>{n.d(t,{A:()=>r});var o=n(296540);function i(e){try{return e.matches(":focus-within")}catch(t){return!1}}function r(){const e=(0,o.useRef)(null),t=(0,o.useRef)(null),[n,r]=(0,o.useState)(!1),s=(0,o.useCallback)((()=>{const t=e.current;t&&r(i(t))}),[]),a=(0,o.useCallback)((n=>{if(e.current=n,n){var o;const e=()=>{r(i(n))},s=()=>{r(i(n))};n.addEventListener("focusin",e),n.addEventListener("focusout",s),null===(o=t.current)||void 0===o||o.call(t),t.current=()=>{n.removeEventListener("focusin",e),n.removeEventListener("focusout",s)}}else{var a;null===(a=t.current)||void 0===a||a.call(t),t.current=null}s()}),[s]);return(0,o.useEffect)((()=>()=>{var e;return null===(e=t.current)||void 0===e?void 0:e.call(t)}),[]),(0,o.useEffect)((()=>{if(n)return document.addEventListener("pointerdown",s),document.addEventListener("keydown",s),()=>{document.removeEventListener("pointerdown",s),document.removeEventListener("keydown",s)}}),[n,s]),[a,n]}},589620:(e,t,n)=>{n.d(t,{D:()=>o});const o=new(n(29923).R)({key:"spaceIdToShortId",namespace:n(553737).Bq,important:!0,trackingType:"necessary"})},590526:(e,t,n)=>{n.d(t,{K8:()=>w,r6:()=>v,uB:()=>b,O$:()=>S,$y:()=>C});n(16280),n(898992),n(803949);var o=n(296540),i=()=>n(591779),r=()=>n(17022),s=()=>n(134134),a=()=>n(992202);"undefined"!=typeof window&&localStorage.getItem("__useSlowComponentNameLookup");function d(){return"UnknownFunctionComponent"}const c=d;var u=()=>n(396182),l=()=>n(140934),h=()=>n(378879);const m="no debugName: ",p={useComputedStore:`${m}UnknownFunctionComponent.useComputedStore`,useComputedStoreInstance:`${m}UnknownFunctionComponent.useComputedStoreInstance`,useStoreState:`${m}UnknownFunctionComponent.useStoreState`},f=d===d;function g(e,t,n){return t||(f?p[n]:`${m}${e}.${n}`)}function v(e,t,n={},r){const s=(0,o.useContext)(h().a),a=g(c(),n.debugName||r,"useComputedStoreInstance");(0,o.useDebugValue)(a);const d=(0,o.useCallback)(e,t),u=(0,o.useRef)();u.current||(null==s||s.forEach((e=>1===e.version&&e.activate())),u.current=new(l().ComputedStore)(d,{...n,debugName:a,source:"useComputedStore"}),null==s||s.forEach((e=>1===e.version&&e.deactivate())),u.current.addListener(l().ZD));const m=u.current;return(0,o.useEffect)((()=>(m.addListener(l().ZD),()=>m.removeListener(l().ZD))),[m]),(0,i()._$)(t,i().MR)&&m.updateStoreInstance(d,Boolean(n.useDeepEqual)),m}function b(e,t){const n=(0,o.useRef)();if(e)return n.current=void 0,e;if(!t)throw new Error("useStore: no store instance, and no store constructor");return n.current||(n.current=new t),n.current}const y={debugName:"UNKNOWN",componentName:"UNKNOWN"};function S(e,t){const n=(0,o.useContext)(h().a),i=c(),d=g(i,t,"useStoreState"),l=(0,u().I)(),m=(0,o.useRef)(!1);(0,o.useLayoutEffect)((()=>{if(!e)return;const t=(0,a().isRecording)()?{debugName:d,componentName:i}:y,o=function(e){s().I.log("useSubscription listener called",{debugName:d,disabled:m.current},e),m.current||l(i,d,e)};return e.addListener(o,{listenerName:i,listenerType:"component"}),s().I.log("useStoreState: addListener",d,e),(0,a().logListenerAdded)(e,t,3),null==n||n.forEach((t=>1===t.version&&t.onAddListener(o,e))),()=>{s().I.log("useStoreState: removeListener",d,e),e.removeListener(o,i),(0,a().logListenerRemoved)(e,t),null==n||n.forEach((t=>1===t.version&&t.onRemoveListener(o,e)))}}),[e,d,i,l,n]),m.current=!0;try{const t=r().e.withListenerIgnored((()=>null==e?void 0:e.getState()));return(0,o.useDebugValue)(t),t}finally{m.current=!1}}function w(e,t,n={},i){const r=g(c(),i&&n.debugName?`${n.debugName} - ${i}`:n.debugName||i,"useComputedStore");(0,o.useDebugValue)(r);return S(v(e,t,n,r),r)}function C(e,t){const n=b(e,t);(0,o.useDebugValue)(n.constructor.name);return[S(n),(0,o.useCallback)((e=>"function"==typeof e?n.update(e):n.setState(e)),[n]),n]}},590966:(e,t,n)=>{n.r(t),n.d(t,{CurrentUser:()=>o});class o{constructor(e){this._id=void 0,this._loggedInUserIds=void 0,this._adminUserId=void 0,this.args=e,this._id=null==e?void 0:e.id,this._loggedInUserIds=(null==e?void 0:e.loggedInUserIds)||[],this._adminUserId=null==e?void 0:e.adminUserId}get id(){return this._id}get loggedInUserIds(){return this._loggedInUserIds}get adminUserId(){return this._adminUserId}isLoggedIn(){var e;return Boolean(null===(e=this.args)||void 0===e?void 0:e.id)}}},609990:(e,t,n)=>{n.d(t,{X:()=>r});n(581454);var o=n(440961),i=()=>n(496603);class r extends(()=>n(757695))().Store{constructor(...e){super(...e),this.debugPropagation=!1}getInitialState(){return{stack:[]}}getDebugInfoForStackItem(e){const t=this.state.stack[e],n=t.enable?"":" (disabled)";return[`#${e} ${t.debugName}${n}:`,o.findDOMNode(t.listener)]}logDOMNodes(){console.info("The following components are listening for keyboard shortcuts. Shortcuts propagate from the bottom up.");for(let e=0;e<this.state.stack.length;e++)console.info(...this.getDebugInfoForStackItem(e))}logDebugState(){console.info(this.state.stack.map((e=>({shortcuts:i().z7(i().mg(e.shortcuts),i().b0),node:o.findDOMNode(e.listener),debugName:e.debugName,enable:e.enable,listener:e.listener}))))}}},611648:(e,t,n)=>{n.d(t,{A:()=>i});var o=function(e){return e[e.All=0]="All",e[e.X=1]="X",e[e.Y=2]="Y",e[e.None=3]="None",e}(o||{});const i=o},616068:(e,t,n)=>{n.d(t,{Z:()=>i});var o=()=>n(275144);function i(){return o().$C.moved}},624919:(e,t,n)=>{n.d(t,{EX:()=>f,Iz:()=>s,NK:()=>c,Qq:()=>a,iY:()=>m});n(944114),n(898992),n(354520),n(672577),n(803949),n(581454);var o=()=>n(852832),i=()=>n(763824),r=()=>n(534177);async function s(e,t="",n="magenta"){const o=e=>e===1/0?3e3:e===-1/0?-3e3:e,r=e.width||(e.right??e.left)-e.left||50,s=e.height||(e.bottom??e.top)-e.top||50,a=window.document.createElement("DIV");a.style.position="absolute",a.style.zIndex="20000",a.style.top=`${o(e.top)}px`,a.style.left=`${o(e.left)}px`,a.style.minWidth=`${o(r)}px`,a.style.minHeight=`${o(s)}px`,a.style.border=`1px solid ${n}`,a.style.background=n,a.style.font="10px monaco",a.style.opacity="0.3",a.style.pointerEvents="none",a.style.userSelect="none",a.textContent=t,window.document.body.appendChild(a),await(0,i().wR)(1e3),a.remove()}function a(e,t=0){const n=e[Object.keys(e).find((e=>e.startsWith("__reactInternalInstance$")))];if(!n)return;if(n._currentElement){let e=n._currentElement._owner;for(let n=0;n<t;n++)e=e._currentElement._owner;return e._instance}const o=e=>{let t=e.return;for(;"string"==typeof t.type;)t=t.return;return t};let i=o(n);for(let r=0;r<t;r++)i=o(i);return i.stateNode}function d(e){return"string"==typeof e?[e]:e}function c(e,t){const n=["%c NOTION%c WARNING %c","background: black; color: white;","background: black; color: orange","font-weight: normal",...d(e)];if(t){console.groupCollapsed(...n);for(const e of t)console.log(...d(e));console.trace(),console.groupEnd()}else console.warn(...n)}function u(e){return(t,...n)=>v([e,t,...n.filter(r().O9)])}(0,o().exposeDebugValue)("debugDrawRect",s),(0,o().exposeDebugValue)("debugReactComponentFromDOMNode",a);const l=Math.floor(20/6);function h(e){return(t,...n)=>m.div({...t,style:`font-weight: bold; font-size: ${12+l*e}px; line-height: 1.2em; `+(t.style??"")},...n)}const m={CONTAINER_STYLE:{style:"background: hsla(0, 5%, 50%, 0.09); padding: 0px 3px; border-radius: 3px; margin: 2px;"},div:u("div"),span:u("span"),ol:u("ol"),li:u("li"),table:u("table"),tr:u("tr"),td:u("td"),h1:h(1),h2:h(2),h3:h(3),h4:h(4),h5:h(5),h6:h(6),object:(e,t)=>void 0!==e?v(["object",{object:e,config:t}]):"undefined",tiny:e=>e&&"object"==typeof e?Array.isArray(e)?`[â€¦] (${e.length})`:"{â€¦}":m.object(e),objectSummary:(e,{asJSON:t}={asJSON:!1})=>{const{span:n,tiny:o,object:i}=m;if(!e||"object"!=typeof e)return i(e);if(t)try{const t=JSON.stringify(e),o=t.slice(0,50),r=o.length<t.length?"â€¦":void 0;return n({},i(e)," ",o,r)}catch(d){}if(Array.isArray(e)){const t=e.slice(0,3);return n({},i(e)," [",...t.map(((e,i)=>n({},o(e),i===t.length-1?void 0:", "))),t.length<e.length?", â€¦":void 0,"]")}const r=Object.entries(e),s=r.slice(0,4),a=s.map((([e,t],i)=>n({},e,": ",o(t),i===s.length-1?void 0:", ")));return n({},i(e)," {",...a,s.length<r.length?", â€¦":void 0,"}")},countUniques(e){if(1===e.length)return m.object(e[0]);const t=new Map;e.forEach((e=>{const n=t.get(e)??0;t.set(e,n+1)}));const n=Array.from(t).map((([e,t])=>({value:e,count:t}))).sort(((e,t)=>t.count-e.count));return m.autoTable({rows:n,header:!1})},autoTable(e){const{rows:t,header:n}=e,o={style:"vertical-align: top"},i={style:"padding: 2px 0.25em; font-weight: bold; border-bottom: 1px solid #000"},s={style:"white-space: pre; border-bottom: 1px solid #000"},a=m,d=Array.isArray(n)?n:"object"==typeof n?(0,r().uv)(n):(0,r().uv)(t[0]??{}),c=!1!==n?a.tr(o,...d.map((e=>"object"!=typeof n||Array.isArray(n)?a.td(i,String(e)):a.td(i,n[e])))):void 0,u=t.map((e=>a.tr(o,...d.map((t=>a.td(s,a.object(e[t])))))));return 0===u.length&&u.push(a.tr(o,a.td(s,"(no rows)"))),a.table(a.CONTAINER_STYLE,c,...u)},maxHeight(e,...t){const n="number"==typeof e?`${e}px`:e;return m.div({style:`max-height: ${n}; overflow: auto;`},...t)}};function p(e,t){console.groupCollapsed(e),console.error(t),console.groupEnd()}function f(e){let t=globalThis.devtoolsFormatters||[];e.id&&(t=t.filter((t=>t.id!==e.id))),t.unshift(function(e){const{canFormat:t,header:n,body:o,hasBody:i,id:r}=e;return{id:r,header(e,o){try{return null!=o&&o.useDefaultFormatter?null:t(e)?n(e,o):null}catch(i){throw p("DevTools Formatter.header() error",i),i}},hasBody(e,n){try{return(null==n||!n.useDefaultFormatter)&&!!t(e)&&i(e,n)}catch(o){throw p("DevTools Formatter.hasBody() error",o),o}},body(e,t){try{return o(e,t)}catch(n){throw p("DevTools Formatter.body() error",n),n}}}}(e)),globalThis.devtoolsFormatters=t}const g=Symbol("DevToolsHyperscriptPassthrough");function v(e){const t=e;return t&&(t[g]=!0),t}f({canFormat:e=>Boolean(e&&"object"==typeof e&&g in e),header:e=>e,hasBody:()=>!1,body:()=>null});f({canFormat:e=>Boolean(e&&e instanceof n(906745).DateTime),header(e){const{span:t,CONTAINER_STYLE:n}=m;return t(n,t({},e.toFormat("yyyy-MM-dd HH:mm:ss.SSS (ZZ)")))},hasBody:()=>!0,body(e){const{table:t,tr:n,td:o,CONTAINER_STYLE:i}=m;return t(i,n({},o({},"time zone:"),o({},e.zoneName)),n({},o({},"relative:"),o({},e.toRelative({round:!1})??"")),n({},o({},"ISO:"),o({},e.toISO())),n({},o({},"since epoch (ms):"),o({},e.toMillis().toString())))}})},647987:(e,t,n)=>{n.r(t),n.d(t,{getDesktopDeviceInfo:()=>r,getDeviceOSVersion:()=>i});n(581454);const o=1e4;function i(){const e=s();return e?e.os.split(".").map((e=>parseInt(e,10))):[]}async function r(){var e;const t={};if(!window.__isElectron)return{};const n=s();if(n){t.desktopOsVersion=n.os,t.desktopKernelVersion=n.kernel,t.desktopElectronVersion=n.electron,t.desktopChromiumVersion=n.chromium,t.desktopArch=n.arch,t.desktopPlatform=n.platform,t.desktopMachineModelIdentifier=n.machineModelIdentifier;const e=n.appLaunchTimestamp;if("number"==typeof e){const n=Date.now()-e;n>=0&&(t.desktopIsPostStartupGracePeriod=n>o)}}else{const e=["architecture","fullVersionList","platformVersion"],n=await navigator.userAgentData.getHighEntropyValues(e);t.desktopArch="arm"===(i=n.architecture)?"arm64":i,t.desktopOsVersion=n.platformVersion,t.desktopPlatform=window.__platform;const o=navigator.userAgent.match(/Chrome\/([\d.]+)/);t.desktopChromiumVersion=o?o[1]:"Unknown";const r=navigator.userAgent.match(/Electron\/([\d.]+)/);t.desktopElectronVersion=r?r[1]:"Unknown"}var i;return t.desktopTargetPlatform=null===(e=window.__desktopConfig)||void 0===e?void 0:e.targetPlatform,t}function s(){return window.__desktopDeviceInfo}},664748:(e,t,n)=>{n.d(t,{A:()=>i});class o extends(()=>n(757695))().Store{getInitialState(){return{initiator:"none",isDragging:!1,disableVerticalEdgeScroll:!1,disableHorizontalEdgeScroll:!1}}}const i=new o},672993:(e,t,n)=>{n.d(t,{i:()=>a});n(16280),n(814628);var o=()=>n(624919),i=()=>n(992202),r=()=>n(427652);const s=r().jY;class a{constructor(e){this.debug=!1,this.instanceState=void 0,this.emitter=new(n(592328).A),this.debugName=void 0,this.instanceState=this.getInitialState(),i().logStoreCreated(this,this.instanceState),this.debugName=e??this.constructor.name,(0,r().nH)(this,"store")}getState(){return n(60053).eF.logStoreAccess(this,this.instanceState),this.instanceState}get state(){return this.getState()}setState(e){(0,n(821062).A)(this.instanceState,e)||(this.instanceState=e,i().logStoreSet(this,e),this.emit())}reset(){this.setState(this.getInitialState())}update(e){this.setState(e(this.state))}emit(){i().logStoreEmit(this),this.debug&&(console.groupCollapsed("emit:",this),console.log("store state:",this.instanceState),console.trace(),console.groupEnd()),this.emitter.emit(this)}addListener(e,t){const n=s?this.emitter.listenerCount():0;if(this.emitter.addListener(e),s){const e=this.emitter.listenerCount();t&&e-n>0&&this.debugName&&(0,r().EZ)(this.debugName,t)}}removeListener(e,t){this.emitter.removeListener(e),s&&t&&this.debugName&&(0,r().m)(this.debugName,t)}listenerCount(){return this.emitter.listenerCount()}waitUntil(e,t){const{signal:n,timeout:o}=t??{};if(null!=n&&n.aborted)return Promise.reject(n.reason);if(e())return Promise.resolve(void 0);let i;const{promise:r,resolve:s,reject:a}=Promise.withResolvers(),d=()=>{clearTimeout(i),null==n||n.removeEventListener("abort",c),this.removeListener(l)},c=()=>{d(),a(null==n?void 0:n.reason)},u=()=>{d(),a(new Error("Timeout"))},l=()=>{e()&&(d(),s(void 0))};return o&&(i=window.setTimeout(u,o)),this.addListener(l),null==n||n.addEventListener("abort",c,{once:!0}),r}getInitialState(){return{}}static createValue(e,t){return new(a.createClass(e,t))}static createClass(e,t){const n=class extends a{constructor(){super((null==t?void 0:t.name)||"StoreWithInitialState"),this.debug=Boolean(null==t?void 0:t.debug)}getInitialState(){return e instanceof Function?e():e}};return null!=t&&t.name&&Object.defineProperty(n,"name",{value:t.name}),n}}a.debug=!0,(0,o().EX)({canFormat:e=>Boolean(e&&e instanceof a),header(e){const{span:t,object:n,objectSummary:i,CONTAINER_STYLE:r}=o().iY,s=e.instanceState;return t(r,n(e,{useDefaultFormatter:!0}),"(",s&&"object"==typeof s?i(s):n(s),")")},hasBody:()=>!1,body:()=>null})},711740:(e,t,n)=>{n.d(t,{L:()=>o});class o{constructor(e){this.inMemoryRecordCache=void 0,this._persistedRecordCache=void 0,this.inMemoryRecordCache=e.inMemoryRecordCache,this._persistedRecordCache=e.persistedRecordCache}get persistedRecordCache(){return this._persistedRecordCache}disablePersistedRecordCache(){this._persistedRecordCache=void 0}enablePersistedRecordCache(e){this._persistedRecordCache=e}}},721338:(e,t,n)=>{n.d(t,{P:()=>o});class o extends(()=>n(757695))().Store{getInitialState(){return{isComposing:!1}}}},721908:(e,t,n)=>{n.d(t,{d:()=>s});n(16280);var o=n(296540),i=()=>n(496603),r=()=>n(355543);function s(e,t){const n=(0,o.useRef)(e),s=(0,r().w)((()=>({fn:i().nF(((...e)=>n.current(...e)),t),wait:t})));if((0,o.useEffect)((()=>{n.current=e}),[e]),s.wait!==t)throw new Error(`You must never change debounce wait (initial=${s.wait}, attempted=${t})`);return s.fn}},724200:(e,t,n)=>{n.d(t,{D:()=>r,j:()=>i});n(517642),n(658004),n(733853),n(845876),n(432475),n(515024),n(731698),n(898992),n(803949);var o=()=>n(60053);function i(e,t){return new(o().Su)(e,t)}function r(...e){const t=new Set;for(const i of e)void 0!==i&&(i instanceof o().Su?t.add(i):i instanceof o().kR&&i.forEach((e=>t.add(e))));const n=Array.from(t);return new(o().kR)(n)}},725252:(e,t,n)=>{n.d(t,{L:()=>i});n(16280);var o=n(296540);function i(e){const{value:t,validateLoaded:n}=e,i=e.waitTimeInMs||500,[r,s]=(0,o.useState)(!0),a=(0,o.useRef)(),d=void 0!==t&&(!n||r&&n(t));return(0,o.useEffect)((()=>(a.current=window.setTimeout((()=>{s(!1),a.current=void 0}),i),()=>{a.current&&(clearTimeout(a.current),a.current=void 0)})),[i]),(0,o.useEffect)((()=>{d&&a.current&&(s(!1),clearTimeout(a.current),a.current=void 0)}),[d]),void 0!==t&&d?{status:"resolved",value:t}:r?{status:"pending",value:void 0}:{status:"rejected",value:void 0,error:new Error("Reached end of timeout before value became defined.")}}},726637:(e,t,n)=>{n.d(t,{A:()=>d});n(16280);const o=window.CONFIG_OVERRIDE??{env:"production",isAdminMode:!1,isDevelopingInAirplaneMode:!1,isLocalhost:!1,offline:!0,isMobile:!1,version:"23.13.20260121.0810",buildTarget:"client",domainBaseUrl:"https://www.notion.so",adminUrl:"https://admin.notion.so",publicDomainName:"notion.site",protocol:"notion",staticS3:{url:"https://prod-notion-assets.s3-us-west-2.amazonaws.com",bucket:"prod-notion-assets"},lastUpdatedTime:1768991369126,api:{http:"/api/v3"},googleOAuth:{clientId:"905154081809-858sm3f0qnalqd9d44d9gecjtrdji9tf.apps.googleusercontent.com"},messageStore:{url:"https://msgstore.www.notion.so",api:"/api/v1"},audioProcessor:{url:"https://audioprocessor.www.notion.so",api:"/api/v1"},stripe:{key:"pk_live_vuNO27XGTCbXjVwneiECILjT"},calendar:{domainBaseUrl:"https://calendar.notion.so",notionAuthUrl:"https://calendar.notion.so/notion-auth",openNotionDatabaseUrl:"https://calendar.notion.so/open-notion-database",createEventUrl:"https://calendar.notion.so/event/create",calendarSettingsUrl:"https://calendar.notion.so/settings/calendars",calendarMeetWithUrl:"https://calendar.notion.so/meet-with",desktopProtocol:"cron",downloadUrl:"https://www.notion.so/calendar/download"},zoom:{desktopProtocol:"zoommtg"},cron:{domainBaseUrl:"https://calendar.cron.com"},mail:{apiBaseUrl:"https://api.mail.notion.so",domainBaseUrl:"https://mail.notion.so",protocol:"notionmail"},identity:{domainBaseUrl:"https://identity.notion.so"},revenueCat:{apiResponseMaxAge:6048e5,entitlementIDs:{personal:"notion.id.personal_pro"},productIDs:{personal:{monthly:"notion.id.personal_pro_monthly",yearly:"notion.id.personal_pro_yearly"}}},partnerStack:{apiKey:"pk_6nwYfqCKEoPt2lTuU8Veswm2zArJ3Apq"},promotions:{ai:{writer:{baseGrant:{singlePlayerAmount:10,multiplayerAmount:10,unit:"responses"},userGrant:{singlePlayerAmount:10,multiplayerAmount:10,unit:"responses"},grant032023:{singlePlayerAmount:20,multiplayerAmount:20,unit:"responses",waitMs:6048e5},studentGrant:{singlePlayerAmount:50,multiplayerAmount:50,unit:"responses"},studentGitHubGrant:{singlePlayerAmount:50,multiplayerAmount:50,unit:"responses"},maxAllowance:{free:500,paid:500}},qna:{baseGrant:{singlePlayerAmount:10,multiplayerAmount:10,unit:"responses"},userGrant:{singlePlayerAmount:10,multiplayerAmount:10,unit:"responses"},grant032023:{singlePlayerAmount:20,multiplayerAmount:10,unit:"responses",waitMs:6048e5},studentGrant:{singlePlayerAmount:50,multiplayerAmount:50,unit:"responses"},studentGitHubGrant:{singlePlayerAmount:50,multiplayerAmount:50,unit:"responses"},maxAllowance:{free:100,paid:500}}},aiCredits:{writer:{baseGrant:{singlePlayerAmount:200,multiplayerAmount:200,unit:"credits"},userGrant:{singlePlayerAmount:200,multiplayerAmount:200,unit:"credits"},grant032023:{singlePlayerAmount:0,multiplayerAmount:0,unit:"credits",waitMs:6048e5},studentGrant:{singlePlayerAmount:0,multiplayerAmount:0,unit:"credits"},studentGitHubGrant:{singlePlayerAmount:0,multiplayerAmount:0,unit:"credits"},maxAllowance:{free:1e4,paid:1e4}},qna:{baseGrant:{singlePlayerAmount:200,multiplayerAmount:200,unit:"credits"},userGrant:{singlePlayerAmount:200,multiplayerAmount:200,unit:"credits"},grant032023:{singlePlayerAmount:0,multiplayerAmount:0,unit:"credits",waitMs:6048e5},studentGrant:{singlePlayerAmount:0,multiplayerAmount:0,unit:"credits"},studentGitHubGrant:{singlePlayerAmount:0,multiplayerAmount:0,unit:"credits"},maxAllowance:{free:1e4,paid:1e4}}}},desktopS3:{url:"https://s3-us-west-2.amazonaws.com/desktop-release.notion-static.com"},publicFileS3:{url:"https://s3-us-west-2.amazonaws.com/public.notion-static.com",bucket:"public.notion-static.com"},secureFileConfig:{rootPath:"/f",protocol:"https",hostname:"file.notion.so"},loggly:{token:"9b01b08e-c969-4e27-837c-805d1fc6ec7b"},splunk:{token:"EA76605A-F565-4B17-A496-34435622A1EB"},embedly:{key:"421626497c5d4fc2ae6b075189d602a2"},iframely:{key:"222a85036317ca50d3ba5f321bfda6f0"},iframely_prod:{key:"656ac74fac4fff346b811dca7919d483"},aif:{url:"https://aif.notion.so/aif-production.html"},contentful:{spaceId:"spoqsaf9291f"},iOSAppId:1232780281,facebook:{pixelId:"499229960464487"},statsig:{apiKey:"client-Tgza5wNFa8dVt9BdeUfG6Vkm29bHxX10MhoztTMzLBB",localEvalSdkKey:"client-NmJQdieE6QZZ0dN5Eq9MWBIUPexKaCd7pAkr5RezFpY"},turnstile:{sitekey:"0x4AAAAAAADLq8YYJOHc6qqw"},google:{clientId:"905154081809-858sm3f0qnalqd9d44d9gecjtrdji9tf.apps.googleusercontent.com",mapsApiKey:"AIzaSyB543mcD0Ehv18H5e0iD8L-J2lyN7AvKCo"},sprig:{environmentId:"2HKBN1wgCwHr"},front:{domainBaseUrl:"https://www.notion.com"},imageProxy:{baseUrl:"https://img.notionusercontent.com/"},hcaptcha:{sitekey:"b3fa1b6e-8d5c-4d16-b7ac-f3e6f162c01a"}};if(!o)throw new Error("CONFIG not found");window.CONFIG=o;const i=(0,n(140583).Ey)(window,window.navigator.userAgent);o.isMobile=i.isMobile();const r=window.location.hostname,s=window.location.host,a=o.proxyServiceHosts;if(a&&window.location.host===a.base){const e=window.location.protocol;o.domainBaseUrl=window.location.origin,o.imageProxy.baseUrl=`${e}//${a.img}/`,o.messageStore.url=`${e}//${a.msgstore}/`}else if("local"===o.env){const e=o.publicDomainName&&s.endsWith(o.publicDomainName);"localhost"===r||e||(o.domainBaseUrl=window.location.origin)}const d=o},744619:(e,t,n)=>{n.d(t,{r:()=>i});const o={shift:!1,option:!1,control:!1,command:!1};function i(){return o}function r(e){o.shift=Boolean(e.shiftKey),o.option=Boolean(e.altKey),o.control=Boolean(e.ctrlKey),o.command=Boolean(e.metaKey)}function s(e){o.shift=!1,o.option=!1,o.control=!1,o.command=!1}window.addEventListener("keydown",r),window.addEventListener("keyup",r),window.addEventListener("mousemove",r),window.addEventListener("focus",s)},753673:(e,t,n)=>{function o(e){return`u=${e??"guest"}`}function i(e,t,n){return[e,t,...n]}n.d(t,{Eh:()=>i,OW:()=>o})},755222:(e,t,n)=>{n.d(t,{A:()=>a,P:()=>s});var o=()=>n(757695);class i extends o().Store{getInitialState(){return{isVisible:!0}}}class r extends o().Store{getInitialState(){return!1}}const s=new r,a=new i},755877:(e,t,n)=>{n.d(t,{P:()=>i});const o=!1;function i(e,t,n,i){o?e.addEventListener(t,n,{passive:!0,capture:Boolean(i)}):e.addEventListener(t,n,Boolean(i))}},756117:(e,t,n)=>{n.d(t,{A:()=>h});n(898992),n(354520),n(581454);var o=n(296540),i=()=>n(821062),r=n(474848);const s=200,a=0,d="ease";function c(e){return"number"==typeof e?`${e}px`:e}function u(e){if(0!==e)return`${e}ms`}function l(e){return e.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`))}const h=o.forwardRef((function({tag:e,initial:t,animate:h,exit:m,skip:p,config:f,visible:g=!0,forceCompositeLayer:v,style:b,onAnimationStart:y,onAnimationEnd:S,...w},C){const[k,E]=(0,o.useState)(!1),T=function(e,t){const{translateX:n,translateY:o,scale:i,scaleX:r,scaleY:s,rotate:a,...d}=e,u=[void 0!==n&&`translateX(calc(var(--direction, 1) * ${c(n)}))`,void 0!==o&&`translateY(${c(o)})`,t&&"translateZ(0)",void 0!==i&&`scale(${i})`,void 0!==r&&`scaleX(${r})`,void 0!==s&&`scaleY(${s})`,void 0!==a&&`rotate(${a})`].filter((e=>Boolean(e))).join(" ");return u?{...d,transform:u}:d}(function(e,t,n,o,i){if(!i)return e??t;if(!o)return n??t;return t}(t,h,m,g,k),Boolean(v)),A=(0,o.useRef)(T),L=(0,o.useRef)(!1),x=(0,o.useRef)(null),R=(0,n(470785).A)("(prefers-reduced-motion: reduce)")||0===(null==f?void 0:f.duration)?1:(null==f?void 0:f.duration)??s,M=(null==f?void 0:f.delay)??a,I=(0,o.useCallback)((()=>{L.current&&(L.current=!1,E(g),S&&S(g))}),[S,g]),D=(0,o.useCallback)((()=>{L.current=!0,y&&y(!0),null!==x.current&&window.clearTimeout(x.current),x.current=window.setTimeout(I,R+M)}),[y,I,R,M]);(0,o.useLayoutEffect)((()=>{if(p)return void E(g);const e=t&&!(0,i().A)(t,h);if(g&&!k){if(e){D();const e=requestAnimationFrame((()=>E(!0)));return()=>cancelAnimationFrame(e)}E(!0)}const n=m&&!(0,i().A)(m,h);g||n||(L.current=!1,E(!1)),k&&!(0,i().A)(T,A.current)&&D()}),[h,T,m,t,D,p,g,k]),(0,o.useEffect)((()=>{A.current=T}),[T]);const N=Object.keys(T),P=(0,o.useMemo)((()=>{const e=p?{}:{transitionDuration:u(R),transitionDelay:u(M),transitionTimingFunction:(null==f?void 0:f.timingFunction)??d,transitionProperty:N.map(l).join(",")||"none"};return{...b,...T,...e}}),[b,T,R,M,N,p,f]),O=e??"div",U=k||g?(0,r.jsx)(n(529387).q.Provider,{value:!g,children:(0,r.jsx)(O,{...w,style:P,ref:C})}):null;return(0,r.jsx)(n(23749).A,{name:"AnimatedV2",children:U})}))},757695:(e,t,n)=>{n.d(t,{Store:()=>o().i});var o=()=>n(672993)},769985:(e,t,n)=>{n.d(t,{u:()=>o});class o extends(()=>n(757695))().Store{constructor(e){super(e.debugName),this.cleanup=void 0,this.instanceEffect=void 0,this.getInstanceInitialState=void 0,this.instanceEffect=e.effect,this.getInstanceInitialState=e.getInitialState,this.reset()}addListener(e,t){const n=this.listenerCount();super.addListener(e,t),0===n&&this.listenerCount()&&(this.cleanup??=this.instanceEffect())}removeListener(e,t){const n=this.listenerCount();var o;(super.removeListener(e,t),n&&0===this.listenerCount())&&(null===(o=this.cleanup)||void 0===o||o.call(this),this.cleanup=void 0)}getInitialState(){return void 0===this.getInstanceInitialState?super.getInitialState():this.getInstanceInitialState()}}},771540:(e,t,n)=>{n.d(t,{_w:()=>s,dK:()=>d,dx:()=>a});n(581454);var o=()=>n(484392),i=()=>n(534177),r=()=>n(588165);function s(e){const{environment:t,forTooltip:n}=e;let o;o=n?t.device.isMac?"command":"control":t.device.isMac?"âŒ˜":"ctrl";let i,r="shift";n||(r="â‡§"),i=n?t.device.isMac?"option":"alt":t.device.isMac?"âŒ¥":"alt";let s="control";return n||(s="âŒƒ"),{command:o,enter:"â†µ",delete:"del",backspace:"del",esc:"escape",left:"â†",right:"â†’",up:"â†‘",down:"â†“",tab:"â‡¥",alt:i,shift:r,ctrl:s}}function a(e){const{shortcut:t,shortcutItemMap:n}=e;let r=t;return(0,i().O)(n,t)&&(r=n[t]),(0,o().A)(r)}function d(e){const{name:t,shortcuts:n,environment:o,onlyShowFirst:i,forTooltip:d}=e,c=function(e,t){const n=(0,r().c)(t,e);return n?n.map((e=>e.split("+"))):[]}(t,n),u=s({environment:o,forTooltip:d});return c.map((e=>e.map((e=>a({shortcutItemMap:u,shortcut:e}))).join("+"))).slice(0,i?1:void 0).join(" or ")}},774015:(e,t,n)=>{n.d(t,{e:()=>a});var o=n(296540),i=()=>n(496603),r=()=>n(821062),s=()=>n(943101);function a(e){const t=(0,o.useRef)(null),[n,a]=(0,o.useState)(),d=(0,s().wY)(t),c=e.width.min,u=e.width.max,l=e.height.min,h=e.height.max;return(0,o.useLayoutEffect)((()=>{const e=t.current;if(!e)return;const n=function(e){const{element:t,minWidth:n,maxWidth:o,minHeight:r,maxHeight:s}=e,a={minWidth:t.style.minWidth,maxWidth:t.style.maxWidth,minHeight:t.style.minHeight,maxHeight:t.style.maxHeight,width:t.style.width,height:t.style.height,overflow:t.style.overflow};t.style.width="fit-content",t.style.height="fit-content",t.style.overflow="hidden",t.style.minWidth=`${n}px`,t.style.maxWidth=`${o}px`,t.style.minHeight=`${r}px`,t.style.maxHeight=`${s}px`;const d={width:(0,i().qE)(t.scrollWidth,n,o),height:(0,i().qE)(t.scrollHeight,r,s)};return t.style.width=a.width,t.style.height=a.height,t.style.overflow=a.overflow,t.style.minWidth=a.minWidth,t.style.maxWidth=a.maxWidth,t.style.minHeight=a.minHeight,t.style.maxHeight=a.maxHeight,d}({element:e,minWidth:c,maxWidth:u,minHeight:l,maxHeight:h});a((e=>(0,r().A)(e,n)?e:n))}),[d,c,u,l,h]),{ref:t,preferredSize:n}}},779315:(e,t,n)=>{n.d(t,{A:()=>i});const o={};(0,n(852832).exposeDebugValue)("scrollers",o);const i=o},782482:(e,t,n)=>{n.d(t,{N:()=>a});var o=n(296540),i=()=>n(529387),r=()=>n(417553),s=n(474848);function a(e){const t=(0,o.useMemo)((()=>({enter:e.onEnter,shiftEnter:e.onShiftEnter,commandEnter:e.onCommandEnter,commandAltEnter:e.onCommandAltEnter,commandShiftEnter:e.onCommandShiftEnter,commandSlash:e.onCommandSlash,commandS:e.onCommandS,commandAltJ:e.onCommandAltJ,commandJ:e.onCommandJ,createAIChatThread:e.onCreateAIChatThread,openSlipperySlopeHomeTab:e.onOpenSlipperySlopeHomeTab,openSlipperySlopeChatsTab:e.onOpenSlipperySlopeChatsTab,space:e.onSpace,delete:e.onDelete,deleteToEndOfLine:e.onDeleteToEndOfLine,deleteNextWord:e.onDeleteNextWord,backspace:e.onBackspace,esc:e.onEsc,left:e.onLeft,right:e.onRight,up:e.onUp,down:e.onDown,untab:e.onUntab,tab:e.onTab,ungroup:e.onUngroup,group:e.onGroup,home:e.onHome,end:e.onEnd,pageUp:e.onPageUp,pageDown:e.onPageDown,selectAll:e.onSelectAll,redo:e.onRedo,undo:e.onUndo,toggleUnderline:e.onToggleUnderline,toggleHighlight:e.onToggleHighlight,toggleBold:e.onToggleBold,toggleItalics:e.onToggleItalics,toggleStrike:e.onToggleStrike,toggleCode:e.onToggleCode,duplicate:e.onDuplicate,duplicateSchema:e.onDuplicateSchema,fillRight:e.onFillRight,cut:e.onCut,copy:e.onCopy,paste:e.onPaste,openLinkMenuOrOpenSearch:e.onOpenLinkMenuOrOpenSearch,openEquationMenu:e.onOpenEquationMenu,goBack:e.onGoBack,goForward:e.onGoForward,newTab:e.onNewTab,commandLeft:e.onCommandLeft||e.onLeft,commandRight:e.onCommandRight||e.onRight,goUp:e.onGoUp,search:e.onSearch,goToBeginningOfLine:e.onGoToBeginningOfLine,goToEndOfLine:e.onGoToEndOfLine,switchSpacesPreTabs:e.onSwitchSpaces,switchSpacesPostTabs:e.onSwitchSpaces,keypress:e.onKeypress,quickFind:e.onQuickFind,goForwardOneChar:e.onGoForwardOneChar,goBackwardOneChar:e.onGoBackwardOneChar,moveUp:e.onMoveUp,moveDown:e.onMoveDown,peekUp:e.onPeekUp,peekDown:e.onPeekDown,comment:e.onComment,suggest:e.onSuggest,caption:e.onCaption,react:e.onReact,rename:e.onRename,copyLinkToCurrentPage:e.onCopyLinkToCurrentPage,copyLinkToPageInCommandSearch:e.onCopyLinkToPageInCommandSearch,copyLinkToBlock:e.onCopyLinkToBlock,copyCurrentPageLinkifiedBlockTitle:e.copyCurrentPageLinkifiedBlockTitle,toggleSidebar:e.onToggleSidebar,toggleUpdateSidebar:e.onToggleUpdateSidebar,toggleBothSidebars:e.onToggleBothSidebars,toggleAISidebar:e.onToggleAISidebar,openCommentsTabInUpdateSidebar:e.onOpenCommentsTabInUpdateSidebar,openUpdatesTabInUpdateSidebar:e.onOpenUpdatesTabInUpdateSidebar,turnIntoType:e.onTurnIntoType,zoomIn:e.onZoomIn,zoomOut:e.onZoomOut,zoomReset:e.onZoomReset,newPage:e.onNewPage,settings:e.onSettings,backbutton:e.onBackButton,toggleDarkMode:e.onToggleDarkMode,openFile:e.onOpenFile,moveTo:e.onMoveTo,toggleAllToggles:e.onToggleAllToggles,togglePropertyVisibility:e.onTogglePropertyVisibility,toggleRecordingInputLatency:e.onToggleRecordingInputLatency,toggleFavorite:e.onToggleFavorite,toggleAllUpdates:e.onToggleAllUpdates,toggleAllTeams:e.onToggleAllTeams,openHome:e.onOpenHome,openShareMenu:e.onOpenShareMenu,openInSidePeek:void 0,toggleInPageFindReplace:e.onToggleInPageFindReplace,openExperimentSettings:e.onOpenExperimentSettings,notionAiCommandSearchDefault:e.notionAiCommandSearchDefault,transcription:e.onTranscription,toggleKeyboardShortcutsModalVisibility:e.onToggleKeyboardShortcutsModalVisibility})),[e]),n=(0,o.useContext)(i().q);return(0,s.jsx)(r().k,{enable:e.capture&&!n,priority:e.priority,shortcuts:t,debugName:e.debugName,innerKey:e.innerKey,children:e.children})}},787470:(e,t,n)=>{n.d(t,{A:()=>r});n(898992),n(737550);var o=n.n(n(36545)),i=()=>n(496603);const r=function e(t,n,r){if(Array.isArray(r))return r.some((o=>e(t,n,o)));{const e=r.toLowerCase().split("+");if(t.device.isWindows||t.device.isLinux){if((i().mK(e,"command")||i().mK(e,"ctrl"))!==n.ctrlKey)return!1}else{if(i().mK(e,"command")!==n.metaKey)return!1;if(i().mK(e,"ctrl")!==n.ctrlKey)return!1}return i().mK(e,"shift")===n.shiftKey&&(i().mK(e,"alt")===n.altKey&&i().Si(e,(e=>{if("command"===e||"shift"===e||"ctrl"===e||"alt"===e)return!0;const t="code:";if(e.startsWith(t)&&n.code){const t=e.substr(5);return n.code.toLowerCase()===t}return o()(n.keyCode)===e})))}}},790748:(e,t,n)=>{n.d(t,{b:()=>i});var o=n(296540);function i(e,t,n){const i=(0,o.useMemo)(t,n);(0,o.useLayoutEffect)((()=>null==e?void 0:e.register(i)),[i,e])}},792485:(e,t,n)=>{n.d(t,{S:()=>r});var o=n(296540),i=()=>n(452446);function r(){return(0,o.useContext)(i().r)}},804773:(e,t,n)=>{n.d(t,{Y:()=>a,e:()=>s});n(944114),n(517642),n(658004),n(733853),n(845876),n(432475),n(515024),n(731698),n(898992),n(803949);var o=n(296540),i=n(474848);const r=(0,o.createContext)(void 0);function s(){const e=(0,o.useContext)(r),t=(0,o.useRef)(null),n=(0,o.useRef)(null),i=(0,o.useCallback)((t=>{if(!e)return;const{itemRefs:n,activeRef:o,setActiveRef:i,direction:r}=e;if("vertical"===r&&"ArrowUp"!==t.key&&"ArrowDown"!==t.key&&"Home"!==t.key&&"End"!==t.key||"horizontal"===r&&"ArrowLeft"!==t.key&&"ArrowRight"!==t.key&&"Home"!==t.key&&"End"!==t.key)return;const s=n.current;if(null===s||void 0===o)return;const{sortedElements:a,nodeToRef:d}=function(e){const t=[],n=new Map;return e.forEach((e=>{e.current&&"true"!==e.current.getAttribute("aria-disabled")&&"true"!==e.current.getAttribute("disabled")&&(t.push(e.current),n.set(e.current,e))})),{sortedElements:t.sort(((e,t)=>e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)),nodeToRef:n}}(s),c=a.findIndex((e=>e===o.current));let u=c;-1===c?"vertical"===r&&"ArrowDown"===t.key||"horizontal"===r&&"ArrowRight"===t.key?u=0:("vertical"===r&&"ArrowUp"===t.key||"horizontal"===r&&"ArrowLeft"===t.key)&&(u=a.length-1):"vertical"===r&&"ArrowDown"===t.key||"horizontal"===r&&"ArrowRight"===t.key?u=(c+1)%a.length:"vertical"===r&&"ArrowUp"===t.key||"horizontal"===r&&"ArrowLeft"===t.key?u=(c-1+a.length)%a.length:"Home"===t.key?u=0:"End"===t.key&&(u=a.length-1);const l=a[u],h=d.get(l);var m;h&&(i(h),null===(m=h.current)||void 0===m||m.focus(),t.preventDefault())}),[e]),s=(0,o.useCallback)((()=>{var n;if(!e)return;const{itemRefs:o,setActiveRef:i}=e;null!==(n=o.current)&&void 0!==n&&n.has(t)&&i(t)}),[e]),a=(0,o.useCallback)((o=>{if(t.current=o,n.current&&(window.cancelAnimationFrame(n.current),n.current=null),!e)return;const{itemRefs:i,activeRef:r,setActiveRef:s}=e;var a,d;o?null===(a=i.current)||void 0===a||a.add(t):(null===(d=i.current)||void 0===d||d.delete(t),void 0!==r&&r===t&&(n.current=window.requestAnimationFrame((()=>{n.current=null,void 0===r||r.current&&document.contains(r.current)||s(void 0)}))))}),[e]);return{isTabbable:!e||(e.activeRef===t||void 0===e.activeRef),itemRef:a,onKeyDown:i,onFocus:s}}function a({direction:e,children:t}){const[n,s]=(0,o.useState)(void 0),a=(0,o.useRef)(new Set),d=(0,o.useMemo)((()=>({itemRefs:a,activeRef:n,setActiveRef:s,direction:e})),[n,e]);return(0,i.jsx)(r.Provider,{value:d,children:t})}r.displayName="FocusNavigatorContext"},807005:(e,t,n)=>{n.d(t,{Z:()=>r,v:()=>i});const o=(0,n(296540).createContext)(void 0);o.displayName="RestrictedContentContext";const i=o.Provider,r=o},813974:(e,t,n)=>{n.r(t),n.d(t,{getKeyboardShortcuts:()=>m,getKeyboardShortcutsStore:()=>f,getNotionAiShortcut:()=>p,initializeKeyboardShortcutsStore:()=>h});n(581454);var o=()=>n(609679),i=()=>n(496603);const r="Â¥",s="\\";var a=()=>n(75435);class d extends(()=>n(757695))().Store{getInitialState(){return{initialized:!1,environment:void 0,shortcuts:[]}}}let c;const u=(c||(c=new d,(0,n(852832).exposeDebugValue)("keyboardShortcutsStore",c)),c),l=new(n(140934).ComputedStore)((()=>{try{var e,t;return{notionAiShortcut:null===(e=a().A.state.preferences)||void 0===e?void 0:e.notionAiShortcut,quickSearchShortcut:null===(t=a().A.state.preferences)||void 0===t?void 0:t.quickSearchShortcut}}catch{return}}),{debugName:"notionAiShortcutStore"});function h(e){const t=(n=e.device,[{id:"enter",description:"Insert line of text",defaultKeyCombination:["enter"]},{id:"shiftEnter",description:"Line break within text block",defaultKeyCombination:["shift+enter"]},{id:"commandEnter",description:"Execute command or confirm action",defaultKeyCombination:["command+enter"],visibleToUsers:!1},{id:"commandAltEnter",description:"Execute command with alt modifier",defaultKeyCombination:["command+alt+enter"],visibleToUsers:!1},{id:"commandShiftEnter",description:"Execute command with shift modifier",defaultKeyCombination:["command+shift+enter"],visibleToUsers:!1},{id:"commandSlash",description:"Edit/change selected blocks",defaultKeyCombination:["command+/"]},{id:"toggleKeyboardShortcutsModalVisibility",description:"Show keyboard shortcuts help",defaultKeyCombination:["command+alt+/"]},{id:"commandS",description:"Save or sync changes",defaultKeyCombination:["command+S"],visibleToUsers:!1},{id:"commandAltJ",description:"Open AI writer",defaultKeyCombination:["command+alt+j"],visibleToUsers:!1},{id:"commandJ",description:"Open AI command search",defaultKeyCombination:["command+j"],visibleToUsers:!1},{id:"createAIChatThread",description:"Create new AI chat thread",defaultKeyCombination:["command+shift+;"],visibleToUsers:!1},{id:"delete",description:"Delete selected content",defaultKeyCombination:i().oE(["delete",n.isApple?"ctrl+d":void 0])},{id:"deleteToEndOfLine",description:"Delete from cursor to end of line",defaultKeyCombination:i().oE([n.isApple?"ctrl+k":void 0]),visibleToUsers:!1},{id:"deleteNextWord",description:"Delete next word",defaultKeyCombination:i().oE([n.isWindows?"ctrl+delete":void 0]),visibleToUsers:!1},{id:"space",description:"Insert space character",defaultKeyCombination:["space"]},{id:"backspace",description:"Delete selected blocks",defaultKeyCombination:i().oE(["backspace","shift+backspace",n.isWindows?void 0:"alt+backspace","command+backspace","ctrl+backspace"])},{id:"esc",description:"Select current block",defaultKeyCombination:["esc"]},{id:"left",description:"Move cursor left or select different block",defaultKeyCombination:i().oE(["left","shift+left","command+shift+left",n.isWindows||n.isLinux?"ctrl+left":void 0,"ctrl+shift+left","alt+left","alt+shift+left"])},{id:"right",description:"Move cursor right or select different block",defaultKeyCombination:i().oE(["right","shift+right","command+shift+right",n.isWindows||n.isLinux?"ctrl+right":void 0,"ctrl+shift+right","alt+right","alt+shift+right"])},{id:"up",description:"Move cursor up or select different block",defaultKeyCombination:i().oE(["up","shift+up","alt+up","alt+shift+up","command+up",n.isApple?"ctrl+p":void 0])},{id:"down",description:"Move cursor down or select different block",defaultKeyCombination:i().oE(["down","shift+down","alt+down","alt+shift+down","command+down",n.isApple?"ctrl+n":void 0])},{id:"moveUp",description:"Move selected block up",defaultKeyCombination:["command+shift+up"]},{id:"moveDown",description:"Move selected block down",defaultKeyCombination:["command+shift+down"]},{id:"peekUp",description:"Peek at content above",defaultKeyCombination:[n.isWindows||n.isLinux?"alt+k":"ctrl+shift+k"]},{id:"peekDown",description:"Peek at content below",defaultKeyCombination:[n.isWindows||n.isLinux?"alt+j":"ctrl+shift+j"]},{id:"untab",description:"Un-indent content",defaultKeyCombination:["shift+tab"]},{id:"tab",description:"Indent content",defaultKeyCombination:["tab"]},{id:"ungroup",description:"Ungroup selected blocks",defaultKeyCombination:["command+shift+g"],visibleToUsers:!1},{id:"group",description:"Group selected blocks",defaultKeyCombination:["command+g"],visibleToUsers:!1},{id:"home",description:"Go to beginning of line",defaultKeyCombination:["home","shift+home"],visibleToUsers:!1},{id:"end",description:"Go to end of line",defaultKeyCombination:["end","shift+end"],visibleToUsers:!1},{id:"pageUp",description:"Scroll up one page",defaultKeyCombination:["code:PageUp","shift+code:PageUp"],visibleToUsers:!1},{id:"pageDown",description:"Scroll down one page",defaultKeyCombination:["code:PageDown","shift+code:PageDown"],visibleToUsers:!1},{id:"selectAll",description:"Select block with cursor",defaultKeyCombination:["command+a"]},{id:"redo",description:"Redo last action",defaultKeyCombination:["command+shift+z","command+y"],visibleToUsers:!1},{id:"undo",description:"Undo last action",defaultKeyCombination:i().oE(["command+z",n.isWindows?"alt+backspace":void 0]),visibleToUsers:!1},{id:"toggleUnderline",description:"Underline selected text",defaultKeyCombination:["command+u"]},{id:"toggleHighlight",description:"Highlight selected text",defaultKeyCombination:["command+shift+h"]},{id:"toggleBold",description:"Bold selected text",defaultKeyCombination:["command+b"]},{id:"toggleItalics",description:"Italic selected text",defaultKeyCombination:["command+i"]},{id:"toggleCode",description:"Create inline code",defaultKeyCombination:["command+e"]},{id:"toggleStrike",description:"Strikethrough selected text",defaultKeyCombination:["command+shift+x","command+shift+s"]},{id:"duplicate",description:"Duplicate selected blocks",defaultKeyCombination:["command+d"]},{id:"duplicateSchema",description:"Duplicate database schema",defaultKeyCombination:["command+shift+d"],visibleToUsers:!1},{id:"fillRight",description:"Fill cells right in table",defaultKeyCombination:["command+r"],visibleToUsers:!1},{id:"cut",description:"Cut selected content",defaultKeyCombination:["command+x"],visibleToUsers:!1},{id:"copy",description:"Copy selected content",defaultKeyCombination:["command+c"],visibleToUsers:!1},{id:"paste",description:"Paste content",defaultKeyCombination:["command+v"],visibleToUsers:!1},{id:"openLinkMenuOrOpenSearch",description:"Add link to selected text",defaultKeyCombination:["command+k"]},{id:"toggleInPageFindReplace",description:"Find and replace in current page",defaultKeyCombination:["command+alt+f"],visibleToUsers:!1},{id:"openEquationMenu",description:"Add TeX equation",defaultKeyCombination:["command+shift+e"],visibleToUsers:!1},{id:"goBack",description:"Go back a page",defaultKeyCombination:["command+["]},{id:"goForward",description:"Go forward a page",defaultKeyCombination:["command+]"]},{id:"newTab",description:"Create a new Notion tab",defaultKeyCombination:["command+t"]},{id:"commandLeft",description:"Go to beginning of line",defaultKeyCombination:["command+left"],visibleToUsers:!1},{id:"commandRight",description:"Go to end of line",defaultKeyCombination:["command+right"],visibleToUsers:!1},{id:"goUp",description:"Go to parent page",defaultKeyCombination:["command+shift+u"]},{id:"quickFind",description:"Open search or jump to a recently viewed page",defaultKeyCombination:["command+p"]},{id:"search",description:"Find in current page",defaultKeyCombination:["command+f"]},{id:"goToBeginningOfLine",description:"Go to beginning of line",defaultKeyCombination:["ctrl+a","ctrl+shift+a"],visibleToUsers:!1},{id:"goToEndOfLine",description:"Go to end of line",defaultKeyCombination:["ctrl+e","ctrl+shift+e"],visibleToUsers:!1},{id:"goForwardOneChar",description:"Move forward one character",defaultKeyCombination:["ctrl+f","ctrl+shift+f"],visibleToUsers:!1},{id:"goBackwardOneChar",description:"Move backward one character",defaultKeyCombination:["ctrl+b","ctrl+shift+b"],visibleToUsers:!1},{id:"comment",description:"Create comment",defaultKeyCombination:["command+shift+m"]},{id:"suggest",description:"Suggest changes",defaultKeyCombination:["command+shift+alt+x"],visibleToUsers:!1},{id:"caption",description:"Add caption to media",defaultKeyCombination:["command+alt+m"],visibleToUsers:!1},{id:"react",description:"Add reaction",defaultKeyCombination:["command+alt+r"],visibleToUsers:!1},{id:"rename",description:"Rename current page or block",defaultKeyCombination:["command+shift+r"],visibleToUsers:!1},{id:"copyLinkToCurrentPage",description:"Copy page URL",defaultKeyCombination:["command+l"]},{id:"copyLinkToPageInCommandSearch",description:"Copy link to page from command search",defaultKeyCombination:["command+shift+c"],visibleToUsers:!1},{id:"copyLinkToBlock",description:"Copy link to specific block",defaultKeyCombination:[n.isApple?"command+ctrl+l":"alt+shift+l"],visibleToUsers:!1},{id:"copyCurrentPageLinkifiedBlockTitle",description:"Copy current page title as link",defaultKeyCombination:["command+alt+l"],visibleToUsers:!1},{id:"toggleSidebar",description:"Toggle sidebar",defaultKeyCombination:"ja-JP"===o().locale?[`command+${r}`,`command+${s}`,"command+code:IntlRo"]:["command+\\"],visibleToUsers:!1},{id:"toggleUpdateSidebar",description:"Toggle update sidebar",defaultKeyCombination:"ja-JP"===o().locale?[`command+shift+${r}`,`command+shift+${s}`,"command+code:IntlRo"]:["command+shift+\\"],visibleToUsers:!1},{id:"toggleBothSidebars",description:"Toggle both sidebars",defaultKeyCombination:["command+."],visibleToUsers:!1},{id:"toggleAISidebar",description:"Toggle AI sidebar",defaultKeyCombination:"ja-JP"===o().locale?["command+:"]:["command+;"],visibleToUsers:!1},{id:"openCommentsTabInUpdateSidebar",description:"Open comments tab in update sidebar",defaultKeyCombination:["ctrl+alt+9"],visibleToUsers:!1},{id:"openUpdatesTabInUpdateSidebar",description:"Open updates tab in update sidebar",defaultKeyCombination:["ctrl+alt+0"],visibleToUsers:!1},{id:"openSlipperySlopeHomeTab",description:"Open home tab in slippery slope sidebar",defaultKeyCombination:[n.isApple?"command+alt+h":"ctrl+alt+h"],visibleToUsers:!1},{id:"openSlipperySlopeChatsTab",description:"Open chats tab in slippery slope sidebar",defaultKeyCombination:[n.isApple?"command+alt+k":"ctrl+alt+k"],visibleToUsers:!1},{id:"zoomIn",description:"Zoom in",defaultKeyCombination:["command+="]},{id:"zoomOut",description:"Zoom out",defaultKeyCombination:["command+-"]},{id:"zoomReset",description:"Reset zoom to 100%",defaultKeyCombination:["command+0"],visibleToUsers:!1},{id:"settings",description:"Open settings",defaultKeyCombination:["command+,"]},{id:"newPage",description:"Create a new page",defaultKeyCombination:["command+n"]},{id:"backbutton",description:"Browser back button",defaultKeyCombination:["backbutton"],visibleToUsers:!1},{id:"toggleDarkMode",description:"Toggle dark mode",defaultKeyCombination:["command+shift+l","ctrl+shift+l"]},{id:"openFile",description:"Open file picker",defaultKeyCombination:["command+alt+o"],visibleToUsers:!1},{id:"moveTo",description:"Move block to different page",defaultKeyCombination:["command+shift+p"],visibleToUsers:!1},{id:"toggleAllToggles",description:"Expand/close all toggles",defaultKeyCombination:["command+alt+t"]},{id:"switchSpacesPreTabs",description:"Switch between spaces (pre-tabs)",defaultKeyCombination:["command+1","command+2","command+3","command+4","command+5","command+6","command+7","command+8","command+9"],visibleToUsers:!1},{id:"switchSpacesPostTabs",description:"Switch between spaces (post-tabs)",defaultKeyCombination:n.isApple?["ctrl+shift+0","ctrl+shift+1","ctrl+shift+2","ctrl+shift+3","ctrl+shift+4","ctrl+shift+5","ctrl+shift+6","ctrl+shift+7","ctrl+shift+8","ctrl+shift+9"]:["alt+shift+0","alt+shift+1","alt+shift+2","alt+shift+3","alt+shift+4","alt+shift+5","alt+shift+6","alt+shift+7","alt+shift+8","alt+shift+9"],visibleToUsers:!1},{id:"turnIntoType",description:"Turn block into different type",defaultKeyCombination:n.isApple?["command+alt+0","command+alt+1","command+alt+2","command+alt+3","command+alt+4","command+alt+5","command+alt+6","command+alt+7","command+alt+8","command+alt+9"]:["command+shift+0","command+shift+1","command+shift+2","command+shift+3","command+shift+4","command+shift+5","command+shift+6","command+shift+7","command+shift+8","command+shift+9"]},{id:"toggleRecordingInputLatency",description:"Toggle input latency recording",defaultKeyCombination:i().oE([n.isApple?"command+alt+ctrl+m":void 0]),visibleToUsers:!1},{id:"keypress",description:"Handle all key presses",defaultKeyCombination:["keypress"],visibleToUsers:!1},{id:"togglePropertyVisibility",description:"Toggle property visibility",defaultKeyCombination:["command+alt+p"],visibleToUsers:!1},{id:"toggleFavorite",description:"Toggle favorite status",defaultKeyCombination:[n.isApple?"command+ctrl+shift+f":"ctrl+alt+shift+f"],visibleToUsers:!1},{id:"toggleAllUpdates",description:"Toggle all updates visibility",defaultKeyCombination:[n.isApple?"command+alt+u":"ctrl+alt+u"],visibleToUsers:!1},{id:"toggleAllTeams",description:"Toggle all teams visibility",defaultKeyCombination:[n.isApple?"command+alt+a":"ctrl+alt+a"],visibleToUsers:!1},{id:"openHome",description:"Open home page",defaultKeyCombination:[n.isApple?"command+ctrl+h":"ctrl+alt+shift+h"],visibleToUsers:!1},{id:"openShareMenu",description:"Open share menu",defaultKeyCombination:[n.isApple?"command+shift+o":"ctrl+shift+o"],visibleToUsers:!1},{id:"openInSidePeek",description:"Open link in side peek",defaultKeyCombination:["alt+click"],visibleToUsers:!1},{id:"openExperimentSettings",description:"Open experiment settings",defaultKeyCombination:[n.isApple?"command+alt+shift+e":"ctrl+alt+shift+e"],visibleToUsers:!1},{id:"notionAiCommandSearchDefault",description:"Open AI command search",defaultKeyCombination:[n.isApple?"shift+command+j":"shift+ctrl+j"],visibleToUsers:!1}]);var n;u.setState({initialized:!0,environment:e,shortcuts:t}),l.addListener((()=>{!function(){if(!u.state.initialized||!u.state.environment)return;const e=l.getState(),t=null==e?void 0:e.notionAiShortcut,n=u.state.shortcuts.map((e=>"notionAiCommandSearchDefault"===e.id?{...e,customizable:!0,customKeyCombination:t?[t]:e.defaultKeyCombination}:e));u.setState({...u.state,shortcuts:n})}()}))}function m(){return u.state.shortcuts}function p(){const e=l.getState();return null==e?void 0:e.notionAiShortcut}function f(){return u}},819121:(e,t,n)=>{n.d(t,{A:()=>s,p:()=>r});var o=n(296540);let i;function r(e){try{return function(){if(void 0===i)try{i=!(!CSS||!CSS.supports)&&CSS.supports("selector(:focus-visible)")}catch{i=!1}return i}()?e.matches(":focus-visible"):e.matches(":focus")}catch(t){return!1}}function s(){const e=(0,o.useRef)(null),t=(0,o.useRef)(null),[n,i]=(0,o.useState)(!1),[s,a]=(0,o.useState)(!1),d=(0,o.useCallback)((()=>{const t=e.current;t&&a(r(t))}),[]),c=(0,o.useCallback)((n=>{if(e.current=n,n){var o;const e=()=>{i(!0),a(r(n))},s=()=>{i(!1),a(r(n))};n.addEventListener("focus",e),n.addEventListener("blur",s),null===(o=t.current)||void 0===o||o.call(t),t.current=()=>{n.removeEventListener("focus",e),n.removeEventListener("blur",s)}}else{var s;null===(s=t.current)||void 0===s||s.call(t),t.current=null}d()}),[d]);return(0,o.useEffect)((()=>()=>{var e;return null===(e=t.current)||void 0===e?void 0:e.call(t)}),[]),(0,o.useEffect)((()=>{if(n)return document.addEventListener("pointerdown",d),document.addEventListener("keydown",d),()=>{document.removeEventListener("pointerdown",d),document.removeEventListener("keydown",d)}}),[n,d]),[c,s]}},829098:(e,t,n)=>{n.d(t,{U:()=>o});const o=(0,n(706972).BJ)(n(726637).A.isMobile)},833744:(e,t,n)=>{n.d(t,{L:()=>i});var o=n(296540);function i({closeHandler:e,ref:t,active:n,excludedSelectors:i,ignoreKeydown:r}){const s=(0,o.useRef)(void 0);(0,o.useEffect)((()=>{if(n){const n=e=>{0===e.button&&e.target instanceof Node?s.current=e.target:s.current=void 0},o=n=>{const o=t.current,r=n.target,a=s.current;if(s.current=void 0,o&&r){for(const e of i||[]){const t=document.querySelectorAll(e);for(let e=0;e<t.length;++e){if(t[e].contains(r))return}}a&&(o===a||o.contains(a))||o===r||o.contains(r)||e()}},a=t=>{r||"Esc"!==t.key&&"Escape"!==t.key||e()};return window.addEventListener("mousedown",n),window.addEventListener("click",o),window.addEventListener("keydown",a),()=>{window.removeEventListener("mousedown",n),window.removeEventListener("click",o),window.removeEventListener("keydown",a)}}}),[e,t,n,i,r])}},833995:(e,t,n)=>{n.d(t,{o:()=>s});var o=n(296540),i=()=>n(142113),r=()=>n(45105);function s(){const e=(0,o.useContext)(i().w),t=(0,o.useContext)(r().w);return null!=e&&e.isHeightScrollbarVisible?t:0}},834074:(e,t,n)=>{n.d(t,{Nh:()=>o,bZ:()=>i,zg:()=>r});function o(e,t){return{x:e.x-t.x,y:e.y-t.y}}function i(e,t){return{x:e.x+t.x,y:e.y+t.y}}function r(){return{x:0,y:0}}(0,n(852832).exposeDebugValue)("Point",{pointMinus:o,pointPlus:i,pointZero:r})},852507:(e,t,n)=>{n.d(t,{l:()=>r,w:()=>s});var o=n(296540),i=()=>n(17022);function r(e){const t=(0,o.useRef)(!1);!1===t.current&&(t.current=!0,i().e.withListenerIgnored((()=>e())))}function s(e){const t=(0,o.useRef)(!1);(0,o.useEffect)((()=>{if(!1===t.current)return t.current=!0,e()}),[e])}},869730:(e,t,n)=>{n.d(t,{F:()=>o});const o=(0,n(296540).createContext)(void 0);o.displayName="PopupContentContext"},872994:(e,t,n)=>{n.d(t,{e:()=>s,y:()=>a});var o=n(296540),i=n(474848);const r=(0,o.createContext)(void 0);function s(e){const{children:t,...n}=e,s=(0,o.useMemo)((()=>"void"in n?void 0:n),Object.values(n));return(0,i.jsx)(r.Provider,{value:s,children:t})}function a(){return(0,o.useContext)(r)}r.displayName="ContentEditableContext"},892235:(e,t,n)=>{n.d(t,{S:()=>d});var o=n(296540),i=()=>n(558842),r=()=>n(378879),s=()=>n(724200),a=n(474848);function d(e){const{observer:t,children:n}=e,d=(0,o.useContext)(r().a),c=(0,o.useMemo)((()=>t?(0,s().D)(t,d):d),[t,d]);return(0,o.useEffect)((()=>(null==t||t.register(),()=>{null==t||t.unregister()})),[t]),t?(0,a.jsx)(r().a.Provider,{value:c,children:n}):(0,i().Du)(n)}},901167:(e,t,n)=>{n.d(t,{AD:()=>d,Hz:()=>g,Id:()=>w,b2:()=>S,cm:()=>h,dv:()=>r,hU:()=>v,ip:()=>u,ph:()=>a,qb:()=>f,sT:()=>y,sr:()=>C,tD:()=>l,t_:()=>p,xr:()=>k});var o=()=>n(338381);const i="data-content-editable-leaf",r={[i]:!0},s="data-content-editable-root",a={[s]:!0},d="data-content-editable-error",c="data-content-editable-root-tiny-selection-trap",u={[c]:!0},l="data-content-editable-selecting",h="data-content-editable-composing",m="data-content-editable-void",p={[m]:!0};function f(e){return o().vq(e)&&e.hasAttribute(i)}function g(e){return o().vq(e)&&e.hasAttribute(c)}function v(e){return Boolean(o().vq(e)&&e.querySelector(`[${i}]`))}function b(e){return o().vq(e)&&e.hasAttribute(s)}function y(e){return o().EV(e,f)}function S(e,t){return e.parentElement===t?e:o().EV(e,(e=>e.parentElement===t))||e}function w(e,t){if(!e||!t)return!1;const n=C(e),o=C(t);return Boolean(n&&n===o)}function C(e){const t=o().EV(e,(e=>b(e)||function(e){return o().vq(e)&&e.hasAttribute(m)}(e)));if(t&&b(t))return t}function k(e){return o().EV(e,(e=>function(e){return o().vq(e)&&e.hasAttribute(d)}(e)))}},905343:(e,t,n)=>{n.d(t,{A:()=>o});n(944114),n(898992),n(672577);const o=new class{constructor(){this.traces=void 0,this.traces=[]}addTrace(e){this.traces.find((t=>t.type===e.type&&t.name===e.name&&t.start===e.start&&t.end===e.end))||this.traces.push(e)}}},906510:(e,t,n)=>{n.d(t,{S3:()=>a});n(944114),n(898992),n(803949);class o{mark(e){}onMark(e){}increment(e,t,n){}add(e,t,n){}getMetrics(){return{metricTotals:{},metrics:{}}}}class i{constructor(){this.metricTotals={},this.metrics={},this.callbacks=[],this.subNameFilter=e=>e}mark(e){this.callbacks.forEach((t=>t(e))),this.flush(e,this.metricTotals,this.metrics),this.metricTotals={},this.metrics={}}onMark(e){this.callbacks.push(e)}increment(e,t,n=1){this.add(e,t,{count:n,sum:n})}add(e,t,n){this.metricTotals[e]=this.metricTotals[e]||{count:0,sum:0},this.metricTotals[e].count+=n.count,this.metricTotals[e].sum+=n.sum;const o=this.subNameFilter(t);this.metrics[e]=this.metrics[e]||{},this.metrics[e][o]=this.metrics[e][o]||{count:0,sum:0},this.metrics[e][o].count+=n.count,this.metrics[e][o].sum+=n.sum}setSubNameFilter(e){this.subNameFilter=e}}class r extends i{constructor(...e){super(...e),this.accumulatedMetrics={metricTotals:{},metrics:{}}}flush(e,t,n){for(const[o,i]of Object.entries(t))this.accumulatedMetrics.metricTotals[o]=this.accumulatedMetrics.metricTotals[o]||[],this.accumulatedMetrics.metricTotals[o].push({mark:e,data:i});for(const[o,i]of Object.entries(n))this.accumulatedMetrics.metrics[o]=this.accumulatedMetrics.metrics[o]||[],this.accumulatedMetrics.metrics[o].push({mark:e,data:i})}getMetrics(){return this.accumulatedMetrics}}const s="undefined"!=typeof window&&"true"===localStorage.getItem("NotionPerformanceCounter.debug");const a=function(){if(s){const e=new r,t=/[0-9a-f]{8}-?[0-9a-f]{4}-?[0-9a-f]{4}-?[0-9a-f]{4}-?[0-9a-f]{12}/gi;return e.setSubNameFilter((e=>e.replace(t,"UUID"))),e}return new o}();(0,n(852832).exposeDebugValue)("NotionPerformanceCounter",a)},908006:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});n(517642),n(658004),n(733853),n(845876),n(432475),n(515024),n(731698),n(581454);var o=()=>n(496603),i=()=>n(229833),r=()=>n(250454);function s(e,t,n){e.set(t,(e.get(t)??0)+n)}function a(e,t){return t[1]-e[1]}const d=new class{constructor(){this.debug=!1,this.debugStatsPerFlush=void 0,this.debugLogMinComponentRerenders=void 0,this.pauseCount=0,this.renderIsQueued=!1,this.pendingAnimationFrame=void 0,this.computedStoreQueue=new Set,this.computedStoreQueueDebugNameCounters=new Map,this.componentRenderQueue=new Set,this.flushQueue=new Set,this.renderRemovedQueue=new Set,this.currentlyRendering=new Set,this.flushSync=void 0,this.maybeInstrumentStoreRecompute=(e,t)=>{if(!this.debug||!t)return void e();const n=performance.now();e();const o=performance.now()-n,{debugName:i}=e,r=t.get(i);void 0===r?t.set(i,o):t.set(i,r+o)},this.processRenderQueueCallback=async e=>{if(!this.renderRemovedQueue.has(e))try{this.currentlyRendering.add(e),await e()}catch(t){this.throttledLog({level:"error",from:"RenderQueue",type:"componentRender",error:(0,i().convertErrorToLog)(t)})}finally{this.currentlyRendering.delete(e)}},this.throttledLog=o().nF((e=>{console.info(e)}),5e3),this.flush=this.flush.bind(this)}isPaused(){return this.pauseCount>0}enqueueComputedStoreRecompute(e){this.debug&&!this.computedStoreQueue.has(e)&&s(this.computedStoreQueueDebugNameCounters,e.debugName,1),this.computedStoreQueue.add(e),this.enqueueFlush()}enqueueComponentRender(e){this.componentRenderQueue.add(e),this.enqueueFlush()}enqueueFlush(){this.pendingAnimationFrame&&document.hidden&&(window.cancelAnimationFrame(this.pendingAnimationFrame),this.renderIsQueued=!1,this.pendingAnimationFrame=void 0),this.renderIsQueued||0!==this.pauseCount||(this.renderIsQueued=!0,this.flushAfterAnimationFrame())}flushAfterAnimationFrame(){document.hidden?Promise.resolve().then(this.flush):this.pendingAnimationFrame=window.requestAnimationFrame(this.flush)}removeRenderFromQueue(e){this.renderRemovedQueue.add(e)}afterNextFlush(e){return new Promise((t=>{this.flushQueue.add((()=>{e&&e(),t()})),this.enqueueFlush()}))}pause(){this.afterNextFlush((()=>{this.pauseCount++}))}unpause(){this.pauseCount--,0!==this.pauseCount||this.renderIsQueued||(this.renderIsQueued=!0,this.flushAfterAnimationFrame())}async flush(){try{this.flushSync||(this.flushSync=(await Promise.resolve().then(n.t.bind(n,440961,19))).flushSync);const t=this.flushSync,d=this.debug?{computedStoreRecomputes:0,componentRerenders:0,computedStoreCounters:new Map,computedStoreDurationCounters:new Map,componentRenderCounters:new Map,totalStoreRecomputeTime:0,startTime:performance.now(),storeRecomputeStart:0}:void 0;let c;r().I.getShouldCollect()&&document.hasFocus()&&(c=r().I.generateUniqueId(),r().I.start(c));do{for(;this.computedStoreQueue.size>0;){const t=this.computedStoreQueue;if(this.computedStoreQueue=new Set,this.debug&&d){const{computedStoreQueueDebugNameCounters:e}=this;this.computedStoreQueueDebugNameCounters=new Map;for(const[t,n]of e.entries())s(d.computedStoreCounters,t,n);d.storeRecomputeStart=performance.now()}for(const n of t)try{this.maybeInstrumentStoreRecompute(n,null==d?void 0:d.computedStoreDurationCounters)}catch(e){this.throttledLog({level:"error",from:"RenderQueue",type:"computedStoreRecompute",error:(0,i().convertErrorToLog)(e)})}this.debug&&d&&(d.totalStoreRecomputeTime+=performance.now()-d.storeRecomputeStart,d.computedStoreRecomputes+=t.size)}const o=this.componentRenderQueue;let r;if(this.componentRenderQueue=new Set,this.renderRemovedQueue.clear(),t((()=>{r=Promise.all(Array.from(o.values()).map(this.processRenderQueueCallback))})),r){if((await(0,n(763824).nQ)(1e4,r)).timeout){const e=[...this.currentlyRendering].map((e=>e.componentName));this.currentlyRendering.clear(),this.throttledLog({level:"error",from:"RenderQueue",type:"rerenderTimeOut",data:{miscDataToConvertToString:{componentNames:e}}})}}if(this.debug&&d){d.componentRerenders+=o.size;for(const{componentName:e}of o.values())s(d.componentRenderCounters,e,1)}const a=this.flushQueue;this.flushQueue=new Set;for(const t of a)try{t()}catch(e){this.throttledLog({level:"error",from:"RenderQueue",type:"afterNextFlush",error:(0,i().convertErrorToLog)(e)})}}while(this.componentRenderQueue.size>0||this.flushQueue.size>0||this.computedStoreQueue.size>0);if(r().I.getShouldCollect()&&c&&r().I.stop(c),this.debug&&d&&d.componentRerenders>(this.debugLogMinComponentRerenders??5)){if(console.groupCollapsed("Flushed render queue",{recomputes:d.computedStoreRecomputes,rerenders:d.componentRerenders,totalMs:Math.floor(performance.now()-d.startTime),recomputeMs:Math.floor(d.totalStoreRecomputeTime)}),d.computedStoreRecomputes>0){console.log("Recomputed stores:");const e=Object.fromEntries([...d.computedStoreCounters.entries()].sort(a));if(d.totalStoreRecomputeTime>=1)for(const[t,n]of d.computedStoreCounters)e[t]={count:n,duration:o().LI(d.computedStoreDurationCounters.get(t)??0,3)};console.table(e)}if(d.componentRerenders>0){console.log("Rerenders:");const e=Object.fromEntries([...d.componentRenderCounters.entries()].sort(a));console.table(e)}console.groupEnd(),this.debugStatsPerFlush=[...this.debugStatsPerFlush??[],d]}}finally{this.renderIsQueued=!1,this.pendingAnimationFrame=void 0}}clearDebugStats(){this.debugStatsPerFlush=void 0}getDebugStatsPerFlush(){return this.debugStatsPerFlush??[]}setDebugLogMinComponentRerenders(e){this.debugLogMinComponentRerenders=e}serializeDebugStatsPerFlush(){return this.getDebugStatsPerFlush().map((e=>({computedStoreRecomputes:e.computedStoreRecomputes,componentRerenders:e.componentRerenders,computedStoreCounters:Object.fromEntries([...e.computedStoreCounters.entries()].sort(a)),computedStoreDurationCounters:Object.fromEntries([...e.computedStoreDurationCounters.entries()].sort(a)),componentRenderCounters:Object.fromEntries([...e.componentRenderCounters.entries()].sort(a)),totalStoreRecomputeTime:e.totalStoreRecomputeTime,startTime:e.startTime,storeRecomputeStart:e.storeRecomputeStart})))}}},911988:(e,t,n)=>{n.d(t,{U4:()=>a,nJ:()=>d,s1:()=>r,uF:()=>s});var o=()=>n(15333),i=()=>n(757695);const r=44,s=52,a=i().Store.createValue({supportsNativeSafeAreaConfig:!1,top:0,bottom:0,left:0,right:0});class d extends i().Store{constructor(e,t){if(super(),this.environment=void 0,this.fullWindowEl=void 0,this.window=void 0,this.visibilityChangedResizeDeadline=0,this.updateWindowSize=()=>{var e;const t=(0,o().zH)(this.window,this.environment.device,null===(e=this.state)||void 0===e?void 0:e.largestDimension),n=(0,o().wx)(this.environment.device,a.state);(0,o().Wn)(this.window,this.environment.device,t.height),this.setState((0,o().Me)(t,n)),this.visibilityChangedResizeDeadline=0},this.updateWindowSizeDebounced=n(496603).sg(this.updateWindowSize,300),this.window=t,this.environment=e,this.environment.device.isMobileBrowser){const e=this.window.document.createElement("div");e.style.position="fixed",e.style.height="100vh",e.style.top="0px",e.style.pointerEvents="none",this.window.document.body.appendChild(e),this.fullWindowEl=e}this.window.document.addEventListener("visibilitychange",(()=>{this.visibilityChangedResizeDeadline=Date.now()+200})),this.window.addEventListener("resize",(()=>{if(0===this.instanceState.width||this.visibilityChangedResizeDeadline&&Date.now()<this.visibilityChangedResizeDeadline)return this.updateWindowSize(),void this.updateWindowSizeDebounced.cancel();this.updateWindowSizeDebounced()})),this.updateWindowSize()}getSafePaddingTopCSS(e){return`calc(${e}px + ${this.state.paddingTopCSS})`}getSafePaddingLeftCSS(e){return`calc(${e}px + ${this.state.paddingLeftCSS})`}getSafePaddingRightCSS(e){return`calc(${e}px + ${this.state.paddingRightCSS})`}getSafePaddingBottomCSS(e){return`calc(${e}px + ${this.state.paddingBottomCSS})`}getSafePaddingTopPx(e){return e+this.state.paddingTop}getSafePaddingLeftPx(e){return e+this.state.paddingLeft}getSafePaddingRightPx(e){return e+this.state.paddingRight}getSafePaddingBottomPx(e){return e+this.state.paddingBottom}isLandscape(){return this.state.width===this.state.largestDimension}isPortrait(){return!this.isLandscape()}}},921676:(e,t,n)=>{n.d(t,{A:()=>r});n(517642),n(658004),n(733853),n(845876),n(432475),n(515024),n(731698),n(898992),n(803949);var o=()=>n(611648);class i extends(()=>n(757695))().Store{getInitialState(){return{capturingAreas:new Set}}getPreventScrollType(){let e=!1,t=!1,n=!1;return this.state.capturingAreas.forEach((i=>{i.preventType===o().A.All?e=!0:i.preventType===o().A.X?t=!0:i.preventType===o().A.Y&&(n=!0)})),e||t&&n?o().A.All:t?o().A.X:n?o().A.Y:o().A.None}}const r=new i},929219:(e,t,n)=>{n.d(t,{A:()=>r,e:()=>s});class o extends(()=>n(757695))().Store{getInitialState(){return{online:!0,syncing:!1,lastOfflineTimestamp:void 0,mobileConnectivityType:void 0}}}const i=new o,r=i;(0,n(852832).exposeDebugValue)("ConnectionStore",i);const s=new(n(140934).ComputedStore)((()=>i.state.online),{debugName:"connectionStoreIsOnlineStore"})},943101:(e,t,n)=>{n.d(t,{pP:()=>h,tK:()=>u,wY:()=>l});n(944114),n(898992),n(354520);var o=n(296540),i=()=>n(821062);const r=/auto|scroll/;function s(e){const t=getComputedStyle(e),n="border-box"===t.boxSizing,o=r.test(t.overflowY||""),i=r.test(t.overflowX||""),s=parseFloat(t.paddingTop||"0"),a=parseFloat(t.paddingRight||"0"),d=parseFloat(t.paddingBottom||"0"),c=parseFloat(t.paddingLeft||"0"),u=parseFloat(t.borderTopWidth||"0"),l=parseFloat(t.borderRightWidth||"0"),h=parseFloat(t.borderBottomWidth||"0"),m=c+a,p=s+d,f=parseFloat(t.borderLeftWidth||"0")+l,g=u+h,v=i?e.offsetHeight-g-e.clientHeight:0,b=o?e.offsetWidth-f-e.clientWidth:0,y=n?m+f:0,S=n?p+g:0;return{borderBoxWidth:parseFloat(t.width||"0")-y-b+m+b+f,borderBoxHeight:parseFloat(t.height||"0")-S-v+p+v+g}}function a(e){return new ResizeObserver((t=>{const n=new Map;for(const e of t)n.set(e.target,e);for(const o of n.values()){const t=o.target,n=e.get(t);if(!n||0===n.length)continue;let i;if("borderBoxSize"in o){const e=o.borderBoxSize[0];i={width:e.inlineSize,height:e.blockSize}}else{const{borderBoxWidth:e,borderBoxHeight:n}=s(t);i={width:e,height:n}}for(const e of n)e(i)}}))}let d,c;function u(e,t){d=d??new WeakMap,c=c??a(d),(0,o.useEffect)((()=>{const n=e.current;if(n){var o;if(d.has(n))null===(o=d.get(n))||void 0===o||o.push(t);else c.observe(n),d.set(n,[t]);return()=>{const e=(d.get(n)??[]).filter((e=>e!==t));0===e.length?(c.unobserve(n),d.delete(n)):d.set(n,e)}}}),[t,e])}function l(e){const[t,n]=(0,o.useState)(void 0);return u(e,(0,o.useCallback)((e=>{n((t=>(0,i().A)(t,e)?t:e))}),[])),t}function h(e){const t=(0,o.useRef)(null);return(0,o.useCallback)((n=>{t.current&&(t.current.disconnect(),t.current=null),n&&(t.current=a(new WeakMap([[n,[e]]])),t.current.observe(n))}),[e])}},945465:(e,t,n)=>{n.d(t,{k:()=>o});const o=(0,n(296540).createContext)(void 0);o.displayName="PopupOriginContext"},951500:(e,t,n)=>{n.d(t,{l:()=>r});var o=n(296540),i=()=>n(496603);function r(e,t=i().n4){const n=(0,o.useRef)(e);return t(n.current,e)||(n.current=e),n.current}},956250:(e,t,n)=>{n.d(t,{A:()=>u});var o=n(296540),i=()=>n(496603),r=()=>n(359995),s=()=>n(787470),a=()=>n(588165),d=()=>n(484714),c=()=>n(590526);function u(){const e=(0,d().v3)(),t=(0,c().K8)((()=>e.KeyboardShortcutsStore.state.shortcuts),[e],{useDeepEqual:!0});(0,o.useEffect)((()=>{const n=t=>{r().N6(e,t)},o=n=>{const o=(0,a().a)(t),d=i().Tj(o,((t,o)=>(0,s().A)(e,n,t??[])));d&&!{cut:!0,copy:!0,paste:!0}[d]&&r().uj(e,n,d)};return window.addEventListener("keydown",o),window.addEventListener("cut",n),window.addEventListener("copy",n),window.addEventListener("paste",n),window.addEventListener("keypress",n),()=>{window.removeEventListener("keydown",o),window.removeEventListener("cut",n),window.removeEventListener("copy",n),window.removeEventListener("paste",n),window.removeEventListener("keypress",n)}}),[t,e])}},959180:(e,t,n)=>{n.d(t,{A:()=>r,g:()=>i});n(898992),n(354520);class o extends(()=>n(965828))().O{getMembersByDOMOrder({filter:e}){return super.filter(e).sort(((e,t)=>(0,n(507707).A)(e.getNode(),t.getNode())))}}function i(e){if(e){if(e instanceof Element)return e;if("getNode"in e){const t=e.getNode();if(t instanceof Element)return t}}}const r=o},965828:(e,t,n)=>{n.d(t,{O:()=>i});n(16280),n(944114),n(517642),n(658004),n(733853),n(845876),n(432475),n(515024),n(731698),n(898992),n(803949);class o{constructor(e,t){this.index=new(n(371288).f),this.getKey=e,this.isRegistered=t}add(e){const t=this.getKey(e);this.index.addMember(t,e)}remove(e){const t=this.getKey(e);this.index.removeMember(t,e)}forEach(e,t){this.index.forEachMember(e,(n=>{this.isRegistered(n)?t(n):this.index.removeMember(e,n)}))}find(e,t){let n;return this.forEach(e,(e=>{n||t(e)&&(n=e)})),n}filter(e,t){const n=[];return this.forEach(e,(e=>{t(e)&&n.push(e)})),n}}class i{constructor(){this.members=new Set,this.indexes=[]}index(e){if(this.getSize()>0)throw new Error("Cannot create index on registry with members. Indexes should be created during construction.");const t=new o(e,(e=>this.members.has(e)));return this.indexes.push(t),t}register(e){return this.indexes.forEach((t=>{t.add(e)})),this.members.add(e),()=>this.unregister(e)}unregister(e){this.indexes.forEach((t=>{t.remove(e)})),this.members.delete(e)}getSize(){return this.members.size}hasMembers(){return this.getSize()>0}find(e){for(const t of this.members)if(e(t))return t}filter(e){const t=[];for(const n of this.members)e(n)&&t.push(n);return t}forEach(e){this.members.forEach(e)}}},968526:(e,t,n)=>{n.r(t),n.d(t,{TimeSeries:()=>b,useTimeSeriesPalette:()=>y});n(898992),n(354520),n(430670),n(581454);var o=()=>n(622297),i=()=>n(774726),r=n(296540),s=()=>n(609679),a=()=>n(869190),d=()=>n(100622),c=()=>n(676510),u=()=>n(720665),l=()=>n(401497),h=n(474848);const m=7,p=0,f=25,g=16,v=5;const b=(0,n(810073).A)((function(e){const{width:t,height:c,layers:l,showTooltip:b,hideTooltip:y,tooltipData:S,tooltipTop:w=0,tooltipLeft:C=0,curveType:k="curveLinear",renderTooltipSubLabel:E}=e,T=(0,r.useMemo)((()=>{let t;try{t=(0,n(229907).lT)(e.startDate,e.endDate)}catch(r){return[]}const o=(0,u().$z)(e.data,(e=>e.ds)),i=Object.fromEntries(l.map((e=>[e.key,0])));return t.map((e=>{const t=o.get(e);return{ds:e,values:t?t[0].values:i}}))}),[l,e.data,e.endDate,e.startDate]),A=(0,r.useMemo)((()=>Math.max(...T.flatMap((e=>l.map((({key:t})=>e.values[t])))))),[T,l]),L=(0,r.useMemo)((()=>{const e=Math.max(0,Math.floor(Math.log10(A)));return g+10+8*e}),[A]),x=(0,r.useMemo)((()=>T.length<v?p+24:p),[T.length]),R={domain:[0,A],range:[c-f,m]},M=(0,o().A)(R),I=T.map((e=>new Date(e.ds).valueOf())),D={domain:[Math.min(...I),Math.max(...I)],range:[L,t-x]},N=(0,o().A)(D),[P,O]=function(e,t){const n=e.range[1]-e.range[0],o=t.range[0]-t.range[1],i=e.domain[0],s=e.domain[1],a=s-i,d=t.domain[1];return[(0,r.useMemo)((()=>{if(a<u().nD*(v+1))return Array.from({length:1+a/u().nD},((e,t)=>i+t*u().nD));const e=Math.floor(n/312*9),t=Math.max(1,Math.floor(a/e)),o=Math.ceil(t/u().nD)*u().nD;return Array.from({length:e},((e,t)=>i+(2*t+1)*o)).filter((e=>e<s))}),[n,a,i,s]),(0,r.useMemo)((()=>{const e=Math.floor(o/142*6),t=Math.max(1,Math.floor(d/e)+1);return Array.from({length:e},((e,n)=>(n+1)*t)).filter((e=>e<=d))}),[o,d])]}(D,R),U=(0,r.useMemo)((()=>(0,n(890479).A)((e=>new Date(e.ds).getTime())).center),[]),F=(0,r.useCallback)((e=>{const{x:t}=(0,n(834391).A)(e)||{x:0},o=N.invert(t),i=U(T,o),r=T[i],s=N(new Date(r.ds));b({tooltipData:r,tooltipLeft:s,tooltipTop:M(r.values[l[0].key])})}),[T,b,N,M,U,l]);return(0,h.jsxs)("div",{children:[(0,h.jsxs)("svg",{width:t,height:c,children:[l.map((({key:e,stroke:t,fill:o})=>(0,h.jsx)(n(879060).A,{data:T,x:e=>N(new Date(e.ds).valueOf()),y:t=>M(t.values[e]),yScale:M,stroke:t,fill:o,curve:n(309852)[k]},e))),(0,h.jsx)(n(437143).A,{width:t,height:c,fill:"transparent",onTouchStart:F,onTouchMove:F,onMouseMove:F,onMouseLeave:y}),S?(0,h.jsxs)("g",{children:[(0,h.jsx)(i().A,{from:{x:L,y:w},to:{x:C,y:w},stroke:d().Tj.icon.tertiary,strokeWidth:1,pointerEvents:"none",strokeDasharray:"5,2"}),(0,h.jsx)(i().A,{from:{x:C,y:w},to:{x:C,y:c-f},stroke:d().Tj.icon.tertiary,strokeWidth:1,pointerEvents:"none",strokeDasharray:"5,2"}),(0,h.jsx)("circle",{cx:C,cy:w,r:5,fill:l[0].stroke,pointerEvents:"none"})]}):void 0,(0,h.jsx)(n(889065).A,{left:L,scale:M,stroke:d().Tj.icon.secondary,tickStroke:d().Tj.icon.tertiary,tickLength:10,hideZero:!0,tickValues:O,tickFormat:e=>`${e}`,tickLabelProps:()=>({dx:"-0.25em",dy:"0.25em",fontSize:12,fill:d().Tj.text.primary,textAnchor:"end"})}),(0,h.jsx)(n(940767).A,{top:c-f,scale:N,stroke:d().Tj.icon.secondary,tickStroke:d().Tj.icon.tertiary,tickValues:P,tickLength:10,tickFormat:e=>(0,a().W_)(e.valueOf(),"month_day",s().locale,"UTC"),tickLabelProps:()=>({fontSize:12,fill:d().Tj.text.primary,textAnchor:"middle"})})]}),S?(0,h.jsx)("div",{children:(0,h.jsx)(n(966514).A,{top:w-5,left:C-4,style:{...n(534725).k,background:"#36352F",padding:6,borderRadius:3,color:"white",fontSize:12,boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.04), 0px 0px 2px rgba(0, 0, 0, 0.06), 0px 0px 1px rgba(0, 0, 0, 0.04)",zIndex:109},children:(0,h.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:7},children:[(0,h.jsx)("div",{children:`On ${(0,a().W_)(n(604995).C6.isoToUnixMs(S.ds,"UTC")??Date.now(),"medium",s().locale,"UTC")}`}),l.map((({key:e,stroke:t,renderLabel:n})=>(0,h.jsxs)("div",{children:[(0,h.jsxs)("div",{style:{display:"flex",gap:5,alignItems:"center"},children:[(0,h.jsx)("div",{style:{background:t,borderRadius:3,width:12,height:12}}),(0,h.jsx)("div",{children:n(S.values[e])})]}),E?E():void 0]},e)))]})})}):void 0]})}));function y(){const e=(0,l().eP)();return{blueLayer:{stroke:d().Tj.blue.border.accentPrimary,fill:"dark"===e?d().Tj.palette.blue[300]:d().Tj.palette.blue[50]},yellowLayer:{stroke:c().$.light.yellow[300],fill:"dark"===e?d().Tj.palette.yellow[300]:d().Tj.palette.yellow[50]}}}},968578:(e,t,n)=>{n.d(t,{A:()=>i});class o extends(()=>n(757695))().Store{getInitialState(){return{mouseEntered:!1,mousePressed:!1}}enter(){this.setState({...this.state,mouseEntered:!0})}exit(){this.setState({...this.state,mouseEntered:!1})}}const i=o},988083:(e,t,n)=>{n.d(t,{A:()=>r,i:()=>o});let o=function(e){return e[e.willHide=0]="willHide",e[e.hidden=1]="hidden",e[e.willShow=2]="willShow",e[e.shown=3]="shown",e}({});class i extends(()=>n(757695))().Store{constructor(...e){super(...e),this.updateKeyboardConfig=(e,t)=>{this.update((n=>({...n,packageName:e,activeLocale:t})))},this.keyboardHeight=()=>this.state.estimatedKeyboardWebViewOverlap}getInitialState(){return{phase:o.hidden,estimatedKeyboardWebViewOverlap:0,nativeBottomBarHeight:void 0,packageName:void 0,activeLocale:void 0}}async onShow(e){await this.waitUntil((()=>this.state.phase===o.shown)),e()}async onHide(e){await this.waitUntil((()=>this.state.phase===o.hidden)),e()}}const r=new i},991003:(e,t,n)=>{n.d(t,{A:()=>i});var o=n(296540);function i(e,t,n=0,i=!1){const[r,s]=(0,o.useState)(i),a=(0,o.useRef)(null),d=(0,o.useRef)(null);return(0,o.useLayoutEffect)((()=>{null!==d.current&&window.clearTimeout(d.current),null!==a.current&&window.clearTimeout(a.current),d.current=null,a.current=null,e?0===t?s(!0):a.current=window.setTimeout((()=>{a.current=null,s(!0)}),t):0===n?s(!1):d.current=window.setTimeout((()=>{d.current=null,s(!1)}),n)}),[e,t,n]),r}},992202:(e,t,n)=>{n.r(t),n.d(t,{INTERNAL_TESTING_USE_ONLY__getStateLog:()=>U,captureStack:()=>v,getForceUpdateCauses:()=>z,getSerializedDebugGraph:()=>j,isRecording:()=>O,logComponentForceUpdateScheduled:()=>L,logListenerAdded:()=>x,logListenerRemoved:()=>R,logStoreAccess:()=>A,logStoreCreated:()=>E,logStoreEmit:()=>k,logStoreSet:()=>T,logTypingLag:()=>M,renderLatestGraph:()=>H,resume:()=>N,runWithTimer:()=>w,startRecordingReactivityLog:()=>I,stop:()=>D,toggleRecordingInputLatency:()=>P,updateReactivityRecordingOptions:()=>F});n(16280),n(944114),n(517642),n(658004),n(733853),n(845876),n(432475),n(515024),n(731698),n(898992),n(672577),n(581454);var o=()=>n(697938),i=()=>n(496603),r=()=>n(534177),s=()=>n(720665),a=()=>n(140934),d=()=>n(624919),c=()=>n(272061),u=()=>n(908006);const l=30,h=10,m=25,p=/webpack-internal:\/+/g,f=/node_modules\//g,g=/\(<anonymous>\)/g;function v(e){if(!S.captureStacks)return;const t=Error.stackTraceLimit;try{var n;Error.stackTraceLimit=m;const t=new Error("capture stack frame");let i=((null===(n=t.stack)||void 0===n?void 0:n.replace(p,"").split("\n"))||[]).slice(e).map((e=>e.trim()));for(let e=i.length-1;e>=0;e--)if(o=i[e],!Boolean(o.match(f)||o.match(g))){const t=i.length-(e+1);i=i.slice(0,e+1),t>0&&i.push(`(Omitted ${t} framework frames in node_modules)`);break}return i.join("\n")}finally{Error.stackTraceLimit=t}var o}class b{constructor(){this.isActive=!1,this.captureStacks=!0,this.log=[],this.inputEvents=[],this.storeEmits=[],this.componentForceUpdates=[],this.componentRenders=[],this.storeListeners=new Map,this.latestPerformanceDebugGraph=void 0}}let y,S=new b;function w(e,t,n=!0){function o(){console.info("Starting perf"),I({captureStacks:n}),setTimeout((()=>{u().default.afterNextFlush((()=>{console.info("Stopping perf"),D(),console.info("Store emits:"),function(){const e={};i().__(S.storeEmits,(({storeName:t})=>{e[t]||(e[t]=0),e[t]++}));const t=Object.keys(e).map((t=>({storeName:t,emitCount:e[t]}))),n=i().Ul(t,(({emitCount:e})=>-1*e)),o=i().di(n,0,l);console.table(o),t.length>l&&console.info(`+ ${t.length-l} more updates`)}(),console.info("Component force updates:"),function(){const e=d().iY,t=i().$z(S.componentForceUpdates,(e=>e.stack)),n=Object.entries(t),o=i().Ul(n,(([e,t])=>-t.length)),r=o.map((([t,n])=>{const o=n.length,i=n.map((e=>e.componentName)),r=n.map((e=>e.storeName));return{Count:o,Components:e.countUniques(i),Stores:e.countUniques(r),StoreUpdateStack:e.div({},t)}}));console.log(d().iY.autoTable({rows:r,header:!0})),o.length>l&&console.info(`+ ${o.length-l} more updates`);console.info("Note: an 'undefined' storeName means the component updated for some reason other than a store emit.")}(),console.info("Component renders:"),function(){const e={};i().__(S.componentRenders,(({componentName:t})=>{e[t]||(e[t]=0),e[t]++}));const t=Object.keys(e).map((t=>({componentName:t,renderCount:e[t]}))),n=i().Ul(t,(({renderCount:e})=>-1*e)),o=i().di(n,0,l);console.table(o),t.length>l&&console.info(`+ ${t.length-l} more updates`)}(),console.info("Why components rendered after stores changed:"),console.info("  To fix, remove either codepath"),function(){const e=z(),t=i().$z(S.componentForceUpdates,(t=>{var n;const o=e.get(t);return`${(null==o||null===(n=o.emitted)||void 0===n?void 0:n.stack)||t.stack}:${null==o?void 0:o.listenStack}`})),n=d().iY,o=(0,r().WP)(t).map((([,t])=>{const o=e.get(t[0]),i=t.length,r=t.map((e=>e.componentName)),s=t.map((e=>(null==o?void 0:o.emitted.storeName)||e.storeName||"(unknown)")),a=(null==o?void 0:o.listenStack)||"(unknown)",d=(null==o?void 0:o.emitted.stack)||t[0].stack;return{Count:i,Components:n.countUniques(r),Stores:n.countUniques(s),ListenStack:n.div({},a),EmitStack:n.div({},d)}})).sort(((e,t)=>t.Count-e.Count)),s=o.slice(0,h),a={Count:"Count",Components:"Component",Stores:"Store",ListenStack:n.div({},n.div({},"ListenStack"),n.div({style:"white-space: auto"},"One (of possibly many) reason(s) why this component is subscribed to this store")),EmitStack:n.div({},n.div({},"EmitStack"),n.div({style:"white-space: auto"},"One (of possibly many) trigger(s) that caused the component's listener on this store to be woken up"))};console.info(n.autoTable({rows:s,header:a})),s.length<o.length&&(console.groupCollapsed(`+ ${o.length-h} more updates with causes`),console.info(n.autoTable({rows:o.slice(h),header:a})),console.groupEnd());const c=j();S.latestPerformanceDebugGraph=c,console.log('Performance debug graph (visualize this with "__console.performanceHelpers.renderLatestGraph()" or "notion ts-node src/tools/renderPerformanceDebugGraph.ts"):',c)}(),console.info("Input latency:"),W()}))}),t)}0===e?o():setTimeout(o,e)}function C(e){return S.isActive&&S.log.push(e),e}function k(e){S.isActive&&S.storeEmits.push(C({type:"store.emit",store:e,storeName:Q(e),stack:v(3)}))}function E(e,t){S.isActive&&C({type:"store.created",store:e,state:t,stack:v(0)})}function T(e,t){S.isActive&&C({type:"store.set",store:e,state:t,stack:v(4)})}function A(e,t){S.isActive&&C({type:"store.access",store:e,listener:t,stack:v(0)})}function L(e,t){S.isActive&&S.componentForceUpdates.push(C({type:"component.forceUpdate",component:e,componentName:e.componentName,store:t,storeName:null==t?void 0:t.constructor.name,stack:v(2)}))}function x(e,t,n){if(S.isActive){const o=C({type:"store.listeners.added",store:e,listener:t,stack:v(n)});let i=S.storeListeners.get(e);i||(i=new Map,S.storeListeners.set(e,i)),i.has(t)||i.set(t,o.stack)}}function R(e,t){if(S.isActive){C({type:"store.listeners.removed",store:e,listener:t,stack:v(0)});const n=S.storeListeners.get(e);if(!n)return;n.delete(t),0===n.size&&S.storeListeners.delete(e)}}function M(e,t){var n;S.isActive&&(n={type:"input.latency",metricType:e,timeMs:t},S.isActive&&S.inputEvents.push(n))}function I(e){S=new b,S.captureStacks=e.captureStacks,S.isActive=!0}function D(){S.isActive=!1}function N(){S.isActive=!0}function P(){if(S.isActive)return clearTimeout(y),y=void 0,D(),void W();console.info(`Recording input latency for ${s().Xb}ms (press Ctrl+Alt+Command+M again to end)`),I({captureStacks:!1}),clearTimeout(y),y=window.setTimeout((()=>{D()}),s().Xb)}function O(){return S.isActive}function U(){if(!S.isActive)throw new Error("performanceHelpers.start() must be called before getStateLog()");return S.log.slice()}function F(e){if(!S.isActive)throw new Error("performanceHelpers.start() must be called before getStateLog()");S.captureStacks=e.captureStacks}function $(e,t){return`${t}\n\nComputedStore listener:\n${e}`}function*K(e,t=new Set){if(!("autoListener"in e))return;const n=e.autoListener;for(const[o,i]of S.storeListeners){if(t.has(o))continue;if(!i.has(n))continue;t.add(o);const r=S.storeEmits.find((e=>e.store===o));if(!r)continue;const s=i.get(n);yield{computedStore:e,store:o,storeEmit:r,listenStack:s,seen:t}}}function _(e,t,n=new Set){for(const{store:o}of K(e,n)){let i=t.get(o);i||(i=new Set,t.set(o,i)),i.add(e),o instanceof a().ComputedStore&&_(o,t,n)}}function B(e,t=new Set){const n=new Map;for(const{store:o,listenStack:i,storeEmit:r}of K(e,t))if(o instanceof a().ComputedStore){const e=B(o,t);for(const[t,o]of e.entries()){let e=i;e&&o.stack&&(e=$(e,o.stack)),n.set(t,{stack:e,deepEmit:r})}}else n.set(o,{stack:i,deepEmit:r});return n}function*q(){for(const t of S.componentForceUpdates){var e;const{component:n,store:o}=t;if(!o)continue;const i=n,r=V(i,n),s=(null===(e=S.storeListeners.get(o))||void 0===e?void 0:e.get(i))||`No listen stack available for listener ${r}`,a=S.storeEmits.find((e=>e.store===o));a&&(yield{forceUpdate:t,component:n,store:o,listenStack:s,storeEmit:a})}}function j(){const e=new Map,t=new Map;for(const{component:n,store:o}of q()){let i=t.get(o);i||(i=new Set,t.set(o,i)),i.add(n),o instanceof a().ComputedStore&&_(o,e)}return(0,c().J)(t,e)}function z(){const e=new Map;for(const t of q()){const{store:n,forceUpdate:o}=t;let{listenStack:i,storeEmit:r}=t;if(r.store instanceof a().ComputedStore){const e=B(r.store);for(const[t,n]of e){r={type:"store.emit",store:n.deepEmit.store,stack:n.stack&&r.stack?`${n.stack}\n\nThen ComputedStore emitted:\n${r.stack}`:void 0,storeName:`${n.deepEmit.storeName} via ${r.storeName}`},n.stack&&(i=$(i,n.stack));break}}e.set(o,{listeningTo:n,listenStack:i,emitted:r})}return e}function W(){const e=i().$z(S.inputEvents,(e=>e.metricType)),t=Object.entries(e).map((([e,t])=>{const n=t.map((e=>e.timeMs)),o=i().Ul(n);return{type:e,count:n.length,min:o[0],max:o[o.length-1],mean:parseFloat(i().i2(n).toFixed(2)),p50:o[Math.floor(.5*o.length)],p75:o[Math.floor(.75*o.length)],p95:o[Math.floor(.95*o.length)]}}));console.table(i().Ul(t,"type"))}function V(e,t){return"debugName"in e?e.debugName:`${e.constructor.name} of ${t.debugName}`}function H(e=!1){if(!S.latestPerformanceDebugGraph)throw new Error("No latest performance debug graph exists! Please use runWithTimer() first.");{const t=(0,o().E)(S.latestPerformanceDebugGraph,e);window.open(`https://dreampuf.github.io/GraphvizOnline/#${encodeURIComponent(t)}`,"_blank")}}function Q(e){return e.debugName?e.debugName:e.constructor.name}},993905:(e,t,n)=>{n.d(t,{s:()=>a});var o=n(296540),i=()=>n(872994),r=n(474848);const s={WebkitUserSelect:"none",userSelect:"none",pseudoSelection:{background:"transparent"}},a=o.forwardRef(((e,t)=>{const{allowSelectionWithin:o,style:a,className:d,...c}=e,u=(0,i().y)(),l=(0,r.jsx)("div",{ref:t,contentEditable:!1,...(0,n(451306).ow)(d,!o&&s,a),...n(901167).t_,...c});return u?(0,r.jsx)(i().e,{void:!0,children:l}):l}));a.displayName="ContentEditableVoid"}}]);