"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[92924],{92924:(e,t,n)=>{n.d(t,{i:()=>me});var r=n(296540),l=()=>n(590526),i=()=>n(401497),o=()=>n(493552),a=()=>n(669647),s=()=>n(100622),d=()=>n(913454),c=(n(898992),n(354520),n(672577),n(581454),()=>n(521381)),p=()=>n(784892),u=()=>n(534177),h=()=>n(399762),m=n(474848);const x=6;function y({flushRight:e,hasShadow:t,style:n,children:r}){const l=(0,i().IS)((()=>{const r=(null==n?void 0:n.borderRadius)??4;return{card:{display:"flex",flexDirection:"column",gap:3,marginBottom:t?5:4,padding:x,paddingInlineEnd:e?0:x,borderRadius:r,borderStartEndRadius:e?0:r,borderEndEndRadius:e?0:r,...t?{boxShadow:s().Tj.shadowXS}:{border:`1px solid ${s().Tj.border.secondary}`,borderInlineEndWidth:e?0:1},...n}}}),[e,t,n]);return(0,m.jsx)("div",{style:l.card,children:r})}function f({style:e}){const t=(0,i().IS)((()=>({textSkeleton:{width:"60%",height:10,backgroundColor:s().Tj.gray.background.secondaryTranslucent,borderRadius:6,...e}})),[e]);return(0,m.jsx)("div",{style:t.textSkeleton})}function g(e){return(0,m.jsx)("div",{children:"status"===e.type?(0,m.jsx)(h().q,{value:e.value,color:e.color,format:p().NY.ExtremeSmall,showRemoveButton:!1,isSingle:!0,groupColor:e.color}):(0,m.jsx)(h().O,{format:p().NY.ExtremeSmall,value:e.value,color:e.color,showRemoveButton:!1,isSingle:!0})})}function v({index:e}){const t=(0,r.useCallback)((e=>({height:5,...e&&{width:e}})),[]);return 0===e?(0,m.jsxs)("div",{children:[(0,m.jsx)(y,{children:(0,m.jsx)(f,{style:t()})}),(0,m.jsx)(y,{style:{height:"30px"},children:(0,m.jsx)(f,{style:t("80%")})})]}):1===e?(0,m.jsxs)("div",{children:[(0,m.jsxs)(y,{children:[(0,m.jsx)(f,{style:t("100%")}),(0,m.jsx)(f,{style:t()})]}),(0,m.jsx)(y,{children:(0,m.jsx)(f,{style:t()})})]}):(0,m.jsx)("div",{children:(0,m.jsx)(y,{children:(0,m.jsx)(f,{style:t()})})})}const j={type:"select",columns:[]};var w=()=>n(675133),b=()=>n(148307),S=()=>n(738471);const T=6,I=20,k=(0,n(69708).YK)({sunday:{id:"workflowTemplatesOnboarding.calendarThumbnail.sunday",defaultMessage:"Sun"},monday:{id:"workflowTemplatesOnboarding.calendarThumbnail.monday",defaultMessage:"Mon"},tuesday:{id:"workflowTemplatesOnboarding.calendarThumbnail.tuesday",defaultMessage:"Tue"}}),C=[{label:w().A.formatMessage(k.sunday)},{label:w().A.formatMessage(k.monday)},{label:w().A.formatMessage(k.tuesday)},{label:""}];function R(e){const{index:t,flushRight:n}=e,r=(0,i().IS)((()=>({container:{padding:T,paddingInlineEnd:n?0:T,border:`1px solid ${s().Tj.border.secondary}`,borderInlineEnd:0,borderBottom:0,borderStartStartRadius:0===t?3:0}})),[t,n]);return(0,m.jsx)("div",{style:r.container,children:(0,m.jsx)(_,{...e})})}function _(e){const{index:t,flushRight:n}=e,l=(0,i().IS)((()=>({skeleton:{width:"100%",height:5,borderRadius:I,borderStartEndRadius:n?0:I,borderEndEndRadius:n?0:I},avatarRow:{display:"flex",alignItems:"center",gap:4},avatarWrapper:{width:12,height:12,flexShrink:0,borderRadius:"100%",border:`0.5px solid ${s().Tj.border.secondary}`,overflow:"hidden"},avatar:{width:"100%",height:"100%"}})),[n]),o=(0,r.useMemo)((()=>({hasShadow:!0,style:{borderRadius:3},...e})),[e]);return t%3==0?(0,m.jsx)(y,{...o,children:(0,m.jsx)(f,{style:l.skeleton})}):t%2==0?(0,m.jsxs)(y,{...o,children:[(0,m.jsx)(f,{style:l.skeleton}),(0,m.jsxs)("div",{style:l.avatarRow,children:[(0,m.jsx)("div",{style:l.avatarWrapper,children:(0,m.jsx)(S().A,{src:b().A.images.workflowTemplates.previewAvatar1Png,style:l.avatar})}),(0,m.jsx)(f,{style:l.skeleton})]})]}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(y,{...o,children:(0,m.jsx)(f,{style:l.skeleton})}),(0,m.jsx)(y,{...o,children:(0,m.jsx)(f,{style:l.skeleton})})]})}const E=.7;function A({type:e}){const t=(0,i().eP)(),n=(0,i().IS)((()=>{const e=s().Tj.gray.background.primaryTranslucent;return{container:{display:"flex",flexDirection:"column",justifyContent:"stretch",width:84,height:48+2*E,backgroundColor:"light"===t?s().Tj.background.secondary:s().Tj.boardItemDefaultBackground,borderRadius:4,overflow:"hidden",border:`${E}px solid ${s().Tj.border.secondary}`},image:{overflow:"hidden",flexGrow:1,flexShrink:1,borderStartStartRadius:4,borderStartEndRadius:4},caption:{display:"flex",alignItems:"center",justifyContent:"flex-start",height:16+E,flexShrink:0,backgroundColor:"light"===t?s().Tj.white:s().Tj.background.secondaryTranslucent,borderTop:`${E}px solid ${s().Tj.border.secondary}`,paddingInlineStart:6},captionText:{backgroundColor:e,borderRadius:20,width:35,height:5},shapeFill:{fill:e,backgroundColor:e}}}),[t]);let r;return"circle"===e?r=(0,m.jsx)($,{fillStyle:n.shapeFill}):"rectangle"===e?r=(0,m.jsx)(P,{fillStyle:n.shapeFill}):"triangle"===e&&(r=(0,m.jsx)(M,{fillStyle:n.shapeFill})),(0,m.jsxs)("div",{style:n.container,children:[(0,m.jsx)("div",{style:n.image,children:r}),(0,m.jsx)("div",{style:n.caption,children:(0,m.jsx)("div",{style:n.captionText})})]})}const V=58;function $({fillStyle:e}){const t=(0,i().IS)((()=>({container:{position:"relative",overflow:"hidden",width:"100%",height:"100%"},circle:{position:"absolute",insetInlineStart:`calc(50% - ${V/2}px)`,top:"30%",width:V,height:V,borderRadius:"100%",backgroundColor:e.backgroundColor}})),[e]);return(0,m.jsx)("div",{style:t.container,children:(0,m.jsx)("div",{style:t.circle})})}function M({fillStyle:e}){const t=(0,i().IS)((()=>({container:{display:"flex",flexDirection:"column",justifyContent:"flex-end",overflow:"hidden",width:"100%",height:"100%"},pyramidsContainer:{fill:e.fill}})),[e]);return(0,m.jsx)("div",{style:t.container,children:(0,m.jsx)("div",{style:t.pyramidsContainer,children:(0,m.jsxs)("svg",{viewBox:"0 0 84 23",children:[(0,m.jsx)("defs",{children:(0,m.jsxs)("clipPath",{id:"shape",children:[(0,m.jsx)("rect",{x:"-25.4688",y:"57.5312",width:"71.4619",height:"71.4619",transform:"rotate(-45 -25.4688 57.5312)"}),(0,m.jsx)("rect",{x:"3.53125",y:"50.5312",width:"71.4619",height:"71.4619",transform:"rotate(-45 3.53125 50.5312)"})]})}),(0,m.jsx)("g",{clipPath:"url(#shape)",children:(0,m.jsx)("rect",{width:"100%",height:"100%"})})]})})})}function P({fillStyle:e}){const t=(0,i().IS)((()=>({container:{position:"relative",overflow:"hidden",width:"100%",height:"100%"},rectangle:{position:"absolute",top:10,insetInlineEnd:10,insetInlineStart:10,bottom:0,borderStartStartRadius:1,borderStartEndRadius:1,backgroundColor:e.backgroundColor}})),[e]);return(0,m.jsx)("div",{style:t.container,children:(0,m.jsx)("div",{style:t.rectangle})})}n(517642),n(658004),n(733853),n(845876),n(432475),n(515024),n(731698);var B=()=>n(466934),W=()=>n(489242),z=()=>n(496603);const D=3,O={templateId:"name",type:"property",value:{name:"Name",type:"title"}};function N({properties:e,collectionViewTemplate:t}){return e.map((e=>{if("status"!==e.value.type)return e;const n=function({propertyTemplate:e,collectionViewTemplate:t}){const n=e.templateId,r=F(t),l=Y(t);return r.find((e=>n===l[e.property]))}({propertyTemplate:e,collectionViewTemplate:t});return"checkbox"===(null==n?void 0:n.statusShowAs)?{...e,value:{...e.value,type:"checkbox"}}:e}))}function K({userCustomizations:e,collectionViewTemplate:t}){const n=(0,d().getPropertyTemplates)(e.featureTemplateSelections.filter((e=>e.selected)).map((e=>e.template))),r=function({collectionViewTemplate:e}){const t=Y(e),n=F(e),r=new Set;for(const l of n){const e=t[l.property];l.visible&&r.add(e)}return r}({collectionViewTemplate:t});return[n.find(W().eP)??O,...n.filter(B().QT).filter((e=>!(0,W().eP)(e))).filter((e=>r.has(e.templateId)))]}function F(e){var t,n,r,l,i,o;switch(e.value.type){case"table":return(null===(t=e.value.format)||void 0===t?void 0:t.table_properties)??[];case"list":return(null===(n=e.value.format)||void 0===n?void 0:n.list_properties)??[];case"gallery":return(null===(r=e.value.format)||void 0===r?void 0:r.gallery_properties)??[];case"board":return(null===(l=e.value.format)||void 0===l?void 0:l.board_properties)??[];case"calendar":return(null===(i=e.value.format)||void 0===i?void 0:i.calendar_properties)??[];case"timeline":return(null===(o=e.value.format)||void 0===o?void 0:o.timeline_properties)??[];case"page":case"chart":case"form_editor":case"feed":case"map":case"chat":case"custom":case"dashboard":case"teamspace_directory":case"library_external_pages":return[];default:(0,u().HB)(e.value.type)}}function Y({dependencyMap:e}){const t={};for(const[n,r]of(0,u().WP)(e??{})){const e=(0,a().lS)(n);e&&(t[e]=r)}return t}function q(e){const t=e.options;return null!=t&&t.length?Array.from({length:D}).map(((e,n)=>{const r=n%t.length;return t[r]})):[]}var G=()=>n(420802);const H=[!0,!1,!1];function Q({rowIndex:e,style:t}){return(0,m.jsx)(G().S,{checked:H[e]??!1,disabled:!0,size:10,style:t})}const U=5;function X(e){const t=function(e){return 60+(2*(e+3)+43)%(e%5+2)*5}(e);return{width:`${t}%`,maxWidth:"80%",height:U}}const J=[30,45,35,40];function L({index:e,offset:t}){return{width:J[(e+t)%J.length],height:U}}const Z=[{avatarSrc:b().A.images.workflowTemplates.previewAvatar1Png,name:""},{avatarSrc:b().A.images.workflowTemplates.previewAvatar2Png,name:""},{avatarSrc:b().A.images.workflowTemplates.previewAvatar3Png,name:""}];function ee(e){const t=(0,i().IS)((()=>({container:{display:"flex",alignItems:"center",width:"100%",gap:4,...e.containerStyle},avatarWrapper:{display:"flex",alignItems:"center",justifyContent:"center",width:12,height:12,boxSizing:"content-box",borderRadius:"100%",overflow:"hidden",border:`1px solid ${s().Tj.border.secondary}`,flexShrink:0},avatarImage:{width:"100%",height:"100%",borderRadius:"100%"}})),[e.containerStyle]),n=Z[e.index%Z.length];return(0,m.jsxs)("div",{style:t.container,children:[(0,m.jsx)("div",{style:t.avatarWrapper,children:(0,m.jsx)(S().A,{src:n.avatarSrc,style:t.avatarImage})}),e.showNameSkeleton?(0,m.jsx)(f,{style:X(e.index)}):null]})}function te({rowIndex:e,propertySchema:t}){const n=q(t),r=n[e%n.length];return r?"status"===t.type?(0,m.jsx)(h().q,{value:r.value,color:r.color,format:p().NY.ExtremeSmall,showRemoveButton:!1,isSingle:!0,groupColor:r.color}):(0,m.jsx)(h().O,{format:p().NY.ExtremeSmall,value:r.value,color:r.color,showRemoveButton:!1,isSingle:!0}):null}const ne=18,re=Object.freeze(new Set(["title","select","person","multi_select","status","checkbox"]));function le(e){return(0,u().y$)(re,e.value.type)}function ie({propertyTemplates:e,rowIndex:t,containerStyle:n}){return(0,m.jsx)("div",{style:{display:"flex",gap:4,height:ne,alignItems:"center",overflow:"hidden",...n},children:e.map((e=>(0,m.jsx)(ae,{property:e,index:t},e.templateId)))})}const oe=[117,136,128];function ae({property:e,index:t}){const n=(0,i().IS)((()=>{const e={display:"flex",overflow:"hidden"};return{textSkeleton:{...e,height:5,width:oe[t]??oe[0],minWidth:25,maxWidth:"80%"},checkbox:{...e,flexShrink:0},person:{...e,width:"unset",flexShrink:0}}}),[t]);switch(e.value.type){case"title":return(0,m.jsx)(f,{style:n.textSkeleton});case"checkbox":return(0,m.jsx)(Q,{rowIndex:t,style:n.checkbox});case"status":case"select":case"multi_select":return(0,m.jsx)(te,{rowIndex:t,propertySchema:e.value});case"person":return(0,m.jsx)(ee,{index:t,showNameSkeleton:!1,containerStyle:n.person});default:return null}}function se({propertySchema:e,columnIndex:t,rowIndex:n,templateIndex:r}){const l=(0,i().IS)((()=>({container:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",width:"100%",height:"100%"}})),[]);return(0,m.jsx)("div",{style:l.container,children:(0,m.jsx)(de,{propertySchema:e,columnIndex:t,rowIndex:(n+r)%3})})}function de({propertySchema:e,columnIndex:t,rowIndex:n}){switch(e.type){case"number":return(0,m.jsx)(f,{style:L({index:n,offset:t})});case"text":case"title":return(0,m.jsx)(f,{style:X(n)});case"select":case"multi_select":case"status":return(0,m.jsx)(te,{rowIndex:n,propertySchema:e});case"created_time":case"last_edited_time":case"last_visited_time":case"date":return(0,m.jsx)(f,{style:{width:"70%",maxWidth:"70%",height:U}});case"created_by":case"last_edited_by":case"person":return(0,m.jsx)(ee,{index:n,showNameSkeleton:!0});case"checkbox":return(0,m.jsx)(Q,{rowIndex:n});default:return null}}const ce=r.memo(se);function pe({template:e,viewTemplate:t,index:r}){const a=(0,l().K8)((()=>K({userCustomizations:(0,B().ET)({template:e}),collectionViewTemplate:t}).splice(0,3)),[e,t]),d=(0,i().IS)((()=>({table:{display:"grid",gridTemplateColumns:"repeat(3, minmax(0, 1fr))",gridTemplateRows:"repeat(4, 20px)"},tableCell:{display:"flex",alignItems:"center",justifyContent:"flex-start",paddingTop:1,marginBottom:-1,borderBottom:`1px solid ${s().Tj.border.secondary}`,paddingInlineStart:4,paddingInlineEnd:8},propertyTitle:{fontSize:9,...n(284371).RC}})),[]);return(0,m.jsxs)("div",{style:d.table,children:[a.map((e=>(0,m.jsx)("div",{style:d.tableCell,children:(0,m.jsx)(o().D,{styleKey:"captionRegular",colorVariant:"secondary",style:d.propertyTitle,children:e.value.name})},`header-${e.templateId}`))),Array.from({length:3}).map(((e,t)=>a.map(((e,n)=>(0,m.jsx)("div",{style:d.tableCell,children:(0,m.jsx)(ce,{propertySchema:e.value,rowIndex:t,columnIndex:n,templateIndex:r})},`row-${t}-${e.templateId}`)))))]})}const ue={table:pe,gallery:function({template:e,index:t}){const n=(0,i().IS)((()=>({container:{display:"flex",gap:6,overflow:"hidden",height:"100%",width:"fit-content",marginTop:8,marginBottom:6,marginInlineStart:4}})),[]);return(0,m.jsxs)("div",{style:n.container,children:[(0,m.jsx)(A,{type:"circle"}),(0,m.jsx)(A,{type:"triangle"}),(0,m.jsx)(A,{type:"rectangle"})]})},board:function({viewTemplate:e}){const t=function(e){return(0,l().K8)((()=>{var t,n;const r=(null===(t=e.value.format)||void 0===t||null===(t=t.board_columns)||void 0===t?void 0:t.map((e=>"string"==typeof e.value.value?e.value.value:void 0)).filter(u().O9))??[],l=null===(n=e.value.format)||void 0===n?void 0:n.board_columns_by,{dependencyMap:i}=e;if(!l||!i)return j;const o=i[`property:${l.property}`];if(!o)return j;let a;try{a=d().globalWorkflowTemplates.fromIdOfType({templateId:o,type:"property"})}catch(s){return j}return(0,c().V)(a)?{type:a.value.type,columns:r.length>0?r.map((e=>{var t;return null===(t=a.value.options)||void 0===t?void 0:t.find((t=>t.value===e))})).filter(u().O9):a.value.options??[]}:j}),[e])}(e),n=(0,i().IS)((()=>({container:{display:"flex",flexDirection:"column",gap:6,paddingTop:8,paddingInlineEnd:8,paddingInlineStart:4},grid:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:6}})),[]),o=(0,r.useMemo)((()=>t.columns.slice(0,3)),[t]);return(0,m.jsxs)("div",{style:n.container,children:[(0,m.jsx)("div",{style:n.grid,children:o.map((e=>(0,m.jsx)(g,{id:e.id,value:e.value,color:e.color,type:t.type},e.id)))}),(0,m.jsx)("div",{style:n.grid,children:o.map(((e,t)=>(0,m.jsx)(v,{index:t},e.id)))})]})},calendar:function(){const e=(0,i().IS)((()=>({container:{paddingTop:8,paddingInlineStart:4,display:"grid",gridTemplateColumns:`repeat(${C.length-1}, 1fr) 0.33fr`},columnTitle:{textAlign:"center",fontSize:9,lineHeight:1,color:s().Tj.text.secondary,paddingBottom:3}})),[]);return(0,m.jsxs)("div",{style:e.container,children:[C.map(((t,n)=>(0,m.jsx)("div",{style:e.columnTitle,children:t.label},n))),Array.from({length:C.length}).map(((e,t)=>(0,m.jsx)(R,{index:t,flushRight:t===C.length-1},t)))]})},list:function({template:e,viewTemplate:t}){const n=(0,l().K8)((()=>{const n=function({propertyTemplates:e,collectionViewTemplate:t}){var n;const r=null===(n=e.find((e=>"title"===e.value.type)))||void 0===n?void 0:n.templateId,l={...Y(t),...r&&{title:r}},i=F(t),o=new Map(i.map(((e,t)=>[l[e.property],t])));return(0,z().Ul)(e,(e=>{const t=o.get(e.templateId);return void 0===t?1/0:t}))}({propertyTemplates:K({userCustomizations:(0,B().ET)({template:e}),collectionViewTemplate:t}).filter(le),collectionViewTemplate:t}),r=N({properties:n,collectionViewTemplate:t});return l=r,(0,z().hS)(l,(e=>(0,c().V)(e)?"select":e.value.type));var l}),[e,t]),o=n.findIndex((e=>"title"===e.value.type)),a=(0,r.useMemo)((()=>n.slice(0,o+1)),[n,o]),s=(0,r.useMemo)((()=>n.slice(o+1)),[n,o]),d=(0,i().IS)((()=>({container:{display:"flex",flexDirection:"column",gap:0,marginTop:6},row:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:6,overflow:"hidden",height:ne,width:"100%",paddingInlineEnd:8,paddingInlineStart:4},leftPropertyValues:{flexShrink:1},rightPropertyValues:{justifyContent:"flex-end",flexShrink:0}})),[]);return(0,m.jsx)("div",{style:d.container,children:Array.from({length:3}).map(((e,t)=>(0,m.jsxs)("div",{style:d.row,children:[(0,m.jsx)(ie,{propertyTemplates:a,rowIndex:t,containerStyle:d.leftPropertyValues}),(0,m.jsx)(ie,{propertyTemplates:s,rowIndex:t,containerStyle:d.rightPropertyValues})]},t)))})}},he=pe,me=r.memo((function({template:e,index:t,templateColor:r}){const c=e.value.targetCollection.name,p=(0,i().IS)((()=>({container:{display:"flex",flexDirection:"column",paddingTop:12,paddingInlineStart:12,backgroundColor:s().Tj[r].background.elevated},header:{display:"flex",alignItems:"center",gap:4,marginInlineStart:4}})),[r]),u=(0,l().K8)((()=>{const t=(0,n(663077).A6)(e,d().globalWorkflowTemplates);return t.length>0?t[0]:d().globalWorkflowTemplates.fromIdOfType({templateId:n(536095).Gs,type:"collection_view"})}),[e]),h=(0,a().QE)(u.value.type)?ue[u.value.type]:he;return(0,m.jsxs)("div",{style:p.container,children:[(0,m.jsxs)("div",{style:p.header,children:[(0,m.jsx)(n(902842).z,{template:e,size:12}),(0,m.jsx)(o().D,{styleKey:"captionMedium",children:c})]}),(0,m.jsx)(h,{template:e,viewTemplate:u,index:t})]})}))}}]);