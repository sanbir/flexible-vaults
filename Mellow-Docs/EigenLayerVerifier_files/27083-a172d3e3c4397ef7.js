"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[27083],{8802:(e,t,i)=>{i.d(t,{d:()=>u});i(296540);var n=()=>i(590526),o=()=>i(302501),a=()=>i(764880),r=()=>i(53528),s=()=>i(931075),l=()=>i(69708),d=()=>i(534177),c=i(474848);function u(e){const{getRecordModel:t,actorPointer:i,verificationState:u}=e,p=(0,l().tz)(),f=(0,n().K8)((()=>(0,a().lR)(p,(0,a().xC)({pointer:i,getRecordModel:t}))),[t,p,i]);let v;switch(u.type){case"none":return null;case"verified":case"expired":v=(0,c.jsx)(l().sA,{defaultMessage:"Last verified by {user}",id:"VerificationMetadata.lastVerified",values:{user:f}});break;case"archived":v=(0,c.jsx)(l().sA,{defaultMessage:"Archived by {user}",id:"VerificationMetadata.archived",values:{user:f}});break;default:(0,d().HB)(u)}const y=(0,s().gi)(u);return(0,c.jsxs)("div",{style:{padding:"8px 14px"},children:[(0,c.jsx)(o().A,{isSmall:!0,isSecondaryColor:!0,isMultiline:!0,style:{marginBottom:4},children:v}),(0,c.jsx)(o().A,{isSmall:!0,isSecondaryColor:!0,children:(0,r().OH)({dateTime:y,intl:p})})]})}},91910:(e,t,i)=>{i.d(t,{Z:()=>d});i(296540);var n=()=>i(726637),o=()=>i(401497),a=()=>i(100622),r=()=>i(284371),s=()=>i(553748),l=i(474848);function d({verificationState:e}){const t=(0,o().IS)((()=>({headerStyle:{padding:n().A.isMobile?10:7,paddingInlineStart:n().A.isMobile?20:7,background:n().A.isMobile?a().Tj.popoverBackground:a().Tj.tokenInputMenuItemBackground,display:"flex",alignItems:"center",borderBottom:`1px solid ${a().Tj.border.secondaryTranslucent}`}})),[]);return"none"===e.type?null:(0,l.jsx)("div",{style:t.headerStyle,children:(0,l.jsx)(s().r,{verificationState:e,fontSize:n().A.isMobile?r().J.UIRegular.mobile:void 0})})}},282464:(e,t,i)=>{i.d(t,{n:()=>n});const n=(0,i(69708).YK)({expirationProperty:{defaultMessage:"Expiration",id:"verificationHelpers.menuTitle.Expiration"},noExpiration:{defaultMessage:"None",id:"verificationHelpers.noExpiration"},verifierProperty:{defaultMessage:"Owner",id:"verificationHelpers.menuTitle.Owner"},noOwners:{defaultMessage:"No owners",id:"verificationHelpers.noOwners.placeholder"},removeVerificationProperty:{defaultMessage:"Remove verification",id:"verificationHelpers.removeVerification"},removeArchivedStatus:{defaultMessage:"Remove archived status",id:"verificationHelpers.removeArchivedStatus"},nonOwnerCannotRemoveVerification:{defaultMessage:"Only owners can remove verification",id:"verificationHelpers.nonOwnerCannotRemoveVerification"},nonOwnerCannotRemoveArchival:{defaultMessage:"Only owners can remove archived status",id:"verificationHelpers.nonOwnerCannotRemoveArchival"},nonOwnersCannotEditVerification:{defaultMessage:"Only owners can edit verification",id:"verificationHelpers.nonOwnersCannotEditVerification"},ownersAttribution:{defaultMessage:"{numOtherActors, plural, =0 {{actorName}} one {{actorName} and {numOtherActors} other} other {{actorName} and {numOtherActors} others}}",id:"verificationHelpers.displayPageOwners"},verificationMenuTitle:{defaultMessage:"Configure Verification",id:"verificationHelpers.verificationMenu.menuTitle.configureVerification"},verificationMenuTitleArchived:{defaultMessage:"Configure archived status",id:"verificationHelpers.verificationMenu.menuTitle.configureArchival"},addVerificationMenuTitle:{defaultMessage:"Verification Status",id:"verificationHelpers.verificationMenu.menuTitle.addVerification"}})},349851:(e,t,i)=>{i.d(t,{q:()=>s,y:()=>l});var n=()=>i(564884),o=()=>i(931075),a=()=>i(534177),r=()=>i(470928);function s(e){const{environment:t,blockStore:i,update:o}=e,r=function(e){switch(e){case"add":return"page_verification_enabled";case"update":return"page_verification_edited";case"remove":return"page_verification_disabled";default:(0,a().HB)(e)}}(o.metadata.action),s=i.id,l=i.getAssociatedCollectionId(),d=i.getSpaceId(),c=o.metadata.entrypoint;let u=l?"db":"non_db";if(l){const e=i.getAssociatedCollectionStore();null!=e&&e.isPageTreeCollection()&&(u="wiki")}switch(r){case"page_verification_enabled":case"page_verification_edited":(0,n().u)({environment:t,event:{eventName:r,eventProperties:{entrypoint:c,page_type:u,verification_type:o.metadata.verification_type,page_id:s,collection_id:l,space_id:d,expiration:o.metadata.expiration??void 0,expiration_date:o.metadata.expiration_date??void 0}}});break;case"page_verification_disabled":(0,n().u)({environment:t,event:{eventName:r,eventProperties:{entrypoint:c,page_type:u,verification_type:o.metadata.verification_type,page_id:s,collection_id:l,space_id:d}}});break;default:(0,a().HB)(r)}}function l(e){const{environment:t,blockStore:i,entrypoint:a,action:s}=e,l=i.id,d=i.getAssociatedCollectionId(),c=i.getSpaceId();let u=d?"db":"non_db";if(d){const e=i.getAssociatedCollectionStore();null!=e&&e.isPageTreeCollection()&&(u="wiki")}const p=(0,r().i1)(i),f="none"===p.type?void 0:(0,o().Ep)(p);(0,n().u)({environment:t,event:{eventName:"page_verification_owner_edited",eventProperties:{entrypoint:a,page_type:u,action:s,verification_type:f,page_id:l,collection_id:d,space_id:c}}})}},372457:(e,t,i)=>{i.d(t,{y:()=>U,u:()=>X});var n=i(296540),o=()=>i(314529),a=()=>i(664594),r=()=>i(726637),s=()=>i(484714),l=()=>i(245720),d=()=>i(546926),c=()=>i(890492),u=()=>i(604995),p=()=>i(416504),f=()=>i(798880),v=()=>i(931075),y=()=>i(69708),g=()=>i(546747),m=()=>i(722929),h=()=>i(906745),x=()=>i(590526),b=()=>i(401497),M=()=>i(736847),C=()=>i(100622),S=()=>i(657338),k=()=>i(573710),w=()=>i(180252),j=i(474848);const T=(0,y().YK)({placeholder:{id:"VerificationExpiryMenu.pickSpecificDate.placeholder",defaultMessage:"Pick a date"}});function A(e){const t=(0,y().tz)(),{onChange:i,clearCustomDatePicker:o,verificationState:a,addExtraTopPadding:s}=e,l=(0,n.useRef)(e.today),d=(0,n.useRef)(e.today.plus({days:1})),[c,p]=(0,n.useState)(!1),f=(0,x().O$)(w().XX),v="verified"!==a.type||a.isIndefinite?void 0:a.dateTimeRange.end,g=(0,b().IS)((()=>({containerStyle:{paddingTop:s?12:4,paddingBottom:12},mobileContainerStyle:{paddingBottom:10},calendar:r().A.isMobile?{padding:"16px 14px 16px",borderBottom:`1px solid ${C().Tj.border.secondaryTranslucent}`,background:C().Tj.popoverBackground,marginTop:27,boxShadow:`0 -1px 0 ${C().Tj.border.secondaryTranslucent}`}:{},input:r().A.isMobile?{padding:"16px 0",marginTop:0}:{}})),[s]);return(0,j.jsxs)(M().A,{mobileStyle:g.mobileContainerStyle,style:g.containerStyle,disableMobilePadding:!0,children:[(0,j.jsx)(S().A,{placeholder:t.formatMessage(T.placeholder),focused:c,value:"verified"!==e.verificationState.type||e.verificationState.isIndefinite?void 0:u().lN(e.verificationState.dateTimeRange.end),onUpdate:e=>{if(e.error)return;const t=e.value&&u().Dz(e.value);t?i({range:{start:l.current,end:t.start}}):o()},onFocus:()=>p(!0),onBlur:()=>p(!1),onClearButtonClick:o,hideClearButton:!0,style:g.input}),(0,j.jsx)("div",{style:g.calendar,children:(0,j.jsx)(k().A,{firstDayOfWeek:f,value:(null==v?void 0:v.toMillis())||d.current.toMillis(),selectValue:Boolean(v),onChange:e=>{i({range:{start:l.current,end:h().DateTime.fromMillis(e)},option:"custom"})},disabledDays:{before:new Date(d.current.toMillis())},className:"notion-date-property-menu"})})]})}i(581454);var _=()=>i(792485),B=()=>i(876338),I=()=>i(807449),E=()=>i(81068),R=()=>i(68913);const O={viewBox:"0 0 20 20",fittedViewBox:"1.37 6.18 17.25 7.64",svg:(0,j.jsx)("path",{d:"M17.375 10c0-2.206-2.602-3.38-4.256-1.92L10.944 10l2.175 1.92c1.654 1.46 4.256.286 4.256-1.92m-14.75 0c0 2.206 2.602 3.38 4.256 1.92L9.055 10 6.88 8.08C5.227 6.62 2.625 7.794 2.625 10m16 0c0 3.282-3.873 5.03-6.333 2.857L10 10.833l-2.292 2.024c-2.46 2.172-6.333.425-6.333-2.857s3.872-5.03 6.333-2.857L10 9.166l2.292-2.023c2.46-2.172 6.333-.425 6.333 2.857"})},P=(0,i(340498).wt)("infinity",O,"default");var V=()=>i(42583),D=()=>i(53528),H=()=>i(115512),L=()=>i(528093),F=()=>i(704658);function z(e){const{verificationState:t,onChange:i,onCustomDateClick:o,showTitle:a,showUpsell:r}=e,l=(0,s().v3)(),d=(0,y().tz)(),c=(0,_().S)(),u=(0,n.useRef)(e.today),p=(0,b().IS)((()=>({title:{fontSize:H().vQ,color:C().Tj.text.primary},disabledTitle:{color:C().Tj.text.secondary},disabledCaption:{color:C().Tj.text.tertiary},disabledButton:{color:C().Tj.text.tertiary},upsellContainer:{paddingTop:12,paddingInlineEnd:12,paddingBottom:0,paddingInlineStart:12}})),[]),f="expired"===t.type||"archived"===t.type||"none"===t.type?(0,j.jsx)(y().sA,{defaultMessage:"Verify page",id:"VerificationExpiryPicker.verify.header"}):(0,j.jsx)(y().sA,{defaultMessage:"Reverify page",id:"VerificationExpiryPicker.reverify.header"}),g="verified"===t.type&&t.isIndefinite,m="verified"===t.type&&!t.isIndefinite&&t.dateTimeRange.end,h=Boolean(r),S=(0,x().K8)((()=>(0,B().$)(c)),[c]),k=null==S?void 0:S.id,w=(0,L()._)({name:"verified_pages",spaceId:k,userId:l.currentUser.id});return(0,j.jsxs)("div",{children:[r&&null!=w&&w.upsell?(0,j.jsx)("div",{style:p.upsellContainer,children:(0,j.jsx)(F().UpgradeButton,{display:"button",upsell:null==w?void 0:w.upsell,source:"verification_upsell_item_page_entrypoint",spaceStore:S})}):void 0,(0,j.jsxs)(M().A,{title:a&&f,children:[v().yj.map((e=>{const t=m&&v().gj({start:u.current,end:m})===e;return(0,j.jsx)(E().A,{buttonStyle:h?p.disabledButton:void 0,disabled:h,focused:!1,icon:(0,j.jsx)(I().I,{icon:R().alarmIcon}),inline:!1,title:(0,j.jsx)("span",{style:h?p.disabledTitle:p.title,children:(0,j.jsx)(y().sA,{defaultMessage:"For {numDays} days",id:"VerificationExpiryMenu.preset.title",values:{numDays:e}})}),caption:d.formatMessage({defaultMessage:"Until {date}",id:"VerificationExpiryMenu.preset.subtitle"},{date:D().OH({dateTime:v().RD(e,u.current).end,intl:d,shortenDateAndRange:!0})}),captionStyle:h?p.disabledCaption:void 0,isChecked:Boolean(t),onClick:()=>{return t=e,void i({range:{start:u.current,end:u.current.plus({days:t})},option:`${t}d`});var t}},e)})),(0,j.jsx)(E().A,{buttonStyle:h?p.disabledButton:void 0,disabled:h,focused:!1,icon:(0,j.jsx)(I().I,{icon:P}),inline:!1,title:(0,j.jsx)("span",{style:h?p.disabledTitle:p.title,children:(0,j.jsx)(y().sA,{defaultMessage:"Indefinitely",id:"VerificationExpiryPicker.option.indefinitely"})}),onClick:()=>i({option:"indefinite"}),isChecked:g},"indefinite"),(0,j.jsx)(E().A,{buttonStyle:h?p.disabledButton:void 0,disabled:h,focused:!1,icon:(0,j.jsx)(I().I,{icon:V().D}),title:(0,j.jsx)("span",{style:h?p.disabledTitle:p.title,children:(0,j.jsx)(y().sA,{defaultMessage:"Pick a date",id:"VerificationExpiryPicker.option.customDate"})}),onClick:o},"custom")]})]})}var N=()=>i(623422),$=()=>i(91910);function U(e){const{verificationValue:t,getRecordModel:i,onChange:o,blockId:h,propertyName:x,onClose:b,showTitle:M,showRemoveVerificationButton:C,showVerificationFooter:S,showCurrentStatusHeader:k,showCustomHeader:w,customHeader:T,showUpsell:_,entrypoint:B}=e,I=(0,s().v3)(),E=(0,a().T)(),R=(0,y().tz)(),[O,P]=(0,n.useState)(!1),V=(0,n.useMemo)((()=>v().B2(t)),[t]),D=(0,n.useRef)(u().ah((0,p().P)())),H=(0,n.useRef)(u().ah((0,p().P)()).plus({days:1})),L=e=>{const{range:t,option:i}=e;if(!E)return;if(null!=t&&t.end&&t.end.toMillis()<H.current.toMillis())return;const n={table:f().oo,id:E},a=t?u().C6.toPersistedDateTimeRange(t):u().C6.toPersistedDateTime(D.current.toMillis()),r="none"===V.type?"add":"update";X(I,{action:r,verification_type:"verified",verification_page_id:h,verification_expiry:t?t.end.toMillis():void 0}),o({value:[n,a],metadata:{action:r,verification_type:"verified",entrypoint:B,expiration:i,expiration_date:t?t.end.toMillis():void 0}})};let F={menuType:d().gu.Popup,footer:S&&!O&&(0,j.jsx)(N().n,{verificationState:V,getRecordModel:i})};r().A.isMobile&&(F={...F,title:x,menuType:d().gu.Modal,right:(0,j.jsx)(y().sA,{...l().W.done}),onClickRight:O?()=>P(!1):b});return(0,j.jsxs)(j.Fragment,{children:[w&&T&&!O?T:w&&O?(0,j.jsx)(g().o,{label:R.formatMessage({id:"verificationPropertyOverlay.verificationMenuHeader.pickDate",defaultMessage:"Pick a date"}),onClickBackButton:()=>P(!1),onClose:()=>b(),width:265,showBottomBorder:!1}):null,(0,j.jsx)(c().A,{...F,header:!O&&k&&(0,j.jsx)($().Z,{verificationState:V}),children:O?(0,j.jsx)(A,{today:D.current,verificationState:V,onChange:e=>L(e),clearCustomDatePicker:()=>P(!1),addExtraTopPadding:!w}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(z,{today:D.current,verificationState:V,onChange:e=>L(e),onCustomDateClick:()=>P(!0),showTitle:M,showUpsell:_}),C?(0,j.jsx)(m().O,{verificationState:V,onChange:o,blockId:h,entrypoint:B}):void 0]})})]})}function X(e,t){(0,o().DO_NOT_USE_trackLegacy)(e,"verification_update",t)}},398208:(e,t,i)=>{i.d(t,{A:()=>s});var n=i(296540),o=()=>i(726637),a=i(474848);function r({onClose:e,style:t}){const n=(0,i(69708).tz)(),r=(0,i(401497).IS)((()=>({closeButton:{borderRadius:"100%",width:o().A.isMobile?28:22,height:o().A.isMobile?28:22,...t},closeButtonIconStyle:o().A.isMobile?{width:18,height:18}:{}})),[t]);return(0,a.jsx)(i(695115).A,{iconStyle:r.closeButtonIconStyle,style:r.closeButton,hovered:!0,icon:i(563692).xMarkFillSmallIcon,onClick:e,ariaLabel:n.formatMessage({id:"circleCloseButton.ariaLabel",defaultMessage:"Close"})})}const s=n.memo(r)},546747:(e,t,i)=>{i.d(t,{o:()=>p});i(296540);var n=()=>i(401497),o=()=>i(695115),a=()=>i(62900),r=()=>i(69708),s=()=>i(100622),l=()=>i(284371),d=()=>i(398208),c=()=>i(115512),u=i(474848);function p(e){const{label:t,onClickBackButton:i,onClose:p,width:f,showBottomBorder:v}=e,y=(0,r().tz)(),g=(0,n().IS)((()=>({container:{display:"flex",alignItems:"center",gap:4,height:40,width:f??320,paddingInlineStart:8,paddingInlineEnd:8,borderBottom:v?`1px solid ${s().Tj.border.secondaryTranslucent}`:void 0},backButton:{width:24,height:24},closeButton:{position:"absolute",insetInlineEnd:0,marginInlineEnd:8,borderRadius:"100%"},menuTitle:{flexGrow:1,fontWeight:l().Wy.semibold,fontSize:c().vQ}})),[v,f]);return(0,u.jsxs)("div",{style:g.container,children:[(0,u.jsx)(o().A,{icon:a().arrowStraightLeftSmallIcon,ariaLabel:y.formatMessage({id:"verificationMenuHeader.backButton.ariaLabel",defaultMessage:"Back"}),onClick:()=>i(),style:g.backButton}),(0,u.jsx)("div",{style:g.menuTitle,children:t}),(0,u.jsx)(d().A,{onClose:()=>p(),style:g.closeButton})]})}},617649:(e,t,i)=>{i.d(t,{Y:()=>A});var n=i(296540),o=()=>i(664594),a=()=>i(59226),r=()=>i(726637),s=()=>i(401497),l=()=>i(245720),d=()=>i(807449),c=()=>i(546926),u=()=>i(890492),p=()=>i(81068),f=()=>i(663639),v=()=>i(736847),y=()=>i(604995),g=()=>i(416504),m=()=>i(934999),h=()=>i(112665),x=()=>i(798880),b=()=>i(931075),M=()=>i(69708),C=()=>i(662971),S=()=>i(722929),k=()=>i(623422),w=()=>i(91910),j=()=>i(372457),T=i(474848);function A(e){const{verificationValue:t,propertyName:i,onChange:A,onClose:_,blockId:B,entrypoint:I,showCurrentStatusHeader:E,showVerificationFooter:R,showRemoveVerificationButton:O,getRecordModel:P}=e,V=(0,o().T)(),D=(0,M().tz)(),H=(0,a().X)("archive_content"),L=(0,n.useMemo)((()=>(0,b().B2)(t)),[t]),F=(0,n.useRef)(y().ah((0,g().P)())),z=(0,s().IS)((()=>({container:{width:r().A.isMobile?void 0:265}})),[]),N=(0,n.useCallback)((()=>{if(!V)return;const e={table:x().oo,id:V},t=y().C6.toPersistedDateTime(F.current.toMillis()),i="none"===L.type?"add":"update";A({value:[e,t,"archived"],metadata:{action:i,verification_type:"archived",entrypoint:I}})}),[V,I,A,L.type]);let $={menuType:c().gu.Popup,header:E&&(0,T.jsx)(w().Z,{verificationState:L}),footer:R&&(0,T.jsx)(k().n,{verificationState:L,getRecordModel:P})};r().A.isMobile&&($={...$,title:i,menuType:c().gu.Modal,right:(0,T.jsx)(M().sA,{...l().W.done}),onClickRight:_});const U=[{key:"page-status-actions",render:e=>(0,T.jsx)(v().A,{...e,children:e.children}),items:[{key:"verify",action:()=>{},render:(t,i)=>(0,T.jsx)(C().A,{...t,onFocus:i.onFocus,alignmentToOrigin:"start",disableDefaultClick:!0,renderOrigin:(e,t)=>(0,T.jsx)(p().A,{...e,ref:t,icon:(0,T.jsx)(d().I,{icon:h().badgeCheckIcon}),title:D.formatMessage({id:"verificationPropertyOverlayMenu.verify",defaultMessage:"Verify"}),showExtensionArrow:!0}),renderExtension:()=>(0,T.jsx)("div",{style:z.container,children:(0,T.jsx)(j().y,{...e,showCurrentStatusHeader:!1,showVerificationFooter:!1,showRemoveVerificationButton:!1})})})},..."archived"!==L.type?[{key:"archive",action:N,render:e=>(0,T.jsx)(p().A,{...e,icon:(0,T.jsx)(d().I,{icon:m().archiveBoxIcon}),title:D.formatMessage({id:"verificationPropertyOverlayMenu.archive",defaultMessage:"Archive"})})}]:[]]}];return H?(0,T.jsxs)(u().A,{...$,children:[(0,T.jsx)(f().A,{type:f().O.Vertical,initialFocus:0,sections:U}),O?(0,T.jsx)(S().O,{verificationState:L,onChange:A,blockId:B,entrypoint:I}):void 0]}):(0,T.jsx)(j().y,{...e})}},623422:(e,t,i)=>{i.d(t,{n:()=>s});i(296540);var n=()=>i(401497),o=()=>i(100622),a=()=>i(8802),r=i(474848);function s({verificationState:e,getRecordModel:t}){const i=(0,n().IS)((()=>({footerStyle:{borderTop:`1px solid ${o().Tj.border.secondaryTranslucent}`}})),[]);return"none"===e.type?null:(0,r.jsx)("div",{style:i.footerStyle,children:(0,r.jsx)(a().d,{verificationState:e,getRecordModel:t,actorPointer:e.actorPointer})})}},662971:(e,t,i)=>{i.d(t,{A:()=>f});var n=i(296540),o=()=>i(30537);const a=function(){const[e,t]=n.useState({x:0,y:0});return n.useEffect((()=>{const e=e=>{t({x:e.clientX,y:e.clientY})};return window.addEventListener("mousemove",e),()=>{window.removeEventListener("mousemove",e)}}),[]),e};var r=i(474848);function s({x:e,mouseX:t}){return t>e?void 0:-Math.max(e-t,10)+"px"}function l({x:e,width:t,mouseX:i}){return i>e?-Math.max(i-(e+t),10)+"px":void 0}function d({x:e,width:t,mouseX:i}){return i>e?`${Math.max(i-(e+t),10)}px`:`${Math.max(e-i,10)}px`}function c({x:e,y:t,height:i,mouseX:n,mouseY:o}){return n>e?`polygon(0% 0%, 0% 100%, 100% ${100*(o-t)/i}%)`:`polygon(100% 0%, 0% ${100*(o-t)/i}%, 100% 100%)`}function u(e){const{x:t=0,y:i=0,height:o=0,width:u=0}=e.el.getBoundingClientRect()||{},{x:p,y:f}=a(),v={x:t,y:i,height:o,width:u,mouseX:p,mouseY:f},y=(0,n.useRef)(null),g=n.useCallback((e=>{if(y.current){y.current.style.pointerEvents="none";const t=document.elementFromPoint(e.clientX,e.clientY);if(y.current.style.pointerEvents="auto",t){const i=new MouseEvent(e.nativeEvent.type,e.nativeEvent);t.dispatchEvent(i)}}}),[]),m={insetInlineEnd:l(v),insetInlineStart:s(v),height:o,width:d(v),clipPath:c(v)};return(0,r.jsx)("div",{ref:y,onClick:g,style:{cursor:"pointer",position:"absolute",pointerEvents:"auto",top:0,...m}})}function p({onClick:e,renderOrigin:t,renderExtension:a,allowOptionalExtensionMenu:s,...l},d){const{disabled:c,disableDefaultClick:p,onFocus:f,focused:v,openOnFocus:y,placementToOrigin:g,alignmentToOrigin:m,disableCloseOnEnter:h,bottomSheetInitialState:x,popupTypeOverride:b}=l,M=(0,i(484714).WS)(),C=(0,i(546926).Tf)(),[S,k]=(0,n.useState)(!1),w=(0,n.useRef)(null),j=(0,n.useRef)(null),T=(0,n.useRef)(null),A=(0,n.useRef)(null),_=(0,n.useCallback)((()=>{T.current&&window.clearTimeout(T.current),A.current&&window.clearTimeout(A.current),T.current=null,A.current=null}),[]),B=(0,n.useCallback)((()=>{_(),c||k(!0)}),[c,_]),I=(0,n.useCallback)((()=>{_(),k(!1)}),[_]),E=(0,n.useCallback)((e=>{_(),S||(e&&e.preventDefault&&e.preventDefault(),T.current=window.setTimeout(B,120))}),[S,_,B]),R=(0,n.useCallback)((()=>{_(),S&&(A.current=window.setTimeout(I,100))}),[S,I,_]),O=(0,n.useCallback)((t=>{f(),B(),s&&(null==e||e(t),I())}),[f,B,s,e,I]),P=(0,n.useCallback)((()=>{E()}),[E]),V=(0,n.useCallback)((()=>{f(),E()}),[f,E]),D=(0,n.useCallback)((e=>{if(i(726637).A.isMobile)return;const t=w.current;S&&t&&!t.contains(e.target)&&I()}),[S,I]),H=(0,n.useCallback)((e=>{13===e.keyCode&&S&&!h&&I()}),[S,I,h]);(0,n.useEffect)((()=>{if(!Boolean(p))return window.addEventListener("click",D),()=>{window.removeEventListener("click",D)}}),[p,D]),(0,n.useEffect)((()=>(window.addEventListener("keydown",H),()=>{window.removeEventListener("keydown",H)})),[H]);const L=(0,n.useRef)(v);(0,n.useEffect)((()=>{y&&!L.current&&v?E():!v&&L.current&&R(),L.current=v}),[v,y,E,R]);const F=(0,i(401497).IS)((()=>({mobilePopupStyle:{borderRadius:12,backgroundColor:i(100622).Tj.background.secondary}})),[]),z={...(0,i(383036).A)({onMouseEnter:P,onClick:O},l),showExtensionArrow:!0};let N=o().n.Popup;return b?N=b:M&&(N=C?o().n.BottomSheet:o().n.SlideUp),(0,r.jsx)(i(782482).N,{debugName:"ExtensionMenuItem",capture:v,onEnter:S?void 0:E,onRight:E,onLeft:S?R:void 0,onEsc:S?R:void 0,children:(0,r.jsx)(i(127833).zD,{popupType:N,bottomSheetInitialState:x,open:S,origin:t(z,d),placementToOrigin:g??"right",alignmentToOrigin:m??"center",originGap:0,disableMouseCapture:!0,preventBlockRenderQueueOnEnter:!0,preventScaleTransition:!M,preventCaptureEsc:!0,ref:w,render:()=>(0,r.jsxs)(r.Fragment,{children:[!M&&j.current?(0,r.jsx)(u,{el:j.current}):null,(0,r.jsx)("div",{ref:j,style:{height:"100%"},children:a({onMouseEnter:V},{close:R})})]}),style:{overflow:"visible",...M&&F.mobilePopupStyle},trapFocus:!0,onDismiss:I})})}const f=n.forwardRef(p)},722929:(e,t,i)=>{i.d(t,{O:()=>h});var n=i(296540),o=()=>i(484714),a=()=>i(401497),r=()=>i(807449),s=()=>i(81068),l=()=>i(736847),d=()=>i(995847),c=()=>i(931075),u=()=>i(69708),p=()=>i(100622),f=()=>i(534177),v=()=>i(115512),y=()=>i(282464),g=()=>i(372457),m=i(474848);function h(e){const{verificationState:t,onChange:i,blockId:h,entrypoint:x}=e,b=(0,o().v3)(),M=(0,u().tz)(),C=(0,a().IS)((()=>({buttonStyle:{color:p().Tj.red.text.accentPrimary,fontSize:v().vQ}})),[]);let S;switch(t.type){case"none":break;case"verified":case"expired":S=M.formatMessage(y().n.removeVerificationProperty);break;case"archived":S=M.formatMessage(y().n.removeArchivedStatus);break;default:(0,f().HB)(t)}const k=(0,n.useCallback)((()=>{if("none"===t.type)return;const e=(0,c().Ep)(t);(0,g().u)(b,{action:"remove",verification_type:e,verification_page_id:h}),i({value:void 0,metadata:{action:"remove",verification_type:e,entrypoint:x}})}),[b,i,x,h,t]);return"none"===t.type?null:(0,m.jsx)(l().A,{topBorder:!0,children:(0,m.jsx)(s().A,{focused:!1,icon:(0,m.jsx)(r().I,{icon:d().xMarkSmallIcon,size:"xs",style:{marginInlineStart:0}}),title:S,onClick:k,style:C.buttonStyle})})}}}]);