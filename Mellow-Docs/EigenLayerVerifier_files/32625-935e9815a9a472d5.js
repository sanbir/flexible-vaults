"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[32625],{89849:(e,t,n)=>{n.r(t),n.d(t,{eyeIcon:()=>i,iconDefinition:()=>a});n(296540);var o=n(474848);const a={viewBox:"0 0 20 20",fittedViewBox:"0.96 4.19 18.07 11.62",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M10.17 6.694a3.307 3.307 0 0 1 3.135 3.303l-.005.17a3.305 3.305 0 0 1-3.3 3.137l-.17-.004a3.307 3.307 0 0 1-3.132-3.133l-.004-.17A3.307 3.307 0 0 1 10 6.69zm-.17 2.2a1.104 1.104 0 0 0 0 2.207 1.103 1.103 0 0 0 0-2.207"}),(0,o.jsx)("path",{d:"M10 4.194c3.878 0 7.26 2.075 8.862 5.127l.073.163c.126.333.126.7 0 1.033l-.073.163c-1.602 3.052-4.984 5.126-8.862 5.126-3.757 0-7.049-1.946-8.707-4.843l-.156-.283a1.46 1.46 0 0 1 0-1.359l.156-.283C2.95 6.141 6.243 4.194 10 4.194m0 1.251c-3.33 0-6.196 1.724-7.622 4.214l-.134.243a.21.21 0 0 0 0 .197l.134.243c1.426 2.49 4.292 4.214 7.622 4.214 3.437 0 6.38-1.837 7.756-4.457l.018-.048a.2.2 0 0 0 0-.1l-.018-.049C16.38 7.282 13.437 5.445 10 5.445"})]})},i=(0,n(340498).wt)("eye",a,"default")},160632:(e,t,n)=>{n.d(t,{K:()=>Y});var o=n.n(n(32485)),a=n(296540),i=()=>n(314529),r=()=>n(907258),l=()=>n(726637),s=()=>n(110525),c=()=>n(484714),d=()=>n(792485),u=()=>n(590526),p=()=>n(401497),m=()=>n(792057),f=()=>n(882722),g=()=>n(30537),v=()=>n(118307),y=()=>n(388926),k=()=>n(416783),x=()=>n(546926),h=()=>n(890492),M=()=>n(424400),S=()=>n(663639),C=()=>n(736847),b=()=>n(584262),A=()=>n(859384),I=()=>n(764781),j=()=>n(89849),w=()=>n(748054),T=()=>n(236262),D=()=>n(69708),E=()=>n(100622),_=()=>n(496603),P=()=>n(284371),R=()=>n(160568),O=()=>n(896628),N=()=>n(813297),V=()=>n(104636),B=()=>n(908201),L=()=>n(31902),K=()=>n(575143),z=()=>n(187820),U=()=>n(16006),F=()=>n(485894),H=()=>n(158658),W=()=>n(492414),q=()=>n(246766),G=()=>n(547149),J=()=>n(649813),Q=n(474848);const Z=(0,D().YK)({emptyPageTitle:{defaultMessage:"Empty",id:"database.templatePicker.emptyPageTitle"}}),Y=a.memo(a.forwardRef((function(e,t){const o=(0,D().tz)(),{templateStore:i,isMobile:r,isOverlay:s,isDefault:m,isChecked:g,locked:y,canConfigureCollection:k,draggable:x,recurrence:h,recurrenceDisabled:M,recurrenceButtonDisabled:S,hideActionMenu:C,collectionStore:b,focused:A}=e,I=(0,c().v3)(),j=(0,d().S)(),[w,T]=(0,a.useState)(!1),P=(0,u().uB)(void 0,v().A),R=!i&&!s;(0,u().K8)((()=>{if(!i)return!1;const e=i.getAutomationPointer();return!!e&&(0,n(322931).z)(i,e)}),[i]);const O=(0,u().K8)((()=>{var e;return Boolean(null===(e=b.getParentBlockStore())||void 0===e?void 0:e.canEditContentOnly())}),[b]),N=(0,u().K8)((()=>!!i&&(0,H().p)({environment:I,blocks:[i],publicEditMode:void 0,pageContext:j})),[i,I,j]),V=(0,u().K8)((()=>!C&&(!y||y&&!x)&&(k||O||N)&&(w||P.state.open||r||s)&&!R),[C,y,x,k,O,w,P,r,s,R,N]),B=(0,u().K8)((()=>!i||i.isEmptyPage()),[i]),L=(0,u().K8)((()=>{var e;return null==i||null===(e=i.getModel())||void 0===e?void 0:e.getRenderIcon({getRecordModel:b.getRecordModel})}),[i,b]),K=(0,u().K8)((()=>(0,z().Te)(i)),[i]),W=(0,a.useRef)(null);(0,n(790748).b)(n(681894).A,(()=>({templateStore:i,getNode:()=>W.current})),[i]);const q=(0,p().IS)((()=>({contents:{display:"contents"},recordIcon:{...!s&&{pointerEvents:"none",marginInlineEnd:10}},pageIcon:{...!s&&{fill:E().Tj.icon.tertiary}}})),[s]),G=(0,a.useCallback)((()=>{T(!0)}),[]),J=(0,a.useCallback)((()=>{T(!1)}),[]),Y=i?(0,Q.jsx)(U().A,{enableHover:!0,showTooltipWhenTruncated:!0,store:i}):o.formatMessage(Z.emptyPageTitle),X=(0,u().uB)(void 0,v().A),ee=(0,u().K8)((()=>X.state.open),[X]),te=(h||ee)&&i;return(0,Q.jsx)("div",{ref:W,style:q.contents,children:(0,Q.jsx)(n(896464).J,{ref:t,className:f().SDd,type:i?"custom_template":"empty_page",format:s?"collection-overlay":"page-menu-item",locked:y||!k||!x,icon:(0,Q.jsx)(z().B6,{disabled:!0,icon:L,iconRecordCategory:K,isEmptyPage:B,size:l().A.isMobile&&s?24:20,isLarge:!s,style:q.recordIcon,pageIconStyle:q.pageIcon}),title:Y,onClick:e.onClick,onMouseEnter:e.onMouseEnter,right:V?(0,Q.jsxs)(n(396896).fI,{alignItems:"center",gap:2,children:[te?(0,Q.jsx)(F().q,{..._().cJ(e,["onClick"]),focused:A,disabled:S,recurrence:h,showTooltip:!0,variant:"icon",buttonPopupStore:X,onChange:async e=>{const{recurrenceActions:t}=await F().k.load();e?t.addRecurrence({environment:I,blockStore:i,recurrence:e}):t.deleteRecurrence({environment:I,blockStore:i})}}):null,(0,Q.jsx)($,{templateStore:i,buttonPopupStore:P,isOverlay:s,canEditContentOnly:O,onCancelClick:e.onCancelClick})]}):null,onMouseMove:G,onMouseLeave:J,focused:A,isDefault:m,isChecked:g,recurrence:h,recurrenceDisabled:M})})})));function $(e){const{templateStore:t,buttonPopupStore:a,isOverlay:i,canEditContentOnly:r,onCancelClick:s}=e,p=(0,c().v3)(),m=(0,d().S)(),v=(0,u().K8)((()=>!!t&&(0,H().p)({environment:p,blocks:[t],publicEditMode:void 0,pageContext:m})),[t,p,m]);return(0,Q.jsx)(n(26697).m,{renderTooltip:()=>v?(0,Q.jsx)(D().sA,{defaultMessage:"Edit this template",id:"database.templatePickerItem.editTemplate.tooltip"}):(0,Q.jsx)(D().sA,{defaultMessage:"View this template",id:"database.templatePickerItem.viewTemplate.tooltip"}),delayThreshold:300,render:e=>(0,Q.jsx)(n(250910).A,{popupType:l().A.isMobile?g().n.SlideUp:g().n.Popup,placementToOrigin:"right",originGap:12,buttonPopupStore:a,renderOrigin:t=>(0,Q.jsx)(n(911706).A,{className:o()(f().dn9,{[f().qGl]:l().A.isMobile||i}),isMobile:l().A.isMobile&&i,testId:"template-action-menu-button",style:{...i?{marginInlineEnd:-4}:{marginInlineEnd:0}},...(0,n(383036).A)(e,t)}),render:e=>(0,Q.jsx)(X,{templateStore:t,buttonPopupStore:a,canEditContentOnly:r,isOverlay:i,parent:e,onCancelClick:s}),onClick:()=>{R()._o(p,{template_action:"open_menu"})}})})}function X(e){const{templateStore:t,buttonPopupStore:n,canEditContentOnly:o,isOverlay:r,parent:f,onCancelClick:g}=e,v=(0,D().tz)(),b=(0,c().v3)(),z=(0,B().ET)(),W=(0,d().S)(),q=(0,a.useContext)(s().n),{collectionStore:Y,collectionViewStore:$,isInPageLayout:X}=(0,u().K8)((()=>({collectionStore:null==z?void 0:z.collectionStore(),collectionViewStore:null==z?void 0:z.collectionViewStore(),isInPageLayout:Boolean(null==z?void 0:z.viewsModuleContextStore.getViewsModule())})),[z]),ne=(0,u().K8)((()=>!!t&&(0,H().p)({environment:b,blocks:[t],publicEditMode:void 0,pageContext:W})),[t,b,W]),oe=(0,u().K8)((()=>null==t?void 0:t.getAutomationStore()),[t]),ae=(0,u().K8)((()=>null!=oe&&oe.isActive()?null==oe?void 0:oe.getRecurrence():void 0),[oe]),ie=(0,u().K8)((()=>{if(!t)return!1;const e=(0,V().Is)(t);return!e.automationStoresReady||e.violatesConstraint}),[t]),re=(0,u().K8)((()=>{if(t){const e=(0,V().Is)(t);if(e.automationStoresReady)return e}}),[t]),le=(0,u().K8)((()=>Boolean(null==re?void 0:re.templateNestingExceedsMaxDepth)),[re]),se=(0,u().K8)((()=>null==re?void 0:re.immediateAncestorRecurrenceType),[re]),ce=(0,u().K8)((()=>Boolean(null==re?void 0:re.ancestorHasDailyTemplate)),[re]),de=(ue={templateNestingExceedsMaxDepth:le,immediateAncestorRecurrenceType:se,ancestorHasDailyTemplate:ce,automationStore:oe,environment:b},(0,u().K8)((()=>function(e){const{templateNestingExceedsMaxDepth:t,immediateAncestorRecurrenceType:n,ancestorHasDailyTemplate:o,automationStore:a,environment:i}=e,r="disabled_duplication"===(null==a?void 0:a.getStatus())||"disabled_inactive_space"===(null==a?void 0:a.getStatus());return r&&null!=a&&a.getAlive()?(0,Q.jsx)(D().sA,{defaultMessage:"This repeating template was turned off. <inlinelink>Turn on</inlinelink> with the same settings.",id:"database.templatePickerItem.actionMenu.nestedTemplateExplanationCaptionDisabledDuringDuplication",values:{inlinelink:e=>(0,Q.jsx)(k().V,{external:!1,color:"notion-link-blue",hoverColor:"blue",onClick:()=>{!async function(e,t){if(!t)return;const{automationActions:n}=await N().QV.automations.load();G().createAndCommit({userAction:"CollectionTemplatePickerItem.setAutomationStatusToActive",environment:e,canUndo:!0,perform:o=>n.enableAutomation({automationStore:t,environment:e,transaction:o})})}(i,a)},children:e})}}):o?(0,Q.jsx)(D().sA,{defaultMessage:"It already gets created daily from another repeating template.",id:"database.templatePickerItem.actionMenu.nestedTemplateExplanationCaptionNestedInDaily"}):t?(0,Q.jsx)(D().sA,{defaultMessage:"It already gets created automatically from other repeating templates.",id:"database.templatePickerItem.actionMenu.nestedTemplateExplanationCaptionTooDeeplyNested"}):n?(0,Q.jsx)(D().sA,{defaultMessage:"This template is within another template that repeats every {immediateAncestorRecurrenceType}.",id:"database.templatePickerItem.actionMenu.nestedTemplateExplanationCaptionNestedInTemplate",values:{immediateAncestorRecurrenceType:n}}):void 0}(ue)),[ue]));var ue;const pe=(0,u().K8)((()=>null==oe?void 0:oe.isReady()),[oe]),me=(0,p().IS)((()=>({nestingExplanationMenuItemTitle:{whiteSpace:"normal",fontWeight:P().Wy.medium,fontSize:P().J.UISmall.desktop},nestingExplanationMenuItemCaption:{whiteSpace:"normal",color:E().oZ.lightTextColor,fontWeight:P().Wy.regular,fontSize:P().J.UISmall.desktop}})),[]),fe=(0,a.useCallback)((e=>{if(!Y||null==$||!$.isDefined())return;const n=null!=t&&t.id?{template_page_id:null==t?void 0:t.id}:"empty";m().ui({showCancel:!0,keepFocus:!1,message:(0,Q.jsx)(D().sA,{id:"database.collectionTemplatePickerItem.setAsDefaultDialog.message",defaultMessage:"<span>Use “{pageName}” as default template when creating new pages?</span>",values:{span:e=>(0,Q.jsx)("span",{children:e}),pageName:t?(0,Q.jsx)(U().A,{store:t,style:{display:"inline"}}):v.formatMessage(Z.emptyPageTitle)}}),items:[{label:(0,Q.jsx)(D().sA,{id:"database.collectionTemplatePickerItem.setAsDefaultDialog.setCollection",defaultMessage:"For all views in “{databaseName}”",values:{databaseName:(0,Q.jsx)(U().A,{store:Y,style:{display:"inline"}})}}),onAccept:()=>{e.close(),G().createAndCommit({environment:b,userAction:"CollectionTemplatePickerItem.handleSetAsDefault:collection",canUndo:!0,perform:e=>{O().zA({stores:[Y],update:{collection_default_template:n},transaction:e}),O().zA({stores:[$],update:{collection_view_default_template:n},transaction:e})}})}},{label:(0,Q.jsx)(D().sA,{id:"database.collectionTemplatePickerItem.setAsDefaultDialog.setCollectionView",defaultMessage:"Only on “{viewName}” view",values:{viewName:(0,Q.jsx)(L().A,{collectionViewName:$.getName(),collectionViewType:$.getType()})}}),onAccept:()=>{e.close(),G().createAndCommit({environment:b,userAction:"CollectionTemplatePickerItem.handleSetAsDefault:collectionView",canUndo:!0,perform:e=>{O().zA({stores:[$],update:{collection_view_default_template:n},transaction:e})}})}}]})}),[b,Y,$,t,v]);if(!Y)return null;const ge={key:"section",render:e=>(0,Q.jsx)(C().A,{...e}),items:_().oE([t&&ne&&(!oe||pe)&&!ie&&{key:"repeatControl",render:e=>t&&(0,Q.jsx)(F().q,{...e,recurrence:ae,onChange:async e=>{const{recurrenceActions:n}=await F().k.load();e?n.addRecurrence({environment:b,blockStore:t,recurrence:e}):n.deleteRecurrence({environment:b,blockStore:t})}}),action:()=>function(e,t){(0,i().DO_NOT_USE_trackLegacy)(e,"recurrence_menu_open",{isConfigured:void 0!==t})}(b,ae)},r&&!X&&!o&&{key:"Set default",render:e=>(0,Q.jsx)(K().A,{...e,title:(0,Q.jsx)(D().sA,{defaultMessage:"Set as default",id:"database.collectionTemplatePickerItem.actionMenu.setAsDefault"}),svg:w().M}),action:()=>fe(f)},t&&{key:"Edit",render:e=>(0,Q.jsx)(K().A,{...e,title:ne?(0,Q.jsx)(D().sA,{defaultMessage:"Edit",id:"database.templatePickerItem.actionMenu.edit"}):(0,Q.jsx)(D().sA,{defaultMessage:"View",id:"database.templatePickerItem.actionMenu.view"}),svg:ne?A().M:j().eyeIcon}),action:()=>function(e,t,n,o,a){if(!n)return;null==o||o(),te(n,e,a),t.reset(),R()._o(e,{template_action:"edit"})}(b,n,t,g,q)},t&&!o&&ne&&{key:"Duplicate",render:e=>(0,Q.jsx)(K().A,{...e,title:(0,Q.jsx)(D().sA,{defaultMessage:"Duplicate",id:"database.templatePickerItem.actionMenu.duplicate"}),svg:I().V}),action:e=>async function(e,t,n,o,a,i,r){if(!a)return;null==i||i();const{recurrenceActions:l}=await F().k.load(),{performResult:s}=G().createAndCommit({userAction:"CollectionTemplatePickerItem.duplicatedStore",environment:t,canUndo:!0,perform:o=>{const i=J().oZ({environment:t,event:e.event,collectionStore:n,templateStore:a,transaction:o});if(a.getAutomationId()){const e=a.getAutomationStore(),n=null==e?void 0:e.getRecurrence();e&&null!=e&&e.isActive()&&n&&l.createRecurrenceInner(o,t,i,n)}return i}});s&&te(s,t,r);o.reset(),R()._o(t,{template_action:"duplicate"})}(e,b,Y,n,t,g,q)},t&&!o&&ne&&{key:"Delete",render:e=>(0,Q.jsx)(K().A,{...e,title:(0,Q.jsx)(D().sA,{defaultMessage:"Delete",id:"database.templatePickerItem.actionMenu.delete"}),svg:T().trashIcon}),action:ne?()=>async function(e,t,n){if(!n)return;const{accept:o}=await m().Gh({message:(0,Q.jsx)(D().sA,{defaultMessage:"Delete this template?",id:"database.confirmDialog.templatePickerItem.deleteMessage"}),acceptLabel:(0,Q.jsx)(D().sA,{defaultMessage:"Delete",id:"database.confirmDialog.templatePickerItem.deleteButton.label"})});if(!o)return;G().createAndCommit({userAction:"CollectionTemplatePickerItem.handleDelete",environment:e,canUndo:!0,perform:e=>J().m0({collectionStore:t,templateStore:n,transaction:e})}),R()._o(e,{template_action:"delete"})}(b,Y,t):()=>{}},(ie||de)&&{key:"nestedTemplateExplanation",render:e=>(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(y().A,{size:12}),(0,Q.jsx)(M().Ay,{...e,style:{padding:2},titleStyle:me.nestingExplanationMenuItemTitle,title:ee({cannotAddRecurrenceToTemplate:ie}),captionStyle:me.nestingExplanationMenuItemCaption,caption:de})]}),action:()=>{}}])};let ve;return ve=l().A.isMobile?{menuType:x().gu.ActionSheet}:{menuType:x().gu.Popup,width:230},(0,Q.jsx)(h().A,{...ve,children:(0,Q.jsx)(S().A,{type:S().O.Vertical,initialFocus:void 0,sections:[ge]})})}function ee(e){const{cannotAddRecurrenceToTemplate:t}=e;return t&&(0,Q.jsx)(D().sA,{defaultMessage:"This template can’t be repeated.",id:"database.templatePickerItem.actionMenu.nestedTemplateExplanationTitle"})}function te(e,t,n){const{mainEditorCurrentBlockStore:o}=r().default.state;!function(e,t,n){n?n(e):(0,q().navigate)({environment:t,url:e})}(o?(0,W().Ay)({store:o,peekViewBlockId:e.id,fullyQualified:!1,pageVisitSource:b().y8.PeekOpen}):(0,W().Ay)({store:e,fullyQualified:!1,pageVisitSource:b().y8.LinkInPage}),t,n)}},344417:(e,t,n)=>{n.r(t),n.d(t,{iconDefinition:()=>o,magnifyingGlassSmallIcon:()=>a});n(296540);const o={viewBox:"0 0 16 16",fittedViewBox:"1.97 1.97 12.46 12.46",svg:(0,n(474848).jsx)("path",{d:"M7.1 1.975a5.125 5.125 0 1 0 3.155 9.164l3.107 3.107a.625.625 0 1 0 .884-.884l-3.107-3.107A5.125 5.125 0 0 0 7.1 1.975M3.225 7.1a3.875 3.875 0 1 1 7.75 0 3.875 3.875 0 0 1-7.75 0"})},a=(0,n(340498).wt)("magnifyingGlassSmall",o,"small")},485894:(e,t,n)=>{n.d(t,{k:()=>a,q:()=>i});var o=()=>n(79926);const a=new(o().O2)("recurrence",(async()=>{const[e,t,{TemplateRecurrenceConfigMenu:o}]=await Promise.all([Promise.all([n.e(9773),n.e(36556),n.e(40537),n.e(92845),n.e(24587),n.e(91793),n.e(21627),n.e(60593),n.e(29021)]).then(n.bind(n,200348)),Promise.all([n.e(9773),n.e(36556),n.e(40537),n.e(92845),n.e(24587),n.e(91793),n.e(21627),n.e(60593),n.e(29021)]).then(n.bind(n,390527)),Promise.all([n.e(9773),n.e(36556),n.e(40537),n.e(92845),n.e(24587),n.e(91793),n.e(21627),n.e(60593),n.e(29021)]).then(n.bind(n,528411))]);return{recurrenceActions:e,recurrenceHelpers:t,TemplateRecurrenceConfigMenu:o}})),i=(0,o().jQ)(a,(e=>e.TemplateRecurrenceConfigMenu))},681894:(e,t,n)=>{n.d(t,{A:()=>a});n(898992),n(672577);class o extends(()=>n(959180))().A{findCollectionTemplatePickerItemFromStore(e){if(e)return this.find((t=>(null==t?void 0:t.templateStore)===e))}}const a=new o},748054:(e,t,n)=>{n.d(t,{M:()=>a});n(296540);const o={viewBox:"0 0 20 20",fittedViewBox:"3.97 2.68 12.51 14.37",svg:(0,n(474848).jsx)("path",{d:"M10.282 3.66a5.39 5.39 0 0 0-5.217-.54l-.711.305a.63.63 0 0 0-.38.575v12.425a.625.625 0 1 0 1.25 0v-3.913l.333-.142a4.14 4.14 0 0 1 4.008.414 5.39 5.39 0 0 0 5.504.405l1.06-.53a.63.63 0 0 0 .346-.56V4a.625.625 0 0 0-.905-.558l-1.06.53c-1.36.68-2.983.56-4.228-.312m-5.057 7.495V4.412l.332-.142a4.14 4.14 0 0 1 4.008.413 5.39 5.39 0 0 0 5.504.406l.156-.078v6.703l-.715.357c-1.36.68-2.983.56-4.228-.312a5.4 5.4 0 0 0-5.057-.604"})},a=(0,n(340498).wt)("flag",o,"default")},864779:(e,t,n)=>{n.d(t,{Me:()=>l,Vv:()=>a,Z3:()=>i,wI:()=>r});var o=()=>n(906745);function a(e){if("week"===e.frequency&&e.weekdays&&1===e.weekdays.length)return{weekday:e.weekdays[0],duration:e.interval}}function i(e){const{currentSprintEndDate:t,sprintSchedule:n}=e;return s({startDate:d({dateToAdjust:o().DateTime.fromISO(t),weekday:n.weekday,wrapForEqualDays:!0}),duration:n.duration})}function r(e){const{userTimeZone:t,sprintSchedule:n}=e;return s({startDate:o().DateTime.local({zone:t}),duration:n.duration})}function l(e){const{currentSprintStartDate:t,sprintSchedule:n}=e,a=d({dateToAdjust:o().DateTime.fromISO(t),weekday:n.weekday,wrapForEqualDays:!1}),{end_date:i}=s({startDate:a,duration:n.duration});let r=o().DateTime.fromISO(i);const l=o().DateTime.now().startOf("day");for(;r.diff(l,"days").days<0;)r=r.plus({weeks:1});return{type:"daterange",start_date:r.plus({days:1}).minus({weeks:n.duration}).toISODate(),end_date:r.toISODate()}}function s(e){const{startDate:t,duration:n}=e,o=t.plus({weeks:n}).minus({days:1});return{type:"daterange",start_date:t.toISODate(),end_date:o.toISODate()}}const c={SU:0,MO:1,TU:2,WE:3,TH:4,FR:5,SA:6};function d(e){const{dateToAdjust:t,weekday:n,wrapForEqualDays:o}=e,a=function(e){const{currentWeekday:t,nextWeekday:n,wrapForEqualDays:o}=e,a="number"==typeof t?t:c[t],i="number"==typeof n?n:c[n];if(a===i)return o?7:0;let r=a,l=0;for(;r!==i;)r===c.SA?r=0:r+=1,l+=1;return l}({currentWeekday:t.weekday%7,nextWeekday:c[n],wrapForEqualDays:o});return t.plus({days:a})}},896464:(e,t,n)=>{n.d(t,{J:()=>b});var o=n(296540),a=()=>n(726637),i=()=>n(590526),r=()=>n(401497),l=()=>n(718827),s=()=>n(396896),c=()=>n(807449),d=()=>n(81068),u=n(474848);const p={viewBox:"0 0 16 16",fittedViewBox:"1.85 1.86 12.31 12.25",svg:(0,u.jsx)("path",{d:"M3.142 2.332a.55.55 0 0 1 .776.06l.226.263.008.012 8.773 10.235a.55.55 0 0 1-.843.707l-1.25-1.46H7.08l1.042 1.043a.55.55 0 0 1-.778.777l-1.98-1.98a.55.55 0 0 1 0-.778l1.98-1.98a.55.55 0 0 1 .778.778l-1.042 1.04h2.81L4.66 4.95h-.82a.89.89 0 0 0-.89.89v4.78a.55.55 0 0 1-1.1 0V5.84c0-1.06.828-1.923 1.872-1.984l-.641-.747a.55.55 0 0 1 .06-.777M13.6 4.83a.55.55 0 0 1 .55.55v4.78c0 .642-.305 1.21-.777 1.573l-.716-.836a.89.89 0 0 0 .393-.737V5.38a.55.55 0 0 1 .55-.55M7.877 2.031a.55.55 0 0 1 .778 0l1.98 1.98a.55.55 0 0 1 0 .778l-1.73 1.73-.718-.837.732-.732h-1.36l-.942-1.1H8.92L7.877 2.81a.55.55 0 0 1 0-.778"})},m=(0,n(340498).wt)("arrowSquareLeftRightSlashSmall",p,"small");var f=()=>n(69708),g=()=>n(100622),v=()=>n(284371),y=()=>n(301948),k=()=>n(907258),x=()=>n(547149),h=()=>n(680977);function M(e){const{environment:t,userSettingsStore:n,dismissed:o}=e;x().createAndCommit({environment:t,userAction:"userSettingsActions.setDismissDictationNewPageNux",canUndo:!0,cellTarget:"main",perform:e=>{(0,h().m)({userSettingsStore:n,transaction:e,data:{dismissed_dictation_new_page_nux:o}})}})}function S(){const[e,t]=(0,o.useState)(!1),a=(0,n(484714).v3)(),r=(0,i().O$)(k().AppStoreCurrentUserSettingsStore);return[(0,i().K8)((()=>{const t=n(242422).default.checkGate({gateName:"dictation_new_page_nux"}),o=null==r?void 0:r.getSettings(),a=Boolean(null==o?void 0:o.dismissed_dictation_new_page_nux);return t&&!a&&!e}),[r,e]),(0,o.useCallback)((()=>{r&&(t(!0),M({environment:a,userSettingsStore:r,dismissed:!0}))}),[a,r,t])]}(0,n(852832).exposeDebugValue)("resetDictationTooltip",(e=>{const t=k().default.state.currentUserSettingsStore;t&&M({environment:e,userSettingsStore:t,dismissed:!1})}));const C=(0,f().YK)({horizontalNewPageDictationItemTooltip:{id:"TemplatePickerMenuItem.dictationCallout.tooltip",defaultMessage:"Use your voice to write"},dictationCalloutHeader:{id:"TemplatePickerMenuItem.dictationCallout.Header",defaultMessage:"Use your voice to write with high-quality speech-to-text"}}),b=(0,o.forwardRef)((function(e,t){const{format:n,className:o,icon:a,title:i,isDefault:r,isChecked:l,recurrence:s,recurrenceDisabled:c,right:d,focused:p,onClick:m,onMouseMove:f,onMouseEnter:g,onMouseLeave:v,locked:y,type:k}=e;return"collection-overlay"===n?(0,u.jsx)(I,{ref:t,className:o,icon:a,format:n,title:i,isDefault:r,isChecked:l,recurrence:s,recurrenceDisabled:c,right:d,focused:p,onClick:m,onMouseMove:f,onMouseEnter:g,onMouseLeave:v,locked:y,type:k}):"phone-modal"===n?(0,u.jsx)(j,{ref:t,icon:a,format:n,title:i,isDefault:r,isChecked:l,recurrence:s,focused:p,onClick:m}):"horizontal-new-page"===n?"dictation"===k?(0,u.jsx)(E,{ref:t,focused:p,onClick:m,onMouseMove:f,onMouseEnter:g,onMouseLeave:v,icon:a,title:i,type:k}):(0,u.jsx)(T,{ref:t,focused:p,onClick:m,onMouseMove:f,onMouseEnter:g,onMouseLeave:v,icon:a,title:i,type:k}):"horizontal-new-page-submenu"===n?(0,u.jsx)(D,{ref:t,focused:p,onClick:m,onMouseMove:f,onMouseEnter:g,onMouseLeave:v,icon:a,title:i}):(0,u.jsx)(w,{ref:t,focused:p,onClick:m,onMouseMove:f,onMouseEnter:g,onMouseLeave:v,icon:a,format:n,title:i,isDefault:r,isChecked:l,recurrence:s,recurrenceDisabled:c,right:d})}));function A(e){const{format:t,title:o,isDefault:a,isChecked:i,recurrenceDisabled:l}=e,s=(0,r().IS)((()=>({container:{display:"flex",justifyContent:"space-between",alignItems:"center"},text:{display:"flex",alignItems:"center",marginInlineStart:8,gap:8},default:{fontSize:12,fontWeight:v().Wy.medium,color:g().Tj.text.tertiary,borderRadius:4,background:g().Tj.background.secondary,padding:"1px 6px"}})),[]);return"collection-overlay"!==t?(0,u.jsx)(u.Fragment,{children:o}):(0,u.jsxs)("div",{style:s.container,children:[o,(0,u.jsxs)("span",{style:s.text,children:[a?(0,u.jsx)("span",{style:s.default,children:(0,u.jsx)(f().sA,{defaultMessage:"Default",id:"database.templatePickerMenuItem.default"})}):void 0,i?(0,u.jsx)(c().I,{icon:n(349679).checkmarkSmallIcon,size:"sm",colorVariant:"primary"}):null,l?(0,u.jsx)(c().I,{icon:m,size:"sm",colorVariant:"disabled"}):null]})]})}const I=(0,o.forwardRef)((function(e,t){const{className:n,icon:o,format:i,title:r,isDefault:l,isChecked:s,recurrence:c,recurrenceDisabled:p,right:m,focused:f,onClick:g,onMouseMove:v,onMouseEnter:y,onMouseLeave:k,locked:x,type:h}=e;return(0,u.jsx)(d().A,{ref:t,className:n,icon:o,title:(0,u.jsx)(A,{format:i,title:r,isDefault:l,isChecked:s,recurrence:c,recurrenceDisabled:p}),right:m,focused:f,onClick:g,onMouseMove:v,onMouseEnter:y,onMouseLeave:k,showDragHandle:!a().A.isMobile&&!x,dragHandleDisabled:"empty_page"===h})})),j=(0,o.forwardRef)((function(e,t){const{icon:n,format:o,title:a,isDefault:i,isChecked:l,recurrence:s,focused:c,onClick:p}=e,m=(0,r().IS)((()=>({icon:{display:"flex",alignItems:"center",justifyContent:"center",width:24,height:24}})),[]);return(0,u.jsx)(d().A,{ref:t,icon:n?(0,u.jsx)("div",{style:m.icon,children:n}):null,title:(0,u.jsx)(A,{format:o,title:a,isDefault:i,isChecked:l,recurrence:s}),focused:c,onClick:p,showDragHandle:!1})})),w=(0,o.forwardRef)((function({focused:e,onClick:t,onMouseMove:o,onMouseEnter:s,onMouseLeave:c,icon:d,format:p,title:m,isDefault:f,isChecked:v,recurrence:y,recurrenceDisabled:k,right:x},h){const M=(0,n(792485).S)(),S=(0,i().K8)((()=>{const e=null==M?void 0:M.publicEditModeStore.state;return(0,n(68465).ZE)(e,null==M?void 0:M.pageStore)}),[M]),C=(0,r().IS)((()=>({container:{...n(799954).CC,display:"flex",alignItems:"center",flexGrow:1,height:a().A.isMobile?36:32,fontSize:16,borderRadius:4,paddingInlineStart:8,marginBottom:2,color:S?g().Tj.text.secondary:g().Tj.text.tertiary},icon:{display:"flex",alignItems:"center",width:24,height:24,marginInlineEnd:10},hovered:{background:g().Tj.buttonHoveredBackground,color:g().Tj.text.primary},pressed:{background:g().Tj.buttonPressedBackground},right:{marginInlineStart:"auto",marginInlineEnd:4}})),[S]);return(0,u.jsxs)(l().Ay,{style:C.container,hovered:e,onClick:t,onMouseMove:o,onMouseEnter:s,onMouseLeave:c,hoveredStyle:C.hovered,pressedStyle:C.pressed,children:[(0,u.jsx)("div",{style:C.icon,children:d}),(0,u.jsx)(A,{format:p,title:m,isDefault:f,isChecked:v,recurrence:y,recurrenceDisabled:k}),x?(0,u.jsx)("div",{style:C.right,children:x}):null]})})),T=(0,o.forwardRef)((function(e,t){const{focused:n,onClick:o,onMouseMove:a,onMouseEnter:i,onMouseLeave:c,icon:d,title:p,type:m,tooltipEvents:f}=e,y=(0,r().eP)(),k=(0,r().IS)((()=>({container:{display:"flex",alignItems:"center",paddingTop:6,paddingInlineEnd:14,paddingBottom:6,paddingInlineStart:10,background:g().Tj.background.tertiaryTranslucent,borderRadius:100,fontSize:13,fontWeight:v().Wy.medium,..."more"===m?{width:32,height:32,padding:0,justifyContent:"center"}:{},...n?{background:(0,l().i)({color:g().Tj.background.tertiaryTranslucent,mode:y})}:{}}})),[n,m,y]);return(0,u.jsx)("div",{ref:t,onClick:o,onMouseMove:a,onMouseEnter:i,onMouseLeave:c,...f||{},style:k.container,children:(0,u.jsxs)(s().fI,{gap:4,alignItems:"center",children:[d,p]})})})),D=(0,o.forwardRef)((function(e,t){const{focused:n,onClick:o,onMouseMove:a,onMouseEnter:i,onMouseLeave:l,icon:c,title:d}=e,p=(0,r().IS)((()=>{const e={background:g().Tj.background.tertiaryTranslucent,borderRadius:6};return{container:{display:"flex",alignItems:"center",paddingTop:4,paddingInlineEnd:10,paddingBottom:4,paddingInlineStart:8,...n?e:{}}}}),[n]);return(0,u.jsx)("div",{ref:t,onClick:o,onMouseMove:a,onMouseEnter:i,onMouseLeave:l,style:p.container,children:(0,u.jsxs)(s().fI,{gap:8,alignItems:"center",children:[c,d]})})})),E=(0,o.forwardRef)((function(e,t){const a=(0,o.useRef)(null),i=(0,n(404694).V)(),[l,s]=S(),c=(0,r().IS)((()=>({tooltipContainer:{display:"flex",flexDirection:"row",gap:"6px",padding:"0px 0",alignItems:"center",marginInlineStart:"-4px"},tooltip:{width:200},badge:{background:g().Tj.palette.translucentGray[300],color:g().Tj.text.inverseSecondary,width:"fit-content"}})),[]);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(n(734762).B,{shouldShow:l,calloutId:"dictation_new_page_origin_element_tooltip",inAppCalloutStore:i,children:(0,u.jsx)(n(148297).k,{style:c.tooltip,pointerLength:25,pointerPosition:"50%",origin:a,placementToOrigin:"top",alignmentToOrigin:"center",header:(0,u.jsx)(y().A,{style:c.badge}),content:(0,u.jsx)(f().sA,{...C.dictationCalloutHeader}),shouldDismissUponOutsideClick:!0,onCloseClick:s})}),(0,u.jsx)(n(26697).m,{disableTooltip:l,renderTooltip:()=>(0,u.jsxs)("div",{style:c.tooltipContainer,children:[(0,u.jsx)(y().A,{style:c.badge}),(0,u.jsx)(f().sA,{...C.horizontalNewPageDictationItemTooltip})]}),originGap:6,placement:"top",render:n=>(0,u.jsx)("div",{ref:a,children:(0,u.jsx)(T,{...e,ref:t,tooltipEvents:n})})})]})}))},911706:(e,t,n)=>{n.d(t,{A:()=>s});n(296540);var o=()=>n(401497),a=()=>n(718827),i=()=>n(807449),r=()=>n(126617),l=n(474848);function s({onClick:e,className:t,isMobile:n,style:s,testId:c,onFocus:d,onBlur:u,onMouseDown:p,onMouseEnter:m,onMouseLeave:f}){const{buttonStyle:g}=(0,o().IS)((()=>({buttonStyle:{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0,borderRadius:6,width:n?45:24,height:n?45:24,marginInlineEnd:n?-8:-6,...s}})),[n,s]);return(0,l.jsx)(a().Ay,{onClick:e,style:g,className:t,testId:c,onFocus:d,onBlur:u,onMouseDown:p,onMouseEnter:m,onMouseLeave:f,children:(0,l.jsx)(i().I,{icon:r().ellipsisSmallIcon,size:"sm",colorVariant:"secondary"})})}},950914:(e,t,n)=>{n.d(t,{AL:()=>i,Q6:()=>l,vt:()=>r});n(898992),n(672577);var o=()=>n(433337),a=()=>n(254947);const i={autoCompleteSprints:!1,actionConfig:{complete_sprint_action:"complete_sprint_and_move_incomplete_tasks_to_next_sprint"},recurrenceConfig:{interval:2,weekdays:["MO"]}};function r(e){const{eventTracker:t,properties:n}=e;t.DO_NOT_USE_commonTrackEvent({eventName:"complete_sprint_action",properties:n})}function l(e,t){var n;return null===(n=t.groups)||void 0===n||null===(n=n.find((t=>t.id===o().nl||(null==t?void 0:t.name)===a().P0||(null==t?void 0:t.name)===e.formatMessage(a().oz.statusGroupNameComplete))))||void 0===n?void 0:n.name}}}]);