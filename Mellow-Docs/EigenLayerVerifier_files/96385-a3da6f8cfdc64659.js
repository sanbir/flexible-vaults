"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[96385],{13966:(e,t,o)=>{o.d(t,{H:()=>n});const n=(0,o(340498).xh)("infoCircle",{default:{loader:()=>o.e(7457).then(o.bind(o,525884))},small:{loader:()=>o.e(7457).then(o.bind(o,395546))},fill:{loader:()=>o.e(7457).then(o.bind(o,879526))},fillSmall:{loader:()=>o.e(7457).then(o.bind(o,361173))}},["info","circle","information","help","details"])},75858:(e,t,o)=>{o.d(t,{Li:()=>j,Tb:()=>T,iD:()=>_,yA:()=>F,V6:()=>b,_n:()=>A,Yk:()=>I,rD:()=>w,w_:()=>D,xX:()=>k,wh:()=>N,dr:()=>K,Gx:()=>E,q4:()=>U,MX:()=>L,fs:()=>V,VT:()=>C,fA:()=>M,LX:()=>B,l:()=>R,L:()=>P,kb:()=>x,Sh:()=>O,cm:()=>S});var n=()=>o(79926),r=o(296540),i=()=>o(564884),a=()=>o(484714),l=()=>o(590526),s=()=>o(371722),c=()=>o(127833),d=()=>o(546926),u=()=>o(890492),p=()=>o(663639),m=()=>o(69708),y=()=>o(457717),f=()=>o(864040),g=o(474848);function h(e){const{store:t}=e,n=(0,l().K8)((()=>y().F.state.open),[]),i=(0,r.useCallback)((()=>{y().F.setState({open:!1})}),[]);return o(726637).A.isMobile?(0,g.jsx)(c().zD,{popupType:c().nl.BottomSheet,bottomSheetInitialState:"half",trapFocus:!0,open:n,render:()=>(0,g.jsx)(v,{store:t,onClose:i}),onDismiss:i}):null}function v(e){const{store:t,onClose:o}=e,n=(0,a().v3)(),r=(0,l().K8)((()=>{const e=(0,s().f)(t,{includeTeamHomeFeed:!1,includeDataSources:!0});return e.reverse(),e}),[t]),c={menuType:d().gu.Modal,title:(0,g.jsx)(m().sA,{defaultMessage:"Breadcrumb",id:"breadcrumb.mobileBreadcrumbMenu.title"})};return(0,g.jsx)(u().A,{...c,children:(0,g.jsx)(p().A,{type:p().O.Vertical,onAccept:o,initialFocus:void 0,sections:(0,f().A)(n,r,(e=>{const t=void 0!==e.collectionId;(0,i().u)({environment:n,event:{eventName:"topbar_breadcrumb_page_click",eventProperties:{page_id:e.pageId,is_data_source:t}}})}))})})}const S=new(n().O2)("menus",(async()=>{const[{default:e},{TopbarPageAnalyticsOptOutMenu:t},{default:n},{default:r},{default:i},{default:a},{default:l},{default:s},{default:c},{DatePropertyMenu:d},{default:u},{SidebarTeamModal:p},{SidebarCreateTeamModal:m},{CreateTeamFromPageConfirmModal:y},{CollectionTypedDatabaseMigrationModal:f},{default:g},{default:v},{CollectionMentionContextMenu:S},{default:b},{MobilePageBacklinksMenuRenderer:x},{MobileShareMenuRenderer:C},{MobilePageUpdatesMenuRenderer:k},{MobileCommentsModalRenderer:A}]=await Promise.all([Promise.all([o.e(75134),o.e(35530),o.e(9773),o.e(36556),o.e(55373),o.e(36192),o.e(40537),o.e(71562),o.e(96346),o.e(44711),o.e(53321),o.e(51220),o.e(16471),o.e(37353),o.e(37571),o.e(29151),o.e(40118),o.e(50397),o.e(62475),o.e(3151),o.e(98629),o.e(22926),o.e(22900),o.e(42838),o.e(85128),o.e(49889),o.e(20108),o.e(46174),o.e(27992),o.e(63452),o.e(66249),o.e(92845),o.e(87249),o.e(79022),o.e(44854),o.e(34877),o.e(46414),o.e(11676),o.e(61165),o.e(47668),o.e(94522),o.e(44584),o.e(24587),o.e(67494),o.e(3651),o.e(38293),o.e(40992),o.e(88455),o.e(64556),o.e(33893),o.e(91793),o.e(55162),o.e(71003),o.e(32370),o.e(26264),o.e(36437),o.e(50363),o.e(42660),o.e(44590),o.e(55113),o.e(85071),o.e(7914),o.e(25588),o.e(68637),o.e(23640),o.e(72252),o.e(93134),o.e(12452),o.e(52871),o.e(29351),o.e(18825),o.e(71853),o.e(93049),o.e(22582),o.e(18636),o.e(87289),o.e(16060),o.e(34281),o.e(48376),o.e(35279),o.e(80229),o.e(77754),o.e(71309),o.e(74562),o.e(39986),o.e(47431),o.e(47160),o.e(76677),o.e(68609),o.e(37384),o.e(15553),o.e(77345),o.e(67720),o.e(37759),o.e(41423),o.e(13955),o.e(42056),o.e(14699),o.e(57924),o.e(5181),o.e(3261),o.e(19456),o.e(17729),o.e(45147),o.e(65375),o.e(32116),o.e(94995),o.e(98339),o.e(51240),o.e(82641),o.e(20029),o.e(68395),o.e(81803),o.e(96654),o.e(68643),o.e(32625),o.e(63687),o.e(95885),o.e(27083),o.e(78999),o.e(11424),o.e(40119),o.e(54742),o.e(38946),o.e(90880),o.e(49175),o.e(8852),o.e(5331),o.e(92924),o.e(71381),o.e(1947),o.e(96385),o.e(80326),o.e(53352),o.e(2373),o.e(5315),o.e(995),o.e(76690),o.e(60713),o.e(31106),o.e(63248),o.e(54719),o.e(48570),o.e(78862),o.e(54234),o.e(85160),o.e(15381),o.e(50525),o.e(15922),o.e(77651),o.e(51204),o.e(34974),o.e(58672),o.e(95103),o.e(58071),o.e(75681)]).then(o.bind(o,809125)),Promise.all([o.e(75134),o.e(35530),o.e(9773),o.e(36556),o.e(55373),o.e(36192),o.e(40537),o.e(71562),o.e(96346),o.e(44711),o.e(53321),o.e(51220),o.e(16471),o.e(37353),o.e(37571),o.e(29151),o.e(40118),o.e(50397),o.e(62475),o.e(3151),o.e(98629),o.e(22926),o.e(22900),o.e(42838),o.e(85128),o.e(49889),o.e(20108),o.e(46174),o.e(27992),o.e(63452),o.e(66249),o.e(92845),o.e(87249),o.e(79022),o.e(44854),o.e(34877),o.e(46414),o.e(11676),o.e(61165),o.e(47668),o.e(94522),o.e(44584),o.e(24587),o.e(67494),o.e(3651),o.e(38293),o.e(40992),o.e(88455),o.e(64556),o.e(33893),o.e(91793),o.e(55162),o.e(71003),o.e(32370),o.e(26264),o.e(36437),o.e(50363),o.e(42660),o.e(44590),o.e(55113),o.e(85071),o.e(7914),o.e(25588),o.e(68637),o.e(23640),o.e(72252),o.e(93134),o.e(12452),o.e(52871),o.e(29351),o.e(18825),o.e(71853),o.e(93049),o.e(22582),o.e(18636),o.e(87289),o.e(16060),o.e(34281),o.e(48376),o.e(35279),o.e(80229),o.e(77754),o.e(71309),o.e(74562),o.e(39986),o.e(47431),o.e(47160),o.e(76677),o.e(68609),o.e(37384),o.e(15553),o.e(77345),o.e(67720),o.e(37759),o.e(41423),o.e(13955),o.e(42056),o.e(14699),o.e(57924),o.e(5181),o.e(3261),o.e(19456),o.e(17729),o.e(45147),o.e(65375),o.e(32116),o.e(94995),o.e(98339),o.e(51240),o.e(82641),o.e(20029),o.e(68395),o.e(81803),o.e(96654),o.e(68643),o.e(32625),o.e(63687),o.e(95885),o.e(27083),o.e(78999),o.e(11424),o.e(40119),o.e(54742),o.e(38946),o.e(90880),o.e(49175),o.e(8852),o.e(5331),o.e(92924),o.e(71381),o.e(1947),o.e(96385),o.e(80326),o.e(53352),o.e(2373),o.e(5315),o.e(995),o.e(76690),o.e(60713),o.e(31106),o.e(63248),o.e(54719),o.e(48570),o.e(78862),o.e(54234),o.e(85160),o.e(15381),o.e(50525),o.e(15922),o.e(77651),o.e(51204),o.e(34974),o.e(58672),o.e(95103),o.e(58071),o.e(75681)]).then(o.bind(o,687110)),Promise.all([o.e(75134),o.e(35530),o.e(9773),o.e(36556),o.e(55373),o.e(36192),o.e(40537),o.e(71562),o.e(96346),o.e(44711),o.e(53321),o.e(51220),o.e(16471),o.e(37353),o.e(37571),o.e(29151),o.e(40118),o.e(50397),o.e(62475),o.e(3151),o.e(98629),o.e(22926),o.e(22900),o.e(42838),o.e(85128),o.e(49889),o.e(20108),o.e(46174),o.e(27992),o.e(63452),o.e(66249),o.e(92845),o.e(87249),o.e(79022),o.e(44854),o.e(34877),o.e(46414),o.e(11676),o.e(61165),o.e(47668),o.e(94522),o.e(44584),o.e(24587),o.e(67494),o.e(3651),o.e(38293),o.e(40992),o.e(88455),o.e(64556),o.e(33893),o.e(91793),o.e(55162),o.e(71003),o.e(32370),o.e(26264),o.e(36437),o.e(50363),o.e(42660),o.e(44590),o.e(55113),o.e(85071),o.e(7914),o.e(25588),o.e(68637),o.e(23640),o.e(72252),o.e(93134),o.e(12452),o.e(52871),o.e(29351),o.e(18825),o.e(71853),o.e(93049),o.e(22582),o.e(18636),o.e(87289),o.e(16060),o.e(34281),o.e(48376),o.e(35279),o.e(80229),o.e(77754),o.e(71309),o.e(74562),o.e(39986),o.e(47431),o.e(47160),o.e(76677),o.e(68609),o.e(37384),o.e(15553),o.e(77345),o.e(67720),o.e(37759),o.e(41423),o.e(13955),o.e(42056),o.e(14699),o.e(57924),o.e(5181),o.e(3261),o.e(19456),o.e(17729),o.e(45147),o.e(65375),o.e(32116),o.e(94995),o.e(98339),o.e(51240),o.e(82641),o.e(20029),o.e(68395),o.e(81803),o.e(96654),o.e(68643),o.e(32625),o.e(63687),o.e(95885),o.e(27083),o.e(78999),o.e(11424),o.e(40119),o.e(54742),o.e(38946),o.e(90880),o.e(49175),o.e(8852),o.e(5331),o.e(92924),o.e(71381),o.e(1947),o.e(96385),o.e(80326),o.e(53352),o.e(2373),o.e(5315),o.e(995),o.e(76690),o.e(60713),o.e(31106),o.e(63248),o.e(54719),o.e(48570),o.e(78862),o.e(54234),o.e(85160),o.e(15381),o.e(50525),o.e(15922),o.e(77651),o.e(51204),o.e(34974),o.e(58672),o.e(95103),o.e(58071),o.e(75681)]).then(o.bind(o,723931)),Promise.all([o.e(75134),o.e(35530),o.e(9773),o.e(36556),o.e(55373),o.e(36192),o.e(40537),o.e(71562),o.e(96346),o.e(44711),o.e(53321),o.e(51220),o.e(16471),o.e(37353),o.e(37571),o.e(29151),o.e(40118),o.e(50397),o.e(62475),o.e(3151),o.e(98629),o.e(22926),o.e(22900),o.e(42838),o.e(85128),o.e(49889),o.e(20108),o.e(46174),o.e(27992),o.e(63452),o.e(66249),o.e(92845),o.e(87249),o.e(79022),o.e(44854),o.e(34877),o.e(46414),o.e(11676),o.e(61165),o.e(47668),o.e(94522),o.e(44584),o.e(24587),o.e(67494),o.e(3651),o.e(38293),o.e(40992),o.e(88455),o.e(64556),o.e(33893),o.e(91793),o.e(55162),o.e(71003),o.e(32370),o.e(26264),o.e(36437),o.e(50363),o.e(42660),o.e(44590),o.e(55113),o.e(85071),o.e(7914),o.e(25588),o.e(68637),o.e(23640),o.e(72252),o.e(93134),o.e(12452),o.e(52871),o.e(29351),o.e(18825),o.e(71853),o.e(93049),o.e(22582),o.e(18636),o.e(87289),o.e(16060),o.e(34281),o.e(48376),o.e(35279),o.e(80229),o.e(77754),o.e(71309),o.e(74562),o.e(39986),o.e(47431),o.e(47160),o.e(76677),o.e(68609),o.e(37384),o.e(15553),o.e(77345),o.e(67720),o.e(37759),o.e(41423),o.e(13955),o.e(42056),o.e(14699),o.e(57924),o.e(5181),o.e(3261),o.e(19456),o.e(17729),o.e(45147),o.e(65375),o.e(32116),o.e(94995),o.e(98339),o.e(51240),o.e(82641),o.e(20029),o.e(68395),o.e(81803),o.e(96654),o.e(68643),o.e(32625),o.e(63687),o.e(95885),o.e(27083),o.e(78999),o.e(11424),o.e(40119),o.e(54742),o.e(38946),o.e(90880),o.e(49175),o.e(8852),o.e(5331),o.e(92924),o.e(71381),o.e(1947),o.e(96385),o.e(80326),o.e(53352),o.e(2373),o.e(5315),o.e(995),o.e(76690),o.e(60713),o.e(31106),o.e(63248),o.e(54719),o.e(48570),o.e(78862),o.e(54234),o.e(85160),o.e(15381),o.e(50525),o.e(15922),o.e(77651),o.e(51204),o.e(34974),o.e(58672),o.e(95103),o.e(58071),o.e(75681)]).then(o.bind(o,207240)),Promise.all([o.e(75134),o.e(35530),o.e(9773),o.e(36556),o.e(55373),o.e(36192),o.e(40537),o.e(71562),o.e(96346),o.e(44711),o.e(53321),o.e(51220),o.e(16471),o.e(37353),o.e(37571),o.e(29151),o.e(40118),o.e(50397),o.e(62475),o.e(3151),o.e(98629),o.e(22926),o.e(22900),o.e(42838),o.e(85128),o.e(49889),o.e(20108),o.e(46174),o.e(27992),o.e(63452),o.e(66249),o.e(92845),o.e(87249),o.e(79022),o.e(44854),o.e(34877),o.e(46414),o.e(11676),o.e(61165),o.e(47668),o.e(94522),o.e(44584),o.e(24587),o.e(67494),o.e(3651),o.e(38293),o.e(40992),o.e(88455),o.e(64556),o.e(33893),o.e(91793),o.e(55162),o.e(71003),o.e(32370),o.e(26264),o.e(36437),o.e(50363),o.e(42660),o.e(44590),o.e(55113),o.e(85071),o.e(7914),o.e(25588),o.e(68637),o.e(23640),o.e(72252),o.e(93134),o.e(12452),o.e(52871),o.e(29351),o.e(18825),o.e(71853),o.e(93049),o.e(22582),o.e(18636),o.e(87289),o.e(16060),o.e(34281),o.e(48376),o.e(35279),o.e(80229),o.e(77754),o.e(71309),o.e(74562),o.e(39986),o.e(47431),o.e(47160),o.e(76677),o.e(68609),o.e(37384),o.e(15553),o.e(77345),o.e(67720),o.e(37759),o.e(41423),o.e(13955),o.e(42056),o.e(14699),o.e(57924),o.e(5181),o.e(3261),o.e(19456),o.e(17729),o.e(45147),o.e(65375),o.e(32116),o.e(94995),o.e(98339),o.e(51240),o.e(82641),o.e(20029),o.e(68395),o.e(81803),o.e(96654),o.e(68643),o.e(32625),o.e(63687),o.e(95885),o.e(27083),o.e(78999),o.e(11424),o.e(40119),o.e(54742),o.e(38946),o.e(90880),o.e(49175),o.e(8852),o.e(5331),o.e(92924),o.e(71381),o.e(1947),o.e(96385),o.e(80326),o.e(53352),o.e(2373),o.e(5315),o.e(995),o.e(76690),o.e(60713),o.e(31106),o.e(63248),o.e(54719),o.e(48570),o.e(78862),o.e(54234),o.e(85160),o.e(15381),o.e(50525),o.e(15922),o.e(77651),o.e(51204),o.e(34974),o.e(58672),o.e(95103),o.e(58071),o.e(75681)]).then(o.bind(o,98749)),Promise.all([o.e(75134),o.e(35530),o.e(9773),o.e(36556),o.e(55373),o.e(36192),o.e(40537),o.e(71562),o.e(96346),o.e(44711),o.e(53321),o.e(51220),o.e(16471),o.e(37353),o.e(37571),o.e(29151),o.e(40118),o.e(50397),o.e(62475),o.e(3151),o.e(98629),o.e(22926),o.e(22900),o.e(42838),o.e(85128),o.e(49889),o.e(20108),o.e(46174),o.e(27992),o.e(63452),o.e(66249),o.e(92845),o.e(87249),o.e(79022),o.e(44854),o.e(34877),o.e(46414),o.e(11676),o.e(61165),o.e(47668),o.e(94522),o.e(44584),o.e(24587),o.e(67494),o.e(3651),o.e(38293),o.e(40992),o.e(88455),o.e(64556),o.e(33893),o.e(91793),o.e(55162),o.e(71003),o.e(32370),o.e(26264),o.e(36437),o.e(50363),o.e(42660),o.e(44590),o.e(55113),o.e(85071),o.e(7914),o.e(25588),o.e(68637),o.e(23640),o.e(72252),o.e(93134),o.e(12452),o.e(52871),o.e(29351),o.e(18825),o.e(71853),o.e(93049),o.e(22582),o.e(18636),o.e(87289),o.e(16060),o.e(34281),o.e(48376),o.e(35279),o.e(80229),o.e(77754),o.e(71309),o.e(74562),o.e(39986),o.e(47431),o.e(47160),o.e(76677),o.e(68609),o.e(37384),o.e(15553),o.e(77345),o.e(67720),o.e(37759),o.e(41423),o.e(13955),o.e(42056),o.e(14699),o.e(57924),o.e(5181),o.e(3261),o.e(19456),o.e(17729),o.e(45147),o.e(65375),o.e(32116),o.e(94995),o.e(98339),o.e(51240),o.e(82641),o.e(20029),o.e(68395),o.e(81803),o.e(96654),o.e(68643),o.e(32625),o.e(63687),o.e(95885),o.e(27083),o.e(78999),o.e(11424),o.e(40119),o.e(54742),o.e(38946),o.e(90880),o.e(49175),o.e(8852),o.e(5331),o.e(92924),o.e(71381),o.e(1947),o.e(96385),o.e(80326),o.e(53352),o.e(2373),o.e(5315),o.e(995),o.e(76690),o.e(60713),o.e(31106),o.e(63248),o.e(54719),o.e(48570),o.e(78862),o.e(54234),o.e(85160),o.e(15381),o.e(50525),o.e(15922),o.e(77651),o.e(51204),o.e(34974),o.e(58672),o.e(95103),o.e(58071),o.e(75681)]).then(o.bind(o,19780)),Promise.all([o.e(75134),o.e(35530),o.e(9773),o.e(36556),o.e(55373),o.e(36192),o.e(40537),o.e(71562),o.e(96346),o.e(44711),o.e(53321),o.e(51220),o.e(16471),o.e(37353),o.e(37571),o.e(29151),o.e(40118),o.e(50397),o.e(62475),o.e(3151),o.e(98629),o.e(22926),o.e(22900),o.e(42838),o.e(85128),o.e(49889),o.e(20108),o.e(46174),o.e(27992),o.e(63452),o.e(66249),o.e(92845),o.e(87249),o.e(79022),o.e(44854),o.e(34877),o.e(46414),o.e(11676),o.e(61165),o.e(47668),o.e(94522),o.e(44584),o.e(24587),o.e(67494),o.e(3651),o.e(38293),o.e(40992),o.e(88455),o.e(64556),o.e(33893),o.e(91793),o.e(55162),o.e(71003),o.e(32370),o.e(26264),o.e(36437),o.e(50363),o.e(42660),o.e(44590),o.e(55113),o.e(85071),o.e(7914),o.e(25588),o.e(68637),o.e(23640),o.e(72252),o.e(93134),o.e(12452),o.e(52871),o.e(29351),o.e(18825),o.e(71853),o.e(93049),o.e(22582),o.e(18636),o.e(87289),o.e(16060),o.e(34281),o.e(48376),o.e(35279),o.e(80229),o.e(77754),o.e(71309),o.e(74562),o.e(39986),o.e(47431),o.e(47160),o.e(76677),o.e(68609),o.e(37384),o.e(15553),o.e(77345),o.e(67720),o.e(37759),o.e(41423),o.e(13955),o.e(42056),o.e(14699),o.e(57924),o.e(5181),o.e(3261),o.e(19456),o.e(17729),o.e(45147),o.e(65375),o.e(32116),o.e(94995),o.e(98339),o.e(51240),o.e(82641),o.e(20029),o.e(68395),o.e(81803),o.e(96654),o.e(68643),o.e(32625),o.e(63687),o.e(95885),o.e(27083),o.e(78999),o.e(11424),o.e(40119),o.e(54742),o.e(38946),o.e(90880),o.e(49175),o.e(8852),o.e(5331),o.e(92924),o.e(71381),o.e(1947),o.e(96385),o.e(80326),o.e(53352),o.e(2373),o.e(5315),o.e(995),o.e(76690),o.e(60713),o.e(31106),o.e(63248),o.e(54719),o.e(48570),o.e(78862),o.e(54234),o.e(85160),o.e(15381),o.e(50525),o.e(15922),o.e(77651),o.e(51204),o.e(34974),o.e(58672),o.e(95103),o.e(58071),o.e(75681)]).then(o.bind(o,70463)),Promise.all([o.e(75134),o.e(35530),o.e(9773),o.e(36556),o.e(55373),o.e(36192),o.e(40537),o.e(71562),o.e(96346),o.e(44711),o.e(53321),o.e(51220),o.e(16471),o.e(37353),o.e(37571),o.e(29151),o.e(40118),o.e(50397),o.e(62475),o.e(3151),o.e(98629),o.e(22926),o.e(22900),o.e(42838),o.e(85128),o.e(49889),o.e(20108),o.e(46174),o.e(27992),o.e(63452),o.e(66249),o.e(92845),o.e(87249),o.e(79022),o.e(44854),o.e(34877),o.e(46414),o.e(11676),o.e(61165),o.e(47668),o.e(94522),o.e(44584),o.e(24587),o.e(67494),o.e(3651),o.e(38293),o.e(40992),o.e(88455),o.e(64556),o.e(33893),o.e(91793),o.e(55162),o.e(71003),o.e(32370),o.e(26264),o.e(36437),o.e(50363),o.e(42660),o.e(44590),o.e(55113),o.e(85071),o.e(7914),o.e(25588),o.e(68637),o.e(23640),o.e(72252),o.e(93134),o.e(12452),o.e(52871),o.e(29351),o.e(18825),o.e(71853),o.e(93049),o.e(22582),o.e(18636),o.e(87289),o.e(16060),o.e(34281),o.e(48376),o.e(35279),o.e(80229),o.e(77754),o.e(71309),o.e(74562),o.e(39986),o.e(47431),o.e(47160),o.e(76677),o.e(68609),o.e(37384),o.e(15553),o.e(77345),o.e(67720),o.e(37759),o.e(41423),o.e(13955),o.e(42056),o.e(14699),o.e(57924),o.e(5181),o.e(3261),o.e(19456),o.e(17729),o.e(45147),o.e(65375),o.e(32116),o.e(94995),o.e(98339),o.e(51240),o.e(82641),o.e(20029),o.e(68395),o.e(81803),o.e(96654),o.e(68643),o.e(32625),o.e(63687),o.e(95885),o.e(27083),o.e(78999),o.e(11424),o.e(40119),o.e(54742),o.e(38946),o.e(90880),o.e(49175),o.e(8852),o.e(5331),o.e(92924),o.e(71381),o.e(1947),o.e(96385),o.e(80326),o.e(53352),o.e(2373),o.e(5315),o.e(995),o.e(76690),o.e(60713),o.e(31106),o.e(63248),o.e(54719),o.e(48570),o.e(78862),o.e(54234),o.e(85160),o.e(15381),o.e(50525),o.e(15922),o.e(77651),o.e(51204),o.e(34974),o.e(58672),o.e(95103),o.e(58071),o.e(75681)]).then(o.bind(o,946576)),Promise.all([o.e(75134),o.e(35530),o.e(9773),o.e(36556),o.e(55373),o.e(36192),o.e(40537),o.e(71562),o.e(96346),o.e(44711),o.e(53321),o.e(51220),o.e(16471),o.e(37353),o.e(37571),o.e(29151),o.e(40118),o.e(50397),o.e(62475),o.e(3151),o.e(98629),o.e(22926),o.e(22900),o.e(42838),o.e(85128),o.e(49889),o.e(20108),o.e(46174),o.e(27992),o.e(63452),o.e(66249),o.e(92845),o.e(87249),o.e(79022),o.e(44854),o.e(34877),o.e(46414),o.e(11676),o.e(61165),o.e(47668),o.e(94522),o.e(44584),o.e(24587),o.e(67494),o.e(3651),o.e(38293),o.e(40992),o.e(88455),o.e(64556),o.e(33893),o.e(91793),o.e(55162),o.e(71003),o.e(32370),o.e(26264),o.e(36437),o.e(50363),o.e(42660),o.e(44590),o.e(55113),o.e(85071),o.e(7914),o.e(25588),o.e(68637),o.e(23640),o.e(72252),o.e(93134),o.e(12452),o.e(52871),o.e(29351),o.e(18825),o.e(71853),o.e(93049),o.e(22582),o.e(18636),o.e(87289),o.e(16060),o.e(34281),o.e(48376),o.e(35279),o.e(80229),o.e(77754),o.e(71309),o.e(74562),o.e(39986),o.e(47431),o.e(47160),o.e(76677),o.e(68609),o.e(37384),o.e(15553),o.e(77345),o.e(67720),o.e(37759),o.e(41423),o.e(13955),o.e(42056),o.e(14699),o.e(57924),o.e(5181),o.e(3261),o.e(19456),o.e(17729),o.e(45147),o.e(65375),o.e(32116),o.e(94995),o.e(98339),o.e(51240),o.e(82641),o.e(20029),o.e(68395),o.e(81803),o.e(96654),o.e(68643),o.e(32625),o.e(63687),o.e(95885),o.e(27083),o.e(78999),o.e(11424),o.e(40119),o.e(54742),o.e(38946),o.e(90880),o.e(49175),o.e(8852),o.e(5331),o.e(92924),o.e(71381),o.e(1947),o.e(96385),o.e(80326),o.e(53352),o.e(2373),o.e(5315),o.e(995),o.e(76690),o.e(60713),o.e(31106),o.e(63248),o.e(54719),o.e(48570),o.e(78862),o.e(54234),o.e(85160),o.e(15381),o.e(50525),o.e(15922),o.e(77651),o.e(51204),o.e(34974),o.e(58672),o.e(95103),o.e(58071),o.e(75681)]).then(o.bind(o,856790)),Promise.all([o.e(75134),o.e(35530),o.e(9773),o.e(36556),o.e(55373),o.e(36192),o.e(40537),o.e(71562),o.e(96346),o.e(44711),o.e(53321),o.e(51220),o.e(16471),o.e(37353),o.e(37571),o.e(29151),o.e(40118),o.e(50397),o.e(62475),o.e(3151),o.e(98629),o.e(22926),o.e(22900),o.e(42838),o.e(85128),o.e(49889),o.e(20108),o.e(46174),o.e(27992),o.e(63452),o.e(66249),o.e(92845),o.e(87249),o.e(79022),o.e(44854),o.e(34877),o.e(46414),o.e(11676),o.e(61165),o.e(47668),o.e(94522),o.e(44584),o.e(24587),o.e(67494),o.e(3651),o.e(38293),o.e(40992),o.e(88455),o.e(64556),o.e(33893),o.e(91793),o.e(55162),o.e(71003),o.e(32370),o.e(26264),o.e(36437),o.e(50363),o.e(42660),o.e(44590),o.e(55113),o.e(85071),o.e(7914),o.e(25588),o.e(68637),o.e(23640),o.e(72252),o.e(93134),o.e(12452),o.e(52871),o.e(29351),o.e(18825),o.e(71853),o.e(93049),o.e(22582),o.e(18636),o.e(87289),o.e(16060),o.e(34281),o.e(48376),o.e(35279),o.e(80229),o.e(77754),o.e(71309),o.e(74562),o.e(39986),o.e(47431),o.e(47160),o.e(76677),o.e(68609),o.e(37384),o.e(15553),o.e(77345),o.e(67720),o.e(37759),o.e(41423),o.e(13955),o.e(42056),o.e(14699),o.e(57924),o.e(5181),o.e(3261),o.e(19456),o.e(17729),o.e(45147),o.e(65375),o.e(32116),o.e(94995),o.e(98339),o.e(51240),o.e(82641),o.e(20029),o.e(68395),o.e(81803),o.e(96654),o.e(68643),o.e(32625),o.e(63687),o.e(95885),o.e(27083),o.e(78999),o.e(11424),o.e(40119),o.e(54742),o.e(38946),o.e(90880),o.e(49175),o.e(8852),o.e(5331),o.e(92924),o.e(71381),o.e(1947),o.e(96385),o.e(80326),o.e(53352),o.e(2373),o.e(5315),o.e(995),o.e(76690),o.e(60713),o.e(31106),o.e(63248),o.e(54719),o.e(48570),o.e(78862),o.e(54234),o.e(85160),o.e(15381),o.e(50525),o.e(15922),o.e(77651),o.e(51204),o.e(34974),o.e(58672),o.e(95103),o.e(58071),o.e(75681)]).then(o.bind(o,525639)),Promise.all([o.e(75134),o.e(35530),o.e(9773),o.e(36556),o.e(55373),o.e(36192),o.e(40537),o.e(71562),o.e(96346),o.e(44711),o.e(53321),o.e(51220),o.e(16471),o.e(37353),o.e(37571),o.e(29151),o.e(40118),o.e(50397),o.e(62475),o.e(3151),o.e(98629),o.e(22926),o.e(22900),o.e(42838),o.e(85128),o.e(49889),o.e(20108),o.e(46174),o.e(27992),o.e(63452),o.e(66249),o.e(92845),o.e(87249),o.e(79022),o.e(44854),o.e(34877),o.e(46414),o.e(11676),o.e(61165),o.e(47668),o.e(94522),o.e(44584),o.e(24587),o.e(67494),o.e(3651),o.e(38293),o.e(40992),o.e(88455),o.e(64556),o.e(33893),o.e(91793),o.e(55162),o.e(71003),o.e(32370),o.e(26264),o.e(36437),o.e(50363),o.e(42660),o.e(44590),o.e(55113),o.e(85071),o.e(7914),o.e(25588),o.e(68637),o.e(23640),o.e(72252),o.e(93134),o.e(12452),o.e(52871),o.e(29351),o.e(18825),o.e(71853),o.e(93049),o.e(22582),o.e(18636),o.e(87289),o.e(16060),o.e(34281),o.e(48376),o.e(35279),o.e(80229),o.e(77754),o.e(71309),o.e(74562),o.e(39986),o.e(47431),o.e(47160),o.e(76677),o.e(68609),o.e(37384),o.e(15553),o.e(77345),o.e(67720),o.e(37759),o.e(41423),o.e(13955),o.e(42056),o.e(14699),o.e(57924),o.e(5181),o.e(3261),o.e(19456),o.e(17729),o.e(45147),o.e(65375),o.e(32116),o.e(94995),o.e(98339),o.e(51240),o.e(82641),o.e(20029),o.e(68395),o.e(81803),o.e(96654),o.e(68643),o.e(32625),o.e(63687),o.e(95885),o.e(27083),o.e(78999),o.e(11424),o.e(40119),o.e(54742),o.e(38946),o.e(90880),o.e(49175),o.e(8852),o.e(5331),o.e(92924),o.e(71381),o.e(1947),o.e(96385),o.e(80326),o.e(53352),o.e(2373),o.e(5315),o.e(995),o.e(76690),o.e(60713),o.e(31106),o.e(63248),o.e(54719),o.e(48570),o.e(78862),o.e(54234),o.e(85160),o.e(15381),o.e(50525),o.e(15922),o.e(77651),o.e(51204),o.e(34974),o.e(58672),o.e(95103),o.e(58071),o.e(75681)]).then(o.bind(o,936529)),Promise.all([o.e(75134),o.e(35530),o.e(9773),o.e(36556),o.e(55373),o.e(36192),o.e(40537),o.e(71562),o.e(96346),o.e(44711),o.e(53321),o.e(51220),o.e(16471),o.e(37353),o.e(37571),o.e(29151),o.e(40118),o.e(50397),o.e(62475),o.e(3151),o.e(98629),o.e(22926),o.e(22900),o.e(42838),o.e(85128),o.e(49889),o.e(20108),o.e(46174),o.e(27992),o.e(63452),o.e(66249),o.e(92845),o.e(87249),o.e(79022),o.e(44854),o.e(34877),o.e(46414),o.e(11676),o.e(61165),o.e(47668),o.e(94522),o.e(44584),o.e(24587),o.e(67494),o.e(3651),o.e(38293),o.e(40992),o.e(88455),o.e(64556),o.e(33893),o.e(91793),o.e(55162),o.e(71003),o.e(32370),o.e(26264),o.e(36437),o.e(50363),o.e(42660),o.e(44590),o.e(55113),o.e(85071),o.e(7914),o.e(25588),o.e(68637),o.e(23640),o.e(72252),o.e(93134),o.e(12452),o.e(52871),o.e(29351),o.e(18825),o.e(71853),o.e(93049),o.e(22582),o.e(18636),o.e(87289),o.e(16060),o.e(34281),o.e(48376),o.e(35279),o.e(80229),o.e(77754),o.e(71309),o.e(74562),o.e(39986),o.e(47431),o.e(47160),o.e(76677),o.e(68609),o.e(37384),o.e(15553),o.e(77345),o.e(67720),o.e(37759),o.e(41423),o.e(13955),o.e(42056),o.e(14699),o.e(57924),o.e(5181),o.e(3261),o.e(19456),o.e(17729),o.e(45147),o.e(65375),o.e(32116),o.e(94995),o.e(98339),o.e(51240),o.e(82641),o.e(20029),o.e(68395),o.e(81803),o.e(96654),o.e(68643),o.e(32625),o.e(63687),o.e(95885),o.e(27083),o.e(78999),o.e(11424),o.e(40119),o.e(54742),o.e(38946),o.e(90880),o.e(49175),o.e(8852),o.e(5331),o.e(92924),o.e(71381),o.e(1947),o.e(96385),o.e(80326),o.e(53352),o.e(2373),o.e(5315),o.e(995),o.e(76690),o.e(60713),o.e(31106),o.e(63248),o.e(54719),o.e(48570),o.e(78862),o.e(54234),o.e(85160),o.e(15381),o.e(50525),o.e(15922),o.e(77651),o.e(51204),o.e(34974),o.e(58672),o.e(95103),o.e(58071),o.e(75681)]).then(o.bind(o,555367)),Promise.all([o.e(75134),o.e(35530),o.e(9773),o.e(36556),o.e(55373),o.e(36192),o.e(40537),o.e(71562),o.e(96346),o.e(44711),o.e(53321),o.e(51220),o.e(16471),o.e(37353),o.e(37571),o.e(29151),o.e(40118),o.e(50397),o.e(62475),o.e(3151),o.e(98629),o.e(22926),o.e(22900),o.e(42838),o.e(85128),o.e(49889),o.e(20108),o.e(46174),o.e(27992),o.e(63452),o.e(66249),o.e(92845),o.e(87249),o.e(79022),o.e(44854),o.e(34877),o.e(46414),o.e(11676),o.e(61165),o.e(47668),o.e(94522),o.e(44584),o.e(24587),o.e(67494),o.e(3651),o.e(38293),o.e(40992),o.e(88455),o.e(64556),o.e(33893),o.e(91793),o.e(55162),o.e(71003),o.e(32370),o.e(26264),o.e(36437),o.e(50363),o.e(42660),o.e(44590),o.e(55113),o.e(85071),o.e(7914),o.e(25588),o.e(68637),o.e(23640),o.e(72252),o.e(93134),o.e(12452),o.e(52871),o.e(29351),o.e(18825),o.e(71853),o.e(93049),o.e(22582),o.e(18636),o.e(87289),o.e(16060),o.e(34281),o.e(48376),o.e(35279),o.e(80229),o.e(77754),o.e(71309),o.e(74562),o.e(39986),o.e(47431),o.e(47160),o.e(76677),o.e(68609),o.e(37384),o.e(15553),o.e(77345),o.e(67720),o.e(37759),o.e(41423),o.e(13955),o.e(42056),o.e(14699),o.e(57924),o.e(5181),o.e(3261),o.e(19456),o.e(17729),o.e(45147),o.e(65375),o.e(32116),o.e(94995),o.e(98339),o.e(51240),o.e(82641),o.e(20029),o.e(68395),o.e(81803),o.e(96654),o.e(68643),o.e(32625),o.e(63687),o.e(95885),o.e(27083),o.e(78999),o.e(11424),o.e(40119),o.e(54742),o.e(38946),o.e(90880),o.e(49175),o.e(8852),o.e(5331),o.e(92924),o.e(71381),o.e(1947),o.e(96385),o.e(80326),o.e(53352),o.e(2373),o.e(5315),o.e(995),o.e(76690),o.e(60713),o.e(31106),o.e(63248),o.e(54719),o.e(48570),o.e(78862),o.e(54234),o.e(85160),o.e(15381),o.e(50525),o.e(15922),o.e(77651),o.e(51204),o.e(34974),o.e(58672),o.e(95103),o.e(58071),o.e(75681)]).then(o.bind(o,83842)),Promise.all([o.e(75134),o.e(35530),o.e(9773),o.e(36556),o.e(55373),o.e(36192),o.e(40537),o.e(71562),o.e(96346),o.e(44711),o.e(53321),o.e(51220),o.e(16471),o.e(37353),o.e(37571),o.e(29151),o.e(40118),o.e(50397),o.e(62475),o.e(3151),o.e(98629),o.e(22926),o.e(22900),o.e(42838),o.e(85128),o.e(49889),o.e(20108),o.e(46174),o.e(27992),o.e(63452),o.e(66249),o.e(92845),o.e(87249),o.e(79022),o.e(44854),o.e(34877),o.e(46414),o.e(11676),o.e(61165),o.e(47668),o.e(94522),o.e(44584),o.e(24587),o.e(67494),o.e(3651),o.e(38293),o.e(40992),o.e(88455),o.e(64556),o.e(33893),o.e(91793),o.e(55162),o.e(71003),o.e(32370),o.e(26264),o.e(36437),o.e(50363),o.e(42660),o.e(44590),o.e(55113),o.e(85071),o.e(7914),o.e(25588),o.e(68637),o.e(23640),o.e(72252),o.e(93134),o.e(12452),o.e(52871),o.e(29351),o.e(18825),o.e(71853),o.e(93049),o.e(22582),o.e(18636),o.e(87289),o.e(16060),o.e(34281),o.e(48376),o.e(35279),o.e(80229),o.e(77754),o.e(71309),o.e(74562),o.e(39986),o.e(47431),o.e(47160),o.e(76677),o.e(68609),o.e(37384),o.e(15553),o.e(77345),o.e(67720),o.e(37759),o.e(41423),o.e(13955),o.e(42056),o.e(14699),o.e(57924),o.e(5181),o.e(3261),o.e(19456),o.e(17729),o.e(45147),o.e(65375),o.e(32116),o.e(94995),o.e(98339),o.e(51240),o.e(82641),o.e(20029),o.e(68395),o.e(81803),o.e(96654),o.e(68643),o.e(32625),o.e(63687),o.e(95885),o.e(27083),o.e(78999),o.e(11424),o.e(40119),o.e(54742),o.e(38946),o.e(90880),o.e(49175),o.e(8852),o.e(5331),o.e(92924),o.e(71381),o.e(1947),o.e(96385),o.e(80326),o.e(53352),o.e(2373),o.e(5315),o.e(995),o.e(76690),o.e(60713),o.e(31106),o.e(63248),o.e(54719),o.e(48570),o.e(78862),o.e(54234),o.e(85160),o.e(15381),o.e(50525),o.e(15922),o.e(77651),o.e(51204),o.e(34974),o.e(58672),o.e(95103),o.e(58071),o.e(75681)]).then(o.bind(o,296431)),Promise.all([o.e(75134),o.e(35530),o.e(9773),o.e(36556),o.e(55373),o.e(36192),o.e(40537),o.e(71562),o.e(96346),o.e(44711),o.e(53321),o.e(51220),o.e(16471),o.e(37353),o.e(37571),o.e(29151),o.e(40118),o.e(50397),o.e(62475),o.e(3151),o.e(98629),o.e(22926),o.e(22900),o.e(42838),o.e(85128),o.e(49889),o.e(20108),o.e(46174),o.e(27992),o.e(63452),o.e(66249),o.e(92845),o.e(87249),o.e(79022),o.e(44854),o.e(34877),o.e(46414),o.e(11676),o.e(61165),o.e(47668),o.e(94522),o.e(44584),o.e(24587),o.e(67494),o.e(3651),o.e(38293),o.e(40992),o.e(88455),o.e(64556),o.e(33893),o.e(91793),o.e(55162),o.e(71003),o.e(32370),o.e(26264),o.e(36437),o.e(50363),o.e(42660),o.e(44590),o.e(55113),o.e(85071),o.e(7914),o.e(25588),o.e(68637),o.e(23640),o.e(72252),o.e(93134),o.e(12452),o.e(52871),o.e(29351),o.e(18825),o.e(71853),o.e(93049),o.e(22582),o.e(18636),o.e(87289),o.e(16060),o.e(34281),o.e(48376),o.e(35279),o.e(80229),o.e(77754),o.e(71309),o.e(74562),o.e(39986),o.e(47431),o.e(47160),o.e(76677),o.e(68609),o.e(37384),o.e(15553),o.e(77345),o.e(67720),o.e(37759),o.e(41423),o.e(13955),o.e(42056),o.e(14699),o.e(57924),o.e(5181),o.e(3261),o.e(19456),o.e(17729),o.e(45147),o.e(65375),o.e(32116),o.e(94995),o.e(98339),o.e(51240),o.e(82641),o.e(20029),o.e(68395),o.e(81803),o.e(96654),o.e(68643),o.e(32625),o.e(63687),o.e(95885),o.e(27083),o.e(78999),o.e(11424),o.e(40119),o.e(54742),o.e(38946),o.e(90880),o.e(49175),o.e(8852),o.e(5331),o.e(92924),o.e(71381),o.e(1947),o.e(96385),o.e(80326),o.e(53352),o.e(2373),o.e(5315),o.e(995),o.e(76690),o.e(60713),o.e(31106),o.e(63248),o.e(54719),o.e(48570),o.e(78862),o.e(54234),o.e(85160),o.e(15381),o.e(50525),o.e(15922),o.e(77651),o.e(51204),o.e(34974),o.e(58672),o.e(95103),o.e(58071),o.e(75681)]).then(o.bind(o,763275)),Promise.all([o.e(75134),o.e(35530),o.e(9773),o.e(36556),o.e(55373),o.e(36192),o.e(40537),o.e(71562),o.e(96346),o.e(44711),o.e(53321),o.e(51220),o.e(16471),o.e(37353),o.e(37571),o.e(29151),o.e(40118),o.e(50397),o.e(62475),o.e(3151),o.e(98629),o.e(22926),o.e(22900),o.e(42838),o.e(85128),o.e(49889),o.e(20108),o.e(46174),o.e(27992),o.e(63452),o.e(66249),o.e(92845),o.e(87249),o.e(79022),o.e(44854),o.e(34877),o.e(46414),o.e(11676),o.e(61165),o.e(47668),o.e(94522),o.e(44584),o.e(24587),o.e(67494),o.e(3651),o.e(38293),o.e(40992),o.e(88455),o.e(64556),o.e(33893),o.e(91793),o.e(55162),o.e(71003),o.e(32370),o.e(26264),o.e(36437),o.e(50363),o.e(42660),o.e(44590),o.e(55113),o.e(85071),o.e(7914),o.e(25588),o.e(68637),o.e(23640),o.e(72252),o.e(93134),o.e(12452),o.e(52871),o.e(29351),o.e(18825),o.e(71853),o.e(93049),o.e(22582),o.e(18636),o.e(87289),o.e(16060),o.e(34281),o.e(48376),o.e(35279),o.e(80229),o.e(77754),o.e(71309),o.e(74562),o.e(39986),o.e(47431),o.e(47160),o.e(76677),o.e(68609),o.e(37384),o.e(15553),o.e(77345),o.e(67720),o.e(37759),o.e(41423),o.e(13955),o.e(42056),o.e(14699),o.e(57924),o.e(5181),o.e(3261),o.e(19456),o.e(17729),o.e(45147),o.e(65375),o.e(32116),o.e(94995),o.e(98339),o.e(51240),o.e(82641),o.e(20029),o.e(68395),o.e(81803),o.e(96654),o.e(68643),o.e(32625),o.e(63687),o.e(95885),o.e(27083),o.e(78999),o.e(11424),o.e(40119),o.e(54742),o.e(38946),o.e(90880),o.e(49175),o.e(8852),o.e(5331),o.e(92924),o.e(71381),o.e(1947),o.e(96385),o.e(80326),o.e(53352),o.e(2373),o.e(5315),o.e(995),o.e(76690),o.e(60713),o.e(31106),o.e(63248),o.e(54719),o.e(48570),o.e(78862),o.e(54234),o.e(85160),o.e(15381),o.e(50525),o.e(15922),o.e(77651),o.e(51204),o.e(34974),o.e(58672),o.e(95103),o.e(58071),o.e(75681)]).then(o.bind(o,992757)),Promise.all([o.e(75134),o.e(35530),o.e(9773),o.e(36556),o.e(55373),o.e(36192),o.e(40537),o.e(71562),o.e(96346),o.e(44711),o.e(53321),o.e(51220),o.e(16471),o.e(37353),o.e(37571),o.e(29151),o.e(40118),o.e(50397),o.e(62475),o.e(3151),o.e(98629),o.e(22926),o.e(22900),o.e(42838),o.e(85128),o.e(49889),o.e(20108),o.e(46174),o.e(27992),o.e(63452),o.e(66249),o.e(92845),o.e(87249),o.e(79022),o.e(44854),o.e(34877),o.e(46414),o.e(11676),o.e(61165),o.e(47668),o.e(94522),o.e(44584),o.e(24587),o.e(67494),o.e(3651),o.e(38293),o.e(40992),o.e(88455),o.e(64556),o.e(33893),o.e(91793),o.e(55162),o.e(71003),o.e(32370),o.e(26264),o.e(36437),o.e(50363),o.e(42660),o.e(44590),o.e(55113),o.e(85071),o.e(7914),o.e(25588),o.e(68637),o.e(23640),o.e(72252),o.e(93134),o.e(12452),o.e(52871),o.e(29351),o.e(18825),o.e(71853),o.e(93049),o.e(22582),o.e(18636),o.e(87289),o.e(16060),o.e(34281),o.e(48376),o.e(35279),o.e(80229),o.e(77754),o.e(71309),o.e(74562),o.e(39986),o.e(47431),o.e(47160),o.e(76677),o.e(68609),o.e(37384),o.e(15553),o.e(77345),o.e(67720),o.e(37759),o.e(41423),o.e(13955),o.e(42056),o.e(14699),o.e(57924),o.e(5181),o.e(3261),o.e(19456),o.e(17729),o.e(45147),o.e(65375),o.e(32116),o.e(94995),o.e(98339),o.e(51240),o.e(82641),o.e(20029),o.e(68395),o.e(81803),o.e(96654),o.e(68643),o.e(32625),o.e(63687),o.e(95885),o.e(27083),o.e(78999),o.e(11424),o.e(40119),o.e(54742),o.e(38946),o.e(90880),o.e(49175),o.e(8852),o.e(5331),o.e(92924),o.e(71381),o.e(1947),o.e(96385),o.e(80326),o.e(53352),o.e(2373),o.e(5315),o.e(995),o.e(76690),o.e(60713),o.e(31106),o.e(63248),o.e(54719),o.e(48570),o.e(78862),o.e(54234),o.e(85160),o.e(15381),o.e(50525),o.e(15922),o.e(77651),o.e(51204),o.e(34974),o.e(58672),o.e(95103),o.e(58071),o.e(75681)]).then(o.bind(o,271930)),Promise.all([o.e(75134),o.e(35530),o.e(9773),o.e(36556),o.e(55373),o.e(36192),o.e(40537),o.e(71562),o.e(96346),o.e(44711),o.e(53321),o.e(51220),o.e(16471),o.e(37353),o.e(37571),o.e(29151),o.e(40118),o.e(50397),o.e(62475),o.e(3151),o.e(98629),o.e(22926),o.e(22900),o.e(42838),o.e(85128),o.e(49889),o.e(20108),o.e(46174),o.e(27992),o.e(63452),o.e(66249),o.e(92845),o.e(87249),o.e(79022),o.e(44854),o.e(34877),o.e(46414),o.e(11676),o.e(61165),o.e(47668),o.e(94522),o.e(44584),o.e(24587),o.e(67494),o.e(3651),o.e(38293),o.e(40992),o.e(88455),o.e(64556),o.e(33893),o.e(91793),o.e(55162),o.e(71003),o.e(32370),o.e(26264),o.e(36437),o.e(50363),o.e(42660),o.e(44590),o.e(55113),o.e(85071),o.e(7914),o.e(25588),o.e(68637),o.e(23640),o.e(72252),o.e(93134),o.e(12452),o.e(52871),o.e(29351),o.e(18825),o.e(71853),o.e(93049),o.e(22582),o.e(18636),o.e(87289),o.e(16060),o.e(34281),o.e(48376),o.e(35279),o.e(80229),o.e(77754),o.e(71309),o.e(74562),o.e(39986),o.e(47431),o.e(47160),o.e(76677),o.e(68609),o.e(37384),o.e(15553),o.e(77345),o.e(67720),o.e(37759),o.e(41423),o.e(13955),o.e(42056),o.e(14699),o.e(57924),o.e(5181),o.e(3261),o.e(19456),o.e(17729),o.e(45147),o.e(65375),o.e(32116),o.e(94995),o.e(98339),o.e(51240),o.e(82641),o.e(20029),o.e(68395),o.e(81803),o.e(96654),o.e(68643),o.e(32625),o.e(63687),o.e(95885),o.e(27083),o.e(78999),o.e(11424),o.e(40119),o.e(54742),o.e(38946),o.e(90880),o.e(49175),o.e(8852),o.e(5331),o.e(92924),o.e(71381),o.e(1947),o.e(96385),o.e(80326),o.e(53352),o.e(2373),o.e(5315),o.e(995),o.e(76690),o.e(60713),o.e(31106),o.e(63248),o.e(54719),o.e(48570),o.e(78862),o.e(54234),o.e(85160),o.e(15381),o.e(50525),o.e(15922),o.e(77651),o.e(51204),o.e(34974),o.e(58672),o.e(95103),o.e(58071),o.e(75681)]).then(o.bind(o,378003)),Promise.all([o.e(75134),o.e(35530),o.e(9773),o.e(36556),o.e(55373),o.e(36192),o.e(40537),o.e(71562),o.e(96346),o.e(44711),o.e(53321),o.e(51220),o.e(16471),o.e(37353),o.e(37571),o.e(29151),o.e(40118),o.e(50397),o.e(62475),o.e(3151),o.e(98629),o.e(22926),o.e(22900),o.e(42838),o.e(85128),o.e(49889),o.e(20108),o.e(46174),o.e(27992),o.e(63452),o.e(66249),o.e(92845),o.e(87249),o.e(79022),o.e(44854),o.e(34877),o.e(46414),o.e(11676),o.e(61165),o.e(47668),o.e(94522),o.e(44584),o.e(24587),o.e(67494),o.e(3651),o.e(38293),o.e(40992),o.e(88455),o.e(64556),o.e(33893),o.e(91793),o.e(55162),o.e(71003),o.e(32370),o.e(26264),o.e(36437),o.e(50363),o.e(42660),o.e(44590),o.e(55113),o.e(85071),o.e(7914),o.e(25588),o.e(68637),o.e(23640),o.e(72252),o.e(93134),o.e(12452),o.e(52871),o.e(29351),o.e(18825),o.e(71853),o.e(93049),o.e(22582),o.e(18636),o.e(87289),o.e(16060),o.e(34281),o.e(48376),o.e(35279),o.e(80229),o.e(77754),o.e(71309),o.e(74562),o.e(39986),o.e(47431),o.e(47160),o.e(76677),o.e(68609),o.e(37384),o.e(15553),o.e(77345),o.e(67720),o.e(37759),o.e(41423),o.e(13955),o.e(42056),o.e(14699),o.e(57924),o.e(5181),o.e(3261),o.e(19456),o.e(17729),o.e(45147),o.e(65375),o.e(32116),o.e(94995),o.e(98339),o.e(51240),o.e(82641),o.e(20029),o.e(68395),o.e(81803),o.e(96654),o.e(68643),o.e(32625),o.e(63687),o.e(95885),o.e(27083),o.e(78999),o.e(11424),o.e(40119),o.e(54742),o.e(38946),o.e(90880),o.e(49175),o.e(8852),o.e(5331),o.e(92924),o.e(71381),o.e(1947),o.e(96385),o.e(80326),o.e(53352),o.e(2373),o.e(5315),o.e(995),o.e(76690),o.e(60713),o.e(31106),o.e(63248),o.e(54719),o.e(48570),o.e(78862),o.e(54234),o.e(85160),o.e(15381),o.e(50525),o.e(15922),o.e(77651),o.e(51204),o.e(34974),o.e(58672),o.e(95103),o.e(58071),o.e(75681)]).then(o.bind(o,160803)),Promise.all([o.e(75134),o.e(35530),o.e(9773),o.e(36556),o.e(55373),o.e(36192),o.e(40537),o.e(71562),o.e(96346),o.e(44711),o.e(53321),o.e(51220),o.e(16471),o.e(37353),o.e(37571),o.e(29151),o.e(40118),o.e(50397),o.e(62475),o.e(3151),o.e(98629),o.e(22926),o.e(22900),o.e(42838),o.e(85128),o.e(49889),o.e(20108),o.e(46174),o.e(27992),o.e(63452),o.e(66249),o.e(92845),o.e(87249),o.e(79022),o.e(44854),o.e(34877),o.e(46414),o.e(11676),o.e(61165),o.e(47668),o.e(94522),o.e(44584),o.e(24587),o.e(67494),o.e(3651),o.e(38293),o.e(40992),o.e(88455),o.e(64556),o.e(33893),o.e(91793),o.e(55162),o.e(71003),o.e(32370),o.e(26264),o.e(36437),o.e(50363),o.e(42660),o.e(44590),o.e(55113),o.e(85071),o.e(7914),o.e(25588),o.e(68637),o.e(23640),o.e(72252),o.e(93134),o.e(12452),o.e(52871),o.e(29351),o.e(18825),o.e(71853),o.e(93049),o.e(22582),o.e(18636),o.e(87289),o.e(16060),o.e(34281),o.e(48376),o.e(35279),o.e(80229),o.e(77754),o.e(71309),o.e(74562),o.e(39986),o.e(47431),o.e(47160),o.e(76677),o.e(68609),o.e(37384),o.e(15553),o.e(77345),o.e(67720),o.e(37759),o.e(41423),o.e(13955),o.e(42056),o.e(14699),o.e(57924),o.e(5181),o.e(3261),o.e(19456),o.e(17729),o.e(45147),o.e(65375),o.e(32116),o.e(94995),o.e(98339),o.e(51240),o.e(82641),o.e(20029),o.e(68395),o.e(81803),o.e(96654),o.e(68643),o.e(32625),o.e(63687),o.e(95885),o.e(27083),o.e(78999),o.e(11424),o.e(40119),o.e(54742),o.e(38946),o.e(90880),o.e(49175),o.e(8852),o.e(5331),o.e(92924),o.e(71381),o.e(1947),o.e(96385),o.e(80326),o.e(53352),o.e(2373),o.e(5315),o.e(995),o.e(76690),o.e(60713),o.e(31106),o.e(63248),o.e(54719),o.e(48570),o.e(78862),o.e(54234),o.e(85160),o.e(15381),o.e(50525),o.e(15922),o.e(77651),o.e(51204),o.e(34974),o.e(58672),o.e(95103),o.e(58071),o.e(75681)]).then(o.bind(o,33047)),Promise.all([o.e(75134),o.e(35530),o.e(9773),o.e(36556),o.e(55373),o.e(36192),o.e(40537),o.e(71562),o.e(96346),o.e(44711),o.e(53321),o.e(51220),o.e(16471),o.e(37353),o.e(37571),o.e(29151),o.e(40118),o.e(50397),o.e(62475),o.e(3151),o.e(98629),o.e(22926),o.e(22900),o.e(42838),o.e(85128),o.e(49889),o.e(20108),o.e(46174),o.e(27992),o.e(63452),o.e(66249),o.e(92845),o.e(87249),o.e(79022),o.e(44854),o.e(34877),o.e(46414),o.e(11676),o.e(61165),o.e(47668),o.e(94522),o.e(44584),o.e(24587),o.e(67494),o.e(3651),o.e(38293),o.e(40992),o.e(88455),o.e(64556),o.e(33893),o.e(91793),o.e(55162),o.e(71003),o.e(32370),o.e(26264),o.e(36437),o.e(50363),o.e(42660),o.e(44590),o.e(55113),o.e(85071),o.e(7914),o.e(25588),o.e(68637),o.e(23640),o.e(72252),o.e(93134),o.e(12452),o.e(52871),o.e(29351),o.e(18825),o.e(71853),o.e(93049),o.e(22582),o.e(18636),o.e(87289),o.e(16060),o.e(34281),o.e(48376),o.e(35279),o.e(80229),o.e(77754),o.e(71309),o.e(74562),o.e(39986),o.e(47431),o.e(47160),o.e(76677),o.e(68609),o.e(37384),o.e(15553),o.e(77345),o.e(67720),o.e(37759),o.e(41423),o.e(13955),o.e(42056),o.e(14699),o.e(57924),o.e(5181),o.e(3261),o.e(19456),o.e(17729),o.e(45147),o.e(65375),o.e(32116),o.e(94995),o.e(98339),o.e(51240),o.e(82641),o.e(20029),o.e(68395),o.e(81803),o.e(96654),o.e(68643),o.e(32625),o.e(63687),o.e(95885),o.e(27083),o.e(78999),o.e(11424),o.e(40119),o.e(54742),o.e(38946),o.e(90880),o.e(49175),o.e(8852),o.e(5331),o.e(92924),o.e(71381),o.e(1947),o.e(96385),o.e(80326),o.e(53352),o.e(2373),o.e(5315),o.e(995),o.e(76690),o.e(60713),o.e(31106),o.e(63248),o.e(54719),o.e(48570),o.e(78862),o.e(54234),o.e(85160),o.e(15381),o.e(50525),o.e(15922),o.e(77651),o.e(51204),o.e(34974),o.e(58672),o.e(95103),o.e(58071),o.e(75681)]).then(o.bind(o,417242)),Promise.all([o.e(75134),o.e(35530),o.e(9773),o.e(36556),o.e(55373),o.e(36192),o.e(40537),o.e(71562),o.e(96346),o.e(44711),o.e(53321),o.e(51220),o.e(16471),o.e(37353),o.e(37571),o.e(29151),o.e(40118),o.e(50397),o.e(62475),o.e(3151),o.e(98629),o.e(22926),o.e(22900),o.e(42838),o.e(85128),o.e(49889),o.e(20108),o.e(46174),o.e(27992),o.e(63452),o.e(66249),o.e(92845),o.e(87249),o.e(79022),o.e(44854),o.e(34877),o.e(46414),o.e(11676),o.e(61165),o.e(47668),o.e(94522),o.e(44584),o.e(24587),o.e(67494),o.e(3651),o.e(38293),o.e(40992),o.e(88455),o.e(64556),o.e(33893),o.e(91793),o.e(55162),o.e(71003),o.e(32370),o.e(26264),o.e(36437),o.e(50363),o.e(42660),o.e(44590),o.e(55113),o.e(85071),o.e(7914),o.e(25588),o.e(68637),o.e(23640),o.e(72252),o.e(93134),o.e(12452),o.e(52871),o.e(29351),o.e(18825),o.e(71853),o.e(93049),o.e(22582),o.e(18636),o.e(87289),o.e(16060),o.e(34281),o.e(48376),o.e(35279),o.e(80229),o.e(77754),o.e(71309),o.e(74562),o.e(39986),o.e(47431),o.e(47160),o.e(76677),o.e(68609),o.e(37384),o.e(15553),o.e(77345),o.e(67720),o.e(37759),o.e(41423),o.e(13955),o.e(42056),o.e(14699),o.e(57924),o.e(5181),o.e(3261),o.e(19456),o.e(17729),o.e(45147),o.e(65375),o.e(32116),o.e(94995),o.e(98339),o.e(51240),o.e(82641),o.e(20029),o.e(68395),o.e(81803),o.e(96654),o.e(68643),o.e(32625),o.e(63687),o.e(95885),o.e(27083),o.e(78999),o.e(11424),o.e(40119),o.e(54742),o.e(38946),o.e(90880),o.e(49175),o.e(8852),o.e(5331),o.e(92924),o.e(71381),o.e(1947),o.e(96385),o.e(80326),o.e(53352),o.e(2373),o.e(5315),o.e(995),o.e(76690),o.e(60713),o.e(31106),o.e(63248),o.e(54719),o.e(48570),o.e(78862),o.e(54234),o.e(85160),o.e(15381),o.e(50525),o.e(15922),o.e(77651),o.e(51204),o.e(34974),o.e(58672),o.e(95103),o.e(58071),o.e(75681)]).then(o.bind(o,485253)),Promise.all([o.e(71003),o.e(42660),o.e(90880),o.e(95768),o.e(7595),o.e(18331)]).then(o.bind(o,479820))]);return{CustomizePageMenuRenderer:e,TopbarPageAnalyticsOptOutMenu:t,ImportModal:n,ExportModal:r,PageTemplateModal:i,GoogleAuthPromptModal:a,StudentNotEligibleModal:l,CookieModal:s,ForkPagePopup:c,DatePropertyMenu:d,ReportPageModal:u,SidebarCreateTeamModal:m,SidebarTeamModal:p,CreateTeamFromPageConfirmModal:y,CollectionTypedDatabaseMigrationModal:f,OpenInDesktopAppPopup:g,BlockMenu:v,CollectionMentionContextMenu:S,ImportIntoNewPageModal:b,MobilePageBacklinksMenuRenderer:x,MobileShareMenuRenderer:C,MobilePageUpdatesMenuRenderer:k,MobileCommentsModalRenderer:A,MobileBreadcrumbMenuRenderer:h}})),b=(0,n()._h)(S,(e=>e.CustomizePageMenuRenderer)),x=(0,n()._h)(S,(e=>e.TopbarPageAnalyticsOptOutMenu)),C=(0,n()._h)(S,(e=>e.PageTemplateModal)),k=(0,n()._h)(S,(e=>e.ImportModal)),A=(0,n()._h)(S,(e=>e.ExportModal)),M=(0,n()._h)(S,(e=>e.ReportPageModal)),w=(0,n()._h)(S,(e=>e.GoogleAuthPromptModal)),P=(0,n()._h)(S,(e=>e.StudentNotEligibleModal)),_=(0,n()._h)(S,(e=>e.CookieModal)),j=(0,n()._h)(S,(e=>e.BlockMenu)),T=(0,n()._h)(S,(e=>e.CollectionMentionContextMenu)),I=(0,n()._h)(S,(e=>e.ForkPagePopup)),O=(0,n()._h)(S,(e=>e.CollectionTypedDatabaseMigrationModal)),B=(0,n()._h)(S,(e=>e.SidebarCreateTeamModal)),R=(0,n()._h)(S,(e=>e.SidebarTeamModal)),F=(0,n()._h)(S,(e=>e.CreateTeamFromPageConfirmModal)),V=(0,n()._h)(S,(e=>e.OpenInDesktopAppPopup)),D=(0,n()._h)(S,(e=>e.ImportIntoNewPageModal)),E=(0,n()._h)(S,(e=>e.MobilePageBacklinksMenuRenderer)),L=(0,n()._h)(S,(e=>e.MobileShareMenuRenderer)),U=(0,n()._h)(S,(e=>e.MobilePageUpdatesMenuRenderer)),K=(0,n()._h)(S,(e=>e.MobileCommentsModalRenderer)),N=(0,n()._h)(S,(e=>e.MobileBreadcrumbMenuRenderer))},115796:(e,t,o)=>{o.d(t,{C4:()=>vn,P5:()=>Pn,IB:()=>Kn,Wk:()=>tr,_H:()=>Zn});o(18107),o(944114),o(967357),o(898992),o(354520),o(672577),o(581454),o(737550);var n=o(296540),r=()=>o(664594),i=()=>o(59226),a=()=>o(242422),l=()=>o(782482),s=()=>o(726637),c=()=>o(908006),d=()=>o(484714),u=()=>o(792485),p=()=>o(590526),m=()=>o(401497),y=()=>o(79926),f=()=>o(140934),g=()=>o(929219),h=()=>o(988083),v=()=>o(711339),S=()=>o(770063),b=()=>o(295633),x=()=>o(732810),C=()=>o(140677),k=()=>o(127833),A=()=>o(396896),M=()=>o(807449),w=()=>o(631524),P=()=>o(302501),_=()=>o(433337),j=()=>o(700500),T=()=>o(998687),I=()=>o(636081),O=()=>o(443239),B=()=>o(31503),R=()=>o(898244),F=()=>o(713998),V=()=>o(452540),D=()=>o(597777),E=()=>o(448801),L=()=>o(945038),U=()=>o(416504),K=()=>o(116089),N=()=>o(96330),W=()=>o(179034),z=()=>o(519831),H=()=>o(54006),Q=()=>o(437607),$=()=>o(706021),Y=()=>o(201980),q=()=>o(931075),G=()=>o(69708),X=()=>o(100622),Z=()=>o(496603),J=()=>o(534177),ee=()=>o(284371),te=()=>o(720665),oe=()=>o(299709),ne=()=>o(559926),re=()=>o(193722),ie=()=>o(44729),ae=()=>o(384944),le=()=>o(706654),se=()=>o(224682),ce=()=>o(465364),de=()=>o(717137),ue=()=>o(792057),pe=()=>o(245720),me=()=>o(546926),ye=()=>o(890492),fe=()=>o(736847),ge=()=>o(522419),he=()=>o(383594),ve=()=>o(892632),Se=()=>o(274652),be=o(474848);const xe=function(e){return(0,be.jsx)(o(424400).Ay,{title:(0,be.jsxs)("div",{style:{display:"flex"},children:[(0,be.jsx)(o(98126).A,{style:{marginTop:1,marginInlineEnd:6}}),e.progressPercent?(0,be.jsx)(o(773382).A,{percentage:e.progressPercent}):e.progressText?(0,be.jsx)("span",{children:e.progressText}):null]})})};var Ce=()=>o(271205),ke=()=>o(663173),Ae=()=>o(250910),Me=()=>o(31511),we=()=>o(81068),Pe=()=>o(663639),_e=()=>o(304740),je=()=>o(641007),Te=()=>o(767499),Ie=()=>o(437219),Oe=()=>o(50556),Be=()=>o(35622);class Re extends(()=>o(757695))().Store{getInitialState(){return{open:!1}}}const Fe=Re;var Ve=()=>o(465741),De=()=>o(911706),Ee=()=>o(360083);function Le(e){const{disabled:t,store:o,name:r,url:i,onChange:l,onDelete:c}=e,u=_e().rS({url:e.url}),y=(0,n.useRef)(null),f=(0,d().v3)(),g=(0,p().uB)(void 0,Fe),h=(0,p().O$)(g),v=(0,n.useCallback)((e=>{if(!h.open)return;g.setState({...h,inputValue:e});const t=ge().SB({title:e,source:i});l({url:i,name:t})}),[g,h,l,i]),S=(0,n.useCallback)((()=>{g.setState({open:!0,inputValue:r})}),[g,r]),b=(0,n.useCallback)((()=>{g.setState({open:!1})}),[g]),x=(0,n.useCallback)((()=>{c(i)}),[c,i]),C=(0,n.useCallback)((()=>{const e=()=>{Ie().uR(f,{url:i,from:"FilePropertyMenuItem"}),Oe().KE(f,{url:i,download:!0,downloadName:r,permissionRecord:o.pointer})};o.getCreatedById()===je().xY.id?(0,Ve().TW)({propertyType:"file",onConfirm:e}):e()}),[f,r,i,o]),A=(0,n.useCallback)((()=>{const e=a().default.getConfigKey("file_block_download","force_download_extensions"),t=ge().YR({url:i,forceDownloadExtensions:e});Oe().OG(f,{url:i,type:"file",from:"view_original",downloadName:r,permissionRecord:o.pointer,download:t})}),[f,r,o.pointer,i]),w=(0,n.useCallback)((()=>{if(!y.current)return;const e=y.current.getBoundingClientRect(),t=e.width/e.height;Be().o9({environment:f,renderFullScreenNode:()=>(0,be.jsx)(Ee().A,{url:i,isAuthenticated:!0,permissionRecord:o.pointer,width:window.innerWidth,render:(e,t)=>(0,be.jsx)("img",{src:t,style:{position:"relative",maxHeight:"100%",maxWidth:"100%",margin:0,alignSelf:"center",width:"100%"}})}),fullScreenNodeRect:e,contentAspectRatio:t,blockStore:o,imageUrl:i})}),[f,o,i]),P=(0,n.useCallback)((()=>{if(h.open)return(0,be.jsx)(Ne,{url:e.url,inputValue:h.inputValue,isOpen:h.open,handleFileRename:v,handleCloseRenamePopover:b})}),[h,b,v,e.url]),_=(0,m().IS)((()=>({imageInner:{display:"block",maxWidth:"100%",maxHeight:180,cursor:"zoom-in"},imageInnerWrapper:{flex:"auto",overflow:"hidden"}})),[]),j=(0,be.jsx)(Ue,{fileIsImage:u,fileUrl:i,disabled:t,handleOpenFullscreenPreviewOfFile:w,handleDownloadFile:C,handleViewOriginalFile:A,handleOpenRenamePopover:S,handleDeleteFile:x});return u?(()=>{const o=(0,be.jsx)(Ee().A,{url:i,isAuthenticated:!0,permissionRecord:e.store.pointer,width:300,render:(e,t)=>(0,be.jsx)("div",{style:_.imageInnerWrapper,children:(0,be.jsx)("img",{src:t,style:_.imageInner,onClick:w,ref:y})})}),n={paddingTop:s().A.isMobile?12:8,paddingBottom:s().A.isMobile?12:8,alignItems:"flex-start"};return(0,be.jsx)(we().A,{focused:!1,showDragHandle:!t&&!s().A.isMobile,style:n,title:o,right:j,dontShrinkRight:!0})})():(()=>{const t=(0,be.jsx)(we().A,{focused:!1,showDragHandle:!e.disabled&&!s().A.isMobile,onClick:A,title:r,icon:(0,be.jsx)(M().I,{icon:Te().B}),right:j,dontShrinkRight:!0});return(0,be.jsx)(k().zD,{open:h.open,popupType:s().A.isMobile?Ae().z.SlideUp:Ae().z.Popup,origin:t,render:P,onDismiss:b})})()}function Ue(e){const{disabled:t,fileIsImage:o,fileUrl:r,handleOpenFullscreenPreviewOfFile:i,handleDownloadFile:a,handleViewOriginalFile:l,handleOpenRenamePopover:c,handleDeleteFile:d}=e,u=(0,n.useCallback)((e=>(0,be.jsx)(De().A,{isMobile:s().A.isMobile,...e})),[]),p=(0,n.useCallback)((e=>(0,be.jsx)(Ke,{fileIsImage:o,fileUrl:r,disabled:t,parent:e,handleOpenFullscreenPreviewOfFile:i,handleDownloadFile:a,handleViewOriginalFile:l,handleOpenRenamePopover:c,handleDeleteFile:d})),[o,r,t,i,a,l,c,d]);return(0,be.jsx)(Ae().A,{popupType:s().A.isMobile?Ae().z.BottomSheet:Ae().z.Popup,bottomSheetInitialState:"half",renderOrigin:u,render:p})}function Ke(e){const{parent:t,disabled:o,fileUrl:r,fileIsImage:i,handleOpenFullscreenPreviewOfFile:l,handleDownloadFile:c,handleViewOriginalFile:u,handleOpenRenamePopover:m,handleDeleteFile:y}=e,f=(0,d().v3)(),{isNative:g}=f.device,h=(0,p().K8)((()=>a().default.getConfigKey("file_block_download","force_download_extensions")),[]),v=(0,n.useMemo)((()=>{const e=[];i&&e.push({key:"fullscreen",render:e=>(0,be.jsx)(we().A,{...e,title:(0,be.jsx)(G().sA,{defaultMessage:"Full screen",id:"database.actionMenu.fileProperty.fullscreen.title"})}),action:l});(ge()._J(r)||g)&&e.push({key:"download",render:e=>(0,be.jsx)(we().A,{...e,title:(0,be.jsx)(G().sA,{defaultMessage:"Download",id:"database.actionMenu.fileProperty.download.title"})}),action:c});return ge().YR({url:r,forceDownloadExtensions:h})||e.push({key:"original",render:e=>(0,be.jsx)(we().A,{...e,title:(0,be.jsx)(G().sA,{defaultMessage:"View original",id:"database.actionMenu.fileProperty.viewOriginal.title"})}),action:()=>u()}),o||i||e.push({key:"rename",render:e=>(0,be.jsx)(we().A,{...e,title:(0,be.jsx)(G().sA,{defaultMessage:"Rename",id:"database.actionMenu.fileProperty.rename.title"})}),action:m}),o||e.push({key:"delete",render:e=>(0,be.jsx)(we().A,{...e,title:(0,be.jsx)(G().sA,{defaultMessage:"Delete",id:"database.actionMenu.fileProperty.delete.title"})}),action:y}),e}),[o,i,r,h,y,l,m,u,c,g]),S=(0,n.useMemo)((()=>[{key:"section",render:e=>(0,be.jsx)(fe().A,{...e}),items:v}]),[v]),b=s().A.isMobile?{menuType:me().gu.Modal,title:(0,be.jsx)(G().sA,{defaultMessage:"File actions",id:"database.actionMenu.fileProperty.actions.title"})}:{menuType:me().gu.Popup,width:200};return(0,be.jsx)(ye().A,{...b,children:(0,be.jsx)(Pe().A,{type:Pe().O.Vertical,initialFocus:0,onAccept:t.close,sections:S})})}function Ne(e){const{url:t,handleFileRename:o,handleCloseRenamePopover:r,isOpen:i,inputValue:a}=e,l=(0,n.useCallback)((e=>{const t=e.target.value;o(t)}),[o]),c=(0,m().IS)((()=>({renameInputWrapper:{display:"flex",alignItems:"center",color:X().Tj.text.primary,fontSize:"13px",padding:"4px 8px"},renameInput:{display:"flex",alignItems:"center",flexGrow:1,fontSize:14,lineHeight:"20px",paddingTop:4,paddingBottom:4,paddingInlineStart:10,paddingInlineEnd:10,width:"100%",borderRadius:4,boxShadow:X().Tj.inputBoxShadow,background:X().Tj.inputBackground,cursor:"text",position:"relative"}})),[]),d=s().A.isMobile?{menuType:me().gu.ActionSheet,disableScroller:!0}:{menuType:me().gu.Popup,width:380};return i?(0,be.jsx)(ye().A,{...d,children:(0,be.jsx)("div",{style:c.renameInputWrapper,children:(0,be.jsx)(Me().A,{style:c.renameInput,value:a,placeholder:ge().Jt(t),onChange:l,onSubmit:r,focusInitial:!0,selectAll:!0})})}):null}function We(e){const{store:t,uploadFiles:o,value:r,disabled:i,onChange:a,onDismiss:l}=e,c=ze(r),u=(0,d().v3)(),m=(0,G().tz)(),y=(0,n.useRef)(),f=(0,n.useRef)(null),g=(0,p().uB)(void 0,ke().A),{isLoading:h,progressPercent:v,progressText:S}=(0,p().O$)(g),b=(0,n.useCallback)((e=>{g.setState({isLoading:!0,progressPercent:0}),y.current=e}),[g]),x=(0,n.useCallback)((e=>{const{progressPercent:t,progressText:o}=e;g.setState({...g.state,progressPercent:t,progressText:o})}),[g]),C=(0,n.useCallback)((e=>{if(!y.current)return;const t=y.current.map(((t,o)=>{const n=e[o];return{name:t.name||n,url:n}}));a({value:[...t,...r]}),g.reset()}),[g,a,r]),k=(0,n.useCallback)((()=>{g.reset(),ue().f1((0,be.jsx)(G().sA,{id:"filePropertyMenu.uploadFileFailedError.message",defaultMessage:"Upload failed."}))}),[g]),A=(0,n.useCallback)((e=>{he().I(),g.setState({isLoading:!0,progressPercent:0}),y.current=[e]}),[g]),M=(0,n.useCallback)((e=>{if(!y.current)return;const t=y.current[0];if(!t)return;const o={name:t.name||e,url:e};a({value:[...r,o]}),g.reset(),he().I()}),[g,a,r]),w=(0,n.useCallback)((e=>{const{originUrl:t,pastedSecureFile:o}=e,n={name:t,url:o?(0,ge().xm)(o):t};a({value:[...r,n],pastedSecureFile:o}),g.reset(),he().I()}),[g,a,r]),P=(0,n.useCallback)((()=>{const e=f.current;e&&e instanceof Element&&he().W(u,{originRect:e.getBoundingClientRect(),originGap:3,isSmallWidth:!0,showArrow:!0,title:m.formatMessage({id:"filePropertyMenu.header",defaultMessage:"File"}),currentTab:"file",tabs:[{type:"file",fileUpload:!0,imageUpload:!1,videoUpload:!1,onUpload:e=>{ve().QM({environment:u,file:e[0],bucket:"secure",record:t.pointer,isFileBlock:!1,reportRichUploadMetrics:!0,onStart:A,onProgress:x,onComplete:M,onError:k})}},{type:"embed",onChange:w}]})}),[u,w,M,A,k,x,t.pointer,m]),_=(0,n.useCallback)((()=>{P()}),[P]),j=(0,n.useCallback)((e=>{ve().Zn({environment:u,files:e,bucket:"secure",record:t.pointer,isFileBlock:!1,onBatchStart:b,onBatchProgress:x,onBatchComplete:C,onBatchError:k})}),[u,t.pointer,b,x,C,k]),T=()=>{he().I()};(0,n.useEffect)((()=>(o?ve().Zn({environment:u,files:o,bucket:"secure",record:t.pointer,isFileBlock:!1,onBatchStart:b,onBatchProgress:x,onBatchComplete:C,onBatchError:k}):ze(r)&&!s().A.isMobile&&P(),T)),[]);const I=s().A.isMobile?{menuType:me().gu.Modal,title:(0,be.jsx)(G().sA,{defaultMessage:"File property",id:"database.fileProperty.mobileMenu.title"}),right:(0,be.jsx)(G().sA,{...pe().W.done}),onClickRight:l}:{menuType:me().gu.Popup};return(0,be.jsx)(de().A,{debugName:"FilePropertyMenu",capture:!0,allowUndo:!0,allowEsc:!0,allowTabUntab:!0,children:(0,be.jsxs)(ye().A,{...I,children:[(0,be.jsx)(Ye,{value:r,disabled:i,store:t,onChange:a,onDropFile:j}),(0,be.jsxs)(fe().A,{topBorder:!c&&!i,desktopStyle:{...c&&{paddingTop:3,paddingBottom:3}},children:[h?(0,be.jsx)(xe,{progressPercent:v,progressText:S}):void 0,h||i?void 0:(0,be.jsx)(Se().o,{focused:!1,color:"secondary",onClick:_,title:(0,be.jsx)(G().sA,{id:"database.fileProperty.focusedLabel",defaultMessage:"Add a file or image"}),ref:f})]})]})})}function ze(e){return 0===e.length}function He(e,t,o){o({value:t.map((t=>t.url===e.url?{name:e.name,url:e.url}:t))})}function Qe(e,t,o){o({value:t.filter((t=>t.url!==e))})}function $e({url:e,value:t,disabled:o,store:n,onChange:r}){const i=t.find((t=>t.url===e));if(i){const e=i.url,a=i.name;return s().A.isMobile?(0,be.jsx)(fe().A,{children:(0,be.jsx)(Le,{store:n,name:a,url:e,onDelete:e=>Qe(e,t,r),onChange:e=>He(e,t,r),disabled:o})}):(0,be.jsx)(Le,{store:n,name:a,url:e,onDelete:e=>Qe(e,t,r),onChange:e=>He(e,t,r),disabled:o})}return null}function Ye({value:e,disabled:t,store:o,onChange:r,onDropFile:i}){const a=Z().oE(e.map((e=>e.url))),[l,c]=(0,n.useState)(!1),d=(0,m().IS)((()=>({dropZone:{width:"100%",outline:l?`2px solid ${X().Tj.blue.border.accentPrimary}`:void 0,borderRadius:l?8:void 0}})),[l]);return 0===a.length?null:s().A.isMobile||t?(0,be.jsx)(n.Fragment,{children:a.map((n=>(0,be.jsx)($e,{url:n,value:e,disabled:t,store:o,onChange:r},n)))}):(0,be.jsx)(fe().A,{children:(0,be.jsx)("div",{onDragOver:e=>{e.preventDefault(),e.dataTransfer.dropEffect="copy",c(!0)},onDragLeave:e=>{e.preventDefault(),c(!1)},onDrop:e=>{e.preventDefault(),c(!1);const t=Array.from(e.dataTransfer.files);i(t)},style:d.dropZone,children:(0,be.jsx)(Ce().Ay,{direction:"vertical",keys:a,renderKey:n=>(0,be.jsx)($e,{url:n,value:e,disabled:t,store:o,onChange:r}),onDrop:t=>function(e,t,o){t({value:Z().Ul(o,(t=>{const o=t.url;return o?e.indexOf(o):1/0}))})}(t,r,e),disabled:t})})})}var qe=()=>o(579214),Ge=()=>o(499962),Xe=()=>o(68555);const Ze=new(y().O2)("RollupPropertyMenu",(()=>o.e(97783).then(o.bind(o,362683)))),Je=(0,y()._h)(Ze,(e=>e.RollupPropertyMenu));var et=o.n(o(844751)),tt=()=>o(265060),ot=()=>o(552712),nt=()=>o(352321),rt=()=>o(449279),it=()=>o(791177),at=()=>o(452004),lt=()=>o(784892),st=()=>o(846523),ct=()=>o(206267),dt=()=>o(183558),ut=()=>o(515872),pt=()=>o(968021),mt=()=>o(908201),yt=()=>o(390650),ft=()=>o(999140),gt=()=>o(173868),ht=()=>o(399762),vt=()=>o(267584),St=()=>o(232930),bt=()=>o(252833);function xt(e){return(0,p().K8)((()=>{var t;return(null==e||null===(t=e.collectionStore())||void 0===t?void 0:t.isExternalSyncedCollection())??!1}),[e])}var Ct=()=>o(838364),kt=()=>o(383036),At=()=>o(26697),Mt=()=>o(206372);const wt=n.forwardRef((function(e,t){var o;const{locked:n,option:r,actionMenuOpen:i,property:a,collectionId:c,analyticsFrom:d,onChange:u,onCloseActionMenu:p,focused:m,propertySchema:y,onOpenActionMenu:f,removeBackground:g}=e;return(0,be.jsx)(l().N,{debugName:"SelectPropertyMenuItem",capture:i,onEnter:Z().D_,children:(0,be.jsx)(At().m,{renderTooltip:e=>(0,be.jsxs)("div",{...e,style:Mt().Q$,children:[(0,be.jsx)("div",{children:r.value}),(0,be.jsx)("div",{style:{color:X().Tj.text.inverseSecondary},children:r.description})]}),placement:"left",disableTooltip:!(null!==(o=r.description)&&void 0!==o&&o.length),render:o=>(0,be.jsx)(we().A,{...(0,kt().A)(o,e),ref:t,title:(0,be.jsx)(ht().O,{format:s().A.isMobile?lt().NY.Large:lt().NY.Medium,value:r.value,color:r.color,hideTooltip:!0,showRemoveButton:!1,isSingle:!0,showEllipsis:!0,removeBackground:g}),desktopTitleStyle:{marginInlineEnd:6},isTokenTitle:!0,right:!n&&(0,be.jsx)(Pt,{property:a,collectionId:c,analyticsFrom:d,onChange:u,onCloseActionMenu:p,actionMenuOpen:i,focused:m,option:r,propertySchema:y,onOpenActionMenu:f})})})})}));function Pt({property:e,collectionId:t,analyticsFrom:n,onChange:r,onCloseActionMenu:i,actionMenuOpen:a,focused:l,option:c,propertySchema:d,onOpenActionMenu:u}){return(0,be.jsx)(o(814777).h,{open:a,origin:(0,be.jsx)(De().A,{onClick:()=>u(c.value),isMobile:s().A.isMobile,style:{opacity:l||s().A.isMobile?1:0}}),option:c,propertySchema:d,property:e,collectionId:t,analyticsFrom:n,onChange:r,onClose:i})}function _t(e){const{allowMultiple:t,analyticsFrom:o,autofillExplanation:r,bulkAutofillButton:i,canConfigureCollection:a,collectionId:l,disabled:c,insertChar:u,onAccept:y,onChange:f,property:g,schema:h,value:v,additionalStores:S,surface:b,formQuestionStore:x}=e,C=(0,d().v3)(),{isMobileNative:k}=(0,d().Y0)(),A=(0,n.useRef)(void 0),M=(0,mt().Ks)(),w=(0,p().uB)(void 0,at().$),[P,_]=(0,it().$)(),[j,T]=(0,n.useState)(""),[I,O]=(0,n.useState)(void 0);(0,n.useEffect)((()=>{Et(h,g,A),u&&T(u)}),[u,g,h]);const F=(0,n.useCallback)((e=>function(e){const{change:t,allowMultiple:o,analyticsFrom:n,collectionContextStore:r,collectionId:i,createSelectColorRef:a,environment:l,onChange:s,property:c,schema:d,setInputValue:u}=e;u("");const p=d[c];if(!p)return;if(!R().lx(p))return;const m=p.options||[];let y;if("removeToken"===t.type)y={type:"selectPropertyMenuUpdateRemoveOption",removeOption:t.removedToken};else if("addTokens"===t.type){let e;o?(e=t.newTokens,y={type:"selectPropertyMenuUpdateAddOptions",addOptions:e}):(e=t.newTokens.length>0?[t.newTokens[t.newTokens.length-1]]:[],y={type:"selectPropertyMenuUpdateReplaceOptions",options:e});const s=e.find((e=>!m.find((t=>t.value.toLowerCase()===e.toLowerCase()))));if(s){const e={id:(0,ct().JW)(),value:s,color:a.current};let t;t="alphabetical"===p.auto_sort_options||"reverse_alphabetical"===p.auto_sort_options?[(0,ft().og)({collectionId:i,property:c,propertySchema:p,newOption:e,isAscending:"alphabetical"===p.auto_sort_options})]:[{pointer:{table:z().Vl,id:i},command:"keyedObjectListAfter",path:["schema",c,"options"],args:{value:e}}],y.schemaOperations=t,Et(d,c,a),r&&(0,re().L)(l,{...(0,yt().sl)(r),property_type:p.type,action:"select_add_option",from:n})}}else(0,J().HB)(t);if(r){const e=r.collectionStore();var f;if(e&&e.isExternalSyncedCollection())ne().j2(l,{property_id:c,property_type:p.type,action:"option_select",integration:null===(f=e.getFormat())||void 0===f?void 0:f.external_collection_type,collection_id:e.id,is_notion_only_property:(0,vt().sc)({collectionStore:e,propertyId:c,propertySchema:p,isExternallyImportedAndSyncedCollection:e.isExternallyImportedAndSyncedCollection()})})}s(y)}({allowMultiple:t,analyticsFrom:o,collectionContextStore:M,collectionId:l,createSelectColorRef:A,environment:C,onChange:f,property:g,schema:h,setInputValue:T,...e})),[t,o,M,l,C,f,g,h]),V=(0,n.useCallback)((e=>{O(e)}),[]),D=(0,p().K8)((()=>{if(!(0,ut().J)(b)||!x)return!1;const e=(0,B().hm)(h[g],x.getModel());return void 0!==e&&v.length>=e}),[x,b,g,h,v]),E=xt(M),L=(0,p().K8)((()=>!(0,vt().RL)({isExternallyImportedAndSyncedCollection:E,propertyId:g,collectionStore:null==M?void 0:M.collectionStore(),propertySchema:h[g]})),[E,g,M,h]),U=(0,p().K8)((()=>{var e;if(!M)return!1;const t=null===(e=M.collectionStore())||void 0===e?void 0:e.getFormat(),o=h[g];return(0,bt().dn)(t,o)}),[M,g,h]),K=(0,m().IS)((()=>({footerMessage:{padding:"8px 12px",fontSize:"12px",color:X().Tj.text.secondary,borderTop:`1px solid ${X().Tj.border.secondary}`}})),[]),N=(0,n.useMemo)((()=>{const e=h[g];if(!U||!e||!R().lx(e))return null;const t=(0,be.jsx)("div",{style:K.footerMessage,children:(0,be.jsx)(Rt,{environment:C,property:g,propertySchema:e,collectionContextStore:M})});return i&&t?(0,be.jsxs)("div",{children:[i,t]}):i||t}),[i,U,K.footerMessage,C,g,h,M]),W=h[g],H=(0,p().K8)((()=>{if(!x||!W||!R().lx(W))return!1;return"dropdown"===(0,Ve().KU)({formQuestionStore:x,propertySchema:W})}),[x,W]);if(!W)return null;if(!R().lx(W))return null;const Q=void 0!==x?(W.options||[]).map((e=>({...e,color:"default"}))):W.options||[],$=function(e,t,o,n){const r=t.map((e=>e.value));let i;if(e){i=et().filter(e,r).map((e=>e.original));!t.find((t=>t.value.toLowerCase()===e.toLowerCase()))&&e.trim().length>0&&o&&!n&&i.push(e.trim().replace(/,/g,""))}else i=r;return i}(j,Q,a,L),Y=0===$.length,q=(0,be.jsx)(jt,{inputComboboxProps:P,openPropertyActionMenu:I,disabled:c,value:v,inputValue:j,handleOnTokenInputChange:F,setInputValue:T,options:Q,propertySchema:W,autofillExplanation:r});let G;return G=s().A.isMobile?{menuType:me().gu.Modal,title:W.name,header:q,footer:N,includeFixedHeaderSpacing:!0,scrollerStyle:{paddingBottom:Ct().H}}:{menuType:me().gu.Popup,header:q,tokenInputHeader:!0,footer:N},c?(0,be.jsx)(ye().A,{...G}):(0,be.jsx)(ye().A,{...G,children:Y?(0,be.jsx)(fe().A,{title:!a||L?(0,be.jsx)(Tt,{}):(0,be.jsx)(Ot,{}),children:k?(0,be.jsx)(rt().u,{title:(0,be.jsx)(Tt,{})}):void 0}):(0,be.jsx)(Pe().A,{type:Pe().O.Vertical,initialFocus:j.length>0?0:void 0,sections:[{key:1,render:e=>(0,be.jsx)(Vt,{collectionId:l,property:g,schema:h,onChange:f,canConfigureCollection:a,shouldHideCreateNewOption:L,menuListStore:w,args:e,tokens:$}),items:Lt({analyticsFrom:o,canConfigureCollection:a,collectionId:l,createSelectColorRef:A,handleOnTokenInputChange:F,handleSetOpenPropertyActionMenu:V,onChange:f,openPropertyActionMenu:I,options:Q,property:g,schema:h,tokens:$,value:v,additionalStores:S,isLimitReached:D,allowMultiple:t,shouldRemoveTokenBackground:H})}],onAccept:(e,t,o)=>{y(o)},store:w,comboboxProps:_})})}function jt({inputComboboxProps:e,openPropertyActionMenu:t,disabled:o,value:r,inputValue:i,handleOnTokenInputChange:a,setInputValue:l,options:c,propertySchema:u,autofillExplanation:p}){const{isAndroid:y,isPhone:f}=(0,d().Y0)(),g=(0,G().tz)(),h=(0,n.useCallback)((e=>Z().oE(r.map((t=>{const n=(0,F().jy)(e,t);if(n)return(0,be.jsx)(ht().O,{value:n.value,color:n.color,showRemoveButton:!o,isSingle:!0,format:s().A.isMobile?lt().NY.Large:lt().NY.Medium,shouldShrink:!0,onClickRemove:()=>{a({change:{type:"removeToken",removedToken:t}})},showEllipsis:!0},n.id)})))),[o,a,r]),v=h(c),S=u.select_ai_inference,b=(0,m().IS)((()=>({tokenWrapStyle:{...(0,pt()._Q)({isPhone:f}).table.token,gap:6}})),[f]),x=(0,n.useCallback)((()=>{r.length>0&&a({change:{type:"removeToken",removedToken:r[r.length-1]}})}),[a,r]);return(0,be.jsxs)(fe().A,{disableDesktopPadding:!0,children:[(0,be.jsx)(nt().Ay,{focus:s().A.isMobile?void 0:!t,focusAfterAnimation:!0,format:nt().le.Select,tokens:v,tokenWrapStyle:b.tokenWrapStyle,placeholder:null!=S&&S.auto_update_on_edit?g.formatMessage({id:"database.selectPropertyEditMenu.searchPlaceholder.aiAutoUpdate",defaultMessage:"Empty"}):g.formatMessage({id:"database.selectPropertyEditMenu.searchPlaceholder",defaultMessage:"Search for an option..."}),onRemoveLastToken:x,value:i,disabled:o,hideInput:!1,onChange:e=>l(e.target.value),dontShowBorderBottom:y||s().A.isMobile,...e,suppressFocusRing:!0}),p]})}function Tt(){return(0,be.jsx)(G().sA,{id:"database.selectPropertyEditMenu.noResults",defaultMessage:"No options found"})}function It(){return(0,be.jsx)(G().sA,{id:"database.selectPropertyEditMenu.selectOnlyPrompt",defaultMessage:"Select an option"})}function Ot(){return(0,be.jsx)(G().sA,{id:"database.selectPropertyEditMenu.selectOrCreatePrompt",defaultMessage:"Select an option or create one"})}const Bt=(0,G().YK)({limitedOptions:{id:"database.selectPropertyEditMenu.externalCollection.limitedOptions",defaultMessage:"Only options already assigned to issues in your Jira project are available"},limitedStatuses:{id:"database.selectPropertyEditMenu.externalCollection.limitedStatuses",defaultMessage:"Only statuses already assigned to issues in your Jira project are available"}});function Rt({environment:e,property:t,propertySchema:o,collectionContextStore:r}){const i=(0,m().IS)((()=>({helpLink:{display:"inline-flex",alignItems:"center",marginInlineStart:"2px",verticalAlign:"middle",cursor:"pointer"}})),[]),a=(0,n.useCallback)((()=>{var n;const i=null==r?void 0:r.collectionStore();ne().j2(e,{property_id:t,property_type:o.type,action:"help_link_click_for_options_limitation",integration:null==i||null===(n=i.getFormat())||void 0===n?void 0:n.external_collection_type,collection_id:null==i?void 0:i.id})}),[e,t,o.type,r]),l="status"===o.type?"limitedStatuses":"limitedOptions";return(0,be.jsxs)("span",{children:[(0,be.jsx)(G().sA,{...Bt[l]}),(0,be.jsx)(ot().N,{href:(0,St().x)("guides.externalImportAndSync"),style:i.helpLink,onClick:a,children:(0,be.jsx)(tt().Q,{iconGroup:st().u,variantName:"small"})})]})}function Ft({props:e,newOption:t,token:o}){return(0,be.jsx)(we().A,{...e,title:(0,be.jsxs)("div",{style:{display:"flex",minWidth:0},children:[(0,be.jsx)("div",{style:{marginInlineEnd:6,lineHeight:1.3},children:(0,be.jsx)(G().sA,{id:"database.selectPropertyEditMenu.createLabel",defaultMessage:"Create"})}),(0,be.jsx)(ht().O,{value:t.value,color:t.color,showRemoveButton:!1,isSingle:!0,format:s().A.isMobile?lt().NY.Large:lt().NY.Medium,showEllipsis:!0})]}),isTokenTitle:!0})}function Vt({args:e,tokens:t,collectionId:o,property:r,schema:i,onChange:a,canConfigureCollection:l,shouldHideCreateNewOption:s,menuListStore:c}){const d=(0,n.useCallback)((e=>function(e,t,o,n,r,i){const a=(0,gt().o)({newOptions:e,collectionId:t,property:o,schema:n});if(a){const e=n[o];e&&R().lx(e)&&"manual"!==(e.auto_sort_options||"manual")&&a.push({pointer:{table:z().Vl,id:t},command:"update",path:["schema",o],args:{auto_sort_options:"manual"}}),r({type:"selectPropertyMenuUpdateSchema",schemaOperations:a})}i.reset()}(e,o,r,i,a,c)),[o,r,i,a,c]);return!l||s?(0,be.jsx)(fe().A,{...e,title:(0,be.jsx)(It,{}),children:e.children}):(0,be.jsx)(fe().A,{...e,title:(0,be.jsx)(Ot,{}),children:(0,be.jsx)(Ce().Ay,{direction:"vertical",keys:t,renderKey:o=>e.children[t.indexOf(o)],onDrop:d})})}function Dt({analyticsFrom:e,canConfigureCollection:t,collectionId:o,handleSetOpenPropertyActionMenu:r,onChange:i,openPropertyActionMenu:a,option:l,property:c,props:d,schema:u,value:p,shouldRemoveTokenBackground:m}){const y=(0,n.useMemo)((()=>l.value===a),[a,l.value]),f=u[c];return f&&R().lx(f)?(0,be.jsx)(wt,{...d,option:l,showDragHandle:t&&!s().A.isMobile,locked:!t,property:c,analyticsFrom:e,collectionId:o,onChange:e=>function(e,t,o,n,r){const i=o[t];if(!i)return;if(!R().lx(i))return;const a=i.options||[],l=[...a];let s;const c=n.filter((e=>{const t=a.find((t=>t.value===e));return!t||l.some((e=>e.id===t.id))}));s=Z().n4(c,n)?{type:"selectPropertyMenuUpdateSchema",schemaOperations:e}:{type:"selectPropertyMenuUpdateReplaceOptions",options:c,schemaOperations:e};r(s)}(e,c,u,p,i),actionMenuOpen:y,propertySchema:f,onCloseActionMenu:r,onOpenActionMenu:r,removeBackground:m}):null}function Et(e,t,o){const n=e[t];if(!n)return;if(!R().lx(n))return;const r=n.options||[],i=(0,R().Zd)(r);o.current=i}function Lt(e){const{analyticsFrom:t,canConfigureCollection:o,collectionId:n,createSelectColorRef:r,handleOnTokenInputChange:i,handleSetOpenPropertyActionMenu:a,onChange:l,openPropertyActionMenu:s,options:c,property:d,schema:u,tokens:p,value:m,additionalStores:y,isLimitReached:f,allowMultiple:g,shouldRemoveTokenBackground:h}=e;return p.map((e=>{let p=c.find((t=>t.value===e));p||(p=c.find((t=>t.value.toLowerCase()===e.toLowerCase())));return{key:e,render:i=>{if(p)return(0,be.jsx)(Dt,{analyticsFrom:t,canConfigureCollection:o,collectionId:n,handleSetOpenPropertyActionMenu:a,onChange:l,openPropertyActionMenu:s,option:p,property:d,props:i,schema:u,value:m,shouldRemoveTokenBackground:h});{const t={id:(0,dt().Ay)(),value:e,color:r.current};return(0,be.jsx)(Ft,{props:i,newOption:t,token:e})}},action:()=>{if(g&&f)return;!(y&&y.length>0)&&m.find((t=>t.toLowerCase()===e.toLowerCase()))||i({change:{type:"addTokens",newTokens:[e]}})}}}))}var Ut=()=>o(874832),Kt=()=>o(735790),Nt=()=>o(806080),Wt=()=>o(468882),zt=()=>o(339798),Ht=()=>o(447453),Qt=()=>o(480912),$t=()=>o(673964),Yt=(o(16280),()=>o(979340)),qt=()=>o(744419),Gt=()=>o(686504);function Xt(e){var t;if(!e.collectionStore||!e.collectionType)return!1;const o=e.collectionStore.getFormat();return Boolean((null==o?void 0:o.external_collection_type)&&(null==o||null===(t=o.sync_state)||void 0===t?void 0:t.enable_two_way_sync)&&(()=>{var t;const o=null===(t=e.collectionStore)||void 0===t?void 0:t.getSpaceStore();return!o||(0,Yt().OX)(o.getSubscriptionTier())})())}function Zt({width:e}){const t=(0,m().IS)((()=>({row:{display:"flex",alignItems:"center",gap:8,padding:"8px 0",width:"100%"},dot:{width:14,height:14,borderRadius:12},line:{height:12,borderRadius:6,width:e}})),[e]);return(0,be.jsxs)("div",{style:t.row,children:[(0,be.jsx)(Ut().P,{style:t.dot}),(0,be.jsx)(Ut().P,{style:t.line})]})}function Jt(e){var t,o,r;const{propertySchema:a,blockPropertyValueOverlayStore:l,onChange:c}=e,u=(0,d().v3)(),{isPhone:y,isAndroid:f}=(0,d().Y0)(),[g,h]=(0,n.useState)(e.initialValue??""),[v,S]=(0,n.useState)(""),b=(0,G().tz)(),x=(0,p().K8)((()=>{const e=l.state;if(e.isOpen)return e.collectionContextStore}),[l]),C=(0,p().K8)((()=>{const e=l.state;if(e.isOpen)return e.store}),[l]),k=(0,p().K8)((()=>null==x?void 0:x.collectionStore()),[x]),A=(0,p().K8)((()=>(null==x?void 0:x.permissionScopesStore.state.canConfigureCollection)&&"collectionPage"!==(null==x?void 0:x.contextTypeFromStoreState)),[x]),w=xt(x),P=(0,i().X)("use_dynamic_options_for_jira_sync_status_field"),_=function(e){const{propertySchema:t,collectionStore:o,blockStore:r,property:i}=e,a=(0,d().v3)(),[l,s]=(0,n.useState)(null),[c,u]=(0,n.useState)(!1),[m,y]=(0,n.useState)(null),f=(0,p().K8)((()=>(0,Gt().ot)({collectionStore:o,blockStore:r})),[o,r]),g=(0,p().K8)((()=>{const e=i&&(0,vt().sc)({propertyId:i,collectionStore:o,propertySchema:t,isExternallyImportedAndSyncedCollection:null==o?void 0:o.isExternallyImportedAndSyncedCollection()});return Xt(f)&&!e}),[f,o,i,t]),h=(0,p().K8)((()=>(0,vt().JD)(o)&&(0,vt()._M)()&&g&&r&&o),[g,r,o]);return(0,n.useEffect)((()=>{if(!h)return s(null),u(!1),void y(null);let e=!1;return async function(){u(!0),y(null);try{const t=await qt().nR({environment:a,blockStore:r,collectionStore:o});e||(s(t),u(!1))}catch(t){if(!e){const e=t instanceof Error?t:new Error(String(t));y(e),s(null),u(!1)}}}(),()=>{e=!0}}),[h,r,o,a,i]),{...(0,n.useMemo)((()=>{if(!g)return{externalOptions:null,isLoading:!1,error:null};if(c)return{externalOptions:null,isLoading:!0,error:m};if(m)return{externalOptions:null,isLoading:!1,error:m};try{return{externalOptions:(0,Gt().WS)({context:f,staticOptions:t.options??[],staticGroups:t.groups??[],externalStatusOptions:l}),isLoading:!1,error:null}}catch(e){return{externalOptions:null,isLoading:!1,error:e instanceof Error?e:new Error(String(e))}}}),[g,f,t,l,c,m]),isExternalStatusProperty:g}}({propertySchema:a,collectionStore:k,blockStore:C,property:e.property}),j=(0,p().K8)((()=>{const e=l.state;return!!e.isOpen&&(0,Wt().br)({store:e.store,additionalStores:e.additionalStores,collectionContextStore:e.collectionContextStore})}),[l]),T=j?[]:(null===(t=_.externalOptions)||void 0===t?void 0:t.options)??a.options??[],I=(0,F().jy)(T,g),O=(null===(o=_.externalOptions)||void 0===o?void 0:o.groups)??a.groups??[],B=I&&O.find((e=>{var t;return null===(t=e.optionIds)||void 0===t?void 0:t.includes(I.id)})),[R,V]=(0,it().$)(),D=I?[(0,be.jsx)(ht().q,{value:I.value,color:I.color,groupColor:null==B?void 0:B.color,isSingle:!0,format:s().A.isMobile?lt().NY.Large:lt().NY.Medium,onClickRemove:()=>{h(""),c(void 0,void 0)},showRemoveButton:void 0===a.defaultOption,shouldShrink:!0,showEllipsis:!0,tooltipPlacement:"left",hideTooltip:Boolean(null===(r=I.description)||void 0===r?void 0:r.length)},"status")]:[],E=(0,m().IS)((()=>({tokenWrapStyle:{...(0,pt()._Q)({isPhone:y}).table.token,gap:6},description:{color:X().Tj.text.inverseSecondary},footerMessage:{padding:"8px 12px",fontSize:"12px",color:X().Tj.text.secondary,borderTop:`1px solid ${X().Tj.border.secondary}`}})),[y]),L=j?null:(0,be.jsx)(nt().Ay,{focus:!s().A.isMobile||void 0,focusAfterAnimation:!0,format:nt().le.Select,tokens:D,tokenWrapStyle:E.tokenWrapStyle,placeholder:b.formatMessage({id:"database.selectPropertyEditMenu.searchStatusPlaceholder",defaultMessage:"Search for an option"}),onRemoveLastToken:Nt().lQ,value:v,disabled:e.disabled,hideInput:e.disabled,onChange:e=>{S(e.target.value)},dontShowBorderBottom:f,...R,suppressFocusRing:!0}),U=(0,n.useMemo)((()=>w&&!P?(0,be.jsx)("div",{style:E.footerMessage,children:(0,be.jsx)(Rt,{environment:u,property:e.property,propertySchema:a,collectionContextStore:x})}):null),[w,P,E.footerMessage,u,e.property,a,x]),K=s().A.isMobile?{menuType:me().gu.Modal,title:a.name,footer:U,scrollerStyle:{paddingBottom:Ct().H}}:{menuType:me().gu.Popup,header:L,footer:U,tokenInputHeader:!0};if(e.disabled)return(0,be.jsx)(ye().A,{...K});let N=T;if(""!==v){const e=et().filter(v,T.map((e=>e.value))).map((e=>e.original));N=T.filter((t=>e.includes(t.value)))}const W=O.map((e=>{const t=N.filter((t=>{var o;return null===(o=e.optionIds)||void 0===o?void 0:o.includes(t.id)}));if(0!==t.length)return{group:e,groupOptions:t}})).filter(J().O9),z=W.length>1,H=function(e){const{isLoading:t}=e;if(t)return{items:vt().eg.map(((e,t)=>({key:`loading-shimmer-${String(e)}-${t}`,render:t=>(0,be.jsx)(we().A,{...t,disabled:!0,disabledFeedback:!1,focused:!1,title:(0,be.jsx)(Zt,{width:e})}),action:()=>{}}))),key:"loading-section",render:e=>(0,be.jsx)(fe().A,{...e})}}({isLoading:_.isLoading}),Q=j?[{items:O.map((t=>({key:t.name,render:e=>(0,be.jsx)(we().A,{...e,disabledFeedback:!0,focused:e.focused,title:(0,be.jsx)(Qt().RS,{style:{fontWeight:500,marginTop:2},group:t,showIcon:!0,showColor:!0})}),action:()=>{eo({environment:u,collectionContextStore:x,property:e.property,propertySchema:a}),e.onChange(void 0,t.name)}}))),key:"all-groups",render:e=>(0,be.jsx)(fe().A,{...e})}]:W.map((({group:t,groupOptions:o},n)=>({items:o.map((o=>{const n=e.shouldDisableOption?e.shouldDisableOption(o.id):{disabled:!1};return{key:o.value,render:e=>{var r;return(0,be.jsx)(At().m,{disableTooltip:n.disabled&&!(null!==(r=o.description)&&void 0!==r&&r.length),placement:"left",renderTooltip:e=>n.disabled?n.disableReasonMessage:(0,be.jsxs)("div",{...e,style:Mt().Q$,children:[(0,be.jsx)("div",{children:o.value}),(0,be.jsx)("div",{style:E.description,children:o.description})]}),render:r=>{var i;return(0,be.jsx)(we().A,{...(0,kt().A)(r,e),disabled:n.disabled,disabledFeedback:!0,focused:e.focused,title:(0,be.jsx)(ht().q,{...r,value:o.value,color:o.color,hideTooltip:Boolean(null===(i=o.description)||void 0===i?void 0:i.length),tooltipPlacement:"left",groupColor:t.color,showRemoveButton:!1,isSingle:!0,format:s().A.isMobile?lt().NY.Large:lt().NY.Medium}),isTokenTitle:!0})}})},action:()=>{eo({environment:u,collectionContextStore:x,property:e.property,propertySchema:a}),e.onChange(o.value,t.name)}}})),key:`group-${n}`,render:e=>(0,be.jsx)(fe().A,{...e,topBorder:e.index>0,title:z?(0,be.jsx)(Qt().RS,{group:t,showColor:!1,style:{fontSize:12}}):null})}))),$=x&&A&&!w?{items:[{key:"edit property",render:e=>(0,be.jsx)(we().A,{...e,title:(0,be.jsx)(G().sA,{defaultMessage:"Edit property",id:"database.tableHeaderCell.editProperty"}),icon:(0,be.jsx)(M().I,{icon:Kt().M})}),action:()=>{const t=x.settingsStore;x.collectionStore()&&(e.onDismiss(),(0,$t().j)({environment:u,collectionContextStore:x,fit:"settings"}),(0,Ht().O)({collectionContextStore:x,collectionSettingsStore:t}),zt().a2({collectionSettingsStore:t,item:{type:"property",formatKey:x.getPropertyFormatKey(),property:e.property}}))}}],key:"edit-property",render:e=>(0,be.jsx)(fe().A,{...e,topBorder:e.index>0})}:void 0;return(0,be.jsx)(ye().A,{...K,children:(0,be.jsx)(Pe().A,{type:Pe().O.Vertical,initialFocus:v.length>0?0:void 0,sections:Z().oE([H,..._.isLoading?[]:Q,$]),onAccept:(t,o,n)=>{e.onAccept(n)},comboboxProps:V})})}function eo(e){var t;const{environment:o,collectionContextStore:n,property:r,propertySchema:i}=e,a=null==n?void 0:n.collectionStore();a&&a.isExternalSyncedCollection()&&ne().j2(o,{property_id:r,property_type:"status",action:"option_select",integration:null===(t=a.getFormat())||void 0===t?void 0:t.external_collection_type,collection_id:a.id,is_notion_only_property:(0,vt().sc)({collectionStore:a,propertyId:r,propertySchema:i,isExternallyImportedAndSyncedCollection:a.isExternallyImportedAndSyncedCollection()})})}var to=()=>o(649813),oo=()=>o(724456),no=()=>o(797535),ro=()=>o(312296),io=()=>o(33791),ao=()=>o(116008),lo=()=>o(135221),so=()=>o(729368),co=()=>o(586481),uo=()=>o(842076),po=()=>o(366437),mo=()=>o(180252),yo=()=>o(68465),fo=()=>o(693689),go=()=>o(968913),ho=()=>o(352153),vo=()=>o(449309),So=()=>o(206051),bo=()=>o(13643),xo=()=>o(187174),Co=()=>o(799829),ko=()=>o(769864);const Ao=(0,G().YK)({cannotSetSprintToCurrentTooltip:{id:"SprintStatusPropertyMenu.cannotSetSprintToCurrentTooltip",defaultMessage:"Current sprint already exists"},cannotSetSprintToNextTooltip:{id:"SprintStatusPropertyMenu.cannotSetSprintToNextTooltip",defaultMessage:"Next sprint already exists"},cannotSetSprintToLastTooltip:{id:"SprintStatusPropertyMenu.cannotSetSprintToLastTooltip",defaultMessage:"Last sprint already exists"}});function Mo(e){const{blockPropertyValueOverlayStore:t}=e,o=(0,d().v3)(),r=(0,mt().ET)(),i=(0,p().O$)(r.normalizedSchemaStore),a=function({sprintCollectionStore:e,environment:t,normalizedBlockSchema:o}){const[{value:n,status:r}]=(0,xo().Yb)((async()=>{var n;if(!e)return;const r=e.getSchema(),i=e.getFormat().app_config_uri;if(!i||i!==bo().av)return;const a=(0,Co().qk)(r,i).includes("last"),l=Co().n$[i],s=l.current.reducer.get(o),c=l.next.reducer.get(o),d=l.last.reducer.get(o);if(!s||!c)return;const u={userId:t.currentUser.id,userTimeZone:(0,U().P)(),searchQuery:void 0,reducers:{[_().Xk]:s,[_().tO]:c,...a&&d?{[_().el]:d}:{}},currentPageInRelatedCollection:void 0},p=null===(n=e.getParentBlockStore())||void 0===n?void 0:n.getCollectionViewStores()[0],m=e.getSpaceId();if(!p)return;const y=await ko().callApi({eventName:"queryCollection",environment:t,data:{clientType:"notion_app",source:{type:"collection",id:e.id,spaceId:m},collectionView:{id:p.id,spaceId:m},loader:u},tracking:{src:"sprint_status_overlay_check"}});if("success"!==y.type)return;const f=y.data.result.reducerResults[_().Xk],g=y.data.result.reducerResults[_().tO];if("results"!==f.type||"results"!==g.type)return;const h=f.blockIds.length>0,v=g.blockIds.length>0;if(!a)return{hasCurrentSprint:h,hasNextSprint:v,hasLastSprint:!1};const S=y.data.result.reducerResults[_().el];if("results"!==S.type)return;return{hasCurrentSprint:h,hasNextSprint:v,hasLastSprint:S.blockIds.length>0}}),[t,o,e]);if("resolved"!==r||!n)return;return n}({sprintCollectionStore:(0,p().K8)((()=>{const e=t.state;if(e.isOpen)return e.store.getAssociatedCollectionStore()}),[t]),environment:o,normalizedBlockSchema:i}),l=(0,G().tz)(),s=(0,n.useCallback)((e=>void 0===a&&[_().tO,_().Xk,_().el].includes(e)?{disabled:!0}:e===_().tO&&null!=a&&a.hasNextSprint?{disabled:!0,disableReasonMessage:l.formatMessage(Ao.cannotSetSprintToNextTooltip)}:e===_().Xk&&null!=a&&a.hasCurrentSprint?{disabled:!0,disableReasonMessage:l.formatMessage(Ao.cannotSetSprintToCurrentTooltip)}:e===_().el&&null!=a&&a.hasLastSprint?{disabled:!0,disableReasonMessage:l.formatMessage(Ao.cannotSetSprintToLastTooltip)}:{disabled:!1}),[a,l]);return(0,be.jsx)(Jt,{...e,shouldDisableOption:s})}var wo=()=>o(528093),Po=()=>o(295304),_o=()=>o(547149),jo=()=>o(349851),To=()=>o(90654),Io=()=>o(802229),Oo=()=>o(72135),Bo=()=>o(693084);const Ro=n.memo((function(e){const{disabled:t,value:r,insertChar:i,format:a,onChange:c,isTable:u,size:p}=e,[y,f]=(0,n.useState)(""),g=(0,G().tz)(),h=(0,n.useCallback)((e=>{let t=(0,o(668766).q)(e,g);return"percent"===a&&void 0!==t&&(t/=100),t}),[g,a]),v=(0,n.useRef)(!1);(0,n.useEffect)((()=>{v.current||(f(Oo().ZV(r,a,g)||""),v.current=!0)}),[a,g,r]);const S=(0,o(302055).G)();(0,n.useEffect)((()=>{if(!S)return;const e=Oo().$J(y,g);e&&r===-1*e&&f(r>0?y.replace("-",""):`-${y}`)}),[S,a,g,r,y]),(0,n.useEffect)((()=>{i&&(f(i),c(h(i)))}),[i,c,h]);const b=(0,n.useCallback)((e=>{const t=e.target.value;f(t),c(h(t))}),[c,h]),x=(0,m().IS)((()=>{const e=s().A.isMobile?"large"===p?Bo().vM:Bo().Zz:"large"===p?Bo().qi:Bo().qs;return{input:{textAlign:u?"end":"start"},inputContainer:{...e,display:"block"}}}),[u,p]),C=(0,d().Y0)(),k=!C.isIOS||C.isIpad?"decimal":(0,o(268716).hasDecimalSeparatorMismatch)()?void 0:S?"decimal":void 0;return(0,be.jsx)(l().N,{debugName:"NumberPropertyValue",capture:!t,onDelete:Z().D_,onSpace:Z().D_,onBackspace:Z().D_,onLeft:Z().D_,onRight:Z().D_,onUp:Z().D_,onDown:Z().D_,onSelectAll:Z().D_,onRedo:Z().D_,onUndo:Z().D_,onCut:Z().D_,onCopy:Z().D_,onPaste:Z().D_,onKeypress:Z().D_,children:(0,be.jsx)(Me().A,{style:x.inputContainer,value:y,format:"transparent",onChange:b,inputStyle:x.input,focus:!t,disabled:t,inputMode:k})})})),Fo=n.memo((function(e){const{disabled:t,inputType:o,onChange:r,value:i}=e,a=(0,m().IS)((()=>({input:{...s().A.isMobile?Bo().Zz:Bo().qs,display:"block"}})),[]),c=(0,n.useCallback)((e=>{r(e.target.value)}),[r]);return(0,be.jsx)(l().N,{debugName:"URLPropertyValue",capture:!t,onBackspace:Z().D_,onCopy:Z().D_,onCut:Z().D_,onDelete:Z().D_,onDown:Z().D_,onKeypress:Z().D_,onLeft:Z().D_,onPaste:Z().D_,onRedo:Z().D_,onRight:Z().D_,onSelectAll:Z().D_,onSpace:Z().D_,onUndo:Z().D_,onUp:Z().D_,children:(0,be.jsx)(Me().A,{disabled:t,focus:!t,format:"transparent",onChange:c,style:a.input,type:o,value:i})})}));var Vo=()=>o(712354),Do=()=>o(924476),Eo=()=>o(993905),Lo=()=>o(165358),Uo=()=>o(97059),Ko=()=>o(698885);function No(e,t){const[o,r]=(0,n.useState)();return{feedbackState:o,setFeedbackState:r,inferenceId:(0,p().K8)((()=>{var t;return null===(t=e.store)||void 0===t||null===(t=t.getFormat())||void 0===t||null===(t=t.ai_property_inference_map)||void 0===t||null===(t=t[e.property])||void 0===t?void 0:t.inference_id}),[e])}}function Wo({autofillBlockPropertyValueFeedbackButtonsState:e}){return e.inferenceId?(0,be.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,be.jsx)(Ko().j,{traceId:e.inferenceId,feedbackState:e.feedbackState,setFeedbackState:e.setFeedbackState,feature:"ai_autofill"})}):(function(e){const{autofillBlockPropertyValueFeedbackButtonsState:t}=e;Lo().log({from:"AutofillUpdateButtonFailedToFetchFeedbackIndicators",level:"error",type:"Autofill",data:{miscDataToConvertToString:{...t}}})}({autofillBlockPropertyValueFeedbackButtonsState:e}),null)}function zo({overlayState:e,propertySchema:t}){const o=(0,p().K8)((()=>se().m.isWriting()),[]),n=No(e),r=!(0,p().O$)(g().e);return s().A.isMobile||r||o?null:(0,be.jsx)(Eo().s,{allowSelectionWithin:!1,children:(0,be.jsxs)("div",{style:{position:"absolute",top:-36,insetInlineEnd:0,borderRadius:6,fontSize:14,lineHeight:1.2,display:"flex",whiteSpace:"nowrap",background:X().Tj.popoverBackground,boxShadow:X().Tj.shadowMD,zIndex:-1,padding:2},children:[(0,be.jsx)(Ho,{overlayState:e,propertySchema:t}),(0,be.jsx)(Wo,{autofillBlockPropertyValueFeedbackButtonsState:n})]})})}function Ho({overlayState:e,propertySchema:t}){const o=(0,d().v3)(),n=(0,m().IS)((()=>({buttonStyle:{display:"flex",height:28,borderRadius:4},updateTextStyle:{fontWeight:500,color:X().Tj.purple.text.accentPrimary}})),[]);return(0,be.jsx)(w().p,{style:n.buttonStyle,onClick:()=>{t&&le().autofillPropertyForBlocks({environment:o,stores:[e.store],property:e.property,propertySchema:t,userEventForAnalytics:"generate_from_overlay_button",collectionContextStore:e.collectionContextStore,from:Wt().zP(e.surface)})},children:(0,be.jsxs)(A().fI,{gap:4,children:[(0,be.jsx)(M().I,{icon:Uo().s,size:"sm",colorPalette:"purple",colorVariant:"accentPrimary"}),(0,be.jsx)("span",{style:n.updateTextStyle,children:(0,be.jsx)(G().sA,{defaultMessage:"Update",id:"database.propertyValues.reGenerateAiAutofill"})})]})})}function Qo({overlayState:e,propertySchema:t,showSeparator:o}){const n=No(e),r=(0,m().IS)((()=>({dot:{color:X().Tj.text.tertiary}})),[]);return(0,be.jsxs)(be.Fragment,{children:[o?(0,be.jsx)("div",{style:r.dot,children:""}):null,(0,be.jsx)(Wo,{autofillBlockPropertyValueFeedbackButtonsState:n})]})}function $o({overlayState:e,propertySchema:t,style:o}){const n=(0,d().v3)(),r=(0,m().IS)((()=>({linkStyle:{color:X().Tj.purple.text.accentPrimary,fontSize:12,...o}})),[o]);return(0,be.jsx)("div",{style:r.linkStyle,onClick:()=>{t&&le().autofillPropertyForBlocks({environment:n,stores:[e.store],property:e.property,propertySchema:t,userEventForAnalytics:"generate_from_overlay_button",collectionContextStore:e.collectionContextStore,from:Wt().zP(e.surface)})},children:(0,be.jsx)(G().sA,{defaultMessage:"Update",id:"database.propertyValues.reGenerateAiAutofill"})})}var Yo=()=>o(639882),qo=()=>o(695115),Go=()=>o(13966);const Xo=(0,o(340498).xh)("pointer",{default:{loader:()=>o.e(20684).then(o.bind(o,711621))},small:{loader:()=>o.e(20684).then(o.bind(o,548551))},fill:{loader:()=>o.e(20684).then(o.bind(o,482645))},fillSmall:{loader:()=>o.e(20684).then(o.bind(o,83756))}},["location","gps","cursor","arrow","map"]);var Zo=()=>o(297813),Jo=()=>o(932779),en=()=>o(495748),tn=()=>o(229833);async function on({isElectron:e}){if(e)return nn;if(!navigator.geolocation||!navigator.permissions)return"unsupported";try{return(await navigator.permissions.query({name:"geolocation"})).state}catch(t){return"unsupported"}}const nn="electronThereforeUnknown";var rn=()=>o(707069),an=o.n(o(794148));async function ln({isElectron:e}){const t=await on({isElectron:e});if("unsupported"===t||"denied"===t)return;const o=function(e){if(an()("denied"!==e),"granted"===e)return;if("electronThereforeUnknown"===e)return 1;return 1e4}(t);let n;try{n=await new Promise(((e,t)=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(e,t,{enableHighAccuracy:!0,timeout:o,maximumAge:0}):t(new Error("Geolocation is not supported by this browser"))}))}catch(r){Lo().log({level:"error",from:"getCurrentLocation",type:"getCurrentPosition",error:(0,tn().convertErrorToLog)(r)})}return n?{latitude:n.coords.latitude,longitude:n.coords.longitude}:void 0}var sn=()=>o(160095);function cn({propertyName:e,placeValue:t,onChange:o,onClose:r,insertChar:i}){const a=(0,d().Y0)().isElectron,c=(0,d().v3)(),u=(0,rn().S)(),[p,m]=(0,n.useState)(i||""),[{value:y=[]}]=(0,xo().Yb)((async()=>{if(!p)return[];const e=await ln({isElectron:a});return(0,sn().VW)(p,u,c,e)}),[c,p,u,a]),f=(0,n.useCallback)((async e=>{if("current-location"===e){const e=await ln({isElectron:a}),t=e&&await(0,sn().fr)(e,u,c);return void(t&&(o({value:t,placeLocationSource:"current_location"}),m("")))}const t=await(0,sn().Ox)(e,u,c);t&&(m(""),o({value:t,placeLocationSource:"autocomplete_search"}))}),[o,c,u,a]),g=(0,n.useCallback)((()=>{o({value:void 0})}),[o]),h=(0,n.useCallback)((e=>{!t||1!==e.key.length||e.ctrlKey||e.metaKey||e.altKey||(g(),m(e.key))}),[t,g]),v={menuType:me().gu.Popup,...s().A.isMobile&&{title:e,menuType:me().gu.Modal,right:(0,be.jsx)(G().sA,{...pe().W.done}),onClickRight:r},...!s().A.isMobile&&{tokenInputHeader:!0,maxHeight:333}};return(0,be.jsx)(l().N,{debugName:"PlacePropertyValueOverlay",capture:!0,priority:1,onKeypress:h,children:(0,be.jsx)(ye().A,{...v,header:(0,be.jsx)(dn,{placeValue:t,onClearLocationClick:g,setQuery:m,query:p}),footer:!t&&p&&(0,be.jsx)(pn,{}),disableHeaderBorder:!y.length&&!t,children:t?(0,be.jsx)(en().Vt,{place:t}):(0,be.jsx)(mn,{results:y,onSuggestionClick:f,query:p})})})}function dn(e){const t=(0,d().Y0)(),o=t.isElectron,n=(0,G().tz)(),{placeValue:r,onClearLocationClick:i,setQuery:a,query:l}=e,c=(0,m().IS)((()=>({tokenInputMenuItem:{background:X().Tj.background.secondary,borderBottom:`1px solid ${X().Tj.border.secondary}`,borderEndStartRadius:0,borderEndEndRadius:0},tooltipIcon:{marginTop:5},tooltip:{minWidth:150}})),[]);return(0,be.jsx)(nt().Ay,{focus:!s().A.isMobile||void 0,focusAfterAnimation:!0,hideInput:Boolean(r),format:nt().le.Place,disabled:Boolean(r),right:o&&!r?(0,be.jsx)(At().m,{placement:"right",style:c.tooltip,textWrap:!0,renderTooltip:()=>n.formatMessage({id:"placePropertyValueOverlay.currentLocation.grantLocationPermissionOnDesktop",defaultMessage:"For best results, ensure location permissions are granted in your computer settings"}),render:e=>(0,be.jsx)("div",{...e,style:c.tooltipIcon,children:(0,be.jsx)(tt().Q,{iconGroup:Go().H,style:c.tooltipIcon,variantName:"default"})})}):void 0,tokens:r?[(0,be.jsx)(un,{placeValue:r,onClearLocationClick:i},"placeValue")]:[],tokenWrapStyle:{padding:"4px 6px",gap:4},placeholder:n.formatMessage({id:"placePropertyValueOverlay.search.placeholder",defaultMessage:"Search for a location..."}),value:l,onChange:e=>a(e.target.value),dontShowBorderBottom:t.isAndroid,onRemoveLastToken:i,style:c.tokenInputMenuItem})}function un({placeValue:e,onClearLocationClick:t}){const o=(0,G().tz)(),n=(0,m().IS)((()=>({header:{display:"flex",alignItems:"center",fontSize:pt().Mi},closeIconButton:{width:20,height:20,borderRadius:100,marginInlineEnd:2,marginInlineStart:2}})),[]);return(0,be.jsxs)("div",{style:n.header,children:[(0,be.jsx)("div",{children:(0,Jo().H)({placeAnnotation:(0,Y().ZW1)(e),index:0})}),(0,be.jsx)(qo().A,{style:n.closeIconButton,icon:Zo().xMarkFillIcon,onClick:t,ariaLabel:o.formatMessage({id:"placePropertyValueOverlay.clear",defaultMessage:"Clear location field"})})]})}function pn(){const e=(0,G().tz)(),t=(0,m().IS)((()=>({disclaimerContainer:{padding:"8px 12px",borderTop:`1px solid ${X().Tj.border.secondary}`,backgroundColor:X().Tj.background.primary},disclaimerText:{fontSize:12,color:X().Tj.text.tertiary,lineHeight:1.5},disclaimerLink:{color:X().Tj.text.tertiary,textDecoration:"underline",cursor:"pointer"}})),[]);return(0,be.jsx)("div",{style:t.disclaimerContainer,children:(0,be.jsxs)("div",{style:t.disclaimerText,children:[e.formatMessage({id:"placePropertyValueOverlay.disclaimer",defaultMessage:"Results may be limited. "}),(0,be.jsx)("a",{href:"https://www.notion.com/help/maps",target:"_blank",rel:"noopener noreferrer",style:t.disclaimerLink,children:e.formatMessage({id:"placePropertyValueOverlay.disclaimer.learnMore",defaultMessage:"Learn more"})}),"."]})})}function mn(e){const{results:t,onSuggestionClick:o,query:r}=e,i=(0,G().tz)(),a=function(){const e=(0,d().Y0)().isElectron,[t,o]=(0,n.useState)("pending");return(0,n.useEffect)((()=>{let t;return async function(){const n=await on({isElectron:e});if(o(n),navigator.permissions)try{const n=await navigator.permissions.query({name:"geolocation"}),r=()=>{o(e?nn:n.state)};n.addEventListener("change",r),t=()=>{n.removeEventListener("change",r)}}catch(r){Lo().log({level:"error",from:"useGeolocationPermissionStatus",type:"geolocationPermissionStatus",error:(0,tn().convertErrorToLog)(r)})}}(),()=>{var e;null===(e=t)||void 0===e||e()}}),[e]),t}(),l="granted"===a||"prompt"===a||"electronThereforeUnknown"===a,s=(0,n.useCallback)((()=>{l&&o("current-location")}),[l,o]),c=t.map((e=>{const t=(0,sn().LI)(e),{matching:n,nonMatching:i}=(0,N().Sd)({suggestionTitle:e.title,query:r}),a=(0,be.jsxs)(be.Fragment,{children:[(0,be.jsx)("span",{style:{fontWeight:"bold"},children:n}),(0,be.jsx)("span",{children:i})]});return{key:t,action:()=>o(e),render:t=>(0,be.jsx)(we().A,{...t,title:a,caption:e.title!==e.address?e.address:void 0})}}));return c.unshift({key:"current-location",action:s,render:e=>(0,be.jsx)(At().m,{disableTooltip:l,placement:"right",renderTooltip:()=>i.formatMessage({id:"placePropertyValueOverlay.currentLocation.disabledTooltip",defaultMessage:"No permission to get current location"}),render:t=>(0,be.jsx)(we().A,{...e,...t,disabled:!l,disabledFeedback:!l,title:i.formatMessage({id:"placePropertyValueOverlay.currentLocation",defaultMessage:"Current Location"}),icon:(0,be.jsx)(tt().Q,{iconGroup:Xo,variantName:"small"})})})}),(0,be.jsx)(Pe().A,{type:Pe().O.Vertical,initialFocus:0,sections:[{items:c,key:"results",render:e=>(0,be.jsx)(fe().A,{...e})}]})}var yn=()=>o(151241),fn=()=>o(564883);function gn(e){const{overlayState:t}=e,o=(0,i().X)("database_agents"),n=!(0,p().O$)(g().e),{status:r}=(0,yn().Q)(t.store,t.property),a=(0,m().IS)((()=>({container:{position:"absolute",top:-28,insetInlineEnd:0,borderRadius:6,fontSize:14,lineHeight:1.2,display:"flex",gap:8,whiteSpace:"nowrap",background:X().Tj.popoverBackground,boxShadow:X().Tj.shadowMD,zIndex:-1,padding:2}})),[]);return s().A.isMobile?null:o?n||"completed"!==r.type&&"failed"!==r.type?null:(0,be.jsx)(Eo().s,{allowSelectionWithin:!1,children:(0,be.jsx)("div",{style:a.container,children:(0,be.jsx)(fn()._X,{blockStore:t.store,propertyId:t.property,variant:"default"})})}):null}const hn=Object.freeze({property:!0}),vn=n.memo((function(e){const{store:t}=e,r=(0,d().v3)(),i=(0,u().S)();(0,o(852507).l)((()=>{Wn({isFirstRender:!0},t,r)})),o(17022).e.withListenerIgnored((()=>{Wn({isFirstRender:!1},t,r)}));const a=(0,n.useRef)(void 0),c=(0,p().O$)(t),{originRect:m,mobileStyle:y,style:f,placementToOrigin:g}=(0,p().K8)((()=>{let e,t,n;if(c.isOpen){const d="page"===c.surface,u=(0,Yo().A9)(c),p=u?u.type:void 0,m=c.store.canEdit();let y=c.rect.top,f=c.rect.left,g=c.rect.width,v=c.rect.height;if(d?(f-=1,g+=1):(y-=1,f-=1,g+=1,v+=2),("number"===p||F().DY(p))&&s().A.isMobile){const e=(0,o(469874).y)(r,h().A.state.estimatedKeyboardWebViewOverlap,h().A.state.nativeBottomBarHeight)+24;n={overflowY:"auto",WebkitOverflowScrolling:"touch",width:Math.max(240,g),maxHeight:`calc(100vh - ${e}px)`}}if("number"===p)t={width:Math.max(240,g),overflow:"visible"};else if("date"===p)y+=v-1,t={};else if("relation"===p){const e=ho().Qd;t={width:Math.max(e,g),minHeight:m?65:void 0,overflow:"hidden"}}else if("person"===p)t={width:Math.max(240,g),overflow:"visible"};else if("formula"===p)y+=v-1,t={borderRadius:12};else if("select"===p||"multi_select"===p)t={width:Math.max(300,g),overflow:"visible"};else if("rollup"===p)y-=1,f+=1,t={};else if("file"===p)t={minWidth:Math.max(240,g)};else if("verification"===p)t={width:Z().qE(g,265,270)};else{const e=24+((0,Yo().cL)({overlayState:c,pageContext:i})?28:0);t={width:Math.max(240,g),minHeight:Math.min(v,window.innerHeight-e),maxHeight:window.innerHeight-e,overflow:"visible",display:"flex",flexDirection:"column"},"status"===p&&Wt().br({store:c.store,additionalStores:c.additionalStores,collectionContextStore:c.collectionContextStore})&&(y+=v-1)}const S=c.collectionContextStore;if(S){var a,l;const e=S.subitemTreeStore.state,n=(0,o(708830).Qe)(e.children,(e=>e.value.store===c.store)),r=null==n?void 0:n.length,i=null===(a=S.normalizedFormatStore.state)||void 0===a||null===(a=a.table_properties)||void 0===a?void 0:a.filter((e=>e.visible)),s=i&&(null===(l=i[0])||void 0===l?void 0:l.property)===c.property;r&&s&&(t={...t,...p&&R().YW(p)&&{width:Math.max(90,g)}})}e=new DOMRect(f,y,g,0)}return{originRect:e,style:t,mobileStyle:n,placementToOrigin:"bottom"}}),[c,r,i]),v=(0,p().K8)((()=>{const e=function(e){const{store:t}=e;if(!s().A.isMobile)return{type:k().nl.Popup};const o=t.state;if(!o.isOpen)return{type:k().nl.SlideUp};const n=(0,Yo().A9)(o);if(!n)return{type:k().nl.SlideUp};const r=Bo().Hp[n.type];return r}({store:t}),n=!s().A.isMobile||e.type===k().nl.Popup,i={key:Nn(t),popupType:e.type,bottomSheetInitialState:e.type===k().nl.BottomSheet?e.bottomSheetInitialState:void 0,open:c.isOpen,originRect:m,style:s().A.isMobile?y:f,borderRadius:6,alignmentToOrigin:"start",placementToOrigin:g,preventScaleTransition:n,preventOpacityTransition:n,render:()=>function(e){const{overlayState:t,store:o,environment:n}=e;if(!t.isOpen)return null;return(0,be.jsx)(l().N,{debugName:"BlockPropertyValueOverlay",capture:!0,onTab:e=>Yn(e,o,n),onUntab:e=>qn(e,o,n),onEnter:()=>Gn(o,n),onDelete:Z().D_,onBackspace:Z().D_,children:(0,be.jsxs)(mt().RI,{value:t.collectionContextStore,children:[(0,be.jsx)(Sn,{overlayState:t}),(0,be.jsx)(bn,{overlayState:t}),(0,be.jsx)("div",{style:{display:"flex",flexDirection:"column",overflowY:"auto",flexGrow:1,height:"100%"},children:(0,be.jsx)(xn,{overlayState:t,store:o})})]})},`${t.store.id}${t.property}`)}({overlayState:c,store:t,environment:r}),onDismiss:()=>function(e,t){o(182641).xl(),To().vF({environment:t,blockPropertyValueOverlayStore:e})}(t,r)};return a.current=i,i}),[r,y,m,c,g,t,f]);return c.isOpen||!a.current?(0,be.jsx)(k().zD,{...v}):(0,be.jsx)(k().zD,{...a.current,open:!1})}));function Sn({overlayState:e}){const t=(0,u().S)(),o=(0,p().K8)((()=>(0,Yo().cL)({overlayState:e,pageContext:t})),[e,t]),n=(0,p().K8)((()=>o?(0,Yo().A9)(e):void 0),[o,e]);return o?(0,be.jsx)(zo,{propertySchema:n,overlayState:e}):null}function bn({overlayState:e}){return(0,p().K8)((()=>(0,Yo().s8)({overlayState:e})),[e])?(0,be.jsx)(gn,{overlayState:e}):null}function xn({overlayState:e,store:t}){const o=(0,p().K8)((()=>(0,Yo().A9)(e)),[e]);(0,p().K8)((()=>{var t;return(null===(t=(0,Yo().K6)(e))||void 0===t?void 0:t.isPageTreeCollection())??!1}),[e]),(0,i().X)("edge_relations");if(!o)return null;const n=Cn[o.type];return n?(0,be.jsx)(n,{store:t,overlayState:e,propertySchema:o,propertyType:o.type}):null}const Cn={title:function({overlayState:e,propertyType:t,store:o}){const r=(0,d().v3)(),{clonedStore:i}=e,a=(0,n.useCallback)((()=>Gn(o,r)),[o,r]),l=(0,n.useCallback)((()=>$n(o,r)),[o,r]),c=(0,n.useCallback)((e=>Yn(e,o,r)),[o,r]),u=(0,n.useCallback)((e=>qn(e,o,r)),[o,r]),m=(0,n.useCallback)((()=>or(e,t,r,o)),[e,t,r,o]),y=(0,p().K8)((()=>i.getTitleStore()||i.getPropertyStore(e.property)),[i,e.property]),f=(0,p().K8)((()=>Hn(e,r)),[e,r]),g=(0,n.useMemo)((()=>s().A.isMobile?An:kn),[]);return(0,be.jsx)("div",{style:g,children:(0,be.jsx)(so().A,{store:y,disableSlashCommands:!0,onEnter:a,onEsc:l,onTab:c,onUntab:u,disableSelectAllBlocks:!0,disableSelectionDrag:!0,disableStyleAnnotations:!0,disableInsertedDeletedAnnotations:!0,disableShiftEnter:!0,onChange:m,disabled:f,pasteBehavior:"inline",inPageFind:po().Os.none,disabledMentionTypes:hn})})},text:function({overlayState:e,propertySchema:t,propertyType:o,store:r}){var i;const a=(0,d().v3)(),l=(0,G().tz)(),{clonedStore:c}=e,u="text"===(null==t?void 0:t.type)&&(null===(i=t.ai_inference)||void 0===i?void 0:i.auto_update_on_edit);let m;u&&(m=l.formatMessage({id:"BlockPropertyValueOverlay.textProperty.placeholder",defaultMessage:"Empty"}));const y=(0,p().K8)((()=>r.state.isOpen&&ao().A.getPropertyId()===r.state.property&&ao().A.getBlockStore()===r.state.store),[r]),f=(0,n.useCallback)((()=>Gn(r,a)),[r,a]),g=(0,n.useCallback)((()=>$n(r,a)),[r,a]),h=(0,n.useCallback)((e=>Yn(e,r,a)),[r,a]),v=(0,n.useCallback)((e=>qn(e,r,a)),[r,a]),S=(0,n.useCallback)((()=>or(e,o,a,r)),[e,o,a,r]),b=(0,p().K8)((()=>c.getPropertyStore(e.property)),[c,e.property]),x=(0,p().K8)((()=>Hn(e,a)),[e,a]),C=(0,n.useMemo)((()=>s().A.isMobile?Bo().Zz:Bo().qs),[]);return(0,be.jsxs)(be.Fragment,{children:[(0,be.jsxs)("div",{style:C,children:[(0,be.jsx)(so().A,{store:b,disableSlashCommands:!0,onEnter:f,onEsc:g,onTab:h,onUntab:v,disableSelectAllBlocks:!0,disableSelectionDrag:!0,onChange:S,disabled:x,disableStyleAnnotations:u,pasteBehavior:"inline",placeholder:m,inPageFind:po().Os.none,hasTemporaryDiscussionOnProperty:y,disabledMentionTypes:hn}),(0,be.jsx)(Mn,{overlayState:e,propertySchema:t})]}),(0,be.jsx)(wn,{overlayState:e,propertySchema:t})]})},relation:_n,rollup:function({overlayState:e,store:t,...r}){const a=On(e),l=(0,d().v3)(),s=(0,p().K8)((()=>(0,Yo().EN)(e)),[e]),c=(0,p().K8)((()=>null==a?void 0:a.id),[a]),u=(0,d().WS)(),m=Bn(e),y=Tn(e),f=(0,i().X)("rollup_pinned_property_expand")&&"compact_page"===e.surface&&!u,g=(0,p().K8)((()=>{const t=(0,Yo().K6)(e),o=null==t?void 0:t.getParentBlockStore();return Hn(e,l)||!(0,io().v)({collectionStore:t,collectionViewBlockStore:o,checkNavigableAncestorLocked:!1})||y}),[e,l,y]),h=(0,n.useCallback)((()=>Qn(t,l)),[t,l]),v=(0,n.useCallback)((e=>function(e,t,o){const n=t.state;if(!n.isOpen)return;_o().createAndCommit({userAction:"BlockPropertyValueOverlay.handleRollupPropertyMenuUpdate",environment:o,canUndo:!0,perform:r=>{!function(e,t,o,n){const r=o.state;if(!r.isOpen)return;if(r.isOpen){const o=(0,Yo().K6)(r);o&&(0,ro().F)({environment:n,collectionStore:o,update:e,transaction:t})}}({[n.property]:e.propertySchema},r,t,o)}})}(e,t,l)),[t,l]);if(!f)return(0,be.jsx)(Je,{context:"bpvOverlay",property:e.property,schema:s,disabled:g,onChange:v,parentStore:e.store,analyticsFrom:Ln(e),onDismiss:h});if(!a||!c||!m)return null;return(0,be.jsx)(o(971003).qN,{property:e.property,propertySchema:m,containerRef:null,unmappedProperty:e.property,innerProps:{blockPropertyValueOverlayStore:t,collectionStore:a,disabled:g,locked:!1,tableWrap:!0,store:e.clonedStore,surface:"property_module",collectionViewStore:void 0,property:e.property},children:(0,be.jsx)(jn,{overlayState:e,store:t,collectionStore:a,...r})})},select:function({overlayState:e,store:t}){const o=(0,d().v3)(),r=In(e),i=On(e),a=Bn(e),l=Rn(e),s=Vn(e),c=Fn(e),u=(0,n.useCallback)((e=>Xn(e,t,o)),[t,o]),m=(0,n.useCallback)((()=>Qn(t,o)),[t,o]),y=(0,n.useCallback)((e=>er(e,o,t)),[o,t]),f=(0,p().K8)((()=>(null==i?void 0:i.id)||e.store.getSpaceId()||""),[i,e.store]);if(!f||!a||"select"!==a.type)return null;const g=F().L3(l,a.options||[]);return(0,be.jsx)(_t,{allowMultiple:!1,value:g?[g]:[],property:e.property,collectionId:f,schema:r,disabled:s,canConfigureCollection:c,onChange:y,analyticsFrom:Ln(e),insertChar:e.insertChar,onAccept:u,onDismiss:m,blockStore:e.store,additionalStores:e.additionalStores,autofillExplanation:(0,be.jsx)(Mn,{overlayState:e,propertySchema:a}),bulkAutofillButton:(0,be.jsx)(wn,{overlayState:e,propertySchema:a}),surface:e.surface,formQuestionStore:e.formQuestionStore})},multi_select:function({overlayState:e,store:t,propertySchema:o}){const r=(0,d().v3)(),i=In(e),a=On(e),l=Rn(e),s=Vn(e),c=Fn(e),u=(0,p().K8)((()=>{if(!e.formQuestionStore)return!1;const t=e.formQuestionStore.getModel();return!!t&&(0,B().Fi)({formQuestionModel:t,propertySchema:o})}),[e.formQuestionStore,o]),m=(0,n.useCallback)((e=>er(e,r,t)),[r,t]),y=(0,n.useCallback)((e=>Xn(e,t,r,u)),[t,r,u]),f=(0,n.useCallback)((()=>Qn(t,r)),[t,r]),g=(0,p().K8)((()=>(null==a?void 0:a.id)||e.store.getSpaceId()),[a,e.store]);if(!g||!o||"multi_select"!==o.type)return null;const h=F().o2(l,o.options||[]);return(0,be.jsx)(_t,{allowMultiple:!u,value:h,property:e.property,collectionId:g,schema:i,disabled:s,canConfigureCollection:c,onChange:m,analyticsFrom:Ln(e),insertChar:e.insertChar,onAccept:y,onDismiss:f,blockStore:e.store,additionalStores:e.additionalStores,autofillExplanation:(0,be.jsx)(Mn,{overlayState:e,propertySchema:o}),bulkAutofillButton:(0,be.jsx)(wn,{overlayState:e,propertySchema:o}),surface:e.surface,formQuestionStore:e.formQuestionStore})},status:function({overlayState:e,propertySchema:t,store:r}){const i=(0,d().v3)(),a=Rn(e),l=Vn(e),s=(0,n.useMemo)((()=>{if(!t||"status"!==t.type)return;return{initialValue:F().RZ(a,t),property:e.property,propertySchema:t,disabled:l,onDismiss:()=>Qn(r,i),onChange:(n,a)=>{if(n){(()=>{const l=r.state;if(!l.isOpen||!l.store)return;const s=l.store,c=l.collectionContextStore,d=null==c?void 0:c.collectionStore();if(!s||!d)return;if(!Xt((0,Gt().ot)({collectionStore:d,blockStore:s})))return;if((t.options||[]).some((e=>e.value===n)))return;const u=a??"To-do",p=(t.groups??[]).findIndex((e=>e.name===u));-1!==p&&o(389783).Uk({modification:{type:"keyedObjectListAfter",newValue:n},property:e.property,propertySchema:t,environment:i,collectionStore:d,groupIndex:p})})(),er({type:"selectPropertyMenuUpdateReplaceOptions",options:[n]},i,r)}else a?function(e,t,o){const n=o.state;if(!n.isOpen)return;_o().createAndCommit({userAction:"BlockPropertyValueOverlay.handleStatusGroupPropertyMenuUpdate",environment:t,canUndo:!0,perform:r=>{if(e.groupType){for(const o of Un(n)){var i;const a=o.getAssociatedCollectionStore();if(!a)continue;const l=a.getSchema(),s=a.getMappedProperty(n.property),c=l[s];if("status"!==(null==c?void 0:c.type))continue;const d=(c.groups??[]).find((t=>{var o;return t.name.toLowerCase()===(null===(o=e.groupType)||void 0===o?void 0:o.toLowerCase())})),u=null==d||null===(i=d.optionIds)||void 0===i?void 0:i.at(0);if(!u)continue;const p=(c.options??[]).find((e=>e.id===u));if(!p)continue;const m=o.getPropertyStore(s);Po().R9({environment:t,store:m,value:[[p.value]],transaction:r})}Zn(n,t,o)}}})}({groupType:a},i,r):t.defaultOption?er({type:"selectPropertyMenuUpdateReplaceOptions",options:[t.defaultOption]},i,r):er({type:"selectPropertyMenuUpdateReplaceOptions",options:[]},i,r)},onAccept:e=>Xn(e,r,i),blockPropertyValueOverlayStore:r}}),[t,a,l,e,r,i]);if(!t||"status"!==t.type||!s)return null;return e.property===_().Hx.StatusV2?(0,be.jsx)(Mo,{...s}):(0,be.jsx)(Jt,{...s})},person:function({overlayState:e,propertySchema:t,store:r}){const i=(0,d().v3)(),a=In(e),l=Rn(e),s=(0,p().K8)((()=>{var t;return null===(t=e.collectionContextStore)||void 0===t?void 0:t.collectionStore()}),[e.collectionContextStore]),c=(0,p().K8)((()=>e.store.isTemplate()),[e]),u=Vn(e),m=(0,n.useCallback)((()=>Qn(r,i)),[r,i]),y=(0,n.useCallback)((e=>function(e,t,o){const n=o.state;if(!n.isOpen)return;const{collectionContextStore:r,property:i,surface:a}=n,l=null==r?void 0:r.collectionStore(),s=null==l?void 0:l.getSchema()[i];var c;l&&s&&l.isExternalSyncedCollection()&&ne().j2(t,{property_id:i,property_type:(null==s?void 0:s.type)??"person",action:"person_select",from:a,integration:null===(c=l.getFormat())||void 0===c?void 0:c.external_collection_type,collection_id:l.id,is_notion_only_property:(0,vt().sc)({collectionStore:l,propertyId:i,propertySchema:s,isExternallyImportedAndSyncedCollection:l.isExternallyImportedAndSyncedCollection()})});_o().createAndCommit({userAction:"BlockPropertyValueOverlay.handlePersonPropertyMenuUpdate",environment:t,canUndo:!0,perform:r=>{if(te().pN(e.schema)||zn(e.schema,r,o,t),"personPropertyMenuUpdateAddPerson"===e.type){for(const t of Kn(n))for(const o of e.newValues)_o().applyOperation({transaction:r,store:t,operation:{path:t.path,pointer:t.pointer,command:"addPersonAfter",args:{pointer:o}}});Zn(n,t,o,{personAddedGroupMention:e.newValues.some((e=>!(0,Y().MMZ)(e)&&(0,Q().I6)(e)))}),n.property!==q()._e.Owner&&"notion://wiki/owner_property"!==n.property||(0,jo().y)({environment:t,blockStore:n.store,entrypoint:"property_menu",action:"add"})}else if("personPropertyMenuUpdateRemovePerson"===e.type){for(const t of Kn(n))_o().applyOperation({transaction:r,store:t,operation:{path:t.path,pointer:t.pointer,command:"removePerson",args:{pointer:e.removedValue}}});Zn(n,t,o),n.property!==q()._e.Owner&&"notion://wiki/owner_property"!==n.property||(0,jo().y)({environment:t,blockStore:n.store,entrypoint:"property_menu",action:"remove"})}else if("personPropertyMenuUpdateReplacePerson"===e.type){const i=(0,T().R)([e.newValue]);for(const e of Kn(n))Po().R9({environment:t,store:e,value:i,transaction:r});Zn(n,t,o),n.property!==q()._e.Owner&&"notion://wiki/owner_property"!==n.property||(0,jo().y)({environment:t,blockStore:n.store,entrypoint:"property_menu",action:"replace"})}else(0,J().HB)(e)}})}(e,i,r)),[i,r]),f=(0,p().K8)((()=>e.store.getCreatedByPointer()),[e]);if(!t||"person"!==t.type)return null;const g=(0,o(156736).a)({value:l,isTemplatePage:c,propertySchema:t,blockCreatorPointer:c||(0,ut().J)(e.surface)?void 0:f}),h=(0,J().O9)(t.default)&&!l&&1===g.length;return(0,be.jsx)(o(993854).gw,{value:g,surface:e.surface,valueIsUnpersistedDefaultValue:h,propertySchema:t,schema:a,disabled:u,onChange:y,insertChar:e.insertChar,onDismiss:m,parentStore:e.store,isTemplatePage:c,formQuestionStore:e.formQuestionStore,collectionStore:s})},number:function({overlayState:e,store:t,propertySchema:r}){const i=(0,d().v3)(),a=Rn(e),l=Vn(e),s=(0,n.useCallback)((e=>function(e,t,o){const n=o.state;if(!n.isOpen)return;(0,Io().YX)(e,t,Kn(n)),Zn(n,t,o)}(e,i,t)),[i,t]);if(!r||"number"!==r.type)return null;const c="table"===e.surface,u=o(302322).M(a),p="large"===(null==e?void 0:e.sizing)?"large":"default";return(0,be.jsx)(Ro,{size:p,value:u,isTable:c,format:r.number_format||"number",disabled:l,insertChar:e.insertChar,onChange:s})},date:function({overlayState:e,store:t,propertySchema:r}){const i=(0,d().v3)(),a=Rn(e),l=Vn(e),s=Fn(e),c=(0,n.useCallback)((e=>function(e,t,o){const n=o.state;if(!n.isOpen)return;_o().createAndCommit({userAction:"BlockPropertyValueOverlay.handleDatePropertyValueChange",environment:t,canUndo:!0,perform:r=>{for(const i of Un(n))!e||D().kC(e)?(ce().D5({environment:t,store:i,type:"dateValue",dateValue:e,propertyId:n.property,transaction:r}),e||Qn(o,t)):(ae().zv({store:i.getPropertiesStore(),transaction:r,data:{[n.property]:[Y().wmz(Y().Ii$({type:e}))]}}),Qn(o,t)),Zn(n,t,o)}})}(e,i,t)),[i,t]),u=(0,n.useCallback)((e=>function(e,t,o){const n=t.state;if(!n.isOpen)return;const r=(0,Yo().A9)(n);if(!r||"date"!==r.type)return;const i=(0,Yo().EN)(n),a={...r,date_format:e},l={...i,[n.property]:a};if(_o().createAndCommit({userAction:"BlockPropertyValueOverlay.handleDatePropertyDateFormatChange",environment:o,canUndo:!0,perform:e=>{zn(l,e,t,o)}}),a){var s;Ln(n),(0,re().L)(o,{property_type:a.type,action:"date_change_format",from:Ln(n),collection_id:null===(s=(0,Yo().K6)(n))||void 0===s?void 0:s.id})}}(e,t,i)),[i,t]),m=(0,n.useCallback)((e=>function(e,t,o){const n=t.state;if(!n.isOpen)return;const r=(0,Yo().A9)(n);if(!r||"date"!==r.type)return;const i=(0,Yo().EN)(n),a={...r,time_format:e},l={...i,[n.property]:a};if(_o().createAndCommit({userAction:"BlockPropertyValueOverlay.handleDatePropertyTimeFormatChange",environment:o,canUndo:!0,perform:e=>{zn(l,e,t,o)}}),a){var s;Ln(n),(0,re().L)(o,{property_type:a.type,action:"date_change_format",from:Ln(n),collection_id:null===(s=(0,Yo().K6)(n))||void 0===s?void 0:s.id})}}(e,t,i)),[i,t]),f=(0,n.useCallback)((()=>Qn(t,i)),[t,i]),g=(0,p().K8)((()=>e.store.isTemplate()),[e]);if(!r||"date"!==r.type)return null;const h=(0,o(187696).b)(a),v=r.default_reminder,S=["form_editor","form_viewer"].includes(e.surface);return(0,be.jsx)(y().u2,{dependency:o(75858).cm,children:({DatePropertyMenu:t})=>(0,be.jsx)(t,{firstDayOfWeek:mo().XX.state,value:h,surface:e.surface,onChangeValue:c,dateFormat:r.date_format,onChangeDateFormat:u,timeFormat:r.time_format,defaultReminder:v,disabled:l,canConfigureCollection:s,onChangeTimeFormat:m,onDismiss:f,shouldShowReminder:!S,shouldShowControls:!S,isTemplatePage:g,formQuestionStore:e.formQuestionStore})})},file:function({overlayState:e,store:t}){const o=(0,d().v3)(),r=In(e),i=Rn(e),a=Vn(e),l=F().pJ(i),s=(0,n.useCallback)((()=>Qn(t,o)),[t,o]),c=(0,n.useCallback)((n=>_o().createAndCommit({userAction:"BlockPropertyValueOverlay.renderFile",environment:o,canUndo:!0,perform:r=>{if(te().pN(n.schema)||zn(n.schema,r,t,o),!te().pN(n.value)){const i=F().eQ(n.value);for(const t of Kn(e))Po().R9({environment:o,store:t,value:i,transaction:r});Zn(e,o,t)}n.pastedSecureFile&&ae().Bn({store:e.store,source:n.pastedSecureFile.copiedSource,fileIds:[n.pastedSecureFile.fileId],transaction:r})}})),[o,t,e]);return(0,be.jsx)(We,{store:e.store,value:l,property:e.property,schema:r,onDismiss:s,uploadFiles:e.uploadFiles,disabled:a,onChange:c})},url:Dn,phone_number:Dn,email:Dn,formula:function({overlayState:e,propertySchema:t,store:r}){const i=(0,d().v3)(),a=Tn(e),l=Vn(e),s=Fn(e),c=On(e),u=(0,p().K8)((()=>e.store.getModel()),[e.store]),m=(0,n.useCallback)((()=>Qn(r,i)),[r,i]),f=(0,n.useCallback)((e=>function(e,t){const{newValue:o,newType:n,propertySchema:r,property:i,collectionStore:a}=e,l=!o||Z().Im(o)?{...r,formula2:void 0,version:"v2"}:{...r,formula2:{code:o,result_type:n},version:"v2"};_o().createAndCommit({userAction:"CollectionFormulaOptions.handleFormulaChange",environment:t,canUndo:!0,perform:e=>{(0,ro().F)({environment:t,collectionStore:a,update:{[i]:l},transaction:e})}})}(e,i)),[i]),g=l||!s||a;if(u&&c&&t&&"formula"===t.type)return(0,be.jsx)(y().u2,{dependency:o(862292).T.formulas,children:n=>(0,be.jsx)(o(641078).C,{handleClose:m,property:e.property,getRecordModel:e.store.getRecordModel,propertySchema:t,collectionStore:c,handleSave:f,formulas:n,disabled:g,blockStore:e.store,analyticsFrom:Ln(e)})});return null},verification:function({overlayState:e,propertySchema:t,store:r}){const i=(0,d().v3)(),a=Rn(e),l=(0,n.useCallback)((()=>Qn(r,i)),[r,i]),s=(0,n.useCallback)((t=>{_o().createAndCommit({userAction:"BlockPropertyValueOverlay.verification",environment:i,canUndo:!0,perform:o=>{const n=F().j2(t.value);for(const t of Kn(e))Po().R9({environment:i,store:t,value:n,transaction:o});Zn(e,i,r)}}),(0,jo().q)({environment:i,blockStore:e.store,update:t}),l()}),[i,e,r,l]),c=(0,q().U1)(a);if("verification"!==(null==t?void 0:t.type))return null;return(0,be.jsx)(o(617649).Y,{propertyName:t.name,onChange:s,verificationValue:c,getRecordModel:e.store.getRecordModel,blockId:e.store.id,onClose:l,showTitle:!0,showCurrentStatusHeader:!0,showRemoveVerificationButton:!0,showVerificationFooter:!0,showCustomHeader:!1,entrypoint:"db_property_menu"})},place:function({overlayState:e,propertySchema:t,propertyType:r,store:i}){const a=(0,d().v3)(),l=Rn(e),s=(0,n.useCallback)((t=>{const{store:n,property:r}=e;_o().createAndCommit({userAction:"BlockPropertyValueOverlay.handlePlaceChange",environment:a,canUndo:!0,perform:e=>{(0,o(454099).WQ)({environment:a,store:n,property:r,place:t.value,transaction:e})}}),Zn(e,a,i,{placeLocationSource:t.placeLocationSource})}),[a,e,i]),c=(0,n.useCallback)((()=>{Qn(i,a)}),[i,a]);if("place"!==(null==t?void 0:t.type))return null;const u=(0,N().eC)(l);return(0,be.jsx)(cn,{placeValue:u,propertyName:t.name,onChange:s,onClose:c,insertChar:e.insertChar})},checkbox:void 0,created_by:void 0,created_time:void 0,last_edited_by:void 0,last_edited_time:void 0,last_visited_time:void 0,button:void 0,auto_increment_id:void 0,location:void 0},kn=(o(843787).JK,{...Bo().qs,fontWeight:ee().Wy.medium}),An={...Bo().Zz,fontWeight:ee().Wy.medium};function Mn({overlayState:e,propertySchema:t}){const o=(0,u().S)(),n=(0,p().K8)((()=>(0,yo().O0)()),[]),r=(0,p().K8)((()=>se().m.isWriting()),[]),i=!(0,p().O$)(g().e),a=t&&R().$M(t)?(0,R().om)(t):void 0,l=(0,p().K8)((()=>(0,yo().ge)(null==o?void 0:o.publicEditModeStore.state,e.store)),[o,e]),c=(0,m().IS)((()=>({aiWritingLabel:{fontSize:12,color:X().Tj.purple.text.accentPrimary,display:"flex",alignItems:"inline",fontWeight:500,padding:"8px 12px"},editContainer:{display:"flex",alignItems:"center",padding:"8px 12px"},dot:{color:X().Tj.text.tertiary},autoUpdatingLinkContainer:{paddingInlineStart:2,display:"flex",alignItems:"center"},autoUpdatingMobileLink:{paddingInlineStart:2,paddingInlineEnd:2},editMobileLink:{marginTop:6,marginBottom:2}})),[]);return n?i?null:r?(0,be.jsxs)(P().A,{isSecondaryColor:!0,style:c.aiWritingLabel,isSmall:!0,isMultiline:!0,children:[(0,be.jsx)(G().sA,{defaultMessage:"AI is writing",id:"BlockPropertyValueOverlay.AIActionText.overlay"}),(0,be.jsx)("div",{style:{marginInlineStart:4},children:(0,be.jsx)(lo().A,{colorPalette:"purple"})})]}):null!=a&&a.auto_update_on_edit?(0,be.jsxs)("div",{style:c.editContainer,children:[(0,be.jsx)(P().A,{isSecondaryColor:!0,style:{fontSize:12},isSmall:!0,isMultiline:!0,children:(0,be.jsx)(G().sA,{defaultMessage:"Auto-updated by AI",id:"BlockPropertyValueOverlay.helpText.overlay"})}),s().A.isMobile&&l?(0,be.jsxs)("div",{style:c.autoUpdatingLinkContainer,children:[(0,be.jsx)("div",{style:c.dot,children:""}),(0,be.jsx)($o,{overlayState:e,propertySchema:t,style:c.autoUpdatingMobileLink}),(0,be.jsx)(Qo,{overlayState:e,propertySchema:t,showSeparator:!0})]}):void 0]}):s().A.isMobile&&a&&l?(0,be.jsx)($o,{overlayState:e,propertySchema:t,style:c.editMobileLink}):null:null}function wn({overlayState:e,propertySchema:t}){const{store:o}=e,i=null==t?void 0:t.name,a=(0,d().v3)(),l=(0,u().S)(),s=(0,p().K8)((()=>(0,yo().ge)(null==l?void 0:l.publicEditModeStore.state,o)),[l,o]),c=!(0,p().O$)(g().e),y=(0,p().K8)((()=>{var t;return Math.max((null===(t=e.collectionsBulkActionsToolbarStore)||void 0===t?void 0:t.getNumberOfTextStoresBeingEdited())??0,So().default.state.stores.length)}),[e]),f=(0,m().IS)((()=>({button:{width:"100%",height:"auto",borderTop:`1px solid ${X().Tj.border.secondaryTranslucent}`},titleContainer:{fontSize:14,whiteSpace:"normal"},descriptionContainer:{fontSize:12,color:X().Tj.text.secondary,whiteSpace:"normal",lineHeight:"1.4em"}})),[]),h=(0,p().K8)((()=>o.getSpaceId()),[o]),v=(0,r().T)(),S=(0,wo()._)({name:"collection_property_autofill",spaceId:h,userId:v,amount:y}),b=(0,n.useCallback)((()=>{S&&((0,$().e2)(S)?function(e,t,o,n){const{collectionsBulkActionsToolbarStore:r}=e;if(!r)return;if((0,$().e2)(t)){let t=r.state.textStoresBeingEdited;if(0===t.length&&(t=So().default.state.stores),!(0,J().EI)(t))return;const n=(0,Yo().A9)(e);if(!n)return;le().autofillPropertyForBlocks({environment:o,stores:t,property:e.property,propertySchema:n,userEventForAnalytics:"generate_from_overlay_button",isBulkAction:!0,from:Wt().zP(e.surface),collectionContextStore:e.collectionContextStore})}else le().triggerAiAutofillUpsell({environment:o,from:"ai_autofill_bulk_fill",upsell:t.upsell,store:n})}(e,S,a,o):le().triggerAiAutofillUpsell({environment:a,from:"ai_autofill_bulk_fill",upsell:S.upsell,store:o}))}),[e,S,a,o]);if(t&&s&&R().$M(t)&&(0,R().om)(t)){if(y<=1||c||!S)return null;const e=S.limit.amount;return(0,be.jsx)(w().p,{style:f.button,onClick:()=>b(),children:(0,be.jsxs)(A().fI,{gap:8,padding:"8px 0px",alignItems:"start",children:[(0,be.jsx)(M().I,{icon:K().x,colorPalette:"purple",colorVariant:"accentPrimary"}),(0,be.jsxs)(A().VP,{gap:4,children:[(0,be.jsx)("div",{style:f.titleContainer,children:i?(0,be.jsx)(G().sA,{defaultMessage:"Update {propertyName} with AI",id:"BlockPropertyValueOverlay.bulkAiAutofillButton.titleWithPropertyName",values:{propertyName:i}}):(0,be.jsx)(G().sA,{defaultMessage:"Update with AI",id:"BlockPropertyValueOverlay.bulkAiAutofillButton.title"})}),(0,be.jsx)("div",{style:f.descriptionContainer,children:(0,$().e2)(S)?(0,be.jsx)(G().sA,{defaultMessage:"{numPages, select, 1 {Update {numPages} page} other {Update {numPages} pages}}",id:"BlockPropertyValueOverlay.bulkAiAutofillButton.countAndDescription",values:{numPages:y}}):0===e?(0,be.jsx)(G().sA,{defaultMessage:"Upgrade Notion AI to update properties with AI",id:"BlockPropertyValueOverlay.bulkAiAutofillButton.largeBulkFillUpsellMessage.zeroPagesV2"}):(0,be.jsx)(G().sA,{defaultMessage:"Upgrade Notion AI to update more than {maxItems} pages at once",id:"BlockPropertyValueOverlay.bulkAiAutofillButton.largeBulkFillUpsellMessageV2",values:{maxItems:S.limit.amount}})})]})]})})}return null}const Pn={RelationPropertyRenderer:_n};function _n({overlayState:e,store:t,edgeRelationValue:o}){const r=(0,d().v3)(),i=In(e);let a=(0,p().K8)((()=>F().n(En(e))),[e]);o&&(a=o);const l=On(e),s=Fn(e),c=(0,p().K8)((()=>e.store.getParentId()),[e]),u=Vn(e),m=(0,n.useCallback)((()=>Qn(t,r)),[t,r]),y=(0,n.useCallback)((async e=>{const o=t.state;o.isOpen&&await tr({update:e,environment:r,blockStore:o.store,property:o.property,propertySchema:(0,Yo().A9)(o),inMemoryRecordCache:o.store.inMemoryRecordCache,editStores:Un(o),collectionContextStore:o.collectionContextStore,surface:o.surface})}),[r,t]),f=(0,p().K8)((()=>{var t;return(null===(t=e.collectionContextStore)||void 0===t?void 0:t.collectionViewStore())||void 0}),[e]);return c?(0,be.jsx)(ho().PF,{blockPointers:a,property:e.property,collectionStore:l,collectionId:c,schema:i,isDisabled:u,canConfigureCollection:s,onChange:y,analyticsFrom:Ln(e),onClose:m,blockStore:e.store,overlayMode:e.mode,insertChar:e.insertChar,surface:e.surface,formQuestionStore:e.formQuestionStore,collectionViewStore:f}):null}function jn({overlayState:e,collectionStore:t,store:o}){const r=(0,d().WS)(),i=(0,n.useMemo)((()=>{if(t)return new(f().ComputedStore)((()=>t.getSchema()),{debugName:"BlockPropertyValueOverlay.collectionSchemaStore"})}),[t]),{rollupAggregationValue:a,rollupTokens:l,propertyStylingType:s,isLoading:c}=(0,Do().KV)({store:e.clonedStore,property:e.property,collectionStore:t,collectionSchemaStore:i,surface:"page"}),u=!a&&!l,y=(0,m().IS)((()=>{const t=(0,pt()._Q)({isPhone:r});return{containerStyle:{...r?{}:{minWidth:e.rect.width,maxWidth:u?e.rect.width:Math.max(400,e.rect.width),maxHeight:280},fontSize:pt().Mi,...t.page.default,..."checkbox"===s?{...t.page.checkbox}:{},..."text"===s?{...t.page.text}:{},..."button"===s?{...t.page.button}:{}}}}),[u,r,e.rect.width,s]),g=(0,d().v3)(),{RouterStore:h}=g,v=(0,n.useRef)(window.location.href),S=(0,p().K8)((()=>h.state.route),[h]);return n.useEffect((()=>{v.current!==window.location.href&&Qn(o,g)}),[S,g,o]),c?null:(0,be.jsx)("div",{style:y.containerStyle,children:a??l??(0,be.jsx)(Vo().ao,{})})}function Tn(e){return(0,p().K8)((()=>{var t;if(!e.isOpen)return!1;const o=null===(t=e.collectionContextStore)||void 0===t?void 0:t.collectionStore();if(!o)return!1;const n=e.property;return Boolean(o.getDatabaseType()&&o.isTypedProperty(n))}),[e])}function In(e){return(0,p().K8)((()=>(0,Yo().EN)(e)),[e])}function On(e){return(0,p().K8)((()=>(0,Yo().K6)(e)),[e])}function Bn(e){return(0,p().K8)((()=>(0,Yo().A9)(e)),[e])}function Rn(e){return(0,p().K8)((()=>En(e)),[e])}function Fn(e){return(0,p().K8)((()=>{if("form_viewer"===e.surface)return!1;const t=(0,Yo().K6)(e),o=null==t?void 0:t.getParentBlockStore();return(0,io().v)({collectionStore:t,collectionViewBlockStore:o,checkNavigableAncestorLocked:!1})}),[e])}function Vn(e){const t=(0,d().v3)();return(0,p().K8)((()=>Hn(e,t)),[e,t])}function Dn({overlayState:e,propertyType:t,store:o}){const r=Rn(e),i=Y().k4p(r),a=Vn(e),l=(0,d().v3)(),s=(0,n.useCallback)((e=>function(e,t,o){const n=o.state;if(!n.isOpen)return;const r=F().jw(e);_o().createAndCommit({userAction:"BlockPropertyValueOverlay.handleURLValueChange",environment:t,canUndo:!0,perform:e=>{for(const o of Kn(n))Po().R9({environment:t,store:o,value:r,transaction:e})}}),Zn(n,t,o),ne().oF(t,{pastedText:e,source:"url_property"})}(e,l,o)),[l,o]),c=(0,n.useCallback)((()=>Qn(o,l)),[o,l]);let u="url";return"phone_number"===t?u="tel":"email"===t&&(u="email"),(0,be.jsx)(Fo,{value:i,inputType:u,disabled:a,onChange:s,onDismiss:c})}function En(e){return e.store.getPropertyValue(e.property)}function Ln(e){return Wt().zP(e.surface)}function Un(e){return[e.store,...e.additionalStores]}function Kn(e){return Un(e).map((t=>{const o=t.getAssociatedCollectionStore(),n=o?o.getMappedProperty(e.property):e.property;return t.getPropertyStore(n)}))}function Nn(e){const t=e.state;if(!t.isOpen)return"ignore";const o=(0,Yo().A9)(t);return o?o.type:"ignore"}function Wn({isFirstRender:e},t,o){const n=t.state;if(!n.isOpen||!n.collectionContextStore)return;const r=v().default.mark("collections.block_property_value_overlay_render");v().default.measureAfterNextFlush(r,{environment:o,getData:()=>{var t;return{...yt().kz(n.collectionContextStore),is_first_render:e,property_type:null===(t=(0,Yo().A9)(n))||void 0===t?void 0:t.type,from:Wt().zP(n.surface)}}})}function zn(e,t,o,n){const r=o.state;if(r.isOpen&&r.isOpen){const o=(0,Yo().K6)(r);o&&(0,no().I)({environment:n,collectionStore:o,update:{schema:e},transaction:t})}}function Hn(e,t){if((0,go().Wi)(t,e.store.id))return!0;const o=(0,Yo().A9)(e),n=o&&R().$M(o)&&(0,R().om)(o);if(n&&n.auto_update_on_edit&&(0,yo().O0)())return!0;const r=(0,Yo().K6)(e);return!(!r||(0,vt().RL)({isExternallyImportedAndSyncedCollection:r.isExternallyImportedAndSyncedCollection(),propertyId:e.property,collectionStore:r,propertySchema:o})||(0,vt().JD)(r)&&"read_write"===(null==o?void 0:o.synced_permissions))||(e.readOnly||(0,fo().Y)(t,e.store,e.store.getSpaceStore())||(0,O().u)(e.property))}function Qn(e,t){To().VN({environment:t,blockPropertyValueOverlayStore:e})}function $n(e,t){To().tY({environment:t,blockPropertyValueOverlayStore:e})}function Yn(e,t,o){e.preventDefault(),To().XQ({environment:o,blockPropertyValueOverlayStore:t})}function qn(e,t,o){e.preventDefault(),To().gu({environment:o,blockPropertyValueOverlayStore:t})}function Gn(e,t){To().iF({environment:t,blockPropertyValueOverlayStore:e})}function Xn(e,t,o,n){const r=t.state;if(!r.isOpen)return;const i=(0,Yo().A9)(r);i&&("select"===i.type||"status"===i.type||"multi_select"===i.type&&n)&&c().default.afterNextFlush((()=>{e?To().iF({environment:o,blockPropertyValueOverlayStore:t}):To().tY({environment:o,blockPropertyValueOverlayStore:t})}))}function Zn(e,t,o,n){Jn({environment:t,blockStore:e.store,collectionContextStore:e.collectionContextStore,propertyId:e.property,propertySchema:(0,Yo().A9)(e),surface:e.surface,isOpenFromBulkActionsToolbar:Wt().pi(o),...n})}function Jn(e){const{environment:t,blockStore:o,collectionContextStore:n,propertyId:r,propertySchema:i,surface:a,isOpenFromBulkActionsToolbar:l,placeLocationSource:s,personAddedGroupMention:c}=e,d=o.getType(),u=o.getAssociatedCollectionId();if(d&&i&&n){const e=Wt().zP(a);(0,oe().E)({environment:t,collectionContextStore:n,block_id:o.id,property:r,property_type:i.type,from:e,collection_id:u,isFromBulkActionsToolbar:l,value_count:F().o6(o.getModel(),r,i),...s&&{place_location_source:s},...c&&{person_added_group_mention:c}})}}function er(e,t,o){const n=o.state;n.isOpen&&_o().createAndCommit({userAction:"BlockPropertyValueOverlay.handleSelectPropertyMenuUpdate",environment:t,canUndo:!0,perform:r=>{if(te().pN(e.schemaOperations)||function(e,t,o,n){const r=o.state;if(r.isOpen&&r.isOpen){const o=(0,Yo().K6)(r);if(o){const r=o.getSchema();for(const n of e)_o().applyOperation({store:(0,S().v3)(o,n.pointer),operation:n,transaction:t});const i=o.getSchema();(0,oo().H)({environment:n,collectionStore:o,oldSchema:r,newSchema:i,transaction:t})}}}(e.schemaOperations,r,o,t),"selectPropertyMenuUpdateReplaceOptions"===e.type){const i=F().rK(e.options);for(const e of Kn(n))Po().R9({environment:t,store:e,value:i,transaction:r});Zn(n,t,o)}else if("selectPropertyMenuUpdateAddOptions"===e.type){for(const t of Kn(n))for(const o of e.addOptions)_o().applyOperation({transaction:r,store:t,operation:{path:t.path,pointer:t.pointer,command:"addSelectOptionAfter",args:{option:o}}});Zn(n,t,o)}else if("selectPropertyMenuUpdateRemoveOption"===e.type){for(const t of Kn(n))_o().applyOperation({transaction:r,store:t,operation:{path:t.path,pointer:t.pointer,command:"removeSelectOption",args:{option:e.removeOption}}});Zn(n,t,o)}else"selectPropertyMenuUpdateSchema"===e.type||(0,J().HB)(e)}})}async function tr({update:e,environment:t,blockStore:o,property:n,propertySchema:r,inMemoryRecordCache:i,editStores:l,collectionContextStore:s,surface:c,coerceToViewOptions:d}){var u;if(!r||"relation"!==r.type)return;const p="relation"===r.type&&R().zO(r),m=p&&new(x().m)(t,{table:z().Vl,id:p});if(!p||!m)return;await m.load();const y=a().default.checkGate({gateName:"edge_relations"}),f=y?(0,vo().b)({store:o,property:n}):void 0;_o().createAndCommit({userAction:"BlockPropertyValueOverlay.handleRelationPropertyMenuUpdate",environment:t,canUndo:!0,perform:u=>{if(e.newPage){const o=Y().x9d(e.newPage.name),n=m.getRootPagePointer()??m.pointer,r=ae().Wv({environment:t,id:e.newPage.id,type:j().xd.page,properties:{title:o},spaceId:e.newPage.spaceId,inMemoryRecordCache:i,transaction:u});if(n.table===W().ev){const e=new(b().B)(t,n);ie().NI({parentStore:e,childStore:r,transaction:u})}else n.table===z().Vl?ie().X$({parentStore:m,childStore:r,transaction:u}):(0,J().HB)(n);const a=m.getDefaultTemplatePageStore();a&&to().TB({title:{text:o},environment:t,store:b().B.createChildStore(m,r.pointer),templateStore:a,isKeyboard:!1,isCreateIn:!1,transaction:u,from:"relation_property_menu_update"})}const p=e.newValues,g=e.oldValues,h=(0,E().i)(g.map(V().jV),p.map(V().jV)),v=Z().oE(Array.from(h.removeOps).map((e=>{if(!p.find((t=>(0,V().jV)(t)===e)))return g.find((t=>(0,V().jV)(t)===e))}))),S=[],x=t.idCreator.getSpaceIdCreatorSync(o.getSpaceId());for(const e in h.beforeOps){const n=p.find((t=>(0,V().jV)(t)===e));if(!n)continue;let r;if(y&&f){const{forwardId:e}=(0,L().h5)({edgeType:f,sourceId:o.id,targetId:n.id,spaceIdCreator:x});r=new(C().n)(t,{table:H().IT,id:e,spaceId:o.getSpaceId()})}const i=h.beforeOps[e];if(!i){S.push({relationToAdd:n,edgeStore:r});continue}const a=p.find((e=>(0,V().jV)(e)===i));S.push({relationToAdd:n,before:a,edgeStore:r})}for(const e of l){for(const o of v)Ge().zB({environment:t,store:e,propertyId:n,id:o.id,transaction:u,edgeType:f});for(const o of S)o.before?Ge().K6({environment:t,store:e,propertyId:n,id:o.relationToAdd.id,position:{type:"before",before:o.before.id},transaction:u,edgeType:f}):Ge().K6({environment:t,store:e,propertyId:n,id:o.relationToAdd.id,position:{type:"after"},transaction:u,edgeType:f})}if(d){var k;const{groupFormat:n,intl:r,onAddOrLink:i}=d;if(!s)return;const l=n?[n]:[],c=null===(k=e.newValues)||void 0===k?void 0:k[0];if(!c)return;const p=b().B.createChildStore(m,c);if(!p)return;const y=p.getModel();if(!y)return;const{update:f}=I().H3({block:y,schema:m.getSchema(),propertyMapping:m.getPropertyMapping(),userFilterContext:{userId:t.currentUser.id,userTimeZone:(0,U().P)(),userStartOfWeek:mo().XX.state},filter:(0,qe().A)(s,!1),groupBy:s.getGroupByAndGroupFormats().groupBy,groupsPointer:l,relativeVariableResult:s.relativeVariableStore.state,currentPageInRelatedCollection:o.id,getRecordModel:m.getRecordModel,intl:r,resultCache:new Map,regExpCache:new Map,formatDateCache:new Map,experimentService:a().default,spaceIdCreator:t.idCreator.getSpaceIdCreatorSync(m.getSpaceId()),getRelationEdgeList:(0,uo().Y)({environment:t,spaceId:m.getSpaceId()}),sourceCollectionId:m.id});co().C({environment:t,store:p,properties:f,transaction:u}),i&&i(u,o,f)}Jn({environment:t,blockStore:o,collectionContextStore:s,propertyId:n,propertySchema:r,surface:c,isOpenFromBulkActionsToolbar:!1})}});const g=null==s||null===(u=s.collectionStore())||void 0===u?void 0:u.pointer;m&&g&&R().nC(r)&&Xe().id({sourcePropertySchema:r,sourcePropertyId:n,sourceCollectionPointer:g,relatedCollectionStore:m,newRelationValues:e.newValues,oldRelationValues:e.oldValues,environment:t})}function or(e,t,o,n){!function(e,t,o){const n=v().default.DO_NOT_USE_markLegacy("collections.property_overlay_typing_lag");v().default.DO_NOT_USE_measureAfterNextFlushLegacy(n,{environment:o,getData:()=>({...yt().kz(e.collectionContextStore),property_type:t,from:Wt().zP(e.surface)})})}(e,t,o);const{store:r,property:i,additionalStores:a}=e,l=r.getPropertyStore(i).getValue();_o().createAndCommit({userAction:"BlockPropertyValueOverlay.handleTextChange",environment:o,canUndo:!0,perform:e=>{for(const t of a)Po().R9({environment:o,store:t.getPropertyStore(i),value:l,transaction:e})}}),Zn(e,o,n)}},151241:(e,t,o)=>{o.d(t,{Q:()=>c});var n=()=>o(590526),r=()=>o(744947),i=()=>o(145820),a=()=>o(615234),l=()=>o(534177);const s=(0,o(69708).YK)({processingRequest:{id:"AgentWorkflowStatus.processingRequest",defaultMessage:"Processing..."},workflowPaused:{id:"AgentWorkflowStatus.workflowPaused",defaultMessage:"Workflow paused"},pausedWithReason:{id:"AgentWorkflowStatus.pausedWithReason",defaultMessage:"Paused: {reason}"},workflowSkipped:{id:"AgentWorkflowStatus.workflowSkipped",defaultMessage:"Workflow was skipped"},insufficientPermissions:{id:"AgentWorkflowStatus.workflowInsufficientPermissions",defaultMessage:"Workflow was blocked: insufficient permissions"}});function c(e,t){const o=(0,n().K8)((()=>{var o;const n=e.getFormatStore();return null==n||null===(o=n.getKeyStore("agent_workflow_status").getValue())||void 0===o?void 0:o[t]}),[e,t],{useDeepEqual:!0}),c=(0,n().K8)((()=>{if("workflowRunCreated"===(null==o?void 0:o.type)){const t=e.getSpaceId();if(t)return r().t.createChildStore(e,{table:i().QR,id:o.runPointer.id,spaceId:t})}}),[o,e]),d=(0,n().K8)((()=>{if(c)return c.getStatus()}),[c]),u=(0,n().K8)((()=>{if(c)return c.getData()}),[c]);return{status:(0,n().K8)((()=>{var e,t,n,r;if(!o)return{type:"idle"};if("creatingTask"===o.type)return o.createdAtMs<Date.now()-5*a().Xb?{type:"idle"}:{type:"creatingTask"};if("processingInitiated"===o.type)return o.enqueuedAtMs<Date.now()-2*a().pT?{type:"idle"}:{type:"queued",enqueuedAtMs:o.enqueuedAtMs};if("workflowRunCreated"===o.type){if(!d)return{type:"idle"};switch(d){case"pending":return{type:"starting"};case"running":case"retryableFailure":return{type:"processing",message:{descriptor:s.processingRequest}};case"paused":return{type:"paused",reason:null==u?void 0:u.paused_reason,message:null!=u&&u.paused_reason?{descriptor:s.pausedWithReason,values:{reason:u.paused_reason}}:{descriptor:s.workflowPaused}};case"success":case"cancelled":return{type:"completed"};case"failure":return{type:"failed",error:(null==u||null===(e=u.error)||void 0===e?void 0:e.message)??void 0,isDismissed:Boolean(null==c||null===(t=c.getUserActionsStore().getValue())||void 0===t?void 0:t.failureNotificationDismissedTime)};case"skipped":return{type:"failed",error:{descriptor:s.workflowSkipped},isDismissed:Boolean(null==c||null===(n=c.getUserActionsStore().getValue())||void 0===n?void 0:n.failureNotificationDismissedTime)};case"insufficientPermissions":return{type:"failed",error:{descriptor:s.insufficientPermissions},isDismissed:Boolean(null==c||null===(r=c.getUserActionsStore().getValue())||void 0===r?void 0:r.failureNotificationDismissedTime)};default:return(0,l().HB)(d)}}return(0,l().HB)(o)}),[c,o,d,u]),runStore:c}}},160095:(e,t,o)=>{o.d(t,{i8:()=>m,VW:()=>y,fr:()=>h,Ox:()=>f,LI:()=>g});var n=o.n(o(794148)),r=()=>o(534177),i=(o(898992),o(354520),o(581454),()=>o(165358)),a=()=>o(229833),l=()=>o(769864);o(16280);var s=()=>o(496603);const c=new(o(754869).aH)({apiKey:o(726637).A.google.mapsApiKey,version:"weekly"});let d;async function u(){const e=await c.importLibrary("places");return d||(d=new e.AutocompleteSessionToken),e}async function p(e){var t,o;const{latitude:n,longitude:r}=e,l=new((await async function(){return await c.importLibrary("geocoding")}()).Geocoder);let s;try{var d;s=null===(d=(await l.geocode({location:{lat:n,lng:r}})).results)||void 0===d?void 0:d[0]}catch(u){i().log({level:"error",from:"GoogleLocationService",type:"getGoogleLocationWithReverseGeocoding",error:(0,a().convertErrorToLog)(u)})}return{lat:n,lon:r,address:null===(t=s)||void 0===t?void 0:t.formatted_address,googlePlaceId:null===(o=s)||void 0===o?void 0:o.place_id}}function m(e){return`https://www.google.com/maps/search/?api=1&query=${s().oE([e.name,e.address]).map((e=>encodeURIComponent(e))).join(",")}`}async function y(e,t,o,s){switch(t){case"google":return async function(e,t){const o={input:e,sessionToken:d,locationBias:t?{lat:t.latitude,lng:t.longitude}:void 0},n=await u(),{suggestions:r}=await n.AutocompleteSuggestion.fetchAutocompleteSuggestions(o);return r.filter((e=>{var t;return null===(t=e.placePrediction)||void 0===t?void 0:t.placeId})).map((e=>{var t,o,n;const r=null===(t=e.placePrediction)||void 0===t?void 0:t.placeId;if(!r)throw new Error("Place ID unexpectedly missing after filter");return{type:"google",title:(null===(o=e.placePrediction)||void 0===o||null===(o=o.text)||void 0===o?void 0:o.toString())||"",address:(null===(n=e.placePrediction)||void 0===n||null===(n=n.text)||void 0===n?void 0:n.toString())||"",googlePlaceId:r}}))}(e,s);case"aws":return async function(e,t,o){try{const r=await l().callApi({eventName:"getLocationSuggestions",environment:t,data:{text:e,biasPosition:o}});return r&&"success"===r.type?r.data.suggestions.filter((e=>e.placeId)).map((e=>(n()(e.placeId),{type:"aws",title:e.title||"",address:e.address||"",awsPlaceId:e.placeId}))):[]}catch(r){return i().log({level:"error",from:"AwsLocationService",type:"getAwsLocationSuggestions",error:(0,a().convertErrorToLog)(r)}),[]}}(e,o,s);default:(0,r().HB)(t)}}async function f(e,t,o){n()(e.type===t,`Suggestion type "${e.type}" doesn't match provided service "${t}"`);const s=e.type;switch(s){case"google":return async function(e){try{var t,o;const n=new((await u()).Place)({id:e});return await n.fetchFields({fields:["location","displayName","formattedAddress","id"]}),{lat:(null===(t=n.location)||void 0===t?void 0:t.lat())??0,lon:(null===(o=n.location)||void 0===o?void 0:o.lng())??0,name:n.displayName||void 0,address:n.formattedAddress||void 0,googlePlaceId:n.id}}catch(n){return void i().log({level:"error",from:"GoogleLocationService",type:"getGooglePlace",error:(0,a().convertErrorToLog)(n)})}}(e.googlePlaceId);case"aws":return async function(e,t){try{const o=await l().callApi({eventName:"getPlace",environment:t,data:{placeId:e}});if(!o||"success"!==o.type||!o.data.place)return;return o.data.place}catch(o){return void i().log({level:"error",from:"AwsLocationService",type:"getAwsPlace",error:(0,a().convertErrorToLog)(o)})}}(e.awsPlaceId,o);default:(0,r().HB)(s)}}function g(e){const t=e.type;switch(t){case"google":return e.googlePlaceId;case"aws":return e.awsPlaceId;default:(0,r().HB)(t)}}async function h(e,t,o){switch(t){case"google":return p(e);case"aws":return async function(e,t){const{latitude:o,longitude:n}=e;try{const e=await l().callApi({eventName:"getLocationWithReverseGeocoding",environment:t,data:{latitude:o,longitude:n}});return e&&"success"===e.type&&e.data.place?e.data.place:{lat:o,lon:n}}catch(r){return i().log({level:"error",from:"AwsLocationService",type:"getAwsLocationWithReverseGeocoding",error:(0,a().convertErrorToLog)(r)}),{lat:o,lon:n}}}(e,o);default:(0,r().HB)(t)}}},302055:(e,t,o)=>{o.d(t,{G:()=>i});var n=()=>o(59226),r=()=>o(484714);function i(){const{isIOS:e,isIpad:t}=(0,r().Y0)(),o=(0,n().X)("ios_number_property_mab");return e&&!t&&o}},454099:(e,t,o)=>{o.d(t,{Mj:()=>b,WQ:()=>x,gh:()=>C});var n=()=>o(907258),r=()=>o(135168),i=()=>o(726637),a=()=>o(584262),l=()=>o(96330),s=()=>o(201980),c=()=>o(857783),d=()=>o(281948),u=()=>o(680977),p=()=>o(37450),m=()=>o(766854),y=()=>o(357643),f=()=>o(390650),g=()=>o(999140),h=()=>o(957763),v=()=>o(295304),S=()=>o(547149);function b(e){const{environment:t,place:o,collectionContextStore:n,query:l,schema:s,isFullScreen:u,store:v}=e,b="map_add_item";S().createAndCommit({userAction:"CollectionMapView.handleClick",environment:t,canUndo:!0,perform:e=>{const S=function(e){const{environment:t,transaction:o,place:n,query:l,isFullScreen:s,groupFormat:u,collectionContextStore:p,from:f}=e;if(!(0,h().E)(t,(0,r().f)(p.collectionStore())))return;const v=u?[u]:[],S=p.groupsStore.getGroupState(v);if(!S)return;p.searchQueryStore.state&&(0,y().S)({searchQuery:"",collectionContextStore:p,isFullScreen:s});const b=(0,m().Q)({environment:t,collectionContextStore:p,groupsPointer:v,shouldCoerce:!0,templateStore:p.defaultPageTemplateStore.state,transaction:o,from:{createBlock:f},inMemoryRecordCache:t.defaultRecordCache.inMemoryRecordCache});if(!b)return;const C=b.newStore,k=l.map_by;if(!k)return;x({environment:t,store:C,property:k,place:n,transaction:o}),i().A.isMobile?c().uK({environment:t,store:C,pageVisitSource:a().y8.Create}):d().VU({environment:t,store:C,peekMode:(0,g().hH)(p),resultsStore:null==S?void 0:S.resultsStore,collectionContextStore:p,pageVisitSource:a().y8.Create});return C}({environment:t,transaction:e,store:v,query:l,schema:s,place:o,isFullScreen:u,groupFormat:void 0,collectionContextStore:n,from:b});p().vH(t,{from:b,type:"page",new_page_id:null==S?void 0:S.id,creating_block_id:null==S?void 0:S.id,...(0,f().sl)(n)})}})}function x(e){const{environment:t,store:o,place:n,transaction:r,property:i}=e,a=o.getAssociatedCollectionStore(),c=(null==a?void 0:a.getMappedProperty(i))??i,d=o.getPropertyStore(c),u=o.getTitleStore(),p=(null==n?void 0:n.name)??(null==n?void 0:n.address),m=null==u?void 0:u.getValue(),y=(0,l().eC)(d.getValue()),f=(0,l().X1)(y),g=!m&&p||(0,s().AGB)(m,[[String(f)]]);return u&&g&&v().R9({environment:t,store:u,value:p?[[p]]:void 0,transaction:r}),v().R9({environment:t,store:d,value:(0,l().tk)(n),transaction:r}),o}function C(e){const{environment:t,transaction:o}=e,{currentUserSettingsStore:r}=n().default.state;if(!r)return;const i=e=>{(0,u().m)({userSettingsStore:r,transaction:e,data:{map_view_new_button_clicked_at:Date.now()}})};o?i(o):S().createAndCommit({environment:t,userAction:"collectionMapActions.markMapViewNewButtonClicked",canUndo:!1,cellTarget:"main",perform:e=>i(e)})}},457717:(e,t,o)=>{o.d(t,{F:()=>n});const n=new(o(118307).A)},639882:(e,t,o)=>{o.d(t,{A9:()=>s,EN:()=>a,K6:()=>l,cL:()=>c,s8:()=>d});var n=()=>o(898244),r=()=>o(68465),i=()=>o(468882);function a(e){const{store:t,additionalStores:o,collectionContextStore:n,collectionSchema:r}=e;return n&&(0,i().br)({store:t,additionalStores:o,collectionContextStore:n})?n.normalizedSchemaStore.state:r||t.getSchema()||{}}function l(e){if(!(0,i().br)({store:e.store,additionalStores:e.additionalStores,collectionContextStore:e.collectionContextStore}))return e.store.getAssociatedCollectionStore()}function s(e){const t=l(e),o=t?t.getMappedProperty(e.property):e.property;return a(e)[o]}function c({overlayState:e,pageContext:t}){const{store:o}=e,i=s(e);return i&&(0,r().ge)(null==t?void 0:t.publicEditModeStore.state,o)&&n().$M(i)&&n().om(i)&&!e.collectionsBulkActionsToolbarStore}function d({overlayState:e}){var t;const{store:o}=e,n=o.getFormatStore(),r=null==n||null===(t=n.getKeyStore("agent_workflow_status").getValue())||void 0===t?void 0:t[e.property];return"workflowRunCreated"===(null==r?void 0:r.type)&&!e.collectionsBulkActionsToolbarStore}},673964:(e,t,o)=>{o.d(t,{j:()=>i});var n=()=>o(884189),r=()=>o(129522);function i(e){const{collectionContextStore:t,environment:o,fit:i}=e,a=t.collectionViewBlockStore();if(a){const e=r().K.findCollectionViewBlockFromStore(a);if(e){var l;const t=null===(l=e.getNode())||void 0===l?void 0:l.firstChild;t instanceof HTMLElement&&(0,n().$)({blockAlignment:"start",element:t,environment:o,behavior:"instant",additionalPadding:{top:"filtersBar"===i?64:128},verticalVisibilityRequirement:"topVisible",horizontalVisibilityRequirement:"none"})}}}},693689:(e,t,o)=>{o.d(t,{Y:()=>s,k:()=>c});var n=()=>o(295633),r=()=>o(336765),i=()=>o(619206),a=()=>o(457419),l=()=>o(499764);function s(e,t,o){const s=t.getRecordStoreUIRoot(),c=s instanceof n().B&&s.isPageBlock()&&(0,a().S)(s),d=(0,r().W)(s)&&i().A.getMode(e,s,o),u=Boolean((0,l().QT)(d));return!t.canEdit()||u||c}function c(e,t,o){return!s(e,t,o)}},698885:(e,t,o)=>{o.d(t,{j:()=>S});var n=o(296540),r=()=>o(564884),i=()=>o(484714),a=()=>o(590526),l=()=>o(401497),s=()=>o(929219),c=()=>o(695115),d=()=>o(163749),u=()=>o(340266),p=()=>o(322972),m=()=>o(557943),y=()=>o(69708),f=()=>o(534177),g=()=>o(272200),h=()=>o(762771),v=o(474848);function S(e){const{traceId:t,feedbackState:o,setFeedbackState:r,feature:d,iconHeight:u}=e,p=(0,l().IS)((()=>({wrapper:{...u?{height:u}:{}},iconButton:{...u?{height:u}:{}}})),[u]),{thumbsUpType:m,thumbsDownType:g}=(0,n.useMemo)((()=>{switch(d){case"ai_block":return{thumbsDownType:"ai_block_thumbs_down",thumbsUpType:"ai_block_thumbs_up"};case"ai_autofill":return{thumbsDownType:"ai_autofill_thumbs_down",thumbsUpType:"ai_autofill_thumbs_up"};default:(0,f().HB)(d)}}),[d]),S=(0,y().tz)(),C=(0,i().v3)(),k=!(0,a().O$)(s().e),A=(0,n.useCallback)((()=>{h().A.setState({...h().A.state,open:!0,type:g,traceId:t,thumbsUpOrDown:"down"}),r({type:"thumbsdown",userContent:"",shareWithNotion:!0}),b({environment:C,feature:d,inferenceId:t,feedbackType:"thumbsdown",userContent:"",shareWithNotion:!0})}),[C,r,g,t,d]),M=(0,n.useCallback)((()=>{h().A.setState({...h().A.state,open:!0,type:m,traceId:t,thumbsUpOrDown:"up"}),r({type:"thumbsup",userContent:"",shareWithNotion:!0}),b({environment:C,feature:d,inferenceId:t,feedbackType:"thumbsup",userContent:"",shareWithNotion:!0})}),[C,r,m,t,d]);return(0,v.jsxs)("div",{onClick:e=>{e.stopPropagation(),e.preventDefault()},style:p.wrapper,children:[(0,v.jsx)(c().A,{onClick:M,icon:x("thumbsup","thumbsup"===(null==o?void 0:o.type)),ariaLabel:S.formatMessage({id:"AiFeatureFeedbackButtons.thumbsUp",defaultMessage:"Helpful"}),disabled:k,style:p.iconButton}),(0,v.jsx)(c().A,{icon:x("thumbsdown","thumbsdown"===(null==o?void 0:o.type)),onClick:A,ariaLabel:S.formatMessage({id:"AiFeatureFeedbackButtons.thumbsDown",defaultMessage:"Not helpful"}),disabled:k,style:p.iconButton})]})}function b(e){const{environment:t,feature:o,inferenceId:n,feedbackType:i,userContent:a,shareWithNotion:l}=e;let s;s="thumbsup"===i?"thumbs_up":"thumbs_down",(0,r().u)({environment:t,event:{eventName:"ai_feedback_given",eventProperties:{feature:o,inference_id:n,sentiment:s}}}),g().trackAIAction(t,{type:"property_autofill",inference_id:n,feedback_type:i,timestamp:(new Date).toUTCString(),user_comment:a,share_with_notion:l})}function x(e,t){switch(e){case"thumbsup":return t?p().P:m().s;case"thumbsdown":return t?d().m:u().d}}},707069:(e,t,o)=>{o.d(t,{S:()=>i});o(16280);var n=()=>o(165358),r=()=>o(477293);function i(){const e=(0,r().r)("location_search_service_rollout",{disableExposureLogging:!1,enableEventTrailLogging:!1});switch(n().log({from:"useLocationServiceType",level:"debug",type:"location_search_service_rollout",data:{miscDataToConvertToString:{experimentValue:e}}}),e){case"control":return"aws";case"google":return"google";default:throw new Error(`Unsupported location service: ${e}`)}}},864040:(e,t,o)=>{o.d(t,{A:()=>l});o(581454),o(296540);var n=()=>o(584262),r=()=>o(857783),i=()=>o(211716),a=o(474848);const l=function(e,t,l){return[{key:"results",render:e=>(0,a.jsx)(o(736847).A,{...e}),items:t.map(((t,s)=>({key:t.id,render:e=>(0,a.jsx)(o(305390).A,{...e,isSubpage:0!==s,store:t,hidePath:!0}),action:({event:a})=>{const s=(0,o(381175).V)(a);if(t instanceof o(295633).B)l&&l({pageId:t.id,collectionId:void 0}),r().uK({environment:e,store:t,openInNew:s,visitType:i().ig.Link,pageVisitSource:n().y8.Breadcrumb});else if(t instanceof o(732810).m){const a=t.getParentCollectionViewBlockStore();if(!a)return;l&&l({pageId:a.id,collectionId:t.id});const c=(0,o(297175).V5)(a,t);r().uK({environment:e,store:a,collectionViewId:null==c?void 0:c.id,openInNew:s,visitType:i().ig.Link,pageVisitSource:n().y8.Breadcrumb})}else if(t instanceof o(350013).N){const n=(0,o(496703).L)({workflowId:t.id,params:{workflowViewType:"chat"}});(0,o(246766).navigate)({environment:e,url:n,openInNew:s})}}})))}]}},893952:(e,t,o)=>{o.d(t,{A:()=>l});o(296540);var n=()=>o(726637),r=()=>o(401497),i=()=>o(100622),a=o(474848);const l=function(e){const{color:t}=e;return(0,a.jsx)(o(81068).A,{...e,icon:(0,a.jsx)(s,{color:t}),title:(0,o(27178).mN)(t)})};function s({color:e}){const t=(0,r().DP)(),o=(0,r().IS)((()=>{const o=(0,i().LD)(t,e),r="default"===e?i().Tj.border.primaryTranslucent:i().Tj[e].border.primaryTranslucent;return{tile:{width:n().A.isMobile?24:18,height:n().A.isMobile?24:18,background:o.backgroundColor,color:o.textColor,boxShadow:`inset 0 0 0 1px ${r}`,borderRadius:4}}}),[e,t]);return(0,a.jsx)("div",{style:o.tile})}}}]);