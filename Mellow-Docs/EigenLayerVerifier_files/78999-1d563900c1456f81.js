"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[22114,26126,53697,78999,92919],{6208:(e,t,o)=>{o.d(t,{L:()=>l,y:()=>d});var a=()=>o(907258),n=()=>o(590526),i=()=>o(849255),r=()=>o(798880),s=()=>o(69708);function d(e){const t=(0,s().tz)();return(0,n().K8)((()=>{const{sidebarSpaceStore:o}=a().default.state;if(!o||!e)return;return i().L.createChildStore(o,{table:r().oo,id:e}).getDisplayName(t)}),[t,e])}function l(){const e=(0,s().tz)();return(0,n().K8)((()=>{const{currentUserStore:t}=a().default.state,o=null!=t&&t.isDefined()?t.getModel():void 0;return o?o.getDisplayName(e):void 0}),[e])}},6697:(e,t,o)=>{o.d(t,{h:()=>i});var a=()=>o(79926);const n=new(a().O2)("DictationAvatar",(async()=>await Promise.all([o.e(75134),o.e(35530),o.e(9773),o.e(36556),o.e(55373),o.e(36192),o.e(40537),o.e(27992),o.e(63452),o.e(66249),o.e(92845),o.e(87249),o.e(79022),o.e(44854),o.e(87017),o.e(34877),o.e(46414),o.e(11676),o.e(61165),o.e(94522),o.e(44584),o.e(38293),o.e(40992),o.e(88455),o.e(52871),o.e(47160),o.e(49021),o.e(53697),o.e(26126),o.e(6039),o.e(71136),o.e(86341),o.e(29316),o.e(3101)]).then(o.bind(o,310947)))),i=(0,a()._h)(n,(e=>e.DictationAvatar))},13829:(e,t,o)=>{e.exports=o.p+"c14b290583e1c902.png"},15144:(e,t,o)=>{o.d(t,{R:()=>r});o(296540);var a=()=>o(493552),n=()=>o(69708),i=o(474848);function r({error:e,id:t}){return e?(0,i.jsx)(a().D,{id:t,styleKey:"captionRegular",colorPalette:"red",colorVariant:"accentPrimary",children:"object"==typeof e?(0,i.jsx)(n().sA,{...e}):e}):null}},17981:(e,t,o)=>{o.d(t,{Y:()=>l});o(944114);var a=()=>o(496603),n=()=>o(821062),i=()=>o(534177),r=()=>o(547149),s=()=>o(278768),d=()=>o(384944);async function l(e){const{environment:t,spaceStore:o}=e;o.isDefined()&&!(0,n().A)(o.getEmailDomains(),e.emailDomains)&&s().Om(t,{domains:e.emailDomains||[],confirmed:!0});const l={email_domains:e.emailDomains};e.name&&(l.name=e.name);const c={};for(const n of(0,i().uv)(l)){const e=o.getKeyStore(n).getValue(),t=l[n];a().n4(e,t)||(c[n]=t||null)}a().Im(c)||await new Promise(((e,a)=>{r().createAndCommit({userAction:"spaceActions.updateSpace",environment:t,canUndo:!0,perform:t=>{d().zv({store:o,data:c,transaction:t}),t.postSubmitCallbacks.push((t=>{t?a(t):e()}))}})}))}},27455:(e,t,o)=>{o.d(t,{Zp:()=>d,fT:()=>r,v3:()=>s});o(944114);var a=o(296540),n=()=>o(100622),i=o(474848);const r={xxs:4,xs:6,sm:8,md:10,lg:12},s={none:0,sm:12,md:16,lg:20,xl:24},d=a.forwardRef((function(e,t){const{children:a,colorPalette:d,colorVariant:l="primary",borderRadius:c="md",borderVariant:u,padding:p="none",shadowVariant:g}=e,f=(0,o(401497).IS)((()=>{const e=d?n().Tj[d]:n().Tj,t=[];return g&&t.push(n().Tj.shadow.base[g]),u&&t.push(`inset 0 0 0 1px ${e.border[u]}`),{card:{width:"100%",padding:"number"==typeof p?p:s[p],borderRadius:r[c],boxShadow:t.join(", "),background:(0,o(534177).O)(e.background,l)?e.background[l]:e.background.primary}}}),[d,l,c,u,p,g]);return(0,i.jsx)("div",{style:f.card,ref:t,children:a})}))},27716:(e,t,o)=>{o.d(t,{Ft:()=>w,HN:()=>I,MA:()=>y,Sk:()=>h,Yn:()=>A,e9:()=>v,eJ:()=>_,g9:()=>S,su:()=>x});o(944114),o(898992),o(672577),o(737550);var a=()=>o(675133),n=()=>o(741615),i=()=>o(326215),r=()=>o(795523),s=()=>o(47273),d=()=>o(979340),l=()=>o(69708),c=()=>o(209199);const u=(0,l().YK)({unableToCancelError:{id:"midtermSubscriptionHelpers.unableToCancel",defaultMessage:"We cannot cancel your scheduled changes right now. Please contact support for more help."},cancellationSuccess:{id:"midtermSubscriptionHelpers.cancellationSucceeded",defaultMessage:"Pending changes have been canceled"}});function p(e){return(0,d().dL)(e)?"free":(0,d().wb)(e)?"education":(0,d().sP)(e)?"singlePlayerPlus":(0,d().$P)(e)?"plus":(0,d().tL)(e)?"business":(0,d().OX)(e)?"enterprise":"legacy"}const g=(0,l().YK)({freePlan:{defaultMessage:"Free Plan",id:"freePlan.title"},educationPlusPlan:{defaultMessage:"Education Plus Plan",id:"educationPlusPlan.title"},plusPlan:{defaultMessage:"Plus Plan",id:"plusPlan.title"},businessPlan:{id:"businessPlan.title",defaultMessage:"Business Plan"},enterprisePlan:{defaultMessage:"Enterprise Plan",id:"enterprisePlan.label"},legacyPlan:{defaultMessage:"Legacy Plan",id:"legacyPlan.label"}}),f={free:{planTitle:g.freePlan},singlePlayerPlus:{planTitle:g.plusPlan},education:{planTitle:g.educationPlusPlan},plus:{planTitle:g.plusPlan},business:{planTitle:g.businessPlan},enterprise:{planTitle:g.enterprisePlan},legacy:{planTitle:g.legacyPlan}},b=(0,l().YK)({notionAI:{defaultMessage:"Notion AI",id:"notionAI.title"},removeAI:{defaultMessage:"Remove AI",id:"notionAI.remove.title"}}),m=(0,l().YK)({month:{defaultMessage:"Monthly billing",id:"billingInterval.monthly"},year:{defaultMessage:"Annual billing",id:"billingInterval.annual"}});function v(){return a().A.formatMessage(u.unableToCancelError)}function y(){return a().A.formatMessage(u.cancellationSuccess)}function S(e){var t;const o=null==e||null===(t=e.subscription)||void 0===t?void 0:t.pending;if(!o)return;const a=(0,r().PP)(e),n=(0,r().lQ)(e);return{oldTier:(0,s().Gf)(a)??"free",newTier:(0,s().Gf)(n)??"free",oldAIAddOn:(0,s().V_)(a).find((e=>"ai"===e)),newAIAddOn:(0,s().V_)(n).find((e=>"ai"===e)),oldAiCreditPackQuantity:(0,r().Oq)(a.items),newAiCreditPackQuantity:(0,r().Oq)(n.items),oldInterval:(0,s().yw)(a),newInterval:(0,s().yw)(n),phaseOneEndDate:o.startDate}}function h(e){const t=S(e);return!(!t||!t.newInterval)&&t.oldInterval!==t.newInterval}function I(e){const t=S(e);return!!t&&t.oldTier!==t.newTier}function x(e){const t=S(e),o=[];if(!t)return{scheduledChanges:o,periodEndDate:null};const{newTier:n,oldTier:i,oldAIAddOn:r,newAIAddOn:s,oldAiCreditPackQuantity:d,newAiCreditPackQuantity:l,oldInterval:u,newInterval:g,phaseOneEndDate:v}=t;return i!==n&&o.push(function(e,t){const o=p(e),n=a().A.formatMessage(f[o].planTitle);if(!t)return"";const i=p(t),r=a().A.formatMessage(f[i].planTitle);return`${n} ${(0,c().A1)()?"â†":"â†’"} ${r}`}(i,n)),r!==s&&o.push(function(e,t){const o=a().A.formatMessage(e?b.notionAI:b.removeAI),n=a().A.formatMessage(t?b.notionAI:b.removeAI);return`${o} ${(0,c().A1)()?"â†":"â†’"} ${n}`}(r,s)),d!==l&&o.push(function(e,t){return`AI Credit Pack: ${e} â†’ ${t}`}(d,l)),u!==g&&o.push(function(e,t){if(!e||!t)return"";const o=a().A.formatMessage("month"===e?m.month:m.year),n=a().A.formatMessage("month"===t?m.month:m.year);return`${o} ${(0,c().A1)()?"â†":"â†’"} ${n}`}(u,g)),{scheduledChanges:o,periodEndDate:v}}function w(e,t){if(!e)return;const o=(0,r().PP)(e).items,a=(0,r().lQ)(e).items;var n;return(0,r().HO)(o,a).some((([e,o])=>(0,r().IE)(e??o)===t&&e&&!o))?null===(n=e.subscription)||void 0===n||null===(n=n.pending)||void 0===n?void 0:n.startDate:void 0}function _({billingData:e}){const t=(0,n().a9)(e);if(!t)return!1;if((0,r().et)(e))return!1;const o=(0,r().bO)(t),a=(0,r().N8)(t);return!o&&!a}function A(e){const t=(0,r().V9)(e),o=(0,r().ji)(e).length>0;return!t||(!i().xd.includes(t)||!(!o||!i().iV.includes(t)))}},31790:(e,t,o)=>{o.d(t,{X:()=>n});var a=()=>o(314529);function n(e,t){(0,a().DO_NOT_USE_trackLegacy)(e,"page_error_button_click",t)}},42909:(e,t,o)=>{o.d(t,{w:()=>s});o(296540);var a=()=>o(401497),n=()=>o(69708),i=()=>o(100622),r=o(474848);function s({joinabilityStatus:e}){const t=(0,a().IS)((()=>({pendingRequestText:{color:i().Tj.text.tertiary}})),[]);switch(e){case"CAN_JOIN":return(0,r.jsx)(n().sA,{defaultMessage:"Join",id:"contextualizedOnboardingWorkspaceChoose.joinWorkspaceButton.join.label"});case"CAN_REQUEST":return(0,r.jsx)(n().sA,{defaultMessage:"Request",id:"contextualizedOnboardingWorkspaceChoose.joinWorkspaceButton.request.label"});case"PENDING_REQUEST":return(0,r.jsx)("span",{style:t.pendingRequestText,children:(0,r.jsx)(n().sA,{defaultMessage:"Access requested",id:"contextualizedOnboardingWorkspaceChoose.joinWorkspaceButton.pendingRequest.label"})});default:return null}}},62977:(e,t,o)=>{o.d(t,{q:()=>n});var a=()=>o(242422);function n(){return"control"!==a().default.getEligibleGroup({experimentId:"getting_started_example_company_workspace"})||a().default.checkGate({gateName:"adoption_use_getting_started_duplication_v2"})}},63728:(e,t,o)=>{o.d(t,{l:()=>n});class a extends(()=>o(757695))().Store{getInitialState(){return null}}const n=new a},64790:(e,t,o)=>{o.d(t,{$L:()=>u,EV:()=>s,PZ:()=>c,dp:()=>d,xm:()=>l});o(944114);var a=()=>o(798880),n=()=>o(100622),i=()=>o(496603),r=()=>o(720665);function s(e){if(null!=e&&e.blockId)return e.blockId}function d(e,t){const o=e.currentUser.id;return t.userId===o||t.present}function l(e){var t;return(null===(t=e.state.rootStore)||void 0===t?void 0:t.canEdit())??!1}function c(e){const{pageVisitStore:t,presenceStore:o}=e,{remotePresenceData:a}=o.state;let n=[];a&&i().uk(a,(e=>{null!=e&&e.userId&&n.push(e)}));const{pageId:s,lastViewTime:d,lastExitTime:l,totalCount:c,hasMore:u,...p}=t.state;return i().uk(p,(e=>{e.isDefined()&&n.push({userId:e.getUserId(),activityTimestampNearestMinuteMs:(0,r().WY)(e.getVisitedAt()),present:!1})})),n=i().hS(n,(e=>e.userId)),i().Ul(n,(({activityTimestampNearestMinuteMs:e})=>e?-e:0))}function u(e){const{userId:t,theme:o}=e;return(0,a().MF)(t)?n().Tj.icon.secondary:(0,n().Nq)(t,o)}},79430:(e,t,o)=>{o.d(t,{R:()=>u});o(296540);var a=()=>o(106702),n=()=>o(401497),i=()=>o(631524),r=()=>o(493552),s=()=>o(69708),d=()=>o(100622),l=()=>o(592791),c=o(474848);function u(e){const{spaceStore:t,pageIds:o,menuWidth:u,style:p}=e,g=(0,a().$)(),f=function(e){return(0,n().IS)((()=>({guestPagesButton:{padding:4,height:24,width:"fit-content",background:d().Tj.outlineBlueButtonHoveredBackground,...e},guestPagesButtonHovered:{background:d().Tj.outlineBlueButtonPressedBackground}})),[e])}(p);return 0!==o.length&&t&&g?(0,c.jsx)(l().V,{spaceStore:t,guestPageIds:o,guestStore:g,isSubscribed:!1,hideActionButtons:!0,renderOrigin:e=>(0,c.jsx)(i().p,{...e,colorPalette:"blue",style:f.guestPagesButton,hoveredStyle:f.guestPagesButtonHovered,children:(0,c.jsx)(r().D,{styleKey:"captionSmMedium",children:(0,c.jsx)(s().sA,{defaultMessage:"{numberOfAccessiblePages, plural, one {{numberOfAccessiblePages} page} other {{numberOfAccessiblePages} pages}}",id:"workspaceDiscovery.joinableSpaces.sharedPagesCount",values:{numberOfAccessiblePages:o.length}})})}),menuWidth:u}):null}},83856:(e,t,o)=>{e.exports=o.p+"69ea0830dfffe7a0.png"},93460:(e,t,o)=>{o.d(t,{b:()=>n});o(296540);const a={viewBox:"0 0 20 20",fittedViewBox:"2.56 2.34 14.01 15.32",svg:(0,o(474848).jsx)("path",{d:"M13.798 2.345a2.765 2.765 0 0 1 0 5.529c-.797 0-1.513-.34-2.018-.879l-3.808 2.2a2.76 2.76 0 0 1 0 1.61l3.807 2.199a2.76 2.76 0 0 1 2.019-.879 2.765 2.765 0 1 1-2.646 1.96l-3.807-2.2c-.505.54-1.22.88-2.018.88a2.765 2.765 0 0 1 0-5.53 2.76 2.76 0 0 1 2.017.877l3.808-2.198a2.766 2.766 0 0 1 2.646-3.57"})},n=(0,o(340498).wt)("shareAndroidFill",a,"fill")},112640:(e,t,o)=>{o.d(t,{N:()=>w});o(581454),o(296540);var a=()=>o(590526),n=()=>o(401497),i=()=>o(807449),r=()=>o(268865),s=()=>o(529099),d=()=>o(120282),l=()=>o(558687),c=()=>o(582676),u=()=>o(69708),p=()=>o(100622),g=()=>o(496603),f=()=>o(284371),b=()=>o(756123),m=()=>o(187820),v=()=>o(467041),y=()=>o(913454),S=()=>o(714309),h=o(474848);const I=(0,u().YK)({teamspacesSectionName:{defaultMessage:"Teamspaces",id:"reimaginedOnboarding.sidebar.teamspaces"},privateSectionName:{defaultMessage:"Private",id:"reimaginedOnboarding.sidebar.private"},notion:{defaultMessage:"Notion",id:"workspaceIconAndNamePreview.workspaceNameDefault"},spaceNamePlaceholder:{defaultMessage:"{profileName}â€™s Space",id:"workspaceIconAndNamePreview.spaceNamePlaceholder"},gettingStartedPage:{defaultMessage:"Getting started",id:"reimaginedOnboarding.sidebar.gettingStartedPage"},meetings:{defaultMessage:"Meetings",id:"reimaginedOnboarding.sidebar.meetings"},notionAi:{defaultMessage:"Notion AI",id:"reimaginedOnboarding.sidebar.notionAi"}}),x=240;function w({onboardingState:e}){var t,o,a;const y=(0,u().tz)(),w=(0,n().IS)((()=>({container:{position:"relative",display:"flex",flexDirection:"column",height:"100%",background:p().Tj.background.secondary,width:x},sidebar:{width:x,height:"100%",backgroundColor:p().Tj.background.secondary,padding:8,color:p().Tj.text.secondary,display:"flex",flexDirection:"column"},workspaceHeader:{display:"flex",flexDirection:"row",alignItems:"center",paddingInlineStart:8,paddingInlineEnd:8,paddingTop:16,paddingBottom:16,wordBreak:"break-word",animationName:"fadeIn",animationDuration:"0.7s",animationFillMode:"forwards",animationTimingFunction:"ease-in",color:p().Tj.text.primary},workspaceName:{marginInlineStart:6,fontSize:14,fontWeight:f().Wy.medium,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",maxWidth:180},sectionSpacing:{marginTop:16},bottomSection:{marginTop:"auto"}})),[]),k=y.formatMessage(I.teamspacesSectionName),T=y.formatMessage(I.privateSectionName),C=y.formatMessage(I.gettingStartedPage),M=e.profileName?y.formatMessage(I.spaceNamePlaceholder,{profileName:e.profileName}):y.formatMessage(I.notion),R=e.spaceName,P=e.spaceIcon,D=(null===(t=e.planTypeAndSurveyInfo)||void 0===t||null===(t=t.surveyResponses)||void 0===t?void 0:t.useCases)??[],N=(null===(o=e.planTypeAndSurveyInfo)||void 0===o||null===(o=o.surveyResponses)||void 0===o?void 0:o.categories)??[],E=null===(a=e.planTypeAndSurveyInfo)||void 0===a?void 0:a.planType,O=[...e.selectedWorkflowTemplateIds??[]??[],...(0,v().getWorkflowTemplatesForUseCases)(D)],B=(0,c().Nx)("b");return(0,h.jsx)("div",{style:w.container,children:(0,h.jsxs)("div",{style:w.sidebar,children:[(0,h.jsxs)("div",{style:w.workspaceHeader,children:[P?(0,h.jsx)(m().B6,{disabled:!0,bucket:"public",icon:{pointer:{table:"space",id:"undefined"},icon:P},size:20,isEmptyPage:!1,title:R||M}):(0,l().notionIcon)({width:16,height:16}),(0,h.jsx)("div",{style:w.workspaceName,children:R||M})]}),e.acceptedTimedTrialOffer?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(_,{icon:(0,h.jsx)(i().I,{icon:d().a,colorVariant:"secondary",size:"lg"}),title:y.formatMessage(I.meetings),shouldFadeInRow:!0}),(0,h.jsx)(_,{icon:(0,h.jsx)(i().I,{icon:s().aiFaceIcon,colorVariant:"secondary",size:"lg"}),title:y.formatMessage(I.notionAi),shouldFadeInRow:!0})]}):void 0,(0,h.jsx)(A,{numRows:e.acceptedTimedTrialOffer?2:4,rng:B}),(0,h.jsx)("div",{style:w.sectionSpacing,children:(0,h.jsx)(_,{title:T,indentPixels:-8,isSmall:!0,icon:null})}),void 0!==E?(0,h.jsx)(_,{icon:(0,h.jsx)(b().A,{emoji:"ðŸ“",size:20}),title:C,shouldFadeInRow:!0}):(0,h.jsx)(A,{numRows:1,rng:B}),N.length>0?(0,h.jsx)(h.Fragment,{children:N.map((e=>{const t="school"===E?g().Jt(S().a,e):"personal"===E?g().Jt(S().O,e):void 0;return t?(0,h.jsx)(_,{icon:(0,h.jsx)(r().j,{iconName:t.iconName,size:14}),title:t.title,indentPixels:8,shouldFadeInRow:!0,iconMargin:3},e):null}))}):(0,h.jsx)(A,{numRows:3,rng:B}),Boolean("team"===E)?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{style:w.sectionSpacing,children:(0,h.jsx)(_,{title:k,indentPixels:-8,isSmall:!0,icon:null})}),(0,h.jsx)(A,{numRows:1,rng:B}),O.length>0?(0,h.jsx)(h.Fragment,{children:O.map((e=>(0,h.jsx)(j,{templateId:e},e)))}):(0,h.jsx)(A,{numRows:2,rng:B})]}):void 0,(0,h.jsx)("div",{style:w.bottomSection,children:(0,h.jsx)(A,{numRows:1,rng:B})})]})})}function _({icon:e,title:t,indentPixels:o,isSmall:a,shouldFadeInRow:i,iconMargin:r}){const s=(0,n().IS)((()=>({sidebarRow:{paddingTop:5,paddingBottom:5,paddingInlineStart:8+(o??0),paddingInlineEnd:8,display:"flex",alignItems:"center",justifyContent:"flex-start",...i&&{animationName:"fadeIn",animationDuration:"0.3s",animationFillMode:"forwards",animationTimingFunction:"ease-in"}},sidebarIcon:{marginTop:r},sidebarTitle:{width:"100%",marginInlineStart:8,fontSize:a?12:14,fontWeight:500,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}})),[o,a,i,r]);return(0,h.jsxs)("div",{style:s.sidebarRow,children:[(0,h.jsx)("div",{style:s.sidebarIcon,children:e}),(0,h.jsx)("div",{style:s.sidebarTitle,children:t})]})}function A({numRows:e=3,rng:t}){const o=(0,n().IS)((()=>({skeletonPageIcon:{width:20,height:20,borderRadius:6,background:p().Tj.background.tertiary},skeletonPageTitle:{background:p().Tj.background.tertiary,borderRadius:6,height:14}})),[]),a=Array.from({length:e},(()=>`${Math.floor(55*t())+25}%`)).map(((e,t)=>(0,h.jsx)(_,{icon:(0,h.jsx)("div",{style:o.skeletonPageIcon}),title:(0,h.jsx)("div",{style:{...o.skeletonPageTitle,width:e}})},t)));return(0,h.jsx)("div",{children:a})}function j({templateId:e}){const t=(0,a().K8)((()=>{var t;return null===(t=y().globalWorkflowTemplates.fromIdOfType({type:"collection",templateId:e}))||void 0===t||null===(t=t.value)||void 0===t?void 0:t.targetCollection}),[e]),o=(0,n().IS)((()=>({icon:{height:15,width:15}})),[]),{icon:i,name:r}=t||{};return(0,h.jsx)(_,{icon:(0,h.jsx)("img",{src:i,style:o.icon,alt:""}),title:r,indentPixels:8},e)}},112799:(e,t,o)=>{o.d(t,{a:()=>d,E:()=>s});o(16280);var a=o(296540),n=()=>o(484714),i=(o(898992),o(672577),()=>o(427704));i().Ju.downloadMac,i().Ju.downloadMacUniversal,i().Ju.downloadMacIntel,i().Ju.downloadMacAppleSilicon,i().Ju.downloadWindows,i().Ju.downloadWindowsArm;const r=[{route:i().Ju.downloadMac,architecture:"universal",operatingSystem:"mac",target:"macUniversal"},{route:i().Ju.downloadMacIntel,architecture:"x86",operatingSystem:"mac",target:"mac"},{route:i().Ju.downloadMacUniversal,architecture:"universal",operatingSystem:"mac",target:"macUniversal"},{route:i().Ju.downloadMacAppleSilicon,architecture:"arm",operatingSystem:"mac",target:"macArm64"},{route:i().Ju.downloadWindows,architecture:"x86",operatingSystem:"windows",target:"windows"},{route:i().Ju.downloadWindowsArm,architecture:"arm",operatingSystem:"windows",target:"windowsArm64"}];function s(){const e=(0,a.useRef)(null),t=(0,n().Y0)();return(0,a.useEffect)((()=>{d(t).then((t=>{e.current=t??null})).catch((e=>{throw new Error(e)}))}),[t]),e}async function d(e){var t;if(!("userAgentData"in navigator))return e.isMac?i().Ju.downloadMacUniversal:i().Ju.downloadWindows;const o=navigator.userAgentData,a=await(null==o||null===(t=o.getHighEntropyValues)||void 0===t?void 0:t.call(o,["architecture"])),n=function(e,t){const o=function(e=""){const t=e.toLowerCase();return t.startsWith("arm")?"arm":t.startsWith("x86")||"intel"===t?"x86":null}(e);if(!o||"mac"!==t&&"windows"!==t)return null;const a=r.find((e=>e.architecture===o&&e.operatingSystem===t));return(null==a?void 0:a.route)||null}(null==a?void 0:a.architecture,e.os);return n||null}},126126:(e,t,o)=>{o.d(t,{eQ:()=>U,hJ:()=>oe,Ay:()=>L,Uo:()=>G,XE:()=>ee});o(944114),o(898992),o(823215),o(672577),o(581454);var a=o(296540),n=()=>o(484714),i=()=>o(590526),r=()=>o(401497),s=()=>o(929219),d=()=>o(75435),l=()=>o(609679),c=()=>o(849255),u=()=>o(56268),p=()=>o(718827),g=()=>o(631524),f=()=>o(26697),b=()=>o(302501),m=()=>o(869190),v=()=>o(641007),y=()=>o(187174),S=()=>o(798880),h=()=>o(695608),I=()=>o(69708),x=()=>o(100622),w=()=>o(496603),_=()=>o(23420),A=()=>o(488923),j=()=>o(102172),k=()=>o(130119),T=()=>o(6697),C=()=>o(673657),M=()=>o(64790),R=()=>o(869562),P=()=>o(737230),D=()=>o(994006),N=()=>o(453697),E=()=>o(852273);const O=function(e){const t=(0,n().v3)(),i=(0,a.useRef)(),r=(0,o(336811).T)(),s=(0,a.useCallback)((async()=>{if(await o(129286).transactionQueue.awaitRecordTransaction(e.blockStore.pointer),!r.current)return;const a=(0,o(921997).Ws)(e.blockStore.id);i.current=E().Ay.addListener(a,void 0,w().nF((()=>o(466721).updatePageVisits(t,{blockStore:e.blockStore,pageVisitStore:e.pageVisitStore,incremental:!0,limit:e.limit})),1e3),void 0,t)}),[t,r,e.blockStore,e.limit,e.pageVisitStore]),d=(0,a.useCallback)((()=>{i.current&&(E().Ay.removeListener(i.current,t),i.current=void 0)}),[t]);return(0,a.useEffect)((()=>(s(),d)),[s,d]),null};var B=o(474848);const z=5,F=25,W=6,U=22;const L=function({pageVisitStore:e,presenceStore:t,rootStore:a,maxUsers:n}){return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(o(912474).a,{rootStore:a}),(0,B.jsx)(oe,{rootStore:a,pageVisitStore:e,presenceStore:t,maxUsers:n,isShowingInFeed:!1}),(0,B.jsx)(O,{blockStore:a,pageVisitStore:e,limit:1+Q(n)+F})]})};function V(e){return w().Ul(e,(e=>e.activityTimestampNearestMinuteMs))}function Q(e){return e??z}function K(e,t){return c().L.createChildStore(t,{table:S().oo,id:e})}function G(e){const{environment:t,isShowingTabBar:o,isShowingInFeed:a}=e;return{...(0,k().g)({noDrag:t.device.isElectron&&!o}),display:"flex",alignItems:"center",position:"relative",flexDirection:"row-reverse",marginInlineStart:8,paddingInlineEnd:W,transform:"translateZ(0)",...a&&{maxHeight:54,paddingBottom:12}}}function H(){return{color:x().Tj.text.inverseSecondary,fontSize:10,textTransform:"uppercase",letterSpacing:"0.015em"}}function Z({userData:e,isPresent:t,rootStore:o,isShowingInFeed:a}){const r=(0,n().v3)(),s=(0,I().tz)(),d=r.currentUser.id,c=(0,i().K8)((()=>K(e.userId,o)),[e,o]),u=(0,i().K8)((()=>c.isDefined()),[c]),p=(0,i().K8)((()=>(0,h().c6)(s,c.getModel())),[s,c]),g=(0,i().K8)((()=>c.getEmail()),[c]);if(!u)return null;let f;return t?d!==c.id&&(f=e.blockId&&!a?(0,B.jsx)(I().sA,{defaultMessage:"Viewing now. Click to see where they are.",id:"topbar.presenceIndicator.viewingNowWithLocation.tooltip"}):(0,B.jsx)(I().sA,{defaultMessage:"Viewing now",id:"topbar.presenceIndicator.viewingNow.tooltip"})):d!==c.id&&e.activityTimestampNearestMinuteMs&&(f=(0,B.jsx)(I().sA,{defaultMessage:"Last viewed {timeFromNow}",id:"topbar.presenceIndicator.lastViewedTime.tooltip",values:{timeFromNow:(0,m().v9)(Math.min(e.activityTimestampNearestMinuteMs,Date.now()),l().locale)}})),(0,B.jsxs)("div",{children:[(0,B.jsx)("div",{className:"notranslate",children:p}),(0,B.jsx)("div",{style:{fontWeight:400},children:g}),f?(0,B.jsx)("div",{style:{color:x().Tj.text.inverseSecondary,minWidth:150,paddingTop:2,paddingBottom:2,lineHeight:1.3},children:f}):void 0]})}function q({userData:e,index:t,rootStore:o}){const a=(0,n().v3)(),r=(0,M().dp)(a,e),s=(0,i().K8)((()=>K(e.userId,o)),[e,o]);if(!(0,i().K8)((()=>s.isDefined()),[s]))return null;let d;!r&&e.activityTimestampNearestMinuteMs&&(d=(0,m().v9)(e.activityTimestampNearestMinuteMs,l().locale));const c=(0,B.jsxs)("div",{style:{display:"flex",alignContent:"flex-end",minWidth:140,width:"100%",marginTop:4},children:[(0,B.jsx)(D().A,{userStore:s,avatarSize:18,style:{flexGrow:1},hasPersonHoverCard:!1}),(0,B.jsx)("div",{style:{marginInlineStart:"auto",paddingInlineStart:12,textAlign:"end",flexShrink:1,color:x().Tj.text.inverseSecondary},children:d})]});if(r&&e.blockId){const t=e.blockId;return(0,B.jsx)(p().Ay,{onClick:()=>(0,_().B)([t],!0,a),style:{display:"flex",alignItems:"center"},children:c})}return(0,B.jsx)("div",{style:{display:"flex",alignItems:"center"},children:c})}function J({hiddenUsers:e,hiddenUsersCount:t,hasMore:o,rootStore:a,environment:n}){return(0,B.jsx)(f().m,{allowHover:!0,originGap:7,renderTooltip:n=>(0,B.jsx)($,{hiddenUsers:e,hiddenUsersCount:t,hasMore:o,rootStore:a,events:n}),render:e=>(0,B.jsx)(Y,{hiddenUsersCount:t,events:e,environment:n,rootStore:a})})}function $({hiddenUsers:e,hiddenUsersCount:t,hasMore:o,rootStore:a,events:i}){const r=(0,n().v3)(),s=[],d=[];for(const n of e)(0,M().dp)(r,n)?s.push(n):d.push(n);const l=d.slice(0,F-s.length),c=t-(s.length+l.length);return(0,B.jsxs)("div",{...i,children:[s.length>0?(0,B.jsxs)("div",{style:{marginBottom:4},children:[(0,B.jsx)(b().A,{style:H(),children:(0,B.jsx)(I().sA,{defaultMessage:"Viewing now",id:"topbar.presenceIndicator.hiddenUsers.viewingNow.tooltip"})}),s.map(((e,t)=>(0,B.jsx)(q,{userData:e,index:t,rootStore:a},t)))]}):void 0,l.length>0?(0,B.jsxs)("div",{style:{marginBottom:4},children:[(0,B.jsx)(b().A,{style:{...H()},children:(0,B.jsx)(I().sA,{defaultMessage:"Last viewed by",id:"topbar.presenceIndicator.hiddenUsers.lastViewedBy.tooltip"})}),l.map(((e,t)=>(0,B.jsx)(q,{userData:e,index:t,rootStore:a},t)))]}):void 0,(0,B.jsx)(X,{remainingHiddenUsersCount:c,hasMore:o})]})}function Y({hiddenUsersCount:e,events:t,environment:o,rootStore:n}){const i=(0,r().IS)((()=>({origin:{paddingInline:8,marginInlineStart:4,marginInlineEnd:-W-4}})),[]),s=(0,a.useCallback)((()=>{R().handleSidebarButtonClick(o,n,P().tF.Updates,"more_menu"),P().Ay.setState({...P().Ay.state,updatesSubTab:P().VE.Analytics})}),[o,n]);return(0,B.jsx)(g().p,{style:i.origin,size:"sm",shape:"pill",colorPalette:"gray",onClick:s,...t,children:(0,B.jsx)(I().sA,{defaultMessage:"{hiddenUsersCount, plural, one {+{hiddenUsersCount}} other {+{hiddenUsersCount}}}",id:"topbar.presenceIndicator.hiddenUsers.otherCount.message",values:{hiddenUsersCount:e}})})}function X({hasMore:e,remainingHiddenUsersCount:t}){const o=(0,r().IS)((()=>({message:{marginInlineStart:2,marginTop:2,color:x().Tj.text.inverseSecondary}})),[]);return t>0?(0,B.jsx)("div",{style:o.message,children:e?(0,B.jsx)(I().sA,{defaultMessage:"{remainingVisitorsCount}+ moreâ€¦",id:"topbarPresence.presenceIndicator.hiddenUsers.evenMoreUsersNotViewing.tooltip",values:{remainingVisitorsCount:t}}):(0,B.jsx)(I().sA,{defaultMessage:"{remainingVisitorsCount} moreâ€¦",id:"topbarPresence.presenceIndicator.hiddenUsers.moreUsersNotViewing.tooltip",values:{remainingVisitorsCount:t}})}):null}function ee(e,t){const o=(0,r().DP)();return(0,r().IS)((()=>{const a={width:U,height:U,borderRadius:U},n=e(o);return{button:{transition:"all 0.2s ease",transform:"scale(1)"},buttonHovered:{transform:"scale(1.15)",background:"none"},buttonPressed:{transform:"scale(0.9)",background:"none"},uiUserAvatarStyles:{...a},avatarInnerOutline:{...a,outlineStyle:"solid",outlineColor:x().Tj.UIUserAvatarInnerOutline,outlineWidth:.5,outlineOffset:-.5},avatarBorder:t?{...a,outlineStyle:"solid",outlineColor:n,outlineWidth:1.5,outlineOffset:-.5}:{},avatarOuterOutline:{...a,outlineStyle:"solid",outlineColor:t?x().Tj.background.primary:x().Tj.UIUserAvatarIdleOutline,outlineWidth:.5,outlineOffset:t?1:0,backgroundColor:x().Tj.background.primary,marginInlineEnd:-6,position:"relative"},initialColor:{color:t?n:x().Tj.icon.secondary}}}),[e,t,o])}function te(e){const{userData:t,rootStore:o,isShowingInFeed:r=!1}=e,s=(0,n().v3)(),{userId:d}=t,l=(0,M().dp)(s,t),{userStore:c,showAvatar:u}=(0,i().K8)((()=>{if((0,S().MF)(d))return{userStore:v().px,showAvatar:!0};const e=K(d,o);return{userStore:e,showAvatar:(e.isDefined()||(0,S().MF)(e.id))&&!e.getIsSuspended()}}),[d,o]),g=ee((0,a.useCallback)((e=>(0,S().MF)(d)?x().Tj.icon.secondary:d===s.currentUser.id?x().Tj.border.accentPrimary:(0,x().Nq)(d,e)),[s.currentUser.id,d]),l);return u?(0,B.jsx)(f().m,{disableTooltip:r,textWrap:!0,renderTooltip:()=>(0,B.jsx)(Z,{rootStore:o,userData:t,isPresent:l,isShowingInFeed:r}),render:e=>{const o=(0,B.jsx)("div",{style:g.avatarOuterOutline,children:(0,B.jsx)("div",{style:g.avatarBorder,children:(0,B.jsx)(N().A,{iconStyle:g.avatarInnerOutline,userStore:c,style:g.uiUserAvatarStyles,isOffline:!l,size:U,avatarShouldShowShadow:!r,initialOverrideStyle:g.initialColor})})});if(l&&t.blockId){const a=t.blockId;return(0,B.jsx)(p().Ay,{...e,onClick:()=>(0,_().B)([a],!0,s),style:g.button,hoveredStyle:g.buttonHovered,pressedStyle:g.buttonPressed,children:o})}return(0,B.jsx)("div",{...e,children:o})}}):null}function oe(e){const{rootStore:t,pageVisitStore:o,presenceStore:a,maxUsers:r,isShowingInFeed:l}=e,c=(0,n().v3)(),p=c.currentUser.id,[{status:g,value:f}]=(0,y().Yb)((async()=>(0,A().$g)()),[]),b=(0,i().K8)((()=>{var e;if("resolved"===g)return null==f||null===(e=f.getPresencesForBlock(t.id))||void 0===e?void 0:e.find((e=>e.blockId===t.id))}),[f,g,t.id]),m=(0,i().K8)((()=>{const e=c.currentUser.id;if(!e)return;const n=l||(0,M().xm)(a)?(0,M().PZ)({pageVisitStore:o,presenceStore:a}):[];let i=(null==o?void 0:o.state.totalCount)??n.length;const s=[],d=[];for(const t of n)t.userId!==e?(0,M().dp)(c,t)?s.push(t):d.push(t):i--;!(0,u().r)({environment:c,store:t})&&t.isNavigableBlock()&&(0,j().BP)(t,c,c.device)&&"resolved"===g&&null!=b&&b.present&&s.push(b);const p=[...V(s).reverse(),...V(d).reverse()],f=Q(r)-1;return{visibleUsers:p.slice(0,f),hiddenUsers:p.slice(f),totalCount:i,hasMore:Boolean(null==o?void 0:o.state.hasMore)}}),[o,a,c,l,r,t,g,b],{useDeepEqual:!0}),{visibleUsers:v,hiddenUsers:h,hiddenUsersCount:I,hasMoreHiddenUsers:x,isEveryUserStoreReady:w}=(0,i().K8)((()=>{if(!p)return{};const{visibleUsers:e=[],hiddenUsers:o=[]}=m??{},a=[p,...e.map((e=>e.userId)),...o.map((e=>e.userId))].map((e=>K(e,t)));return{visibleUsers:e,hiddenUsers:o,hiddenUsersCount:Number(null==m?void 0:m.totalCount)-e.length,hasMoreHiddenUsers:Boolean(null==m?void 0:m.hasMore),isEveryUserStoreReady:a.every((e=>e.isReady()||(0,S().MF)(e.id)))}}),[p,m,t]),_=(0,i().O$)(d().b),k=(0,C().n)(t),R=!(0,i().O$)(s().e);if(!p||!m||!w||R)return null;if(p!==t.userId)return null;if(0===v.length&&0===h.length)return k?(0,B.jsx)("div",{style:G({environment:c,isShowingTabBar:_,isShowingInFeed:l}),children:(0,B.jsx)(T().h,{enableClickToScroll:!0,rootStore:t})}):null;{const e=[...v];return e.reverse(),(0,B.jsxs)("div",{style:G({environment:c,isShowingTabBar:_,isShowingInFeed:l}),children:[I>0?(0,B.jsx)(J,{rootStore:t,hiddenUsers:h,hiddenUsersCount:I,hasMore:x,environment:c}):void 0,e.map((e=>(0,B.jsx)(te,{userData:e,rootStore:t},e.userId))),l?void 0:(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(te,{rootStore:t,userData:{userId:p,present:!0}}),(0,B.jsx)(T().h,{enableClickToScroll:!0,rootStore:t})]})]})}}},130119:(e,t,o)=>{function a(e){return"drag"in e&&e.drag?{WebkitAppRegion:"drag"}:"noDrag"in e&&e.noDrag?{WebkitAppRegion:"no-drag"}:{}}o.d(t,{g:()=>a})},132855:(e,t,o)=>{o.r(t),o.d(t,{arrowInCircleUpFillIcon:()=>n,iconDefinition:()=>a});o(296540);const a={viewBox:"0 0 20 20",fittedViewBox:"2.37 2.37 15.25 15.26",svg:(0,o(474848).jsx)("path",{d:"M10 17.625a7.625 7.625 0 1 0 0-15.25 7.625 7.625 0 0 0 0 15.25m3.042-8.07a.625.625 0 0 1-.884 0L10.625 8.02v5.466a.625.625 0 1 1-1.25 0V8.021L7.842 9.554a.625.625 0 1 1-.884-.883l2.6-2.6a.625.625 0 0 1 .884 0l2.6 2.6a.625.625 0 0 1 0 .883"})},n=(0,o(340498).wt)("arrowInCircleUpFill",a,"fill")},139654:(e,t,o)=>{o.d(t,{b:()=>j});o(16280);var a=()=>o(907258),n=()=>o(675133),i=()=>o(302996),r=()=>o(475543),s=()=>o(723085),d=()=>o(165358),l=()=>o(96689),c=()=>o(84520),u=()=>o(854150),p=()=>o(294712),g=()=>o(802149),f=()=>o(496603),b=()=>o(680074),m=()=>o(529543),v=()=>o(594794),y=()=>o(898255),S=()=>o(547149),h=()=>o(966505),I=()=>o(769864),x=()=>o(824772),w=()=>o(722101),_=()=>o(384944);const A=(0,o(69708).YK)({goOnlineCreateSpace:{id:"spaceActions.createSpace.goOnlineCreateSpace",defaultMessage:"Please go online to create your workspace."},createSpaceError:{id:"spaceActions.createSpace.createSpaceError",defaultMessage:"Sorry! We could not create your workspace. Please try again."},loginToCreateSpace:{id:"spaceActions.createSpace.loginToCreateSpace",defaultMessage:"Please log in to create a workspace."}});async function j(e){const{environment:t,name:o,domain:j,userRootStore:k,emailDomains:T,analyticsFrom:C,icon:M,planType:R,planSelection:P,userPersona:D,shouldCreateUserPersonaTeam:N,shouldMakeUserPersonaTeamDefault:E,collaborativeIntent:O,source:B,joinableSpacesViewType:z}=e,{id:F}=t.currentUser;if(F){const e=await I().callApi({eventName:"createSpace",environment:t,data:{name:o,domain:j,emailDomains:T,icon:M,planType:R,planSelection:P,initialPersona:D,shouldCreateUserPersonaTeam:N,shouldMakeUserPersonaTeamDefault:E,domainType:(0,b().FX)(),collaborativeIntent:O,deviceId:await(0,m().getExperimentDeviceId)(t),deviceType:t.device.deviceType,desktopTargetPlatform:t.device.desktopTargetPlatform,source:B,joinableSpacesViewType:z}});if("failed"===e.type){if(e.offline)throw new Error(n().A.formatMessage(A.goOnlineCreateSpace));throw new Error(n().A.formatMessage(A.createSpaceError))}const{spaceId:W,teamId:U,inviteLinkCode:L}=e.data,V=new(i().SpaceStore)(t,{table:l().NX,id:W}),Q=U?s().h.createChildStore(V,{table:u().yK,id:U}):void 0,{serverCommitResult:K,performResult:{spaceViewStore:G}}=S().createAndCommit({userAction:"spaceActions.createSpace",environment:t,canUndo:!0,perform:e=>{const o=_().vt({environment:t,table:c().mu,args:{id:(0,v().Z1)({environment:t,table:c().mu,spaceId:V.id}),space_id:V.id,notify_mobile:!0,notify_desktop:!0,notify_email:!0,parentPointer:{table:p().GD,id:F},joined:!0,joined_teams:Q&&f().oE([null==Q?void 0:Q.id]),settings:{notify_email_digest:!0,notify_home_digest_email:!0},first_joined_space_time:Date.now()},inMemoryRecordCache:k.inMemoryRecordCache,transaction:e}),n=new(r().SpaceViewStore)(t,o.pointer);return w().BC({parentStore:k.getSpaceViewsStore(),appendStore:o,transaction:e}),w().B8({parentStore:k.getSpaceViewPointersStore(),appendStore:o,transaction:e}),t.device.isMobileNative&&d().log({level:"info",from:"spaceActions",type:"SpaceSwitchingDebug",data:{message:"spaceActions.createSpace setting space"}}),a().default.setState({...a().default.state,sidebarSpaceStore:V,sidebarSpaceViewStore:n}),h().qF(t,{from:C,planType:R,isProfessionalTeamUser:(0,b().YD)(),domain_type:(0,b().FX)(),joinable_spaces_view_type:z}),{spaceViewStore:n}}});await K,await x().fD(t);const H=(0,g().PM)();return H&&await(0,y().Ho)({environment:t,spaceId:W,referralCode:H}),{spaceViewStore:G,spaceStore:V,inviteLinkCode:L,teamStore:Q}}throw new Error(n().A.formatMessage(A.loginToCreateSpace))}},140612:(e,t,o)=>{o.d(t,{w:()=>n});var a=()=>o(564884);function n(e,t){const{spaceId:o,pageId:n,joinSpaceMethod:i}=t;(0,a().u)({environment:e,event:{eventName:"trusted_domain_banner_cta_clicked",eventProperties:{spaceId:o,pageId:n,joinSpaceMethod:i}}})}},141273:(e,t,o)=>{o.d(t,{g:()=>d});var a=o(296540),n=()=>o(300474),i=()=>o(484714),r=()=>o(749356),s=()=>o(985315);function d(e){var t;const o=(0,i().v3)(),[d,l]=(0,a.useState)(),c=(0,n().r)(),u=(null===(t=(0,s().g)({spaceId:c}))||void 0===t?void 0:t.length)??0;return(0,a.useEffect)((()=>{!async function(){c&&l(await(0,r().L6)({environment:o,spaceId:c,offerCampaign:e}))}()}),[o,c,e,u]),d}},148974:(e,t,o)=>{o.d(t,{Vq:()=>a,bt:()=>i,vx:()=>n});const a={mini:3,small:4,default:6,medium:8,large:12,max:16},n="0px 4px 0px -2px #00000005",i={opacity:.5,pointerEvents:"none",userSelect:"none"}},158115:(e,t,o)=>{o.r(t),o.d(t,{arrowChevronSingleRightFillSmallIcon:()=>n,iconDefinition:()=>a});o(296540);const a={viewBox:"0 0 16 16",fittedViewBox:"5.54 2.94 5.81 10.11",directional:!0,svg:(0,o(474848).jsx)("path",{d:"M11.13 8.53a.75.75 0 0 0 0-1.06L6.81 3.15a.75.75 0 0 0-1.06 1.06L9.54 8l-3.79 3.79a.75.75 0 0 0 1.06 1.06z"})},n=(0,o(340498).wt)("arrowChevronSingleRightFillSmall",a,"fillSmall")},162342:(e,t,o)=>{o.d(t,{W$:()=>s,fR:()=>i,iv:()=>r});var a=()=>o(228814),n=()=>o(846199);function i(e){n().v.setState({open:!0,...e})}function r(){n().v.setState({open:!1})}function s(e){a().E.setState({open:!0,...e})}},166947:(e,t,o)=>{o.d(t,{n:()=>i});var a=()=>o(613848),n=()=>o(124958);async function i({environment:e,spaceStore:t}){const o=t.id;await Promise.all([(0,n().x)(e,o),a().A.resetData(e,{spaceId:o,userId:e.currentUser.id})])}},184967:(e,t,o)=>{o.d(t,{bw:()=>i,IU:()=>b,g4:()=>m().g,Wo:()=>l,o2:()=>v().o});var a=()=>o(590526),n=()=>o(27716);function i(e){return(0,a().K8)((()=>(0,n().eJ)({billingData:e})),[e])}var r=o(296540),s=()=>o(484714),d=()=>o(495106);function l(){const e=(0,s().v3)(),t=(0,a().K8)((()=>d().T.getData(e,{userId:e.currentUser.id||""})),[e]),[o,n]=(0,r.useState)();return(0,r.useEffect)((()=>{n(!(!t||!("company_employee_count"in t))&&parseInt(t.company_employee_count)>99)}),[t]),o}var c=()=>o(741615),u=()=>o(187174),p=()=>o(795523),g=()=>o(769864),f=()=>o(240865);function b(e){const{spaceId:t,environment:o}=e,i=(0,f().V)()??1,r=(0,c().lh)({spaceId:t}),s=(0,a().K8)((()=>(0,n().eJ)({billingData:r})),[r]),[{value:d}]=(0,u().Yb)((()=>g().callApi({eventName:"isEmailEducation",environment:o,data:{}})),[o]);return!!d&&("failed"!==d.type&&(!!d.data.isEligible&&(!!r&&(!Boolean((0,p().KH)(r,"plan"))&&(s&&1===i)))))}var m=()=>o(141273),v=()=>o(86089)},193164:(e,t,o)=>{o.d(t,{W:()=>h,e:()=>S});o(16280);var a=()=>o(906745),n=(o(296540),()=>o(755531)),i=()=>o(792057),r=()=>o(947756),s=()=>o(314529);var d=()=>o(741615),l=()=>o(165358),c=()=>o(802149),u=()=>o(795523),p=()=>o(323063),g=()=>o(69708),f=()=>o(224701),b=()=>o(779795),m=()=>o(134217),v=()=>o(981046),y=o(474848);async function S(e){var t,o;const{environment:S,stripe:h,elements:I,trialData:x,trialDays:w,product:_,sessionId:A,customerAddress:j,vatId:k,isCheckoutAddressFormExperimentEnabled:T}=e,C=(0,c().Qp)(),M=null!=C&&C.partner||null!=C&&C.partnerKey?{partner:C.partner,partnerKey:C.partnerKey}:void 0;if(!I||!h)return void l().log({level:"error",from:"trialUpsellActions",type:"StripeError",error:{miscDataString:"Stripe elements not initialized when user tried to upgrade"}});const{error:R}=await I.submit();if(R)return void(0,r().$)(S,{error:"could not submit form",error_type:"payment_method"});const P=await h.createPaymentMethod({elements:I});if(P.error)return void(0,r().$)(S,{error:P.error.message,error_type:"payment_method"});if(!P.paymentMethod)return void(0,r().$)(S,{error:"could not create token",error_type:"payment_method"});const D=P.paymentMethod.id,N={type:"paymentMethodId",value:D},E=(0,n().S)();if(!E)return;if("failed"===await f().Wd({environment:S,stripe:h,spaceStore:E,paymentMethodId:D}))return;const O=E.id,B=await b().p_({environment:S,spaceId:O}),z=await(0,d().Vv)({environment:S,spaceId:O});if(!z)throw new Error("Billing data not loaded");const F=(0,u().lQ)(z),W=v().H.state.selectedCurrencyCode??"USD",U=(0,p().vk)(B,{interval:"month",product:_,currency:W}),L=(0,p().vH)(F,{price:U,quantity:1}),V=a().DateTime.now().plus({days:w});return await async function(e){const{environment:t,spaceStore:o,paymentData:a,desiredState:n,stripe:r,trialData:l,sessionId:c,customerAddress:u,vatId:p,partnerRedemptionInfo:b}=e,v=await(0,d().Vv)({environment:t,spaceId:o.id});try{const e=await f().nV({environment:t,sessionId:c,spaceStore:o,desiredState:n,paymentData:a,from:"onboarding",trialData:l,billingEmail:(0,m().cs)(v),customerName:u.name,businessName:u.businessName,addressCity:u.city,addressState:u.state,addressZip:u.zipCode,addressCountry:u.country,addressLine1:u.addressLine1,addressLine2:u.addressLine2,vatId:p,partnerRedemptionInfo:b}),s=e.paymentIntentClientSecret,d=e.paymentIntentStatus?e.paymentIntentStatus:void 0;if(s&&"requires_action"===d){const{error:e}=await r.handleNextAction({clientSecret:s});e&&(await f().nV({environment:t,spaceStore:o,from:"subscription_upgrade_onboarding_failed_payment",desiredState:{items:[],trialEnd:void 0}}),i().f1((0,y.jsx)(g().sA,{id:"subscription.upgrade.payment_failed",defaultMessage:"Your payment could not be processed. Please provide an alternate payment method or you will lose access to Notion."})))}return"success"}catch{!function(e){(0,s().DO_NOT_USE_trackLegacy)(e,"subscription_upgrade_onboarding_failed_payment")}(t)}}({environment:S,spaceStore:E,desiredState:{...L,trialEnd:V},paymentData:N,stripe:h,trialData:x,customerAddress:T?j:{name:j.name,businessName:j.businessName,zipCode:(null===(t=P.paymentMethod.billing_details.address)||void 0===t?void 0:t.postal_code)||"",country:(null===(o=P.paymentMethod.billing_details.address)||void 0===o?void 0:o.country)||""},vatId:T?k:void 0,sessionId:A,partnerRedemptionInfo:M})}const h=(0,o(496603).sg)(S,1e3,{leading:!0,trailing:!1})},200424:(e,t,o)=>{e.exports=o.p+"9ade71d75a1c0e93.png"},205224:(e,t,o)=>{o.d(t,{D:()=>y,P:()=>v});o(16280),o(581454),o(296540);var a=()=>o(128933),n=()=>o(848538),i=()=>o(69708),r=()=>o(680074),s=()=>o(224701),d=()=>o(475355),l=()=>o(547149),c=()=>o(134696),u=()=>o(966505),p=()=>o(769864),g=()=>o(496414),f=()=>o(579627),b=o(474848);const m=(0,i().YK)({removingGuest:{id:"convertGuestToMember.removeGuest.updatingMessage",defaultMessage:"Updatingâ€¦"},convertingGuest:{id:"convertGuestToMember.convertingGuest.updatingMessage",defaultMessage:"Updatingâ€¦"}});async function v(e){const{environment:t,spaceStore:o,membershipType:p,guestUserStore:v}=e,y=v.id,S=v.getEmail();try{if(g().m({message:m.convertingGuest}),!o.isTeamsEnabled()){if(!(await d().oH({environment:t,flowId:"",trackCreateTeamComplete:!1})))return}const a=[{type:"user",userId:y,membershipType:p,inviteId:void 0}],{serverCommitResult:i}=l().createAndCommit({userAction:"spacePerimssionGuestActions.convertGuestToMember",environment:t,canUndo:!0,perform:e=>{f().yG({environment:t,spaceStore:o,actors:a,transaction:e})}});await i,u().gc(t,{member_user_id:y,convert_to:"owner"===p?"admin":"member",origin:e.origin}),c().Jg(t,{role:(0,n().ps)(p),is_space:!0,invite_targets:[{type:"existingUser",value:{id:y,version:0,email:""},membershipType:"none"}],is_onboarding:!1,invite_origin:"convert_to_member",permission_items:a.map((e=>f().zV(e))),invite_message_length:0,domainType:(0,r().FX)()})}catch(h){a().D6({label:(0,b.jsx)(i().sA,{id:"spacePermissionsSettings.externalTab.userThreeDotMenu.convertToMember.snackbar.failure",defaultMessage:"Failed to convert {email} to workspace member",values:{email:S}})})}finally{await s().nO({environment:t,spaceStore:o}),g().V()}}async function y(e){const{environment:t,spaceStore:o,guestUserStore:n}=e,r=n.id,d=n.getEmail();try{g().m({message:m.removingGuest});if("success"!==(await p().callApi({eventName:"removeUsersFromSpace",environment:t,data:{userIds:[r],spaceId:o.id,removePagePermissions:!0,revokeUserTokens:!1}})).type)throw new Error("Failed to remove guest");u().wX(t)}catch(l){a().D6({label:(0,b.jsx)(i().sA,{id:"spacePermissionsSettings.externalTab.userThreeDotMenu.removeFromWorkspace.snackbar.failure",defaultMessage:"Failed to remove {email} from workspace",values:{email:d}})})}finally{await s().nO({environment:t,spaceStore:o}),g().V(),u().xO(t,{origin:"space_setting_guest_tab",changedNumber:-1})}}},227151:(e,t,o)=>{o.d(t,{R:()=>c});var a=()=>o(613848),n=()=>o(973992),i=()=>o(805061),r=()=>o(981046),s=()=>o(329862),d=()=>o(779795),l=()=>o(124958);async function c({environment:e,spaceStore:t}){const o=t.id;r().H.setState({...r().H.state,status:"init"}),await Promise.all([d().$W({environment:e,spaceId:o}),(0,l().x)(e,o),i().c.resetData(e,{spaceId:o}),n().L.resetData(e,{spaceId:o}),s().A.resetData(e,{spaceId:o}),a().A.resetData(e,{spaceId:o,userId:e.currentUser.id})])}},228814:(e,t,o)=>{o.d(t,{E:()=>a});const a=o(757695).Store.createValue({open:!1},{name:"TrialEndModalStore"})},234794:(e,t,o)=>{e.exports=o.p+"8a2171ce12192bfe.png"},240865:(e,t,o)=>{o.d(t,{V:()=>i});var a=()=>o(755531),n=()=>o(590526);function i(e){return(0,n().K8)((()=>{var t;return e?e.getMemberCountFromPublicSpaceData()??void 0:(null===(t=(0,a().S)())||void 0===t?void 0:t.getMemberCountFromPublicSpaceData())??void 0}),[e])}},243936:(e,t,o)=>{e.exports=o.p+"584404c24b1c7f22.png"},245720:(e,t,o)=>{o.d(t,{W:()=>a});const a=(0,o(69708).YK)({done:{id:"modal.doneButton",defaultMessage:"Done"},cancel:{id:"modal.cancelButton",defaultMessage:"Cancel"},back:{id:"modal.backButton",defaultMessage:"Back"}})},250359:(e,t,o)=>{o.d(t,{_:()=>u});o(944114),o(898992),o(803949);var a=o(296540),n=()=>o(401497),i=()=>o(278589),r=()=>o(899086),s=()=>o(219348),d=o(474848);const l={"baseball-cap":o(895960),bow:o(363031),cat:o(247983),cherry:o(6444),cowboy:o(406618),crown:o(341914),duck:o(210368),firefighter:o(420116),flower:o(910438),glasses:o(187667),headphone:o(504613),leaf:o(270307),magician:o(416744),mustache:o(324325),paprika:o(18667),pencil:o(326836),propeller:o(133698),"safety-hat":o(602537),scarf:o(244840),"seasonal-bat":o(38073),"seasonal-demon":o(752757),"seasonal-frankenstein":o(903734),"seasonal-pumpkin":o(715096),"seasonal-santa-hat":o(524980),"seasonal-new-year":o(713129)},c={"baseball-cap":o(706502),bow:o(903516),cat:o(835204),cherry:o(109677),cowboy:o(789567),crown:o(135763),duck:o(934997),firefighter:o(566697),flower:o(982911),glasses:o(168501),headphone:o(779594),leaf:o(473332),magician:o(863657),mustache:o(863342),paprika:o(803620),pencil:o(563177),propeller:o(586891),"safety-hat":o(77354),scarf:o(8993),"seasonal-bat":o(963510),"seasonal-demon":o(246934),"seasonal-frankenstein":o(359839),"seasonal-pumpkin":o(453981),"seasonal-santa-hat":o(190421),"seasonal-new-year":o(879830)};function u({accessory:e,variant:t="large",animationDirection:o=null,onAnimationComplete:u,...p}){const g="dark"===(0,n().eP)(),f=s().Nr(),[b,m]=(0,a.useState)(e),[v,y]=(0,a.useState)(null),S=(0,a.useRef)([]),h=(0,i().N)(t),I=Math.round(1.5625*h),x=1.2*I,w=(0,n().IS)((()=>({container:{position:"relative",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},faceWrapper:{position:"relative",width:h,height:h,display:"flex",alignItems:"center",justifyContent:"center"},accessoryContainer:{position:"absolute",top:"50%",insetInlineStart:"50%",transform:"translate(calc(var(--direction, 1) * -50%), -50%)",width:3*I,height:I,overflow:"hidden"},accessoryOverlay:{position:"absolute",width:I,height:I,objectFit:"contain",pointerEvents:"none",top:0,insetInlineStart:I,transition:v?"transform 300ms cubic-bezier(0.4, 0.0, 0.2, 1)":"none",willChange:"transform"},stationary:{transform:"translateX(0)"}})),[h,I,v]);(0,a.useEffect)((()=>{e!==b&&(S.current.forEach(clearTimeout),S.current=[],o?(y({from:b??null,to:e??null,direction:o,isActive:!1}),S.current.push(setTimeout((()=>{y((e=>e?{...e,isActive:!0}:null))}),16)),S.current.push(setTimeout((()=>{m(e),y(null),null==u||u()}),320))):(m(e),y(null)))}),[e,b,o,u]),(0,a.useEffect)((()=>()=>{S.current.forEach(clearTimeout),S.current=[]}),[]);const _=g?c:l,A=(0,a.useMemo)((()=>{const e=e=>!!e&&f.includes(e);if(v){const{from:t,to:o,direction:a,isActive:n}=v;return(0,d.jsxs)(d.Fragment,{children:[t&&e(t)&&_[t]?(0,d.jsx)("img",{src:_[t],alt:`${t} accessory`,style:{...w.accessoryOverlay,transform:n?"left"===a?`translateX(${x}px)`:`translateX(-${x}px)`:"translateX(0)"}}):null,o&&e(o)&&_[o]?(0,d.jsx)("img",{src:_[o],alt:`${o} accessory`,style:{...w.accessoryOverlay,transform:n?"translateX(0)":"left"===a?`translateX(-${x}px)`:`translateX(${x}px)`}}):null]})}return b&&e(b)&&_[b]?(0,d.jsx)("img",{src:_[b],alt:`${b} accessory`,style:{...w.accessoryOverlay,...w.stationary}}):null}),[v,b,_,w.accessoryOverlay,w.stationary,x,f]);return(0,d.jsx)("div",{...p,children:(0,d.jsx)("div",{style:w.container,children:(0,d.jsxs)("div",{style:w.faceWrapper,children:[(0,d.jsx)(r().Ax,{variant:t,animationMode:b?"minimal":"normal"}),(0,d.jsx)("div",{style:w.accessoryContainer,children:A})]})})})}},251111:(e,t,o)=>{o.d(t,{Z:()=>i});const a=/^\d{5}(-\d{4})?$/,n=/^[ABCEGHJKLMNPRSTVXY]\d[ABCEGHJKLMNPRSTVWXYZ] ?\d[ABCEGHJKLMNPRSTVWXYZ]\d$/i;function i(e){if(!e||!e.country)return!1;switch(e.country){case"US":return a.test(e.zipCode);case"CA":return n.test(e.zipCode);default:return!0}}},253493:(e,t,o)=>{o.r(t),o.d(t,{getOfferEligibilityForWorkspaceForOnboardingUser:()=>c,getOfferEligibilityForWorkspaces:()=>l,getPartnerProgramCouponOffer:()=>u,validatePartnerProgramDataForOnboarding:()=>p});o(898992),o(354520);var a=()=>o(802149),n=()=>o(217978),i=()=>o(765534),r=()=>o(166386),s=()=>o(534177),d=()=>o(769864);async function l(e,t){const o=await d().callMainCellApi({eventName:"getOfferEligibilityForWorkspaces",environment:e,data:{campaign:t.promoCampaign,code:t.promoCode}});if("success"===o.type){const{workspaces:e}=o.data;return{eligibleWorkspaces:e.filter((e=>e.isEligible)),ineligibleWorkspaces:e.filter((e=>!e.isEligible))}}return{eligibleWorkspaces:[],ineligibleWorkspaces:[]}}async function c(e){const{environment:t,isFirstTimeOnboarding:o}=e;if(o)return{eligibleWorkspaces:[],ineligibleWorkspaces:[]};const n=(0,a().OC)();if(!n)return{eligibleWorkspaces:[],ineligibleWorkspaces:[]};const{eligibleWorkspaces:i,ineligibleWorkspaces:r}=await l(t,{promoCampaign:n.partnerProgramPromoCampaign,promoCode:n.partnerProgramPromoCode});return{eligibleWorkspaces:i,ineligibleWorkspaces:r}}function u(){const e=(0,a().OC)();if(!e)return;const{partnerProgramPromoCampaign:t}=e,o=(0,i().PH)(t)?(0,r().Pz)(t):void 0;return o&&"coupon"===o.type?o:void 0}async function p(e,t){const{partnerProgramPromoCampaign:o,partnerProgramPromoCode:a}=t;if((0,s().Xk)(n().Ad,o)){const t=await d().callMainCellApi({eventName:"getOfferCodeStatus",environment:e,data:{campaign:o,code:a}});return"success"===t.type&&t.data.ok?{isValid:!0}:{isValid:!1,failureReason:"Invalid partner program code for campaign"}}return{isValid:!1,failureReason:"Invalid or unsupported partner program campaign for onboarding"}}},267614:(e,t,o)=>{o.d(t,{z:()=>T});var a=o(296540),n=()=>o(726637),i=()=>o(699143),r=()=>o(807778),s=()=>o(222926),d=()=>o(907258),l=()=>o(484714),c=()=>o(852507),u=()=>o(590526),p=()=>o(314529),g=()=>o(720665);var f=()=>o(874832),b=()=>o(69708),m=()=>o(720503),v=()=>o(297698),y=()=>o(414402),S=()=>o(471725),h=o(474848);function I(e){const{modalId:t,style:o,hideTitle:a}=e,n=(0,u().O$)(S().D),i=(0,l().v3)();(0,c().w)((()=>{S().D.setState(!0)}));const r={defaultValues:{billingDetails:(0,u().K8)((()=>{const e=d().default.state.currentUserStore;return{email:null==e?void 0:e.getEmail(),name:null==e?void 0:e.getName()}}),[])},terms:{card:"never"}},f=a?void 0:n?(0,h.jsx)(y().y,{labelOnly:!0}):(0,h.jsx)(b().sA,{id:"subscriptions.checkout.paymentMethod.title",defaultMessage:"Payment method"});return(0,h.jsxs)(v().iy,{title:f,style:o,children:[n?(0,h.jsx)(x,{}):null,(0,h.jsx)(s().PaymentElement,{options:r,onChange:e=>{!function(e,t){const{event:o,modal_id:a,modal_type:n}=t,i={...(0,g().Om)(o),modal_id:a,modal_type:n};(0,p().DO_NOT_USE_trackLegacy)(e,"subscription_upgrade_modal_payment_element_changed",i)}(i,{event:e,modal_id:t}),m().A.update((e=>{if(!e.open)return e;const{paymentData:t,...o}=e;return o}))},onReady:()=>S().D.setState(!1)})]})}function x(){return(0,h.jsxs)(i().Y1,{gap:12,children:[(0,h.jsxs)(i().Y1,{direction:"horizontal",gap:12,children:[(0,h.jsx)(f().P,{style:{width:"50%",height:60,borderRadius:6}}),(0,h.jsx)(f().P,{style:{width:"50%",height:60,borderRadius:6}})]}),(0,h.jsx)(y().y,{}),(0,h.jsx)(y().y,{}),(0,h.jsx)(y().y,{}),(0,h.jsx)(y().y,{})]})}var w=()=>o(520071),_=()=>o(187174),A=()=>o(601203);function j(e){const{customerAddress:t,vatId:o,onChangeFormData:a,errors:n,modalId:r}=e,s=(0,u().O$)(S().D),d=(0,b().tz)(),c=(0,l().v3)(),[{value:p}]=(0,_().Yb)((async()=>await(0,A().Lv)(c)),[c]);return(0,h.jsxs)(i().Y1,{gap:12,children:[(0,h.jsxs)(i().Y1,{gap:12,direction:"horizontal",children:[(0,h.jsx)(v().uz,{id:"name",value:t.name,errorMessage:null==n?void 0:n.customerAddress,isLoading:s,onChange:e=>{r&&k({environment:c,addressType:"name",addressUpdate:e.target.value,modal_id:r}),a({vatId:o,customerAddress:{...t,name:e.target.value}})},label:d.formatMessage({defaultMessage:"Name",id:"billingDetails.name"}),placeholder:d.formatMessage({defaultMessage:"Ada Lovelace",id:"billingDetails.name.placeholder"})}),(0,h.jsx)(v().uz,{id:"businessName",value:t.businessName,isLoading:s,onChange:e=>{r&&k({environment:c,addressType:"businessName",addressUpdate:e.target.value,modal_id:r}),a({vatId:o,customerAddress:{...t,businessName:e.target.value}})},label:d.formatMessage({defaultMessage:"Business name (optional)",id:"billingDetails.businessName"}),placeholder:d.formatMessage({defaultMessage:"Acme Inc.",id:"billingDetails.businessName.placeholder"})})]}),p||o?(0,h.jsx)(v().uz,{id:"vatId",value:o,isLoading:s,onChange:e=>a({vatId:e.target.value,customerAddress:t}),label:d.formatMessage({defaultMessage:"VAT/GST number (optional)",id:"billingDetails.vatNumber"}),placeholder:"123456789"}):null]})}const k=(0,o(496603).sg)((({environment:e,addressType:t,addressUpdate:a,modal_id:n})=>{(0,o(553372).J)(e,{addressType:t,addressUpdate:a,modal_id:n})}),1e3);function T({onChange:e,customerAddress:t,sessionId:o,vatId:s,validationErrors:d,gap:l=14,style:c,children:u,hidePaymentMethodTitle:p}){const g=(0,r().aD)(),f=(0,a.useMemo)((()=>{if(g)return(0,h.jsx)(w().c,{customerAddress:t,vatId:s,onChange:e,modalId:o});const{name:a,businessName:n}=t;return(0,h.jsx)(j,{customerAddress:{name:a,businessName:n},vatId:s,onChangeFormData:o=>{var a,n;e({customerAddress:{...t,name:(null===(a=o.customerAddress)||void 0===a?void 0:a.name)??"",businessName:(null===(n=o.customerAddress)||void 0===n?void 0:n.businessName)??""},vatId:o.vatId})},errors:d,modalId:o})}),[t,g,e,o,d,s]);return(0,h.jsxs)(i().Y1,{gap:l,padding:n().A.isMobile&&g?4:0,style:c,children:[f,(0,h.jsx)(I,{modalId:o,hideTitle:p}),u]})}},270511:(e,t,o)=>{o.d(t,{A:()=>a});const a=function(e){return!!o(726637).A.isMobile||e.WindowSizeStore.state.width<960}},275764:(e,t,o)=>{o.d(t,{G5:()=>l,Ux:()=>p,g3:()=>c,jn:()=>d,o2:()=>u});o(898992),o(581454),o(908872);var a=()=>o(484714),n=()=>o(187174),i=()=>o(795523),r=()=>o(643819),s=()=>o(769864);function d(e){const{items:t,promo:o}=e;return t.map((e=>e.price.getDiscountPerBillingInterval({quantity:e.quantity,promo:o}))).reduce(((e,t)=>e.plus(t)))}function l(e){const{items:t,offer:o}=e;return t.map((e=>e.price.getCostPerBillingInterval({quantity:e.quantity,offer:o}))).reduce(((e,t)=>e.plus(t)))}function c(e){const{taxAmount:t,calculatingTax:o,currencyCode:a}=e,n=t&&!o?t:0;return new(r().W)(a,n)}function u(e,t){const o=Math.min(0,(0,i().o2)(e,t).amount);return new(r().W)(t,-o)}function p(e){const t=(0,a().v3)(),[o]=(0,n().Yb)((async()=>{if(!e)return;const o=await s().callApi({eventName:"getPromoCode",environment:t,data:{code:e.code}});return"failed"!==o.type?o.data.promo:void 0}),[t,e]);return"resolved"===o.status?o.value:void 0}},278589:(e,t,o)=>{o.d(t,{N:()=>i});var a=()=>o(534177),n=()=>o(126126);function i(e){return"avatar"===e?n().eQ:"xsmall"===e?18:"xsmall_plus"===e?24:"small"===e?28:"small_plus"===e?32:"medium"===e?36:"medium_plus"===e?44:"medium_large"===e?48:"large"===e?50:"large_plus"===e?64:"xlarge"===e?94:"plans"===e?20:"deep_dive"===e?16:"upsell_banner"===e?74:"personalization_modal"===e?96:(0,a().HB)(e)}},288856:(e,t,o)=>{o.d(t,{p:()=>n});var a=()=>o(564884);function n(e){const{environment:t,from:o}=e;(0,a().u)({environment:t,event:{eventName:"download_desktop_app_from_notion",eventProperties:{from:o}}})}},292119:(e,t,o)=>{o.d(t,{u:()=>s,v:()=>r});o(16280),o(296540);var a=()=>o(215087),n=()=>o(643819),i=o(474848);function r(e){return(0,i.jsx)(i.Fragment,{children:s(e)})}function s(e){const{cost:t,intl:o}=e,i=e.trailingZeroDisplay??"auto",r=e.currencySign??"accounting",s=n().W.fromValue(t),d=a().r[s.currencyCode];if(!d)throw new Error(`Unsupported currency code: ${s.currencyCode}`);let l=o.formatNumber(s.amount/Math.pow(10,d.minorUnitDigits),{style:"currency",currency:s.currencyCode,currencyDisplay:"symbol",currencySign:r});return"stripIfInteger"===i&&(l=l.replace(new RegExp(`[.,]0{${d.minorUnitDigits}}(\\s+.*)?$`),"$1")),l}},299177:(e,t,o)=>{o.d(t,{A:()=>i});class a extends(()=>o(757695))().Store{getInitialState(){return{}}}const n=new a;o(852832).exposeDebugValue("SpaceWorkflowTemplateInstanceMapStore",n);const i=n},315622:(e,t,o)=>{o.d(t,{j:()=>S});o(296540);var a=()=>o(726637),n=()=>o(484714),i=()=>o(590526),r=()=>o(401497),s=()=>o(609679),d=()=>o(807449),l=()=>o(631524),c=()=>o(879765),u=()=>o(158115),p=()=>o(69708),g=()=>o(100622),f=()=>o(907929),b=()=>o(571997),m=()=>o(480599),v=()=>o(383289),y=o(474848);function S({onboardingState:e}){const t=(0,n().v3)(),o=(0,i().K8)((()=>"control"!==(0,v().getIsReimaginedOnboardingExperimentGroup)(e)),[e]),S=(0,v().useCurrentStage)(e,t),h=t.device.isElectron,I=(0,i().K8)((()=>0===e.currentStageIndex||!(null!=S&&S.isBackEnabled(e,t))),[e,t,S]),x=(0,p().tz)(),w=(0,r().IS)((()=>({topBar:{top:h?36:18,insetInlineStart:h?0:18,display:"flex",alignItems:"center",position:o?"relative":"absolute",zIndex:2,justifyContent:"space-between",width:h?"100%":"calc(100% - 18px)"},topBarLeft:{display:"flex",alignItems:"center",gap:4,...h&&{position:"relative",top:-18,insetInlineStart:18}},previousStageButton:{height:36,width:36,display:"flex",alignItems:"center",verticalAlign:"middle",color:I?g().Tj.icon.tertiary:g().Tj.icon.secondary,borderRadius:"50%",cursor:I?"not-allowed":"pointer"},skipButton:{marginTop:0,marginInlineEnd:36,display:"flex",alignItems:"center",justifyContent:"center"}})),[h,I,o]),_=!a().A.isMobile&&e.isFirstTimeOnboarding,A=(0,i().K8)((()=>{var o;return Boolean(null==S||null===(o=S.shouldHideBackButton)||void 0===o?void 0:o.call(S,t,e))}),[t,S,e]),j=(0,i().K8)((()=>{var o;return null==S||null===(o=S.shouldShowSkipButton)||void 0===o?void 0:o.call(S,e,t)}),[S,e,t]),k=(null==S?void 0:S.shouldShowDesktopSkipButtonInTopBar)??!1;return(0,y.jsxs)("div",{style:w.topBar,children:[(0,y.jsxs)("div",{style:w.topBarLeft,children:[A?void 0:(0,y.jsx)(l().p,{disabled:I,style:w.previousStageButton,"aria-label":x.formatMessage({id:"contextualizedOnboarding.backButton.ariaLabel",defaultMessage:"Go back to previous step"}),onClick:()=>{var o,a;null!==(o=S.shouldDisableDefaultOnBack)&&void 0!==o&&o.call(S,t,e)?null===(a=S.onBack)||void 0===a||a.call(S,t,e):(0,m().handleDesktopBackButtonClick)({environment:t,currentStage:S,onboardingState:e})},children:(0,y.jsx)(d().I,{icon:c().$})}),_?(0,y.jsx)(f().A,{confirm:!0,onChange:e=>(0,b().i)({locale:e,environment:t,origin:S.stageName,intl:x}),origin:S.stageName,currentLocale:s().locale}):void 0]}),j&&k?(0,y.jsxs)(l().p,{style:w.skipButton,colorPalette:"gray",onClick:async()=>await(0,m().skipStage)({environment:t,onboardingState:e}),children:[(0,y.jsx)(p().sA,{defaultMessage:"Skip",id:"contextualizedOnboarding.skipButton.label"}),(0,y.jsx)("span",{style:{marginInlineStart:4},children:(0,y.jsx)(d().I,{icon:u().arrowChevronSingleRightFillSmallIcon,size:"xs"})})]}):void 0]})}},322114:(e,t,o)=>{o.d(t,{A:()=>P,c:()=>z});var a=o(296540),n=()=>o(664594),i=()=>o(717137),r=()=>o(314709),s=()=>o(484714),d=()=>o(590526),l=()=>o(757695),c=()=>o(483226),u=()=>o(31511),p=()=>o(546926),g=()=>o(406094),f=()=>o(160432),b=()=>o(890492),m=()=>o(69708),v=()=>o(100622),y=()=>o(534177),S=()=>o(284371),h=()=>o(31790),I=()=>o(701763),x=()=>o(140612),w=()=>o(769864),_=()=>o(251126),A=o(474848);const j={marginBottom:10},k={...j,width:"100%",height:"100%",padding:10,alignItems:"top",borderRadius:0},T=(0,m().YK)({requestAccessMessagePlaceholder:{defaultMessage:"Message (optional)",id:"requestAccessForm.messageInput.placeholder"},rateLimitError:{defaultMessage:"You have recently requested access to this page.",id:"requestAccessForm.errorMessage.rateLimit"},currentUserNotFound:{defaultMessage:"Current user not found.",id:"requestAccessForm.errorMessage.currentUserNotFound"}});function C(){return(0,A.jsx)(m().sA,{defaultMessage:"Cancel",id:"requestAccessForm.cancelButton.label"})}const M=l().Store.createClass(0,{name:"RequestAttemptStore"}),R=l().Store.createClass(void 0,{name:"MessageStore"});const P=function(e){const t=(0,s().v3)(),n=(0,s().WS)(),i=(0,d().uB)(e.popupStore,o(118307).A),r=(0,d().uB)(void 0,R),l=(0,d().uB)(void 0,M),c=(0,a.useCallback)((()=>E(i)),[i]),u=(0,a.useCallback)((()=>(0,A.jsx)(B,{...e,requestAttemptStore:l,messageStore:r,buttonPopupStore:i})),[e,l,r,i]),p=(0,d().K8)((()=>l.state>0),[l]),b=(0,d().K8)((()=>i.state.open),[i]);if("current-actor-to-block"===e.type)return(0,A.jsx)(z,{type:"page",block:e.block,flowId:e.flowId,buttonType:e.buttonType});if("current-actor-to-collection"===e.type)return(0,A.jsx)(z,{type:"collection",collection:e.collection,flowId:e.flowId,buttonType:e.buttonType});const v="primary"===e.buttonType?f().A:"plain"===e.buttonType?o(631524).p:g().A,y=n?(0,A.jsx)(o(127833).zD,{popupType:o(30537).n.SlideUp,open:b,render:u}):(0,A.jsx)(o(107975).a,{open:b,onDismiss:c,render:u});return"current-actor-to-space-via-onboarding"===e.type?y:(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(v,{size:"plain"===e.buttonType?"md":"lg",colorPalette:e.buttonType&&["primary","plain"].includes(e.buttonType)?"blue":void 0,disabled:p,onClick:()=>{var o,a;return function(e,t){const{environment:o,flowId:a,type:n,source:i,spaceId:r,pageId:s}=e;"trusted_domain_page"===i&&r&&x().w(o,{spaceId:r,pageId:s,joinSpaceMethod:"request_to_join"});"current-actor-to-block"===n?(0,h().X)(o,{button_name:"request-access",flow_id:a,request_access_type:"page"}):"current-actor-to-space-via-team"===n&&(0,h().X)(o,{button_name:"request-access",flow_id:a,request_access_type:"team"});t.setState({open:!0})}({environment:t,flowId:e.flowId,type:e.type,source:e.source,pageId:null===(o=e.block)||void 0===o?void 0:o.id,spaceId:null===(a=e.block)||void 0===a?void 0:a.spaceId},i)},style:"outline"===e.buttonType?{...e.buttonStyle,fontWeight:S().Wy.semibold}:e.buttonStyle,children:p?(0,A.jsx)(m().sA,{id:"fullPageError.requestAccessButton.requested",defaultMessage:"Requested access"}):(0,A.jsxs)(o(249046).Ye,{gap:4,alignItems:"center",justifyContent:"center",children:[e.icon,F(e.type)]})}),y]})};function D({result:e}){return e&&e.error?(0,A.jsx)("div",{style:{color:v().IF.redWithAlpha(1),textAlign:"center",width:"100%",marginBottom:16},children:e.error}):null}function N(e){e.update((e=>e+1))}function E(e){return e.setState({open:!1})}function O({error:e,result:t,ready:o,requestAttemptStore:n,messageStore:i,type:r}){const l=(0,m().tz)(),c=(0,s().WS)(),p=(0,a.useCallback)((()=>N(n)),[n]),g=(0,a.useCallback)((e=>function(e,t){t.setState(e.target.value)}(e,i)),[i]),b=(0,d().K8)((()=>Boolean(0===n.state||o&&t&&t.error)),[n,o,t]),v=(0,d().K8)((()=>i.state||""),[i]);return(0,A.jsxs)(A.Fragment,{children:[c?void 0:(0,A.jsx)("div",{style:{fontSize:16,fontWeight:S().Wy.semibold,marginBottom:16},children:F(r)}),(0,A.jsx)(u().A,{format:c?"transparent":void 0,textarea:!0,value:v,onChange:g,disabled:!b,placeholder:l.formatMessage(T.requestAccessMessagePlaceholder),style:{...c?{...k,padding:"16px"}:{...j,marginBottom:16,padding:"8px 12px",alignItems:"flex-start"}}}),c?void 0:(0,A.jsx)(f().A,{colorPalette:"blue",size:"lg",disabled:!b,onClick:p,style:j,children:(0,A.jsx)(m().sA,{defaultMessage:"Send request",id:"requestAccessForm.sendRequestButton.label"})}),(0,A.jsx)(D,{result:t})]})}function B(e){const{requestAttemptStore:t,messageStore:o,buttonPopupStore:l}=e,c=(0,s().v3)(),u=(0,s().WS)(),f=(0,m().tz)(),v=(0,a.useCallback)(((a,n,i)=>(0,A.jsx)(O,{requestAttemptStore:t,messageStore:o,error:a,result:n,ready:i,type:e.type})),[t,o,e.type]),S=(0,n().T)(),h=(0,a.useCallback)((t=>async function(e){const{messageStore:t,buttonPopupStore:o,type:a,teamId:n,requestAttempt:i,environment:s,currentUserId:d,intl:l,flowId:c}=e;if(0===i)return;const u=t.state,p=await async function(){if("current-actor-to-block"===a)return w().callApi({eventName:"requestAccess",environment:s,data:{type:"current-actor-to-block",block:e.block,message:u}});if("current-actor-to-collection"===a)return w().callApi({eventName:"requestAccess",environment:s,data:{type:"current-actor-to-collection",collection:e.collection,message:u}});if("current-actor-to-space-via-team"===a)return w().callApi({eventName:"requestAccess",environment:s,data:{type:"current-actor-to-space-via-team",teamId:n,message:u}});if("current-actor-to-space-via-block"===a){if(!d)return;return w().callApi({eventName:"requestAccess",environment:s,data:{type:"actor-to-space",spaceId:e.block.spaceId,message:u,forActorId:d,attributes:{add_permissions_on_approval:!1,origin_type:"trusted_domain_page"}}})}if("current-actor-to-space-via-onboarding"===a){if(!d)return;return w().callApi({eventName:"requestAccess",environment:s,data:{type:"actor-to-space",spaceId:e.spaceId,message:u,forActorId:d,attributes:{add_permissions_on_approval:!1,origin_type:"onboarding"}}})}}();return p?"success"!==p.type?"UserRateLimitResponse"===(null===(g=p.body)||void 0===g?void 0:g.name)?{error:l.formatMessage(T.rateLimitError)}:{error:(0,r().H)(l,p)}:("current-actor-to-block"===a?I().T_(s,{request_access_type:"page",flow_id:c,requestId:p.data.requestId}):"current-actor-to-space-via-team"===a?I().T_(s,{request_access_type:"team",flow_id:c}):"current-actor-to-space-via-block"===a?I().T_(s,{request_access_type:"space",flow_id:c,source:"trusted_domain_page"}):"current-actor-to-collection"===a?I().T_(s,{request_access_type:"collection",flow_id:c,requestId:p.data.requestId}):"current-actor-to-space-via-onboarding"===a?I().T_(s,{request_access_type:"space",flow_id:c,source:"onboarding"}):(0,y().HB)(a),o.reset(),{value:!0}):{error:l.formatMessage(T.currentUserNotFound)};var g}({...e,requestAttempt:t,environment:c,intl:f,currentUserId:S})),[c,f,e,S]),x=(0,a.useCallback)((()=>N(t)),[t]),j=(0,a.useCallback)((()=>E(l)),[l]),k=(0,d().O$)(t);return u?(0,A.jsx)(b().A,{menuType:p().gu.Modal,whiteBackground:!0,title:F(e.type),left:C(),onClickLeft:j,right:(0,A.jsx)(m().sA,{id:"requestAccessForm.mobileSend.label",defaultMessage:"Send"}),onClickRight:x,children:(0,A.jsx)(i().A,{debugName:"RequestAccessForm",capture:!0,children:(0,A.jsx)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"stretch",alignItems:"stretch",width:"100%",height:"100%"},children:(0,A.jsx)(_().A,{request:k,performRequest:h,render:v})})})}):(0,A.jsx)(i().A,{debugName:"RequestAccessForm",capture:!0,children:(0,A.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-evently",alignItems:"stretch",padding:"20px 28px 24px",width:"340px"},children:[(0,A.jsx)(_().A,{request:k,performRequest:h,render:v}),(0,A.jsx)(g().A,{size:"lg",onClick:j,children:C()})]})})}function z(e){const{type:t,flowId:o,buttonType:n,labelMessage:i}=e,r=(0,s().v3)(),l="outline"===n?g().A:f().A,[u,p]=(0,a.useState)(!1),[b,v]=(0,a.useState)(!1),S=e.customIsAccessRequestPending??u,h=e.customSetIsAccessRequestPending??p,x={attributes:{add_permissions_on_approval:!1,role:(0,d().K8)((()=>(0,c().dL)()),[])?"reader":"read_and_write"},message:void 0};let _;"page"===t?_={...x,type:"current-actor-to-block",block:{id:e.block.id,spaceId:e.block.spaceId}}:"collection"===t?_={...x,type:"current-actor-to-collection",collection:{id:e.collection.id,spaceId:e.collection.spaceId}}:(0,y().HB)(t);const j=(0,a.useCallback)((async()=>{var e;const a=await w().callApi({eventName:"requestAccess",environment:r,data:_});"success"===a.type&&a.data.request?(h(!0),I().T_(r,{request_access_type:t,previous_access_level:"none",requested_access_level:"read_and_write",flow_id:o,requestId:a.data.requestId})):"failed"===a.type&&"UserRateLimitResponse"===(null===(e=a.body)||void 0===e?void 0:e.name)&&v(!0)}),[r,_,h,t,o]);return(0,A.jsx)(l,{size:"lg",colorPalette:"outline"===n?void 0:"blue",disabled:S||b,disabledFeedback:S||b,onClick:j,style:e.buttonStyle,children:S?(0,A.jsx)(m().sA,{id:"fullPageError.requestAccessButton.edit.Requested",defaultMessage:"Requested access"}):b?(0,A.jsx)(m().sA,{id:"fullPageError.requestAccessButton.edit.TryAgain",defaultMessage:"Try again later"}):i?(0,A.jsx)(m().sA,{...i}):F("page"===t?"current-actor-to-block":"current-actor-to-collection")})}function F(e){return"current-actor-to-space-via-block"===e||"current-actor-to-space-via-onboarding"===e?(0,A.jsx)(m().sA,{defaultMessage:"Request membership",id:"requestAccessForm.requestAccessToSpaceButton.title"}):(0,A.jsx)(m().sA,{defaultMessage:"Request access",id:"requestAccessForm.requestAccessButton.title"})}},322920:(e,t,o)=>{o.r(t),o.d(t,{getContextualizedOnboardingFlowName:()=>s,getMobileTutorialStages:()=>d});var a=()=>o(726637),n=()=>o(820103),i=()=>o(47373),r=()=>o(757156);async function s(e,t){for(const o of n().uL){const n=r().onboardingFlowNameToFlowConfig[o],{isEnabledForMobile:i,isEnabledForDesktop:s}=n;if((a().A.isMobile&&i||!a().A.isMobile&&s)&&await n.shouldShowFlowToUser(e,t))return o}return n().JT}function d(e){switch((0,i().DV)({environment:e})){case"v1":return["mobile_onboarding_home","mobile_onboarding_creation","mobile_onboarding_share","mobile_onboarding_multi_platform"];case"v2":return["mobile_onboarding_home","mobile_onboarding_creation","mobile_onboarding_share"];case"v3":return["mobile_onboarding_skill_mab","mobile_onboarding_skill_filing","mobile_onboarding_skill_swipe"];default:return["mobile_onboarding_editor","mobile_onboarding_sidebar","mobile_onboarding_desktop","mobile_onboarding_web_clipper","mobile_onboarding_app_download"]}}},350362:(e,t,o)=>{o.r(t),o.d(t,{contextualizedOnboardingStageByStageName:()=>ws});var a=o(296540),n=()=>o(907258),i=()=>o(242422),r=()=>o(285518),s=()=>o(687601),d=(o(16280),o(581454),()=>o(564884)),l=()=>o(484714),c=()=>o(590526),u=()=>o(401497),p=()=>o(807449),g=()=>o(631524),f=()=>o(160432),b=()=>o(493552),m=()=>o(148307),v=()=>o(529099),y=()=>o(68913),S=()=>o(425940),h=()=>o(120282),I=()=>o(864896),x=()=>o(42583),w=()=>o(425946),_=()=>o(449412),A=()=>o(69708),j=()=>o(100622),k=()=>o(319625),T=()=>o(796756),C=()=>o(478184),M=()=>o(645200),R=()=>o(964556),P=()=>o(768345),D=()=>o(480599),N=()=>o(383289),E=()=>o(272006),O=()=>o(235921),B=o(474848);const z=(0,A().YK)({accessFromNotion:{id:"onboardingCalendarSignup.accessFromNotion",defaultMessage:"Access your schedule from anywhere in Notion"},manageTasks:{id:"onboardingCalendarSignup.manageTasks",defaultMessage:"Manage Notion tasks and projects in Calendar"},transcribeMeetings:{id:"onboardingCalendarSignup.transcribeMeetings",defaultMessage:"Transcribe and summarize conversations with AI"},prepareNotes:{id:"onboardingCalendarSignup.workUserExperiment.prepareNotes",defaultMessage:"Prepare notes for upcoming meetings"},joinAndTranscribe:{id:"onboardingCalendarSignup.workUserExperiment.joinAndTranscribe",defaultMessage:"Join and transcribe meetings with one click"},shareNotes:{id:"onboardingCalendarSignup.workUserExperiment.shareNotes",defaultMessage:"Share notes and action items with participants"}}),F=["accessFromNotion","manageTasks","transcribeMeetings"],W=["prepareNotes","joinAndTranscribe","shareNotes"];function U(e){const{isWorkUserExperimentVariant:t=!1}=e,r=(0,A().tz)(),s=(0,l().v3)(),U=(0,o(470785).A)("(min-width: 1080px)"),L=(0,c().K8)((()=>{var e;return!t&&(!!U&&("team"!==(null===(e=O().A.state.planTypeAndSurveyInfo)||void 0===e?void 0:e.planType)&&"control"===i().default.getEligibleGroup({experimentId:"calendar_onboarding_hide_upsell_media_personal_school",defaultGroup:"control"})))}),[t,U]),[V,Q]=(0,a.useState)(Object.fromEntries(F.map((e=>[e,!1])))),{benefitList:K,setCalendarStageBenefitPresented:G,calendarStageBenefitPresented:H,benefitDefinitions:Z}=function(e){const t=(0,l().v3)(),o=(0,c().K8)((()=>{const e=i().default.getEligibleGroup({experimentId:"calendar_onboarding_default_benefit",defaultGroup:"accessFromNotion"});return"control"===e?"accessFromNotion":e}),[]),[n,r]=(0,a.useState)(o),s=(0,u().eP)(),p=m().A.images.connectedApps.onboarding[s],g={accessFromNotion:{icon:x().D,text:z.accessFromNotion,asset:(0,C().L)(p.calendarUpcomingEvents["3XWebp"]),srcSet:(0,C().j)(p.calendarUpcomingEvents)},manageTasks:{icon:S().a,text:z.manageTasks,asset:(0,C().L)(p.calendarDayGrid["3XWebp"]),srcSet:(0,C().j)(p.calendarDayGrid)},transcribeMeetings:{icon:v().aiFaceIcon,text:z.transcribeMeetings,asset:(0,C().L)(p.calendarMeetingNote["3XWebp"]),srcSet:(0,C().j)(p.calendarMeetingNote)},prepareNotes:{icon:h().a,text:z.prepareNotes,asset:w().M,srcSet:void 0},joinAndTranscribe:{icon:y().alarmIcon,text:z.joinAndTranscribe,asset:w().M,srcSet:void 0},shareNotes:{icon:I().Y,text:z.shareNotes,asset:w().M,srcSet:void 0}};return{benefitDefinitions:g,benefitList:(e?W:F).map((e=>({...g[e],key:e}))),setCalendarStageBenefitPresented:function(e){r(e),"accessFromNotion"!==e&&"manageTasks"!==e&&"transcribeMeetings"!==e||(0,d().u)({environment:t,event:{eventName:"calendar_onboarding_benefit_hover",eventProperties:{benefit_key:e}}})},calendarStageBenefitPresented:n}}(t),q=(0,u().IS)((()=>({container:{display:"flex",flexDirection:"row",alignItems:"center",gap:100},leftContainer:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:32,flexBasis:"100%",flexGrow:1,flexShrink:1},leftContainerContent:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:32,width:450},rightContainer:{flexBasis:"100%",flexGrow:1,flexShrink:1,gap:32,height:0,position:"relative",width:502},image:{width:502,inset:0,margin:"auto",position:"absolute"},headerContainer:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:4,alignSelf:"stretch",...t&&{width:375}},logo:{width:48,height:48,aspectRatio:1,marginBottom:16},benefitListContainer:{display:"flex",flexDirection:"column",width:"100%",alignItems:"flex-start",gap:12,borderRadius:12,...L&&{padding:6,background:j().Tj.background.tertiaryTranslucent,gap:2},...t&&{padding:20,background:j().Tj.background.primary,border:`1px solid ${j().Tj.border.secondary}`,gap:16}},benefitListItem:{display:"flex",flexDirection:"row",alignItems:"flex-start",gap:8,flexShrink:0,alignSelf:"stretch",borderRadius:8,...L&&{padding:10,cursor:"pointer",border:"1px solid transparent"}},benefitListSelectedItem:L?{background:j().Tj.background.elevated,boxShadow:j().Tj.shadowSM}:{},ctaContainer:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:8,width:"100%"},continueButton:{display:"flex",height:34,width:"100%",padding:"8px 12px",justifyContent:"center",alignItems:"center",gap:6,alignSelf:"stretch"},skipButton:{display:"flex",height:34,width:"100%",padding:"8px 12px",justifyContent:"center",alignItems:"center",gap:6,alignSelf:"stretch"}})),[L,t]),J=V[H]?w().M:Z[H].asset,$=V[H]?void 0:Z[H].srcSet;return(0,B.jsxs)("div",{style:q.container,children:[(0,B.jsx)("div",{style:q.leftContainer,children:(0,B.jsxs)("div",{style:q.leftContainerContent,children:[(0,B.jsxs)("div",{style:q.headerContainer,children:[(0,B.jsx)("img",{src:m().A.images.externalIntegrations.notionCalendarIconPng,alt:"Calendar",style:q.logo}),(0,B.jsx)(b().D,{styleKey:"titleLgSemibold",colorVariant:"primary",children:t?(0,B.jsx)(A().sA,{defaultMessage:"Unlock perfect meeting memory with AI Meeting Notes",id:"onboardingCalendarSignup.workUserExperiment.title"}):(0,B.jsx)(A().sA,{defaultMessage:"Notion is best paired with Calendar",id:"onboardingCalendarSignup.title"})}),(0,B.jsx)(b().D,{styleKey:"titleLgSemibold",colorPalette:"gray",colorVariant:"tertiary",children:t?(0,B.jsx)(A().sA,{defaultMessage:"Use Notion with Calendar",id:"onboardingCalendarSignup.workUserExperiment.subtitle"}):(0,B.jsx)(A().sA,{defaultMessage:"Bring your work and life together with a seamlessly integrated calendar",id:"onboardingCalendarSignup.subtitle"})})]}),(0,B.jsx)("div",{style:q.benefitListContainer,children:K.map((e=>(0,B.jsxs)("div",{style:e.key===H?{...q.benefitListItem,...q.benefitListSelectedItem}:q.benefitListItem,onMouseEnter:()=>G(e.key),role:"button",tabIndex:0,children:[(0,B.jsx)(p().I,{icon:e.icon,size:20,colorVariant:L?e.key===H?"primary":"secondary":"primary"}),(0,B.jsx)(b().D,{styleKey:"bodyMedium",colorVariant:L?e.key===H?"primary":"secondary":"primary",children:(0,B.jsx)(A().sA,{...e.text})})]},e.key)))}),(0,B.jsxs)("div",{style:q.ctaContainer,children:[(0,B.jsx)(f().A,{colorPalette:"blue",style:q.continueButton,size:"lg",onClick:()=>{!async function(e){var t,o;const a=null===(t=n().default.state.currentUserStore)||void 0===t?void 0:t.getEmail(),i=O().A.state;if(!a)return _().Fg(new Error("No email for calendar signup"),{tags:{source:"notionCalendar.calendarOnboarding"}}),void(await(0,D().goToNextStage)({environment:e,onboardingState:i}));(0,d().u)({environment:e,event:{eventName:"calendar_onboarding_continue_click",eventProperties:{}}});const{sidebarSpaceStore:r,sidebarSpaceViewStore:s}=n().default.state;if((!r||!s||r.id!==i.spaceId)&&i.onboardingData)try{await P().createSpaceAndSetSpaceId({onboardingState:i,environment:e,createTemplates:!1,showLoader:!0})}catch(p){return void P().handleOnboardingError(e,(0,k().A)(p))}const l=await(0,M().II)({environment:e,email:a});if("dismissedDueToCleanup"===l)return;if(!l)return(0,d().u)({environment:e,event:{eventName:"calendar_onboarding_auth_popup_closed",eventProperties:{}}}),void(await(0,D().goToNextStage)({environment:e,onboardingState:i}));try{E().V.setState({...E().V.state,calendarSignupStatus:"initiated"}),T().H1(e,(0,N().getContextualizedOnboardingAnalyticsData)({onboardingState:i,environment:e})),await(0,D().goToNextStage)({environment:e,onboardingState:i})}catch(p){P().handleOnboardingError(e,(0,k().A)(p))}const c=null===(o=n().default.state.sidebarSpaceViewStore)||void 0===o?void 0:o.getSpaceId();if(!c)return void _().Fg(new Error("No spaceId found for calendar signup "),{tags:{source:"notionCalendar.calendarOnboarding"}});const u=await(0,M().Qz)({environment:e,code:l.code,encryptedToken:l.encryptedToken,spaceId:c,from:"coreOnboarding"});if(E().V.setState({...E().V.state,calendarSignupStatus:u.type,calendarBotId:"success"===u.type?u.data.botId:void 0}),"failed"===u.type)return;R().refreshExternalIntegrationStore({environment:e})}(s)},children:(0,B.jsx)(A().sA,{defaultMessage:"Continue",id:"contextualizedOnboarding.continueButton.label"})}),(0,B.jsx)(g().p,{style:q.skipButton,colorPalette:"gray",onClick:()=>{E().V.setState({...E().V.state,calendarDesktopOAuthState:void 0}),(0,D().skipStage)({environment:s,onboardingState:O().A.state})},children:(0,B.jsx)(A().sA,{defaultMessage:"Skip for now",id:"CalendarSignup.skipButton.label"})})]})]})}),L?(0,B.jsx)("div",{style:q.rightContainer,children:(0,B.jsx)("img",{style:q.image,alt:r.formatMessage(Z[H].text),srcSet:$,src:J,onError:()=>Q((e=>({...e,[H]:!0})))})}):void 0]})}const L={stageName:"onboarding_calendar_signup",shouldSkip(e,t,a){var d;const{planTypeAndSurveyInfo:l}=e;if(sessionStorage.getItem("__DEBUG__FORCE_CALENDAR_ONBOARDING_STAGE"))return!1;if(!l)return!0;if(t.device.isElectron){if(!i().default.checkGate({gateName:"calendar_onboarding_stage_for_desktop"}))return!0}return!(!(0,r().R)(n().default.state.currentUserRootStore)||(0,s().up)(o(607859).default.state))||(null===(d=e.onboardingData)||void 0===d||!d.isEligibleForNotionCalendar||"team"===l.planType&&"on"!==i().default.getEligibleGroup({experimentId:"ai_meeting_notes_calendar_work_user_onboarding_stage",defaultGroup:"control",disableExposureLogging:null==a?void 0:a.disableExposureLogging}))},getTitle:()=>null,getSubTitle:()=>null,isContinueEnabled:()=>!0,disableBottomContent:()=>!0,isBackEnabled:()=>!0,renderStage(){var e;const t="team"===(null===(e=O().A.state.planTypeAndSurveyInfo)||void 0===e?void 0:e.planType)&&"on"===i().default.getEligibleGroup({experimentId:"ai_meeting_notes_calendar_work_user_onboarding_stage",defaultGroup:"control",disableExposureLogging:!0});return(0,B.jsx)(U,{isWorkUserExperimentVariant:t})},getDisplayType:()=>"default"};o(898992),o(672577);var V=()=>o(26697),Q=()=>o(299733),K=()=>o(730969),G=()=>o(284371);const H={fontSize:12,color:j().oZ.mediumTextColor,fontWeight:G().Wy.medium,lineHeight:"135%",marginTop:20,marginBottom:4};function Z(e){return(0,u().IS)((()=>({wrapper:{display:"inline-flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",fontSize:14,lineHeight:1.2,border:`1px solid ${j().Tj.border.secondary}`,width:"100%",paddingInlineStart:12,paddingInlineEnd:12,paddingTop:8,paddingBottom:8,height:"auto",marginBottom:12,borderRadius:12,background:e?j().Tj.background.elevated:j().Tj.background.tertiaryTranslucent},workspaceName:{fontWeight:500,fontSize:16,whiteSpace:"normal",overflowWrap:"break-word",color:e?j().Tj.text.primary:j().Tj.text.secondary},textContainer:{display:"flex",flexDirection:"column",justifyContent:"start",marginInlineStart:"10px",maxWidth:"200px"},workspaceInformation:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},content:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%"},card:{display:"flex",flexDirection:"column",justifyContent:"start",width:"100%",alignItems:"center"},memberCountLabel:{color:j().Tj.text.secondary,marginTop:2,fontWeight:400,fontSize:12},sectionLabel:{fontSize:12,color:j().Tj.text.secondary,paddingInlineStart:2,fontWeight:G().Wy.bold,display:"flex",alignItems:"center",gap:4}})),[e])}var q=()=>o(726637),J=()=>o(842599),$=()=>o(382055);const Y=(0,A().YK)({disabledSpaceCreationTooltipWithEmailDomain:{id:"contextualizedOnboarding.createSpaceButton.disabledSpaceCreationTooltipWithEmailDomain",defaultMessage:"Workspace creation has been disabled by your organization, {emailDomain}. Please join an existing workspace."},disabledSpaceCreationTooltip:{id:"contextualizedOnboarding.createSpaceButton.disableSpaceCreationTooltip",defaultMessage:"Workspace creation has been disabled by your organization. Please join an existing workspace."}});function X({onboardingState:e}){const t=(0,A().tz)(),{onboardingData:o,flowName:i,currentStageIndex:s}=e;if(!o)throw new Error("onboardingData is not available");const d=(0,l().v3)(),u=(0,c().K8)((()=>o.userStore.getEmail()),[o.userStore]),p=o.canUserCreateSpace;(0,a.useEffect)((()=>{$().FX(d,{can_user_create_space:p,is_new_user:0===(0,r().R)(n().default.state.currentUserRootStore),has_joinable_spaces:!0,onboarding_stage:(0,N().getStageName)({flowName:i,stageIndex:s,environment:d})})}),[d,p,i,s]);const g=u?(0,J().zN)(u):void 0;return p?(0,B.jsx)(ee,{onboardingState:e,canUserCreateSpace:p}):(0,B.jsx)(V().m,{delayThreshold:0,renderTooltip:()=>g?t.formatMessage(Y.disabledSpaceCreationTooltipWithEmailDomain,{emailDomain:g}):t.formatMessage(Y.disabledSpaceCreationTooltip),render:t=>(0,B.jsx)(ee,{onboardingState:e,canUserCreateSpace:p,tooltipEvents:t})})}function ee(e){const t=(0,l().v3)(),{canUserCreateSpace:o,tooltipEvents:a,onboardingState:n}=e;return(0,B.jsx)(f().A,{colorPalette:"blue",style:{marginTop:4,display:"flex",borderRadius:q().A.isMobile?12:8,fontSize:q().A.isMobile?17:14,height:q().A.isMobile?48:36,fontWeight:G().Wy.semibold,marginBottom:q().A.isMobile?0:24},size:"lg",onClick:async()=>await(0,D().goToNextStage)({environment:t,onboardingState:n}),disabled:!o,...a,children:(0,B.jsx)(A().sA,{defaultMessage:"Create workspace",id:"contextualizedOnboarding.createSpaceButton.label"})})}var te=()=>o(718827),oe=()=>o(96689),ae=()=>o(187820);function ne({result:e,eligible:t,onClick:o}){const a=Z(t);return(0,B.jsx)(te().Ay,{disabled:!t,style:a.wrapper,hoveredStyle:{background:"rgba(55, 53, 47, 0.03)"},pressedStyle:{background:"rgba(55, 53, 47, 0.06)"},onClick:o,children:(0,B.jsx)(ie,{result:e,eligible:t})})}function ie({result:e,eligible:t}){const o=Z(t);return(0,B.jsx)("div",{style:o.card,children:(0,B.jsxs)("div",{style:o.content,children:[(0,B.jsxs)("div",{style:o.workspaceInformation,children:[(0,B.jsx)(ae().B6,{disabled:!0,bucket:"public",icon:se(e),iconRecordCategory:"workspace",isEmptyPage:!1,title:e.name,size:32,style:{borderRadius:6,fontSize:G().J.UISmall.desktop,fontWeight:G().Wy.light},iconBoxStyles:{borderRadius:6},placeholderStyle:{fontWeight:500}}),(0,B.jsxs)("div",{style:o.textContainer,children:[(0,B.jsx)("div",{style:o.workspaceName,children:(0,B.jsx)(A().sA,{defaultMessage:"{workspaceName}",id:"workspaceEligibility.eligibleWorkspaceButton.label",values:{workspaceName:e.name}})}),(0,B.jsx)("div",{style:o.memberCountLabel,children:(0,B.jsx)(A().sA,{defaultMessage:"{memberCount, plural, one {{memberCount} member} other {{memberCount} members}}",id:"workspaceEligibility.eligibleWorkspaceButton.memberCount.label",values:{memberCount:e.totalMemberCount||1}})})]})]}),t?(0,B.jsx)(re,{}):void 0]})})}function re({}){const e=(0,u().IS)((()=>({label:{marginTop:8,marginInlineEnd:8,color:j().Tj.blue.text.accentPrimary}})),[]);return(0,B.jsx)("div",{children:(0,B.jsx)("span",{style:e.label,children:(0,B.jsx)(A().sA,{defaultMessage:"Select",id:"offerEligibilityWorkspaceChoose.selectWorkspaceButton.label"})})})}function se(e){if(e.id&&e.icon)return{pointer:{table:oe().NX,id:e.id},icon:e.icon}}const de={partner_program_onboarding_flow:(0,B.jsx)(A().sA,{defaultMessage:"Your free workspaces with one member only",id:"offerEligibilityWorkspaceChoose.eligibleWorkspaces.helpIcon.description"}),startup_trial_onboarding_flow:(0,B.jsx)(A().sA,{defaultMessage:"Your free workspaces with less than 100 members",id:"offerEligibilityWorkspaceChoose.eligibleWorkspaces.startupTrial.helpIcon.description"})};function le({onboardingState:e}){const{onboardingData:t}=e;if(!t)throw new Error("onboardingData is not available");if(!(0,N().isTrialOnboardingFlowState)(e))throw new Error("Offer eligibility is only for trial onboarding flows");const{eligibleWorkspaces:o,ineligibleWorkspaces:a}=e,n=function(e){return de[e]}(e.flowName);return(0,B.jsxs)("div",{style:{width:406,alignSelf:"center",marginTop:20},children:[(0,B.jsxs)("div",{style:{marginBottom:24},children:[(0,B.jsx)(ce,{workspacesWithEligibility:o,eligible:!0,tooltipMessage:n}),(0,B.jsx)(ce,{workspacesWithEligibility:a,eligible:!1})]}),(0,B.jsx)(X,{onboardingState:e})]})}function ce({workspacesWithEligibility:e,eligible:t,tooltipMessage:o}){const i=Z(t),r=(0,l().v3)(),s=(0,a.useCallback)((async e=>{await async function(e){const{environment:t,spaceId:o}=e;if(!(0,N().isTrialOnboardingFlowState)(O().A.state))throw new Error("Offer eligibility is only for trial onboarding flows");const a=O().A.state;O().A.setState({...a,selectedEligibleWorkspaceId:o});const{currentUserRootStore:i}=n().default.state;if(!i)throw new Error("currentUserRootStore is not available at offer eligibility workspace choose stage");const r=i.getSpaceViewStores().find((e=>{var t;return(null===(t=e.getSpaceStore())||void 0===t?void 0:t.id)===o}));if(!r)throw new Error(`No space view store found for space ID for redeeming offer: ${o}`);await(0,K().y)({environment:t,spaceViewStore:r,isNewlyCreatedSpace:!1,leavingSpace:!1}),await O().A.goToNextStage(t)}({environment:r,spaceId:e})}),[r]);return 0===e.length?null:(0,B.jsxs)("div",{children:[(0,B.jsx)("div",{style:{marginBottom:8},children:(0,B.jsx)("div",{style:i.sectionLabel,children:t?(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(A().sA,{defaultMessage:"Eligible workspaces",id:"offerEligibilityWorkspaceChoose.eligibleWorkspaces.label"}),o?(0,B.jsx)(V().m,{renderTooltip:()=>o,render:e=>(0,B.jsx)("div",{...e,children:(0,B.jsx)(p().I,{icon:Q().questionMarkCircleFillIcon,size:"sm",colorVariant:"secondary"})}),placement:"top",alignment:"center"}):null]}):(0,B.jsx)(A().sA,{defaultMessage:"Ineligible workspaces",id:"offerEligibilityWorkspaceChoose.ineligibleWorkspaces.label"})})}),e.map((e=>(0,B.jsx)(ne,{result:e,eligible:t,onClick:async()=>{await s(e.id)}},e.id)))]})}const ue={stageName:"offer_eligibility_workspace_choose",shouldSkip(e){var t,o;return!(0,N().isTrialOnboardingFlowState)(e)||0===((null===(t=e.eligibleWorkspaces)||void 0===t?void 0:t.length)??0)&&0===((null===(o=e.ineligibleWorkspaces)||void 0===o?void 0:o.length)??0)},getTitle:()=>(0,B.jsx)(A().sA,{defaultMessage:"Select or create a workspace",id:"offerEligibilityWorkspaceChoose.stage.title"}),getSubTitle:e=>"startup_trial_onboarding_flow"===(null==e?void 0:e.flowName)?(0,B.jsx)(A().sA,{defaultMessage:"The trial will be applied to the selected workspace",id:"offerEligibilityWorkspaceChoose.stage.subtitle.trial"}):(0,B.jsx)(A().sA,{defaultMessage:"The offer will be applied to the selected workspace",id:"offerEligibilityWorkspaceChoose.stage.subtitle.offer"}),isContinueEnabled:()=>!0,isBackEnabled:()=>!0,getStageStyles:()=>({flexDirection:"column",marginTop:100,justifyContent:"start"}),renderStage:e=>(0,B.jsx)(le,{onboardingState:e}),onContinue(e,t){if(!(0,N().isTrialOnboardingFlowState)(t))throw new Error("Offer eligibility is only for trial onboarding flows");const o={...t,selectedEligibleWorkspaceId:void 0};O().A.setState(o),T().Fv(e,(0,N().getContextualizedOnboardingAnalyticsData)({onboardingState:o,environment:e,spaceJoinOrCreate:"create"}))},getAlignment:()=>"center",headerStyles:{textAlign:"center"},getDesktopContinueButtonOverride:()=>(0,B.jsx)("div",{}),getDisplayType:()=>"default"};var pe=()=>o(250359);const ge=(0,A().YK)({firefighterAccessory:{id:"onboarding.agentPersonalization.firefighterAccessory",defaultMessage:"Firefighter hat accessory"},mustacheAccessory:{id:"onboarding.agentPersonalization.mustacheAccessory",defaultMessage:"Mustache accessory"},scarfAccessory:{id:"onboarding.agentPersonalization.scarfAccessory",defaultMessage:"Scarf accessory"},flowerAccessory:{id:"onboarding.agentPersonalization.flowerAccessory",defaultMessage:"Flower accessory"},pencilAccessory:{id:"onboarding.agentPersonalization.pencilAccessory",defaultMessage:"Pencil accessory"},duckAccessory:{id:"onboarding.agentPersonalization.duckAccessory",defaultMessage:"Duck accessory"},paprikaAccessory:{id:"onboarding.agentPersonalization.paprikaAccessory",defaultMessage:"Paprika accessory"},catAccessory:{id:"onboarding.agentPersonalization.catAccessory",defaultMessage:"Cat accessory"},crownAccessory:{id:"onboarding.agentPersonalization.crownAccessory",defaultMessage:"Crown accessory"},cherryAccessory:{id:"onboarding.agentPersonalization.cherryAccessory",defaultMessage:"Cherry accessory"},leafAccessory:{id:"onboarding.agentPersonalization.leafAccessory",defaultMessage:"Leaf accessory"},magicianAccessory:{id:"onboarding.agentPersonalization.magicianAccessory",defaultMessage:"Magician accessory"},bowAccessory:{id:"onboarding.agentPersonalization.bowAccessory",defaultMessage:"Bow accessory"},cowboyAccessory:{id:"onboarding.agentPersonalization.cowboyAccessory",defaultMessage:"Cowboy hat accessory"},propellerAccessory:{id:"onboarding.agentPersonalization.propellerAccessory",defaultMessage:"Propeller accessory"},previousAccessory:{id:"onboarding.agentPersonalization.previousAccessory",defaultMessage:"Previous accessory"},nextAccessory:{id:"onboarding.agentPersonalization.nextAccessory",defaultMessage:"Next accessory"}});function fe(){const e=(0,l().v3)(),t=(0,A().tz)(),n=(0,a.useMemo)((()=>[null,{id:"firefighter",image:o(478166),alt:t.formatMessage(ge.firefighterAccessory)},{id:"mustache",image:o(414561),alt:t.formatMessage(ge.mustacheAccessory)},{id:"scarf",image:o(234794),alt:t.formatMessage(ge.scarfAccessory)},{id:"flower",image:o(648614),alt:t.formatMessage(ge.flowerAccessory)},{id:"pencil",image:o(426220),alt:t.formatMessage(ge.pencilAccessory)},{id:"duck",image:o(243936),alt:t.formatMessage(ge.duckAccessory)},{id:"paprika",image:o(13829),alt:t.formatMessage(ge.paprikaAccessory)},{id:"cat",image:o(838873),alt:t.formatMessage(ge.catAccessory)},{id:"crown",image:o(884680),alt:t.formatMessage(ge.crownAccessory)},{id:"cherry",image:o(915060),alt:t.formatMessage(ge.cherryAccessory)},{id:"leaf",image:o(866779),alt:t.formatMessage(ge.leafAccessory)},{id:"magician",image:o(83856),alt:t.formatMessage(ge.magicianAccessory)},{id:"bow",image:o(603981),alt:t.formatMessage(ge.bowAccessory)},{id:"cowboy",image:o(466466),alt:t.formatMessage(ge.cowboyAccessory)},{id:"propeller",image:o(460844),alt:t.formatMessage(ge.propellerAccessory)}]),[t]),i=(0,c().K8)((()=>O().A.state.selectedAgentAccessory),[]);(0,a.useEffect)((()=>{void 0===O().A.state.selectedAgentAccessory&&O().A.update((e=>({...e,selectedAgentAccessory:"duck"})))}),[]);const r=i?n.findIndex((e=>(null==e?void 0:e.id)===i)):0,[s,f]=(0,a.useState)(null),b=(0,a.useCallback)((t=>{if((0,d().u)({environment:e,event:{eventName:"onboarding_agent_accessory_selected",eventProperties:{previous_accessory:i||"none",new_accessory:t||"none"}}}),!t||i===t)return f("left"),void O().A.update((e=>({...e,selectedAgentAccessory:null})));const o=n.findIndex((e=>(null==e?void 0:e.id)===t));f(o>r?"right":"left"),O().A.update((e=>({...e,selectedAgentAccessory:t})))}),[n,e,i,r]),m=(0,a.useCallback)((()=>{var e;r>0&&(f("left"),b((null===(e=n[r-1])||void 0===e?void 0:e.id)??null))}),[n,b,r]),v=(0,a.useCallback)((()=>{var e;r>=0&&r<n.length-1&&(f("right"),b((null===(e=n[r+1])||void 0===e?void 0:e.id)??null))}),[n,b,r]),y=(0,a.useCallback)((e=>{e.target&&e.target instanceof HTMLInputElement||("ArrowLeft"===e.key?(e.preventDefault(),m()):"ArrowRight"===e.key&&(e.preventDefault(),v()))}),[m,v]);(0,a.useEffect)((()=>(document.addEventListener("keydown",y),()=>{document.removeEventListener("keydown",y)})),[y]);const S=(0,u().IS)((()=>({container:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",paddingTop:32,paddingInlineStart:24,paddingInlineEnd:24,width:"100%",maxWidth:640,marginInline:"auto"},contentContainer:{display:"flex",alignItems:"center",justifyContent:"center",marginBlockEnd:40,position:"relative"},faceContainer:{userSelect:"none",width:120,height:100,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,position:"relative",overflow:"hidden",maskImage:"linear-gradient(\n\t\t\t\t\tto right,\n\t\t\t\t\ttransparent 0px,\n\t\t\t\t\tblack 24px,\n\t\t\t\t\tblack 96px,\n\t\t\t\t\ttransparent 120px\n\t\t\t\t)",maskSize:"120px 100%",maskRepeat:"no-repeat",WebkitMaskImage:"linear-gradient(\n\t\t\t\t\tto right,\n\t\t\t\t\ttransparent 0px,\n\t\t\t\t\tblack 24px,\n\t\t\t\t\tblack 96px,\n\t\t\t\t\ttransparent 120px\n\t\t\t\t)",WebkitMaskSize:"120px 100%",WebkitMaskRepeat:"no-repeat"},navButton:{width:40,height:40,borderRadius:"50%",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"background-color 0.2s ease",color:j().Tj.text.primary,position:"relative",zIndex:2},navButtonDisabled:{opacity:.3,backgroundColor:void 0,cursor:"not-allowed"},accessoryGrid:{display:"grid",gridTemplateColumns:"repeat(8, 1fr)",gap:8,marginBlockEnd:40,width:"100%",maxWidth:600},accessoryButton:{width:64,height:54,borderRadius:8,boxShadow:`inset 0 0 0 1px ${j().Tj.border.secondary}`,background:j().Tj.background.elevated,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease",outline:"none",paddingInline:4},accessoryButtonSelected:{boxShadow:`inset 0 0 0 2px ${j().Tj.blue.border.accentPrimary}`},accessoryImage:{width:"100%",height:"100%",objectFit:"contain"},noAccessory:{display:"flex",alignItems:"center",justifyContent:"center",paddingInline:4,color:j().Tj.text.tertiary,fontSize:12,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"100%"}})),[]),h=r<=0,I=-1===r||r===n.length-1;return(0,B.jsxs)("div",{style:S.container,children:[(0,B.jsxs)("div",{style:S.contentContainer,children:[(0,B.jsx)(g().p,{style:{...S.navButton,...h?S.navButtonDisabled:{}},onClick:m,disabled:h,"aria-label":t.formatMessage(ge.previousAccessory),children:(0,B.jsx)(p().I,{icon:o(20508).v,size:"sm"})}),(0,B.jsx)("div",{style:S.faceContainer,children:(0,B.jsx)(pe()._,{accessory:i,variant:"large",animationDirection:s,onAnimationComplete:()=>f(null)})}),(0,B.jsx)(g().p,{style:{...S.navButton,...I?S.navButtonDisabled:{}},onClick:v,disabled:I,"aria-label":t.formatMessage(ge.nextAccessory),children:(0,B.jsx)(p().I,{icon:o(158115).arrowChevronSingleRightFillSmallIcon,size:"sm"})})]}),(0,B.jsx)("div",{style:S.accessoryGrid,children:n.map((e=>{if(!e){const e=!i;return(0,B.jsx)(g().p,{style:{...S.accessoryButton,...e?S.accessoryButtonSelected:{}},onClick:()=>b(null),children:(0,B.jsx)("div",{style:S.noAccessory,children:(0,B.jsx)(A().sA,{id:"onboarding.agentPersonalization.noAccessory",defaultMessage:"None"})})},"null")}const t=i===e.id;return(0,B.jsx)(g().p,{style:{...S.accessoryButton,...t?S.accessoryButtonSelected:{}},onClick:()=>b(e.id),"aria-label":e.alt,children:(0,B.jsx)("img",{src:e.image,alt:e.alt,style:S.accessoryImage})},e.id)}))})]})}const be={stageName:"onboarding_agent_personalization_after_use_cases",shouldSkip(e,t,o){var a,n;const r=null===(a=e.planTypeAndSurveyInfo)||void 0===a?void 0:a.planType,s=null===(n=e.planTypeAndSurveyInfo)||void 0===n||null===(n=n.surveyResponses)||void 0===n?void 0:n.useCases;return"default"!==e.flowName||!e.isFirstTimeOnboarding||"team"!==r||!(null!=s&&s.includes("ai"))||"control"===i().default.getEligibleGroup({experimentId:"onboarding_agent_personalization_for_work_users_selecting_ai_use_case",defaultGroup:"control",disableExposureLogging:null==o?void 0:o.disableExposureLogging})},getTitle:()=>(0,B.jsx)(A().sA,{defaultMessage:"Personalize your Notion AI",id:"onboarding.agentPersonalization.stageTitle"}),getSubTitle:()=>(0,B.jsx)(A().sA,{defaultMessage:"Give your built-in AI teammate some personality",id:"onboarding.agentPersonalization.stageSubTitle"}),isContinueEnabled:()=>!0,isBackEnabled:()=>!0,renderStage:()=>(0,B.jsx)(fe,{}),getAlignment:()=>"center",getDisplayType:()=>"default"},me={stageName:"onboarding_agent_personalization_for_work_users_at_end_of_onboarding",shouldSkip(e,t,o){var a;const n=null===(a=e.planTypeAndSurveyInfo)||void 0===a?void 0:a.planType;return"default"!==e.flowName||!e.isFirstTimeOnboarding||"team"!==n||"control"===i().default.getEligibleGroup({experimentId:"onboarding_agent_personalization_for_work_users_at_end_of_onboarding",defaultGroup:"control",enableEventTrailLogging:!0,disableExposureLogging:null==o?void 0:o.disableExposureLogging})},getTitle:()=>(0,B.jsx)(A().sA,{defaultMessage:"Personalize your Notion AI",id:"onboarding.agentPersonalization.stageTitle"}),getSubTitle:()=>(0,B.jsx)(A().sA,{defaultMessage:"Give your built-in AI teammate some personality",id:"onboarding.agentPersonalization.stageSubTitle"}),isContinueEnabled:()=>!0,isBackEnabled:()=>!0,renderStage:()=>(0,B.jsx)(fe,{}),getAlignment:()=>"center",getDisplayType:()=>"default"};var ve=()=>o(609679),ye=()=>o(47373),Se=()=>o(807778),he=(o(517642),o(658004),o(733853),o(845876),o(432475),o(515024),o(731698),o(354520),()=>o(406094)),Ie=()=>o(302501),xe=()=>o(582676),we=()=>o(872931),_e=()=>o(854672),Ae=()=>o(714309);function je(){const e=(0,c().O$)(O().A);return(0,B.jsx)(Ce,{onboardingState:e})}function ke(){const e=(0,c().O$)(O().A);return(0,B.jsx)(Ce,{onboardingState:e})}function Te({onboardingState:e}){const t=(0,l().v3)();return(0,B.jsx)(g().p,{size:"lg",onClick:async()=>await async function(e,t){var o;const{userPersona:a,userRole:n,useCases:i}=(null===(o=e.planTypeAndSurveyInfo)||void 0===o?void 0:o.surveyResponses)??{};await(0,D().skipStage)({environment:t,onboardingState:e,skipStageAnalytic:()=>{var o;T().jS(t,{selection:{userPersona:a,userRole:n,useCases:i??[]},action:"skip",plan_selection:null===(o=e.planTypeAndSurveyInfo)||void 0===o?void 0:o.planType,...(0,N().getContextualizedOnboardingAnalyticsData)({onboardingState:e,environment:t})})}})}(e,t),style:{width:"100%",justifyContent:"center",color:j().Tj.text.tertiary,marginTop:8,height:q().A.isMobile?44:32},children:(0,B.jsx)(A().sA,{defaultMessage:"Skip for now",id:"onboardingSurvey.cancelButton.labelV2"})})}function Ce(e){var t,o;const{onboardingState:a}=e,n=(0,l().v3)(),i=(0,xe().Nx)(n.currentUser.id),r=null===(t=a.planTypeAndSurveyInfo)||void 0===t?void 0:t.planType,s=null===(o=a.planTypeAndSurveyInfo)||void 0===o||null===(o=o.surveyResponses)||void 0===o?void 0:o.categories,d=("school"===r?Object.entries(Ae().a):Object.entries(Ae().O)).sort((()=>i()-.5)),c="school"===r?(s??[]).filter((e=>we().gb.includes(e))).length:(s??[]).filter((e=>we()._N.includes(e))).length;return q().A.isMobile?(0,B.jsx)("div",{style:{marginBottom:32,marginTop:12},children:(0,B.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)"},children:d.map((([e,t])=>(0,B.jsx)(Re,{iconName:t.iconName,onboardingState:a,title:t.title,categoryName:e},e)))})}):(0,B.jsx)("div",{style:{display:"flex"},children:(0,B.jsxs)("div",{style:{width:406,alignSelf:"center"},children:[(0,B.jsx)(Ie().A,{style:{fontSize:12,fontWeight:G().Wy.semibold,color:"#888783"},children:(0,B.jsx)(A().sA,{defaultMessage:"{selected_number} selected",id:"onboardingSurvey.categoryPicker.selected.label",values:{selected_number:c}})}),(0,B.jsx)("div",{style:{display:"flex",flexWrap:"wrap",boxSizing:"border-box"},children:d.map((([e,t])=>(0,B.jsx)(Re,{iconName:t.iconName,onboardingState:a,title:t.title,categoryName:e},e)))})]})})}function Me(){const e=function(){const e=(0,c().K8)((()=>"control"!==(0,N().getIsReimaginedOnboardingExperimentGroup)(O().A.state)),[]);return(0,u().IS)((()=>({rightFigureStyle:{justifyContent:"flex-end",alignItems:"flex-end",display:"flex",background:e?void 0:j().Tj.background.secondary,position:"absolute",bottom:0},titleStyle:{color:j().Tj.text.primary,fontSize:22,fontWeight:G().Wy.semibold,marginInlineStart:8,textAlign:"start"},subtitleStyle:{padding:0,margin:0,fontSize:22,fontWeight:G().Wy.semibold,marginInlineStart:8,marginBottom:30,textAlign:"start",color:j().Tj.text.primary},largeWindowStyle:{height:"85%",width:"auto",objectFit:"cover",objectPosition:"left",maxHeight:"100%",maxWidth:"100%",overflow:"hidden"},smallerWindowStyle:{maxHeight:"85%",maxWidth:"85%"}})),[e])}(),t=window.innerWidth>1600,o="dark"===(0,u().eP)();return(0,B.jsx)("div",{style:e.rightFigureStyle,children:(0,B.jsx)("img",{src:t?o?m().A.images.onboarding.categoryPickerLargeDarkmodePng:m().A.images.onboarding.categoryPickerLargeLightmodePng:m().A.images.onboarding.categoryPickerSmallPng,style:t?e.largeWindowStyle:e.smallerWindowStyle})})}function Re(e){var t;const{categoryName:o,iconName:a,onboardingState:n,title:i}=e,r=(0,l().v3)(),s=(0,c().K8)((()=>{var e;const{categories:t}=(null===(e=n.planTypeAndSurveyInfo)||void 0===e?void 0:e.surveyResponses)??{};return(t??[]).includes(o)}),[o,null===(t=n.planTypeAndSurveyInfo)||void 0===t?void 0:t.surveyResponses]),d=`/icons/${a}_${s?"gray":"lightgray"}.svg`,p=function(e){return(0,u().IS)((()=>({icon:{marginInlineEnd:8,color:e?j().Tj.icon.primary:j().Tj.icon.secondary,...q().A.isMobile&&{position:"absolute",insetInlineStart:16,top:16,margin:0}},button:{height:q().A.isMobile?104:40,borderRadius:q().A.isMobile?12:8,marginTop:6,marginInlineEnd:8,marginBottom:6,marginInlineStart:0,borderColor:j().Tj.border.primary,color:j().Tj.text.secondary,paddingInlineStart:12,paddingInlineEnd:16,...e&&{color:j().Tj.text.primary,background:j().Tj.background.elevated,borderColor:j().Tj.blue.border.accentPrimary,outline:`1px solid ${j().Tj.blue.border.accentPrimary}`},...q().A.isMobile&&{position:"relative",margin:8}},categoryTitle:{...q().A.isMobile&&{position:"absolute",bottom:12,insetInlineStart:16,overflowWrap:"break-word",whiteSpace:"normal",fontSize:16,fontWeight:G().Wy.regular,color:e?j().Tj.text.primary:j().Tj.text.secondary,width:"calc(100% - 24px)"}}})),[e])}(s);return(0,B.jsxs)(he().A,{size:"lg",style:p.button,onClick:()=>function(e,t,o){var a,n;const{categories:i}=(null===(a=t.planTypeAndSurveyInfo)||void 0===a?void 0:a.surveyResponses)??{},r=new Set(i??[]);r.has(o)?r.delete(o):r.add(o),O().A.setState({...t,planTypeAndSurveyInfo:{...t.planTypeAndSurveyInfo,surveyResponses:{...null===(n=t.planTypeAndSurveyInfo)||void 0===n?void 0:n.surveyResponses,categories:Array.from(r)}}}),T().JE(e,{...(0,N().getContextualizedOnboardingAnalyticsData)({onboardingState:t,environment:e}),categories:Array.from(r)})}(r,n,o),children:[(0,B.jsx)(_e().A,{type:"notion_icon",size:24,icon:d,largeIcon:!0,style:p.icon}),(0,B.jsx)("div",{style:p.categoryTitle,children:i})]})}var Pe=()=>o(496603),De=()=>o(467041),Ne=()=>o(913454);const Ee=(0,A().YK)({spaceNamePlaceHolder:{defaultMessage:"Acme Inc.",id:"workspaceIconAndNamePreview.workspaceName.placeholder"},spaceNameHint:{defaultMessage:"Your workspace",id:"workspaceIconAndNamePreview.workspaceName.placeholderHint"}});function Oe(){const e=(0,A().tz)(),t=(0,c().O$)(O().A),o=t.spaceName,a=t.spaceIcon?{pointer:{table:"space",id:"undefined"},icon:t.spaceIcon}:void 0,n=e.formatMessage(Ee.spaceNamePlaceHolder),i=e.formatMessage(Ee.spaceNameHint),r=(0,u().IS)((()=>({container:{display:"flex",flexDirection:"row",alignItems:"center",paddingInlineStart:4,paddingInlineEnd:4,paddingBottom:4,wordBreak:"break-word",animationName:"fadeIn",animationDuration:"0.7s",animationFillMode:"forwards",animationTimingFunction:"ease-in"},recordIconContainer:{marginInlineEnd:10},recordIconBox:{borderRadius:8,background:j().Tj.background.tertiaryTranslucent},recordIconPlaceholder:{lineHeight:"32px",letterSpacing:.208,color:j().Tj.text.tertiary,height:"auto",fontSize:16,fontWeight:510}})),[]);return(0,B.jsxs)("div",{style:r.container,children:[(0,B.jsx)("div",{style:r.recordIconContainer,children:(0,B.jsx)(ae().B6,{bucket:"public",disabled:!0,icon:a,isEmptyPage:!1,title:t.spaceName||n,size:32,iconLoggingData:{recordTable:"space",source:"workspace_icon_and_name_preview"},iconBoxStyles:r.recordIconBox,placeholderStyle:r.recordIconPlaceholder})}),(0,B.jsx)(Ie().A,{isMultiline:!0,isSecondaryColor:!0,children:o||i})]})}function Be({selectedUseCases:e,selectedWorkflowTemplateIds:t,selectedCategories:o,selectedQuickStartFeatures:a,shouldZoomInOnWorkspaceNameAndIconPreview:n,shouldHideTeamSpacesSection:i,bodyContent:r}){const s=(0,A().tz)(),d=(0,u().IS)((()=>({wrapper:{display:"flex",flex:1,overflow:"hidden",zIndex:2,position:"relative",maxWidth:1100,marginInlineEnd:-8,transition:"transform 0.3s linear",transformOrigin:"top left",...n&&{transform:"scale(1.2)"}},preview:{display:"flex",flex:1,border:`1px solid ${j().Tj.border.primary}`,borderRadius:12,backgroundColor:j().Tj.background.secondary,width:1200,height:600,...n&&{transition:"opacity 0.3s ease-out",opacity:.7}},sidebar:{width:180,height:400,backgroundColor:j().Tj.background.secondary,marginTop:16,padding:8,color:j().Tj.text.secondary},pageContent:{paddingTop:20,paddingInlineEnd:0,paddingBottom:20,paddingInlineStart:20,display:"flex",flexDirection:"column",flex:1,height:"100%",backgroundColor:j().Tj.background.elevated,borderStartStartRadius:0,borderStartEndRadius:12,borderEndEndRadius:12,borderEndStartRadius:0,overflowX:"scroll",overflowY:"hidden",minWidth:"calc(600px - 180px)"}})),[n]);e=e.filter((e=>"ai"!==e));const l=s.formatMessage({id:"onboarding.appPreview.placeholderPrivateSectionName",defaultMessage:"Private"}),c=s.formatMessage({id:"onboarding.appPreview.placeholderTeamspacesSectionName",defaultMessage:"Teamspaces"}),p=[...t??[],...(0,De().getWorkflowTemplatesForUseCases)(e)];return(0,B.jsx)("div",{style:d.wrapper,children:(0,B.jsxs)("div",{style:d.preview,children:[(0,B.jsxs)("div",{style:d.sidebar,children:[n?(0,B.jsx)(Oe,{}):(0,B.jsx)(Le,{numRows:1}),(0,B.jsx)(Le,{numRows:2}),Boolean(i)?null:(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(Ue,{title:c,indentPixels:-8,isSmall:!0,icon:null,shouldZoomInOnWorkspaceNameAndIconPreview:n}),(0,B.jsx)(Le,{numRows:1}),p.length>0?(0,B.jsx)(B.Fragment,{children:p.map((e=>(0,B.jsx)(Fe,{templateId:e,shouldZoomInOnWorkspaceNameAndIconPreview:n},e)))}):(0,B.jsx)(Le,{numRows:2})]}),(0,B.jsx)(Ue,{title:l,indentPixels:-8,isSmall:!0,icon:null,shouldZoomInOnWorkspaceNameAndIconPreview:n}),a&&a.length>0?(0,B.jsx)(B.Fragment,{children:a.map((e=>(0,B.jsx)(We,{feature:e,intl:s,shouldZoomInOnWorkspaceNameAndIconPreview:n},e)))}):(0,B.jsx)(Le,{numRows:1}),(0,B.jsx)(ze,{selectedCategories:o}),(0,B.jsx)(Le,{numRows:2})]}),(0,B.jsx)("div",{style:d.pageContent,children:(0,B.jsx)(Ve,{children:r})})]})})}function ze(e){const{selectedCategories:t}=e,o=(0,c().K8)((()=>{var e;return null===(e=O().A.state.planTypeAndSurveyInfo)||void 0===e?void 0:e.planType}),[]);return(0,B.jsx)(B.Fragment,{children:t.map((e=>{const t="school"===o?Pe().Jt(Ae().a,e):"personal"===o?Pe().Jt(Ae().O,e):void 0;if(!t)return;const a=`/icons/${t.iconName}_gray.svg`;return(0,B.jsx)(Ue,{title:t.title,iconPath:a,icon:(0,B.jsx)("img",{src:a,alt:"icon"}),indentPixels:8,shouldFadeInRow:!0,useImageBox:!0},e)}))})}function Fe({templateId:e,shouldZoomInOnWorkspaceNameAndIconPreview:t}){const o=(0,c().K8)((()=>{var t;return null===(t=Ne().globalWorkflowTemplates.fromIdOfType({type:"collection",templateId:e}))||void 0===t||null===(t=t.value)||void 0===t?void 0:t.targetCollection}),[e]),a=(0,u().IS)((()=>({icon:{height:15,width:15}})),[]),{icon:n,name:i}=o||{};return(0,B.jsx)(Ue,{icon:(0,B.jsx)("img",{src:n,style:a.icon}),title:i,indentPixels:8,shouldZoomInOnWorkspaceNameAndIconPreview:t,shouldFadeInRow:!0},e)}function We({feature:e,intl:t,shouldZoomInOnWorkspaceNameAndIconPreview:o}){const a=function(e){return{databases:{icon:"ðŸ› ï¸",title:e.formatMessage({id:"onboarding.appPreview.quickStartFeature.databases",defaultMessage:"Databases Demo"})},meeting_notes:{icon:"ðŸ’¬",title:e.formatMessage({id:"onboarding.appPreview.quickStartFeature.meetingNotes",defaultMessage:"Meeting Notes Demo"})},ai_agents:{icon:"ðŸ¤–",title:e.formatMessage({id:"onboarding.appPreview.quickStartFeature.aiAgents",defaultMessage:"Agent Demo"})},enterprise_search:{icon:"ðŸ”",title:e.formatMessage({id:"onboarding.appPreview.quickStartFeature.enterpriseSearch",defaultMessage:"Search Hub Demo"})}}}(t)[e];return(0,B.jsx)(Ue,{icon:(0,B.jsx)("span",{children:a.icon}),title:a.title,shouldZoomInOnWorkspaceNameAndIconPreview:o,shouldFadeInRow:!0},e)}function Ue({icon:e,iconPath:t,title:o,indentPixels:a,isSmall:n,shouldZoomInOnWorkspaceNameAndIconPreview:i,shouldFadeInRow:r,useImageBox:s}){const d=(0,u().IS)((()=>({sidebarRow:{height:30,paddingTop:4,paddingBottom:4,paddingInlineStart:8+(a??0),paddingInlineEnd:8,display:"flex",alignItems:"center",justifyContent:"flex-start",...i&&{opacity:.4,transition:"opacity 1s ease-out"},...r&&{animationName:"fadeIn",animationDuration:"0.3s",animationFillMode:"forwards",animationTimingFunction:"ease-in"}},sidebarIcon:{},sidebarTitle:{width:"100%",marginInlineStart:8,fontSize:n?12:14,fontWeight:n?G().Wy.regular:G().Wy.medium,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}})),[a,n,i,r]),l=s&&t?(0,B.jsx)(_e().A,{type:"notion_icon",size:15,icon:t,largeIcon:!1}):e;return(0,B.jsxs)("div",{style:d.sidebarRow,children:[(0,B.jsx)("div",{style:d.sidebarIcon,children:l}),(0,B.jsx)("div",{style:d.sidebarTitle,children:o})]})}function Le({numRows:e=3}){const t=(0,u().IS)((()=>({skeletonPageIcon:{width:12,height:12,borderRadius:"50%",background:j().Tj.cardPressedBackground},skeletonPageTitle:{background:j().Tj.cardPressedBackground,borderRadius:12,height:12}})),[]),o=["60%","25%","75%"].map(((e,o)=>(0,B.jsx)(Ue,{icon:(0,B.jsx)("div",{style:t.skeletonPageIcon}),title:(0,B.jsx)("div",{style:{...t.skeletonPageTitle,width:e}})},o))).slice(0,e);return(0,B.jsx)("div",{children:o})}function Ve(e){const t=(0,u().IS)((()=>({smallPlaceholder:{borderRadius:12,background:j().Tj.cardPressedBackground,height:12,width:40},circlePlaceholder:{borderRadius:12,background:j().Tj.cardPressedBackground,height:12,width:12},largePlaceholder:{background:j().Tj.cardPressedBackground,borderRadius:12,height:12,width:120},pagePreviewHead:{display:"flex",justifyContent:"space-between"},pagePreviewBody:{height:"100%",display:"flex",flexDirection:"column",gap:16,position:"relative"}})),[]);return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)("div",{style:t.pagePreviewHead,children:[(0,B.jsxs)("div",{style:{display:"flex",gap:16},children:[(0,B.jsx)("div",{style:t.circlePlaceholder}),(0,B.jsx)("div",{style:t.largePlaceholder})]}),(0,B.jsxs)("div",{style:{display:"flex",gap:12,marginInlineEnd:24},children:[(0,B.jsx)("div",{style:t.smallPlaceholder}),(0,B.jsx)("div",{style:t.smallPlaceholder}),(0,B.jsx)("div",{style:t.smallPlaceholder})]})]}),(0,B.jsx)("div",{style:t.pagePreviewBody,children:e.children})]})}const Qe={stageName:"onboarding_category_survey",shouldSkip(e,t,o){if((0,N().isTrialOnboardingFlowState)(e)&&Boolean(e.selectedEligibleWorkspaceId))return!0;const a=e.planTypeAndSurveyInfo;return"team"===(null==a?void 0:a.planType)||(!!(0,N().shouldSkipCategorySelectionForExperiment)(e,null==o?void 0:o.disableExposureLogging)||!(e.isFirstTimeOnboarding||"skip_category_select"!==(0,ye().s3)(null==o?void 0:o.disableExposureLogging)&&"skip_both"!==(0,ye().s3)(null==o?void 0:o.disableExposureLogging)))},getTitle:(e,t)=>(0,B.jsx)("div",{style:{width:406,textAlign:"start"},children:(0,B.jsx)(A().sA,{defaultMessage:"Whatâ€™s on your mind?",id:"onboardingSurvey.categoryPicker.title.desktop"})}),getSubTitle:(e,t)=>(0,B.jsx)(A().sA,{defaultMessage:"Select as many as you want.",id:"onboardingSurvey.categoryPicker.subtitle.mobile"}),isContinueEnabled:e=>!0,isBackEnabled:e=>!0,async onContinue(e,t){var o,a,n,i;const{userPersona:r,userRole:s,useCases:d}=(null===(o=t.planTypeAndSurveyInfo)||void 0===o?void 0:o.surveyResponses)??{};T().jS(e,{selection:{userPersona:r,userRole:s,useCases:d??[]},action:"submit",plan_selection:null===(a=t.planTypeAndSurveyInfo)||void 0===a?void 0:a.planType,...(0,N().getContextualizedOnboardingAnalyticsData)({onboardingState:t,environment:e})});const l="personal"===(null===(n=t.planTypeAndSurveyInfo)||void 0===n?void 0:n.planType)&&(0,Se().DY)();("multiplayer"===(null===(i=t.planTypeAndSurveyInfo)||void 0===i?void 0:i.collaborativeIntent)||(0,N().isTrialOnboardingFlowState)(t)||l)&&await(0,P().createSpaceAndSetSpaceId)({onboardingState:t,environment:e})},onBack(e,t){var o,a;const{userPersona:n,userRole:i,useCases:r}=(null===(o=t.planTypeAndSurveyInfo)||void 0===o?void 0:o.surveyResponses)??{};T().jS(e,{selection:{userPersona:n,userRole:i,useCases:r??[]},action:"back",plan_selection:null===(a=t.planTypeAndSurveyInfo)||void 0===a?void 0:a.planType,...(0,N().getContextualizedOnboardingAnalyticsData)({onboardingState:t,environment:e})})},renderContentUnderContinueButton:(e,t)=>(0,B.jsx)(Te,{onboardingState:e}),renderStage:()=>(0,B.jsx)(je,{}),renderRightContent(e){if((0,ye().ml)()){var t;const o=(null===(t=e.planTypeAndSurveyInfo)||void 0===t||null===(t=t.surveyResponses)||void 0===t?void 0:t.categories)||[];return(0,B.jsx)(Be,{selectedUseCases:[],selectedWorkflowTemplateIds:[],selectedCategories:o,shouldHideTeamSpacesSection:!0})}return(0,B.jsx)(Me,{})},shouldShowSkipButton:()=>!1,getContinueButtonLabel:()=>(0,B.jsx)(A().sA,{defaultMessage:"Continue",id:"contextualizedOnboarding.continueButton.label"}),getDisplayType:()=>"default"},Ke={stageName:"mobile_onboarding_category_survey",shouldSkip(e,t,o){const a=e.planTypeAndSurveyInfo;return"team"===(null==a?void 0:a.planType)||!(e.isFirstTimeOnboarding||"skip_category_select"!==(0,ye().s3)(null==o?void 0:o.disableExposureLogging)&&"skip_both"!==(0,ye().s3)(null==o?void 0:o.disableExposureLogging))},getTitle:()=>(0,B.jsx)(A().sA,{defaultMessage:"Select as many as you want.",id:"onboardingSurvey.categoryPicker.subtitle.mobile"}),getSubTitle:(e,t)=>(0,B.jsx)(A().sA,{defaultMessage:"What are some areas of interest?",id:"onboardingSurvey.categoryPicker.title.mobile"}),headerStyles:{fontSize:22,fontFamily:G().xf({locale:ve().locale}),textAlign:"left",lineHeight:1.28,fontWeight:590,color:"none",marginBottom:8},isContinueEnabled(e){var t;return Boolean(null==e||null===(t=e.planTypeAndSurveyInfo)||void 0===t||null===(t=t.surveyResponses)||void 0===t||null===(t=t.categories)||void 0===t?void 0:t.length)},shouldHideMobileBottomContent(e){var t;return!(null!=e&&null!==(t=e.planTypeAndSurveyInfo)&&void 0!==t&&null!==(t=t.surveyResponses)&&void 0!==t&&null!==(t=t.categories)&&void 0!==t&&t.length)},isBackEnabled:e=>!0,async onContinue(e,t){var o,a;const{userPersona:n,userRole:i,useCases:r}=(null===(o=t.planTypeAndSurveyInfo)||void 0===o?void 0:o.surveyResponses)??{};T().jS(e,{selection:{userPersona:n,userRole:i,useCases:r??[]},action:"submit",plan_selection:null===(a=t.planTypeAndSurveyInfo)||void 0===a?void 0:a.planType,...(0,N().getContextualizedOnboardingAnalyticsData)({onboardingState:t,environment:e})}),await(0,P().createSpaceAndSetSpaceId)({onboardingState:t,environment:e})},onBack(e,t){var o,a;const{userPersona:n,userRole:i,useCases:r}=(null===(o=t.planTypeAndSurveyInfo)||void 0===o?void 0:o.surveyResponses)??{};T().jS(e,{selection:{userPersona:n,userRole:i,useCases:r??[]},action:"back",plan_selection:null===(a=t.planTypeAndSurveyInfo)||void 0===a?void 0:a.planType,...(0,N().getContextualizedOnboardingAnalyticsData)({onboardingState:t,environment:e})})},renderStage:()=>(0,B.jsx)(ke,{}),shouldShowSkipButton:()=>!0,getDisplayType:()=>"default"};var Ge=()=>o(165358),He=()=>o(882722);function Ze({onboardingState:e}){var t;(0,a.useEffect)((()=>{i().default.manuallyLogExperimentExposure("onboarding_skip_collab_intent_invite_stages")}),[]);const o=null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.collaborativeIntent;return(0,B.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",marginTop:28},children:(0,B.jsx)(qe,{onboardingState:e,collaborativeIntent:o,shouldAutoAdvanceStageOnSelect:!o})})}function qe(e){var t;const{collaborativeIntent:o,onboardingState:a,isSmallMobileScreen:n,shouldAutoAdvanceStageOnSelect:i}=e,r=(0,l().v3)(),s=function(e,t){return[{collaborativeIntent:"multiplayer",illustrationPath:e?m().A.images.onboarding.multiplayerIntentDarkmodePng:m().A.images.onboarding.multiplayerIntentLightmodePng,getTitle:()=>"team"===t?(0,B.jsx)(A().sA,{defaultMessage:"With my team",id:"onboardingCollaborativeIntentChoose.multiplayer.title.team"}):(0,B.jsx)(A().sA,{defaultMessage:"With others",id:"onboardingCollaborativeIntentChoose.multiplayer.title"}),getSubtitle:()=>{switch(t){case"team":return(0,B.jsx)(A().sA,{defaultMessage:"Track projects, company goals, meeting notes",id:"onboardingCollaborativeIntentChoose.multiplayer.subtitle.team"});case"personal":return(0,B.jsx)(A().sA,{defaultMessage:"Plan travel, household chores, group activities",id:"onboardingCollaborativeIntentChoose.multiplayer.subtitle.personal"});case"school":return(0,B.jsx)(A().sA,{defaultMessage:"Manage clubs, group projects, side projects",id:"onboardingCollaborativeIntentChoose.multiplayer.subtitle.school"});default:Ge().log({level:"error",from:"OnboardingCollaborativeIntentChoose",type:"unexpectedValue",error:{message:"Unexpected Value: onboardingState.planTypeAndSurveyInfo?.planType is undefined."}})}}},{collaborativeIntent:"singleplayer",illustrationPath:e?m().A.images.onboarding.singleplayerIntentDarkmodePng:m().A.images.onboarding.singleplayerIntentLightmodePng,getTitle:()=>(0,B.jsx)(A().sA,{defaultMessage:"On my own",id:"onboardingCollaborativeIntentChoose.singleplayer.title"}),getSubtitle:()=>{switch(t){case"team":return(0,B.jsx)(A().sA,{defaultMessage:"Manage personal tasks, write docs, stay organized",id:"onboardingCollaborativeIntentChoose.singleplayer.subtitle.team"});case"personal":return(0,B.jsx)(A().sA,{defaultMessage:"Manage expenses, track hobbies, stay organized",id:"onboardingCollaborativeIntentChoose.singleplayer.subtitle.personal"});case"school":return(0,B.jsx)(A().sA,{defaultMessage:"Track assignments, apply to jobs, stay organized",id:"onboardingCollaborativeIntentChoose.singleplayer.subtitle.school"});default:Ge().log({level:"error",from:"OnboardingCollaborativeIntentChoose",type:"unexpectedValue",error:{message:"Unexpected Value: onboardingState.planTypeAndSurveyInfo?.planType is undefined."}})}}}]}("dark"===(0,u().eP)(),null===(t=a.planTypeAndSurveyInfo)||void 0===t?void 0:t.planType);return(0,B.jsx)("div",{style:{...q().A.isMobile?{marginTop:0,marginBottom:32}:{marginTop:"10px",marginBottom:"32px"},display:q().A.isMobile?void 0:"inline-flex",width:"100%",justifyContent:"center"},children:s.map(((e,t)=>(0,B.jsx)(Je,{selectedCollaborativeIntent:o,buttonClassName:He().OX4,isSmallMobileScreen:n,handleCollaborativeIntentSelect:e=>{const t=function(e){const{onboardingState:t,surveyResponse:o}=e,a={...t,planTypeAndSurveyInfo:{...t.planTypeAndSurveyInfo,collaborativeIntent:o}};return O().A.setState(a),a}({onboardingState:a,surveyResponse:e});i&&(0,D().goToNextStage)({environment:r,onboardingState:t})},...e},t)))})}function Je(e){const{handleCollaborativeIntentSelect:t,selectedCollaborativeIntent:o,collaborativeIntent:a,illustrationPath:n,buttonClassName:i,getTitle:r,getSubtitle:s,isSmallMobileScreen:d}=e,l=function(e){const{isSelected:t}=e;return(0,u().IS)((()=>({toggleButtonStyle:{alignItems:"center",justifyContent:"center",whiteSpace:"normal",borderRadius:12,fontSize:14,lineHeight:1.2,position:"relative",transition:"all 200ms ease",display:"flex",flexDirection:q().A.isMobile?"row":"column",padding:20,marginTop:20,boxShadow:`${j().Tj.outlineButtonBorder} 0 0 0 1px, rgba(167, 167, 167, 0.25) 0px 1px 2px`,...t?{boxShadow:`${j().oZ.blue} 0 0 0 2px, rgba(182, 182, 182, 0.25) 0px 8px 12px`}:{opacity:.7},height:100,...q().A.isMobile&&{minHeight:110},...!q().A.isMobile&&{width:172,height:200,textAlign:"center",margin:"0px 10px"}},toggleButtonHoveredStyle:{opacity:1},toggleButtonPressedStyle:{opacity:1},buttonIllustrationWrapperStyle:{marginTop:8,height:60,width:90,...q().A.isMobile&&{textAlign:"center",width:85,height:57,marginInlineEnd:8}},buttonHeadingStyle:{fontWeight:G().Wy.medium,fontSize:q().A.isMobile?16:14,marginTop:q().A.isMobile?10:17,color:j().Tj.text.primary},buttonSubheadingStyle:{color:j().Tj.text.secondary,fontWeight:G().Wy.regular,fontSize:14,lineHeight:1.4,transition:"all 200ms ease",marginTop:(q().A.isMobile,4),marginBottom:8,display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:3,overflow:"hidden"},imageWrapStyle:{position:"absolute",bottom:-40,insetInlineStart:89}})),[t])}({isSelected:a===o,isSmallMobileScreen:d});return(0,B.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:(0,B.jsxs)(te().Ay,{style:l.toggleButtonStyle,hoveredStyle:l.toggleButtonHoveredStyle,pressedStyle:l.toggleButtonPressedStyle,onClick:()=>t(a),className:i,children:[(0,B.jsx)("div",{style:l.buttonIllustrationWrapperStyle,children:(0,B.jsx)("img",{src:n,style:{height:"100%",...q().A.isMobile?{height:48}:{}}})}),(0,B.jsxs)("main",{children:[(0,B.jsx)("header",{style:l.buttonHeadingStyle,children:r()}),(0,B.jsx)("p",{style:l.buttonSubheadingStyle,children:s()})]})]})})}const $e={stageName:"onboarding_collaborative_intent_choose",shouldSkip(e){if("partner_program_onboarding_flow"===e.flowName&&Boolean(e.selectedEligibleWorkspaceId))return!0;return"control"!==i().default.getEligibleGroup({experimentId:"onboarding_skip_collab_intent_invite_stages",defaultGroup:"control",disableExposureLogging:!0})},onSkip(){i().default.manuallyLogExperimentExposure("onboarding_skip_collab_intent_invite_stages")},getTitle(e){var t;return"team"===(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.planType)?(0,B.jsx)(A().sA,{defaultMessage:"Welcome to Notion for work",id:"onboardingCollaborativeIntentChoose.step.team.title"}):(0,B.jsx)(A().sA,{defaultMessage:"How do you want to use Notion?",id:"onboardingCollaborativeIntentChoose.step.title"})},getSubTitle:e=>(0,B.jsx)(A().sA,{defaultMessage:"This helps customize your experience",id:"onboardingCollaborativeIntentChoose.step.subtitle"}),isContinueEnabled(e){var t;return Boolean(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.collaborativeIntent)},async onContinue(e,t){var o;"performance_marketing_term_onboarding"!==t.flowName||t.spaceId||await(0,P().createSpaceAndSetSpaceId)({onboardingState:t,environment:e});void 0===(null===(o=t.planTypeAndSurveyInfo)||void 0===o?void 0:o.collaborativeIntent)&&Ge().log({level:"error",from:"OnboardingWorkspaceCollaborativeIntentChoose",type:"unexpectedValue",error:{message:"Unexpected Value: onboardingState.collaborativeIntent is undefined."}})},getContinueButtonStyles:()=>({width:300,height:36,marginTop:64}),isBackEnabled:e=>!0,renderStage:e=>(0,B.jsx)(Ze,{onboardingState:e}),shouldHideDesktopBottomContent(e){const t=null==e?void 0:e.planTypeAndSurveyInfo;return!(null!=t&&t.collaborativeIntent)},headerStyles:{textAlign:"center"},getAlignment:()=>"center",getDisplayType:()=>"default"},Ye={stageName:"mobile_onboarding_collaborative_intent_choose",shouldSkip:()=>"control"!==i().default.getEligibleGroup({experimentId:"onboarding_skip_collab_intent_invite_stages",defaultGroup:"control",disableExposureLogging:!0}),onSkip(){i().default.manuallyLogExperimentExposure("onboarding_skip_collab_intent_invite_stages")},getTitle:e=>(0,B.jsx)(A().sA,{defaultMessage:"How do you want to use Notion?",id:"onboardingCollaborativeIntentChoose.mobile.step.title"}),isContinueEnabled(e){var t;return Boolean(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.collaborativeIntent)},onContinue(e,t){var o;void 0===(null===(o=t.planTypeAndSurveyInfo)||void 0===o?void 0:o.collaborativeIntent)&&Ge().log({level:"error",from:"OnboardingWorkspaceCollaborativeIntentChoose",type:"unexpectedValue",error:{message:"Unexpected Value: onboardingState.collaborativeIntent is undefined."}})},getContinueButtonStyles:()=>({width:300,height:36,marginTop:64}),isBackEnabled:e=>!0,renderStage:e=>(0,B.jsx)(Ze,{onboardingState:e}),headerStyles:{textAlign:"center"},getAlignment:()=>"center",getDisplayType:()=>"default"};var Xe=()=>o(778450),et=()=>o(59226),tt=()=>o(312788),ot=()=>o(699143),at=()=>o(29037),nt=()=>o(200582),it=()=>o(288856),rt=()=>o(112799);async function st({environment:e,onboardingState:t,navigate:o,cachedDownloadUrl:a}){let n=a;n||(n=await(0,rt().a)(e.device)),n&&(o({environment:e,url:n,openInNew:"tab"}),(0,it().p)({environment:e,from:"onboarding"}),await(0,D().goToNextStage)({environment:e,onboardingState:t}))}const dt=(0,A().YK)({moreReliablePerformance:{id:"onboarding.desktopDownloadPromotion.moreReliablePerformance",defaultMessage:"More reliable performance"},offlineMode:{id:"onboarding.desktopDownloadPromotion.offlineMode",defaultMessage:"Offline mode"},aiMeetingNotes:{id:"onboarding.desktopDownloadPromotion.aiMeetingNotes",defaultMessage:"AI Meeting Notes"},distractionFreeWorkflows:{id:"onboarding.desktopDownloadPromotion.distractionFreeWorkflows",defaultMessage:"Distraction free workflows"},fasterNotionExperience:{id:"onboarding.desktopDownloadPromotion.fasterNotionExperience",defaultMessage:"50% faster Notion experience"},betterSummariesForVideoCalls:{id:"onboarding.desktopDownloadPromotion.betterSummariesForVideoCalls",defaultMessage:"Better summaries for video calls"},oneClickRemindersToStartTranscribing:{id:"onboarding.desktopDownloadPromotion.oneClickRemindersToStartTranscribing",defaultMessage:"One-click reminders for meetings"},paperAirplaneWithDotsAlt:{id:"onboarding.desktopDownloadPromotion.paperAirplaneWithDots",defaultMessage:"Paper airplane with dots"},mapWithDestinationAlt:{id:"onboarding.desktopDownloadPromotion.mapWithDestination",defaultMessage:"Map with destination"},notionLogoAlt:{id:"onboarding.desktopDownloadPromotion.notionLogo",defaultMessage:"Notion logo"},aiMeetingNotesAlt:{id:"onboarding.desktopDownloadPromotion.aiMeetingNotesAlt",defaultMessage:"AI Meeting Notes transcribing"},continueButtonLabel:{id:"onboarding.desktopDownloadStage.continueButtonLabel",defaultMessage:"Install desktop app"}});function lt({isAiMeetingNotesVariant:e}){const t=(0,et().X)("download_for_offline"),n=a.useMemo((()=>e?[{icon:at().checkmarkIcon,message:dt.fasterNotionExperience},{icon:at().checkmarkIcon,message:dt.oneClickRemindersToStartTranscribing},{icon:at().checkmarkIcon,message:dt.betterSummariesForVideoCalls}]:[{icon:o(90244).O,message:dt.aiMeetingNotes},{icon:t?o(973238).arrowInCircleDownIcon:nt().m,message:t?dt.offlineMode:dt.moreReliablePerformance},{icon:o(424920).y,message:dt.distractionFreeWorkflows}]),[e,t]),i=(0,u().IS)((()=>({container:{},listContainer:{display:"flex",marginTop:20,justifyContent:"center"},list:{display:"flex",flexDirection:"column",gap:10,listStyleType:"none",padding:0,margin:0},listItem:{display:"flex",alignItems:"center",gap:10,color:j().Tj.text.secondary}})),[]);return(0,B.jsxs)(ot().Y1,{direction:"vertical",style:i.container,children:[(0,B.jsx)(ct,{isAiMeetingNotesVariant:e}),(0,B.jsx)("div",{style:i.listContainer,children:(0,B.jsx)("ul",{style:i.list,children:n.map(((e,t)=>(0,B.jsxs)(b().D,{as:"li",style:i.listItem,styleKey:"bodyRegular",colorPalette:"gray",colorVariant:"secondary",children:[(0,B.jsx)(p().I,{icon:e.icon,colorPalette:"gray",colorVariant:"secondary"}),(0,B.jsx)(A().sA,{...e.message})]},t)))})})]})}function ct({isAiMeetingNotesVariant:e}){const t=(0,A().tz)(),o="dark"===(0,u().eP)(),a=(0,u().IS)((()=>({imageGroupContainer:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:120,marginTop:40,marginInlineEnd:0,marginBottom:60,marginInlineStart:0,gap:16},imageBackground:{width:"100%",height:"100%",maxWidth:290,display:"flex",justifyContent:"center",alignItems:"center",gap:e?150:0},foregroundContainer:{position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",...!e&&{height:100,width:100,backgroundColor:"white",boxShadow:"0px 17.91px 35.82px -5.97px rgba(0, 0, 0, 0.24), 0px 2.99px 8.96px -0.75px rgba(0, 0, 0, 0.14)",borderRadius:9}},logo:{height:e?90:50,width:e?192:50},imageLeft:{width:130},imageRight:{width:130,marginInlineStart:16}})),[e]);return(0,B.jsxs)("div",{style:a.imageGroupContainer,children:[(0,B.jsxs)("div",{style:a.imageBackground,children:[(0,B.jsx)("img",{src:e?o?m().A.images.onboarding.planTypeForWorkDarkmodePng:m().A.images.onboarding.planTypeForWorkLightmodePng:m().A.images.onboarding.mapJourneyDestinationPng,alt:t.formatMessage(dt.paperAirplaneWithDotsAlt),style:a.imageLeft}),(0,B.jsx)("img",{src:e?o?m().A.images.onboarding.planTypeForLifeDarkmodePng:m().A.images.onboarding.planTypeForLifeLightmodePng:m().A.images.onboarding.emailSentPng,alt:t.formatMessage(dt.mapWithDestinationAlt),style:a.imageRight})]}),(0,B.jsx)("div",{style:a.foregroundContainer,children:e?(0,B.jsx)("img",{src:"/images/sidebar/trials/meetings.webp",alt:t.formatMessage(dt.aiMeetingNotesAlt),style:a.logo}):(0,B.jsx)("img",{src:m().A.images.logo642XPng,alt:t.formatMessage(dt.notionLogoAlt),style:a.logo})})]})}function ut(){const{navigate:e}=(0,a.useContext)(tt().E),t=(0,l().v3)(),o=(0,c().O$)(O().A),n=(0,rt().E)(),i=(0,u().IS)((()=>({button:{marginTop:90,width:406,height:36,borderRadius:6,fontSize:14,fontWeight:G().Wy.semibold,color:j().Tj.text.inversePrimary}})),[]),r=(0,a.useCallback)((async()=>{await st({environment:t,onboardingState:o,navigate:e,cachedDownloadUrl:n.current})}),[t,o,n,e]);return(0,B.jsx)(f().A,{colorPalette:"blue",size:"lg",onClick:r,style:i.button,children:(0,B.jsx)(A().sA,{...dt.continueButtonLabel})})}const pt={stageName:"desktop_onboarding_promote_app_download",shouldSkip:(e,t)=>!0,getTitle:e=>(0,ye().SM)()?(0,B.jsx)("div",{style:{maxWidth:420},children:(0,B.jsx)(A().sA,{defaultMessage:"Transcribe your life with AI Meeting Notes on the Desktop app",id:"onboarding.desktopDownloadStage.aiMeetingNotes.title"})}):(0,B.jsx)(A().sA,{defaultMessage:"Notion is 50% faster with the desktop app",id:"onboarding.desktopDownloadStage.title"}),getSubTitle(e){if(!(0,ye().SM)())return(0,B.jsx)(A().sA,{defaultMessage:"Plus access app-exclusive features",id:"onboarding.desktopDownloadStage.subtitle"})},isContinueEnabled:e=>!0,isBackEnabled:(e,t)=>!0,shouldShowSkipButton:(e,t)=>!0,getDesktopContinueButtonOverride:()=>(0,B.jsx)(ut,{}),renderRightContent(e,t){},renderStage(){const e=(0,ye().SM)();return(0,B.jsx)(lt,{isAiMeetingNotesVariant:e})},getContinueButtonStyles:()=>({marginTop:70}),headerStyles:{width:void 0},getAlignment:()=>"center",getDisplayType:()=>"default"};async function gt(e,t){if(!e.planTypeAndSurveyInfo)return _().Fg(new Error("No plan type present when evaluating desktop download stage"),{tags:{source:"onboarding.desktopDownloadStage"}}),!0;return!!(await(0,Xe().e)(t))}const ft={...pt,stageName:"desktop_onboarding_promote_app_download",shouldSkip:bt};async function bt(e,t,o){var a;return!!(await gt(e,t))||(!!(0,N().shouldShowTrialCheckoutFlow)(null===(a=e.planTypeAndSurveyInfo)||void 0===a?void 0:a.planType)||("control"===(0,ye().k8)({environment:t})||!(e.isFirstTimeOnboarding||"skip_download"!==(0,ye().s3)(null==o?void 0:o.disableExposureLogging)&&"skip_both"!==(0,ye().s3)(null==o?void 0:o.disableExposureLogging))))}async function mt(e,t,o){var a;return!!(await gt(e,t))||(!(0,N().shouldShowTrialCheckoutFlow)(null===(a=e.planTypeAndSurveyInfo)||void 0===a?void 0:a.planType)||("control"===(0,ye().k8)({environment:t})||!(e.isFirstTimeOnboarding||"skip_download"!==(0,ye().s3)(null==o?void 0:o.disableExposureLogging)&&"skip_both"!==(0,ye().s3)(null==o?void 0:o.disableExposureLogging))))}const vt={...pt,stageName:"team_desktop_onboarding_promote_app_download",shouldSkip:mt};var yt=()=>o(373009),St=()=>o(340498),ht=()=>o(427704);const It=function({format:e,style:t,children:o}){return"Iphone"===e?(0,B.jsx)(xt,{style:t,children:o}):"IphoneX"===e?(0,B.jsx)(wt,{style:t,children:o}):(0,B.jsx)(_t,{style:t,children:o})};function xt({style:e,children:t}){return(0,B.jsxs)("div",{style:{boxShadow:`0 12px 30px ${j().IF.blackWithAlpha(.25)}`,background:j().oZ.frontMobilePhoneBackground,overflow:"hidden",position:"relative",width:"100%",borderRadius:"15%/7%",...e},children:[(0,B.jsx)("div",{style:{width:"100%",height:0,paddingBottom:"202.5%",backgroundImage:`url(${m().A.images.chromeMobileIphonePng})`,backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center"}}),(0,B.jsx)("div",{style:{position:"absolute",top:0,insetInlineStart:"6.66667%",width:"86.66666667%",marginTop:"24%"},children:t})]})}function wt({style:e,children:t}){return(0,B.jsxs)("div",{style:{position:"relative",transform:"translateZ(0)",width:"100%",filter:"drop-shadow(rgba(15, 15, 15, 0.2) 0px 6px 12px)",...e},children:[(0,B.jsx)("img",{src:m().A.images.devices.iphoneXFramePng,style:{width:"100%",display:"block",position:"relative",zIndex:2}}),(0,B.jsx)("div",{style:{position:"absolute",top:"50%",insetInlineStart:"50%",background:j().oZ.white,transform:"translate(calc(var(--direction, 1) * -50%), -50%)",width:"84.5%",height:"95%"},children:t})]})}function _t({style:e,children:t}){return(0,B.jsxs)("div",{style:{boxShadow:`0 12px 30px ${j().IF.blackWithAlpha(.25)}`,background:j().oZ.frontMobilePhoneBackground,overflow:"hidden",position:"relative",width:"100%",borderRadius:"15%/7%",...e},children:[(0,B.jsx)("div",{style:{width:"100%",height:0,paddingBottom:"205.73012939%",backgroundImage:`url(${m().A.images.chromeMobileAndroidPng})`,backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center"}}),(0,B.jsx)("div",{style:{position:"absolute",top:0,insetInlineStart:"4.1589648799%",width:"91.5785582255%",marginTop:"20.60998152%"},children:t})]})}var At=()=>o(896991);function jt({androidImage:e,iosImage:t,visual:o}){const a=(0,l().v3)(),n=(0,u().IS)((()=>({title:{color:j().Tj.text.secondary,marginBottom:6},subtitle:{color:j().Tj.text.primary,fontWeight:G().Wy.semibold},preview:{width:"100%",marginTop:28,marginBottom:0,maxWidth:320,marginInlineStart:"auto",marginInlineEnd:"auto"}})),[]),{device:i}=a;return(0,B.jsx)("div",{children:(0,B.jsx)(It,{format:i.isAndroid?"Android":"IphoneX",style:n.preview,children:o??(0,B.jsx)("img",{src:i.isAndroid?e:t,style:{width:"100%"}})})})}function kt(){return(0,B.jsx)(jt,{iosImage:m().A.tutorial.iosDragAndDropGif,androidImage:m().A.images.onboarding.mobileHeroAndroidGif})}function Tt(){return(0,B.jsx)(jt,{iosImage:m().A.tutorial.iosSidebarGif,androidImage:m().A.tutorial.androidSidebarPng})}function Ct(){return(0,B.jsx)(jt,{iosImage:m().A.tutorial.iosNotionWebClipperGif,androidImage:m().A.tutorial.mobileShareSheetAndroidPng})}function Mt(){const e=(0,u().IS)((()=>({mobileChrome:{width:"100%",marginTop:28,marginBottom:0,maxWidth:320,marginInlineStart:"auto",marginInlineEnd:"auto"},errorPage:{paddingTop:200,width:"100vw",height:"100%",position:"relative",display:"flex",flex:1,background:j().Tj.background.primary},mobileDesktopVisual:{width:"100%",boxShadow:j().Tj.shadowMD,borderRadius:4}})),[]);return(0,B.jsx)(jt,{visual:(0,B.jsxs)("div",{style:{marginTop:32,position:"relative"},children:[(0,B.jsxs)("div",{style:{position:"relative",top:0,insetInlineStart:0,width:"70%"},children:[(0,B.jsx)(Ie().A,{isSmall:!0,style:{marginBottom:12},children:(0,B.jsx)(A().sA,{defaultMessage:"Browser",id:"useCasemobileDesktopStep.browser.label"})}),(0,B.jsx)("img",{src:m().A.tutorial.mobileSyncSafariPng,style:e.mobileDesktopVisual})]}),(0,B.jsxs)("div",{style:{position:"absolute",top:0,insetInlineStart:"30%",width:"70%"},children:[(0,B.jsx)(Ie().A,{isSmall:!0,style:{marginBottom:12},children:(0,B.jsx)(A().sA,{defaultMessage:"Mac & Windows App",id:"useCasemobileDesktopStep.desktopApp.label"})}),(0,B.jsx)("img",{src:m().A.tutorial.mobileSyncMacPng,style:e.mobileDesktopVisual})]})]})})}function Rt(){return(0,B.jsx)(jt,{iosImage:m().A.images.onboarding.mobileHeroGif,androidImage:m().A.images.onboarding.mobileHeroGif})}function Pt(){const e=(0,l().v3)(),t=(0,c().O$)(O().A);return a.useEffect((()=>{(0,ye().KT)({environment:e})}),[e]),a.useEffect((()=>{(async()=>{try{await async function(e,t){var a,i;if(!n().default.state.currentUserStore)return;const r=null===(a=n().default.state.currentUserStore)||void 0===a?void 0:a.getOnboardingCompleted(),s=null===(i=n().default.state.currentUserStore)||void 0===i?void 0:i.getMobileOnboardingCompleted();if(r&&s)return;const{contextualizedOnboardingDeps:d}=await Promise.resolve().then(o.bind(o,867899)),{defaultOnboardingComplete:l}=await d.contextualizedOnboardingActions.load();await l(e,"create",{shouldApplyTrial:!1,disableRedirect:!0})}(e)}catch(t){(0,P().handleOnboardingError)(e,(0,k().A)(t))}})()}),[e,t]),(0,B.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,B.jsx)("img",{src:m().A.images.onboarding.mobileAppViewPng,alt:"Mobile app view",style:{width:300,border:`1px solid ${j().Tj.border.secondary}`,boxShadow:"0px 14px 28px -6px #0000001A",borderRadius:40}})})}function Dt(){const e=(0,l().v3)(),t=(0,c().O$)(O().A);return(0,B.jsx)(yt().E,{style:{marginTop:8,width:"100%",height:48,borderRadius:12,fontSize:17,fontWeight:G().Wy.semibold,color:j().Tj.text.primary,backgroundColor:j().Tj.background.tertiaryTranslucent,boxShadow:"none"},size:"lg",onClick:async()=>await(0,D().goToNextStage)({environment:e,onboardingState:t}),disabled:!1,children:(0,B.jsx)(A().sA,{defaultMessage:"Take me to Notion",id:"contextualizedOnboarding.mobileAppDownloadStep.continue"})})}function Nt(){const e=(0,l().v3)(),t=e.device,a=(0,At().Oi)({}),n=(0,c().O$)(O().A);return(0,B.jsx)("a",{onClick:()=>{T().u$(e,(0,N().getContextualizedOnboardingAnalyticsData)({onboardingState:n,environment:e}))},href:t.isIOS?ht().JZ.appStore:ht().JZ.playStore,style:{textDecoration:"none",width:"100%",marginTop:16},target:"_blank",children:(0,B.jsxs)(f().A,{colorPalette:"blue",style:a.continueButton,size:"lg",children:[t.isIOS?(0,o(888976).appleTintableIcon)({fill:"currentColor",width:St().Ev.default,height:St().Ev.default,marginInlineEnd:8}):(0,o(578685).androidTintableIcon)({fill:"currentColor",width:St().Ev.default,height:St().Ev.default,marginInlineEnd:8}),(0,B.jsx)(A().sA,{defaultMessage:"Download the app",id:"contextualizedOnboarding.downloadTheAppButton.label"})]})})}function Et({androidSrc:e,iosSrc:t,style:o}){const{isAndroid:a}=(0,l().Y0)(),n=(0,u().eP)(),i=m().A.tutorial[n][a?e:t];return(0,B.jsx)("div",{style:{width:"100%",overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,B.jsx)("img",{src:i,style:o,alt:"Tutorial gif"})})}function Ot(){return(0,B.jsx)(Et,{androidSrc:"androidOrganizeGif",iosSrc:"iosOrganizeGif",style:{width:"150%",margin:"-5% -25%"}})}function Bt(){return(0,B.jsx)(Et,{androidSrc:"androidCreateGif",iosSrc:"iosCreateGif",style:{width:"150%",margin:"-5% -25%"}})}function zt(){return(0,B.jsx)(Et,{androidSrc:"shareGif",iosSrc:"shareGif",style:{width:"150%",margin:"-5% -25%"}})}function Ft(){return(0,B.jsx)(Et,{androidSrc:"devicesGif",iosSrc:"devicesGif",style:{width:"110%",margin:"0 -5%"}})}function Wt(){return(0,B.jsx)(Et,{androidSrc:"androidCustomizationGif",iosSrc:"iosCustomizationGif",style:{width:"110%",margin:"10% -5%"}})}function Ut(){return(0,B.jsx)(Et,{androidSrc:"androidFilingGif",iosSrc:"iosFilingGif",style:{width:"110%",margin:"10% -5%"}})}function Lt(){return(0,B.jsx)(Et,{androidSrc:"sideswipeGif",iosSrc:"sideswipeGif",style:{width:"110%",margin:"10% -5%"}})}const Vt={getDisplayType:()=>"default",headerStyles:{fontSize:16},getSubTitle:e=>(0,B.jsx)(A().sA,{defaultMessage:"Some essential tips",id:"useCasemobileTutorialStep.title"})},Qt={shouldSkip:()=>!1,isContinueEnabled:()=>!0,isBackEnabled:()=>!0,shouldShowSkipButton:()=>!1,shouldHideScroller:()=>!0,footerStyles:{paddingBottom:24},getDisplayType:()=>"default"},Kt={stageName:"mobile_onboarding_editor",shouldSkip:(e,t)=>!q().A.isMobile,getTitle:e=>(0,B.jsx)(A().sA,{defaultMessage:"Touch and hold to reorder any content.",id:"useCasemobileEditorStep.descriptionV2"}),isContinueEnabled:()=>!0,isBackEnabled(e,t){const o=e.planTypeAndSurveyInfo;return"team"===(null==o?void 0:o.planType)},renderStage:()=>(0,B.jsx)(kt,{}),...Vt},Gt={stageName:"mobile_onboarding_sidebar",shouldSkip:(e,t)=>!q().A.isMobile,getTitle:e=>(0,B.jsx)(A().sA,{defaultMessage:"The sidebar menu keeps things organized. Youâ€™ll find all of your pages here.",id:"useCasemobileEditorSidebarStep.titleV2"}),isContinueEnabled:()=>!0,isBackEnabled:(e,t)=>!0,renderStage:()=>(0,B.jsx)(Tt,{}),...Vt},Ht={stageName:"mobile_onboarding_web_clipper",shouldSkip:(e,t)=>!t.device.isMobileNative,getTitle:e=>(0,B.jsx)(A().sA,{defaultMessage:"<boldtext>Save web pages or local files into Notion.</boldtext>",id:"useCasemobileWebClipperStep.title",values:{boldtext:e=>(0,B.jsx)("b",{children:e})}}),getSubTitle:e=>(0,B.jsx)(A().sA,{defaultMessage:"Just tap the share button and pick a page or a database to save to.",id:"useCasewebClipperStep.description"}),isContinueEnabled:()=>!0,isBackEnabled:(e,t)=>!0,renderStage:()=>(0,B.jsx)(Ct,{}),...Vt},Zt={stageName:"mobile_onboarding_desktop",shouldSkip:(e,t)=>!q().A.isMobile||!(null!=t&&t.device.isMobileNative),getTitle:e=>(0,B.jsx)(A().sA,{defaultMessage:"Notion also works on Mac, Windows, and in the browser! Everything will stay in sync across your devices",id:"useCasemobileDesktopStep.titleV2",values:{boldtext:e=>(0,B.jsx)("b",{children:e})}}),isContinueEnabled:()=>!0,isBackEnabled:(e,t)=>!0,renderStage:()=>(0,B.jsx)(Mt,{}),headerStyles:{fontSize:16},getDisplayType:()=>"default"},qt={stageName:"mobile_onboarding_app_download",shouldSkip:(e,t)=>t.device.isMobileNative||"on"===(0,ye().KT)({environment:t,disableExposureLogging:!0}),getTitle:e=>(0,B.jsx)(A().sA,{defaultMessage:"Discover the latest features and enjoy a seamless, supercharged experience on the go with the mobile app",id:"mobileAppDownloadStep.subTitleV2"}),isContinueEnabled:()=>!0,isBackEnabled:(e,t)=>!0,renderStage:()=>(0,B.jsx)(Rt,{}),headerStyles:{fontSize:16,lineHeight:void 0},getMobileContinueButtonOverride:()=>(0,B.jsx)(Nt,{}),renderContentAboveContinueButton:()=>(0,B.jsx)(Dt,{}),getDisplayType:()=>"default"},Jt={stageName:"mobile_onboarding_promote_app_download",shouldSkip:(e,t,o)=>!(e.isFirstTimeOnboarding||"skip_download"!==(0,ye().s3)(null==o?void 0:o.disableExposureLogging)&&"skip_both"!==(0,ye().s3)(null==o?void 0:o.disableExposureLogging)),getTitle:(e,t)=>(0,B.jsx)(A().sA,{defaultMessage:"Your account has been created!",id:"mobilePromoteAppDownloadStep.title.requiredToDownload.surveyExperiment"}),getSubTitle:(e,t)=>(0,B.jsx)(A().sA,{defaultMessage:"Continue on the app to start using Notion",id:"mobilePromoteAppDownloadStep.subtitle.surveyExperiment"}),isContinueEnabled:()=>!0,shouldHideBackButton:(e,t)=>!0,isBackEnabled:(e,t)=>!1,renderStage:()=>(0,B.jsx)(Pt,{}),headerStyles:{fontSize:22,lineHeight:void 0},getMobileContinueButtonOverride:()=>(0,B.jsx)(Nt,{}),getDisplayType:()=>"default"},$t={...Qt,stageName:"mobile_onboarding_home",getTitle:e=>(0,B.jsx)(A().sA,{defaultMessage:"Keep your thoughts organized",id:"useCaseMobileHomeStep.title"}),getSubTitle:e=>(0,B.jsx)(A().sA,{defaultMessage:"Use the home tab to organize your pages.",id:"useCaseMobileHomeStep.description"}),isBackEnabled(e,t){const o=e.planTypeAndSurveyInfo;return"team"===(null==o?void 0:o.planType)},renderStage:()=>(0,B.jsx)(Ot,{})},Yt={...Qt,stageName:"mobile_onboarding_creation",getTitle:e=>(0,B.jsx)(A().sA,{defaultMessage:"Create notes, tasks and more",id:"useCaseMobileEditorV2Step.title"}),getSubTitle:e=>(0,B.jsx)(A().sA,{defaultMessage:"Use Notion blocks to create anything, big or small.",id:"useCaseMobileEditorV2Step.description"}),renderStage:()=>(0,B.jsx)(Bt,{})},Xt={...Qt,stageName:"mobile_onboarding_share",getTitle:e=>(0,B.jsx)(A().sA,{defaultMessage:"Share content into Notion",id:"useCaseMobileShareStep.title"}),getSubTitle:e=>(0,B.jsx)(A().sA,{defaultMessage:"Share articles, photos, and more directly into your Notion pages.",id:"useCaseMobileShareStep.description"}),renderStage:()=>(0,B.jsx)(zt,{})},eo={...Qt,stageName:"mobile_onboarding_multi_platform",getTitle:e=>(0,B.jsx)(A().sA,{defaultMessage:"Work across devices",id:"useCaseMobileMultiPlatformStep.title"}),getSubTitle:e=>(0,B.jsx)(A().sA,{defaultMessage:"Download Notion on your phone, tablet, or desktop.",id:"useCaseMobileMultiPlatformStep.description"}),shouldShowSkipButton:e=>!1,renderStage:()=>(0,B.jsx)(Ft,{})},to={...Qt,stageName:"mobile_onboarding_skill_mab",getTitle:e=>(0,B.jsx)(A().sA,{defaultMessage:"Create how you want",id:"useCaseMobileSkillMabStep.title"}),getSubTitle:e=>(0,B.jsx)(A().sA,{defaultMessage:"You can create custom content blocks, customize your content, and add media from your Notion pages.",id:"useCaseMobileSkillMabStep.description"}),isBackEnabled(e,t){const o=e.planTypeAndSurveyInfo;return"team"===(null==o?void 0:o.planType)},renderStage:()=>(0,B.jsx)(Wt,{})},oo={...Qt,stageName:"mobile_onboarding_skill_filing",getTitle:e=>(0,B.jsx)(A().sA,{defaultMessage:"Keep your thoughts organized",id:"useCaseMobileSkillFilingStep.title"}),getSubTitle:e=>(0,B.jsx)(A().sA,{defaultMessage:"You can organize your pages by nesting inside pre-made sections, or even other pages.",id:"useCaseMobileSkillFilingStep.description"}),renderStage:()=>(0,B.jsx)(Ut,{})},ao={...Qt,stageName:"mobile_onboarding_skill_swipe",getTitle:e=>(0,B.jsx)(A().sA,{defaultMessage:"Manage your pages with a swipe",id:"useCaseMobileSkillSwipeStep.title"}),getSubTitle:e=>(0,B.jsx)(A().sA,{defaultMessage:"Side swipe on any of your pages to view actions, favorite, or delete the page.",id:"useCaseMobileSkillSwipeStep.description"}),shouldShowSkipButton:e=>!1,renderStage:()=>(0,B.jsx)(Lt,{})};function no(){var e;const t=(0,l().v3)(),o=(0,c().O$)(O().A),[n,i]=(0,a.useState)(o.aiSetupPreference),r=(0,u().IS)((()=>({container:{display:"flex",flexDirection:"column",alignItems:"center",gap:24,marginTop:28},faceContainer:{display:"flex",justifyContent:"center",alignItems:"center",marginBottom:16,animation:"noseyBounce 2.5s ease-in-out infinite"},speechBubbleContainer:{display:"flex",justifyContent:"center",alignItems:"center",marginBottom:16},speechBubble:{background:j().Tj.background.elevated,borderRadius:16,padding:"14px 24px",maxWidth:340,textAlign:"center",fontSize:15,lineHeight:"22px",color:j().Tj.text.primary,position:"relative",boxShadow:"0px 2px 8px rgba(0, 0, 0, 0.08)"},speechBubbleTail:{position:"absolute",bottom:-8,insetInlineStart:"50%",transform:"translateX(-50%)",width:0,height:0,borderInlineStart:"8px solid transparent",borderInlineEnd:"8px solid transparent",borderTop:`8px solid ${j().Tj.background.elevated}`},buttonsContainer:{display:"flex",flexDirection:"column",width:"100%",maxWidth:500,gap:12,paddingTop:24}})),[]),s=(0,a.useMemo)((()=>{var e;const o=[{preference:"guided_setup",title:(0,B.jsx)(A().sA,{defaultMessage:"Get help from Notion AI",id:"onboarding.noseyIntro.guidedSetup.title"}),subtitle:(0,B.jsx)(A().sA,{defaultMessage:"Let Notion AI help you get started",id:"onboarding.noseyIntro.guidedSetup.subtitle"})},{preference:"self_setup",title:(0,B.jsx)(A().sA,{defaultMessage:"Do it myself",id:"onboarding.noseyIntro.selfSetup.title"}),subtitle:(0,B.jsx)(A().sA,{defaultMessage:"Explore and customize at your own pace",id:"onboarding.noseyIntro.selfSetup.subtitle"})}],a=null===(e=t.currentUser)||void 0===e?void 0:e.id;return(0,xe().mT)(o,a)}),[null===(e=t.currentUser)||void 0===e?void 0:e.id]);return(0,B.jsxs)("div",{style:r.container,children:[(0,B.jsx)("style",{children:"\n\t\t\t\t\t@keyframes noseyBounce {\n\t\t\t\t\t\t0%, 100% {\n\t\t\t\t\t\t\ttransform: translateY(0px);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t50% {\n\t\t\t\t\t\t\ttransform: translateY(-8px);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t"}),(0,B.jsx)("div",{style:r.speechBubbleContainer,children:(0,B.jsxs)("div",{style:r.speechBubble,children:["self_setup"===n?(0,B.jsx)(A().sA,{defaultMessage:"Setting things up yourself? Find me in the bottom right if you need help later.",id:"onboarding.noseyIntro.selfSetup.subtitle.speechBubble"}):(0,B.jsx)(A().sA,{defaultMessage:"Nice to meet you! Iâ€™m here to help you get set up.",id:"onboarding.noseyIntro.guidedSetup.subtitle.speechBubble"}),(0,B.jsx)("div",{style:r.speechBubbleTail})]})}),(0,B.jsx)("div",{style:r.faceContainer,children:(0,B.jsx)(pe()._,{accessory:"magician",variant:"large_plus",animationDirection:void 0})}),(0,B.jsx)("div",{style:r.buttonsContainer,children:s.map((e=>(0,B.jsx)(io,{preference:e.preference,title:e.title,subtitle:e.subtitle,isSelected:n===e.preference,onSelect:()=>function(e,t,o,a){const n=e.aiSetupPreference,i=!n,r={...e,aiSetupPreference:t};O().A.setState(r),o(t),i&&(0,D().goToNextStage)({environment:a,onboardingState:r})}(o,e.preference,i,t)},e.preference)))})]})}function io(e){const{title:t,subtitle:o,isSelected:a,onSelect:n}=e,i=(0,u().IS)((()=>({button:{alignItems:"center",justifyContent:"flex-start",whiteSpace:"normal",borderRadius:12,fontSize:14,lineHeight:1.2,position:"relative",transition:"all 200ms ease",display:"flex",padding:20,minHeight:90,cursor:"pointer",textAlign:"start",...a?{boxShadow:`${j().oZ.blue} 0 0 0 2px, rgba(182, 182, 182, 0.25) 0px 8px 12px`,background:j().Tj.background.elevated}:{boxShadow:`${j().Tj.outlineButtonBorder} 0 0 0 1px, rgba(167, 167, 167, 0.25) 0px 1px 2px`,opacity:.7}},content:{display:"flex",flexDirection:"column",gap:4,flex:1},title:{fontWeight:G().Wy.semibold,fontSize:16,color:j().Tj.text.primary},subtitle:{fontSize:14,color:j().Tj.text.secondary,lineHeight:1.4}})),[a]);return(0,B.jsx)(te().Ay,{style:i.button,onClick:n,children:(0,B.jsxs)("div",{style:i.content,children:[(0,B.jsx)("div",{style:i.title,children:t}),(0,B.jsx)("div",{style:i.subtitle,children:o})]})})}const ro={stageName:"onboarding_nosey_intro",shouldSkip:(e,t,o)=>!(0,N().getIsNoseyIntroStageEnabled)({onboardingState:e,disableExposureLogging:null==o?void 0:o.disableExposureLogging}),getTitle:()=>(0,B.jsx)(A().sA,{defaultMessage:"Set up your workspace",id:"onboarding.noseyIntro.title"}),getSubTitle:()=>(0,B.jsx)(A().sA,{defaultMessage:"Choose how youâ€™d like to get started",id:"onboarding.noseyIntro.subtitle"}),isContinueEnabled:e=>Boolean(e.aiSetupPreference),isBackEnabled:()=>!1,renderStage:()=>(0,B.jsx)(no,{}),shouldHideDesktopBottomContent:e=>!e.aiSetupPreference,getAlignment:()=>"center",getDisplayType:()=>"default"};var so=()=>o(420802),lo=()=>o(81068),co=()=>o(515187),uo=()=>o(933117);function po({useCases:e,onSelectUseCase:t,collaborativeIntent:o}){const a=function(e){return{docs:"singleplayer"===e?(0,B.jsx)(A().sA,{id:"OnboardingSurvey.useCase.question.singleplayer.docs",defaultMessage:"Write documents"}):(0,B.jsx)(A().sA,{id:"OnboardingSurvey.useCase.question.docs",defaultMessage:"Collaborate with others in docs"}),wikis:(0,B.jsx)(A().sA,{id:"OnboardingSurvey.useCase.question.wikis",defaultMessage:"Create a knowledge base / wiki"}),project:(0,B.jsx)(A().sA,{id:"OnboardingSurvey.useCase.question.project",defaultMessage:"Manage projects"}),goals:"singleplayer"===e?(0,B.jsx)(A().sA,{id:"OnboardingSurvey.useCase.question.singleplayer.goals",defaultMessage:"Track goals"}):(0,B.jsx)(A().sA,{id:"OnboardingSurvey.useCase.question.goals",defaultMessage:"Track company goals and OKRs"}),notes:(0,B.jsx)(A().sA,{id:"OnboardingSurvey.useCase.question.notes",defaultMessage:"Write notes"}),ai:(0,B.jsx)(A().sA,{id:"OnboardingSurvey.useCase.question.ai",defaultMessage:"Create and find content with AI"}),other:(0,B.jsx)(A().sA,{id:"OnboardingSurvey.useCase.question.otherOptionLabel",defaultMessage:"Other"})}}(o),n={menuTitle:(0,A().tz)().formatMessage({defaultMessage:"Using Notion for...",id:"onboardingSurvey.useCase.popuplabel"}),items:Object.keys(a),width:300,getKey:e=>e,selectedItem:void 0,originGap:4,onSelect:e=>t(e),dontCloseParentOnSelect:!0,renderItem:o=>(0,B.jsx)(lo().A,{icon:(0,B.jsx)(so().S,{checked:e.includes(o.value),size:16,onClick:()=>t(o.value)}),title:a[o.value],className:`${He().eL1}-${o.value}`,...o}),renderOrigin:t=>(0,B.jsx)(he().A,{size:"lg",onClick:e=>t.onClick(e),style:{padding:"2px 10px",display:"flex",alignItems:"center",justifyContent:"space-between",border:0,transition:"box-shadow 0.3s ease",boxShadow:`0 0 0 1px ${j().Tj.outlineButtonBorder}`,height:q().A.isMobile?40:32,background:j().Tj.background.secondary,borderRadius:q().A.isMobile?10:6},className:He().eL1,iconTrailing:{icon:co().w,size:"xxs",colorVariant:"tertiary"},children:(0,B.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,B.jsx)(Ie().A,{isSecondaryColor:0===e.length,style:q().A.isMobile?{fontSize:15}:{},children:e.length>0?(0,B.jsx)(A().sA,{defaultMessage:"{count, plural, one {{useCase}} other {{count} selected}}",id:"onboardingSurvey.useCasesSelect.plural.placeholder",values:{count:e.length,useCase:a[Array.from(e)[0]]}}):(0,B.jsx)(A().sA,{defaultMessage:"Choose one or more...",id:"onboardingSurvey.useCasesSelect.placeholder"})})})})};return(0,B.jsx)(uo().A,{...n},"useCase")}const go=(0,A().YK)({workIntentTitleV2:{defaultMessage:"For work",id:"onboardingWorkspacePlanChoose.teamUseCaseButton.labelV2"},lifeIntentTitleV2:{defaultMessage:"For personal life",id:"onboardingWorkspacePlanChoose.personalUseCaseButton.labelV2"},schoolIntentTitleV2:{defaultMessage:"For school",id:"onboardingWorkspacePlanChoose.schoolUseCaseButton.labelV2"},workIntentSubtitleV2:{defaultMessage:"Track projects, company goals, meeting notes",id:"onboardingWorkspacePlanChoose.teamUseCaseButton.descriptionV2"},lifeIntentSubtitleV2:{defaultMessage:"Write better, think more clearly, stay organized",id:"onboardingWorkspacePlanChoose.personalUseCaseButton.descriptionV2"},schoolIntentSubtitleV2:{defaultMessage:"Keep notes, research, and tasks in one place",id:"onboardingWorkspacePlanChoose.schoolUseCaseButton.descriptionV2"}});function fo(){const e="dark"===(0,u().eP)(),t=(0,A().tz)();return(0,a.useMemo)((()=>[{planType:"team",illustrationPath:e?m().A.images.onboarding.planTypeForWorkSplitIntentDarkmodePng:m().A.images.onboarding.planTypeForWorkSplitIntentLightmodePng,title:(0,B.jsx)(A().sA,{...go.workIntentTitleV2}),subtitle:(0,B.jsx)(A().sA,{...go.workIntentSubtitleV2}),ariaLabel:t.formatMessage(go.workIntentTitleV2)},{planType:"personal",illustrationPath:e?m().A.images.onboarding.planTypeForLifeSplitIntentDarkmodePng:m().A.images.onboarding.planTypeForLifeSplitIntentLightmodePng,title:(0,B.jsx)(A().sA,{...go.lifeIntentTitleV2}),subtitle:(0,B.jsx)(A().sA,{...go.lifeIntentSubtitleV2}),ariaLabel:t.formatMessage(go.lifeIntentTitleV2)},{planType:"school",illustrationPath:e?m().A.images.onboarding.planTypeForSchoolSplitIntentDarkmodePng:m().A.images.onboarding.planTypeForSchoolSplitIntentLightmodePng,title:(0,B.jsx)(A().sA,{...go.schoolIntentTitleV2}),subtitle:(0,B.jsx)(A().sA,{...go.schoolIntentSubtitleV2}),ariaLabel:t.formatMessage(go.schoolIntentTitleV2)}]),[e,t])}function bo(e){const{checkedIntentType:t,handlePlanTypeSelect:o,planType:a,illustrationPath:n,buttonClassName:i,title:r,subtitle:s,ariaLabel:d}=e,l=function(e){const{isSelected:t}=e;return(0,u().IS)((()=>({toggleButtonStyle:{alignItems:"center",justifyContent:"center",whiteSpace:"normal",borderRadius:12,fontSize:14,lineHeight:1.2,position:"relative",transition:"all 200ms ease",display:"flex",marginTop:20,padding:0,boxShadow:`${j().Tj.outlineButtonBorder} 0 0 0 1px, rgba(167, 167, 167, 0.25) 0px 1px 2px`,minHeight:136,...t?{boxShadow:`${j().oZ.blue} 0 0 0 2px, rgba(182, 182, 182, 0.25) 0px 8px 12px`,background:j().Tj.background.elevated}:{opacity:.7},display:"flex",marginTop:16,padding:0,boxShadow:`${j().Tj.outlineButtonBorder} 0 0 0 1px, rgba(167, 167, 167, 0.25) 0px 1px 2px`,minHeight:70,...{height:100,...t&&{boxShadow:`${j().oZ.blue} 0 0 0 2px, rgba(182, 182, 182, 0.25) 0px 8px 12px`,background:void 0},...q().A.isMobile&&{minHeight:110}}},buttonIllustrationWrapperStyle:{marginInlineStart:10,height:57,width:85,textAlign:"center"},buttonCheckmarkStyle:{order:1,marginInlineEnd:20,height:24,width:24},buttonHeadingStyle:{fontWeight:G().Wy.medium,fontSize:16,marginTop:10,color:j().Tj.text.primary},buttonSubheadingStyle:{color:j().Tj.text.secondary,fontWeight:G().Wy.regular,fontSize:14,lineHeight:1.4,transition:"all 200ms ease",marginTop:(q().A.isMobile,4),marginBottom:8,display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:3,overflow:"hidden"},imageWrapStyle:{position:"absolute",bottom:-40,insetInlineStart:89}})),[t])}({isSelected:t===a});return(0,B.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:(0,B.jsx)(te().Ay,{id:void 0,ariaLabel:d,style:l.toggleButtonStyle,onClick:o,className:i,"aria-pressed":t===a,children:(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)("img",{src:n,style:{height:"100%",height:48,width:48,textAlign:"center",marginInlineStart:24}}),(0,B.jsxs)("main",{style:{margin:q().A.isMobile?10:16,flex:1},children:[(0,B.jsx)("header",{style:l.buttonHeadingStyle,children:r}),(0,B.jsx)("p",{style:l.buttonSubheadingStyle,children:s})]})]})})})}const mo="other",vo={exec:(0,B.jsx)(A().sA,{id:"PersonaCollectionModalQuestionSelect.roleQuestion.exec",defaultMessage:"Executive (C-level / VP)"}),dept_lead:(0,B.jsx)(A().sA,{id:"PersonaCollectionModalQuestionSelect.roleQuestion.dept_lead",defaultMessage:"Department lead"}),team_manager:(0,B.jsx)(A().sA,{id:"PersonaCollectionModalQuestionSelect.roleQuestion.team_manager",defaultMessage:"Team manager"}),member:(0,B.jsx)(A().sA,{id:"PersonaCollectionModalQuestionSelect.roleQuestion.member",defaultMessage:"Team member"}),solo:(0,B.jsx)(A().sA,{id:"PersonaCollectionModalQuestionSelect.roleQuestion.solo",defaultMessage:"Solo-preneur / Freelancer"}),personal:(0,B.jsx)(A().sA,{id:"PersonaCollectionModalQuestionSelect.roleQuestion.personal",defaultMessage:"Using Notion just for myself"})},yo={creative:(0,B.jsx)(A().sA,{id:"PersonaCollectionModalQuestionSelect.workQuestion.creative",defaultMessage:"Creative"}),founder_or_ceo:(0,B.jsx)(A().sA,{id:"PersonaCollectionModalQuestionSelect.workQuestion.founderCeo",defaultMessage:"Founder / CEO"}),internal_communication:(0,B.jsx)(A().sA,{id:"PersonaCollectionModalQuestionSelect.workQuestion.internalCommunication",defaultMessage:"Internal Communication"}),eng:(0,B.jsx)(A().sA,{id:"PersonaCollectionModalQuestionSelect.workQuestion.eng",defaultMessage:"Engineering"}),product_design:(0,B.jsx)(A().sA,{id:"PersonaCollectionModalQuestionSelect.workQuestion.productDesign",defaultMessage:"Product Design"}),project_or_program_management:(0,B.jsx)(A().sA,{id:"PersonaCollectionModalQuestionSelect.workQuestion.projectProgramMgmt",defaultMessage:"Project / Program Management"}),product:(0,B.jsx)(A().sA,{id:"PersonaCollectionModalQuestionSelect.question.product",defaultMessage:"Product Management"}),marketing:(0,B.jsx)(A().sA,{id:"PersonaCollectionModalQuestionSelect.workQuestion.marketing",defaultMessage:"Marketing"}),sales:(0,B.jsx)(A().sA,{id:"PersonaCollectionModalQuestionSelect.workQuestion.sales",defaultMessage:"Sales"}),support:(0,B.jsx)(A().sA,{id:"PersonaCollectionModalQuestionSelect.workQuestion.support",defaultMessage:"Customer Service"}),finance:(0,B.jsx)(A().sA,{id:"PersonaCollectionModalQuestionSelect.workQuestion.finance",defaultMessage:"Finance"}),hr:(0,B.jsx)(A().sA,{id:"PersonaCollectionModalQuestionSelect.workQuestion.hr",defaultMessage:"Human Resources"}),it_admin:(0,B.jsx)(A().sA,{id:"PersonaCollectionModalQuestionSelect.workQuestion.itAdmin",defaultMessage:"IT Admin"}),knowledge_management:(0,B.jsx)(A().sA,{id:"PersonaCollectionModalQuestionSelect.workQuestion.knowledgeManagement",defaultMessage:"Knowledge Management"}),operations:(0,B.jsx)(A().sA,{id:"PersonaCollectionModalQuestionSelect.workQuestion.operations",defaultMessage:"Operations"}),educator:(0,B.jsx)(A().sA,{id:"PersonaCollectionModalQuestionSelect.workQuestion.educator",defaultMessage:"Educator"}),other:(0,B.jsx)(A().sA,{id:"PersonaCollectionModalQuestionSelect.workQuestion.otherWorkType",defaultMessage:"Other"}),student:(0,B.jsx)(A().sA,{id:"PersonaCollectionModalQuestionSelect.workQuestion.student",defaultMessage:"Student"})},So={docs:(0,B.jsx)(A().sA,{id:"PersonaCollectionModalQuestionSelect.useQuestion.docs",defaultMessage:"Collaborate with others in docs"}),wikis:(0,B.jsx)(A().sA,{id:"PersonaCollectionModalQuestionSelect.useQuestion.wikis",defaultMessage:"Create a knowledge base / wiki"}),notes:(0,B.jsx)(A().sA,{id:"PersonaCollectionModalQuestionSelect.useQuestion.notes",defaultMessage:"Write notes"}),project:(0,B.jsx)(A().sA,{id:"PersonaCollectionModalQuestionSelect.useQuestion.project",defaultMessage:"Manage projects"}),goals:(0,B.jsx)(A().sA,{id:"PersonaCollectionModalQuestionSelect.useQuestion.goals",defaultMessage:"Track company goals and OKRs"}),ai:(0,B.jsx)(A().sA,{id:"PersonaCollectionModalQuestionSelect.useQuestion.question.ai",defaultMessage:"Create and find content with AI"}),other:(0,B.jsx)(A().sA,{id:"PersonaCollectionModalQuestionSelect.useQuestion.otherUseType",defaultMessage:"Other"})},ho={"1_10":(0,B.jsx)(A().sA,{id:"OnboardingSurvey.companySize.question.1_10",defaultMessage:"1-10"}),"10_49":(0,B.jsx)(A().sA,{id:"OnboardingSurvey.companySize.question.10_49",defaultMessage:"10-50"}),"50_99":(0,B.jsx)(A().sA,{id:"OnboardingSurvey.companySize.question.50_99",defaultMessage:"50-100"}),"100_299":(0,B.jsx)(A().sA,{id:"OnboardingSurvey.companySize.question.100_299",defaultMessage:"100-300"}),"300_999":(0,B.jsx)(A().sA,{id:"OnboardingSurvey.companySize.question.300_999",defaultMessage:"300-1000"}),"1000_5000":(0,B.jsx)(A().sA,{id:"OnboardingSurvey.companySize.question.1000_5000",defaultMessage:"1000-5000"}),"5000+":(0,B.jsx)(A().sA,{id:"OnboardingSurvey.companySize.question.5000+",defaultMessage:"5000+"})},Io={student:(0,B.jsx)(A().sA,{id:"OnboardingEducationSurvey.educationRole.question.student",defaultMessage:"Student"}),"faculty member":(0,B.jsx)(A().sA,{id:"OnboardingEducationSurvey.educationRole.question.facultyMember",defaultMessage:"Faculty member"}),"staff member":(0,B.jsx)(A().sA,{id:"OnboardingEducationSurvey.educationRole.question.staffMember",defaultMessage:"Staff member"}),other:(0,B.jsx)(A().sA,{id:"OnboardingEducationSurvey.educationRole.question.otherEducationRole",defaultMessage:"Iâ€™m not using Notion for education"})};function xo({question:e,questionType:t,title:o,randomizeSelectionOrder:a,className:n,width:i,placeholder:r,disabled:s,onSelect:d,invalid:c,styles:u,focus:p}){const g=(0,l().v3)();let f={};"role"===t&&(f=vo),"work"===t&&(f=yo),"use"===t&&(f=So),"companySize"===t&&(f=ho),"educationRole"===t&&(f=Io);const b={menuTitle:o,items:wo(f,a,g.currentUser.id),width:i||300,disabled:s||!1,getKey:e=>e,selectedItem:t,originGap:4,onSelect:e=>{d(e)},renderItem:e=>(0,B.jsx)(lo().A,{title:f[e.key],...e,className:`${n}-${e.key}`}),renderOrigin:t=>(0,B.jsx)(he().A,{...t,size:"lg",style:{height:q().A.isMobile?40:32,padding:"2px 10px",display:"flex",alignItems:"center",justifyContent:"space-between",borderRadius:q().A.isMobile?10:6,border:0,transition:"box-shadow 0.3s ease",boxShadow:`0 0 0 1px ${j().Tj.outlineButtonBorder}`,background:j().Tj.background.secondary,...c&&{border:`1px solid ${j().oZ.red}`},...u},className:n,focused:p,iconTrailing:{icon:co().w,size:"xxs",colorVariant:"tertiary"},children:(0,B.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,B.jsx)(Ie().A,{isSecondaryColor:!Boolean(e),style:q().A.isMobile?{fontSize:15}:{},children:e?f[e]:r||(0,B.jsx)(A().sA,{defaultMessage:"Select response",id:"PersonaCollectionModal.selectQuestion.label"})})})})};return(0,B.jsx)(uo().A,{...b},"persona")}function wo(e,t,o){const a=Object.keys(e);if(!t)return a;const n=(0,xe().Nx)(o);return a.filter((e=>e!==mo)).sort((()=>n()-.5)).concat(a.filter((e=>e===mo)))}function _o({onboardingState:e}){var t;return(0,B.jsx)(xo,{questionType:"work",title:(0,B.jsx)(A().sA,{defaultMessage:"Your function",id:"onboardingSurvey.persona.popuplabel"}),question:null===(t=e.planTypeAndSurveyInfo)||void 0===t||null===(t=t.surveyResponses)||void 0===t?void 0:t.userPersona,randomizeSelectionOrder:!0,invalid:!1,onSelect:t=>{!function(e,t){var o;O().A.setState({...e,planTypeAndSurveyInfo:{...e.planTypeAndSurveyInfo,surveyResponses:{...null===(o=e.planTypeAndSurveyInfo)||void 0===o?void 0:o.surveyResponses,userPersona:t}}})}(e,t)},className:He().Uaw})}function Ao({onboardingState:e}){var t;return(0,B.jsx)(xo,{questionType:"role",title:(0,B.jsx)(A().sA,{defaultMessage:"Your role",id:"onboardingSurvey.role.popuplabel"}),question:null===(t=e.planTypeAndSurveyInfo)||void 0===t||null===(t=t.surveyResponses)||void 0===t?void 0:t.userRole,invalid:!1,onSelect:t=>{!function(e,t){var o;O().A.setState({...e,planTypeAndSurveyInfo:{...e.planTypeAndSurveyInfo,surveyResponses:{...null===(o=e.planTypeAndSurveyInfo)||void 0===o?void 0:o.surveyResponses,userRole:t}}})}(e,t)},className:He().q5q})}function jo({onboardingState:e}){var t;return(0,B.jsx)(xo,{questionType:"companySize",title:(0,B.jsx)(A().sA,{defaultMessage:"Company size...",id:"onboardingSurvey.companySize.popuplabel"}),randomizeSelectionOrder:!1,question:null===(t=e.planTypeAndSurveyInfo)||void 0===t||null===(t=t.surveyResponses)||void 0===t?void 0:t.companySize,invalid:!1,onSelect:t=>{!function(e,t){var o;O().A.setState({...e,planTypeAndSurveyInfo:{...e.planTypeAndSurveyInfo,surveyResponses:{...null===(o=e.planTypeAndSurveyInfo)||void 0===o?void 0:o.surveyResponses,companySize:t}}})}(e,t)},className:He().u_N})}const ko=function(){var e;const t=(0,c().O$)(O().A),o=(0,l().v3)(),a=fo(),n={...H,marginTop:25,marginBottom:8};return(0,B.jsxs)("div",{children:[(0,B.jsx)("div",{style:{display:"flex"},children:a.map(((e,a)=>{var n;return(0,B.jsx)(bo,{checkedIntentType:null===(n=t.planTypeAndSurveyInfo)||void 0===n?void 0:n.planType,buttonClassName:He().OX4,handlePlanTypeSelect:()=>function(e){const{environment:t,onboardingState:o,surveyResponse:a}=e,n={...o,planTypeAndSurveyInfo:{...o.planTypeAndSurveyInfo,planType:a}};return T().ut(t,{...(0,N().getContextualizedOnboardingAnalyticsData)({onboardingState:n,spaceJoinOrCreate:"create",environment:t}),planType:a}),O().A.setState(n),n}({environment:o,onboardingState:t,surveyResponse:e.planType}),hideCheckboxes:!0,...e},a)}))}),(0,B.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginBottom:24,padding:16},children:[(0,B.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,B.jsxs)("div",{style:{width:"calc(50% - 12px)"},children:[(0,B.jsx)("div",{style:n,children:(0,B.jsx)(Ie().A,{isSmall:!0,children:(0,B.jsx)(A().sA,{defaultMessage:"What kind of work do you do?",id:"onboardingSurvey.persona.label"})})}),(0,B.jsx)(_o,{onboardingState:t})]}),(0,B.jsxs)("div",{style:{width:"calc(50% - 12px)"},children:[(0,B.jsx)("div",{style:n,children:(0,B.jsx)(Ie().A,{isSmall:!0,children:(0,B.jsx)(A().sA,{defaultMessage:"Whatâ€™s your role?",id:"onboardingSurvey.teamRole.labelV2"})})}),(0,B.jsx)(Ao,{onboardingState:t})]})]}),(0,B.jsx)("div",{style:n,children:(0,B.jsx)(Ie().A,{isSmall:!0,children:(0,B.jsx)(A().sA,{defaultMessage:"Whatâ€™s the size of your company?",id:"onboardingSurvey.companySize.labelV2"})})}),(0,B.jsx)(jo,{onboardingState:t}),(0,B.jsx)("div",{style:n,children:(0,B.jsx)(Ie().A,{isSmall:!0,children:(0,B.jsx)(A().sA,{defaultMessage:"What are you planning to do in Notion?",id:"onboardingSurvey.useCase.label"})})}),(0,B.jsx)(po,{useCases:(null===(e=t.planTypeAndSurveyInfo)||void 0===e||null===(e=e.surveyResponses)||void 0===e?void 0:e.useCases)??[],onSelectUseCase:e=>{!function(e,t){var o,a;const n=(null===(o=e.planTypeAndSurveyInfo)||void 0===o||null===(o=o.surveyResponses)||void 0===o?void 0:o.useCases)??[],i=new Set(n);n.includes(t)?i.delete(t):i.add(t);O().A.setState({...e,planTypeAndSurveyInfo:{...e.planTypeAndSurveyInfo,surveyResponses:{...null===(a=e.planTypeAndSurveyInfo)||void 0===a?void 0:a.surveyResponses,useCases:Array.from(i)}}})}(t,e)}})]})]})},To={stageName:"onboarding_plan_type_and_survey",shouldSkip:()=>!1,getTitle:e=>(0,B.jsx)(A().sA,{defaultMessage:"Hi {profileName}! Letâ€™s get you set up.",id:"contextualizedOnboarding.planTypeAndSurvey.title",values:{profileName:null==e?void 0:e.profileName}}),getSubTitle:()=>(0,B.jsx)(A().sA,{defaultMessage:"How do you plan to use Notion?",id:"contextualizedOnboarding.planTypeAndSurvey.subtitle"}),isContinueEnabled(e){var t;return Boolean(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.planType)},isBackEnabled:e=>!0,renderStage:()=>(0,B.jsx)(ko,{}),getDisplayType:()=>"default"};var Co=()=>o(416783),Mo=()=>o(477293);const Ro="onboardingSetupSessionCheckbox";function Po({onboardingState:e}){const t=(0,l().v3)(),o=(0,A().tz)(),a=(0,u().IS)((()=>({container:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",gap:8}})),[]),n=e.setupSessionsOptIn||!1,r=(0,c().K8)((()=>{const e=o.formatMessage({defaultMessage:"I'm interested in getting personalized support",id:"onboardingSetupSessionCheckbox.label"}),t=i().default.getEligibleGroup({experimentId:"setup_sessions_onboarding_checkbox_copy",defaultGroup:"control",parameter:"label"});return"control"===t?e:String(t)}),[o]);return(0,B.jsxs)("div",{style:a.container,children:[(0,B.jsx)(so().S,{id:Ro,size:16,checked:n,onClick:()=>{!function(e){const{onboardingState:t,optIn:o}=e,a={...t,setupSessionsOptIn:o};O().A.setState(a)}({environment:t,onboardingState:e,optIn:!n})}}),(0,B.jsx)(b().D,{as:"label",htmlFor:Ro,styleKey:"bodyRegular",colorVariant:"secondary",children:r})]})}function Do(){var e;const t=(0,c().O$)(O().A),o="on"===(0,Mo().r)("setup_sessions_onboarding_checkbox"),a=null===(e=t.planTypeAndSurveyInfo)||void 0===e?void 0:e.planType;return(0,B.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",marginTop:28,gap:32},children:[(0,B.jsx)(No,{onboardingState:t,intentType:a}),o?(0,B.jsx)(Po,{onboardingState:t}):null]})}function No(e){const{intentType:t,onboardingState:o}=e,n=(0,l().v3)(),r=(0,u().IS)((()=>({toggleGroupWrapStyle:{marginTop:0,marginBottom:32,width:"100%",justifyContent:"center"}})),[]),[s,d]=(0,a.useState)(t),c=fo();return(0,B.jsx)("div",{style:r.toggleGroupWrapStyle,children:c.map(((e,t)=>(0,B.jsx)(bo,{checkedIntentType:s,buttonClassName:He().OX4,handlePlanTypeSelect:()=>function(e,t,o,a){var n,r;let s;var d;"personal"===t?s=null!==(d=e.onboardingData)&&void 0!==d&&d.isEducationPlanEligible?"student":"other":"school"===t&&(s="student");const l=null===(n=e.planTypeAndSurveyInfo)||void 0===n?void 0:n.planType,c=!("on"===i().default.getEligibleGroup({experimentId:"setup_sessions_onboarding_checkbox",defaultGroup:"control"})||l),u={...e,planTypeAndSurveyInfo:{...e.planTypeAndSurveyInfo,surveyResponses:{...null===(r=e.planTypeAndSurveyInfo)||void 0===r?void 0:r.surveyResponses,userPersona:s},planType:t}};O().A.setState(u),c?(T().ut(a,{...(0,N().getContextualizedOnboardingAnalyticsData)({onboardingState:u,spaceJoinOrCreate:"create",environment:a}),planType:t}),(0,D().goToNextStage)({environment:a,onboardingState:u})):o(t)}(o,e.planType,d,n),...e},t)))})}function Eo({onboardingState:e}){var t;const a=(0,u().IS)((()=>({copyStyle:{fontSize:14,fontWeight:400,color:j().Tj.selectLightGray[700],position:"relative",textAlign:"center",paddingBottom:42,marginInlineStart:"auto",marginInlineEnd:"auto",maxWidth:520}})),[]),n=(0,c().K8)((()=>{var t;return null===(t=e.onboardingData)||void 0===t?void 0:t.userStore.getEmail()}),[e]);return null!==(t=e.onboardingData)&&void 0!==t&&t.isUserUsingVerifiedDomain&&n?(0,B.jsx)(Ie().A,{isSmall:!0,isMultiline:!0,style:a.copyStyle,children:(0,B.jsx)(A().sA,{defaultMessage:"You are currently logged in as <bold>{email}</bold>. By creating this workspace, you accept that it can be managed by the owners of the email domain <bold>{emailDomain}</bold>. See <domainclaimlink>this page</domainclaimlink> for more info.",id:"onboardingWorkspacePlanChoose.verifiedDomain.byline",values:{email:n,emailDomain:(0,J().zN)(n),bold:e=>(0,B.jsx)("b",{children:e}),domainclaimlink:e=>(0,B.jsx)(Co().V,{href:(0,o(232930).x)("guides.domainManagement"),external:!0,children:e})}})}):null}function Oo(){var e;const t=(0,c().O$)(O().A),o=null===(e=t.planTypeAndSurveyInfo)||void 0===e?void 0:e.planType;return(0,B.jsx)(No,{onboardingState:t,intentType:o})}function Bo(e){return!("partner_program_onboarding_flow"!==e.flowName||!Boolean(e.selectedEligibleWorkspaceId))}const zo={stageName:"onboarding_plan_type_choose",shouldSkip:Bo,getTitle:e=>(0,B.jsx)(A().sA,{defaultMessage:"How do you want to use Notion?",id:"onboardingWorkspacePlanChoose.step.titleV2"}),getSubTitle:e=>(0,B.jsx)(A().sA,{defaultMessage:"This helps customize your experience",id:"onboardingWorkspacePlanChoose.step.subtitleV2"}),isContinueEnabled(e){var t;return Boolean(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.planType)},onContinue(e,t){var o,a;const n=null===(o=t.planTypeAndSurveyInfo)||void 0===o?void 0:o.planType;if(void 0===n)return void Ge().log({level:"error",from:"OnboardingWorkspacePlanChoose",type:"unexpectedValue",error:{message:"Unexpected Value: onboardingState.planSelection is undefined."}});if(null===(a=t.onboardingData)||void 0===a||!a.canUserCreateSpace)return void(0,P().handleUserCanNotCreateSpace)(e,t);T().ut(e,{...(0,N().getContextualizedOnboardingAnalyticsData)({onboardingState:t,spaceJoinOrCreate:"create",environment:e}),planType:n});"on"===i().default.getEligibleGroup({experimentId:"setup_sessions_onboarding_checkbox",defaultGroup:"control"})&&(0,d().u)({environment:e,event:{eventName:"onboarding_setup_sessions_checkbox",eventProperties:{opted_in:t.setupSessionsOptIn,plan_type:n}}})},getContinueButtonStyles:()=>({width:300,height:36,marginTop:64}),isBackEnabled:e=>!(!e.isFirstTimeOnboarding||!(0,N().getIsNoseyIntroStageEnabled)({onboardingState:e,disableExposureLogging:!0}))||(!e.isFirstTimeOnboarding||0!==e.joinableSpaces.length),renderStage:()=>(0,B.jsx)(Do,{}),headerStyles:{textAlign:"center"},renderContentUnderContinueButton:(e,t)=>(0,B.jsx)("div",{style:{marginTop:48},children:(0,B.jsx)(Eo,{onboardingState:e})}),shouldHideDesktopBottomContent(e){if("on"===i().default.getEligibleGroup({experimentId:"setup_sessions_onboarding_checkbox",defaultGroup:"control"}))return!1;const t=null==e?void 0:e.planTypeAndSurveyInfo;return!(null!=t&&t.planType)},getAlignment:()=>"center",getDisplayType:()=>"default"},Fo={stageName:"mobile_onboarding_plan_type_choose",shouldSkip:()=>!1,getTitle:e=>(0,B.jsx)(A().sA,{defaultMessage:"How do you want to use Notion?",id:"onboardingWorkspacePlanChoose.mobileStep.titleV2"}),isContinueEnabled(e){var t;return Boolean(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.planType)},onContinue(e,t){var o,a;const n=null===(o=t.planTypeAndSurveyInfo)||void 0===o?void 0:o.planType;void 0!==n?(null!==(a=t.onboardingData)&&void 0!==a&&a.canUserCreateSpace||(0,P().handleUserCanNotCreateSpace)(e,t),T().ut(e,{...(0,N().getContextualizedOnboardingAnalyticsData)({onboardingState:t,spaceJoinOrCreate:"create",environment:e}),planType:n})):Ge().log({level:"error",from:"OnboardingWorkspacePlanChoose",type:"unexpectedValue",error:{message:"Unexpected Value: onboardingState.planTypeAndSurveyInfo?.planType is undefined."}})},isBackEnabled:e=>"mobile_native_listener_sidebar_switcher"!==e.source&&0!==e.joinableSpaces.length,renderStage:()=>(0,B.jsx)(Oo,{}),headerStyles:{textAlign:"center"},getAlignment:()=>"start",getDisplayType:()=>"default"};var Wo=()=>o(560686),Uo=()=>o(660237),Lo=()=>o(376203);function Vo({onboardingState:e,environment:t,useNewMobileProfileDesign:o}){var a;const n="reimagined_default"===e.flowName;return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(Qo,{countryCode:null===(a=e.onboardingData)||void 0===a?void 0:a.countryCode,onClick:()=>{O().A.setState({...e,emailOptIn:!e.emailOptIn})},emailOptIn:Boolean(e.emailOptIn),device:t.device,useNewMobileProfileDesign:o,isReimaginedFlow:n}),(0,B.jsx)(Ko,{useNewMobileProfileDesign:o,isReimaginedFlow:n})]})}function Qo(e){const{countryCode:t,onClick:o,emailOptIn:a,isReimaginedFlow:n}=e,i=(0,A().tz)(),r=(0,c().K8)((()=>q().A.isMobile&&(0,ye().S5)()),[]),s=(0,Lo().B)(),d="out"===(0,Uo().eh)(t).opt,l=d?i.formatMessage({id:"onboardingEmailConsent.checkbox.optOutlabel",defaultMessage:"No, I do not want to receive marketing communications from Notion."}):i.formatMessage({id:"onboardingEmailConsent.checkbox.optInlabelV2",defaultMessage:"I agree to Notion marketing communications"});return(0,B.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:q().A.isMobile?12:4},children:(0,B.jsxs)("div",{style:{cursor:"pointer",display:"flex",alignItems:"center"},children:[r?(0,B.jsx)(so().S,{style:{margin:8,marginInlineStart:0},checked:d?!a:a,size:16,onClick:o,stroke:j().Tj.border.strong,id:s}):n?(0,B.jsx)(so().S,{style:{marginInlineEnd:12},checked:d?!a:a,size:16,onClick:o,id:s}):(0,B.jsx)("input",{type:"checkbox","aria-label":l,style:{margin:10,marginInlineStart:0,borderRadius:2,cursor:"pointer",accentColor:j().oZ.blue,transform:e.device.isSafari?"scale(1.25)":"scale(1)"},checked:d?!a:a,onChange:o,id:s}),(0,B.jsx)(b().D,{styleKey:n?"bodyRegular":"captionXs",colorVariant:n?"primary":e.useNewMobileProfileDesign?"secondary":"tertiary",as:"label",htmlFor:s,children:l})]})})}function Ko({useNewMobileProfileDesign:e,isReimaginedFlow:t}){const o=(0,u().IS)((()=>({copy:{textAlign:"center",paddingBottom:32,paddingTop:e||t?0:32,maxWidth:520,marginTop:8,...e&&{color:j().Tj.text.secondary,fontWeight:G().Wy.regular}}})),[e,t]);return(0,B.jsx)(Ie().A,{isMultiline:!0,isSmall:!0,isSecondaryColor:!0,style:o.copy,children:(0,B.jsx)(A().sA,{id:"onboardingEmailConsent.unsubscribe.label",defaultMessage:"You may unsubscribe from receiving marketing communications at any time. Notionâ€™s websites and communications are subject to our <privacypolicy>Privacy Policy</privacypolicy>.",values:{privacypolicy:e=>(0,B.jsx)(Co().V,{href:"https://www.notion.com/trust/privacy-policy",external:!0,onClick:e=>e.stopPropagation(),style:{fontWeight:G().Wy.semibold,textDecoration:"auto",color:j().Tj.text.tertiary},children:e})}})})}o(816573),o(878100),o(177936),o(748140),o(821903),o(491134),o(128845),o(237467),o(444732),o(979577),o(964979);var Go=()=>o(826292),Ho=()=>o(782482),Zo=()=>o(388926),qo=()=>o(31511),Jo=()=>o(514608),$o=()=>o(848392),Yo=()=>o(496414),Xo=()=>o(892632),ea=()=>o(738471),ta=()=>o(15144),oa=()=>o(360083),aa=()=>o(876853),na=()=>o(757695);class ia extends na().Store{getInitialState(){return{showPassword:!1,displayPasswordInput:!0}}}const ra=ia;function sa({device:e,shouldUseNewMobileProfileDesign:t}){return(0,u().IS)((()=>({input:{backgroundColor:"transparent",height:31,borderRadius:6},saveNewPasswordInput:{display:"flex",flexDirection:"column",textAlign:"start",width:"100%"},newPasswordHint:{borderRadius:12,background:j().Tj.background.tertiaryTranslucent,width:"100%",fontSize:13,color:j().Tj.text.secondary,padding:6,marginTop:12},profilePhotoButton:{width:t?72:112,height:t?72:112,borderRadius:"100%",margin:"0 auto",marginTop:t?8:48,marginBottom:t?8:12},placeholderAvatar:{display:"flex",justifyContent:"center",alignItems:"center"},profileName:{marginBottom:24,border:"none",background:"none",width:"auto",maxWidth:256,height:32,borderRadius:6,boxShadow:"none",color:j().Tj.text.secondary},profileNameInput:{height:32,fontSize:26,fontWeight:G().Wy.bold,color:j().Tj.text.primary},profileNameInputLabel:{color:j().Tj.text.secondary,fontSize:12,display:"flex",justifyContent:"center"},placeholderImage:{position:"absolute",width:t?40:q().A.isMobile?72:48,height:t?40:q().A.isMobile?72:48,opacity:t?.5:q().A.isMobile?.2:1,objectFit:"cover",borderRadius:"100%",insetInlineStart:"50%",top:"50%",transform:"translate(calc(var(--direction, 1) * -50%), -50%)"},photoBadgePlusContainer:{position:"absolute",bottom:-7,insetInlineEnd:-7,width:42,height:42,borderRadius:"50%",border:`4px solid ${j().Tj.background.secondary}`,background:j().Tj.border.primary,backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",display:"flex",alignItems:"center",justifyContent:"center"},mobileFormLabel:{fontSize:12,color:j().Tj.text.secondary,fontWeight:500,marginTop:20,marginBottom:4},mobileInput:{height:42,backgroundColor:"transparent",borderRadius:10,...t&&{border:`1px solid ${j().Tj.border.primary}`,background:"none"}}})),[t])}function da({onboardingState:e,experimentName:t}){const o=(0,Mo().r)(t,{disableExposureLogging:!0});(0,a.useEffect)((()=>{e.isPasswordAllowed&&i().default.manuallyLogExperimentExposure(t)}),[e.isPasswordAllowed,t]);const[n,r]=(0,a.useState)(null);return{passwordEntryType:(0,a.useMemo)((()=>e.isPasswordAllowed&&"no_password"!==o?"manually_opted_out"===n||null===n&&"optional_default_no"===o?"password_optional_default_no":"manually_opted_in"===n?"password_optional_default_yes":"password_required":"no_password"),[e.isPasswordAllowed,o,n]),setOptInOutPasswordSetting:r}}function la(){var e;const t=(0,c().uB)(void 0,ra),n=(0,A().tz)(),i=(0,l().v3)(),r=(0,c().O$)(O().A),d=sa({device:i.device}),{profilePhoto:f,profileName:b,password:v}=r,y="dark"===(0,u().eP)()?m().A.images.onboarding.profilePlaceholderDarkmodePng:m().A.images.onboarding.profilePlaceholderLightmodePng,S=!f&&b,h=(0,c().K8)((()=>t.state.invalidField),[t]),I=(0,c().K8)((()=>t.state.showPassword),[t]),x="performance_marketing_term_onboarding"===r.flowName,[w,_]=(0,a.useState)(!1),[k,C]=(0,a.useState)(""),M=(0,et().X)("onboarding_profile_enable_notion_faces"),R=(0,c().K8)((()=>(0,ye().f2)()),[]),P=(0,a.useRef)(!1),{passwordEntryType:E,setOptInOutPasswordSetting:z}=da({onboardingState:r,experimentName:"desktop_onboarding_optional_password"});(0,a.useEffect)((()=>{O().A.update((e=>({...e,isExpectingPassword:["password_required","password_optional_default_yes"].includes(E)})))}),[E]),(0,a.useEffect)((()=>{var e;if(!b&&!P.current&&null!==(e=r.onboardingData)&&void 0!==e&&e.userStore&&R){const e=r.onboardingData.userStore.getEmail();if(e){const t=(0,s().lO)(e);t&&O().A.update((e=>e.profileName?e:{...e,profileName:t}))}}}),[b,R,null===(e=r.onboardingData)||void 0===e?void 0:e.userStore]),(0,a.useEffect)((()=>{if(!M)return;const e=e=>{if(!e.data.profilePhotoData)return;Yo().m({message:(0,A().YK)({savingProfilePhoto:{defaultMessage:"Saving your profile photo",id:"contextualizedOnboardingProfile.uploadingFacesProfilePhoto"}}).savingProfilePhoto});const t=function(e){try{let t;t=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):unescape(e.split(",")[1]);const o=e.split(",")[0].split(":")[1].split(";")[0],a=new Uint8Array(t.length);for(let e=0;e<t.length;e++)a[e]=t.charCodeAt(e);return new Blob([a],{type:o})}catch{return null}}(e.data.profilePhotoData);if(!t)return void Yo().V();const o=new File([t],"notion-profile-photo.png",{type:"image/png"});Xo().cA(o,i,"public",(t=>{C(e.data.faceString),ma(t,i),Yo().V(),_(!1)}))};return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}}),[i,n,M]);const[F,W]=(0,a.useState)(null),[U,L]=(0,a.useState)(),V=(0,c().K8)((()=>{const e=(0,N().getStageName)({flowName:r.flowName,stageIndex:r.currentStageIndex,environment:i});return ws[e]}),[r,i]),Q=(0,c().K8)((()=>null==V?void 0:V.isContinueEnabled(r,i)),[V,r,i]),K=!x;function H(){return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)("div",{style:{...s().Gy,marginTop:24,color:j().Tj.text.secondary},children:(0,B.jsx)(A().sA,{defaultMessage:"Set a password",id:"contextualizedOnboardingProfile.passwordQuestion.label"})}),(0,B.jsx)(qo().A,{type:I?"text":"password",value:v||void 0,onChange:e=>{O().A.setState({...r,password:e.target.value}),W(null)},onIconClick:()=>t.setState({showPassword:!t.state.showPassword,displayPasswordInput:t.state.displayPasswordInput}),icon:(0,B.jsx)(p().I,{icon:Jo().eyeFillSmallIcon,size:"sm",colorVariant:"tertiary"}),onClearButtonClick:()=>O().A.setState({...r,password:void 0}),placeholder:n.formatMessage({defaultMessage:"Password",id:"contextualizedOnboardingProfile.passwordInput.placeholderV2"}),style:{...d.input,..."password"===h?s().Hp:{}},onBlur:()=>{const{password:e}=r;if(e){const t=(0,Wo().ZK)(e);t.success||(O().A.setState({...r}),W(t.reason))}},autoComplete:"new-password"}),(0,B.jsx)(Ie().A,{isMultiline:!0,isSecondaryColor:!0,style:{fontSize:12,lineHeight:"16px",visibility:v?void 0:"hidden",color:j().oZ.red,marginTop:4},children:(0,B.jsx)(ca,{passwordErrorData:F})})]})}return(0,B.jsx)(Ho().N,{capture:!0,debugName:"ContextualizedOnboardingProfile",onEnter:async()=>{Q&&await(0,D().goToNextStage)({environment:i,onboardingState:r})},onLeft:Pe().D_,onRight:Pe().D_,onSelectAll:Pe().D_,onRedo:Pe().D_,onUndo:Pe().D_,onCut:Pe().D_,onCopy:Pe().D_,onPaste:Pe().D_,onKeypress:Pe().D_,onDelete:Pe().D_,onBackspace:Pe().D_,onTab:Pe().D_,children:(0,B.jsxs)("div",{style:{width:300,alignSelf:"center",marginTop:x?0:36},children:[M?(0,B.jsx)(o(107975).a,{style:{width:"80vw",height:"80vh",insetInlineStart:0,insetInlineEnd:0,margin:"auto",position:"absolute",top:48},showCloseIcon:!1,onDismiss:()=>{_(!1)},open:w,backgroundStyle:{inset:"initial"},render:()=>(0,B.jsx)("div",{style:{width:"80vw",height:"80vh"},children:(0,B.jsx)("iframe",{name:"test",src:`http://faces.notion.com?face=${k}`,style:{width:"80vw",height:"80vh",border:"none"}})})}):void 0,K?(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(te().Ay,{ariaLabel:n.formatMessage({id:"contextualizedOnboardingProfile.uploadPhotoButton.ariaLabel",defaultMessage:"Upload profile photo"}),onClick:()=>{M?_(!0):ba(i)},style:{width:64,height:64,borderRadius:"100%",boxShadow:"none",overflow:"hidden",margin:"0 auto",...S&&{display:"flex",justifyContent:"center",alignItems:"center",background:j().Tj.whiteButtonBackground},...!f&&{position:"relative",opacity:.2,background:j().Tj.border.primary}},children:S?(0,B.jsx)("div",{style:{fontWeight:G().Wy.bold,color:j().Tj.icon.secondary,fontSize:24},children:b.charAt(0).toUpperCase()}):f?(0,B.jsx)(oa().A,{url:f,isAuthenticated:!1,width:120,stripGoogleIconQuery:!0,render:(e,t)=>(0,B.jsx)(ea().A,{src:t,style:{width:"100%",height:"100%",objectFit:"cover"}})}):(0,B.jsx)(oa().A,{url:y,isAuthenticated:!1,width:120,stripGoogleIconQuery:!0,render:(e,t)=>(0,B.jsx)("div",{children:(0,B.jsx)(ea().A,{src:t,style:d.placeholderImage})})})}),(0,B.jsx)("div",{style:{width:"100%",textAlign:"center",marginTop:8},children:(0,B.jsx)("div",{style:{display:"inline-block"},children:(0,B.jsx)(g().p,{size:"sm",colorPalette:"gray",onClick:()=>{M?_(!0):ba(i)},style:{fontSize:14,fontWeight:400,marginTop:4,fontStyle:"normal",lineHeight:"18px",color:j().Tj.text.secondary},iconLeading:o(782798).R,children:f?(0,B.jsx)(A().sA,{defaultMessage:"Change",id:"contextualizedOnboardingProfile.changeProfilePhotoButton.label"}):(0,B.jsx)(A().sA,{defaultMessage:"Add a photo",id:"contextualizedOnboardingProfile.addProfilePhotoButton.label"})})})})]}):void 0,(0,B.jsx)("div",{style:{...s().Gy,marginTop:36,color:j().Tj.text.secondary},children:(0,B.jsx)(A().sA,{defaultMessage:"Enter your name",id:"onboardingProfile.nameQuestion.labelV2"})}),(0,B.jsx)(qo().A,{autoFocus:!0,placeholder:n.formatMessage({defaultMessage:"Name",id:"contextualizedOnboardingProfile.nameInput.placeholder"}),value:b,onChange:e=>{P.current=!0,O().A.setState({...r,profileName:e.target.value}),T().o8(i,(0,N().getContextualizedOnboardingAnalyticsData)({onboardingState:O().A.state,environment:i})),L(ga(e.target.value))},style:{marginInlineEnd:4,...d.input,..."name"===h?s().Hp:{}},inputElementAttributes:{"aria-describedby":U?"onboarding-name-validation-error":void 0}}),U?(0,B.jsx)("div",{style:{marginTop:4},children:(0,B.jsx)(ta().R,{id:"onboarding-name-validation-error",error:U})}):void 0,"password_required"===E?H():void 0,"password_optional_default_no"===E?(0,B.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:(0,B.jsx)(g().p,{onClick:()=>{z("manually_opted_in")},colorPalette:"blue",style:{textAlign:"center",fontSize:14,marginTop:20,marginBottom:10},children:(0,B.jsx)(A().sA,{defaultMessage:"Set password (optional)",id:"contextualizedOnboardingProfile.passwordOptionalOptInHelperText.addPassword"})})}):void 0,"password_optional_default_yes"===E?(0,B.jsxs)(B.Fragment,{children:[H(),(0,B.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:(0,B.jsx)(g().p,{onClick:()=>{z("manually_opted_out"),O().A.update((e=>({...e,password:void 0})))},colorPalette:"blue",style:{textAlign:"center",fontSize:14,marginTop:20,marginBottom:10},children:(0,B.jsx)(A().sA,{defaultMessage:"Skip password",id:"contextualizedOnboardingProfile.passwordOptionalOptOutHelperText.skipPassword"})})})]}):void 0]})})}function ca({passwordErrorData:e}){if(!e)return null;const t=Go().K[e.type];return(0,B.jsx)(A().sA,{...t})}function ua(){var e;const t=(0,A().tz)(),o=(0,l().v3)(),n=(0,c().O$)(O().A),{profilePhoto:i,profileName:r,password:d}=n,u=(0,c().uB)(void 0,ra),[f,b]=(0,a.useState)(),v=!i&&r,y=`\n\t.profileNameInput::placeholder {\n\t\tfont-size: 26px;\n\t\tfont-weight: ${G().Wy.bold};\n\t\tcolor: ${j().Tj.text.disabled};\n\t\topacity: 1;\n\t\ttext-align: center;\n\t}\n\t.profileNameInput:focus-visible {\n\t\toutline: none;\n\t}\n\n\t.profileNameInput:placeholder-shown {\n\t\ttext-align: left;\n\t\twidth: 192px;\n\t}\n\n\t.profileNameInput {\n\t\ttext-align: center;\n\t\twidth: 100%;\n\t}\n`,S=(0,c().K8)((()=>q().A.isMobile&&(0,ye().S5)()),[]),h=(0,c().K8)((()=>(0,ye().f2)()),[]),I=(0,a.useRef)(!1),x=sa({device:o.device,shouldUseNewMobileProfileDesign:S}),w=(0,c().K8)((()=>u.state.invalidField),[u]),_=(0,c().K8)((()=>u.state.showPassword),[u]),[k,C]=(0,a.useState)(!1),M=(0,c().K8)((()=>"dark"===o.ThemeStore.state.mode?S?m().A.images.onboarding.profilePlaceholderDarkmodeV2Png:m().A.images.onboarding.profilePlaceholderDarkmodePng:S?m().A.images.onboarding.profilePlaceholderLightmodeV2Png:m().A.images.onboarding.profilePlaceholderLightmodePng),[o,S]),{passwordEntryType:R,setOptInOutPasswordSetting:P}=da({onboardingState:n,experimentName:"mobile_onboarding_optional_password"});(0,a.useEffect)((()=>{O().A.update((e=>({...e,isExpectingPassword:["password_required","password_optional_default_yes"].includes(R)})))}),[R]),(0,a.useEffect)((()=>{var e;if(!r&&!I.current&&null!==(e=n.onboardingData)&&void 0!==e&&e.userStore&&h){const e=n.onboardingData.userStore.getEmail();if(e){const t=(0,s().lO)(e);t&&O().A.update((e=>e.profileName?e:{...e,profileName:t}))}}}),[r,h,null===(e=n.onboardingData)||void 0===e?void 0:e.userStore]);const D=()=>(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)("div",{style:{...s().Gy,marginTop:24,color:j().Tj.text.secondary,alignSelf:"baseline",...S&&{marginBottom:10}},children:(0,B.jsx)(A().sA,{defaultMessage:"Set a password",id:"contextualizedOnboardingProfile.passwordQuestion.label"})}),(0,B.jsx)(qo().A,{onFocus:()=>C(!0),type:_?"text":"password",value:d||void 0,onChange:e=>{O().A.setState({...n,password:e.target.value})},onIconClick:()=>u.setState({showPassword:!u.state.showPassword,displayPasswordInput:u.state.displayPasswordInput}),icon:(0,B.jsx)(p().I,{icon:Jo().eyeFillSmallIcon,size:"sm",colorVariant:"tertiary"}),onClearButtonClick:()=>O().A.setState({...n,password:void 0}),placeholder:t.formatMessage(S?{defaultMessage:"Your password...",id:"contextualizedOnboardingProfile.passwordInput.placeholderV3"}:{defaultMessage:"Password",id:"contextualizedOnboardingProfile.passwordInput.placeholderV2"}),style:{...x.mobileInput,..."password"===w?s().Hp:{}},onBlur:()=>{const{password:e}=n;if(e){(0,Wo().ZK)(e).success||O().A.setState({...n})}C(!1)},autoComplete:"new-password"}),d||k?(0,B.jsx)(fa,{onboardingState:n,store:u}):void 0]});return(0,B.jsx)(Ho().N,{debugName:"MobileOnboardingProfile",capture:!0,onLeft:Pe().D_,onRight:Pe().D_,onSelectAll:Pe().D_,onRedo:Pe().D_,onUndo:Pe().D_,onCut:Pe().D_,onCopy:Pe().D_,onPaste:Pe().D_,onKeypress:Pe().D_,onDelete:Pe().D_,onBackspace:Pe().D_,onTab:Pe().D_,children:(0,B.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[(0,B.jsxs)("div",{style:{width:164},children:[(0,B.jsx)(te().Ay,{ariaLabel:t.formatMessage({id:"contextualizedOnboardingProfile.uploadPhotoButton.ariaLabel",defaultMessage:"Upload profile photo"}),onClick:()=>ba(o),style:{...x.profilePhotoButton,...v&&x.placeholderAvatar},children:v?(0,B.jsxs)("div",{style:{position:"relative"},children:[(0,B.jsx)("div",{style:{fontWeight:G().Wy.bold,color:j().Tj.icon.secondary,fontSize:40,width:S?72:112,height:S?72:112,alignContent:"center",justifyItems:"center",textAlign:"center",background:j().Tj.background.elevated,border:S?`1px solid ${j().Tj.border.primary}`:`0.5px solid ${j().Tj.border.secondary}`,borderRadius:"100%"},children:r.charAt(0).toUpperCase()}),S?void 0:(0,B.jsx)("div",{style:x.photoBadgePlusContainer,children:(0,B.jsx)(p().I,{icon:$o().M,size:"lg",colorVariant:"secondary"})})]}):i?(0,B.jsx)("div",{children:(0,B.jsx)(oa().A,{url:i,isAuthenticated:!1,width:120,stripGoogleIconQuery:!0,render:(e,t)=>(0,B.jsxs)("div",{style:{position:"relative"},children:[(0,B.jsx)(ea().A,{src:t,style:{width:S?72:112,height:S?72:112,objectFit:"cover",borderRadius:"100%"}}),S?void 0:(0,B.jsx)("div",{style:x.photoBadgePlusContainer,children:(0,B.jsx)(p().I,{icon:$o().M,size:"lg",colorVariant:"secondary"})})]})})}):(0,B.jsx)("div",{children:(0,B.jsx)(oa().A,{url:M,isAuthenticated:!1,width:120,stripGoogleIconQuery:!0,render:(e,t)=>(0,B.jsxs)("div",{style:{position:"relative",width:S?72:112,height:S?72:112,background:j().Tj.background.tertiaryTranslucent,borderRadius:"100%",...S&&{border:`1px solid ${j().Tj.border.primary}`}},children:[(0,B.jsx)(ea().A,{src:t,style:x.placeholderImage}),S?void 0:(0,B.jsx)("div",{style:x.photoBadgePlusContainer,children:(0,B.jsx)(p().I,{icon:$o().M,size:"lg",colorVariant:"secondary"})})]})})})}),S?(0,B.jsx)("div",{style:x.profileNameInputLabel,children:(0,B.jsx)(A().sA,{defaultMessage:"Upload photo (optional)",id:"contextualizedOnboardingProfile.uploadPhoto.label"})}):void 0]}),S?(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)("div",{style:{...s().Gy,marginTop:16,marginBottom:10,color:j().Tj.text.secondary,alignSelf:"baseline"},children:(0,B.jsx)(A().sA,{defaultMessage:"Enter your name",id:"contextualizedOnboardingProfile.profileNameQuestion.label"})}),(0,B.jsx)(qo().A,{type:"text",autoComplete:"off",preventSafariAutofill:!0,autoFocus:!0,value:r,onChange:e=>{I.current=!0,O().A.update((t=>({...t,profileName:e.target.value}))),T().o8(o,(0,N().getContextualizedOnboardingAnalyticsData)({onboardingState:O().A.state,environment:o})),b(ga(e.target.value))},placeholder:t.formatMessage({id:"onboardingProfile.mobile.nameInput.placeholderV3",defaultMessage:"Your name..."}),style:x.mobileInput,errorOutline:Boolean(f),inputElementAttributes:{"aria-describedby":f?"onboarding-name-validation-error":void 0}}),f?(0,B.jsx)("div",{style:{marginTop:4},children:(0,B.jsx)(ta().R,{id:"onboarding-name-validation-error",error:f})}):void 0]}):(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)("style",{children:y}),(0,B.jsx)(qo().A,{type:"text",autoComplete:"off",preventSafariAutofill:!0,autoFocus:!0,inputClassName:"profileNameInput",format:"transparent",focusInitial:!0,value:r,placeholder:t.formatMessage({defaultMessage:"Your name",id:"onboardingProfile.mobile.nameInput.placeholderV2"}),onChange:e=>{I.current=!0,O().A.setState({...n,profileName:e.target.value}),T().o8(o,(0,N().getContextualizedOnboardingAnalyticsData)({onboardingState:O().A.state,environment:o})),b(ga(e.target.value))},style:x.profileName,inputStyle:x.profileNameInput,overrideDefaultWidth:!0,inputElementAttributes:{"aria-describedby":f?"onboarding-name-validation-error":void 0}}),f?(0,B.jsx)("div",{style:{marginTop:4},children:(0,B.jsx)(ta().R,{id:"onboarding-name-validation-error",error:f})}):void 0,(0,B.jsx)(Zo().A,{size:.5,colorVariant:"secondary"})]}),"password_required"===R?D():void 0,"password_optional_default_no"===R?(0,B.jsx)(g().p,{onClick:()=>{P("manually_opted_in")},colorPalette:"blue",style:{textAlign:"center",padding:0,font:"inherit",fontSize:15,marginTop:20,marginBottom:10},children:(0,B.jsx)(A().sA,{defaultMessage:"Set password (optional)",id:"contextualizedOnboardingProfile.passwordOptionalOptInHelperText.addPassword"})}):void 0,"password_optional_default_yes"===R?(0,B.jsxs)(B.Fragment,{children:[D(),(0,B.jsx)(g().p,{onClick:()=>{P("manually_opted_out"),O().A.update((e=>({...e,password:void 0})))},colorPalette:"blue",style:{textAlign:"center",padding:0,font:"inherit",fontSize:15,marginTop:20,marginBottom:10},children:(0,B.jsx)(A().sA,{defaultMessage:"Skip password",id:"contextualizedOnboardingProfile.passwordOptionalOptOutHelperText.skipPassword"})})]}):void 0,S?(0,B.jsx)(Zo().A,{size:.5,colorVariant:"secondary",style:{marginTop:28}}):void 0,(0,B.jsx)(Vo,{onboardingState:n,environment:o,useNewMobileProfileDesign:S})]})})}const pa=(0,A().YK)({untransliteratible:{defaultMessage:"Please enter a valid name",id:"contextualizedOnboardingProfile.nameError.label"},tooLong:{defaultMessage:"Name must be at most 65 characters",id:"contextualizedOnboardingProfile.nameErrorTooLong.label"},empty:{defaultMessage:"Name must not be empty",id:"contextualizedOnboardingProfile.nameErrorEmpty.label"}});function ga(e){return e?(0,aa().r)(e)?e.length>65?pa.tooLong:void 0:pa.untransliteratible:pa.empty}function fa({onboardingState:e,store:t}){const o=(0,A().tz)(),a=(0,l().v3)(),{password:n}=e,i=sa({device:a.device}),r=[{description:o.formatMessage({id:"onboardingProfile.passwordHint.numbers",defaultMessage:"1 number and 1 letter"}),validator:e=>Boolean((0,Wo().lO)(e)&&(0,Wo().aC)(e))},{description:o.formatMessage({id:"onboardingProfile.passwordHint.uniqueCharacters",defaultMessage:"3 unique characters"}),validator:e=>Pe().sb(e).length>=3},{description:o.formatMessage({id:"onboardingProfile.passwordHint.numCharacters",defaultMessage:"8 or more characters"}),validator:e=>e.length>=8}];return(0,B.jsx)("div",{style:i.newPasswordHint,children:r.map(((e,t)=>{const{description:o,validator:a}=e;return(0,B.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:4},children:[o,(0,B.jsx)(so().S,{fill:j().Tj.whiteButtonBackground,checked:Boolean(n)&&a(n??""),round:!0,size:20})]},t)}))})}function ba(e){Xo().Bz({environment:e,bucket:"public",onComplete:t=>ma(t,e),accept:"image/*"})}function ma(e,t){T().RZ(t,(0,N().getContextualizedOnboardingAnalyticsData)({onboardingState:O().A.state,environment:t})),O().A.setState({...O().A.state,profilePhoto:e[0]})}function va(e){const{onboardingData:t,isFirstTimeOnboarding:o}=e;if(!t)return!1;if(!1===o)return!0;const a=s().TV({userStore:t.userStore});return Boolean(a)}const ya={stageName:"profile",shouldSkip:va,async onSkip(e,t){const{onboardingData:o,isFirstTimeOnboarding:a}=t;if(!o)return;if(!1===a)return;const n=s().TV({userStore:o.userStore});Boolean(n)&&await(0,D().maybeCompleteOnboardingAfterProfileStage)(e)},getTitle:e=>At().yN.includes((null==e?void 0:e.flowName)??"")?(0,B.jsx)(A().sA,{defaultMessage:"Welcome! Iâ€™m Notion Assistant. Iâ€™m here to help get you set up.",id:"onboarding.profileStageWithAssistant.title"}):(0,B.jsx)(A().sA,{defaultMessage:"Create your profile",id:"onboarding.educationProfileStage.title"}),getSubTitle:e=>"performance_marketing_term_onboarding"===(null==e?void 0:e.flowName)?null:At().yN.includes((null==e?void 0:e.flowName)??"")?(0,B.jsx)(A().sA,{defaultMessage:"First, letâ€™s create your profile.",id:"onboarding.profileStageWithAssistant.subtitle"}):(0,B.jsx)(A().sA,{defaultMessage:"This is how youâ€™ll appear in Notion",id:"onboarding.educationProfileStage.subtitle"}),isContinueEnabled:e=>!ga(e.profileName)&&(!e.isExpectingPassword||void 0!==e.password&&(0,Wo().ZK)(e.password).success),async onContinue(e,t){await(0,P().setProfileData)(e,t),O().A.setState({...t,password:void 0}),await(0,D().maybeCompleteOnboardingAfterProfileStage)(e)},isBackEnabled:e=>!1,renderStage:()=>(0,B.jsx)(la,{}),renderContentUnderContinueButton:(e,t)=>(0,B.jsx)(Vo,{onboardingState:e,environment:t}),getContinueButtonStyles:()=>({height:32,width:300,marginTop:70,alignSelf:"center"}),headerStyles:{width:void 0},getAlignment:()=>"center",getDisplayType:()=>"default"},Sa={stageName:"mobile_profile",shouldSkip:va,getTitle:e=>At().yN.includes((null==e?void 0:e.flowName)??"")?(0,B.jsx)(A().sA,{defaultMessage:"Welcome! Iâ€™m Notion Assistant. Iâ€™m here to help get you set up.",id:"contextualizedOnboarding.educationProfileStageMobileWithAssistant.title"}):(0,B.jsx)(A().sA,{defaultMessage:"Create your profile",id:"contextualizedOnboarding.educationProfileStageMobile.title"}),isContinueEnabled:e=>!ga(e.profileName)&&(!e.isExpectingPassword||void 0!==e.password&&(0,Wo().ZK)(e.password).success),async onContinue(e,t){await(0,P().setProfileData)(e,t),O().A.setState({...t,password:void 0}),await(0,D().maybeCompleteOnboardingAfterProfileStage)(e)},isBackEnabled:(e,t)=>!1,renderStage:()=>(0,B.jsx)(ua,{}),getDisplayType:()=>"default"};var ha=()=>o(313127),Ia=()=>o(115512);const xa={databases:{title:(0,B.jsx)(A().sA,{id:"onboardingQuickStartFeatures.databases.title",defaultMessage:"Databases"}),description:(0,B.jsx)(A().sA,{id:"onboardingQuickStartFeatures.databases.description",defaultMessage:"Organize and track anything"}),imagePath:"/images/onboarding/quick-start-databases.png",shouldAssetBeOnBottom:!0},meeting_notes:{title:(0,B.jsx)(A().sA,{id:"onboardingQuickStartFeatures.meetingNotes.title",defaultMessage:"Meeting Notes"}),description:(0,B.jsx)(A().sA,{id:"onboardingQuickStartFeatures.meetingNotes.description",defaultMessage:"Capture and share discussions"}),imagePath:"/images/onboarding/quick-start-meeting-notes.png"},ai_agents:{title:(0,B.jsx)(A().sA,{id:"onboardingQuickStartFeatures.aiAgents.title",defaultMessage:"AI Agents"}),description:(0,B.jsx)(A().sA,{id:"onboardingQuickStartFeatures.aiAgents.description",defaultMessage:"Let Notion AI work for you"}),imagePath:"/images/onboarding/quick-start-ai-agents.png",imageStyle:{height:90}},enterprise_search:{title:(0,B.jsx)(A().sA,{id:"onboardingQuickStartFeatures.enterpriseSearch.title",defaultMessage:"Enterprise Search"}),description:(0,B.jsx)(A().sA,{id:"onboardingQuickStartFeatures.enterpriseSearch.description",defaultMessage:"Find anything across all sources"}),imagePath:"/images/onboarding/quick-start-enterprise-search.png",shouldAssetBeOnBottom:!0}};function wa(){const e=(0,l().v3)(),t=(0,c().O$)(O().A),o=(0,u().IS)((()=>({wrapper:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:14}})),[]),a=t.selectedQuickStartFeatures??[];return(0,B.jsx)("div",{style:o.wrapper,children:ha().sk.map((t=>(0,B.jsx)(_a,{feature:t,isSelected:a.includes(t),onSelect:()=>{O().A.update((o=>{const a=o.selectedQuickStartFeatures??[];let n=[];const i=a.includes(t);return n=i?a.filter((e=>e!==t)):[...a,t],T().ky(e,{...(0,N().getContextualizedOnboardingAnalyticsData)({onboardingState:o,environment:e}),feature:t,is_selected:!i}),{...o,selectedQuickStartFeatures:n}}))}},t)))})}function _a({feature:e,isSelected:t,onSelect:o}){const a=(0,c().O$)(O().A),n=(0,c().K8)((()=>"buildable_with_sidebar"===(0,N().getIsReimaginedOnboardingExperimentGroup)(a)),[a]),i=xa[e],{shouldAssetBeOnBottom:r}=i,s=(0,u().IS)((()=>({button:{display:"flex",flexDirection:"column",position:"relative",gap:12,alignItems:"center",justifyContent:"center",width:n?280:240,maxHeight:180,padding:20,borderRadius:12,paddingBottom:16,paddingTop:24,cursor:"pointer",...t&&{background:j().Tj.palette.uiBlue[75]},...r&&{paddingBottom:0},overflow:"hidden"},borderContainer:{position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:0,bottom:0,borderRadius:12,border:`1px solid ${j().Tj.border.secondary}`,zIndex:1,...t&&{border:`2px solid ${j().Tj.blue.border.accentPrimary}`}},toggleButtonHoveredStyle:{opacity:1},toggleButtonPressedStyle:{opacity:1},textContainer:{display:"flex",flexDirection:"column",alignItems:"center",gap:4,marginBottom:8},title:{...(0,Ia().pA)(2),fontWeight:600},description:{whiteSpace:"normal",width:"100%",...(0,Ia().pA)(2),textOverflow:"ellipsis"},imageContainer:{height:120,display:"flex",alignItems:"center",justifyContent:"center",marginTop:"auto",...r&&{marginInlineEnd:-24}},image:{width:"100%",height:"100%",objectFit:"contain",...i.imageStyle??{}},tooltip:{width:240},tooltipText:{whiteSpace:"normal"}})),[n,t,r,i.imageStyle]);return(0,B.jsx)(V().m,{style:s.tooltip,disableTooltip:!0,renderTooltip:()=>(0,B.jsxs)("div",{style:s.tooltipText,children:[(0,B.jsx)(Ie().A,{isMultiline:!0,style:s.title,children:i.title}),(0,B.jsx)(Ie().A,{isSecondaryColor:!0,isSmall:!0,style:s.description,children:i.description})]}),render:e=>(0,B.jsxs)(te().Ay,{style:s.button,hoveredStyle:s.toggleButtonHoveredStyle,pressedStyle:s.toggleButtonPressedStyle,onClick:()=>o(),"aria-pressed":t,...e,children:[(0,B.jsx)("div",{style:s.borderContainer}),(0,B.jsxs)("div",{style:s.textContainer,children:[(0,B.jsx)(Ie().A,{isMultiline:!0,style:s.title,children:i.title}),(0,B.jsx)(Ie().A,{isSecondaryColor:!0,isSmall:!0,style:s.description,children:i.description})]}),(0,B.jsx)("div",{style:s.imageContainer,children:(0,B.jsx)("img",{src:i.imagePath,alt:"string"==typeof i.title?i.title:"",style:s.image})})]})})}const Aa={stageName:"onboarding_quick_start_features",getAlignment:e=>"center",shouldSkip(e){var t;const o=e.planTypeAndSurveyInfo;if("team"!==(null==o?void 0:o.planType))return!0;const a=Boolean(e.isFirstTimeOnboarding);if("en-US"!==ve().locale||!a)return!0;const n=(null===(t=e.autoExposedOnboardingExperiments)||void 0===t?void 0:t.onboarding_show_quick_start_features_v2)??"control";return"auto_create_all"===n?(O().A.setState({...e,selectedQuickStartFeatures:["databases","meeting_notes","ai_agents","enterprise_search"]}),!0):"show_quick_start_stage"!==n},getTitle:()=>(0,B.jsx)(A().sA,{defaultMessage:"Get started quick",id:"onboardingQuickStartFeatures.title"}),getSubTitle:()=>(0,B.jsx)(A().sA,{defaultMessage:"What do you want to get started with?",id:"onboardingQuickStartFeatures.subtitle"}),isContinueEnabled:(e,t)=>!0,isBackEnabled:(e,t)=>!0,shouldShowSkipButton:(e,t)=>!0,renderStage:()=>(0,B.jsx)(wa,{}),renderRightContent(e){const t=e.selectedQuickStartFeatures??[];if("buildable_with_sidebar"!==(0,N().getIsReimaginedOnboardingExperimentGroup)(e))return(0,B.jsx)(Be,{selectedWorkflowTemplateIds:[],selectedUseCases:[],selectedCategories:[],selectedQuickStartFeatures:t})},getContinueButtonStyles:()=>({width:376,marginTop:48,borderRadius:8}),getDisplayType:()=>"default"};o(737550);var ja=()=>o(79926);const ka={WorkspaceDiscovery:new(ja().O2)("WorkspaceDiscovery",(async()=>Promise.all([o.e(75134),o.e(237),o.e(55072)]).then(o.bind(o,223074))))},Ta=(0,ja()._h)(ka.WorkspaceDiscovery,(e=>e.WorkspaceDiscovery));const Ca={ReimaginedWorkspaceDiscovery:new(ja().O2)("ReimaginedWorkspaceDiscovery",(async()=>Promise.all([o.e(75134),o.e(237),o.e(13331)]).then(o.bind(o,245662))))},Ma=(0,ja()._h)(Ca.ReimaginedWorkspaceDiscovery,(e=>e.ReimaginedWorkspaceDiscovery));var Ra=()=>o(866961),Pa=()=>o(532500);function Da({onboardingState:e}){const{onboardingData:t,flowName:o,currentStageIndex:n,joinableSpaces:i}=e;if((0,a.useEffect)((()=>{O().A.setState({...e,joinableSpacesViewType:"onboarding_list"})}),[e]),!t)throw new Error("onboardingData is not available");0===i.length&&Ge().log({level:"error",from:"OnboardingWorkspaceChoose",type:"handleOnboardingError",error:{message:"Unexpected state. There should always be at least 1 joinable space from the workspace chooser."},data:{miscDataToConvertToString:{flowName:o,currentStageIndex:n,onboardingDataJoinableSpaceData:t.joinableSpaceData,onboardingStateJoinableSpaces:e.joinableSpaces}}});const r="formSpaceId"in e?e.formSpaceId:void 0;return"reimagined_default"===o?(0,B.jsx)(Ma,{joinableSpaces:i}):(0,B.jsxs)("div",{style:{width:406,alignSelf:"center",marginTop:20},children:[(0,B.jsx)(Ea,{joinableSpaces:i,formResponseSpaceId:r}),(0,B.jsx)(X,{onboardingState:e})]})}function Na({onboardingState:e}){const{onboardingData:t,flowName:i,currentStageIndex:s,joinableSpaces:d}=e;if(!t)throw new Error("onboardingData is not available");const u=(0,l().v3)();(0,a.useEffect)((()=>{$().FX(u,{can_user_create_space:t.canUserCreateSpace,is_new_user:0===(0,r().R)(n().default.state.currentUserRootStore),has_joinable_spaces:!0,onboarding_stage:(0,N().getStageName)({flowName:i,stageIndex:s,environment:u})})}),[u,t.canUserCreateSpace,i,s]);0===d.length&&Ge().log({level:"error",from:"OnboardingWorkspaceChoose",type:"handleOnboardingError",error:{message:"Unexpected state. There should always be at least 1 joinable space from the workspace chooser."},data:{miscDataToConvertToString:{flowName:i,currentStageIndex:s,onboardingDataJoinableSpaceData:t.joinableSpaceData,onboardingStateJoinableSpaces:e.joinableSpaces}}});const p=(0,c().K8)((()=>window.innerHeight<o(480388).V||(0,o(270511).A)(u)),[u]),g="formSpaceId"in e?e.formSpaceId:void 0;return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(Ea,{joinableSpaces:d,isSmallScreen:p,formResponseSpaceId:g}),(0,B.jsx)(ee,{canUserCreateSpace:t.canUserCreateSpace,onboardingState:e})]})}function Ea({joinableSpaces:e,isSmallScreen:t,formResponseSpaceId:o}){const a=(0,Ra().U)(t);if(!e||0===e.length)return null;const n=(0,N().filterAndSortJoinableSpaces)(e,o);if(0===n.length)return null;const i=o?e.find((e=>e.id===o)):void 0;return(0,B.jsxs)("div",{children:[i?(0,B.jsxs)("div",{style:{marginBottom:16},children:[(0,B.jsx)("div",{style:a.inviteText,children:(0,B.jsx)(A().sA,{defaultMessage:"Join where form was created",id:"onboardingWorkspaceChoose.joinableSpaces.joinFormSpace.label"})}),(0,B.jsx)(Pa().I,{index:0,joinableSpace:i,joinableSpaces:n,joinableSpaceViewType:"onboarding_list",isSmallScreen:t})]}):void 0,i?(0,B.jsx)("div",{style:a.inviteText,children:(0,B.jsx)(A().sA,{defaultMessage:"Join other workspaces",id:"onboardingWorkspaceChoose.joinableSpaces.joinOtherSpaces.label"})}):(0,B.jsx)("div",{style:a.inviteText,children:(0,B.jsx)(A().sA,{defaultMessage:"Invites",id:"onboardingWorkspaceChoose.joinableSpaces.invites.contextual.label"})}),n.filter((e=>e.id!==(null==i?void 0:i.id))).map(((e,o)=>(0,B.jsx)(Pa().I,{joinableSpace:e,index:o+(i?1:0),joinableSpaces:n,joinableSpaceViewType:"onboarding_list",isSmallScreen:t},e.id)))]})}var Oa=()=>o(125895),Ba=()=>o(548863);const za={stageName:"onboarding_workspace_choose",shouldSkip:e=>(0,Ba().Ng)(e.source)||!e.joinableSpaces.some(N().shouldShowWorkspaceInWorkspaceChooser)||"sidebar_switcher"===e.source||(0,Oa().A)(),getTitle(e){if((0,Ba().Wu)(e.source))return null;if("reimagined_default"===e.flowName)return null;const{onboardingData:t}=e;return null!=t&&t.canUserCreateSpace?(0,B.jsx)(A().sA,{defaultMessage:"Join teammates or create a workspace",id:"onboardingWorkspaceChoose.stage.titleV2.create"}):(0,B.jsx)(A().sA,{defaultMessage:"Join your teammates",id:"onboardingWorkspaceChoose.stage.titleV2.join"})},getSubTitle(e){if((0,Ba().Wu)(e.source))return null;return"reimagined_default"===e.flowName?null:(0,B.jsx)(A().sA,{defaultMessage:"{numWorkspaces, plural, one {Youâ€™ve been invited to {numWorkspaces} workspace} other {Youâ€™ve been invited to {numWorkspaces} workspaces}}",id:"onboardingWorkspaceChoose.stage.subtitleV2",values:{numWorkspaces:e.joinableSpaces.filter(N().shouldShowWorkspaceInWorkspaceChooser).length}})},isContinueEnabled:()=>!0,isBackEnabled:e=>!!(0,N().getIsNoseyIntroStageEnabled)({onboardingState:e,disableExposureLogging:!0})||!e.isFirstTimeOnboarding,shouldHideBackButton:(e,t)=>(0,Ba().Wu)(t.source),getStageStyles(e){const t="reimagined_default"===e.flowName;return(0,Ba().Wu)(e.source)||t?{flexDirection:"column",justifyContent:"start"}:{flexDirection:"column",marginTop:100,justifyContent:"start"}},renderStage:e=>(0,Ba().Wu)(e.source)?(0,B.jsx)(Ta,{}):(0,B.jsx)(Da,{onboardingState:O().A.state}),renderRightContent(){},onContinue(e,t){T().Fv(e,(0,N().getContextualizedOnboardingAnalyticsData)({onboardingState:t,environment:e,spaceJoinOrCreate:"create"}))},getContinueButtonLabel:()=>(0,B.jsx)(A().sA,{defaultMessage:"Create workspace",id:"contextualizedOnboarding.workspaceChoose.createWorkspaceButtonLabel"}),getContinueButtonStyles:()=>({marginTop:8,marginBottom:24}),getDesktopContinueButtonOverride:()=>(0,B.jsx)("div",{}),getAlignment:()=>"center",getDisplayType:e=>!(0,Ba().Wu)(e.source)&&"reimagined_default"===e.flowName?"custom":"default"},Fa={stageName:"mobile_onboarding_workspace_choose",shouldSkip:e=>0===e.joinableSpaces.length||"sidebar_switcher"===e.source||"mobile_native_listener_sidebar_switcher"===e.source,getTitle(e){const{onboardingData:t}=e;return null!=t&&t.canUserCreateSpace?(0,B.jsx)(A().sA,{defaultMessage:"Join teammates or create a workspace",id:"onboardingWorkspaceChoose.stage.titleV2.create"}):(0,B.jsx)(A().sA,{defaultMessage:"Join your teammates",id:"onboardingWorkspaceChoose.stage.titleV2.join"})},isContinueEnabled:()=>!1,isBackEnabled:()=>!1,renderStage:()=>(0,B.jsx)(Na,{onboardingState:O().A.state}),renderRightContent(){},shouldHideMobileBottomContent:()=>!0,onContinue(e,t){T().Fv(e,(0,N().getContextualizedOnboardingAnalyticsData)({onboardingState:t,environment:e,spaceJoinOrCreate:"create"}))},getMobileContinueButtonOverride:()=>(0,B.jsx)("div",{}),getDisplayType:()=>"default"};var Wa=()=>o(292119),Ua=()=>o(253493),La=(o(908872),()=>o(222926)),Va=()=>o(920198),Qa=()=>o(933922),Ka=()=>o(206267),Ga=()=>o(802149),Ha=()=>o(323063),Za=()=>o(979340),qa=()=>o(848701),Ja=()=>o(370441),$a=()=>o(184967),Ya=()=>o(981046),Xa=()=>o(166386),en=()=>o(151168);function tn(){const e=(0,c().K8)((()=>O().A.state.flowName),[]),t=(0,$a().Wo)(),o=(0,c().K8)((()=>(0,en().E5)()),[]),a=(0,c().K8)((()=>{const e=O().A.state;if("startup_trial_onboarding_flow"===e.flowName)return e.startupTrialCampaign}),[]),n=(0,c().K8)((()=>(0,Se().TD)({disableExposureLogging:!0})),[]);if("startup_trial_onboarding_flow"===e&&a){const e=(0,Xa().Pz)(a);if("trial"===(null==e?void 0:e.type))return{trialOffer:e,trialDuration:(0,Xa().b_)(e),subscriptionTier:e.subscriptionTier}}if("meeting_notes_flow"===e&&"cc_upfront_required"===n){const e=(0,Xa().Pz)("business_cc_30_perf_marketing");if("trial"===(null==e?void 0:e.type))return{trialOffer:e,trialDuration:(0,Xa().b_)(e),subscriptionTier:e.subscriptionTier}}const i=(0,en().uG)({isMmOrEnt:Boolean(t),upsell:o,enableSelfServeBusinessTrials:!0});return i?{trialOffer:i,trialDuration:(0,Xa().b_)(i),subscriptionTier:i.subscriptionTier}:void 0}o(823215);var on=()=>o(45105),an=()=>o(611648),nn=()=>o(808731),rn=()=>o(917150),sn=()=>o(187174),dn=()=>o(934068),ln=()=>o(6208),cn=()=>o(300789),un=()=>o(193164),pn=()=>o(384870),gn=()=>o(601203),fn=()=>o(267614),bn=()=>o(369773),mn=()=>o(680474);const vn={right:44,top:82},yn={right:486,top:220};function Sn(){const e=(0,u().eP)(),t=(0,u().IS)((()=>{const e={position:"absolute",transform:"rotate(-4.567deg) scaleX(-1)",width:232,height:58};return{airplane:{...e,top:vn.top,insetInlineEnd:vn.right},airplaneTail:{...e,top:yn.top,insetInlineEnd:yn.right}}}),[]),{prefersReducedMotion:o}=(0,l().Y0)(),a="light"===e?m().A.images.pricing.light.upgradeAirplanePng:m().A.images.pricing.dark.upgradeAirplanePng,n={type:"spring",mass:1,stiffness:83,damping:18.2,duration:.66};return(0,B.jsx)(ja().u2,{dependency:mn().fM,children:e=>(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(e.motion.img,{alt:"",src:a,style:t.airplane,animate:{opacity:[0,1],...o?{}:{right:[200,vn.right],top:[100,vn.top]}},transition:n}),(0,B.jsx)(e.motion.img,{alt:"",src:a,style:t.airplaneTail,animate:{opacity:[0,1],...o?{}:{right:[340,yn.right],top:[230,yn.top]}},transition:n})]})})}function hn({handleSubmit:e,isSubmitDisabled:t,submissionError:o,onboardingState:a,product:n,continueButtonLabel:i,skipTrialLabel:r,shouldHideSkipButton:s}){const d=(0,l().v3)(),c=(0,u().IS)((()=>({buttonContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",justifySelf:"center",width:"100%",gap:8},button:{display:"flex",alignItems:"center",justifyContent:"center",height:36,padding:"0px 8px",borderRadius:8,alignSelf:"stretch"}})),[]);return(0,B.jsxs)("div",{style:c.buttonContainer,children:[(0,B.jsx)(f().A,{colorPalette:"blue",disabled:t,style:c.button,onClick:e,children:i}),s?void 0:(0,B.jsx)(g().p,{colorPalette:"blue",style:c.button,onClick:async()=>{(0,en().Q8)(),O().A.update((e=>({...e,acceptedTimedTrialOffer:!1}))),await(0,D().goToNextStage)({environment:d,onboardingState:a})},children:(0,B.jsx)(b().D,{styleKey:"bodyMedium",colorPalette:"blue",colorVariant:"accentPrimary",children:r})}),o?(0,B.jsx)("span",{style:{textAlign:"center"},children:(0,B.jsx)(b().D,{styleKey:"captionRegular",colorPalette:"red",colorVariant:"accentPrimary",children:o})}):void 0]})}const In=428,xn=368;function wn(e){const{sessionId:t,onboardingState:o,monthlyUnitCost:i,offerInfo:r,continueButtonLabelFn:s,skipTrialLabel:d,shouldHideSkipButton:p,termsCheckboxLabelsFn:g}=e,f=(0,l().v3)(),b=(0,A().tz)(),m=function(){const e=(0,a.useContext)(on().w);return(0,u().IS)((()=>({header:{maxWidth:In,paddingBottom:24},airplaneContainer:{position:"relative",display:"flex",flexDirection:"column",gap:8,alignItems:"center",justifyContent:"center",width:804,marginTop:-32,paddingTop:44,paddingBottom:42},scrollContainer:{display:"flex",flexDirection:"column",alignItems:"flex-start",width:In,height:xn,padding:`20px ${24-e}px 20px 24px`,background:j().Tj.background.elevated,border:`1px solid ${j().Tj.border.primary}`,borderRadius:16,boxShadow:"0px 4px 12px 0px rgba(0, 0, 0, 0.04)"}})),[e])}(),v=(0,La().useStripe)(),y=(0,La().useElements)(),S=(0,ln().L)(),h=(0,sn().Yb)((async()=>await(0,gn().Lv)(f)),[f]),I=(0,c().K8)((()=>{var e;return null===(e=n().default.state.currentUserStore)||void 0===e?void 0:e.getEmail()}),[]),x="trial"===r.type?r.trial.subscriptionTier:r.products[0],[w,_]=(0,a.useState)({name:S??"",businessName:"",addressLine1:"",addressLine2:"",city:"",state:"",zipCode:"",country:""}),[k,T]=(0,a.useState)(void 0),C=(0,Se().aD)(),M="trial"===r.type?(0,Xa().b_)(r.trial).as("days"):void 0,R=g({monthlyUnitCost:i,subscriptionTier:x,intl:b,trialDurationDays:M}),P=R.length,[D,N]=(0,a.useState)({name:S??"",businessName:"",vatId:h?"":void 0,termsAccepted:new Array(P).fill(!1)}),[E,O]=(0,a.useState)({}),[z,F]=(0,a.useState)(),[W,U]=(0,a.useState)(!1),L=a.useCallback((e=>{F(void 0),O((t=>({...t,...Object.keys(e).reduce(((e,t)=>({...e,[t]:void 0})),{})}))),N((t=>({...t,...e})))}),[]),V=a.useCallback((()=>{const e=_n({intl:b,isCheckoutAddressFormExperimentEnabled:C,customerAddress:w,formData:D,numberOfTerms:P});return O((t=>({...t,...e}))),e}),[w,D,b,C,P]),Q=({type:e,errorMessage:t,userFacingMessage:o})=>{(0,Ge().log)({level:"error",from:"OnboardingCheckout",type:e,error:{miscDataString:t}}),F(o),U(!1)},K=a.useCallback((async()=>{const e=V();Pe().Im(e)&&(U(!0),await An({environment:f,intl:b,stripe:v,elements:y,sessionId:t,isCheckoutAddressFormExperimentEnabled:C,customerAddress:w,onboardingState:o,offerInfo:r,subscriptionTier:x,vatId:k,formData:D,userEmail:I,logSubmissionError:Q}))}),[f,t,b,v,y,o,C,w,D,I,V,x,r,k]);return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)("div",{style:m.airplaneContainer,children:[(0,B.jsx)(Sn,{}),(0,B.jsx)(ot().Y1,{gap:42,align:"center",width:In,children:(0,B.jsxs)(rn()._,{style:m.scrollContainer,type:an().A.All,children:[(0,B.jsx)(fn().z,{sessionId:t,customerAddress:w,vatId:k,validationErrors:E,onChange:e=>{F(void 0),Pe().n4(e.customerAddress,w)||_(e.customerAddress),k!==e.vatId&&T(e.vatId)},style:{paddingTop:0,paddingInlineEnd:0,paddingBottom:14,paddingInlineStart:0}}),R.map(((e,t)=>(0,B.jsx)(bn().P,{isChecked:D.termsAccepted[t]||!1,onChange:e=>{const o=[...D.termsAccepted];o[t]=e,L({termsAccepted:o})},error:t===P-1?E.termsAccepted:void 0,message:e,isFirstTerm:0===t,hideTooltip:!0,checkboxId:`terms-checkbox-onboarding-trial-${t}`},`termsCheckbox${t+1}`)))]})})]}),(0,B.jsx)("div",{style:{width:406},children:(0,B.jsx)(hn,{handleSubmit:K,isSubmitDisabled:W,submissionError:z,onboardingState:o,product:x,continueButtonLabel:s(x,b),skipTrialLabel:d,shouldHideSkipButton:p})})]})}function _n({intl:e,isCheckoutAddressFormExperimentEnabled:t,customerAddress:o,formData:a,numberOfTerms:n}){const i={},r=t?o.name:a.name;if(!(0,aa().r)(r)){const o=e.formatMessage({id:"spaceSubscriptionUpgradeModal.name.required.error",defaultMessage:"Please enter a valid name."});t?i.customerAddress=o:i.name=o}return!a.termsAccepted.every((e=>e))&&n>1?i.termsAccepted=e.formatMessage({id:"onboarding.timedTrials.terms.required.multi.error",defaultMessage:"You must opt in to all terms to start your trial"}):a.termsAccepted.every((e=>e))||1!==n||(i.termsAccepted=e.formatMessage({id:"onboarding.timedTrials.terms.required.error",defaultMessage:"You must opt in to start your trial"})),i}async function An({environment:e,intl:t,stripe:o,elements:a,sessionId:n,isCheckoutAddressFormExperimentEnabled:i,customerAddress:r,onboardingState:s,offerInfo:d,subscriptionTier:l,vatId:c,formData:u,userEmail:p,logSubmissionError:g}){switch(d.type){case"trial":await async function({environment:e,intl:t,stripe:o,elements:a,sessionId:n,isCheckoutAddressFormExperimentEnabled:i,customerAddress:r,onboardingState:s,trial:d,subscriptionTier:l,vatId:c,onUpgradeError:u}){const p=(0,Xa().b_)(d).as("days"),g=await(0,un().W)({environment:e,intl:t,stripe:o,elements:a,trialData:{id:d.campaign,from:"onboarding"},trialDays:p,sessionId:n,product:l,customerAddress:r,vatId:c,isCheckoutAddressFormExperimentEnabled:i});if(!g)return void u();await(0,D().goToNextStage)({environment:e,onboardingState:s}),(0,Xa().b_)(d).as("days")===dn().WL&&(0,cn().UW)(e,"business_trial_nudge_d0");(0,en().Q8)()}({environment:e,intl:t,stripe:o,elements:a,sessionId:n,isCheckoutAddressFormExperimentEnabled:i,customerAddress:r,onboardingState:s,trial:d.trial,subscriptionTier:l,vatId:c,onUpgradeError:()=>g({type:"TrialUpgradeError",errorMessage:"Failed to upgrade customer workspace to a trial",userFacingMessage:t.formatMessage({id:"onboarding.timedTrials.paymentError.message",defaultMessage:"We were unable to save your payment method. Please verify all the information in the form is correct."})})});break;case"coupon":if(!a||!o)return void g({type:"StripeError",errorMessage:"Stripe elements not initialized when user tried to upgrade",userFacingMessage:t.formatMessage({id:"onboarding.checkout.paymentError.message",defaultMessage:"We were unable to save your payment method. Please verify all the information in the form is correct."})});await async function({environment:e,intl:t,stripe:o,elements:a,sessionId:n,isCheckoutAddressFormExperimentEnabled:i,customerAddress:r,onboardingState:s,coupon:d,offerCode:l,products:c,quantity:u,billingInterval:p,currencyCode:g,name:f,businessName:b,userEmail:m,vatId:v,onSubmitPaymentMethodError:y}){const S=await pn().mR({modalId:n,environment:e,intl:t,elements:a,stripe:o,isCheckoutAddressFormExperimentEnabled:i});if("error"in S)return void y();try{await pn().ge({address:i?r:{name:f??"",businessName:b??"",addressLine1:"",addressLine2:"",zipCode:S.address.zipCode??"",city:"",state:"",country:S.address.country??""},billingEmail:m,billingInterval:p,currencyCode:g,environment:e,modalId:n,paymentData:S.paymentData,quantity:u,selectedProducts:c,offerInfo:{campaign:d.campaign,code:l},stripe:o,vatId:v,from:"onboarding"}),await(0,D().goToNextStage)({environment:e,onboardingState:s})}catch(h){throw(0,nn().W)(e,{modal_id:"onboarding_partner_program"}),h}}({environment:e,intl:t,stripe:o,elements:a,sessionId:n,isCheckoutAddressFormExperimentEnabled:i,customerAddress:r,onboardingState:s,coupon:d.coupon,offerCode:d.offerCode,products:d.products,quantity:d.quantity,billingInterval:d.billingInterval,currencyCode:d.currencyCode,name:u.name,businessName:u.businessName,userEmail:p,vatId:c,onSubmitPaymentMethodError:()=>{g({type:"SubmitPaymentError",errorMessage:"Failed to submit payment method",userFacingMessage:t.formatMessage({id:"onboarding.checkout.paymentError.message",defaultMessage:"We were unable to save your payment method. Please verify all the information in the form is correct."})})}})}}function jn(e){const{offerType:t,trialInfo:o,selectedCurrencyCode:a,useBusinessOffer:n}=e;if("trial"===t&&o)return{type:"trial",trial:o.trialOffer};const i=(0,Ga().OC)(),r=(0,Ua().getPartnerProgramCouponOffer)();return"coupon"===t&&i&&r?{type:"coupon",coupon:r,offerCode:i.partnerProgramPromoCode,products:n?["business"]:["plus","ai"],quantity:1,billingInterval:"month",currencyCode:a}:void 0}function kn({offerType:e,continueButtonLabelFn:t,skipTrialLabel:o,termsCheckboxLabelsFn:n}){const i=Ka().JW(),r=(0,c().O$)(O().A),s=(0,l().v3)(),d=(0,Va().L)(),u=(0,$a().o2)({spaceStore:d}),p=tn(),g=(0,c().K8)((()=>Ya().H.selectedCurrencyCode),[]),f=(0,Ja().useElementsOptions)({type:"subscription",amount:0,currency:g}),b=(0,c().K8)((()=>(0,Se().Ls)()),[]),m=a.useMemo((()=>jn({offerType:e,trialInfo:p,selectedCurrencyCode:g,useBusinessOffer:b})),[e,p,g,b]),v=(0,c().K8)((()=>(0,Se().TD)({disableExposureLogging:!0})),[]),y="meeting_notes_flow"===r.flowName&&"cc_upfront_required"===v;a.useEffect((()=>{m||(0,D().goToNextStage)({environment:s,onboardingState:r})}),[m,s,r]);const S=a.useMemo((()=>{switch(null==m?void 0:m.type){case"trial":return[m.trial.subscriptionTier];case"coupon":return m.products;default:return b?["business"]:["plus"]}}),[m,b]);if(!m||!u.length)return null;const h=S.reduce(((e,t)=>{const o=(0,Ha().vk)(u,{interval:"month",currency:g,product:t});return e.amount+=o.unitAmount.amount,e}),{amount:0,currencyCode:g});return(0,B.jsx)(La().Elements,{stripe:(0,Ja().getStripe)(),options:f,children:(0,B.jsx)(Qa().A,{capture:!0,render:()=>(0,B.jsx)(wn,{monthlyUnitCost:h,sessionId:i,onboardingState:r,offerInfo:m,continueButtonLabelFn:(e,o)=>t(e,o,v),skipTrialLabel:o,shouldHideSkipButton:y,termsCheckboxLabelsFn:e=>n({...e,trialExperimentGroup:v})})})})}function Tn(){const e=(0,A().tz)(),t=tn(),o=(0,c().K8)((()=>O().A.state.flowName),[]),a=(0,Za().u2)({product:(null==t?void 0:t.subscriptionTier)??"plus",intl:e});return"meeting_notes_flow"===o?(0,B.jsx)(A().sA,{defaultMessage:"Use AI Meeting Notes for Free",id:"onboardingTimedTrial.title.meetingNotesFlow"}):"notion_for_work_flow"===o?(0,B.jsx)(A().sA,{defaultMessage:"Try Notion for work with a Business trial",id:"onboardingTimedTrial.title.notionForWork"}):"startup_trial_onboarding_flow"===o?(0,B.jsx)(A().sA,{defaultMessage:"Redeem your offer",id:"StartupTrialOnboardingCheckout.title"}):(0,B.jsx)(A().sA,{defaultMessage:"Try the {planName} plan for {numDays} days",id:"onboardingTimedTrial.title.v2",values:{planName:a,numDays:null==t?void 0:t.trialDuration.as("days")}})}function Cn(){const e=(0,A().tz)(),t=tn(),o=(0,c().K8)((()=>O().A.state.flowName),[]),a=(0,c().K8)((()=>(0,Se().TD)({disableExposureLogging:!0})),[]),n=(0,Za().u2)({product:(null==t?void 0:t.subscriptionTier)??"plus",intl:e});if("meeting_notes_flow"===o&&"cc_upfront_required"===a)return(0,B.jsx)(A().sA,{defaultMessage:"Your {numDays} day trial includes AI Agents, unlimited collaboration and more. No upfront charge, cancel anytime.",id:"onboardingTimedTrial.subtitle.meetingNotesFlow",values:{numDays:null==t?void 0:t.trialDuration.as("days")}});if("notion_for_work_flow"===o)return(0,B.jsx)(A().sA,{defaultMessage:"Get 30 days of AI meeting notes, enterprise search, and research mode for free",id:"onboardingTimedTrial.subtitle.notionForWork"});if("startup_trial_onboarding_flow"===o){const e=(null==t?void 0:t.trialDuration.as("days"))??90,o=(0,qa().Tr)(e);return(0,B.jsx)(A().sA,{defaultMessage:"Get {trialMonths} months of Notion {planName} with AI included",id:"StartupTrialOnboardingCheckout.subtitle",values:{trialMonths:o,planName:n}})}return(0,B.jsx)("div",{children:"business"===(null==t?void 0:t.subscriptionTier)?(0,B.jsx)(A().sA,{defaultMessage:"Find answers across tools, build team workflows & automate with AI",id:"onboardingTimedTrial.subtitle.business"}):(0,B.jsx)(A().sA,{defaultMessage:"{trialDays, select, 30 {Four weeks} other {Two weeks}} of unlimited collaboration and creation",id:"onboardingTimedTrial.subtitle.v2",values:{trialDays:null==t?void 0:t.trialDuration.as("days")}})})}function Mn(e,t){return(0,B.jsx)(Co().V,{href:e,external:!0,hoverColor:"blue",children:t})}function Rn(){const e=(0,Ua().getPartnerProgramCouponOffer)();return t=>{const{monthlyUnitCost:o,intl:a}=t,n=o?(0,B.jsx)(Wa().v,{cost:o,trailingZeroDisplay:"stripIfInteger",intl:a}):"-",i=(0,c().K8)((()=>(0,Se().Ls)()),[]);return[(0,B.jsx)(A().sA,{defaultMessage:"This promotion provides 1 seat of Notion {useBusinessOffer, select, true {Business} other {Plus with Core AI}} at no cost for {duration} months. Any additional seats during this period will be billed at {money} per member/month plus taxes. Additional information about this offer can be found <partnerProgramTermsLink>here</partnerProgramTermsLink>.",id:"PartnerProgramOnboardingCheckout.termsOfServiceBox1",values:{useBusinessOffer:i,duration:null==e?void 0:e.duration.months,money:n,partnerProgramTermsLink:t=>Mn(function(e){if("linkedin_perk_2025_fall"===(null==e?void 0:e.campaign))return ht().JZ.notionLinkedinPartnerProgramTerms;if("youtube_creators_2025_fall"===(null==e?void 0:e.campaign))return ht().JZ.notionYoutubePartnerProgramTerms;throw new Error("Invalid offer campaign")}(e),t)}},"partnerProgramOnboardingTermsOfService1"),(0,B.jsx)(A().sA,{defaultMessage:"After {duration} months, Notion {useBusinessOffer, select, true {Business} other {Plus with Core AI}} will auto-renew at {money} per member/month plus taxes. Cancel via the Billing tab prior to renewal to avoid future charges. <termsAndConditionsLink>Terms apply</termsAndConditionsLink>.",id:"PartnerProgramOnboardingCheckout.termsOfServiceBox2",values:{useBusinessOffer:i,duration:null==e?void 0:e.duration.months,money:n,termsAndConditionsLink:e=>Mn(ht().JZ.termsAndConditions,e)}},"partnerProgramOnboardingTermsOfService2")]}}const Pn={stageName:"partner_program_onboarding_checkout",shouldSkip:()=>!1,getTitle:()=>(0,B.jsx)(A().sA,{defaultMessage:"Redeem your offer",id:"PartnerProgramOnboardingCheckout.title"}),getSubTitle(){const e=(0,Ua().getPartnerProgramCouponOffer)(),t=(0,Se().Ls)();return(0,B.jsx)(A().sA,{defaultMessage:"Get {duration} months of Notion {useBusinessOffer, select, true {Business} other {Plus with Core AI}} for free",id:"PartnerProgramOnboardingCheckout.subtitle",values:{duration:null==e?void 0:e.duration.months,useBusinessOffer:t}})},isContinueEnabled:()=>!0,shouldHideDesktopBottomContent:()=>!0,isBackEnabled:()=>!1,renderStage:()=>(0,B.jsx)(kn,{offerType:"coupon",continueButtonLabelFn:()=>(0,B.jsx)(A().sA,{defaultMessage:"Start my free trial",id:"PartnerProgramOnboardingCheckout.continueButtonLabel"}),skipTrialLabel:(0,B.jsx)(A().sA,{defaultMessage:"No thanks, just take me to Notion without the offer",id:"PartnerProgramOnboardingCheckout.skipTrialLabel"}),termsCheckboxLabelsFn:Rn()}),getAlignment:()=>"center",headerStyles:{maxWidth:700},getDesktopContinueButtonOverride:()=>(0,B.jsx)("div",{}),getDisplayType:()=>"default"};function Dn(e){if("linkedin_perk_2025_fall"===(null==e?void 0:e.campaign))return"Linkedin";if("youtube_creators_2025_fall"===(null==e?void 0:e.campaign))return"Youtube";throw new Error("Invalid campaign partner")}const Nn={stageName:"mobile_partner_program_redeem_info",shouldSkip:e=>!1,getTitle(){const e=(0,Se().Ls)(),t=(0,Ua().getPartnerProgramCouponOffer)();return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)("div",{style:{marginBottom:10},children:(0,B.jsx)(A().sA,{defaultMessage:"Open your {partnerName} offer link on desktop",id:"mobilePartnerProgramRedeemInfo.stage.title",values:{partnerName:Dn(t)}})}),(0,B.jsx)("div",{style:{fontSize:17,fontWeight:510,color:j().oZ.uiGray},children:(0,B.jsx)(A().sA,{defaultMessage:"Get {duration} months of Notion {useBusinessOffer, select, true {Business} other {Plus with Core AI}} for free. To activate your offer, close this window and open your unique redemption link on a desktop browser.",id:"mobilePartnerProgramRedeemInfo.stage.subtitle",values:{duration:null==t?void 0:t.duration.months,useBusinessOffer:e}})})]})},isContinueEnabled:()=>!1,getMobileContinueButtonOverride:()=>(0,B.jsx)("div",{}),isBackEnabled:()=>!0,renderStage:e=>(0,B.jsx)("div",{}),getDisplayType:()=>"default"};var En=()=>o(367282),On=()=>o(940563);function Bn({isLoading:e,onContinue:t,continueButtonText:o,disabled:a}){const n=(0,l().v3)(),i=(0,c().O$)(O().A),r=(0,u().IS)((()=>({primaryButton:{width:"100%"}})),[]);return(0,B.jsx)(f().A,{colorPalette:"blue",size:"xl",style:r.primaryButton,iconTrailing:On().arrowStraightRightIcon,onClick:async()=>{t?await t(n,i):await(0,D().goToNextStage)({environment:n,onboardingState:i})},disabled:a,isLoading:e,children:(0,B.jsx)(b().D,{styleKey:"bodySemibold",children:o||(0,B.jsx)(A().sA,{defaultMessage:"Continue",id:"reimaginedOnboarding.continueButton.label"})})})}var zn=()=>o(302996),Fn=()=>o(538948),Wn=()=>o(534177);async function Un(e){const{environment:t,spaceId:a,trialCampaign:n}=e;if(!a)return;const i=new(zn().SpaceStore)(t,{table:oe().NX,id:a});await i.load();const r=await(0,o(779795).p_)({environment:t,spaceId:a});await(0,o(589531).n)({environment:t,spaceStore:i,from:"onboarding",desiredState:(0,dn().cv)(r,["business"],"month",1),trialData:{id:n,from:"onboarding"}})}function Ln(e,t){return(0,B.jsx)(Co().V,{href:e,external:!0,hoverColor:"blue",children:t})}function Vn(e){const{monthlyUnitCost:t,subscriptionTier:o,intl:a,onboardingFlowName:n,trialDurationDays:i,trialExperimentGroup:r}=e;if("meeting_notes_flow"===n&&"cc_upfront_required"===r)return[(0,B.jsx)(A().sA,{defaultMessage:"This is a trial for Notion {planName}. At the end of your trial, your subscription will auto-renew each month at {money}/seat plus taxes unless canceled. Cancel via the Billing tab prior to renewal to avoid future charges.",id:"onboardingTimedTrials.termsOfService.meetingNotesFlow",values:{money:t?(0,B.jsx)(Wa().v,{cost:t,trailingZeroDisplay:"stripIfInteger",intl:a}):"-",planName:(0,Za().u2)({product:o,intl:a})}},"meetingNotesFlowTermsOfService")];if("startup_trial_onboarding_flow"===n){const e=(0,qa().Tr)(i??90);return[(0,B.jsx)(A().sA,{defaultMessage:"This promotion provides one workspace with Notion {planName} free for {trialMonths} months. Limited to workspaces with under 100 members. Please review offer <termsLink>terms</termsLink>.",id:"StartupTrialOnboardingCheckout.termsOfServiceBox1",values:{trialMonths:e,planName:(0,Za().u2)({product:o,intl:a}),termsLink:e=>Ln("https://www.notion.so/notion/Notion-for-Startup-Terms-936b74c0323745a186b1497747074020",e)}},"startupTrialOnboardingTermsOfService1"),(0,B.jsx)(A().sA,{defaultMessage:"After the {trialMonths} months trial, Notion {planName} will auto-renew at {money} per member/month. Cancel via the Billing tab prior to renewal to avoid future charges. <termsLink>Terms & conditions apply</termsLink>.",id:"StartupTrialOnboardingCheckout.termsOfServiceBox2",values:{trialMonths:e,planName:(0,Za().u2)({product:o,intl:a}),money:t?(0,B.jsx)(Wa().v,{cost:t,trailingZeroDisplay:"stripIfInteger",intl:a}):"$24",termsLink:e=>Ln("https://notion.notion.site/Terms-and-Privacy-28ffdd083dc3473e9c2da6ec011b58ac",e)}},"startupTrialOnboardingTermsOfService2")]}return[(0,B.jsx)(A().sA,{defaultMessage:"At the end of your trial, Notion {planName} will auto-renew each month at {money}/seat plus taxes unless canceled. Cancel via the Billing tab prior to renewal to avoid future charges",id:"onboardingTimedTrials.termsOfService",values:{money:t?(0,B.jsx)(Wa().v,{cost:t,trailingZeroDisplay:"stripIfInteger",intl:a}):"-",planName:(0,Za().u2)({product:o,intl:a})}},"teamOnboardingTimedTrialCheckoutTermsOfService")]}function Qn(e,t,o,a){return"meeting_notes_flow"===o&&"cc_upfront_required"===a?(0,B.jsx)(A().sA,{defaultMessage:"Start Free Trial",id:"onboardingCheckout.upgradeButton.startTrial.meetingNotesFlow"}):"startup_trial_onboarding_flow"===o?(0,B.jsx)(A().sA,{defaultMessage:"Start my free trial",id:"StartupTrialOnboardingCheckout.continueButtonLabel"}):(0,B.jsx)(A().sA,{id:"onboardingCheckout.upgradeButton.startTrial",defaultMessage:"Start Notion {subscriptionTier} trial",values:{subscriptionTier:(0,Za().u2)({product:e,intl:t})}})}function Kn(e){return"meeting_notes_flow"===e||"notion_for_work_flow"===e?(0,B.jsx)(A().sA,{id:"onboarding.timedTrailsStage.skipTrial.meetingNotesFlow",defaultMessage:"Try it for Free instead"}):"startup_trial_onboarding_flow"===e?(0,B.jsx)(A().sA,{defaultMessage:"No thanks, take me to Notion",id:"StartupTrialOnboardingCheckout.skipTrialLabel"}):(0,B.jsx)(A().sA,{id:"onboarding.timedTrailsStage.skipTrial.message",defaultMessage:"Continue with Free plan instead"})}const Gn={stageName:"team_onboarding_timed_trial_checkout",shouldSkip(e,t){const o="meeting_notes_flow"===e.flowName,a=(0,Se().TD)({disableExposureLogging:!o});return"meeting_notes_flow"===e.flowName&&"reverse_trial"===a||(!("startup_trial_onboarding_flow"!==e.flowName||!e.startupTrialCampaign||!(0,Wn().Xk)(Fn().jy,e.startupTrialCampaign))||"meeting_notes_flow"!==e.flowName&&"notion_for_work_flow"!==e.flowName&&"startup_trial_onboarding_flow"!==e.flowName&&(!e.acceptedTimedTrialOffer||(!!(0,Oa().A)()||!!(0,N().isUserAlreadyOnTrial)({spaceId:e.spaceId,environment:t}))))},async onSkip(e,t){if("meeting_notes_flow"!==t.flowName){if("startup_trial_onboarding_flow"===t.flowName&&t.startupTrialCampaign&&(0,Wn().Xk)(Fn().jy,t.startupTrialCampaign)){const o=t.selectedEligibleWorkspaceId??t.spaceId;await Un({environment:e,spaceId:o,trialCampaign:t.startupTrialCampaign})}}else{if("reverse_trial"!==(0,Se().TD)({disableExposureLogging:!0}))return;await Un({environment:e,spaceId:t.spaceId,trialCampaign:"business_reverse_30_perf_marketing"})}},getTitle:()=>(0,B.jsx)(Tn,{}),getSubTitle:()=>(0,B.jsx)(Cn,{}),isContinueEnabled:()=>!0,isBackEnabled:()=>!0,onBack(){O().A.update((e=>({...e,acceptedTimedTrialOffer:!1})))},renderStage(){const e=O().A.state.flowName;return(0,B.jsx)(kn,{offerType:"trial",continueButtonLabelFn:(t,o,a)=>Qn(t,o,e,a),skipTrialLabel:Kn(e),termsCheckboxLabelsFn:t=>Vn({...t,onboardingFlowName:e})})},getAlignment:()=>"center",headerStyles:{maxWidth:700},getDesktopContinueButtonOverride:()=>(0,B.jsx)("div",{}),getDisplayType:()=>"default"},Hn={stageName:"reimagined_business_trial_checkout",shouldSkip:(e,t)=>!e.acceptedTimedTrialOffer||(!!(0,Oa().A)()||!!(0,N().isUserAlreadyOnTrial)({spaceId:e.spaceId,environment:t})),getTitle:()=>(0,B.jsx)(A().sA,{id:"reimaginedOnboarding.businessTrialCheckout.header",defaultMessage:"Try Business for Free"}),getSubTitle:()=>(0,B.jsx)(A().sA,{id:"reimaginedOnboarding.businessTrialCheckout.description",defaultMessage:"Get Business to unlock Notion AI for meeting summaries, and unlimited collaboration"}),isBackEnabled:()=>!0,onBack(){O().A.update((e=>({...e,acceptedTimedTrialOffer:!1})))},isContinueEnabled:()=>!1,renderStage:()=>(0,B.jsx)(Zn,{}),getDisplayType:()=>"reimagined",getLogo:()=>(0,B.jsx)(p().I,{icon:En().briefcaseFillIcon,size:80,colorPalette:"green",colorVariant:"accentPrimary",showOutline:!0})};function Zn(){const e=Ka().JW(),t=(0,c().O$)(O().A),o=(0,l().v3)(),n=(0,Va().L)(),i=(0,$a().o2)({spaceStore:n}),r=tn(),s=(0,c().K8)((()=>Ya().H.selectedCurrencyCode),[]),d=(0,Ja().useElementsOptions)({type:"subscription",amount:0,currency:s}),u=(0,c().K8)((()=>(0,Se().Ls)()),[]),p=a.useMemo((()=>jn({offerType:"trial",trialInfo:r,selectedCurrencyCode:s,useBusinessOffer:u})),[r,s,u]),g=a.useMemo((()=>{switch(null==p?void 0:p.type){case"trial":return[p.trial.subscriptionTier];case"coupon":return p.products;default:return u?["business"]:["plus"]}}),[p,u]);if(a.useEffect((()=>{p||(0,D().goToNextStage)({environment:o,onboardingState:t})}),[p,o,t]),!p||!i.length)return null;const f=g.reduce(((e,t)=>{const o=(0,Ha().vk)(i,{interval:"month",currency:s,product:t});return e.amount+=o.unitAmount.amount,e}),{amount:0,currencyCode:s});return(0,B.jsx)(La().Elements,{stripe:(0,Ja().getStripe)(),options:d,children:(0,B.jsx)(Qa().A,{capture:!0,render:()=>(0,B.jsx)(qn,{sessionId:e,onboardingState:t,monthlyUnitCost:f,offerInfo:p,termsCheckboxLabelsFn:e=>Vn({...e,onboardingFlowName:t.flowName}),continueButtonLabelFn:(e,o)=>Qn(e,o,t.flowName),skipTrialLabel:Kn(t.flowName),shouldHideSkipButton:!1})})})}function qn(e){const{sessionId:t,onboardingState:o,monthlyUnitCost:i,offerInfo:r,termsCheckboxLabelsFn:s,shouldHideSkipButton:d}=e,p=(0,l().v3)(),f=(0,A().tz)(),m=(0,u().IS)((()=>({formContainer:{display:"flex",flexDirection:"column",gap:16},buttonContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",gap:8},button:{display:"flex",alignItems:"center",justifyContent:"center",height:36,padding:"0px 8px",borderRadius:8,alignSelf:"stretch"}})),[]),v=(0,La().useStripe)(),y=(0,La().useElements)(),S=(0,ln().L)(),h=(0,sn().Yb)((async()=>await(0,gn().Lv)(p)),[p]),I=(0,c().K8)((()=>{var e;return null===(e=n().default.state.currentUserStore)||void 0===e?void 0:e.getEmail()}),[]),x="trial"===r.type?r.trial.subscriptionTier:r.products[0],[w,_]=(0,a.useState)(),[j,k]=(0,a.useState)({name:S??"",businessName:"",addressLine1:"",addressLine2:"",city:"",state:"",zipCode:"",country:""}),[T,C]=(0,a.useState)(void 0),M="trial"===r.type?(0,Xa().b_)(r.trial).as("days"):void 0,R=s({monthlyUnitCost:i,subscriptionTier:x,intl:f,trialDurationDays:M}),[P,N]=(0,a.useState)({name:S??"",businessName:"",vatId:h?"":void 0,termsAccepted:new Array(R.length).fill(!1)}),[E,z]=(0,a.useState)(!1),[F,W]=(0,a.useState)({}),U=(0,Se().aD)(),L=a.useCallback((()=>{const e=_n({intl:f,isCheckoutAddressFormExperimentEnabled:U,customerAddress:j,formData:P,numberOfTerms:R.length});return W((t=>({...t,...e}))),e}),[j,P,f,U,R.length]),V=({type:e,errorMessage:t,userFacingMessage:o})=>{(0,Ge().log)({level:"error",from:"OnboardingCheckout",type:e,error:{miscDataString:t}}),_(o),z(!1)},Q=a.useCallback((async()=>{const e=L();Pe().Im(e)&&(z(!0),await An({environment:p,intl:f,stripe:v,elements:y,sessionId:t,isCheckoutAddressFormExperimentEnabled:U,customerAddress:j,onboardingState:o,offerInfo:r,subscriptionTier:x,vatId:T,formData:P,userEmail:I,logSubmissionError:V}))}),[p,t,f,v,y,o,U,j,P,I,L,x,r,T]);return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)("div",{style:m.formContainer,children:[(0,B.jsx)(fn().z,{sessionId:t,customerAddress:j,vatId:T,validationErrors:F,onChange:e=>{_(void 0),Pe().n4(e.customerAddress,j)||k(e.customerAddress),T!==e.vatId&&C(e.vatId)},style:{padding:0},hidePaymentMethodTitle:!0}),R.map(((e,t)=>(0,B.jsx)(bn().P,{isChecked:P.termsAccepted[t]||!1,onChange:e=>{N((o=>{const a=[...o.termsAccepted];return a[t]=e,{...o,termsAccepted:a}}))},error:0===t?F.termsAccepted:void 0,message:e,isFirstTerm:!1,hideTooltip:!0,checkboxId:`terms-checkbox-reimagined-trial-${t}`},t)))]}),(0,B.jsxs)("div",{style:m.buttonContainer,children:[(0,B.jsx)(Bn,{disabled:E,isLoading:E,onContinue:Q,continueButtonText:(0,B.jsx)(A().sA,{id:"reimaginedOnboarding.businessTrialCheckout.tryForFree",defaultMessage:"Try for free"})}),d?void 0:(0,B.jsx)(g().p,{colorVariant:"secondary",style:m.button,onClick:async()=>{(0,en().Q8)(),O().A.update((e=>({...e,acceptedTimedTrialOffer:!1}))),await(0,D().goToNextStage)({environment:p,onboardingState:o})},children:(0,B.jsx)(A().sA,{id:"reimaginedOnboarding.businessTrialCheckout.stayOnFree",defaultMessage:"Stay on Free plan"})}),w?(0,B.jsx)("span",{style:{textAlign:"center"},children:(0,B.jsx)(b().D,{styleKey:"captionRegular",colorPalette:"red",colorVariant:"accentPrimary",children:w})}):void 0]})]})}function Jn(e,t){(0,d().u)({environment:e,event:{eventName:"onboarding_trial_offer_accepted",eventProperties:t}})}var $n=()=>o(27455),Yn=()=>o(517492),Xn=()=>o(249046);function ei({feature:e,isReimagined:t}){const o=(0,u().IS)((()=>({icon:{display:"flex",color:j().Tj.icon.secondary,padding:2}})),[]),a=Array.isArray(e.icon)?e.icon:[e.icon];return(0,B.jsxs)(ot().Y1,{direction:"horizontal",gap:t?8:4,align:"center-left",children:[(0,B.jsx)(Xn().Ye,{gap:4,children:a.filter(Wn().Vq).map(((a,n)=>(0,B.jsx)(p().I,{icon:a,colorVariant:"secondary",style:{...o.icon,...e.iconStyle??{}},fitToViewBox:t?"all":void 0},n)))}),(0,B.jsx)(b().D,{styleKey:t?"captionRegular":"bodyRegular",colorVariant:"secondary",children:e.message})]})}var ti=()=>o(725340),oi=()=>o(808764),ai=()=>o(551222),ni=()=>o(15936),ii=()=>o(274570),ri=()=>o(465505),si=()=>o(38679),di=()=>o(920495),li=()=>o(158469),ci=()=>o(904789);function ui({intl:e,isReimagined:t}){const o=function(e,t){return{blocks:{free:{icon:ti().blockLimitIcon,message:e.formatMessage({id:"planCard.features.blocks.free",defaultMessage:"1,000 blocks to collaborate"})},plus:{icon:ri().P,message:e.formatMessage({id:"planCard.features.blocks.unlimited",defaultMessage:"Unlimited blocks for everyone"})},business:{icon:ri().P,message:t?e.formatMessage({id:"planCard.features.blocks.unlimited.reimagined",defaultMessage:"Unlimited blocks"}):e.formatMessage({id:"planCard.features.blocks.unlimited",defaultMessage:"Unlimited blocks for everyone"})}},fileUpload:{free:{icon:ci().squareOnSquarePlusIcon,message:e.formatMessage({id:"planCard.features.fileUpload.free",defaultMessage:"5MB file upload limit"})},plus:{icon:ci().squareOnSquarePlusIcon,message:e.formatMessage({id:"planCard.features.fileUpload.unlimited",defaultMessage:"Unlimited file uploads"})},business:{icon:ci().squareOnSquarePlusIcon,message:e.formatMessage({id:"planCard.features.fileUpload.unlimited",defaultMessage:"Unlimited file uploads"})}},view_chart:{free:{icon:ai().q,message:e.formatMessage({id:"planCard.features.charts.free",defaultMessage:"{chartLimit} chart"},{chartLimit:1})},plus:{icon:ai().q,message:e.formatMessage({id:"planCard.features.charts.unlimited",defaultMessage:"Unlimited charts"})},business:{icon:ai().q,message:e.formatMessage({id:"planCard.features.charts.unlimited",defaultMessage:"Unlimited charts"})}},form_customization:{free:{icon:di().pageIcon,message:e.formatMessage({id:"planCard.features.forms.basic",defaultMessage:"Basic forms"})},plus:{icon:di().pageIcon,message:e.formatMessage({id:"planCard.features.forms.custom",defaultMessage:"Custom forms"})},business:{icon:di().pageIcon,message:e.formatMessage({id:"planCard.features.forms.custom",defaultMessage:"Custom forms"})}},pageHistory:{free:{icon:ii().clockIcon,message:e.formatMessage({id:"planCard.features.pageHistory",defaultMessage:"{historyLimit} day page history"},{historyLimit:7})},plus:{icon:ii().clockIcon,message:e.formatMessage({id:"planCard.features.pageHistory",defaultMessage:"{historyLimit} day page history"},{historyLimit:30})},business:{icon:ii().clockIcon,message:e.formatMessage({id:"planCard.features.pageHistory",defaultMessage:"{historyLimit} day page history"},{historyLimit:90})}},ai_usage:{free:{icon:v().aiFaceIcon,message:e.formatMessage({id:"planCard.features.aiUsage.free",defaultMessage:"Trial of Notion AI core"})},business:{icon:v().aiFaceIcon,message:e.formatMessage({id:"planCard.features.aiUsage.business",defaultMessage:"Notion AI"})}},custom_public_sites_layout:{free:{icon:oi().U,message:e.formatMessage({id:"planCard.features.customPublicSitesLayout.free",defaultMessage:"Basic sites"})}},ai_research_mode:{business:{icon:si().P,message:e.formatMessage({id:"planCard.features.aiResearchMode.business",defaultMessage:"Research Mode"})}},ai_meeting_notes:{business:{icon:h().a,message:e.formatMessage({id:"planCard.features.aiMeetingNotes.business",defaultMessage:"AI Meeting Notes"})}},advancedSecurity:{business:{icon:ni().checkmarkShieldIcon,message:t?e.formatMessage({id:"planCard.features.advancedSecurity.business.reimagined",defaultMessage:"Security & compliance"}):e.formatMessage({id:"planCard.features.advancedSecurity.business",defaultMessage:"Secure & compliant collaboration"})}},unifiedFind:{business:{icon:li().f,message:e.formatMessage({id:"planCard.features.unifiedFind.business",defaultMessage:"Enterprise Search"})}}}}(e,t);return{free:[o.blocks.free,o.ai_usage.free,o.form_customization.free,o.custom_public_sites_layout.free],student:[],personal:[],plus:[o.blocks.plus,o.fileUpload.plus,o.view_chart.plus,o.form_customization.plus,o.pageHistory.plus],business:[o.blocks.business,o.ai_usage.business,o.advancedSecurity.business,o.unifiedFind.business,o.ai_meeting_notes.business,o.ai_research_mode.business],enterprise:[],ai:[],ai_credit_pack:[],sites_custom_hostnames:[]}}function pi({product:e,price:t,comparisonPrice:o,primaryAction:n,isHighlighted:i,isReimagined:r}){const s=fi(r),d=function({product:e,isReimagined:t}){const o=(0,A().tz)();return a.useMemo((()=>ui({intl:o,isReimagined:t})[e].filter((e=>void 0!==e))||[]),[o,e,t])}({product:e,isReimagined:r}),l=i?f().A:yt().E;return(0,B.jsx)($n().Zp,{borderRadius:"lg",colorVariant:"elevated",shadowVariant:i||r?"lg":void 0,borderVariant:"secondary",children:(0,B.jsxs)(ot().Y1,{gap:28,padding:"24px",align:"top-left",children:[(0,B.jsx)(gi,{product:e,price:t,comparisonPrice:o,isReimagined:r}),(0,B.jsx)(l,{colorPalette:"blue",style:s.primaryButton,onClick:n.onClick,size:r?"md":"xl",children:n.label}),(0,B.jsxs)(ot().Y1,{gap:r?8:14,children:[d.map(((e,t)=>(0,B.jsx)(ei,{feature:{...e},isReimagined:r},`feature-${t}`))),i?(0,B.jsx)(b().D,{styleKey:r?"captionRegular":"bodyRegular",colorVariant:r?"secondary":"tertiary",children:(0,B.jsx)(A().sA,{id:"plansPage.planCard.andMore",defaultMessage:"... and more"})}):void 0]})]})})}function gi({product:e,price:t,comparisonPrice:o,isReimagined:a}){const n=fi(a),i=(0,A().tz)();return(0,B.jsxs)(ot().Y1,{gap:16,children:[(0,B.jsx)(b().D,{styleKey:a?"bodyLgSemibold":"titleLgSemibold",colorVariant:"primary",children:(0,Za().u2)({product:e,intl:i})}),(0,B.jsxs)(ot().Y1,{gap:a?8:2,children:[(0,B.jsxs)(ot().Y1,{direction:"horizontal",gap:8,children:[o?(0,B.jsx)("div",{style:n.comparisonPriceText,children:(0,B.jsx)(Yn().v,{cost:o,trailingZeroDisplay:"stripIfInteger"})}):void 0,(0,B.jsx)("div",{style:n.priceText,children:(0,B.jsx)(Yn().v,{cost:t,trailingZeroDisplay:"stripIfInteger"})})]}),(0,B.jsx)(b().D,{styleKey:a?"captionRegular":"captionMedium",colorVariant:a?"secondary":"tertiary",children:(0,B.jsx)(A().sA,{id:"plansPage.planCard.priceUnit",defaultMessage:"per member / month"})})]})]})}function fi(e){return(0,u().IS)((()=>{const t={fontSize:e?32:40,fontWeight:e?590:400,lineHeight:e?"26px":"120%",letterSpacing:e?-.26:.4};return{priceText:{color:j().Tj.text.primary,...t},comparisonPriceText:{color:j().Tj.text.disabled,...t,textDecoration:"line-through"},primaryButton:{alignSelf:"stretch"}}}),[e])}var bi=()=>o(755195);const mi={stageName:"reimagined_business_trial_offer",shouldSkip(e,t){var o;const a=null===(o=e.planTypeAndSurveyInfo)||void 0===o?void 0:o.planType;return!((0,N().shouldShowTrialCheckoutFlow)(a)&&!(0,Oa().A)())||!!(0,N().isUserAlreadyOnTrial)({spaceId:e.spaceId,environment:t})},getTitle:()=>(0,B.jsx)(A().sA,{id:"reimaginedOnboarding.businessTrialOffer.header",defaultMessage:"Choose your Plan"}),getSubTitle:()=>(0,B.jsx)(A().sA,{id:"reimaginedOnboarding.businessTrialOffer.description",defaultMessage:"Select the best Notion experience for your team"}),isBackEnabled:()=>!0,isContinueEnabled:()=>!1,renderStage:()=>(0,B.jsx)(vi,{}),getDisplayType:()=>"reimagined",getLogo:()=>(0,B.jsx)(p().I,{icon:En().briefcaseFillIcon,size:80,colorPalette:"green",colorVariant:"accentPrimary",showOutline:!0})};function vi(){const e=(0,c().O$)(O().A),t=(0,l().v3)(),o=(0,A().tz)(),n=tn(),i=(0,c().K8)((()=>Ya().H.selectedCurrencyCode),[]),r=(0,bi().H4)({billingInterval:"month",priceStore:Ya().H,products:[(null==n?void 0:n.subscriptionTier)??"plus"]}),s=(0,bi()._7)({asyncPrice:r[(null==n?void 0:n.subscriptionTier)??"plus"]});if(a.useEffect((()=>{n||(0,D().goToNextStage)({environment:t,onboardingState:e})}),[n,t,e]),!n)return null;const d={amount:0,currencyCode:i};return(0,B.jsxs)("div",{style:{display:"flex",gap:16,alignItems:"stretch",padding:"0px"},children:[(0,B.jsx)(pi,{product:"free",price:d,primaryAction:{label:o.formatMessage({id:"onboarding.timedTrials.comparePlans.free.continue",defaultMessage:"Continue"}),onClick:async()=>{(0,en().Q8)(),await(0,D().goToNextStage)({environment:t,onboardingState:e})}},isReimagined:!0}),(0,B.jsx)(pi,{isHighlighted:!0,product:n.subscriptionTier,price:d,comparisonPrice:s,primaryAction:{label:o.formatMessage({id:"onboarding.timedTrials.comparePlans.tryFor",defaultMessage:"Try for {trialDays} days"},{trialDays:n.trialDuration.as("days")}),onClick:async()=>{Jn(t,{stage:"reimagined_business_trial_offer",product:n.subscriptionTier,trial_days:n.trialDuration.as("days")}),O().A.update((e=>({...e,acceptedTimedTrialOffer:!0}))),await(0,D().goToNextStage)({environment:t,onboardingState:e})}},isReimagined:!0})]})}const yi={viewBox:"0 0 20 20",fittedViewBox:"1.62 2.87 16.75 13.42",svg:(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)("path",{d:"M10 6.727a3.434 3.434 0 1 1 0 6.867 3.434 3.434 0 0 1 0-6.867m0 1.25a2.184 2.184 0 1 0 0 4.367 2.184 2.184 0 0 0 0-4.367m4.922-.348a.75.75 0 1 1 0 1.5.75.75 0 0 1 0-1.5"}),(0,B.jsx)("path",{d:"M11.47 2.882c.907.063 1.72.592 2.144 1.404l.39.75h2.246c1.174 0 2.125.95 2.125 2.124v7l-.01.218a2.126 2.126 0 0 1-2.115 1.907H3.75c-1.1 0-2.005-.836-2.114-1.907l-.011-.218v-7c0-1.173.951-2.125 2.125-2.125h2.245l.39-.749a2.63 2.63 0 0 1 2.327-1.411h2.576zM8.713 4.125c-.512 0-.982.285-1.219.74l-.566 1.084a.63.63 0 0 1-.554.336H3.75a.875.875 0 0 0-.875.875v7l.005.09a.875.875 0 0 0 .87.785h12.5a.875.875 0 0 0 .87-.785l.005-.09v-7a.875.875 0 0 0-.875-.875h-2.623a.63.63 0 0 1-.554-.336l-.566-1.085a1.38 1.38 0 0 0-1.03-.726l-.189-.013z"})]})},Si=(0,St().wt)("camera",yi,"default");var hi=()=>o(324883);function Ii({onboardingState:e}){const t=(0,l().v3)(),{profilePhoto:o,profileName:a}=e,n=(0,u().IS)((()=>({container:{position:"relative",width:"fit-content"},cameraIcon:{fill:j().Tj.icon.tertiary},button:{width:80,height:80,overflow:"hidden",position:"relative",boxShadow:"none",borderRadius:"100%",border:`1px solid ${j().Tj.border.primary}`,...!o&&{display:"flex",justifyContent:"center",alignItems:"center",background:j().Tj.background.secondary}},profileNameLetter:{fontWeight:G().Wy.bold,color:j().Tj.icon.secondary,fontSize:40},pencilContainer:{position:"absolute",bottom:0,insetInlineEnd:0,width:24,height:24,borderRadius:"100%",background:j().Tj.background.accentPrimary,border:`2px solid ${j().Tj.background.primary}`,display:"flex",alignItems:"center",justifyContent:"center"},buttonHovered:{background:j().Tj.background.tertiary},pencil:{fill:j().Tj.icon.inversePrimary}})),[o]);return(0,B.jsxs)("div",{style:n.container,children:[(0,B.jsx)(te().Ay,{onClick:()=>{ba(t)},style:n.button,hoveredStyle:n.buttonHovered,children:o?(0,B.jsx)(oa().A,{url:o,isAuthenticated:!1,width:120,stripGoogleIconQuery:!0,render:(e,t)=>(0,B.jsx)(ea().A,{src:t,style:{width:"100%",height:"100%",objectFit:"cover",background:"white"}})}):a?(0,B.jsx)("div",{style:n.profileNameLetter,children:a.charAt(0).toUpperCase()}):(0,B.jsx)(p().I,{icon:Si,size:"xl",style:n.cameraIcon})}),(0,B.jsx)(te().Ay,{style:n.pencilContainer,onClick:()=>{ba(t)},ignoreLocalHoverState:!0,children:(0,B.jsx)(p().I,{icon:hi().s,size:"sm",style:n.pencil})})]})}function xi(e){const{label:t,...o}=e,a=(0,u().IS)((()=>({input:{marginTop:8,height:40,borderRadius:8,paddingInline:16,paddingBlock:10,boxShadow:j().Tj.shadow.outline.sm,backgroundColor:"transparent"},caption:{color:j().Tj.text.tertiary,fontSize:12,lineHeight:"16px",marginTop:6,marginBottom:18,textAlign:"start",display:"flex"}})),[]);return(0,B.jsxs)("div",{children:[(0,B.jsx)(b().D,{as:"label",styleKey:"bodySmSemibold",colorVariant:"primary",htmlFor:e.id,children:e.label}),(0,B.jsx)(qo().A,{...o,style:a.input,format:"large"}),e.caption?(0,B.jsx)("div",{style:a.caption,children:e.caption}):void 0,e.error?(0,B.jsx)("div",{style:{marginTop:4},children:(0,B.jsx)(ta().R,{id:"onboarding-name-validation-error",error:e.error})}):void 0]})}function wi({onboardingState:e}){var t;const o=(0,l().v3)(),a=(0,A().tz)(),n=null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.planType,i=(0,u().IS)((()=>({container:{},buttonContainer:{display:"flex",gap:12,width:"100%"}})),[]),r=[{planType:"team",image:m().A.images.onboarding.illustratedIconSatchelPng,label:(0,B.jsx)(A().sA,{id:"reimaginedProfile.planType.work",defaultMessage:"Work"}),ariaLabel:a.formatMessage({defaultMessage:"satchel icon",id:"reimaginedProfile.planType.work.ariaLabel"}),emoji:"ðŸ’¼"},{planType:"personal",image:m().A.images.onboarding.illustratedIconHomePng,label:(0,B.jsx)(A().sA,{id:"reimaginedProfile.planType.personal",defaultMessage:"Personal life"}),ariaLabel:a.formatMessage({defaultMessage:"home icon",id:"reimaginedProfile.planType.personal.ariaLabel"}),emoji:"ðŸ "},{planType:"school",image:m().A.images.onboarding.illustratedIconBookPng,label:(0,B.jsx)(A().sA,{id:"reimaginedProfile.planType.school",defaultMessage:"School"}),ariaLabel:a.formatMessage({defaultMessage:"book icon",id:"reimaginedProfile.planType.school.ariaLabel"}),emoji:"ðŸ“š"}];return(0,B.jsx)("div",{style:i.container,children:(0,B.jsx)("div",{style:i.buttonContainer,children:r.map((t=>(0,B.jsx)(_i,{image:t.image,label:t.label,ariaLabel:t.ariaLabel,isSelected:n===t.planType,onSelect:()=>{const a={...e,planTypeAndSurveyInfo:{...e.planTypeAndSurveyInfo,planType:t.planType},spaceIcon:t.emoji};O().A.setState(a),T().ut(o,{...(0,N().getContextualizedOnboardingAnalyticsData)({onboardingState:a,spaceJoinOrCreate:"create",environment:o}),planType:t.planType})}},t.planType)))})})}function _i({image:e,label:t,isSelected:o,onSelect:a,ariaLabel:n}){const i=(0,u().IS)((()=>({button:{flex:1,flexBasis:0,boxSizing:"border-box",height:100,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:8,padding:16,borderRadius:12,border:`1px solid ${j().Tj.border.primary}`,outline:o?`2px solid ${j().Tj.blue.border.accentPrimary}`:void 0,boxShadow:j().Tj.shadow.outline.sm,background:o?j().Tj.background.elevated:j().Tj.background.primary,transition:"all 200ms ease",cursor:"pointer",opacity:o?1:.7},imageContainer:{display:"flex",alignItems:"center",justifyContent:"center"}})),[o]);return(0,B.jsxs)(te().Ay,{style:i.button,onClick:a,children:[(0,B.jsx)("div",{style:i.imageContainer,children:(0,B.jsx)("img",{src:e,style:{height:48,width:48},alt:n})}),(0,B.jsx)(b().D,{styleKey:"bodyMedium",colorVariant:"primary",children:t})]})}class Ai extends na().Store{getInitialState(){return{useCases:Pe().k4([oe().GQ,oe().NR,oe().Q4])}}}const ji=Ai,ki=(0,A().YK)({placeHolderMobile:{defaultMessage:"Acme Labs",id:"onboardingWorkspaceCreate.mobile.spaceInput.placeholderV2"},placeHolderDesktop:{defaultMessage:"Acme Inc.",id:"onboardingWorkspaceCreate.workspaceNameInput.placeholder"},workspaceNameTooLong:{defaultMessage:"Workspace name must be {maxLength} characters or less",id:"onboardingWorkspaceCreate.workspaceNameInput.tooLongError"}});function Ti(e,t){return e&&e.trim()&&e.length>oe().zX?t.formatMessage(ki.workspaceNameTooLong,{maxLength:oe().zX}):null}function Ci(){const e=(0,l().v3)(),t=(0,A().tz)(),o=(0,c().uB)(void 0,ji),[n,i]=a.useState(null),r=(0,c().O$)(O().A),d=(0,c().K8)((()=>o.state.invalidField),[o]),p=r.spaceIcon?{pointer:{table:"space",id:"undefined"},icon:r.spaceIcon}:void 0,g=t.formatMessage(ki.placeHolderDesktop),f=(0,c().K8)((()=>{const t=(0,N().getStageName)({flowName:r.flowName,stageIndex:r.currentStageIndex,environment:e});return ws[t]}),[r,e]),b=(0,c().K8)((()=>null==f?void 0:f.isContinueEnabled(r,e)),[f,r,e]),m=(0,c().K8)((()=>(0,ye().Wl)()),[]);(0,a.useEffect)((()=>{r.onboardingData&&void 0===r.spaceName&&"prefilled_workspace_preview"===m&&(0,P().prefillTeamWorkspaceName)(r.onboardingData)}),[r.onboardingData,r.spaceName,m]);const v=Pi("workspace_preview"===m||"prefilled_workspace_preview"===m),y=(0,u().IS)((()=>({buttonLabel:{fontSize:14,color:j().Tj.text.secondary,marginTop:4},formLabel:{...s().Gy,color:j().Tj.text.secondary,marginTop:32},inputHint:{marginTop:4},input:{marginInlineEnd:4,borderRadius:6,background:"transparent",backgroundColor:j().Tj.whiteButtonBackground,height:31}})),[]);return(0,B.jsx)(Ho().N,{capture:!0,debugName:"ContextualizedOnboardingWorkspaceCreate",onEnter:async()=>{b&&await(0,D().goToNextStage)({environment:e,onboardingState:r})},onLeft:Pe().D_,onRight:Pe().D_,onSelectAll:Pe().D_,onCut:Pe().D_,onCopy:Pe().D_,onPaste:Pe().D_,children:(0,B.jsxs)("div",{style:v.wrapper,children:[(0,B.jsx)("div",{style:v.innerWrapper,children:(0,B.jsxs)("div",{style:v.recordIconWrapper,children:[(0,B.jsx)(ae().B6,{bucket:"public",disabled:!1,icon:p,isEmptyPage:!1,title:r.spaceName||g,size:81,iconLoggingData:{recordTable:"space",source:"onboarding_workspace_create"},onChange:t=>Di({environment:e,onboardingState:r,emojiOrUrl:t}),iconBoxStyles:v.recordIconBox,placeholderStyle:v.recordIconPlaceholder}),(0,B.jsx)("div",{style:y.buttonLabel,children:(0,B.jsx)(A().sA,{defaultMessage:"Choose or add an icon",id:"onboarding.workspaceCreate.buttonLabel.titleV2"})})]})}),(0,B.jsx)(Ri,{}),(0,B.jsx)("div",{style:y.formLabel,children:(0,B.jsx)(A().sA,{defaultMessage:"Workspace name",id:"onboardingWorkspaceCreate.workspaceNameInput.label"})}),(0,B.jsx)(qo().A,{focusInitial:!0,value:r.spaceName,placeholder:g,onChange:e=>{O().A.setState({...O().A.state,spaceName:e.target.value}),i(null)},onBlur:()=>{const{spaceName:e}=r,o=Ti(e,t);i(o)},style:{...y.input,..."space_name"===d||n?s().Hp:{}}}),(0,B.jsx)("div",{style:y.inputHint,children:(0,B.jsx)(Ie().A,{isMultiline:!0,isSmall:!0,style:{...n&&{color:"red"}},children:n||(0,B.jsx)(A().sA,{defaultMessage:"The name of your company or organization",id:"onboardingWorkspaceCreate.workspaceNameInput.hintV2"})})})]})})}function Mi(){const e=(0,l().v3)(),t=(0,A().tz)(),[o,n]=a.useState(null),i=Pi(),r=(0,u().IS)((()=>({inputComponent:{marginBottom:24,border:"none",background:"none",width:"auto",maxWidth:256,height:32,borderRadius:6,boxShadow:"none",color:j().Tj.text.secondary},inputOverrides:{height:32,fontSize:26,fontWeight:G().Wy.bold,color:j().Tj.text.primary},photoBadgePlusContainer:{position:"absolute",borderRadius:"50%",border:`4px solid ${j().Tj.background.secondary}`,background:j().Tj.border.primary,bottom:"0%",insetInlineEnd:"12%",pointerEvents:"none"}})),[]),d=(0,c().O$)(O().A),g=d.spaceIcon?{pointer:{table:"space",id:"undefined"},icon:d.spaceIcon}:void 0,f=t.formatMessage(ki.placeHolderMobile);return(0,B.jsxs)("div",{style:i.wrapper,children:[(0,B.jsx)("div",{style:i.innerWrapper,children:(0,B.jsxs)("div",{style:i.recordIconWrapper,children:[(0,B.jsx)(ae().B6,{bucket:"public",disabled:!1,icon:g,isEmptyPage:!1,title:d.spaceName||f,size:126,iconLoggingData:{recordTable:"space",source:"onboarding_workspace_create"},onChange:t=>Di({environment:e,onboardingState:d,emojiOrUrl:t}),iconBoxStyles:i.recordIconBox,placeholderStyle:i.recordIconPlaceholder}),(0,B.jsx)("div",{style:r.photoBadgePlusContainer,children:(0,B.jsx)(p().I,{icon:$o().M,size:"lg",colorVariant:"secondary"})})]})}),(0,B.jsx)(Ri,{}),(0,B.jsx)(ot().Y1,{align:"center",children:(0,B.jsx)(qo().A,{autoFocus:!0,inputClassName:"spaceNameInput",format:"transparent",focusInitial:!0,value:d.spaceName,placeholder:f,onChange:e=>{O().A.setState({...O().A.state,spaceName:e.target.value}),n(null)},onBlur:()=>{const{spaceName:e}=d,o=Ti(e,t);n(o)},style:{...r.inputComponent,...o?s().Hp:{}},inputStyle:r.inputOverrides,overrideDefaultWidth:!0})}),o?(0,B.jsx)(Ie().A,{isMultiline:!0,isSmall:!0,style:{color:"red",marginTop:8,textAlign:"center"},children:o}):void 0]})}function Ri(){const e=`\n\t\t.spaceNameInput::placeholder {\n\t\t\tfont-size: 26px;\n\t\t\tfont-weight: ${G().Wy.bold};\n\t\t\tcolor: ${j().Tj.text.disabled};\n\t\t\ttext-align: center;\n\t\t}\n\t\t.spaceNameInput:focus-visible {\n\t\t\toutline: none;\n\t\t}\n\t\t.spaceNameInput:placeholder-shown {\n\t\t\ttext-align: left;\n\t\t\twidth: 136px;\n\t\t}\n\t\t.spaceNameInput {\n\t\t\ttext-align: center;\n\t\t\twidth: 100%;\n\t\t}\n\t`;return(0,B.jsx)("style",{children:e})}function Pi(e){return(0,u().IS)((()=>({wrapper:{...!e&&{marginInlineStart:"auto"},marginInlineEnd:"auto",display:"flex",flexDirection:"column",width:e?320:300,...q().A.isMobile&&{alignItems:"center"}},innerWrapper:{width:180,overflow:"hidden",margin:"0 auto",...!q().A.isMobile&&{marginTop:28}},recordIconWrapper:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",marginInlineEnd:4,marginTop:q().A.isMobile?55:0,position:"relative"},recordIconBox:{borderRadius:q().A.isMobile?22:14,background:j().Tj.background.tertiaryTranslucent},recordIconPlaceholder:{lineHeight:"32px",letterSpacing:.208,color:j().Tj.text.tertiary,height:"auto",fontSize:q().A.isMobile?40:34,fontWeight:q().A.isMobile?700:510}})),[e])}function Di({environment:e,onboardingState:t,emojiOrUrl:o}){T().F5(e,{...(0,N().getContextualizedOnboardingAnalyticsData)({onboardingState:t,environment:e}),spaceIcon:o}),O().A.setState({...O().A.state,spaceIcon:o})}const Ni={stageName:"team_onboarding_workspace_create",shouldSkip(e){const{flowName:t,onboardingData:o,planTypeAndSurveyInfo:a}=e;return!(!(0,N().isTrialOnboardingFlowState)(e)||!Boolean(e.selectedEligibleWorkspaceId))||(!(!o||"meeting_notes_flow"!==t)||("team"!==(null==a?void 0:a.planType)||!(!o||"auto_name_workspace"!==(0,ye().Wl)())))},async onSkip(e,t){const{flowName:o,onboardingData:a,planTypeAndSurveyInfo:n}=t;(0,N().isTrialOnboardingFlowState)(t)&&Boolean(t.selectedEligibleWorkspaceId)||(a&&"meeting_notes_flow"===o||"team"===(null==n?void 0:n.planType)&&a&&"auto_name_workspace"===(0,ye().Wl)())&&await Oi(a,e,n)},getTitle:()=>(0,B.jsx)(A().sA,{defaultMessage:"Give your workspace a name",id:"onboardingWorkspaceCreate.stage.team.titleV2"}),getSubTitle(e){var t;if("singleplayer"!==(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.collaborativeIntent))return(0,B.jsx)(A().sA,{defaultMessage:"Details help any collaborators that join",id:"onboardingWorkspaceCreate.stage.subtitleV2"})},isContinueEnabled(e){const{spaceName:t}=e;return Boolean(t&&t.trim()&&t.length<=oe().zX)},async onContinue(e,t){await(0,P().createSpaceAndSetSpaceId)({onboardingState:t,environment:e})},isBackEnabled:e=>!0,renderStage:()=>(0,B.jsx)(Ci,{}),getContinueButtonStyles(){const e=(0,ye().Wl)(),t="workspace_preview"===e||"prefilled_workspace_preview"===e;return{width:t?320:300,alignSelf:t?"flex-start":"center",marginTop:70}},renderRightContent(e){const t=(0,ye().Wl)();if("workspace_preview"===t||"prefilled_workspace_preview"===t){var o;const t=e.planTypeAndSurveyInfo,a=(null==t||null===(o=t.surveyResponses)||void 0===o?void 0:o.useCases)??[],n=e.selectedWorkflowTemplateIds??[];return(0,B.jsx)(Be,{selectedWorkflowTemplateIds:n,selectedUseCases:a,selectedCategories:[],shouldZoomInOnWorkspaceNameAndIconPreview:!0})}},getAlignment:()=>"center",getDisplayType:()=>"default"},Ei={stageName:"mobile_team_onboarding_workspace_create",async shouldSkip(e,t){var o;const a=null===(o=e.planTypeAndSurveyInfo)||void 0===o?void 0:o.planType;return!a||"team"!==a||!q().A.isMobile||!(!e.onboardingData||"on"!==i().default.getEligibleGroup({experimentId:"skip_mobile_workspace_create_step",defaultGroup:"control"}))&&(await Oi(e.onboardingData,t,e.planTypeAndSurveyInfo),!0)},estimateWillSkip(e,t){var o;const a=null===(o=e.planTypeAndSurveyInfo)||void 0===o?void 0:o.planType;return!a||"team"!==a||!q().A.isMobile||Boolean(e.onboardingData)&&"on"===i().default.getEligibleGroup({experimentId:"skip_mobile_workspace_create_step",defaultGroup:"control"})},getTitle:()=>(0,B.jsx)(A().sA,{defaultMessage:"Whatâ€™s the name of your company or organization?",id:"onboardingWorkspaceCreate.stage.team.mobile.titleV2"}),isContinueEnabled(e){const{spaceName:t}=e;return Boolean(t&&t.trim()&&t.length<=oe().zX)},async onContinue(e,t){await(0,P().createSpaceAndSetSpaceId)({onboardingState:t,environment:e})},isBackEnabled:()=>!0,renderStage:()=>(0,B.jsx)(Mi,{}),getDisplayType:()=>"default"};async function Oi(e,t,o){"team"===(null==o?void 0:o.planType)&&(0,P().prefillTeamWorkspaceName)(e),await(0,P().createSpaceAndSetSpaceId)({onboardingState:O().A.state,environment:t})}const Bi={stageName:"reimagined_combined_profile_plan_type",shouldSkip:()=>!1,getTitle:()=>(0,B.jsx)(A().sA,{id:"reimaginedOnboarding.profile.header",defaultMessage:"Welcome to your workspace"}),getSubTitle:()=>(0,B.jsx)(A().sA,{id:"reimaginedOnboarding.profile.description",defaultMessage:"This is how you will appear in Notion"}),isBackEnabled:()=>!1,isContinueEnabled:e=>{var t;return!ga(e.profileName)&&Boolean(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.planType)},renderContentUnderContinueButton:(e,t)=>(0,B.jsx)(Vo,{onboardingState:e,environment:t}),renderStage:()=>(0,B.jsx)(zi,{}),getDisplayType:()=>"reimagined",onContinue:async(e,t)=>{var o;await(0,P().setProfileData)(e,t),O().A.setState({...t,password:void 0});await(0,D().maybeCompleteOnboardingAfterProfileStage)(e)||"team"===(null===(o=t.planTypeAndSurveyInfo)||void 0===o?void 0:o.planType)&&t.onboardingData&&await Oi(t.onboardingData,e,t.planTypeAndSurveyInfo)},getLogo:e=>(0,B.jsx)(Ii,{onboardingState:e})};function zi(){var e;const t=(0,c().O$)(O().A),o=(0,l().v3)(),n=(0,A().tz)(),[i,r]=(0,a.useState)(),s=!ga(t.profileName)&&Boolean(null===(e=t.planTypeAndSurveyInfo)||void 0===e?void 0:e.planType),d=(0,u().IS)((()=>({planTypeSelectorLabel:{marginBottom:12}})),[]);return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(xi,{label:(0,B.jsx)(A().sA,{id:"contexualizedOnboardingProfile.reimagined.nameInput.label",defaultMessage:"Your name"}),placeholder:n.formatMessage({defaultMessage:"Name",id:"contextualizedOnboardingProfile.reimagined.nameInput.placeholder"}),autoFocus:!0,value:t.profileName,onChange:e=>{O().A.setState({...t,profileName:e.target.value}),T().o8(o,(0,N().getContextualizedOnboardingAnalyticsData)({onboardingState:O().A.state,environment:o})),r(ga(e.target.value))},error:i}),(0,B.jsx)("div",{style:d.planTypeSelectorLabel,children:(0,B.jsx)(b().D,{styleKey:"bodySmSemibold",colorVariant:"primary",children:(0,B.jsx)(A().sA,{id:"reimaginedProfile.planType.label",defaultMessage:"What do you want to use Notion for?"})})}),(0,B.jsx)(wi,{onboardingState:t}),(0,B.jsx)(Bn,{disabled:!s})]})}const Fi={viewBox:"0 0 20 20",fittedViewBox:"3.12 1.93 13.75 15.19",svg:(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)("path",{d:"M16 11.875c.483 0 .875.392.875.875v2a2.375 2.375 0 0 1-2.375 2.375h-9a2.375 2.375 0 0 1-2.375-2.375v-2a.875.875 0 0 1 1.75 0v2c0 .345.28.625.625.625h9c.345 0 .625-.28.625-.625v-2c0-.483.392-.875.875-.875"}),(0,B.jsx)("path",{d:"M9.95 1.938c.483 0 .875.391.875.875v7.85l2.031-2.032a.876.876 0 0 1 1.239 1.238l-3.5 3.5-.065.058a.877.877 0 0 1-1.174-.058l-3.5-3.5a.876.876 0 0 1 1.239-1.238l1.98 1.98V2.812c0-.483.392-.874.875-.874"})]})},Wi=(0,St().wt)("arrowTrayDownFill",Fi,"fill");const Ui={getTitle:()=>(0,B.jsx)(A().sA,{id:"reimaginedOnboarding.desktopDownload.header",defaultMessage:"Notion is 50% faster with the Desktop App"}),getSubTitle:()=>(0,B.jsx)(A().sA,{id:"reimaginedOnboarding.desktopDownload.description",defaultMessage:"Plus access app-exclusive features"}),isBackEnabled:()=>!0,shouldShowSkipButton:()=>!0,isContinueEnabled:()=>!0,renderStage:()=>(0,B.jsx)(Qi,{}),getDisplayType:()=>"reimagined",getLogo:()=>(0,B.jsx)(p().I,{icon:Wi,size:80,colorPalette:"gray",showOutline:!0})},Li={...Ui,stageName:"reimagined_desktop_download",shouldSkip:bt},Vi={...Ui,stageName:"reimagined_team_desktop_download",shouldSkip:mt};function Qi(){const e=(0,u().IS)((()=>({container:{display:"flex",alignItems:"center",gap:24}})),[]),t=(0,l().v3)(),n=(0,c().O$)(O().A),{navigate:i}=(0,a.useContext)(tt().E),r=(0,rt().E)();return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)("div",{style:e.container,children:[(0,B.jsxs)(ot().Y1,{gap:12,children:[(0,B.jsx)(ei,{feature:{icon:nt().m,message:(0,B.jsx)(A().sA,{id:"reimaginedOnboarding.desktopDownload.feature.faster",defaultMessage:"More reliable performance"})},isReimagined:!0}),(0,B.jsx)(ei,{feature:{icon:h().a,message:(0,B.jsx)(A().sA,{id:"reimaginedOnboarding.desktopDownload.feature.meetingNotes",defaultMessage:"AI Meeting Notes"})},isReimagined:!0}),(0,B.jsx)(ei,{feature:{icon:o(792272).u,message:(0,B.jsx)(A().sA,{id:"reimaginedOnboarding.desktopDownload.feature.focused",defaultMessage:"Distraction-free workflows"})},isReimagined:!0})]}),(0,B.jsx)("img",{src:m().A.images.characterAiLaptop2Png,width:120,alt:""})]}),(0,B.jsxs)(ot().Y1,{gap:12,children:[(0,B.jsx)(Bn,{onContinue:async()=>{await st({environment:t,onboardingState:n,navigate:i,cachedDownloadUrl:r.current})},continueButtonText:(0,B.jsx)(A().sA,{id:"onboarding.desktopDownloadStage.reimagined.continueButtonLabel",defaultMessage:"Get desktop app"})}),(0,B.jsx)(yt().E,{onClick:()=>(0,D().skipStage)({environment:t,onboardingState:n}),size:"xl",style:{width:"100%"},children:(0,B.jsx)(A().sA,{id:"reimaginedOnboarding.desktopDownload.skipButton.label",defaultMessage:"Skip for now"})})]})]})}var Ki=()=>o(692031),Gi=()=>o(212497),Hi=()=>o(352321),Zi=()=>o(784892),qi=()=>o(742852),Ji=()=>o(881690);o(944114);class $i extends na().Store{getInitialState(){return{emailValue:"",emailTokens:[],validationError:void 0,isInviting:!1,isBulkInvite:!1,emailInputs:[{value:"",sanitizedEmail:""},{value:"",sanitizedEmail:""},{value:"",sanitizedEmail:""}]}}setEmailValue(e){this.setState({...this.state,emailValue:e})}addNewEmailValue(){const e=this.state.emailInputs;this.setState({...this.state,emailInputs:[...e,{value:"",sanitizedEmail:""}]})}removeEmailValue(e){if(e>=this.state.emailInputs.length)return;const t=[...this.state.emailInputs];t.splice(e,1),this.setState({...this.state,emailInputs:t})}updateEmailValue(e,t,o){if(e>=this.state.emailInputs.length)return;const a=this.state.emailInputs[e],n=this.state.emailInputs.map(((a,n)=>n===e?{value:t,sanitizedEmail:o}:a));e===this.state.emailInputs.length-1&&""===a.sanitizedEmail&&""!==o&&n.push({value:"",sanitizedEmail:""}),this.setState({...this.state,emailInputs:n})}setInvalidEmails(e,t){const o=this.state.emailInputs.map(((o,a)=>e.includes(a)?{...o,validationError:t.formatMessage({defaultMessage:"Invalid email.",id:"onboardingInviteNew.error.invalidEmail.message"})}:o));this.setState({...this.state,validationError:"One or more invalid emails found.",emailInputs:o})}clearValidationError(e){const t=this.state.emailInputs.map(((t,o)=>e===o?{...t,validationError:void 0}:t));this.setState({...this.state,emailInputs:t})}switchToBulkInvite(){const e=this.state.emailInputs.map((e=>e.sanitizedEmail||e.value)).filter(Boolean);this.updateEmailTokens(...e),this.setState({...this.state,emailInputs:[],isBulkInvite:!0,validationError:void 0})}updateEmailTokens(...e){const t=e.map((e=>({email:e,isValidEmail:(0,J().DT)(e)})));this.setState({...this.state,emailTokens:[...this.state.emailTokens,...t]})}}const Yi=new $i;(0,o(852832).exposeDebugValue)("OnboardingInviteStore",Yi);var Xi=()=>o(148974);function er({onboardingState:e}){const t=(0,c().K8)((()=>{var t,o;if(e.onboardingData)return s().qg({userStore:null===(t=e.onboardingData)||void 0===t?void 0:t.userStore,isUserDomainJoinable:null===(o=e.onboardingData)||void 0===o?void 0:o.isUserDomainJoinable})}),[e]),o=(0,Lo().B)(),a="reimagined_default"===e.flowName;return Boolean(t)?a?(0,B.jsxs)("div",{style:{display:"flex",cursor:"pointer",alignItems:"center"},children:[(0,B.jsx)(so().S,{style:{margin:8,marginInlineStart:0},checked:Boolean(e.optInAutoJoin),size:16,onClick:()=>{O().A.setState({...e,optInAutoJoin:!e.optInAutoJoin})},id:o}),(0,B.jsx)(b().D,{styleKey:"bodyRegular",colorVariant:"primary",as:"label",htmlFor:o,children:(0,B.jsx)(A().sA,{defaultMessage:"Anyone with <b>â€@{emailDomain}â€</b> can join your workspace",id:"reimaginedOnboarding.invite.allowDomainAutoJoinCheckbox.label",values:{emailDomain:t,b:e=>(0,B.jsx)("b",{children:e})}})})]}):(0,B.jsxs)("div",{style:{...s().ZP,display:"flex",...q().A.isMobile?{textAlign:"left",justifyContent:"center"}:{alignItems:"center"},...q().A.isMobile?{marginBottom:16}:{marginTop:16}},children:[(0,B.jsx)("div",{style:{marginInlineEnd:10,paddingInlineStart:6,paddingTop:q().A.isMobile?2:1},children:(0,B.jsx)(so().S,{checked:Boolean(e.optInAutoJoin),onClick:()=>{O().A.setState({...e,optInAutoJoin:!e.optInAutoJoin})},size:16,style:{borderRadius:2},id:o})}),(0,B.jsx)("label",{htmlFor:o,style:{...s().pk(),fontSize:12,cursor:"pointer"},children:q().A.isMobile?(0,B.jsx)(A().sA,{defaultMessage:"Anyone with an email at {emailDomain} can join",id:"contextualizedOnboarding.emailDomainAutoJoinCheckbox.mobile.label",values:{emailDomain:t}}):(0,B.jsx)(A().sA,{defaultMessage:"Anyone with a â€œ@{emailDomain}â€ email can join your workspace",id:"contextualizedOnboarding.emailDomainAutoJoinCheckbox.label",values:{emailDomain:t}})})]}):null}var tr=()=>o(675133),or=()=>o(711339),ar=()=>o(617668),nr=()=>o(93460),ir=()=>o(806080),rr=()=>o(579627),sr=()=>o(17981),dr=()=>o(417555),lr=()=>o(475355);function cr(){const e=(0,c().O$)(O().A);return(0,B.jsx)(Ho().N,{debugName:"OnboardingInvite",capture:!0,onLeft:Pe().D_,onRight:Pe().D_,onSelectAll:Pe().D_,onRedo:Pe().D_,onUndo:Pe().D_,onCut:Pe().D_,onCopy:Pe().D_,onPaste:Pe().D_,onKeypress:Pe().D_,onDelete:Pe().D_,onBackspace:Pe().D_,onTab:Pe().D_,children:(0,B.jsx)(pr,{onboardingState:e})})}function ur(){return(0,B.jsx)(Sr,{})}function pr({onboardingState:e}){const{isBulkInvite:t,validationError:o}=(0,c().K8)((()=>{const{isBulkInvite:e,validationError:t}=Yi.state;return{isBulkInvite:e,validationError:t}}),[]);return(0,B.jsxs)("div",{style:{width:406,alignSelf:"center"},children:[(0,B.jsx)("div",{style:{width:"100%",display:"flex",alignItems:"center",marginBottom:"4px",marginTop:24},children:(0,B.jsx)(Ie().A,{isSecondaryColor:!0,style:{fontSize:12,fontWeight:G().Wy.regular},children:(0,B.jsx)(A().sA,{defaultMessage:"Invite people",id:"onboardingInvite.emails.sendInvitesV2"})})}),t?(0,B.jsx)(br,{}):(0,B.jsx)(fr,{}),(0,B.jsx)(Zo().A,{size:8,style:{marginTop:12}}),(0,B.jsx)(er,{onboardingState:e}),(0,B.jsx)(Ir,{onboardingState:e,styles:{borderRadius:8}}),o?(0,B.jsx)("div",{style:{display:"flex",justifyContent:"center",width:"100%",color:j().oZ.red,marginTop:14},children:(0,B.jsx)(A().sA,{defaultMessage:"Looks like some of the emails are invalid. Try again?",id:"onboardingInvite.invalidEmails.error.message"})}):void 0]})}function gr(){const e=(0,l().v3)(),t=(0,c().O$)(O().A),a=(0,c().K8)((()=>Yi.state.isInviting),[]),n=(0,Mo().r)("simplify_invite_stage_continue_text"),i=(0,c().K8)((()=>s().EI(Yi.state)?"on"===n?(0,B.jsx)(A().sA,{defaultMessage:"Invite and continue",id:"contextualizedOnboarding.inviteStage.inviteAndContinueButtonLabelSimplified"}):(0,B.jsx)(A().sA,{defaultMessage:"Invite and take me to Notion",id:"contextualizedOnboarding.inviteStage.inviteAndContinueButtonLabel"}):"on"===n?(0,B.jsx)(A().sA,{defaultMessage:"Continue",id:"contextualizedOnboarding.inviteStage.ContinueWithoutInviteButtonLabelSimplified"}):(0,B.jsx)(A().sA,{defaultMessage:"Take me to Notion",id:"contextualizedOnboarding.inviteStage.ContinueWithoutInviteButtonLabel"})),[n]);return(0,B.jsx)("div",{style:{display:"flex",justifyContent:"center",width:"100%"},children:(0,B.jsx)(f().A,{colorPalette:"blue",style:{marginTop:12,width:"100%"},size:"lg",onClick:()=>wr(e,t),disabled:a,children:a?(0,B.jsx)(o(98126).A,{onDarkBackground:!0}):i})})}function fr(){const e=(0,A().tz)(),t=(0,c().K8)((()=>Yi.state.emailInputs),[]),o=t.map(((o,a)=>(0,B.jsx)("div",{style:{width:"100%"},children:(0,B.jsx)(qo().A,{placeholder:e.formatMessage({defaultMessage:"Email",id:"onboardingInvite.email.placeholderV2"}),inputElementAttributes:{"aria-label":e.formatMessage({defaultMessage:"Email address",id:"onboardingInvite.email.ariaLabel"})},style:{padding:10,marginBottom:10,background:j().Tj.background.secondary,width:"100%",display:"flex",height:32,borderRadius:6,boxShadow:t[a].validationError?j().Tj.inputRedFocusRing:j().Tj.inputBoxShadow,transition:"box-shadow 0.3s ease-out"},onChange:e=>{!function(e,t){const o=e.target.value,{index:a}=t,n=(0,J().iL)(o);Yi.updateEmailValue(a,o,n)}(e,{index:a})},value:o.value})},a)));return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)("div",{style:{marginBottom:2,alignItems:"center",display:"flex",flexFlow:"column",marginTop:6},children:o}),(0,B.jsx)(g().p,{iconLeading:ar().plusIcon,onClick:()=>{Yi.switchToBulkInvite()},style:{color:j().Tj.text.tertiary,fontWeight:G().Wy.regular},children:(0,B.jsx)(A().sA,{defaultMessage:"Add more or bulk invite",id:"onboardingInvite.emails.addMoreOrInviteInBulkTextV2"})})]})}function br(){const e=(0,A().tz)(),t=(0,c().O$)(Yi),o=t.emailTokens.map(((e,t)=>{const o={type:"newUser",value:{email:e.email||""},source:"email"},a=e.isValidEmail?{}:{backgroundColor:j().Tj.red.background.tertiaryTranslucent,isStrikedThrough:!0};return(0,B.jsx)(dr().A,{target:o,onClickRemove:e=>yr(e),...a},t)}));return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(Hi().Ay,{format:Hi().le.Share,value:t.emailValue||"",onChange:e=>vr(e),type:"email",tokens:o,tokenWrapStyle:{gap:4},disabled:!1,placeholder:e.formatMessage({id:"onboardingInvite.bulkInvites.placeholder",defaultMessage:"annie@myteam.com, fay@company.com, henry@company.com, ..."}),inputElementAttributes:{"aria-label":e.formatMessage({defaultMessage:"Email addresses to invite",id:"onboardingInvite.bulkInvites.ariaLabel"})},onKeyDown:e=>mr(e),onRemoveLastToken:ir().lQ,dontShowBorderBottom:!1,style:{boxShadow:"rgba(15, 15, 15, 0.1) 0px 0px 0px 1px inset",background:j().Tj.whiteButtonBackground,borderRadius:4,height:150,alignContent:"flex-start"},textarea:!0,inputStyle:{height:"100%"},inputFullWidth:!0}),(0,B.jsx)(Ie().A,{isMultiline:!0,isSmall:!0,style:{marginTop:8,marginBottom:28},children:(0,B.jsx)(A().sA,{defaultMessage:"Type or paste in one or multiple emails separated by commas, spaces, or line breaks.",id:"onboardingInvite.addEmail.caption"})})]})}function mr(e){if("Enter"===e.key){const t=e.target.value,o=(0,J().qh)(t);o&&(Yi.updateEmailTokens(o),Yi.setState({...Yi.state,emailValue:""}))}}function vr(e){const t=e.target.value,{extractedEmails:o,newInputValue:a}=(0,J().Ct)(t);Yi.updateEmailTokens(...o),Yi.setState({...Yi.state,emailValue:a})}function yr(e){const t=Yi.state.emailTokens.filter((t=>"newUser"===e.type&&t.email!==e.value.email));Yi.setState({...Yi.state,emailTokens:t})}function Sr(){const e=(0,l().v3)(),{ThemeStore:t}=e,o=(0,c().K8)((()=>"dark"===t.state.mode),[t])?m().A.images.onboarding.mobileOnboardingInviteDarkmodePng:m().A.images.onboarding.mobileOnboardingInviteLightmodePng;return(0,B.jsx)("img",{alt:"Image of users with scroll",src:o,style:{width:"85%",textAlign:"center"}})}function hr({onboardingState:e}){const t=(0,l().v3)();return(0,B.jsx)("div",{style:{width:"100%"},children:(0,B.jsxs)(te().Ay,{style:{borderRadius:12,height:48,width:"100%",display:"flex",justifyContent:"center",alignItems:"center",color:j().Tj.text.primary,fontSize:17,fontWeight:G().Wy.semibold,background:j().Tj.background.tertiaryTranslucent,marginTop:12},onClick:()=>async function(e,t){const{mobileNative:o,device:a}=t,n=e.inviteLinkUrl;if(n)if(a.isMobileNative)null==o||o.share(n);else try{await navigator.share({url:n})}catch{}T().CM(t,(0,N().getContextualizedOnboardingAnalyticsData)({onboardingState:e,environment:t}))}(e,t),ignoreLocalHoverState:!0,children:[(e=>{const t=e.device;return t.isIOS?I().Y:t.isAndroid?nr().b:I().Y})(t)({height:16,width:16,marginInlineEnd:6}),(0,B.jsx)(A().sA,{defaultMessage:"Share to...",id:"onboardingInvite.mobile.shareButton.title"})]})})}function Ir({styles:e,onboardingState:t}){const o=(0,u().eP)(),n=(0,l().v3)(),[i,r]=(0,a.useState)(!1);return(0,B.jsx)(V().m,{placement:"top",renderTooltip:()=>(0,B.jsx)(A().sA,{defaultMessage:"Invite teammates with this link",id:"onboardingInvite.sharingButton.tooltip.copy"}),render:a=>(0,B.jsx)("div",{style:{width:"100%"},children:(0,B.jsx)(te().Ay,{style:{marginTop:q().A.isMobile?0:64,height:32,width:"100%",display:"flex",justifyContent:"center",alignItems:"center",background:j().Tj.blue.background.secondaryTranslucent,cursor:"pointer",color:j().Tj.blue.text.accentPrimary,fontSize:14,fontWeight:G().Wy.regular,...e},hoveredStyle:{background:(0,te().i)({color:j().Tj.blue.background.secondaryTranslucent,mode:o})},onClick:async()=>{const[e,o]=await Promise.all([(0,Ki().r)(),(0,Gi().jd)()]);o({environment:n,stringValue:t.inviteLinkUrl||"",copiedMessage:e.copiedLinkToClipboard}),T().R(n,(0,N().getContextualizedOnboardingAnalyticsData)({onboardingState:t,environment:n})),r(!0),setTimeout((()=>{r(!1)}),1500)},disabled:i,...a,children:i?(0,B.jsx)(A().sA,{defaultMessage:"Copied!",id:"onboardingInvite.shareLink.copied"}):(0,B.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,B.jsx)(p().I,{icon:qi().linkIcon,size:"sm",style:{marginInlineEnd:6}}),(0,B.jsx)(A().sA,{defaultMessage:"Copy invite link",id:"onboardingInvite.shareLink.title"})]})})})})}function xr({onboardingState:e}){const t=function(e,t){const{mobileNative:o,device:a}=t;if(!e.inviteLinkUrl)return!1;if(a.isMobileNative)return Boolean(o);return Boolean(navigator.share)}(e,(0,l().v3)());return(0,B.jsxs)(a.Fragment,{children:[(0,B.jsx)(Ir,{onboardingState:e,styles:{borderRadius:12,height:48,color:j().Tj.text.primary,fontSize:17,fontWeight:G().Wy.semibold,background:j().Tj.background.tertiaryTranslucent,marginBottom:4}}),t?(0,B.jsx)(hr,{onboardingState:e}):void 0]})}async function wr(e,t){if("default"!==t.flowName&&"reimagined_default"!==t.flowName)return;const o=Yi.getState(),a=or().default.DO_NOT_USE_markLegacy("invite_next_state");Yi.setState({...o,validationError:void 0,isInviting:!0}),T().Lf(e,{...(0,N().getContextualizedOnboardingAnalyticsData)({onboardingState:t,environment:e}),invited_emails:o.isBulkInvite?o.emailTokens:o.emailInputs});const{validEmails:n,hasError:i}=o.isBulkInvite?function(){const[e,t]=Pe().jB(Yi.state.emailTokens,(e=>e.isValidEmail));return Yi.setState({...Yi.state,validationError:t.length>0?"One or more invalid emails found.":void 0}),{validEmails:e.map((e=>e.email)),hasError:t.length>0}}():function(e){const t=Yi.getState(),o=[],a=[];for(const[i,r]of t.emailInputs.entries())""!==r.value&&((0,J().DT)(r.sanitizedEmail)?o.push(i):a.push(i));for(const i of o)Yi.clearValidationError(i);Yi.setInvalidEmails(a,e),0===a.length&&Yi.setState({...t,validationError:void 0});const n=o.map((e=>t.emailInputs[e].sanitizedEmail));return{validEmails:n,hasError:a.length>0}}(tr().A.getIntl());if(!i){T()._A(e,{...(0,N().getContextualizedOnboardingAnalyticsData)({onboardingState:t,environment:e}),invited_emails:n});const{spaceId:i,onboardingData:r}=t;if(!i||!r)return;const d=zn().SpaceStore.createChildStore(r.userRootStore,{table:oe().NX,id:i}),l=n.length>0;if(!d.isTeamsEnabled()&&l){if(!(await lr().oH({environment:e,flowId:t.flowId??"",trackCreateTeamComplete:!1})))return void Yi.setState({...Yi.state,isInviting:!1})}const c=t.onboardingData&&s().qg({userStore:t.onboardingData.userStore,isUserDomainJoinable:t.onboardingData.isUserDomainJoinable});if(t.optInAutoJoin&&c&&await(0,sr().Y)({environment:e,emailDomains:[c],spaceStore:d}),n.length>0){const a=Pe().sb(n).map((e=>({type:"newUser",value:{email:e},source:"email",membershipType:"owner"})));await rr().cl({environment:e,spaceStore:d,inviteTargets:a,isOnboarding:!0,invite:{inviteOrigin:"onboarding_invite"}}),Yi.reset(),T().gA(e,{...(0,N().getContextualizedOnboardingAnalyticsData)({onboardingState:t,environment:e}),emails:n,auto_join_space:Boolean(t.optInAutoJoin),is_bulk_invite:o.isBulkInvite})}or().default.DO_NOT_USE_measureLegacy(a,{environment:e,data:{numInvitesSent:n.length}}),await(0,D().goToNextStage)({environment:e,onboardingState:t})}Yi.setState({...Yi.state,isInviting:!1})}const _r={stageName:"reimagined_invite",shouldSkip:e=>{var t;return"team"!==(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.planType)},getTitle:()=>(0,B.jsx)(A().sA,{id:"reimaginedOnboarding.invite.header",defaultMessage:"Who else is on your team?"}),getSubTitle:()=>(0,B.jsx)(A().sA,{id:"reimaginedOnboarding.invite.description",defaultMessage:"Add your team members by email"}),isBackEnabled:()=>!1,isContinueEnabled:()=>!0,renderStage:()=>(0,B.jsx)(Ar,{}),getDisplayType:()=>"reimagined",getLogo:()=>(0,B.jsx)(p().I,{icon:o(888867).s,size:80,colorPalette:"teal",colorVariant:"accentPrimary",showOutline:!0})};function Ar(){const e=(0,c().O$)(O().A),t=(0,l().v3)(),[o,n]=(0,a.useState)(!1);(0,a.useEffect)((()=>{Yi.switchToBulkInvite()}),[]);const i=(0,c().K8)((()=>Yi.state.isInviting),[]),r=(0,c().K8)((()=>s().EI(Yi.state)?(0,B.jsx)(A().sA,{defaultMessage:"Invite and continue",id:"contextualizedOnboarding.inviteStage.inviteAndContinueButtonLabelSimplified"}):(0,B.jsx)(A().sA,{defaultMessage:"Continue",id:"contextualizedOnboarding.inviteStage.ContinueWithoutInviteButtonLabelSimplified"})),[]);return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)("div",{children:[(0,B.jsx)(kr,{}),(0,B.jsx)(g().p,{colorPalette:"blue",iconLeading:qi().linkIcon,style:{width:"fit-content",marginBlock:8},onClick:async()=>{const[o,a]=await Promise.all([(0,Ki().r)(),(0,Gi().jd)()]);a({environment:t,stringValue:e.inviteLinkUrl||"",copiedMessage:o.copiedLinkToClipboard}),T().R(t,(0,N().getContextualizedOnboardingAnalyticsData)({onboardingState:e,environment:t})),n(!0),setTimeout((()=>{n(!1)}),1500)},disabled:o,children:o?(0,B.jsx)(A().sA,{defaultMessage:"Copied!",id:"onboardingInvite.shareLink.copied"}):(0,B.jsx)(A().sA,{defaultMessage:"Copy invite link",id:"reimaginedOnboarding.invite.copyInviteLink"})}),(0,B.jsx)(Zo().A,{size:24}),"reimagined_default"===e.flowName?(0,B.jsx)(er,{onboardingState:e}):void 0]}),(0,B.jsx)(Bn,{continueButtonText:r,onContinue:wr,isLoading:i})]})}function jr(){const{emailTokens:e}=Yi.state;0!==e.length&&Yi.setState({...Yi.state,emailTokens:e.slice(0,-1)})}function kr(){const e=(0,c().O$)(Yi),t=(0,A().tz)(),o=(0,u().IS)((()=>({invalid:{background:j().Tj.red.background.tertiary},token:{height:28,background:j().Tj.background.primary,boxShadow:j().Tj.shadow.base.sm},tokenInputMenuItem:{marginTop:8,boxShadow:"rgba(15, 15, 15, 0.1) 0px 0px 0px 1px inset",background:j().Tj.background.secondary,height:150,alignContent:"flex-start",padding:6,borderRadius:Xi().Vq.default}})),[]),a=e.emailTokens.map(((e,t)=>{const a={type:"newUser",value:{email:e.email||""},source:"email"};return(0,B.jsx)(Ji().A,{showRemoveButton:!0,isSingle:!0,isStrikedThrough:!e.isValidEmail,backgroundColor:e.isValidEmail?void 0:o.invalid.background,format:Zi().NY.Medium,onClickRemove:e=>{e.stopPropagation(),yr(a)},disabledFeedback:!0,value:e.email.trim(),style:o.token},t)}));return(0,B.jsxs)("div",{children:[(0,B.jsx)(b().D,{styleKey:"bodySmMedium",colorVariant:"secondary",children:(0,B.jsx)(A().sA,{id:"reimaginedOnboarding.invite.box.title",defaultMessage:"Invite your team"})}),(0,B.jsx)(Hi().Ay,{format:Hi().le.Share,value:e.emailValue||"",onChange:vr,type:"email",tokens:a,tokenWrapStyle:{gap:4},disabled:!1,placeholder:t.formatMessage({id:"onboardingInvite.bulkInvites.placeholder",defaultMessage:"annie@myteam.com, fay@company.com, henry@company.com, ..."}),inputElementAttributes:{"aria-label":t.formatMessage({defaultMessage:"Email addresses to invite",id:"onboardingInvite.bulkInvites.ariaLabel"})},onKeyDown:mr,onRemoveLastToken:jr,dontShowBorderBottom:!1,style:o.tokenInputMenuItem,textarea:!0,inputStyle:{height:"100%"},inputFullWidth:!0})]})}const Tr={stageName:"reimagined_plan_type",shouldSkip:Bo,getTitle:()=>(0,B.jsx)(A().sA,{id:"reimaginedOnboarding.planType.header",defaultMessage:"How will you use Notion?"}),getSubTitle:()=>(0,B.jsx)(A().sA,{id:"reimaginedOnboarding.planType.description",defaultMessage:"Weâ€™ll personalize your experience based on your selection"}),isBackEnabled:e=>!e.isFirstTimeOnboarding||0!==e.joinableSpaces.length,isContinueEnabled:e=>{var t;return Boolean(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.planType)},renderStage:()=>(0,B.jsx)(Cr,{}),getDisplayType:()=>"reimagined",getLogo:()=>(0,B.jsx)(p().I,{icon:o(173443).sparklesFillIcon,size:80,colorPalette:"yellow",colorVariant:"accentPrimary",showOutline:!0})};function Cr(){var e;const t=(0,c().O$)(O().A),o=Boolean(null===(e=t.planTypeAndSurveyInfo)||void 0===e?void 0:e.planType),a=(0,l().v3)();return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(wi,{onboardingState:t}),(0,B.jsx)(Bn,{disabled:!o,onContinue:async function(){var e,o,n;const i=null===(e=t.planTypeAndSurveyInfo)||void 0===e?void 0:e.planType;void 0!==i?null!==(o=t.onboardingData)&&void 0!==o&&o.canUserCreateSpace?(T().ut(a,{...(0,N().getContextualizedOnboardingAnalyticsData)({onboardingState:t,spaceJoinOrCreate:"create",environment:a}),planType:i}),"team"===(null===(n=t.planTypeAndSurveyInfo)||void 0===n?void 0:n.planType)&&t.onboardingData&&await Oi(t.onboardingData,a,t.planTypeAndSurveyInfo),await(0,D().goToNextStage)({environment:a,onboardingState:t})):(0,P().handleUserCanNotCreateSpace)(a,t):Ge().log({level:"error",from:"OnboardingWorkspacePlanChoose",type:"unexpectedValue",error:{message:"Unexpected Value: onboardingState.planSelection is undefined."}})}})]})}const Mr={stageName:"reimagined_profile",shouldSkip:function(e){const{onboardingData:t,isFirstTimeOnboarding:o}=e;if(!t)return!1;if(!1===o)return!0;const a=s().TV({userStore:t.userStore});return Boolean(a)},async onSkip(e,t){const{onboardingData:o,isFirstTimeOnboarding:a}=t;if(!o)return;if(!1===a)return;const n=s().TV({userStore:o.userStore});Boolean(n)&&await(0,D().maybeCompleteOnboardingAfterProfileStage)(e)},getDisplayType:()=>"custom",getTitle:()=>null,isBackEnabled:()=>!1,isContinueEnabled:e=>!ga(e.profileName),renderStage:()=>(0,B.jsx)(Rr,{})};function Rr(){const e=(0,l().v3)(),t=(0,A().tz)(),a=(0,c().O$)(O().A),{profileName:n}=a,i=ga(n),r=Boolean(i)||!n;const s=(0,u().IS)((()=>({container:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",backgroundColor:j().Tj.background.primary,padding:24},content:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",maxWidth:450},profilePhotoContainer:{marginBottom:22},titleContainer:{textAlign:"center",marginBottom:12},subtitleContainer:{textAlign:"center",marginBottom:24},form:{width:"100%",display:"flex",flexDirection:"column",gap:36},languagePickerContainer:{position:"fixed",bottom:24,display:"flex",justifyContent:"center"}})),[]);return(0,B.jsxs)("div",{style:s.container,children:[(0,B.jsxs)("div",{style:s.content,children:[(0,B.jsx)("div",{style:s.profilePhotoContainer,children:(0,B.jsx)(Ii,{onboardingState:a})}),(0,B.jsx)("div",{style:s.titleContainer,children:(0,B.jsx)(b().D,{styleKey:"titleLgSemibold",children:(0,B.jsx)(A().sA,{id:"standaloneProfile.title",defaultMessage:"Customize your profile"})})}),(0,B.jsx)("div",{style:s.subtitleContainer,children:(0,B.jsx)(b().D,{styleKey:"bodyRegular",colorVariant:"secondary",children:(0,B.jsx)(A().sA,{id:"standaloneProfile.subtitle",defaultMessage:"This is how you will appear in Notion"})})}),(0,B.jsxs)("div",{style:s.form,children:[(0,B.jsx)(xi,{id:"standalone-profile-name",label:(0,B.jsx)(A().sA,{id:"standaloneProfile.nameInput.label",defaultMessage:"Your name"}),value:n,onChange:e=>{O().A.setState({...a,profileName:e.target.value})},error:n?i:void 0}),(0,B.jsx)(Bn,{disabled:r,onContinue:async function(t,o){await(0,P().setProfileData)(t,o),O().A.setState({...o,password:void 0}),await(0,D().maybeCompleteOnboardingAfterProfileStage)(t),await(0,D().goToNextStage)({environment:e,onboardingState:a})}}),(0,B.jsx)(Vo,{onboardingState:a,environment:e})]})]}),(0,B.jsx)("div",{style:s.languagePickerContainer,children:(0,B.jsx)(o(907929).A,{confirm:!0,onChange:a=>(0,o(571997).i)({locale:a,environment:e,origin:"reimagined_profile",intl:t}),origin:"reimagined_profile",currentLocale:ve().locale})})]})}var Pr=()=>o(229833);async function Dr(e){const{environment:t,employeeCount:o,partnerKey:a}=e;if(o&&o>=100)return"business_reverse_1m_commercial";if(a&&a.trim().length>0){const e=await async function(e,t){try{const o=await e.api.callApi({eventName:"lookupAirtablePartnerKey",environment:e,data:{key:t}});if("success"===o.type&&o.data.ok){const{trialPeriod:e}=o.data.record;return"12m"===e?"business_reverse_12m_startup":"6m"===e?"business_reverse_6m_startup":"business_reverse_3m_startup"}}catch(o){Ge().log({level:"error",from:"getStartupReverseTrialCampaignFromPartnerKey",type:"partnerKeyLookupError",error:(0,Pr().convertErrorToLog)(o),data:{message:"Failed to lookup partner key from Airtable",partnerKey:t}})}}(t,a);if(e)return e}return"3m"===i().default.getEligibleGroup({experimentId:"startup_reverse_trial_length",defaultGroup:"1m"})?"business_reverse_3m_startup":"business_reverse_1m_startup"}const Nr=a.lazy((()=>Promise.all([o.e(72509),o.e(27359)]).then(o.bind(o,321308)).then((e=>({default:e.StartupOnboardingSurvey}))))),Er={stageName:"startup_application_survey",renderStage:()=>(0,B.jsx)(a.Suspense,{fallback:(0,B.jsx)(o(555267).A,{}),children:(0,B.jsx)(Nr,{})}),shouldSkip(e){var t;return"team"!==(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.planType)},getTitle:()=>null,isContinueEnabled:()=>!0,isBackEnabled:()=>!0,getDisplayType:()=>"custom",async onContinue(e,t){if("startup_trial_onboarding_flow"!==t.flowName)return;const o=t.employeeCount,a=t.partnerKey,n=await Dr({environment:e,employeeCount:o,partnerKey:a}),i=t.isFirstTimeOnboarding??!0,{eligibleWorkspaces:r,ineligibleWorkspaces:s}=await async function(e,t){const{isFirstTimeOnboarding:o,startupTrialCampaign:a}=t;if(o)return{eligibleWorkspaces:[],ineligibleWorkspaces:[]};const{eligibleWorkspaces:n,ineligibleWorkspaces:i}=await(0,Ua().getOfferEligibilityForWorkspaces)(e,{promoCampaign:a});return{eligibleWorkspaces:n,ineligibleWorkspaces:i}}(e,{isFirstTimeOnboarding:i,startupTrialCampaign:n});O().A.setState({...t,startupTrialCampaign:n,eligibleWorkspaces:r,ineligibleWorkspaces:s})}},Or={stageName:"team_onboarding_invite",shouldSkip(e){var t,o;if("default"===e.flowName&&"team"!==(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.planType))return!0;const a=i().default.getEligibleGroup({experimentId:"onboarding_skip_collab_intent_invite_stages",defaultGroup:"control",disableExposureLogging:!0});var n;if("invite_for_work_only"===a)return"team"!==(null===(n=e.planTypeAndSurveyInfo)||void 0===n?void 0:n.planType);if("remove_both_stages"===a)return!0;return"multiplayer"!==(null===(o=e.planTypeAndSurveyInfo)||void 0===o?void 0:o.collaborativeIntent)},getTitle:e=>(0,B.jsx)(A().sA,{defaultMessage:"Start with your team",id:"onboardingInvite.chrome.titleV2"}),getSubTitle:e=>(0,B.jsx)(A().sA,{defaultMessage:"Notion works best with your teammates",id:"onboardingInvite.chrome.subtitleV2"}),isContinueEnabled:e=>!0,isBackEnabled:e=>!1,renderStage:()=>(0,B.jsx)(cr,{}),getDesktopContinueButtonOverride:()=>(0,B.jsx)(gr,{}),getAlignment:()=>"center",getDisplayType:()=>"default"},Br={stageName:"mobile_team_onboarding_invite",shouldSkip(e){var t;if("team"!==(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.planType))return!0;const o=i().default.getEligibleGroup({experimentId:"onboarding_skip_collab_intent_invite_stages",defaultGroup:"control",disableExposureLogging:!0});var a;return"invite_for_work_only"===o?"team"!==(null===(a=e.planTypeAndSurveyInfo)||void 0===a?void 0:a.planType):"remove_both_stages"===o},getTitle:e=>(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)("div",{style:{marginBottom:6},children:(0,B.jsx)(A().sA,{defaultMessage:"Bring your team.",id:"onboardingInvite.mobileStep.titleV2"})}),(0,B.jsx)(A().sA,{defaultMessage:"Notion works best with others.",id:"onboardingInvite.mobileStep.subtitleB2"})]}),isContinueEnabled:e=>!0,async onContinue(e,t){if("default"!==t.flowName)return;const o=or().default.DO_NOT_USE_markLegacy("invite_next_state"),{spaceId:a,onboardingData:n}=t;if(!a||!n)return;const i=zn().SpaceStore.createChildStore(n.userRootStore,{table:oe().NX,id:a}),r=t.onboardingData&&s().qg({userStore:t.onboardingData.userStore,isUserDomainJoinable:t.onboardingData.isUserDomainJoinable});t.optInAutoJoin&&r&&await(0,sr().Y)({environment:e,emailDomains:[r],spaceStore:i}),or().default.DO_NOT_USE_measureLegacy(o,{environment:e,data:{}})},isBackEnabled:e=>!1,renderStage:()=>(0,B.jsx)(ur,{}),renderContentAboveContinueButton:e=>(0,B.jsx)(xr,{onboardingState:e}),renderContentUnderContinueButton:e=>(0,B.jsx)(er,{onboardingState:e}),getAlignment:()=>"center",footerStyles:{top:0},getDisplayType:()=>"default"};function zr(){const e=(0,c().O$)(O().A);return(0,B.jsx)("div",{style:{width:300,alignSelf:"center"},children:(0,B.jsx)(Wr,{onboardingState:e})})}function Fr(){const e=(0,c().O$)(O().A);return(0,B.jsx)("div",{style:{marginBottom:32},children:(0,B.jsx)(Wr,{onboardingState:e})})}function Wr(e){(0,a.useEffect)((()=>{i().default.manuallyLogExperimentExposure("onboarding_split_team_survey")}),[]);const{onboardingState:t}=e,o={...s().Gy,marginTop:25,marginBottom:8};return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)("div",{style:o,children:(0,B.jsx)(Ie().A,{isSmall:!0,children:(0,B.jsx)(A().sA,{defaultMessage:"What kind of work do you do?",id:"onboardingSurvey.persona.label"})})}),(0,B.jsx)(Ur,{onboardingState:t,type:"work"}),(0,B.jsx)("div",{style:o,children:(0,B.jsx)(Ie().A,{isSmall:!0,children:(0,B.jsx)(A().sA,{defaultMessage:"Whatâ€™s your role?",id:"onboardingSurvey.teamRole.labelV2"})})}),(0,B.jsx)(Lr,{onboardingState:t}),(0,B.jsx)("div",{style:o,children:(0,B.jsx)(Ie().A,{isSmall:!0,style:{whiteSpace:"normal"},children:(0,B.jsx)(A().sA,{defaultMessage:"Whatâ€™s the size of your company?",id:"onboardingSurvey.companySize.labelV2"})})}),(0,B.jsx)(Vr,{onboardingState:t})]})}function Ur({type:e,onboardingState:t}){var o;const a=(0,l().v3)(),n=null===(o=t.planTypeAndSurveyInfo)||void 0===o||null===(o=o.surveyResponses)||void 0===o?void 0:o.userPersona;return(0,B.jsx)(xo,{questionType:e,title:(0,B.jsx)(A().sA,{defaultMessage:"Your function",id:"onboardingSurvey.persona.popuplabel"}),question:n,randomizeSelectionOrder:!0,invalid:!1,onSelect:e=>{var o;O().A.setState({...t,planTypeAndSurveyInfo:{...t.planTypeAndSurveyInfo,surveyResponses:{...null===(o=t.planTypeAndSurveyInfo)||void 0===o?void 0:o.surveyResponses,userPersona:e}}}),T().N3(a,{...(0,N().getContextualizedOnboardingAnalyticsData)({onboardingState:t,environment:a}),persona:e})},className:He().Uaw})}function Lr({onboardingState:e}){var t;const o=(0,l().v3)();return(0,B.jsx)(xo,{questionType:"role",title:(0,B.jsx)(A().sA,{defaultMessage:"Your role",id:"onboardingSurvey.teamRole.popuplabel"}),question:null===(t=e.planTypeAndSurveyInfo)||void 0===t||null===(t=t.surveyResponses)||void 0===t?void 0:t.userRole,invalid:!1,onSelect:t=>{var a;O().A.setState({...e,planTypeAndSurveyInfo:{...e.planTypeAndSurveyInfo,surveyResponses:{...null===(a=e.planTypeAndSurveyInfo)||void 0===a?void 0:a.surveyResponses,userRole:t}}}),T().tu(o,{...(0,N().getContextualizedOnboardingAnalyticsData)({onboardingState:e,environment:o}),role:t})},className:He().q5q})}function Vr({onboardingState:e}){var t;const o=(0,l().v3)();return(0,B.jsx)(xo,{questionType:"companySize",title:(0,B.jsx)(A().sA,{defaultMessage:"Company size...",id:"onboardingSurvey.companySize.popuplabel"}),question:null===(t=e.planTypeAndSurveyInfo)||void 0===t||null===(t=t.surveyResponses)||void 0===t?void 0:t.companySize,randomizeSelectionOrder:!1,invalid:!1,onSelect:t=>{var a;O().A.setState({...e,planTypeAndSurveyInfo:{...e.planTypeAndSurveyInfo,surveyResponses:{...null===(a=e.planTypeAndSurveyInfo)||void 0===a?void 0:a.surveyResponses,companySize:t}}}),T().xe(o,{...(0,N().getContextualizedOnboardingAnalyticsData)({onboardingState:e,environment:o}),companySize:t})},className:He().u_N})}function Qr(){const e=(0,c().O$)(O().A),t=(0,l().v3)();return(0,a.useEffect)((()=>{i().default.manuallyLogExperimentExposure("onboarding_split_team_survey")}),[e.flowName]),(0,B.jsx)(qr,{onboardingState:e,environment:t})}function Kr(){const e=(0,c().O$)(O().A),t=(0,l().v3)();return(0,B.jsx)($r,{onboardingState:e,environment:t})}function Gr(){const e=(0,c().O$)(O().A),t=(0,l().v3)();return(0,B.jsx)(es,{onboardingState:e,environment:t})}const Hr=["creative","product","product_design","marketing","eng","founder_or_ceo","project_or_program_management","sales","finance"];function Zr(e){return(0,u().IS)((()=>({optionContainer:{display:"flex",flexDirection:"column",flexWrap:"wrap",gap:10,width:"100%",maxHeight:288,...e&&{flexWrap:void 0,maxHeight:void 0,paddingBottom:24}},label:{alignSelf:"flex-start",marginBottom:8,fontSize:12}})),[e])}function qr({onboardingState:e,environment:t}){var o;const n=t.currentUser.id,i=(0,a.useMemo)((()=>[...(0,xe().mT)(Hr,n),"other"]),[n]),r=Zr(q().A.isMobile),s=(0,a.useId)(),d=!(null!==(o=e.planTypeAndSurveyInfo)&&void 0!==o&&null!==(o=o.surveyResponses)&&void 0!==o&&o.userPersona);return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(Ie().A,{id:s,style:r.label,children:(0,B.jsx)(A().sA,{defaultMessage:"Select one",id:"onboardingSurvey.heading.selectPrompt"})}),(0,B.jsx)("div",{style:r.optionContainer,role:"radiogroup","aria-labelledby":s,children:i.map((o=>{var a;return(0,B.jsx)(ts,{onClick:async()=>{const a=function(e){var t;const{environment:o,onboardingState:a,surveyResponse:n}=e,i={...a,planTypeAndSurveyInfo:{...a.planTypeAndSurveyInfo,surveyResponses:{...null===(t=a.planTypeAndSurveyInfo)||void 0===t?void 0:t.surveyResponses,userPersona:n}}};return T().N3(o,{...(0,N().getContextualizedOnboardingAnalyticsData)({onboardingState:i,environment:o}),persona:n}),O().A.setState(i),i}({environment:t,onboardingState:e,surveyResponse:o});d&&await(0,D().goToNextStage)({environment:t,onboardingState:a})},isSelected:(null===(a=e.planTypeAndSurveyInfo)||void 0===a||null===(a=a.surveyResponses)||void 0===a?void 0:a.userPersona)===o,label:yo[o],useOneColumnLayout:q().A.isMobile},o)}))})]})}const Jr=["exec","dept_lead","team_manager","member","solo","personal"];function $r({onboardingState:e,environment:t}){const o=Zr(true),n=(0,a.useId)();return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(Ie().A,{id:n,style:o.label,children:(0,B.jsx)(A().sA,{defaultMessage:"Select one",id:"onboardingSurvey.heading.selectPrompt"})}),(0,B.jsx)("div",{style:o.optionContainer,role:"radiogroup","aria-labelledby":n,children:Jr.map((o=>{var a;return(0,B.jsx)(ts,{onClick:async()=>{var a,n;O().A.setState({...e,planTypeAndSurveyInfo:{...e.planTypeAndSurveyInfo,surveyResponses:{...null===(a=e.planTypeAndSurveyInfo)||void 0===a?void 0:a.surveyResponses,userRole:o}}}),T().tu(t,{...(0,N().getContextualizedOnboardingAnalyticsData)({onboardingState:e,environment:t}),role:o}),!q().A.isMobile||null!==(n=e.planTypeAndSurveyInfo)&&void 0!==n&&null!==(n=n.surveyResponses)&&void 0!==n&&n.userRole||await(0,D().goToNextStage)({environment:t,onboardingState:e})},isSelected:(null===(a=e.planTypeAndSurveyInfo)||void 0===a||null===(a=a.surveyResponses)||void 0===a?void 0:a.userRole)===o,label:vo[o],useOneColumnLayout:true},o)}))})]})}const Yr=["1_10","50_99","300_999","5000+","10_49","100_299","1000_5000"],Xr=["1_10","10_49","50_99","100_299","300_999","1000_5000","5000+"];function es({onboardingState:e,environment:t}){const o=Zr(q().A.isMobile),n=(0,a.useId)();return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(Ie().A,{id:n,style:o.label,children:(0,B.jsx)(A().sA,{defaultMessage:"Select one",id:"onboardingSurvey.heading.selectPrompt"})}),(0,B.jsx)("div",{style:o.optionContainer,role:"radiogroup","aria-labelledby":n,children:(q().A.isMobile?Xr:Yr).map((o=>{var a;return(0,B.jsx)(ts,{onClick:async()=>{var a,n;O().A.setState({...e,planTypeAndSurveyInfo:{...e.planTypeAndSurveyInfo,surveyResponses:{...null===(a=e.planTypeAndSurveyInfo)||void 0===a?void 0:a.surveyResponses,companySize:o}}}),T().xe(t,{...(0,N().getContextualizedOnboardingAnalyticsData)({onboardingState:e,environment:t}),companySize:o}),!q().A.isMobile||null!==(n=e.planTypeAndSurveyInfo)&&void 0!==n&&null!==(n=n.surveyResponses)&&void 0!==n&&n.companySize||await(0,D().goToNextStage)({environment:t,onboardingState:e})},isSelected:(null===(a=e.planTypeAndSurveyInfo)||void 0===a||null===(a=a.surveyResponses)||void 0===a?void 0:a.companySize)===o,label:ho[o],useOneColumnLayout:q().A.isMobile,height:q().A.isMobile?void 0:64},o)}))})]})}function ts({onClick:e,isSelected:t,label:o,useOneColumnLayout:a,height:n}){const i=(0,u().IS)((()=>({button:{height:n??48,width:a?"100%":250,borderRadius:12,alignItems:"center",justifyContent:"left",paddingInlineStart:16,display:"flex",border:`1px solid ${j().Tj.border.primary}`,transition:"all 0.2s ease-in-out",...t?{boxShadow:`${j().oZ.blue} 0 0 0 2px`}:{opacity:.7}}})),[n,t,a]);return(0,B.jsx)(g().p,{style:i.button,onClick:e,role:"radio","aria-checked":t,children:(0,B.jsx)(Ie().A,{children:o})})}const os={stageName:"team_onboarding_persona_survey",shouldSkip(e){if((0,N().isTrialOnboardingFlowState)(e)&&Boolean(e.selectedEligibleWorkspaceId))return!0;const t=e.planTypeAndSurveyInfo;return"team"!==(null==t?void 0:t.planType)},shouldShowSkipButton(e){var t;const o=null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.collaborativeIntent;return Boolean(o)&&"multiplayer"!==o},getTitle:(e,t)=>(0,B.jsx)(A().sA,{defaultMessage:"Tell us about yourself",id:"onboardingSurvey.title"}),getSubTitle:(e,t)=>(0,B.jsx)(A().sA,{defaultMessage:"This helps show relevant content",id:"onboardingSurvey.subtitleV2"}),isContinueEnabled(e,t){var o,a,n,i,r;const s=e.planTypeAndSurveyInfo;return Boolean((null==s||null===(o=s.surveyResponses)||void 0===o?void 0:o.userPersona)&&(null==s||null===(a=s.surveyResponses)||void 0===a?void 0:a.userRole)&&(null==s||null===(n=s.surveyResponses)||void 0===n?void 0:n.companySize)&&"unfilled"!==(null==s||null===(i=s.surveyResponses)||void 0===i?void 0:i.userPersona)&&"unfilled"!==(null==s||null===(r=s.surveyResponses)||void 0===r?void 0:r.userRole))},isBackEnabled:e=>!0,onContinue(e,t){var o,a;const{userPersona:n,userRole:i,useCases:r}=(null===(o=t.planTypeAndSurveyInfo)||void 0===o?void 0:o.surveyResponses)??{};T().jS(e,{selection:{userPersona:n,userRole:i,useCases:r??[]},action:"submit",plan_selection:null===(a=t.planTypeAndSurveyInfo)||void 0===a?void 0:a.planType,...(0,N().getContextualizedOnboardingAnalyticsData)({onboardingState:t,environment:e})})},onBack(e,t){var o,a;const{userPersona:n,userRole:i,useCases:r}=(null===(o=t.planTypeAndSurveyInfo)||void 0===o?void 0:o.surveyResponses)??{};T().jS(e,{selection:{userPersona:n,userRole:i,useCases:r??[]},action:"back",plan_selection:null===(a=t.planTypeAndSurveyInfo)||void 0===a?void 0:a.planType,...(0,N().getContextualizedOnboardingAnalyticsData)({onboardingState:t,environment:e})})},renderStage:()=>(0,B.jsx)(zr,{}),getContinueButtonStyles:()=>({width:300,alignSelf:"center",marginTop:70}),getAlignment:()=>"center",getDisplayType:()=>"default"},as={stageName:"mobile_team_onboarding_persona_survey",shouldSkip(e){const t=e.planTypeAndSurveyInfo;return"team"!==(null==t?void 0:t.planType)},shouldShowSkipButton(e){var t;const o=null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.collaborativeIntent;return Boolean(o)&&"multiplayer"!==o},getTitle:(e,t)=>(0,B.jsx)(A().sA,{defaultMessage:"Tell us about yourself",id:"onboardingSurvey.title"}),isContinueEnabled(e,t){var o,a,n,i,r;const s=e.planTypeAndSurveyInfo;return Boolean((null==s||null===(o=s.surveyResponses)||void 0===o?void 0:o.userPersona)&&(null==s||null===(a=s.surveyResponses)||void 0===a?void 0:a.userRole)&&(null==s||null===(n=s.surveyResponses)||void 0===n?void 0:n.companySize)&&"unfilled"!==(null==s||null===(i=s.surveyResponses)||void 0===i?void 0:i.userPersona)&&"unfilled"!==(null==s||null===(r=s.surveyResponses)||void 0===r?void 0:r.userRole))},isBackEnabled:e=>!0,onContinue(e,t){var o,a;const{userPersona:n,userRole:i,useCases:r}=(null===(o=t.planTypeAndSurveyInfo)||void 0===o?void 0:o.surveyResponses)??{};T().jS(e,{selection:{userPersona:n,userRole:i,useCases:r??[]},action:"submit",plan_selection:null===(a=t.planTypeAndSurveyInfo)||void 0===a?void 0:a.planType,...(0,N().getContextualizedOnboardingAnalyticsData)({onboardingState:t,environment:e})})},onBack(e,t){var o,a;const{userPersona:n,userRole:i,useCases:r}=(null===(o=t.planTypeAndSurveyInfo)||void 0===o?void 0:o.surveyResponses)??{};T().jS(e,{selection:{userPersona:n,userRole:i,useCases:r??[]},action:"back",plan_selection:null===(a=t.planTypeAndSurveyInfo)||void 0===a?void 0:a.planType,...(0,N().getContextualizedOnboardingAnalyticsData)({onboardingState:t,environment:e})})},renderStage:()=>(0,B.jsx)(Fr,{}),getDisplayType:()=>"default"},ns={stageName:"team_onboarding_function",renderStage:()=>(0,B.jsx)(Qr,{}),shouldSkip(e){var t;const o=null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.planType;return"team"===o&&"on"===i().default.getEligibleGroup({experimentId:"skip_onboarding_function_for_work",defaultGroup:"control"})||("team"!==o||"on"!==i().default.getEligibleGroup({experimentId:"onboarding_split_team_survey",defaultGroup:"control"})||"partner_program_onboarding_flow"===e.flowName&&Boolean(e.selectedEligibleWorkspaceId))},getTitle:()=>(0,B.jsx)(A().sA,{defaultMessage:"Tell us about yourself",id:"onboardingSurvey.function.title"}),getSubTitle:()=>(0,B.jsx)(A().sA,{defaultMessage:"What kind of work do you do?",id:"onboardingSurvey.function.subTitle"}),shouldShowSkipButton(e){var t;return"singleplayer"===(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.collaborativeIntent)},isContinueEnabled(e){var t,o;const a=e.planTypeAndSurveyInfo;return Boolean((null==a||null===(t=a.surveyResponses)||void 0===t?void 0:t.userPersona)&&"unfilled"!==(null==a||null===(o=a.surveyResponses)||void 0===o?void 0:o.userPersona))},shouldHideDesktopBottomContent(e){var t;const o=null==e?void 0:e.planTypeAndSurveyInfo;return!(null!=o&&null!==(t=o.surveyResponses)&&void 0!==t&&t.userPersona)},isBackEnabled:()=>!0,getAlignment:()=>"center",getDisplayType:()=>"default"},is={stageName:"mobile_team_onboarding_function",renderStage:()=>(0,B.jsx)(Qr,{}),shouldSkip(e){var t;const o=null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.planType;return"team"===o&&"on"===i().default.getEligibleGroup({experimentId:"skip_onboarding_function_for_work",defaultGroup:"control"})||("team"!==o||"on"!==i().default.getEligibleGroup({experimentId:"onboarding_split_team_survey",defaultGroup:"control"}))},getTitle:()=>(0,B.jsx)(A().sA,{defaultMessage:"What kind of work do you do?",id:"onboardingSurvey.function.subTitle"}),isContinueEnabled(e){var t,o;const a=e.planTypeAndSurveyInfo;return Boolean((null==a||null===(t=a.surveyResponses)||void 0===t?void 0:t.userPersona)&&"unfilled"!==(null==a||null===(o=a.surveyResponses)||void 0===o?void 0:o.userPersona))},isBackEnabled:()=>!0,shouldHideMobileBottomContent(e){var t;const o=null==e?void 0:e.planTypeAndSurveyInfo;return!(null!=o&&null!==(t=o.surveyResponses)&&void 0!==t&&t.userPersona)},shouldShowSkipButton(e){var t;return"singleplayer"===(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.collaborativeIntent)},getDisplayType:()=>"default"},rs={stageName:"team_onboarding_role",renderStage:()=>(0,B.jsx)(Kr,{}),shouldSkip(e){var t;return"team"!==(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.planType)||"on"!==i().default.getEligibleGroup({experimentId:"onboarding_split_team_survey",defaultGroup:"control"})||"partner_program_onboarding_flow"===e.flowName&&Boolean(e.selectedEligibleWorkspaceId)||(0,ye().bG)()},getTitle:()=>(0,B.jsx)(A().sA,{defaultMessage:"Tell us about yourself",id:"onboardingSurvey.role.title"}),getSubTitle:()=>(0,B.jsx)(A().sA,{defaultMessage:"Whatâ€™s your role?",id:"onboardingSurvey.role.subTitle"}),shouldShowSkipButton(e){var t;return"singleplayer"===(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.collaborativeIntent)},isContinueEnabled(e){var t,o;const a=e.planTypeAndSurveyInfo;return Boolean((null==a||null===(t=a.surveyResponses)||void 0===t?void 0:t.userRole)&&"unfilled"!==(null==a||null===(o=a.surveyResponses)||void 0===o?void 0:o.userRole))},isBackEnabled:()=>!0,getAlignment:()=>"center",getDisplayType:()=>"default"},ss={stageName:"mobile_team_onboarding_role",renderStage:()=>(0,B.jsx)(Kr,{}),shouldSkip(e){var t;return"team"!==(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.planType)||"on"!==i().default.getEligibleGroup({experimentId:"onboarding_split_team_survey",defaultGroup:"control"})||(0,ye().bG)()},getTitle:()=>(0,B.jsx)(A().sA,{defaultMessage:"Whatâ€™s your role?",id:"onboardingSurvey.role.subTitle"}),isContinueEnabled(e){var t,o;const a=e.planTypeAndSurveyInfo;return Boolean((null==a||null===(t=a.surveyResponses)||void 0===t?void 0:t.userRole)&&"unfilled"!==(null==a||null===(o=a.surveyResponses)||void 0===o?void 0:o.userRole))},isBackEnabled:()=>!0,shouldHideMobileBottomContent(e){var t;const o=null==e?void 0:e.planTypeAndSurveyInfo;return!(null!=o&&null!==(t=o.surveyResponses)&&void 0!==t&&t.userRole)},shouldShowSkipButton(e){var t;return"singleplayer"===(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.collaborativeIntent)},getDisplayType:()=>"default"},ds={stageName:"team_onboarding_company_size",renderStage:()=>(0,B.jsx)(Gr,{}),shouldSkip(e){var t;return"team"!==(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.planType)||"on"!==i().default.getEligibleGroup({experimentId:"onboarding_split_team_survey",defaultGroup:"control"})||"partner_program_onboarding_flow"===e.flowName&&Boolean(e.selectedEligibleWorkspaceId)||(0,ye().bG)()},getTitle:()=>(0,B.jsx)(A().sA,{defaultMessage:"Tell us about yourself",id:"onboardingSurvey.companySize.title"}),getSubTitle:()=>(0,B.jsx)(A().sA,{defaultMessage:"Whatâ€™s the size of your company?",id:"onboardingSurvey.companySize.subTitle"}),isContinueEnabled(e){var t;const o=e.planTypeAndSurveyInfo;return Boolean(null==o||null===(t=o.surveyResponses)||void 0===t?void 0:t.companySize)},isBackEnabled:e=>!0,getAlignment:()=>"center",shouldShowSkipButton(e){var t;return"singleplayer"===(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.collaborativeIntent)},getDisplayType:()=>"default"},ls={stageName:"mobile_team_onboarding_company_size",renderStage:()=>(0,B.jsx)(Gr,{}),shouldSkip(e){var t;return"team"!==(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.planType)||"on"!==i().default.getEligibleGroup({experimentId:"onboarding_split_team_survey",defaultGroup:"control"})||(0,ye().bG)()},getTitle:()=>(0,B.jsx)(A().sA,{defaultMessage:"Whatâ€™s the size of your company?",id:"onboardingSurvey.companySize.subTitle"}),isContinueEnabled(e){var t;const o=e.planTypeAndSurveyInfo;return Boolean(null==o||null===(t=o.surveyResponses)||void 0===t?void 0:t.companySize)},isBackEnabled:e=>!0,shouldHideMobileBottomContent(e){var t;const o=null==e?void 0:e.planTypeAndSurveyInfo;return!(null!=o&&null!==(t=o.surveyResponses)&&void 0!==t&&t.companySize)},shouldShowSkipButton(e){var t;return"singleplayer"===(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.collaborativeIntent)},getDisplayType:()=>"default"};function cs({monthlyUnitCost:e,currencyCode:t,onboardingState:o,product:a,trialDays:n}){const i=(0,A().tz)(),r=(0,l().v3)(),s={amount:0,currencyCode:t};return(0,B.jsxs)("div",{style:{display:"flex",gap:16,alignItems:"stretch",paddingTop:"12px",paddingBottom:"36px",width:630},children:[(0,B.jsx)(pi,{product:"free",price:s,primaryAction:{label:i.formatMessage({id:"onboarding.timedTrials.comparePlans.free.continue",defaultMessage:"Continue"}),onClick:async()=>{(0,en().Q8)(),await(0,D().goToNextStage)({environment:r,onboardingState:o})}}}),(0,B.jsx)(pi,{isHighlighted:!0,product:a,price:s,comparisonPrice:e,primaryAction:{label:i.formatMessage({id:"onboarding.timedTrials.comparePlans.tryFor",defaultMessage:"Try for {trialDays} days"},{trialDays:n}),onClick:async()=>{Jn(r,{stage:"team_onboarding_timed_trial_offer",product:a,trial_days:n}),O().A.update((e=>({...e,acceptedTimedTrialOffer:!0}))),await(0,D().goToNextStage)({environment:r,onboardingState:o})}}})]})}function us(){const e=(0,c().O$)(O().A),t=(0,l().v3)(),o=tn(),n=(0,c().K8)((()=>Ya().H.selectedCurrencyCode),[]),i=(0,bi().H4)({billingInterval:"month",priceStore:Ya().H,products:[(null==o?void 0:o.subscriptionTier)??"plus"]}),r=(0,bi()._7)({asyncPrice:i[(null==o?void 0:o.subscriptionTier)??"plus"]});return a.useEffect((()=>{o||(0,D().goToNextStage)({environment:t,onboardingState:e})}),[o,t,e]),o?(0,B.jsx)(Qa().A,{capture:!0,render:()=>(0,B.jsx)(cs,{monthlyUnitCost:r,currencyCode:n,onboardingState:e,product:o.subscriptionTier,trialDays:o.trialDuration.as("days")})}):null}const ps={stageName:"team_onboarding_timed_trial_offer",shouldSkip(e,t){const o=e.planTypeAndSurveyInfo,a=null==o?void 0:o.planType;return!((0,N().shouldShowTrialCheckoutFlow)(a)&&!(0,Oa().A)())||!!(0,N().isUserAlreadyOnTrial)({spaceId:e.spaceId,environment:t})},getTitle:()=>(0,B.jsx)(A().sA,{defaultMessage:"Choose your Plan",id:"onboardingTimedTrial.offer.title"}),getSubTitle:()=>(0,B.jsx)(A().sA,{defaultMessage:"Select the best Notion experience for your team",id:"onboardingTimedTrial.offer.subtitle"}),isContinueEnabled:()=>!0,isBackEnabled(e){const t=e.planTypeAndSurveyInfo;return"singleplayer"!==(null==t?void 0:t.collaborativeIntent)},renderStage:()=>(0,B.jsx)(us,{}),getAlignment:()=>"center",headerStyles:{maxWidth:600},getDesktopContinueButtonOverride:()=>(0,B.jsx)("div",{}),getDisplayType:()=>"default"};var gs=()=>o(536095),fs=()=>o(669647);const bs={docs:{title:(0,B.jsx)(A().sA,{id:"teamOnboarding.useCase.docs.title",defaultMessage:"Docs"}),description:(0,B.jsx)(A().sA,{id:"teamOnboarding.useCase.docs.description",defaultMessage:"Create and collaborate on documents"}),icon:o(575157).D},wikis:{title:(0,B.jsx)(A().sA,{id:"teamOnboarding.useCase.wikis.title",defaultMessage:"Wikis"}),description:(0,B.jsx)(A().sA,{id:"teamOnboarding.useCase.wikis.description",defaultMessage:"Build a central hub for your teamâ€™s knowledge"}),icon:o(605777).bookIcon},notes:{title:(0,B.jsx)(A().sA,{id:"teamOnboarding.useCase.notes.title",defaultMessage:"Meetings"}),description:(0,B.jsx)(A().sA,{id:"teamOnboarding.useCase.notes.description",defaultMessage:"Take and organize your meeting notes and ideas"}),icon:x().D},project:{title:(0,B.jsx)(A().sA,{id:"teamOnboarding.useCase.project.title",defaultMessage:"Projects"}),description:(0,B.jsx)(A().sA,{id:"teamOnboarding.useCase.project.description",defaultMessage:"Plan, track, and manage projects and tasks"}),icon:o(508485).R},goals:{title:(0,B.jsx)(A().sA,{id:"teamOnboarding.useCase.goals.title",defaultMessage:"Goals"}),description:(0,B.jsx)(A().sA,{id:"teamOnboarding.useCase.goals.description",defaultMessage:"Set and track goals and milestones"}),icon:o(748054).M},ai:{title:(0,B.jsx)(A().sA,{id:"teamOnboarding.useCase.ai.title",defaultMessage:"Notion AI"}),description:(0,B.jsx)(A().sA,{id:"teamOnboarding.useCase.ai.description",defaultMessage:"Use AI to help write, brainstorm, and analyze"}),icon:v().aiFaceIcon},other:{title:(0,B.jsx)(A().sA,{id:"teamOnboarding.useCase.other.title",defaultMessage:"Other"}),description:(0,B.jsx)(A().sA,{id:"teamOnboarding.useCase.other.description",defaultMessage:"Use Notion for something else"}),icon:o(182183).notionTintableIcon}},ms=["project","goals","docs","notes","ai","other"],vs=6;function ys(){var e,t;const o=(0,c().O$)(O().A),n=(0,u().IS)((()=>({wrapper:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:12}})),[]),i=(0,c().K8)((()=>{var e;return function({persona:e}){let t=[];(0,Wn().Xk)(fs().hx,e)&&(t=(0,gs().Qf)({persona:e}));return Pe().hS([...t,...ms],(e=>{if(xs(e))return e;const t=Ne().globalWorkflowTemplates.fromIdOfType({type:"collection",templateId:e});return t.category?Ne().useCaseByCollectionTemplateCategory[t.category]:e})).slice(0,vs)}({persona:null===(e=o.planTypeAndSurveyInfo)||void 0===e||null===(e=e.surveyResponses)||void 0===e?void 0:e.userPersona})}),[null===(e=o.planTypeAndSurveyInfo)||void 0===e||null===(e=e.surveyResponses)||void 0===e?void 0:e.userPersona]);(0,a.useEffect)((()=>{O().A.update((e=>{var t;return{...e,planTypeAndSurveyInfo:{...e.planTypeAndSurveyInfo,surveyResponses:{...null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.surveyResponses,useCases:[]}},selectedWorkflowTemplateIds:[]}}))}),[i]);const r=(null===(t=o.planTypeAndSurveyInfo)||void 0===t||null===(t=t.surveyResponses)||void 0===t?void 0:t.useCases)??[],s=o.selectedWorkflowTemplateIds??[];return(0,B.jsx)("div",{style:n.wrapper,children:i.map((e=>xs(e)?(0,B.jsx)(Ss,{useCase:e,isSelected:r.includes(e),onSelectUseCaseItem:()=>{O().A.update((t=>{var o,a;const n=(null===(o=t.planTypeAndSurveyInfo)||void 0===o||null===(o=o.surveyResponses)||void 0===o?void 0:o.useCases)??[];let i=[];return i=n.includes(e)?n.filter((t=>t!==e)):[...n,e],{...t,planTypeAndSurveyInfo:{...t.planTypeAndSurveyInfo,surveyResponses:{...null===(a=t.planTypeAndSurveyInfo)||void 0===a?void 0:a.surveyResponses,useCases:i}}}}))},shouldUseWorkflowTemplateMetadata:"other"!==e},e):(0,B.jsx)(hs,{workflowTemplateId:e,isSelected:s.includes(e),onSelect:()=>{O().A.update((t=>{const o=t.selectedWorkflowTemplateIds??[];let a=[];return a=o.includes(e)?o.filter((t=>t!==e)):[...o,e],{...t,selectedWorkflowTemplateIds:a}}))}},e)))})}function Ss({useCase:e,isSelected:t,onSelectUseCaseItem:o,shouldUseWorkflowTemplateMetadata:a}){const n=bs[e],i=(0,u().IS)((()=>({icon:{height:20,width:20}})),[]),{name:r,icon:s,description:d}=(0,c().K8)((()=>{if(a){const t=(0,De().getWorkflowTemplateForUseCase)(e);if(t){const e=Ne().globalWorkflowTemplates.fromIdOfType({type:"collection",templateId:t});return{name:e.value.targetCollection.name,icon:(0,B.jsx)("img",{src:e.value.targetCollection.icon,alt:"",style:i.icon}),description:e.description}}}return{name:n.title,icon:n.icon(i.icon),description:n.description}}),[n,a,i.icon,e]);return(0,B.jsx)(Is,{title:r,description:d,icon:s,isSelected:t,onSelect:o})}function hs({workflowTemplateId:e,isSelected:t,onSelect:o}){const a=(0,c().K8)((()=>Ne().globalWorkflowTemplates.fromIdOfType({type:"collection",templateId:e})),[e]),n=a.description,{name:i,icon:r}=a.value.targetCollection,s=(0,u().IS)((()=>({icon:{height:20,width:20,color:j().Tj.text.primary}})),[]);return(0,B.jsx)(Is,{title:i,description:n,icon:(0,B.jsx)("img",{src:r,alt:"",style:s.icon}),isSelected:t,onSelect:o})}function Is({title:e,description:t,icon:o,isSelected:a,onSelect:n}){const i=(0,c().O$)(O().A),r=(0,c().K8)((()=>"buildable_with_sidebar"===(0,N().getIsReimaginedOnboardingExperimentGroup)(i)),[i]),s=(0,u().IS)((()=>({button:{display:"flex",flexDirection:"column",position:"relative",gap:6,width:r?240:180,padding:16,borderRadius:12,paddingBottom:12,cursor:"pointer",...a&&{background:j().Tj.palette.uiBlue[75]},...q().A.isMobile&&{width:170}},borderContainer:{position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:0,bottom:0,borderRadius:12,border:`1px solid ${j().Tj.border.secondary}`,...a&&{border:`2px solid ${j().Tj.blue.border.accentPrimary}`}},toggleButtonHoveredStyle:{opacity:1},toggleButtonPressedStyle:{opacity:1},title:{...(0,Ia().pA)(2)},description:{height:32,whiteSpace:"normal",width:r?200:150,...!r&&(0,Ia().pA)(2),textOverflow:"ellipsis",...q().A.isMobile&&{fontSize:11.5}},tooltip:{width:240},tooltipText:{whiteSpace:"normal"}})),[a,r]);return(0,B.jsx)(V().m,{style:s.tooltip,disableTooltip:"string"==typeof t&&t.length<48&&"string"==typeof e&&e.length<48,renderTooltip:()=>(0,B.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:4,width:"100%"},children:[(0,B.jsx)(b().D,{style:s.tooltipText,styleKey:"bodyMedium",children:e}),(0,B.jsx)(b().D,{style:s.tooltipText,styleKey:"captionRegular",colorVariant:"secondary",children:t})]}),render:i=>(0,B.jsxs)(te().Ay,{style:s.button,hoveredStyle:s.toggleButtonHoveredStyle,pressedStyle:s.toggleButtonPressedStyle,onClick:()=>n(),"aria-pressed":a,...i,children:[(0,B.jsx)("div",{style:s.borderContainer}),o,(0,B.jsx)(Ie().A,{isMultiline:!0,style:s.title,children:e}),(0,B.jsx)(Ie().A,{isSecondaryColor:!0,isSmall:!0,style:s.description,children:t})]})})}function xs(e){return(0,Wn().Xk)(ha().BQ,e)}const ws={desktop_onboarding_promote_app_download:ft,team_desktop_onboarding_promote_app_download:vt,profile:ya,onboarding_nosey_intro:ro,onboarding_agent_personalization_after_use_cases:be,onboarding_agent_personalization_for_work_users_at_end_of_onboarding:me,onboarding_workspace_choose:za,onboarding_plan_type_choose:zo,onboarding_collaborative_intent_choose:$e,onboarding_plan_type_and_survey:To,onboarding_category_survey:Qe,team_onboarding_persona_survey:os,team_onboarding_function:ns,team_onboarding_role:rs,team_onboarding_company_size:ds,startup_application_survey:Er,team_onboarding_invite:Or,team_onboarding_timed_trial_offer:ps,team_onboarding_timed_trial_checkout:Gn,team_onboarding_workspace_create:Ni,team_onboarding_use_cases:{stageName:"team_onboarding_use_cases",getAlignment:e=>"buildable_with_sidebar"===(0,N().getIsReimaginedOnboardingExperimentGroup)(e)?"center":"start",shouldSkip:N().shouldSkipTeamUseCasesStage,getTitle:()=>(0,B.jsx)(A().sA,{defaultMessage:"What are you planning on using Notion for?",id:"onboardingUseCasesStep.title"}),getSubTitle:()=>(0,B.jsx)(A().sA,{defaultMessage:"You can always add more later",id:"onboardingUseCasesStep.subtitle"}),isContinueEnabled(e,t){var o,a;const n=e.planTypeAndSurveyInfo,i=e.selectedWorkflowTemplateIds,r=Boolean((null==n||null===(o=n.surveyResponses)||void 0===o?void 0:o.useCases)&&(null==n||null===(a=n.surveyResponses)||void 0===a||null===(a=a.useCases)||void 0===a?void 0:a.length)>0),s=Boolean(i&&i.length>0);return r||s},isBackEnabled:(e,t)=>!0,renderStage:()=>(0,B.jsx)(ys,{}),renderRightContent(e){var t;const o=e.planTypeAndSurveyInfo,a=(null==o||null===(t=o.surveyResponses)||void 0===t?void 0:t.useCases)??[],n=e.selectedWorkflowTemplateIds??[];if("buildable_with_sidebar"!==(0,N().getIsReimaginedOnboardingExperimentGroup)(e))return(0,B.jsx)(Be,{selectedWorkflowTemplateIds:n,selectedUseCases:a,selectedCategories:[]})},getContinueButtonStyles:()=>({width:376,marginTop:48,borderRadius:8}),getDisplayType:()=>"default"},onboarding_quick_start_features:Aa,partner_program_onboarding_checkout:Pn,offer_eligibility_workspace_choose:ue,mobile_profile:Sa,mobile_onboarding_workspace_choose:Fa,mobile_onboarding_collaborative_intent_choose:Ye,mobile_onboarding_category_survey:Ke,mobile_team_onboarding_persona_survey:as,mobile_team_onboarding_function:is,mobile_team_onboarding_role:ss,mobile_team_onboarding_company_size:ls,mobile_onboarding_plan_type_choose:Fo,mobile_team_onboarding_workspace_create:Ei,mobile_team_onboarding_invite:Br,mobile_team_onboarding_use_cases:{stageName:"mobile_team_onboarding_use_cases",shouldSkip:N().shouldSkipTeamUseCasesStage,getTitle:()=>(0,B.jsx)(A().sA,{defaultMessage:"What are you planning to use Notion for?",id:"onboardingUseCasesStep.mobile.title"}),isContinueEnabled(e){var t,o;const a=e.planTypeAndSurveyInfo,n=e.selectedWorkflowTemplateIds,i=Boolean((null==a||null===(t=a.surveyResponses)||void 0===t?void 0:t.useCases)&&(null==a||null===(o=a.surveyResponses)||void 0===o||null===(o=o.useCases)||void 0===o?void 0:o.length)>0),r=Boolean(n&&n.length>0);return i||r},shouldHideMobileBottomContent(e){var t,o;const a=null==e?void 0:e.planTypeAndSurveyInfo;return!(null!=a&&null!==(t=a.surveyResponses)&&void 0!==t&&t.useCases&&0!==a.surveyResponses.useCases.length||0!==((null==e||null===(o=e.selectedWorkflowTemplateIds)||void 0===o?void 0:o.length)??0))},isBackEnabled:(e,t)=>!0,renderStage:()=>(0,B.jsx)(ys,{}),getDisplayType:()=>"default"},mobile_partner_program_redeem_info:Nn,mobile_onboarding_editor:Kt,mobile_onboarding_sidebar:Gt,mobile_onboarding_web_clipper:Ht,mobile_onboarding_app_download:qt,mobile_onboarding_promote_app_download:Jt,mobile_onboarding_desktop:Zt,mobile_onboarding_home:$t,mobile_onboarding_creation:Yt,mobile_onboarding_share:Xt,mobile_onboarding_multi_platform:eo,mobile_onboarding_skill_mab:to,mobile_onboarding_skill_filing:oo,mobile_onboarding_skill_swipe:ao,onboarding_calendar_signup:L,reimagined_profile:Mr,reimagined_combined_profile_plan_type:Bi,reimagined_plan_type:Tr,reimagined_invite:_r,reimagined_business_trial_offer:mi,reimagined_business_trial_checkout:Hn,reimagined_desktop_download:Li,reimagined_team_desktop_download:Vi}},350893:(e,t,o)=>{o.r(t),o.d(t,{applyStudentGitHubGrant:()=>oe,closeSubscriptionUpgradeModal:()=>V,ensureSubscriptionDataIsFetched:()=>j,handleIntentNextAction:()=>c().u,handlePaymentIntentNextActions:()=>te().X,handlePlanChangeClick:()=>ee,maybeOpenPostUpgradeModal:()=>n().u,messages:()=>l().D,openSubscriptionUpgradeModal:()=>U,refreshAllBillingData:()=>u().o,refreshNonReactiveBillingData:()=>I().R,refreshSubscriptionData:()=>w().x,refreshUserData:()=>x().n,trackSubscriptionUpdate:()=>i().i,updateAddress:()=>y,updateBillingEmail:()=>h,updatePaymentMethod:()=>p,updateSidebarSpace:()=>z,updateSubscription:()=>a().n,updateSubscriptionToEducationPlan:()=>le,updateVatId:()=>S,validatePaymentMethod:()=>g});var a=()=>o(589531),n=()=>o(800168),i=()=>o(311638),r=()=>o(675133),s=()=>o(792057),d=()=>o(769864),l=()=>o(435777),c=()=>o(565744),u=()=>o(335014);async function p(e){const{environment:t,stripe:o,spaceStore:a,paymentMethodId:n}=e,i=await d().callApi({eventName:"updatePaymentMethod",environment:t,data:{spaceId:a.id,paymentMethodId:n}});if("failed"!==i.type){if(i.data.clientSecret&&"requires_action"===i.data.status){if("succeeded"!==await(0,c().u)({stripe:o,clientSecret:i.data.clientSecret}))return void s().f1(r().A.formatMessage(l().D.paymentMethodUpdateAuthFailed));const e=await d().callApi({eventName:"setDefaultPaymentMethod",environment:t,data:{spaceId:a.id,paymentMethodId:n}});if("failed"===e.type)return void s().Qg(e)}await(0,u().o)({environment:t,spaceStore:a})}else s().Qg(i)}async function g(e){const{environment:t,spaceStore:o,paymentMethodId:a}=e,n=await t.api.callCellCompatibleApi({eventName:"updatePaymentMethod",environment:t,data:{spaceId:o.id,paymentMethodId:a},cellNavigation:{spaceId:o.id}});return"failed"===n.type?(s().Qg(n),"failed"):n.data.clientSecret&&"requires_action"===n.data.status?(s().f1(r().A.formatMessage(l().D.useAnotherPaymentMethod)),"failed"):"success"}var f=()=>o(702538),b=()=>o(934839),m=()=>o(496414),v=()=>o(150193);async function y(e){const{environment:t,spaceStore:o,address:a}=e;b().Re({bannerStore:v().A}),m().m({message:l().D.updatingSubscription});const n=await d().callApi({eventName:"updateBillingInformation",environment:t,data:{spaceId:o.id,address:a}});if("failed"===n.type)throw m().V(),s().Qg(n),n.error;(0,f().p)(t,{billing_email_changed:!1,plan_changed:!1,billing_address_changed:!0}),await(0,u().o)({environment:t,spaceStore:o}),m().V()}async function S(e){const{environment:t,spaceStore:o,vatId:a}=e;b().Re({bannerStore:v().A}),m().m({message:l().D.updatingSubscription});const n=await t.api.callApi({eventName:"updateBillingInformation",environment:t,data:{spaceId:o.id,vatId:a}});if("failed"===n.type)throw m().V(),s().Qg(n),n.error;(0,f().p)(t,{billing_email_changed:!1,plan_changed:!1,billing_address_changed:!1}),await(0,u().o)({environment:t,spaceStore:o}),m().V()}async function h(e){const{environment:t,spaceStore:o,email:a}=e;b().Re({bannerStore:v().A}),m().m({message:l().D.updatingSubscription});const n=await d().callApi({eventName:"updateBillingInformation",environment:t,data:{spaceId:o.id,billingEmail:a}});if("failed"===n.type)throw m().V(),s().Qg(n),n.error;(0,f().p)(t,{billing_email_changed:!0,plan_changed:!1,billing_address_changed:!1}),await(0,u().o)({environment:t,spaceStore:o}),m().V()}var I=()=>o(227151),x=()=>o(166947),w=()=>o(124958),_=()=>o(755531),A=()=>o(983610);async function j(e){var t;const{environment:o}=e,a=e.spaceId??(null===(t=(0,_().S)())||void 0===t?void 0:t.id),n=o.currentUser.id;a&&n&&(A().subscriptionDataStoreInstance.state&&A().subscriptionDataStoreInstance.spaceId===a&&A().subscriptionDataStoreInstance.userId===n||await(0,w().x)(o,a))}var k=()=>o(529803),T=()=>o(780262),C=()=>o(271084),M=()=>o(852273),R=()=>o(921997),P=()=>o(496603),D=()=>o(134217);async function N(e){const{environment:t,spaceId:o}=e,a=(0,R().GM)({spaceId:o});if(!B||B!==a){let o;!function(e){O&&M().Ay.removeListener(O,e)}(t);const n=({value:t})=>{void 0!==o&&o!==t&&E(e),o=t},i=P().nF(n,5e3);O=M().Ay.addListener(a,void 0,i,void 0,t),B=a;const r=k().A.state;if(!Object.keys(r).length)return E(e)}}async function E(e){const{environment:t,spaceId:o}=e;if((0,D().e9)(t,o))return;const a=await d().callCellCompatibleApi({eventName:"getBillingSubscriptionBannerData",environment:t,data:{spaceId:o},cellNavigation:{cellId:void 0,spaceId:o}});var n;"success"===a.type&&((null===(n=(0,_().S)())||void 0===n?void 0:n.id)===o&&k().A.setState(a.data.bannerData));const i=await d().callApi({eventName:"getSubscriptionEntitlements",environment:t,data:{spaceId:o}});var r;"success"===i.type&&((null===(r=(0,_().S)())||void 0===r?void 0:r.id)===o&&T().A.setState(i.data))}let O,B;async function z(e){const{environment:t,spaceId:o,isNewlyCreatedSpace:a}=e,n=A().subscriptionDataStoreInstance.spaceId;if(!t.currentUser.isLoggedIn()||n&&n===o)await A().subscriptionDataStoreInstance.waitUntilLoaded();else{if(k().A.setState({}),N({environment:t,spaceId:o}),T().A.setState({}),a){const e={type:"unsubscribed_admin",accountBalance:0,users:[],joinedMemberIds:[],blockUsage:0,hasPaidNonzero:!1,userSimilarity:{},spaceUsers:[],members:[],customerData:void 0,revenueCatEnabled:!1};A().subscriptionDataStoreInstance.setState(e),A().subscriptionDataStoreInstance.spaceId=o,A().subscriptionDataStoreInstance.userId=t.currentUser.id,C().k.setState(e.userSimilarity)}(0,w().x)(t,o)}}var F=()=>o(206267),W=()=>o(720503);function U(e){const{subscriptionTier:t,from:o,addOnFeature:a,isTrial:n,dismissMobilePlansModal:i,postUpgradeCallback:r,offer:s}=e,d=F().JW();W().A.open({from:o,subscriptionTier:t,billingInterval:"month",addOnFeature:a,isTrial:n,sessionId:d,dismissMobilePlansModal:i,postUpgradeCallback:r,offer:s})}var L=()=>o(805501);function V(e){const t=W().A.state;t.open&&((0,L().O)(e,{modal_id:t.sessionId}),W().A.setState({open:!1}))}o(16280);var Q=()=>o(342641),K=()=>o(165358),G=()=>o(795523),H=()=>o(47273),Z=()=>o(323063),q=()=>o(166386),J=()=>o(534177),$=()=>o(931513),Y=()=>o(995604),X=()=>o(779795);async function ee(e){var t,o;const{environment:n,product:i,spaceStore:r,from:s,pageSection:d,churnState:l,billingData:c}=e,u=await X().p_({environment:n,spaceId:r.id}),p=c.subscription;if(!(p&&(0,J().O9)(c.paymentMethod)||"free"===i))return void U({subscriptionTier:i,from:s});const g=(0,G().lQ)(c),f=(0,G().Ry)(c),b=(0,H().yw)(g),m=(0,H().yw)(p),v=b??m,y=(null===(t=(0,G().KH)(c,"sites_custom_hostnames"))||void 0===t?void 0:t.quantity)??0,S=(null===(o=(0,G().KH)(c,"ai_credit_pack"))||void 0===o?void 0:o.quantity)??0,h=(0,H().GB)({spaceId:r.id,logFunction:K().log.bind(K()),subscriptionState:g}),I=(0,H().GB)({spaceId:r.id,logFunction:K().log.bind(K()),subscriptionState:p}),x=h??I;let w;if("free"===i)w=(0,Z().gL)(g,"plan");else{if(!(f&&v&&x))throw new Error("Trying to update plan on a subscription with no items");w=(0,Z().ef)({state:g,prices:u,quantities:{numSeats:x,numCustomHostnames:y,numAiCreditPacks:S},params:{currency:f,interval:v},products:[i]})}if(!P().n4(g,w)){if((0,Z().V5)(g,w)){if("no_churn"===l||!l)return;const e=Q().default.getData(n,{spaceId:null==r?void 0:r.id}),t=(0,q().e8)(e,"coupon");if((0,Y().s)(t,g,w,(0,G().DS)(c))){if(!(await(0,Y().Z)(n)))return}return await(0,a().n)({environment:n,spaceStore:r,desiredState:w,from:s,performImmediately:"churn_immediately"===l})}(0,$().o)(n,{desiredProducts:[i],from:s,analyticsArgs:{from:s,pageSection:d}})}}var te=()=>o(585262);async function oe(e){const{environment:t,data:o}=e;await d().callApi({eventName:"applyStudentGitHubGrant",environment:t,data:o})}o(296540);var ae=()=>o(314529);var ne=()=>o(965378),ie=()=>o(634596),re=()=>o(404141),se=o(474848);async function de({data:e,spaceId:t,environment:o}){const a=()=>{(0,n().u)({oldTier:e.subscriptionTier??"free",newTier:"student",oldAddOns:[],newAddOns:[]})||s().rG({message:r().A.formatMessage(l().D.educationPlusFree)}),Q().default.resetData(o,{spaceId:t}),re().Ay.setState({...re().Ay.state,currentTab:"billing",defaultSubtab:void 0});const a=D().RJ(e);!function(e,t){(0,ae().DO_NOT_USE_trackLegacy)(e,"subscription_update_plan",t)}(o,{plan:"student_free",old_plan:a?a.plan:void 0})};await ie().TQ(o)?ne().r({onSubmit:a,onCancel:a}):a()}const le=(0,P().sg)((async function(e){const{environment:t,spaceStore:a,code:n}=e;m().m({message:l().D.verifyingEligibility});const i=A().subscriptionDataStoreInstance.state;if(!i)throw new Error("Subscription data not loaded.");const r=await t.api.callApi({eventName:"updateSubscriptionToEducationPlan",environment:t,data:{spaceId:a.id,code:n}});"failed"===r.type?s().Qg(r):r.data.isEligible?(await(0,u().o)({environment:t,spaceStore:a}),de({data:i,spaceId:a.id,environment:t})):o(446242).A.setState({open:!0,handlePromoCode:async e=>{m().m({message:l().D.updatingSubscription});const n=await t.api.callApi({eventName:"updateSubscriptionToEducationPlan",environment:t,data:{spaceId:a.id,code:e}});"failed"===n.type?s().Qg(n):n.data.isEligible?(await(0,u().o)({environment:t,spaceStore:a}),de({data:i,spaceId:a.id,environment:t})):s().f1((0,se.jsx)(o(69708).sA,{id:"subscriptionSettings.invalidPromoCodeError.message",defaultMessage:"This promo code is not valid."})),m().V()}}),m().V()}),1e3,{leading:!0,trailing:!1})},360576:(e,t,o)=>{o.r(t),o.d(t,{iconDefinition:()=>a,personFillSmallIcon:()=>n});o(296540);const a={viewBox:"0 0 16 16",fittedViewBox:"2.89 1.85 10.22 12.3",svg:(0,o(474848).jsx)("path",{d:"M8 1.85c-.925 0-1.673.382-2.179 1.012-.495.617-.73 1.435-.73 2.29 0 .856.235 1.674.73 2.291.506.63 1.255 1.012 2.18 1.012.924 0 1.672-.382 2.178-1.012.495-.617.73-1.435.73-2.29 0-.856-.235-1.674-.73-2.291C9.673 2.232 8.925 1.85 8 1.85m0 7.403c-2.175 0-4.115 1.06-4.94 2.672-.3.585-.165 1.179.19 1.594.34.396.873.63 1.43.63h6.64c.557 0 1.09-.234 1.43-.63.355-.415.49-1.01.19-1.594-.825-1.612-2.765-2.672-4.94-2.672"})},n=(0,o(340498).wt)("personFillSmall",a,"fillSmall")},367282:(e,t,o)=>{o.r(t),o.d(t,{briefcaseFillIcon:()=>n,iconDefinition:()=>a});o(296540);const a={viewBox:"0 0 20 20",fittedViewBox:"1.67 2.33 16.65 14.32",svg:(0,o(474848).jsx)("path",{d:"M5.775 5.375v-.913c0-1.173.951-2.125 2.125-2.125h4.2c1.174 0 2.125.952 2.125 2.125v.913H15.9A2.425 2.425 0 0 1 18.325 7.8v1.337H1.675V7.8A2.425 2.425 0 0 1 4.1 5.375zm1.25-.913v.913h5.95v-.913a.875.875 0 0 0-.875-.875H7.9a.875.875 0 0 0-.875.875m-5.35 5.775v3.992A2.425 2.425 0 0 0 4.1 16.654h11.8a2.425 2.425 0 0 0 2.425-2.425v-3.992H11.5v.688a.45.45 0 0 1-.45.45h-2.1a.45.45 0 0 1-.45-.45v-.688z"})},n=(0,o(340498).wt)("briefcaseFill",a,"fill")},369773:(e,t,o)=>{o.d(t,{P:()=>b});var a=o(296540),n=()=>o(564884),i=()=>o(484714),r=()=>o(401497),s=()=>o(699143),d=()=>o(420802),l=()=>o(493552),c=()=>o(69708),u=()=>o(100622),p=()=>o(232930),g=()=>o(208993),f=o(474848);function b({message:e,isChecked:t,onChange:o,error:b,isFirstTerm:m,hideTooltip:v,paddingTop:y,checkboxId:S}){const h=(0,c().tz)(),I=function(e){return(0,r().IS)((()=>({termsContainer:{display:"flex",flexDirection:"column",gap:8,paddingTop:16,borderTop:e?`1px solid ${u().Tj.border.primary}`:void 0}})),[e])}(m??!1),x=(0,i().v3)(),w=a.useRef(null);return a.useEffect((()=>{b&&w.current&&w.current.scrollIntoView({behavior:"smooth",block:"center"})}),[b]),(0,f.jsx)("div",{ref:w,style:{...I.termsContainer,paddingTop:y??I.termsContainer.paddingTop},children:(0,f.jsxs)(s().Y1,{direction:"horizontal",align:"top-left",gap:8,children:[(0,f.jsx)(d().S,{size:14,checked:t,onClick:()=>{(0,n().u)({environment:x,event:{eventName:"click_subscription_terms_checkbox",eventProperties:{checked:!t}}}),o(!t)},id:S,style:{margin:1},"aria-required":!0}),(0,f.jsxs)(s().Y1,{direction:"vertical",gap:8,children:[(0,f.jsxs)(l().D,{styleKey:"captionRegular",colorVariant:"primary",as:"label",htmlFor:S,children:[e,(0,f.jsx)("div",{style:{display:"inline-block",position:"absolute",paddingInlineStart:1},children:v?null:(0,f.jsx)(g().W,{tooltipTitle:h.formatMessage({id:"onboardingTimedTrials.termsOfService.tooltip",defaultMessage:"Read full terms and conditions"}),buttonProps:{href:(0,p().x)("terms"),external:!0}})})]}),b?(0,f.jsx)(l().D,{styleKey:"captionRegular",colorPalette:"red",colorVariant:"accentPrimary",children:b}):null]})]})})}},373399:(e,t,o)=>{o.d(t,{y:()=>c});o(16280);var a=()=>o(675133),n=()=>o(302996),i=()=>o(278729),r=()=>o(165358),s=()=>o(96689),d=()=>o(848538),l=()=>o(582254);async function c({environment:e,spaceId:t,userId:o,joinableSpacesViewType:c,analyticsFrom:u}){const p=new(n().SpaceStore)(e,{table:s().NX,id:t});await p.load();const g=i().V.createChildStore(p,(0,d().i1)({userId:o,spaceId:t}));if(await g.load(),g.isDefined()){if("none"===g.getMembershipType())throw new Error(a().A.formatMessage(l().J.unableToJoinSpace));return Promise.resolve()}{const n=await e.api.callCellCompatibleApi({eventName:"selfJoinSpaceByDomain",environment:e,cellNavigation:{spaceId:t},data:{spaceId:t,joinableSpacesViewType:c,analyticsFrom:u}});var f;if("failed"===n.type)switch(null===(f=n.body)||void 0===f||null===(f=f.clientData)||void 0===f?void 0:f.type){case"unable_to_join_space":throw new Error(a().A.formatMessage(l().J.unableToJoinSpace));case"space_user_already_exists_for_space":r().log({level:"warning",from:"selfJoinSpaceByDomain",type:"spaceUserAlreadyExistsForSpace",spaceId:t,data:{miscDataToConvertToString:{userId:o}}});break;default:throw n.error}}}},382055:(e,t,o)=>{o.d(t,{Ae:()=>i,FX:()=>n});var a=()=>o(314529);function n(e,t){(0,a().DO_NOT_USE_trackLegacy)(e,"workspace_creation_ability",t)}function i(e,t){(0,a().DO_NOT_USE_trackLegacy)(e,"space_transfer_completed",t)}},383289:(e,t,o)=>{o.r(t),o.d(t,{estimateWillSkipStage:()=>k,filterAndSortJoinableSpaces:()=>I,getContextualizedOnboardingAnalyticsData:()=>y,getIsNoseyIntroStageEnabled:()=>N,getIsReimaginedOnboardingExperimentGroup:()=>M,getSpaceIntentOverride:()=>w,getStageName:()=>m,getStages:()=>v,isPlanTypeNotTeam:()=>j,isPublicAccessPageRedirect:()=>x,isStartupTrialOnboardingFlowState:()=>P,isTrialOnboardingFlowState:()=>R,isUserAlreadyOnTrial:()=>E,shouldRedirectToJoinSpace:()=>S,shouldShowProgressIndicatorOnStage:()=>_,shouldShowTrialCheckoutFlow:()=>T,shouldShowWorkspaceInWorkspaceChooser:()=>h,shouldSkipCategorySelectionForExperiment:()=>C,shouldSkipTeamUseCasesStage:()=>A,useCurrentStage:()=>D});o(16280),o(57145),o(898992),o(354520);var a=()=>o(907258),n=()=>o(242422),i=()=>o(726637),r=()=>o(590526),s=()=>o(878126);const d=["CAN_JOIN","CAN_REQUEST","PENDING_REQUEST"];var l=()=>o(795523),c=()=>o(313127),u=()=>o(756790),p=()=>o(807778),g=()=>o(151168),f=()=>o(757156),b=()=>o(350362);function m(e){const{flowName:t,stageIndex:o,environment:a}=e;return v({flowName:t,environment:a})[o]}function v({flowName:e,environment:t}){const o=f().onboardingFlowNameToFlowConfig[e];if(i().A.isMobile){if(!o.isEnabledForMobile)throw new Error(`Mobile flow is not enabled for flow name: ${e}`);return o.getMobileStages(t)}if(!o.isEnabledForDesktop)throw new Error(`Desktop flow is not enabled for flow name: ${e}`);return o.getDesktopStages()}function y({onboardingState:e,spaceJoinOrCreate:t,environment:o}){var n,i,r,s,d,l,c,p;const{sidebarSpaceStore:f}=a().default.state,b=(0,u().p)(),v=(null===(n=e.planTypeAndSurveyInfo)||void 0===n||null===(n=n.surveyResponses)||void 0===n?void 0:n.userPersona)??b.function,y=(null===(i=e.planTypeAndSurveyInfo)||void 0===i||null===(i=i.surveyResponses)||void 0===i?void 0:i.userRole)??b.role,S=(null===(r=e.planTypeAndSurveyInfo)||void 0===r||null===(r=r.surveyResponses)||void 0===r?void 0:r.companySize)??b.companySize,I="employeeCount"in e?e.employeeCount:void 0,x=(null===(s=e.planTypeAndSurveyInfo)||void 0===s?void 0:s.planType)??b.intent,w=(null===(d=e.planTypeAndSurveyInfo)||void 0===d||null===(d=d.surveyResponses)||void 0===d?void 0:d.useCases)??b.useCases,_=(null===(l=e.planTypeAndSurveyInfo)||void 0===l||null===(l=l.surveyResponses)||void 0===l?void 0:l.categories)??b.categories,A=(null===(c=e.planTypeAndSurveyInfo)||void 0===c?void 0:c.collaborativeIntent)??b.collaborativeIntent,j=null===(p=e.planTypeAndSurveyInfo)||void 0===p?void 0:p.predictedPlanSelection;return{flow_name:e.flowName,flow_id:e.flowId,stage:m({flowName:e.flowName,stageIndex:e.currentStageIndex,environment:o}),initial_workspace_type:t,is_new_onboarding:Boolean(e.isFirstTimeOnboarding),is_create_or_join:!0,stage_number:e.currentStageIndex,num_of_joinable_spaces:e.joinableSpaces.filter(h).length,joinable_spaces_view_type:e.joinableSpacesViewType,historical_stages:e.historicalStages,selectedPresets:void 0,user_persona:v,user_team_role:y,user_use_cases:w,user_categories:_,user_company_size:S,startup_employee_count:I,plan_selection:x,collaborative_intent:A,plan_type:null==f?void 0:f.getPlanType(),stage_duration_in_ms:void 0,onboarding_templates:void 0,trial_id:(0,g().vy)((0,g().E5)()),performance_marketing_term:e.performanceMarketingTerm,is_invalid_redirect:e.isInvalidRedirect,is_dark_mode:"dark"===o.ThemeStore.state.mode,selected_workflow_templates:e.selectedWorkflowTemplateIds,predicted_plan_selection:j,is_password_allowed:e.isPasswordAllowed,source:e.source,onboarding_agent_accessory:e.selectedAgentAccessory,selected_quick_start_features:e.selectedQuickStartFeatures,ai_setup_preference:e.aiSetupPreference}}function S(e){return"guest_redirect"===e.type||"redirect_page"===e.type||"redirect_space"===e.type}function h(e){return d.includes(e.joinabilityStatus)}function I(e,t){return e.filter(h).toSorted(((e,o)=>(o.id===t?1:0)-(e.id===t?1:0)||o.guestPageIds.length-e.guestPageIds.length||("free"!==o.subscriptionTier?1:0)-("free"!==e.subscriptionTier?1:0)||o.totalMemberCount-e.totalMemberCount))}function x(e){return"public_access_page_redirect"===e.type}function w(e){if("form_response_onboarding"===e.flowName)return"string"==typeof(t=e.formSpaceIntent)&&c().ay.includes(t)?e.formSpaceIntent:"personal";var t}function _(e,t){const{currentStageIndex:o}=e,a=v({flowName:e.flowName,environment:t}),n=a.indexOf(i().A.isMobile?"mobile_onboarding_plan_type_choose":"reimagined_default"===e.flowName?"reimagined_plan_type":"onboarding_plan_type_choose");return-1!==n&&(N({onboardingState:e,disableExposureLogging:!0})?o>=a.indexOf("onboarding_nosey_intro"):o>=n)}function A(e){var t;const o=null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.planType;return i().A.isMobile?"team"!==o:!(!R(e)||!Boolean(e.selectedEligibleWorkspaceId))||("team"!==o||"control"!==n().default.getEligibleGroup({experimentId:"onboarding_skip_template_usecase_stage_for_work",defaultGroup:"control"}))}function j(e){var t;return"team"!==(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.planType)}function k(e,t,o){if(e.estimateWillSkip)return e.estimateWillSkip(t,o);const a=e.shouldSkip(t,o,{disableExposureLogging:!0});return"boolean"==typeof a&&a}function T(e){return"personal"===e?(0,p().DY)():"team"===e}function C(e,t){var o;const a=Boolean(e.isFirstTimeOnboarding),i=null===(o=e.planTypeAndSurveyInfo)||void 0===o?void 0:o.planType;if(!("personal"===i||"school"===i)||!a)return!1;const r=n().default.getEligibleGroup({experimentId:"adoption_skip_usecase_ship_todo_desktop",defaultGroup:"control",disableExposureLogging:t});return"control"!==r&&"no_skip_category_add_todo"!==r}function M(e){return Boolean(e.isFirstTimeOnboarding)?i().A.isMobile?"control":n().default.getEligibleGroup({experimentId:"reimagined_onboarding_prototype",defaultGroup:"control"}):"control"}function R(e){return"startup_trial_onboarding_flow"===e.flowName||"partner_program_onboarding_flow"===e.flowName}function P(e){return"startup_trial_onboarding_flow"===e.flowName}function D(e,t){return(0,r().K8)((()=>{const o=m({flowName:e.flowName,stageIndex:e.currentStageIndex,environment:t});return b().contextualizedOnboardingStageByStageName[o]}),[e,t])}function N(e){const{onboardingState:t,disableExposureLogging:o}=e;return!i().A.isMobile&&(!(!t.isFirstTimeOnboarding||"default"!==t.flowName)&&"on"===n().default.getEligibleGroup({experimentId:"onboarding_show_nosey_intro_stage",defaultGroup:"control",disableExposureLogging:o}))}function E(e){const{spaceId:t,environment:o}=e;if(!t)return!1;const a=s().T.getData(o,{spaceId:t});return Boolean(a&&(0,l().TB)(a))}},384870:(e,t,o)=>{o.d(t,{Oo:()=>W,mR:()=>L,Tq:()=>Q,ge:()=>V});o(16280),o(898992),o(354520);var a=()=>o(906745),n=(o(296540),()=>o(907258)),i=()=>o(755531),r=()=>o(792057),s=()=>o(128933),d=()=>o(295633),l=()=>o(888626),c=()=>o(805501),u=()=>o(314529);function p(e,t){(0,u().DO_NOT_USE_trackLegacy)(e,"subscription_upgrade_modal_upgrade_failed_validation",t)}var g=()=>o(808731);var f=()=>o(741615),b=()=>o(584262),m=()=>o(165358),v=()=>o(967786),y=()=>o(179034),S=()=>o(795523),h=()=>o(323063),I=()=>o(807487),x=()=>o(69708),w=()=>o(496603),_=()=>o(496414),A=()=>o(209660),j=()=>o(857783),k=()=>o(211716),T=()=>o(965291),C=()=>o(16205),M=()=>o(106196),R=o(474848);function P(e){const{onClick:t}=e;return(0,R.jsx)(M().N,{buttonInfo:{onClick:t,label:(0,R.jsx)(x().sA,{id:"spaceSubscriptionUpgradeModal.upgradeAi.getStarted",defaultMessage:"Get started"})}})}var D=()=>o(370441),N=()=>o(51473),E=()=>o(720503),O=()=>o(585262),B=()=>o(779795),z=()=>o(589531);const F=(0,x().YK)({cancelFailedSubscription:{id:"subscription.upgrade.cancel_failed_subscription",defaultMessage:"Cancelling subscription..."}});function W(e){const{environment:t,modalId:o}=e;E().A.reset(),(0,c().O)(t,{modal_id:o})}function U(e){const{updateSubscriptionResponse:t,environment:o,modalId:a,modalType:n,spaceStore:i}=e,{subscriptionStatus:s,paymentIntentId:d}=t;r().ui({message:"trialing"===s?(0,R.jsx)(x().sA,{id:"subscription.upgrade.payment_failed.trial",defaultMessage:"Please provide an alternate payment method to complete your upgrade."}):(0,R.jsx)(x().sA,{id:"subscription.upgrade.payment_failed",defaultMessage:"Your payment could not be processed. Please provide an alternate payment method or you will lose access to Notion."}),showCancel:!1,keepFocus:!1,requiresUserAction:!0,items:[{label:(0,R.jsx)(x().sA,{id:"subscription.upgrade.payment_failed.pay_invoice",defaultMessage:"Complete payment"}),onAccept:()=>{!function(e,t){(0,u().DO_NOT_USE_trackLegacy)(e,"subscription_upgrade_modal_upgrade_failed_payment_recovery_initiated",t)}(o,{payment_intent_id:d,modal_id:a,modal_type:n}),window.open(t.invoiceUrl,"_blank")},color:"red"},{label:(0,R.jsx)(x().sA,{id:"subscription.upgrade.payment_failed.cancel",defaultMessage:"Cancel upgrade"}),onAccept:async()=>{(0,g().W)(o,{payment_intent_id:t.paymentIntentId,modal_id:a,modal_type:n}),_().m({message:F.cancelFailedSubscription}),await(0,z().n)({environment:o,spaceStore:i,from:"subscription_upgrade_modal-failed_payment",desiredState:{items:[],trialEnd:void 0}}),_().V(),N().q.close(),A().Ow({currentTab:"plans"})}}]})}async function L(e){const{modalId:t,modalType:o,environment:a,intl:n,elements:i,stripe:r,isCheckoutAddressFormExperimentEnabled:s}=e,d=n.formatMessage({id:"spaceSubscriptionUpgradeModal.payment.genericError",defaultMessage:"Your payment could not be processed. Please try again."}),{error:c}=await i.submit();if(c)return p(a,{error:"could not submit form",error_type:"payment_method",modal_id:t,modal_type:o}),{error:d};const{error:u,paymentMethod:g}=await r.createPaymentMethod({elements:i});if(u)return p(a,{error:u.message,error_type:"payment_method",modal_id:t,modal_type:o}),(0,l().c)(a,{error:u.code,stripe_decline_code:u.decline_code}),{error:D().translateStripeError(n,u)};if(!g)return p(a,{error:"could not create token",error_type:"payment_method",modal_id:t,modal_type:o}),{error:d};const f={type:"paymentMethodId",value:g.id};if(s){const e=g.billing_details,{line1:t,line2:o,city:a,state:n,postal_code:i,country:r}=e.address??{};return{paymentData:f,address:{name:e.name??"",addressLine1:t??"",addressLine2:o??"",city:a??"",state:n??"",zipCode:i??"",country:r??"US"}}}{const e=g.billing_details.address;return{paymentData:f,address:{zipCode:(null==e?void 0:e.postal_code)??"",country:I()._q.includes(g.type)?"KR":(null==e?void 0:e.country)??""}}}}async function V(e){var t,o;const{address:n,billingEmail:r,billingInterval:s,currencyCode:d,environment:l,isStartingTrial:c,modalId:p,modalType:b,offerInfo:m,paymentData:y,promo:I,quantity:x,selectedProducts:_,stripe:A,useTestClock:j,vatId:k,from:T,postUpgradeCallback:C}=e,M=(0,i().S)();if(!M)return;const R=await B().p_({environment:l,spaceId:M.id}),P=await(0,f().Vv)({environment:l,spaceId:null==M?void 0:M.id});if(!P)throw new Error("Billing data not loaded");const D=(null===(t=(0,S().KH)(P,"sites_custom_hostnames"))||void 0===t?void 0:t.quantity)??0,N=(null===(o=(0,S().KH)(P,"ai_credit_pack"))||void 0===o?void 0:o.quantity)??0,E=(0,S().lQ)(P),F=c?a().DateTime.now().plus({days:14}):void 0,W=(0,w().oE)(_).filter((e=>"free"!==e)),L=(0,h().ef)({state:{...E,trialEnd:F},prices:R,quantities:{numSeats:x,numCustomHostnames:D,numAiCreditPacks:N},params:{interval:s,currency:d},products:W});try{const e=await(0,z().n)({environment:l,spaceStore:M,desiredState:(0,h().Vr)(R,L,s),paymentData:y,billingEmail:r,coupon:"coupon"===(null==I?void 0:I.source)?I.code:void 0,customerName:n.name,businessName:n.businessName,addressLine1:n.addressLine1,addressCity:n.city,addressZip:n.zipCode,addressState:n.state,addressCountry:n.country,vatId:k??void 0,offerInfo:m,promoCodeId:I&&"promo_code"===I.source?I.code:void 0,from:T??"subscription_upgrade_modal",useTestClock:j,sessionId:p,postUpgradeCallback:C});await(0,O().X)({paymentIntentData:e,stripe:A,onSuccess:()=>{!function(e,t){(0,u().DO_NOT_USE_trackLegacy)(e,"subscription_upgrade_modal_upgrade_accepted",t)}(l,{payment_intent_id:e.paymentIntentId,modal_id:p,modal_type:b})},onFailure:()=>{U({updateSubscriptionResponse:e,environment:l,modalId:p,spaceStore:M})}}),I&&(0,v().rP)(l.currentUser.id)}catch(V){throw(0,g().W)(l,{modal_id:p,modal_type:b}),V}}function Q(e){const{environment:t,intl:o}=e,a=(0,T().getAIUpgradeTemplate)({intl:o});if(!a)throw new Error("AI template not found");const r=n().default.state.currentUserRootStore;if(!r)throw new Error("Cannot create BlockStore: currentUserRootStore not found");const l=(0,i().S)();if(!l)throw new Error("Cannot create BlockStore: currentSpaceStore not found");const c=n().default.state.sidebarSpaceViewStore;if(!c)throw new Error("Cannot create BlockStore: currentSpaceViewStore not found");const u=d().B.createChildStore(r,{table:y().ev,id:a.rootId});(0,C().CI)({environment:t,blockStore:u,spaceStore:l,spaceViewStore:c,hideModal:!0,disableRedirect:!0,showDuplicationStartedToast:!1,showDuplicationFinishedToast:!1}).then((e=>{if(!e)return;s().D6({label:o.formatMessage({id:"spaceSubscriptionUpgradeModal.upgradeAi.success",defaultMessage:"You now have Notion AI"}),style:{gap:8,display:"flex"},right:(0,R.jsx)(P,{onClick:()=>{j().uK({environment:t,store:e,visitType:k().ig.Link,pageVisitSource:b().y8.Duplicate})}})})})).catch((e=>{m().log({from:"client/checkoutActions",level:"error",type:"aiUpgrade.duplicationFailed",data:{message:"AI Upgrade duplication failed.  Block store not found"}})}))}},397103:(e,t,o)=>{o.d(t,{h:()=>r});var a=()=>o(907258),n=()=>o(590526),i=()=>o(528093);function r(e){var t;const{spaceId:o,currentUserId:r}=(0,n().K8)((()=>{var t;return{spaceId:null==e?void 0:e.id,currentUserId:null===(t=a().default.state.currentUserStore)||void 0===t?void 0:t.id}}),[e]),s=(0,i()._)({name:"members",spaceId:o,userId:r,amount:"unknown"}),d=null==s||null===(t=s.limit)||void 0===t?void 0:t.total;return!!d&&("unlimited"===d||d>1)}},414561:(e,t,o)=>{e.exports=o.p+"4013014ece356185.png"},417555:(e,t,o)=>{o.d(t,{A:()=>c});o(296540);var a=()=>o(807449),n=()=>o(784892),i=()=>o(395546),r=()=>o(695608),s=()=>o(534177),d=()=>o(698449),l=o(474848);const c=function({isStrikedThrough:e,backgroundColor:t,onClickRemove:c,target:u,disabled:p,showInfoIcon:g,style:f,shouldWrap:b}){const m=(0,o(69708).tz)(),v=(0,o(590526).K8)((()=>function({target:e,intl:t,showInfoIcon:o}){let n;switch(e.type){case"newUser":n=e.value.email.trim();break;case"existingUser":n=(0,r().c6)(t,e.value);break;case"group":n=(0,d().Pf)({intl:t,groupName:e.value.name});break;default:(0,s().HB)(e)}return o?(c=n,(0,l.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",gap:4},children:[(0,l.jsx)(a().I,{icon:i().infoCircleSmallIcon,size:"sm"}),c]})):n;var c}({target:u,intl:m,showInfoIcon:g})),[u,m,g]);return(0,l.jsx)(o(881690).A,{showRemoveButton:!0,isSingle:!0,isStrikedThrough:e,backgroundColor:t,format:o(726637).A.isMobile?n().NY.Large:n().NY.Medium,onClickRemove:e=>function(e,t,o){e.stopPropagation(),t(o)}(e,c,u),disabled:p,disabledFeedback:!0,value:v,style:f,shouldWrap:b})}},426220:(e,t,o)=>{e.exports=o.p+"ee1b046bc3e8522e.png"},436525:(e,t,o)=>{o.d(t,{D:()=>u});var a=o(296540),n=()=>o(59226),i=()=>o(484714),r=()=>o(79926),s=()=>o(562984),d=()=>o(742734),l=()=>o(141465),c=o(474848);function u({userStore:e,suppressMouse:t,children:o,spaceStore:u}){const p=(0,a.useRef)(null),g=(0,d().E)({spaceStore:u,viewedUserId:null==e?void 0:e.id}),f=(0,n().X)("prefetch_extended_user_profiles"),b=g&&f,m=(0,r().fJ)(s().u.extendedUserProfileActions,{disabled:!b}),v=(0,i().v3)();(0,a.useEffect)((()=>{b&&"resolved"===m.status&&null!=e&&e.id&&u&&null!=u&&u.userId&&m.value.prefetchExtendedUserProfiles({spaceStore:u,actorUserId:u.userId,viewedUserIds:[e.id]},v)}),[b,null==e?void 0:e.id,u,g,v,m]);const y=(0,a.useCallback)((()=>{p.current&&e&&u&&!t&&l().A.setState({type:"user",store:e,domRect:p.current.getBoundingClientRect(),spaceStore:u})}),[e,u,t]),S=(0,a.useCallback)((()=>{l().A.setState(void 0)}),[]);return e&&g?(0,c.jsx)("div",{ref:p,onMouseEnter:g?y:void 0,onMouseLeave:g?S:void 0,children:o}):o}},446242:(e,t,o)=>{o.d(t,{A:()=>n});class a extends(()=>o(757695))().Store{getInitialState(){return{open:!1}}}const n=new a},453697:(e,t,o)=>{o.d(t,{A:()=>p,n:()=>u});var a=o(296540),n=()=>o(590526),i=()=>o(401497),r=()=>o(849255),s=()=>o(807449),d=()=>o(798880),l=()=>o(100622),c=o(474848);function u(e){return(0,i().IS)((()=>({tooltipTextStyle:{color:l().Tj.text.inverseSecondary},tooltipAvatarContainer:{display:"flex",alignItems:"center",marginInlineEnd:8},tooltipContainer:{display:"flex",flexDirection:"row",padding:"4px 6px",alignItems:"center",...e},tooltipUserInfoContainer:{overflow:"hidden",textOverflow:"ellipsis"}})),[e])}const p=function(e){const{hasTooltip:t,showAvatarInTooltip:p,tooltipHeader:g,style:f,iconStyle:b,isOffline:m,borderStyle:v,avatarShouldShowShadow:y,initialOverrideStyle:S,tooltipOverrideStyle:h,userValue:I,userStore:x,avatar:w,type:_="avatar",delayThreshold:A,hasPersonHoverCard:j,avatarOutlineOffset:k}=e,T=(0,o(69708).tz)(),C=(0,n().O$)(o(907258).AppStoreSidebarSpaceStore),M=(0,o(792485).S)(),R=(0,n().K8)((()=>(0,o(876338).$)(M)??C),[M,C]),P=e.size??18,{initialStyle:D,avatarWrapStyle:N,avatarStyle:E,proxiedImageStyle:O,suspendedUserStyle:B}=(0,i().IS)((()=>({initialStyle:{boxSizing:"content-box",borderRadius:"100%",lineHeight:`${P}px`,width:P,height:P,overflow:"hidden",textAlign:"center",fontSize:Math.max(.4375*P,11),background:l().Tj.popoverBackground,userSelect:"none",WebkitUserSelect:"none",color:l().Tj.icon.secondary,opacity:m?.3:1,isolation:"auto",...b,...S},avatarWrapStyle:{background:l().Tj.background.primary,borderRadius:"100%",boxShadow:y?l().Tj.avatarBoxShadow:"none",outlineWidth:1,outlineStyle:v??"solid",outlineColor:l().Tj.border.secondaryTranslucent,outlineOffset:k??-1,...b},avatarStyle:{borderRadius:"100%",width:P,height:P,display:"flex",alignItems:"center",justifyContent:"center",userSelect:"none",WebkitUserSelect:"none",opacity:m?.3:1,...b},proxiedImageStyle:{width:P,height:P,...b},suspendedUserStyle:{boxSizing:"content-box",borderRadius:"100%",width:P-2,height:P-2,overflow:"hidden",background:l().Tj.suspendedUIUserAvatarBackground,userSelect:"none",WebkitUserSelect:"none",color:l().Tj.text.primary,opacity:m?.3:1,display:"flex",justifyContent:"center",alignItems:"center",...b}})),[S,y,v,m,P,b,k]),{tooltipTextStyle:z,tooltipAvatarContainer:F,tooltipContainer:W,tooltipUserInfoContainer:U}=u(h),L=(0,a.useMemo)((()=>x??(I?o(792071).Bj6.fromValue(d().oo,I):void 0)),[x,I]),V=(0,a.useMemo)((()=>L instanceof r().L?L:R&&L?r().L.createChildStore(R,{id:L.id,table:d().oo}):void 0),[L,R]),Q=(0,n().K8)((()=>null==L?void 0:L.getFullName(T)),[L,T]),K=(0,n().K8)((()=>null==L?void 0:L.getDisplayName(T)),[L,T]),G=(0,n().K8)((()=>null==L?void 0:L.getEmail()),[L]),H=(0,n().K8)((()=>null==L?void 0:L.getProfilePhoto()),[L]),Z=(0,n().K8)((()=>null==L?void 0:L.getIsSuspended()),[L]),q=(0,o(742734).E)({spaceStore:R,viewedUserId:null==L?void 0:L.id})&&j,J=()=>e.defaultAvatar??(0,c.jsx)(s().I,{icon:o(360576).personFillSmallIcon,size:"sm",colorVariant:"primary"}),$=(e,t,a)=>{if(!e)return J();const n={width:"100%",height:"100%",borderRadius:"100%",...a};return(0,c.jsx)(o(738471).A,{alt:t,src:e,enableLoadingShimmer:!0,style:n,placeholderStyle:n})},Y=e=>(0,c.jsxs)("div",{style:W,children:[(0,c.jsx)("div",{style:F,children:te()}),(0,c.jsxs)("div",{style:U,children:[L?K:null==w?void 0:w.name,e?void 0:(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("br",{}),L?(0,c.jsx)("span",{style:z,children:G}):null!=w&&w.email?(0,c.jsx)("span",{style:z,children:null==w?void 0:w.email}):null]})]})]}),X=()=>p?Y():(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{children:g}),K,(0,c.jsx)("br",{}),L?(0,c.jsx)("span",{style:z,children:G}):void 0]}),ee=e=>{const t=o(634201).PE(e)[0].toUpperCase();return(0,c.jsx)("div",{style:N,children:(0,c.jsx)("div",{style:D,children:(0,c.jsx)("div",{children:t})})})},te=()=>{if(L){if(Z)return(0,c.jsx)("div",{style:N,children:(0,c.jsx)("div",{style:B,children:(0,c.jsx)(s().I,{icon:o(947086).personSlashIcon,size:P-2,colorVariant:"tertiary"})})});if(H)return(0,c.jsx)("div",{style:E,children:(0,c.jsx)(o(360083).A,{stripGoogleIconQuery:!0,url:H,isAuthenticated:!1,width:Math.max(Number(O.width),120),render:(e,t)=>$(t,Q,N)})});if(Q)return ee(Q);if(G)return ee(G)}else if(w){if(!w.type&&w.avatarUrl)return(0,c.jsx)("div",{style:N,children:(0,c.jsx)("div",{style:E,children:$(w.avatarUrl,w.name)})});if(w.name)return ee(w.name);if(w.email)return ee(w.email)}return J()};switch(_){case"avatar":{const e=(0,c.jsx)("div",{style:f,children:te()});return q&&V&&R?(0,c.jsx)(o(436525).D,{userStore:V,spaceStore:R,children:e}):t?(0,c.jsx)(o(26697).m,{renderTooltip:X,placement:"bottom",alignment:"start",delayThreshold:A,render:t=>(0,c.jsx)("div",{style:f,"aria-label":K,...t,children:e})}):e}case"avatar-name":case"avatar-name-email":return Y("avatar-name"===_);default:(0,o(534177).HB)(_)}}},460844:(e,t,o)=>{e.exports=o.p+"131f3d89639a9c80.png"},465505:(e,t,o)=>{o.d(t,{P:()=>n});o(296540);const a={viewBox:"0 0 20 20",fittedViewBox:"2.72 1.77 14.55 16.45",svg:(0,o(474848).jsx)("path",{d:"M10.302 1.853a.63.63 0 0 0-.604 0l-6.65 3.669c-.2.11-.323.32-.323.547v7.862c0 .228.124.437.323.547l6.65 3.67a.63.63 0 0 0 .604 0l6.65-3.67c.2-.11.323-.32.323-.547V6.069a.63.63 0 0 0-.323-.547zM3.975 7.127l5.4 2.98v6.434l-5.4-2.98zm6.65 9.414v-6.434l5.4-2.98v6.435zM15.356 6.07 10 9.024 4.644 6.069 10 3.114z"})},n=(0,o(340498).wt)("cube",a,"default")},466466:(e,t,o)=>{e.exports=o.p+"996547384a1c14e0.png"},466721:(e,t,o)=>{o.r(t),o.d(t,{STORE_MAX_LIMIT:()=>I,initializePageVisit:()=>x,updatePageVisits:()=>w});o(898992),o(354520),o(581454);var a=()=>o(907258),n=()=>o(770063),i=()=>o(273648),r=()=>o(90023),s=()=>o(179034),d=()=>o(874852),l=()=>o(559653),c=()=>o(161479),u=()=>o(743246),p=()=>o(496603),g=()=>o(534177),f=()=>o(211716),b=()=>o(499764),m=()=>o(299545),v=()=>o(41161),y=()=>o(129286),S=()=>o(769864);const h=32,I=100;async function x(e,t){await a().default.waitUntilRendered();const{fromPageRefresh:o,blockStore:i,pageVisitStore:p,timestamp:g,type:h}=t,I=e.currentUser.id;if(void 0===I||o)return;t.blockStore.id!==p.state.pageId&&p.setState({...p.getInitialState(),pageId:t.blockStore.id});const x=(0,n().v3)(i,{table:l().F9,id:(0,l().$5)({parent_id:i.id,user_id:I}),spaceId:(0,c().e)(i.pointer.spaceId)}),w=(0,n().v3)(i,{table:d().ou,id:(0,l().$5)({parent_id:i.id,user_id:I}),spaceId:(0,c().e)(i.pointer.spaceId)});if(await y().transactionQueue.awaitRecordTransaction({table:s().ev,id:i.id}),await(0,m().hS)(i),!i.canRead()||(0,b().qb)(e,i,i.getSpaceStore()))return;await x.load(),await w.load();const A=x.getKeyStore("visited_at").getValue(),j=w.getKeyStore("exited_at").getValue(),k=await async function(e,t,o,a,n){const{id:i}=e.currentUser,s=t.id,d=t.getSystemBlockTypeStore().getValue();if((0,r().kR)(d))return{type:"skipped"};const l=t.getParentTable()===u().C0;if(l)return{type:"skipped"};if(i&&"passive"!==n){var c;null==e||null===(c=e.mobileNative)||void 0===c||c.recordPageVisit(i,{blockId:s,spaceId:o,visitedAt:a}),v().A.recordVisit({id:s,systemBlockType:d,type:f().ig.Default,currentUserId:i})}const p=await S().callApi({eventName:"recordPageVisit",environment:e,data:{block:{id:s,spaceId:o},timestamp:a,type:n},headers:{recordId:s,spaceId:o}});return p}(e,i,(0,c().e)(i.pointer.spaceId),g,h);if("skipped"===k.type)return;if("failed"===k.type)return;const T=_({pageVisits:k.data.pageVisits,currentState:p.state,blockStore:i,totalCount:p.state.totalCount,hasMore:void 0});p.state.pageId===i.id&&p.setState({...T,lastViewTime:A,lastExitTime:j})}async function w(e,t){await a().default.waitUntilRendered();const o=e.currentUser.id;if(void 0===o)return;const{blockStore:n,pageVisitStore:i,incremental:r}=t,s=t.limit||h;let d;if(r){const{pageId:e,lastViewTime:t,lastExitTime:a,totalCount:n,hasMore:r,...s}=i.state,l=Object.entries(s).map((([e,t])=>{if(o===e)return;const a=t.getVisitedAt();return void 0!==a?a+1:void 0}));d=p().T9(l.filter(g().O9))}const l=await S().callApi({eventName:"getPageVisitors",environment:e,data:{block:{id:n.id,spaceId:(0,c().e)(n.pointer.spaceId)},sinceTimestamp:d,limit:s,includeTotalCount:t.includeTotalCount},headers:{recordId:n.id,spaceId:(0,c().e)(n.pointer.spaceId)}});if("failed"===l.type)return;const u=_({pageVisits:l.data.pageVisits,blockStore:n,currentState:i.state,totalCount:l.data.totalCount,hasMore:l.data.hasMore});let f;if(Object.keys(u).length<=I)f=u;else{const{pageId:e,lastViewTime:t,lastExitTime:o,totalCount:a,hasMore:n,...i}=u,r=(0,g().WP)(i).map((([e,t])=>[e,t.getVisitedAt()??0]));f={pageId:e,lastViewTime:void 0,lastExitTime:void 0,totalCount:a,hasMore:n};const s=p().Ul(r,(([,e])=>-e)).slice(0,I);for(const[d]of s)f[d]=u[d]}i.state.pageId===u.pageId&&i.setState(f)}function _(e){const{blockStore:t,pageVisits:o,currentState:a,totalCount:n,hasMore:r}=e,s={...a,pageId:t.id,totalCount:n,hasMore:r};for(const d of o){const{id:e,user_id:o}=d;o in s||(s[o]=i()._.createChildStore(t,{table:l().F9,id:e,spaceId:(0,c().e)(t.pointer.spaceId)}))}return s}},467041:(e,t,o)=>{o.r(t),o.d(t,{applyPerfmarkTrial:()=>ge,createSpaceWithTemplates:()=>le,getInitialState:()=>se,getRedirectDataUpdate:()=>ue,getWorkflowTemplateForUseCase:()=>be,getWorkflowTemplatesForUseCases:()=>fe,joinSpaceWithTemplates:()=>ce,messages:()=>re,navigateWithRedirectData:()=>de});o(16280),o(898992),o(354520),o(581454);var a=()=>o(564884),n=()=>o(907258),i=()=>o(755531),r=()=>o(242422),s=()=>o(726637),d=()=>o(675133),l=()=>o(711339),c=()=>o(732810),u=()=>o(302996),p=()=>o(475543),g=()=>o(373399),f=()=>o(582254),b=()=>o(584262),m=()=>o(660237),v=()=>o(165358),y=()=>o(416845),S=()=>o(206267),h=()=>o(388821),I=()=>o(427704),x=()=>o(179034),w=()=>o(519831),_=()=>o(96689),A=()=>o(84520),j=()=>o(802149),k=()=>o(679927),T=()=>o(544008);const C={galaxyStudyNotebook:{sources:{"en-US":{rootId:"24617954-d9c2-8172-afb1-cb255f9230bf",previewRootId:"24617954-d9c2-8172-afb1-cb255f9230bf",spaceId:k().rQ},"ko-KR":{rootId:"24617954-d9c2-80c5-bc7d-c154a2d993ec",previewRootId:"24617954-d9c2-80c5-bc7d-c154a2d993ec",spaceId:k().rQ},"es-ES":{rootId:"25017954-d9c2-8114-a76a-e7712decee82",previewRootId:"25017954-d9c2-8114-a76a-e7712decee82",spaceId:k().rQ},"th-TH":{rootId:"25017954-d9c2-8134-a79f-e76c78bbf9a5",previewRootId:"25017954-d9c2-8134-a79f-e76c78bbf9a5",spaceId:k().rQ},"id-ID":{rootId:"25017954-d9c2-8195-b83c-da3b91a4e4a1",previewRootId:"25017954-d9c2-8195-b83c-da3b91a4e4a1",spaceId:k().rQ},"es-LA":{rootId:"25017954-d9c2-8186-aba6-fb607cae9ab9",previewRootId:"25017954-d9c2-8186-aba6-fb607cae9ab9",spaceId:k().rQ},"vi-VN":{rootId:"25017954-d9c2-8133-adb1-ed141804b232",previewRootId:"25017954-d9c2-8133-adb1-ed141804b232",spaceId:k().rQ},"fr-FR":{rootId:"25017954-d9c2-81a2-a7ba-dfaac354c810",previewRootId:"25017954-d9c2-81a2-a7ba-dfaac354c810",spaceId:k().rQ},"pt-BR":{rootId:"25017954-d9c2-8113-8e0e-f3f6132c2e5c",previewRootId:"25017954-d9c2-8113-8e0e-f3f6132c2e5c",spaceId:k().rQ},"de-DE":{rootId:"25017954-d9c2-8191-b776-f21df12e3432",previewRootId:"25017954-d9c2-8191-b776-f21df12e3432",spaceId:k().rQ},"zh-TW":{rootId:"25017954-d9c2-813d-bd06-f75fd9da295b",previewRootId:"25017954-d9c2-813d-bd06-f75fd9da295b",spaceId:k().rQ},"zh-CN":{rootId:"25017954-d9c2-81ee-97a2-d94c5d2365dc",previewRootId:"25017954-d9c2-81ee-97a2-d94c5d2365dc",spaceId:k().rQ},"ja-JP":{rootId:"25017954-d9c2-816b-a3aa-c088c71dc77d",previewRootId:"25017954-d9c2-816b-a3aa-c088c71dc77d",spaceId:k().rQ},"ar-SA":{rootId:"2b717954-d9c2-8060-9691-c907fd26d525",previewRootId:"2b717954-d9c2-8060-9691-c907fd26d525",spaceId:k().rQ},"he-IL":{rootId:"2b817954-d9c2-80d8-a2f9-d0b55c86b7dc",previewRootId:"2b817954-d9c2-80d8-a2f9-d0b55c86b7dc",spaceId:k().rQ}},nameMessage:T().DZ.galaxyStudyNotebook},galaxyLifePlanner:{sources:{"en-US":{rootId:"24617954-d9c2-81a8-b722-e0c491ad9780",previewRootId:"24617954-d9c2-81a8-b722-e0c491ad9780",spaceId:k().rQ},"ko-KR":{rootId:"24617954-d9c2-8000-82bc-f70baffc6255",previewRootId:"24617954-d9c2-8000-82bc-f70baffc6255",spaceId:k().rQ},"pt-BR":{rootId:"25017954-d9c2-816d-9ee3-d5d840e3c352",previewRootId:"25017954-d9c2-816d-9ee3-d5d840e3c352",spaceId:k().rQ},"id-ID":{rootId:"25017954-d9c2-811a-b6f2-c94ec5e1339b",previewRootId:"25017954-d9c2-811a-b6f2-c94ec5e1339b",spaceId:k().rQ},"vi-VN":{rootId:"25017954-d9c2-8184-b3fa-f31b23ce8e0c",previewRootId:"25017954-d9c2-8184-b3fa-f31b23ce8e0c",spaceId:k().rQ},"es-LA":{rootId:"25017954-d9c2-8105-ae9c-e36dc4dddbf7",previewRootId:"25017954-d9c2-8105-ae9c-e36dc4dddbf7",spaceId:k().rQ},"th-TH":{rootId:"25017954-d9c2-8184-b3fa-f31b23ce8e0c",previewRootId:"25017954-d9c2-8184-b3fa-f31b23ce8e0c",spaceId:k().rQ},"zh-CN":{rootId:"25017954-d9c2-817c-b9cd-c4c0f003a5ce",previewRootId:"25017954-d9c2-817c-b9cd-c4c0f003a5ce",spaceId:k().rQ},"es-ES":{rootId:"25017954-d9c2-81e0-b0af-df9997aabe38",previewRootId:"25017954-d9c2-81e0-b0af-df9997aabe38",spaceId:k().rQ},"zh-TW":{rootId:"25017954-d9c2-8117-a2b4-e51c2043ef95",previewRootId:"25017954-d9c2-8117-a2b4-e51c2043ef95",spaceId:k().rQ},"fr-FR":{rootId:"25017954-d9c2-819c-acd1-f794cbc876c7",previewRootId:"25017954-d9c2-819c-acd1-f794cbc876c7",spaceId:k().rQ},"de-DE":{rootId:"25017954-d9c2-8198-8d0b-e8500b223f44",previewRootId:"25017954-d9c2-8198-8d0b-e8500b223f44",spaceId:k().rQ},"ja-JP":{rootId:"25017954-d9c2-818c-bf78-c48344c51827",previewRootId:"25017954-d9c2-818c-bf78-c48344c51827",spaceId:k().rQ},"ar-SA":{rootId:"2b717954-d9c2-805f-9f83-d3e8c2527c8b",previewRootId:"2b717954-d9c2-805f-9f83-d3e8c2527c8b",spaceId:k().rQ},"he-IL":{rootId:"2b817954-d9c2-80b2-85c3-dbb2f3e95697",previewRootId:"2b817954-d9c2-80b2-85c3-dbb2f3e95697",spaceId:k().rQ}},nameMessage:T().DZ.galaxyLifePlanner},galaxyCompanyHome:{sources:{"en-US":{rootId:"24617954-d9c2-817c-acd4-ea67a3607228",previewRootId:"24617954-d9c2-817c-acd4-ea67a3607228",spaceId:k().rQ},"ko-KR":{rootId:"24617954-d9c2-8086-a88f-eb4a46423725",previewRootId:"24617954-d9c2-8086-a88f-eb4a46423725",spaceId:k().rQ},"id-ID":{rootId:"25017954-d9c2-81a6-98ab-c2944841ad9c",previewRootId:"25017954-d9c2-81a6-98ab-c2944841ad9c",spaceId:k().rQ},"es-LA":{rootId:"25017954-d9c2-813d-9784-d33b19b3a35b",previewRootId:"25017954-d9c2-813d-9784-d33b19b3a35b",spaceId:k().rQ},"vi-VN":{rootId:"25017954-d9c2-819f-a6d2-d0ae8936aeaf",previewRootId:"25017954-d9c2-819f-a6d2-d0ae8936aeaf",spaceId:k().rQ},"th-TH":{rootId:"25017954-d9c2-8183-bfdd-ce1a351e11a8",previewRootId:"25017954-d9c2-8183-bfdd-ce1a351e11a8",spaceId:k().rQ},"zh-CN":{rootId:"25017954-d9c2-81f6-9fba-e27f7990030c",previewRootId:"25017954-d9c2-81f6-9fba-e27f7990030c",spaceId:k().rQ},"zh-TW":{rootId:"25017954-d9c2-8169-8ada-d4dfab4777f8",previewRootId:"25017954-d9c2-8169-8ada-d4dfab4777f8",spaceId:k().rQ},"pt-BR":{rootId:"25017954-d9c2-81b5-98f4-e973b7a9828a",previewRootId:"25017954-d9c2-81b5-98f4-e973b7a9828a",spaceId:k().rQ},"ja-JP":{rootId:"25017954-d9c2-81f4-97c2-ece8df206bec",previewRootId:"25017954-d9c2-81f4-97c2-ece8df206bec",spaceId:k().rQ},"fr-FR":{rootId:"25017954-d9c2-8117-a58b-d9590df6c5e8",previewRootId:"25017954-d9c2-8117-a58b-d9590df6c5e8",spaceId:k().rQ},"de-DE":{rootId:"25017954-d9c2-80f3-bac5-c23aaf4f3265",previewRootId:"25017954-d9c2-80f3-bac5-c23aaf4f3265",spaceId:k().rQ},"es-ES":{rootId:"25017954-d9c2-8054-8346-d3f1d15254e1",previewRootId:"25017954-d9c2-8054-8346-d3f1d15254e1",spaceId:k().rQ},"ar-SA":{rootId:"2b817954-d9c2-80bd-8f84-cdae40101dc7",previewRootId:"2b817954-d9c2-80bd-8f84-cdae40101dc7",spaceId:k().rQ},"he-IL":{rootId:"2b817954-d9c2-80fa-9fa8-ead73f2f25ff",previewRootId:"2b817954-d9c2-80fa-9fa8-ead73f2f25ff",spaceId:k().rQ}},nameMessage:T().DZ.galaxyCompanyHome}},M=[C.galaxyStudyNotebook,C.galaxyLifePlanner,C.galaxyCompanyHome];var R=()=>o(797573),P=()=>o(496603),D=()=>o(229833),N=()=>o(534177),E=()=>o(337240),O=()=>o(382055),B=()=>o(796756),z=()=>o(769864),F=()=>o(934839),W=()=>o(816074),U=()=>o(666144),L=()=>o(139654),V=()=>o(254600),Q=()=>o(507379),K=()=>o(816860),G=()=>o(768345),H=()=>o(235921),Z=()=>o(680074),q=()=>o(756790),J=()=>o(443002),$=()=>o(246766),Y=()=>o(150193),X=()=>o(350893),ee=()=>o(224701),te=()=>o(151168),oe=()=>o(759830),ae=()=>o(687601),ne=()=>o(607859),ie=()=>o(965291);const re=(0,o(69708).YK)({joiningWorkspace:{id:"onboardingStateActions.joiningWorkspace.loadingMessage",defaultMessage:"Joining teamâ€¦"},creatingWorkspace:{id:"onboardingStateActions.creatingWorkspace.loadingMessage",defaultMessage:"Getting readyâ€¦"},creatingWorkflowTemplate:{id:"onboardingStateActions.creatingWorkflowTemplate.loadingMessage",defaultMessage:"Getting readyâ€¦"},navigatingToWorkspace:{id:"onboardingStateActions.navigatingToWorkspace.loadingMessage",defaultMessage:"Taking you to your workspaceâ€¦"},errorNoAction:{id:"onboardingStateActions.errorMessage.noActionToPerform",defaultMessage:"No action to perform for {onboardingRedirectType}"},errorWorkspaceCreationPreventedWithEmail:{id:"onboardingStateActions.errorMessage.domainClaim.workspaceCreationPreventedWithEmail",defaultMessage:"You are signed in to {userEmailAddress} and do not have any workspaces to join and are not allowed to create a new workspace. Please reach out to your IT department for access to Notion."},errorWorkspaceCreationPrevented:{id:"onboardingStateActions.errorMessage.domainClaim.workspaceCreationPrevented",defaultMessage:"You do not have any workspaces to join and are not allowed to create a new workspace. Please reach out to your IT department for access to Notion."},errorWorkspaceDoesNotExist:{id:"onboardingStateActions.errorMessage.spaceDoesNotExist",defaultMessage:"Workspace does not exist."},errorWorkspaceDidNotLoad:{id:"onboardingStateActions.errorMessage.spaceDidNotLoad",defaultMessage:"Failed to load workspace."}});function se({environment:e,startOnboardingArgs:t,onboardingData:o,redirectData:a}){const i=e.currentUser.id;if(void 0===i)throw new Error("Environment currentUserId not defined.");const{type:r,redirectUrl:l,disableRedirectUrl:c}=t,{currentUserRootStore:u}=n().default.state,p=0===(u&&u.isReady()?P().sb(u.getSpaceViewStores().filter((e=>e.getJoined())).map((e=>e.getSpaceId()))).length:0),g=(0,te().Os)()?"perfmark":void 0,f={onboardingData:o,redirectData:a,isOnboarding:!0,isLoading:!1,flowId:S().JW(),currentUserId:i,isNewUser:p,stageNumber:0,spaceId:void 0,historicalStages:void 0,onboardingExperiments:{},stageStats:{startedTimeStampMs:Date.now()},trialId:g,performanceMarketingTerm:o.performanceMarketingTerm};if("new-user"===r){const e=o.joinableSpaceData.results.length>0;let t;t=s().A.isMobile?l&&!c?"mobile_redirect":e?"mobile_joinable_spaces":"mobile_cold_start":l&&!c?"desktop_redirect":e?"desktop_joinable_spaces":"desktop_cold_start";return{...f,flow:t,stage:"profile",uploadingProfilePhoto:!1,profilePhoto:null,prefilled:!1,passwordErrorData:null,emailOptIn:(0,m().eh)(o.countryCode).defaultOptIn}}if("create-or-join"===r){const t=ae().md({results:o.joinableSpaceData.results,userRootStore:o.userRootStore,isNewUserFlow:!1}),a=s().A.isMobile?"mobile_join_or_create_space":"desktop_join_or_create_space";if(t.length>0)return{...f,flow:a,stage:"workspace_choose",joinableSpaces:t,prefilled:!1};if(o.canUserCreateSpace)return{...pe(f),...f,flow:a,stage:"workspace_plan_choose",prefilled:!1,spaceJoinOrCreate:"create",useCases:[],collaborativeIntent:void 0};{O().FX(e,{can_user_create_space:!1,is_new_user:!1,has_joinable_spaces:!1,onboarding_stage:void 0});const t=o.userStore.getEmail();throw ne().default.setState({...f,flow:a,stage:"error"}),new(y().Xgk)(t?d().A.formatMessage(re.errorWorkspaceCreationPreventedWithEmail,{userEmailAddress:t}):d().A.formatMessage(re.errorWorkspaceCreationPrevented),{newUser:!1})}}if("mobile-onboarding"===r)return{...f,flow:"mobile_existing_user",stage:"mobile_editor",spaceJoinOrCreate:"join"};N().HB(r)}async function de(e){const{environment:t,redirectData:o,spaceViewId:a,spaceId:n,onboardingData:i,spaceJoinOrCreate:r,onboardingFlow:s}=e;F().zA({bannerStore:Y().A,id:"SubscriptionEditingBlocker"});const l=a?p().SpaceViewStore.createChildStore(i.userRootStore,{table:A().mu,id:a}):void 0,u=j().dw();if("fork_page"===o.type&&l)await(0,V().t)({environment:t,spaceViewStore:l,redirectPageId:o.pageId,userSettingsStore:i.userSettingsStore,userRootStore:i.userRootStore,isNewlyCreatedSpace:"create"===r,pageVisitSource:b().y8.Onboarding,navigationType:"joiningOrCreatingSpace"});else if(u&&!i.onboardingCompleted)j().dC(),(0,$().navigate)({environment:t,url:u,redirect:!0});else if("home"===o.type&&null!=l&&l.isDefined()){const e=await z().callCellCompatibleApi({eventName:"getUserHomePages",environment:t,data:{spaceViewId:l.id,spaceId:l.getSpaceId()},cellNavigation:{cellId:void 0,recordId:l.id,spaceId:l.getSpaceId()}}),{recordMap:o,homePageId:a}="success"===e.type?{recordMap:h().RecordMapWithRole.create(e.data.recordMap),homePageId:e.data.homePageId}:{recordMap:void 0,homePageId:void 0},n=l.pointer;o&&U().PC({environment:t,inMemoryRecordCache:t.defaultRecordCache.inMemoryRecordCache,pointer:n,model:o.getModel(n),role:o.getRole(n)||"none",updatePaths:[["settings","personal_home"]],debugSource:"onboardingStateActions.navigateWithRedirectData",force:!0}),await(0,V().t)({environment:t,redirectPageId:a,spaceViewStore:l,userSettingsStore:i.userSettingsStore,userRootStore:i.userRootStore,isNewlyCreatedSpace:"create"===r,pageVisitSource:b().y8.Onboarding,navigationType:"joiningOrCreatingSpace"})}else if("redirect_page"===o.type&&o.spaceId===n&&l)await U().sy({environment:t,pointer:{table:x().ev,id:o.pageId,spaceId:o.spaceId},inMemoryRecordCache:t.defaultRecordCache.inMemoryRecordCache,userId:t.currentUser.id}),await(0,V().t)({environment:t,spaceViewStore:l,redirectPageId:o.pageId,userSettingsStore:i.userSettingsStore,userRootStore:i.userRootStore,isNewlyCreatedSpace:"create"===r,pageVisitSource:b().y8.Onboarding,navigationType:"joiningOrCreatingSpace"});else if("redirect_space"===o.type&&o.spaceId===n&&l)await(0,V().t)({environment:t,spaceViewStore:l,userSettingsStore:i.userSettingsStore,userRootStore:i.userRootStore,isNewlyCreatedSpace:"create"===r,pageVisitSource:b().y8.Onboarding,navigationType:"joiningOrCreatingSpace"});else if("mobile_native_home"===o.type&&l)await(0,V().t)({environment:t,spaceViewStore:l,redirectPageId:void 0,userSettingsStore:i.userSettingsStore,userRootStore:i.userRootStore,isNewlyCreatedSpace:"create"===r,pageVisitSource:b().y8.Onboarding,navigationType:"joiningOrCreatingSpace"});else if("getting_started_page"!==o.type&&"redirect_space"!==o.type&&"performance_marketing_template"!==o.type||!l)if("oauth_authorization_redirect"===o.type&&"mobile_cold_start"!==s&&"mobile_joinable_spaces"!==s&&"mobile_redirect"!==s){const{responseType:e,integrationId:a,redirectUri:n,state:i,owner:r,userId:s,spaceId:d}=o;W().t({environment:t,responseType:e,integrationId:a,redirectUri:n,state:i,owner:r,userId:s,spaceId:d})}else if("show_ai_assistant_full_page"===o.type)(0,$().navigate)({environment:t,url:I().JZ.ai,redirect:!0});else if(l)await(0,V().t)({environment:t,spaceViewStore:l,userSettingsStore:i.userSettingsStore,userRootStore:i.userRootStore,isNewlyCreatedSpace:"create"===r,pageVisitSource:b().y8.Onboarding,navigationType:"joiningOrCreatingSpace"});else{if(!i.firstSpaceView)throw new Error(d().A.formatMessage(re.errorNoAction,{onboardingRedirectType:o.type}));await(0,V().t)({environment:t,spaceViewStore:i.firstSpaceView,userSettingsStore:i.userSettingsStore,userRootStore:i.userRootStore,isNewlyCreatedSpace:"create"===r,pageVisitSource:b().y8.Onboarding,navigationType:"joiningOrCreatingSpace"})}else{let e;if("getting_started_page"===o.type&&o.collectionId){const a=c().m.createChildStore(l.getSpaceStore(),{table:w().Vl,id:o.collectionId});e=(await(0,K().V)({environment:t,collectionStore:a})).collectionViewBlockStore()}await(0,V().t)({environment:t,spaceViewStore:l,redirectPageId:o.pageId,userSettingsStore:i.userSettingsStore,userRootStore:i.userRootStore,isNewlyCreatedSpace:"create"===r,pageVisitSource:b().y8.Onboarding,navigationType:"joiningOrCreatingSpace",navigateToStore:e})}}async function le(e){const{environment:t,onboardingData:o,userPersona:a,redirectData:n,spaceName:i,planSelection:s,spaceIcon:c,isPrivate:u,useCases:p,categories:g,isNewUserOnboarding:f,selectedWorkflowTemplates:b,collaborativeIntent:m,source:v,createTemplates:y=!0,joinableSpacesViewType:S}=e,h="team"===s?"team":"personal",I=l().default.DO_NOT_USE_markLegacy("create_space_with_templates"),{spaceStore:x,spaceViewStore:w,inviteLinkCode:_,teamStore:A}=await(0,L().b)({environment:t,planType:h,planSelection:s,name:i,userRootStore:o.userRootStore,analyticsFrom:"onboarding",icon:c||void 0,userPersona:a,collaborativeIntent:m,source:v,joinableSpacesViewType:S});let j;ne().default.setState({...ne().default.state,spaceId:x.id}),await ee().iV({environment:t,spaceId:x.id,isNewlyCreatedSpace:!0}),(0,G().setUserAndSpaceSurveyData)({environment:t,onboardingState:H().A.state,planSelection:s,spaceStore:x,spaceViewStore:w}),(0,G().DO_NOT_USE_setUserPersonaRoleAndUseCases)(t,H().A.state);let k=[],T={};if(y&&ae().yg(h)&&!o.performanceMarketingTerm){const e=[];let t=[];t="skip_stage_with_default_templates"===r().default.getEligibleGroup({experimentId:"onboarding_skip_template_usecase_stage_for_work",defaultGroup:"control"})?["docsCollection","projectsCollection","meetingNotesCollection","goalsCollection"]:[...b??[],...fe(p)],T={pageTemplates:e,workflowTemplates:t}}else if(y){let e=[];e=o.performanceMarketingTerm?(0,ie().getPerformanceMarketingSearchTermTemplates)(o.performanceMarketingTerm,d().A.getIntl()):ie().getStarterTemplatesForSpace({environment:t,onboardingPlanType:s,categories:g,intl:d().A.getIntl()}),e&&(k=e.map((e=>e.rootId))),T={pageTemplates:e}}if("samsung_preload_onboarding_flow"===H().A.state.flowName){const e=(0,R().o)(M,d().A.getIntl());T.pageTemplates=[...T.pageTemplates??[],...e]}j=await ie().createTemplatePagesInSpace({environment:t,redirectData:n,spaceViewStore:w,userSettingsStore:o.userSettingsStore,userRootStore:o.userRootStore,isPrivate:u,templatesToCreateInSpace:T,planType:h,spaceJoinOrCreate:"create",teamStore:A,useCases:p,userPersona:a,isNewUserOnboarding:f,userContext:(0,oe().p)({environment:t,spaceJoinOrCreate:"create",onboardingState:H().A.state,spaceViewStore:w})}),B().rn(t,{plan_selection:s,user_persona:a,initial_workspace_type:"create",space_id:x.id,onboarding_templates:k}),l().default.DO_NOT_USE_measureLegacy(I,{environment:t,data:{}});const C=ue(n,j,t),P="pageId"in C?C.pageId:void 0;return H().A.setState({...H().A.state,onboardingData:{...o,redirectPageId:P}}),{redirectData:C,spaceId:x.id,spaceViewId:w.id,inviteLinkCode:_,spaceStore:x,spaceViewStore:w,teamStoreId:null==A?void 0:A.id}}async function ce(e){const{environment:t,onboardingData:o,spaceId:a,redirectData:s,isNewUserOnboarding:l,joinableSpacesViewType:c}=e,p="team_invite_redirect"===s.type?s.inviteCode:void 0;let b;if(r().default.checkGate({gateName:"enable_new_join_space_endpoint"})&&!p){await(0,g().y)({environment:t,spaceId:a,userId:o.userStore.id,joinableSpacesViewType:c,analyticsFrom:"onboarding_member"});const e=new(u().SpaceStore)(t,{table:_().NX,id:a}),i=(0,J().H)({environment:t,userId:o.userStore.id,spaceStore:e});if(await(null==i?void 0:i.load()),!i)throw new Error(d().A.formatMessage(f().J.noSpaceViewOnJoin));b=i,n().default.setState({...n().default.state,sidebarSpaceStore:i.getSpaceStore(),sidebarSpaceViewStore:i}),await(0,X().updateSidebarSpace)({environment:t,spaceId:a})}else{const{spaceViewStore:e}=await Q().HF({environment:t,spaceId:a,userRootStore:o.userRootStore,analyticsFrom:"onboarding_member",userSettingsStore:o.userSettingsStore,inviteCode:p,isOnboarding:!0,joinableSpacesViewType:c});b=e}(0,i().S)()||n().default.setState({...n().default.state,sidebarSpaceStore:b.getSpaceStore(),sidebarSpaceViewStore:b});const m=ie().getStarterTemplatesForSpace({environment:t,onboardingPlanType:"team",categories:[],isJoiner:!0,intl:d().A.getIntl()});return await ie().createTemplatePagesInSpace({environment:t,redirectData:s,spaceViewStore:b,isPrivate:!0,userSettingsStore:o.userSettingsStore,userRootStore:o.userRootStore,templatesToCreateInSpace:{pageTemplates:m},planType:"team",spaceJoinOrCreate:"join",useCases:[],userPersona:"unfilled",isNewUserOnboarding:l,userContext:(0,oe().p)({environment:t,spaceJoinOrCreate:"join",onboardingState:H().A.state,spaceViewStore:b})}),B().xs(t,{initial_workspace_type:"join",space_id:a,onboarding_templates:null==m?void 0:m.map((e=>e.rootId))}),b}function ue(e,t,o){if(t){if("redirect_space"===e.type)return{type:e.type,pageId:t.id,spaceId:e.spaceId};if("getting_started_page"===e.type)return ae().zX(o)?{type:"mobile_native_home"}:{type:e.type,pageId:t.id};if("fork_page"===e.type)return{type:e.type,pageId:t.id};if("performance_marketing_template"===e.type)return{type:e.type,pageId:t.id};if("redirect_page"===e.type)return{type:e.type,pageId:t.id,spaceId:t.getSpaceId()}}return e}function pe(e){let t;e.onboardingData.isEducationPlanEligible&&(t="student");const{function:o}=(0,q().p)();return o&&(t=o),{userPersona:t}}async function ge(e,t,o){let n=!1,i=!1;const r=await z().callApi({eventName:"checkAndApplyPerfmarkTrial",environment:o,data:{spaceId:e}});if("success"===r.type){const e="success"===r.data.status;(0,a().u)({environment:o,event:{eventName:"trial_apply_attempt",eventProperties:{trial_id:"perfmark",success:e,planType:t,..."error"===r.data.status&&{reason:r.data.reason}}}}),E().D$(o,{trial_id:"perfmark",success:e,planType:t,domainType:(0,Z().FX)()}),"success"===r.data.status?n=!0:i=!0}else(0,a().u)({environment:o,event:{eventName:"trial_apply_attempt",eventProperties:{trial_id:"perfmark",success:!1,planType:t,reason:r.error.name}}}),E().D$(o,{trial_id:"perfmark",success:!1,planType:t}),v().log({level:"error",from:"onboardingActions",type:"applyPerfmarkTrialError",error:(0,D().convertErrorToLog)(r.error)});return(0,te().Q8)(),{enableTrialInfoModal:n,enableTrialIneligibleToast:i}}function fe(e){return e.map((e=>be(e))).filter((e=>void 0!==e))}function be(e){switch(e){case"docs":return"docsCollection";case"project":return"projectsCollection";case"notes":return"meetingNotesCollection";case"goals":return"goalsCollection";default:return}}},478166:(e,t,o)=>{e.exports=o.p+"58eafabd1efb2e8c.png"},480013:(e,t,o)=>{o.d(t,{_:()=>r});var a=()=>o(484714),n=()=>o(590526),i=()=>o(564884);function r(e){const{asyncPrice:t}=e,o=(0,a().v3)();return(0,n().K8)((()=>{if(t&&t.isLoaded&&t.result)return function(e,t){(0,i().u)({environment:e,event:{eventName:"subscription_upgrade_modal_present_price",eventProperties:{external_id:t.externalId}}})}(o,{externalId:t.result.externalId}),t.result.getMonthlyUnitCost().toMoneyValue()}),[t,o])}},480599:(e,t,o)=>{o.r(t),o.d(t,{goToNextStage:()=>z,goToPreviousStage:()=>W,handleDesktopBackButtonClick:()=>U,handleMobileBackButtonClick:()=>L,initializeContextualizedOnboardingState:()=>O,maybeCompleteOnboardingAfterProfileStage:()=>Q,memoizeAndTrackContextualizedOnboardingStageWithHistoricalContext:()=>B,restoreContextualizedOnboardingState:()=>E,skipStage:()=>F,updateOnboardingProgressBarPercentage:()=>K,updateRedirectDataFromInviteCode:()=>V});o(16280),o(898992),o(354520),o(581454),o(737550);var a=o.n(o(794148)),n=()=>o(907258),i=()=>o(242422),r=()=>o(675133),s=()=>o(302996),d=()=>o(475543),l=()=>o(660237),c=()=>o(763884),u=()=>o(820103),p=()=>o(96689),g=()=>o(84520),f=()=>o(802149),b=()=>o(994310),m=()=>o(319625),v=()=>o(796756),y=()=>o(769864),S=()=>o(943366),h=()=>o(285518),I=()=>o(634596),x=()=>o(20489),w=()=>o(467041),_=()=>o(687601),A=()=>o(607859),j=()=>o(768345),k=()=>o(757156),T=()=>o(350362),C=()=>o(322920),M=()=>o(383289),R=()=>o(125895),P=()=>o(812978),D=()=>o(235921),N=()=>o(253493);async function E({environment:e}){var t;if("undefined"!==D().A.state.flowName||!e.currentUser.id)return;const o=c().K.get({userId:null===(t=n().default.state.currentUserStore)||void 0===t?void 0:t.id,key:D().l});if(o&&"undefined"!==o.flowName&&!o.isInvalidRedirect){const t=await _().of({environment:e,disableRedirects:!1}),a=!(0,h().R)(n().default.state.currentUserRootStore)||(0,_().up)(A().default.state);D().A.setState({...D().A.state,...o,onboardingData:t,joinableSpaces:_().md({results:t.joinableSpaceData.results,userRootStore:t.userRootStore,isNewUserFlow:a})}),o.spaceId&&n().default.setState({...n().default.state,sidebarSpaceStore:new(s().SpaceStore)(e,{table:p().NX,id:o.spaceId})}),o.spaceViewId&&n().default.setState({...n().default.state,sidebarSpaceViewStore:new(d().SpaceViewStore)(e,{table:g().mu,id:o.spaceViewId})}),B(e,D().A.state)}}async function O({environment:e,isInvalidRedirect:t,shouldShowMobileTutorialOnboarding:o,source:r}){if(D().A.isOnboarding()&&!D().A.state.isInvalidRedirect&&!t)return;const s=await _().of({environment:e,disableRedirects:!1}),d=!(0,h().R)(n().default.state.currentUserRootStore)||(0,_().up)(A().default.state),c=await(0,C().getContextualizedOnboardingFlowName)(e,o),p=await I().TQ(e),g=x().b.isMicrosoftLogin()||x().b.isMicrosoftVerification();const b=Object.fromEntries(u().iV.map((e=>[e,i().default.getEligibleGroup({experimentId:e,defaultGroup:"control"})]))),v={...D().A.getInitialState(),onboardingData:s,emailOptIn:(0,l().eh)(s.countryCode).defaultOptIn,optInAutoJoin:!0,isInvalidRedirect:t,isFirstTimeOnboarding:d,autoExposedOnboardingExperiments:b,joinableSpaces:(0,R().A)()?[]:_().md({results:s.joinableSpaceData.results,userRootStore:s.userRootStore,isNewUserFlow:d}),performanceMarketingTerm:s.performanceMarketingTerm,isPasswordAllowed:!g&&p&&!_().nV(),source:r};if(D().A.setState(v),"form_response_onboarding"===c){const e=f().$m()??void 0;a()(e,"form response data is not found when setting store state"),D().A.setState({...D().A.state,flowName:c,formResponseId:e.formResponseId,secretKey:e.formSecretKey,formSpaceId:e.formSpaceId,formSpaceIntent:e.formSpaceIntent}),f().ip()}else if("partner_program_onboarding_flow"===c){const{eligibleWorkspaces:t,ineligibleWorkspaces:o}=await(0,N().getOfferEligibilityForWorkspaceForOnboardingUser)({environment:e,isFirstTimeOnboarding:d});D().A.setState({...D().A.state,flowName:c,eligibleWorkspaces:t,ineligibleWorkspaces:o})}else if("notion_for_work_flow"===c)D().A.setState({...D().A.state,flowName:c,planTypeAndSurveyInfo:{planType:"team",collaborativeIntent:"multiplayer"}});else if("meeting_notes_flow"===c)D().A.setState({...D().A.state,flowName:c,planTypeAndSurveyInfo:{planType:"team",collaborativeIntent:"multiplayer"}});else if("startup_trial_onboarding_flow"===c){const e=f().Qp(),t=null==e?void 0:e.partnerKey,o=null==e?void 0:e.partner;D().A.setState({...D().A.state,flowName:"startup_trial_onboarding_flow",eligibleWorkspaces:[],ineligibleWorkspaces:[],partnerKey:t,partner:o,planTypeAndSurveyInfo:{planType:"team",collaborativeIntent:"multiplayer"}})}else D().A.setState({...D().A.state,flowName:c});let y=v.currentStageIndex;const S=(0,M().getStages)({flowName:c,environment:e});for(;y<S.length&&await(0,P().shouldSkipCurrentStage)({flowName:c,stageIndex:y,environment:e});)y++;if(D().A.setState({...D().A.state,currentStageIndex:y}),y>=S.length)try{return await D().A.completeOnboarding(e,"create")}catch(w){(0,j().handleOnboardingError)(e,(0,m().A)(w))}k().onboardingFlowNameToFlowConfig[c].onStartFlow()}function B(e,t,o){const a=[...t.historicalStages||[],{stageName:(0,M().getStageName)({flowName:t.flowName,stageIndex:t.currentStageIndex,environment:e}),stageNumber:t.currentStageIndex,timestamp:Date.now()}];D().A.setState({...t,historicalStages:a.length>20?[{stageName:"truncated",stageNumber:-1,timestamp:Date.now()}]:a})}async function z(e){const{environment:t,onboardingState:o}=e;try{var a;v().H1(t,(0,M().getContextualizedOnboardingAnalyticsData)({onboardingState:o,environment:t}));const e=T().contextualizedOnboardingStageByStageName[(0,M().getStageName)({flowName:o.flowName,stageIndex:o.currentStageIndex,environment:t})];await(null==e||null===(a=e.onContinue)||void 0===a?void 0:a.call(e,t,o)),await D().A.goToNextStage(t);const n=D().A.state;B(t,n),"undefined"!==n.flowName&&(K(D().A.state,t),v().Pz(t,(0,M().getContextualizedOnboardingAnalyticsData)({onboardingState:n,environment:t})))}catch(n){(0,j().handleOnboardingError)(t,(0,m().A)(n))}}async function F(e){const{environment:t,onboardingState:o}=e;e.skipStageAnalytic?e.skipStageAnalytic():v().IY(t,(0,M().getContextualizedOnboardingAnalyticsData)({onboardingState:o,environment:t})),await z(e)}async function W(e){const{environment:t,currentStage:o,onboardingState:a}=e;try{var n;v().H1(t,(0,M().getContextualizedOnboardingAnalyticsData)({onboardingState:a,environment:t}),!0),await(null===(n=o.onBack)||void 0===n?void 0:n.call(o,t,a)),await D().A.goToPreviousStage(t);const e=D().A.state;B(t,e),K(D().A.state,t),v().eN(t,(0,M().getContextualizedOnboardingAnalyticsData)({onboardingState:a,environment:t})),v().Pz(t,(0,M().getContextualizedOnboardingAnalyticsData)({onboardingState:e,environment:t}))}catch(i){(0,j().handleOnboardingError)(t,(0,m().A)(i))}}async function U({environment:e,currentStage:t,onboardingState:o}){-1!==await(0,P().getPreviousStageIndex)({flowName:o.flowName,stageIndex:o.currentStageIndex,environment:e})?await W({environment:e,currentStage:t,onboardingState:o}):await(0,j().handleExitOnboarding)(o,e)}async function L({isBackDisabled:e,environment:t,currentStage:o,onboardingState:a}){e?await(0,j().handleExitOnboarding)(a,t,!0):await W({environment:t,currentStage:o,onboardingState:a})}async function V(e,t){const o=await y().callApi({eventName:"getPublicSpaceForInvite",environment:t,data:{type:"invite-link",inviteLinkCode:e}});if("success"!==o.type)throw new Error(r().A.formatMessage(w().messages.errorWorkspaceDidNotLoad));const{data:{result:a}}=o;if(!a)throw new Error(r().A.formatMessage(w().messages.errorWorkspaceDoesNotExist));D().A.update((t=>({...t,spaceId:a.id,onboardingData:{...t.onboardingData,inviteCode:e,redirectSpaceId:a.id,canJoinRedirectSpace:!0}})))}async function Q(e){const t=D().A.state;if(!t.onboardingData)throw new Error("OnboardingData not found!");const o=_().sg(t.onboardingData),a=t.emailOptIn;if((0,S().M)(e,{email_optin_product_updates_and_releases:a,email_optin_newsletters_and_thought_leadership:a,email_optin_user_research_and_surveys:a,email_optin_sales_outreach:!0,email_optin_events_and_resources:a,email_optin_product_education_and_how_tos:a,email_optin_notion_for_startups:a}),(0,M().shouldRedirectToJoinSpace)(o)){const a={...t,spaceId:o.spaceId};D().A.setState(a);try{return await D().A.completeOnboarding(e,"join"),!0}catch(i){return(0,j().handleOnboardingError)(e,(0,m().A)(i)),!1}}if((0,M().isPublicAccessPageRedirect)(o))return(0,j().onOnboardingCompletePublicAccess)(t,o,e),!0;const n=b().A.get(_().Zz);if(n){await V(n,e);try{return await D().A.completeOnboarding(e,"join"),!0}catch(i){return(0,j().handleOnboardingError)(e,(0,m().A)(i)),!1}}return!1}function K(e,t){var o;const a=(0,M().getStages)({flowName:e.flowName,environment:t}),n=(null===(o=e.historicalStages)||void 0===o?void 0:o.some((e=>"mobile_profile"===e.stageName)))&&T().contextualizedOnboardingStageByStageName.mobile_profile.shouldSkip(e,t),i=1+a.slice(0,e.currentStageIndex).filter((o=>!T().contextualizedOnboardingStageByStageName[o].shouldSkip(e,t,{disableExposureLogging:!0}))).length+(n?1:0),r=15+i/(i+a.slice(e.currentStageIndex+1).filter((o=>{const a=T().contextualizedOnboardingStageByStageName[o];return!(0,M().estimateWillSkipStage)(a,e,t)})).length)*80;D().A.setState({...e,progressBarPercentage:r})}},503416:(e,t,o)=>{o.d(t,{r:()=>a});const a=(0,o(340498).xh)("arrowInCircleDown",{default:{loader:()=>o.e(96029).then(o.bind(o,973238))},small:{loader:()=>o.e(96029).then(o.bind(o,747012))},fill:{loader:()=>o.e(96029).then(o.bind(o,561604))},fillSmall:{loader:()=>o.e(96029).then(o.bind(o,613131))}},["arrow","circle","down","direction","pointer","downgrade"])},532500:(e,t,o)=>{o.d(t,{I:()=>M});var a=o(296540),n=()=>o(484714),i=()=>o(590526),r=()=>o(401497),s=()=>o(882722),d=()=>o(718827),l=()=>o(118307),c=()=>o(100622),u=()=>o(534663),p=()=>o(866961),g=(o(898992),o(354520),o(581454),()=>o(807449)),f=()=>o(668250),b=()=>o(390635),m=()=>o(792071),v=()=>o(96689),y=()=>o(69708),S=()=>o(498212),h=()=>o(284371),I=()=>o(187820),x=()=>o(453697),w=()=>o(322114),_=()=>o(42909),A=()=>o(79430),j=o(474848);const k=3;function T({joinableSpace:e,isSmallScreen:t,buttonPopupStore:o,spaceStore:a,showGuestPagesPopup:n}){var i;const{id:r,name:s,totalMemberCount:d,topMembersInfo:l,joinabilityStatus:c,createdBy:u,guestPageIds:v,requiredAuthStep:T}=e,M=t&&"PENDING_REQUEST"===c,R=(0,p().U)(M),P=(0,y().tz)(),D=(null==u?void 0:u.name)??P.formatMessage(m().Fvx.messages.anonymousPlaceholder);return(0,j.jsxs)("div",{style:R.workspaceContainerV2,children:[(0,j.jsxs)("div",{style:R.workspaceSpaceInformationV2,children:[(0,j.jsxs)("div",{style:R.workspaceIconV2,children:[(0,j.jsx)(I().B6,{disabled:!0,bucket:"public",icon:C(e),iconRecordCategory:"workspace",isEmptyPage:!1,title:s,size:32,emojiSize:18,style:{borderRadius:6,fontSize:h().J.UISmall.desktop,fontWeight:h().Wy.light},iconBoxStyles:{borderRadius:6},placeholderStyle:{fontWeight:500}}),(0,j.jsxs)("div",{style:R.workspaceTextV2,children:[(0,j.jsxs)("div",{style:R.workspaceNameV2,children:[(0,j.jsx)(y().sA,{defaultMessage:"{workspaceName}",id:"onboardingWorkspaceChoose.chooseWorkspaceButton.label",values:{workspaceName:s}}),"required-saml-auth"===(null==T?void 0:T.type)?(0,j.jsx)("div",{style:R.lockIconContainer,children:(0,j.jsx)(g().I,{icon:b().shieldLockFillIcon,size:"sm"})}):null]}),(0,j.jsx)("div",{style:R.workspaceMemberCountV2,children:M?(0,j.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:2},children:[(0,j.jsx)(g().I,{icon:f().R,size:"sm",colorVariant:"tertiary"}),(0,j.jsx)("div",{style:R.totalMemberCount,children:d})]}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(y().sA,{defaultMessage:"{memberCount, plural, one {{memberCount} member} other {{memberCount} members}}",id:"onboardingWorkspaceChoose.joinWorkspaceButton.memberCount.label",values:{memberCount:d||1}}),D?(0,j.jsxs)(j.Fragment,{children:[" â€¢ ",(0,j.jsx)(y().sA,{defaultMessage:"Created by {creatorName}",id:"onboardingWorkspaceChoose.joinWorkspaceButton.shared.label",values:{creatorName:D}})]}):void 0]})}),n?(0,j.jsx)(A().R,{spaceStore:a,pageIds:v,menuWidth:200,style:{marginTop:4}}):void 0]})]}),M?void 0:(0,j.jsxs)("div",{children:[(0,j.jsx)("span",{style:R.workspaceJoinButtonV2,children:(0,j.jsx)(_().w,{joinabilityStatus:c})}),(0,j.jsx)(w().A,{type:"current-actor-to-space-via-onboarding",spaceId:r,flowId:(0,S().lZ)(),source:"onboarding",popupStore:o})]})]}),M?void 0:(0,j.jsx)("div",{style:R.userAvatarContainerV2,children:null===(i=l.filter((e=>e.profile_photo)))||void 0===i?void 0:i.slice(0,k).map(((e,t)=>{const{id:o,name:a,profile_photo:n}=e;return n?(0,j.jsx)(x().A,{avatar:{name:a,avatarUrl:n},size:24,avatarShouldShowShadow:!1,style:{marginInlineEnd:-6,zIndex:100-t},isOffline:!1,hasTooltip:!1},o):void 0}))}),M?(0,j.jsxs)("div",{style:{display:"flex",marginInlineStart:42,marginTop:16},children:[(0,j.jsx)("span",{style:R.workspaceJoinButtonV2,children:(0,j.jsx)(_().w,{joinabilityStatus:c})}),(0,j.jsx)(w().A,{type:"current-actor-to-space-via-onboarding",spaceId:r,flowId:(0,S().lZ)(),source:"onboarding",popupStore:o})]}):void 0]})}function C(e){if(e.id&&e.spaceIcon)return{pointer:{table:v().NX,id:e.id},icon:e.spaceIcon}}function M({joinableSpace:e,index:t,joinableSpaces:o,joinableSpaceViewType:g,isSmallScreen:f,spaceStore:b,showGuestPagesPopup:m}){const v=(0,n().v3)(),y=(0,p().U)(f),S=(0,i().uB)(void 0,l().A),h=(0,a.useCallback)((async(e,t,o,a,n)=>{await(0,u().N)({environment:e,result:t,index:o,joinableSpaces:a,buttonPopupStore:n,joinableSpaceViewType:g})}),[g]),I=(0,r().IS)((()=>({buttonStyle:{display:"inline-flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",fontSize:14,lineHeight:1.2,border:`1px solid ${c().Tj.outlineButtonBorder}`,boxShadow:"rgba(15, 15, 15, 0.1) 0px 1px 2px",...y.onboardingButtonV2}})),[y.onboardingButtonV2]);return(0,j.jsx)(d().Ay,{className:s().YZL,disabled:!1,style:I.buttonStyle,hoveredStyle:{background:"rgba(55, 53, 47, 0.03)"},pressedStyle:{background:"rgba(55, 53, 47, 0.06)"},onClick:async()=>{await h(v,e,t,o,S)},children:(0,j.jsx)(T,{joinableSpace:e,isSmallScreen:f,buttonPopupStore:S,spaceStore:b,showGuestPagesPopup:m})},e.id)}},534663:(e,t,o)=>{o.d(t,{N:()=>l});o(16280);var a=()=>o(319625),n=()=>o(796756),i=()=>o(687601),r=()=>o(383289),s=()=>o(235921),d=()=>o(768345);async function l({environment:e,result:t,index:o,joinableSpaces:l,buttonPopupStore:c,joinableSpaceViewType:u}){if("CAN_REQUEST"===t.joinabilityStatus)return void(t.requestMembershipCustomizationRedirectUrl?window.open(t.requestMembershipCustomizationRedirectUrl,"_blank"):c&&c.setState({open:!0}));const p=i().I1(t.joinabilityStatus),g=i().O5({joinabilityStatus:t.joinabilityStatus,guestPageIds:t.guestPageIds,spaceId:t.id}),f=s().A.state,b=function(e,t,o){if(!e)throw new Error("Onboarding data not found during workspace choose stage");if("guest_redirect"===(null==o?void 0:o.type))return{...e,redirectSpaceId:o.spaceId,redirectPageId:o.pageId,hasExplicitAccessToRedirectPage:!0,canJoinRedirectSpace:!1};return{...e,redirectSpaceId:t,hasExplicitAccessToRedirectPage:!0,canJoinRedirectSpace:!0}}(f.onboardingData,g.spaceId,g.redirectData),m={...f,spaceId:g.spaceId,onboardingData:b};n().vc(e,{...(0,r().getContextualizedOnboardingAnalyticsData)({onboardingState:m,environment:e,spaceJoinOrCreate:"join"}),join_space_type:p?"guest":"member",joined_space_id:t.id,joined_space_index:o,joined_space_from_domain:"CAN_JOIN"===t.joinabilityStatus,joined_space_has_invite:t.guestPageIds.length>0,num_of_joinable_spaces:(null==l?void 0:l.length)||0,joinable_spaces_view_type:u}),s().A.setState(m);try{await s().A.completeOnboarding(e,"join")}catch(v){(0,d().handleOnboardingError)(e,(0,a().A)(v))}}},551732:(e,t,o)=>{o.d(t,{X:()=>r});var a=()=>o(726637),n=()=>o(613848),i=()=>o(496603);function r(e,t,o){const r=n().A.getData(e,{spaceId:t,userId:e.currentUser.id}),s=!Boolean(null==r?void 0:r.domainIsAutogenerated),d=i().oE([s&&(null==r?void 0:r.domain),"invite",o]).join("/");return`${a().A.domainBaseUrl}/${d}`}},560686:(e,t,o)=>{o.d(t,{ZK:()=>n,aC:()=>i,lO:()=>r});var a=()=>o(496603);function n(e){if(a().sb(e).length<=3)return{success:!1,reason:{type:"password_too_consistent"}};if(e.length>=15)return{success:!0};if(e.length<8)return{success:!1,reason:{type:"password_too_short"}};const t=i(e),o=r(e);return t&&o?{success:!0}:t||o?o?t?{success:!1,reason:{type:"password_too_short"}}:{success:!1,reason:{type:"password_missing_letter"}}:{success:!1,reason:{type:"password_missing_number"}}:{success:!1,reason:{type:"password_missing_letter_and_number"}}}function i(e){return e.match(/[a-z]/i)}function r(e){return e.match(/\d/)}},562984:(e,t,o)=>{o.d(t,{i:()=>i,u:()=>n});var a=()=>o(79926);const n={PersonProfileContainer:new(a().O2)("PersonProfileContainer",(()=>Promise.all([o.e(75134),o.e(71003),o.e(32370),o.e(26264),o.e(80229),o.e(71309),o.e(47431),o.e(14699),o.e(26126),o.e(95576),o.e(77093),o.e(26962),o.e(44632)]).then(o.bind(o,557558)))),extendedUserProfileActions:new(a().O2)("extendedUserProfileActions",(()=>o.e(63717).then(o.bind(o,260513))))},i=(0,a()._h)(n.PersonProfileContainer,(e=>e.PersonProfileContainer))},565744:(e,t,o)=>{o.d(t,{u:()=>a});o(16280);async function a({stripe:e,clientSecret:t}){const{paymentIntent:o,setupIntent:a,error:n}=await e.handleNextAction({clientSecret:t});if(o)return o.status;if(a)return a.status;if(n.payment_intent)return n.payment_intent.status;if(n.setup_intent)return n.setup_intent.status;throw new Error(`Unexpected error handling intent: ${n.message}`)}},578685:(e,t,o)=>{o.r(t),o.d(t,{androidTintableIcon:()=>n,iconDefinition:()=>a});o(296540);const a={viewBox:"0 0 20 20",fittedViewBox:"0.55 4.5 18.88 11.01",svg:(0,o(474848).jsx)("path",{fillRule:"evenodd",d:"M4.132 4.51a.87.87 0 0 1 .824.429l.402.692.558.964.572.987.058.101q.162-.063.326-.121a9.5 9.5 0 0 1 3.025-.524l.097-.001c1.19 0 2.33.22 3.38.62l.086.033.063-.108.571-.987.559-.964.401-.692a.87.87 0 0 1 .824-.43.88.88 0 0 1 .67.42.87.87 0 0 1 .082.712 1 1 0 0 1-.076.169l-.4.692-.559.964-.572.988-.01.018a9.5 9.5 0 0 1 4.365 6.618l-.002.001q.032.208.055.416H.556q.03-.266.072-.531a9.46 9.46 0 0 1 2.673-5.175 9.5 9.5 0 0 1 1.69-1.339l-.003-.007-.573-.988-.96-1.656a.87.87 0 0 1 .308-1.183.9.9 0 0 1 .37-.118m2.091 6.698c-.378-.252-.935-.077-1.245.39-.31.465-.255 1.047.122 1.299s.935.078 1.245-.389c.31-.466.255-1.049-.122-1.3m8.803.387c-.31-.466-.868-.64-1.245-.389-.378.252-.432.834-.123 1.3.31.466.867.64 1.245.389.377-.252.433-.833.123-1.3",clipRule:"evenodd"})},n=(0,o(340498).wt)("androidTintable",a,"tintable")},582676:(e,t,o)=>{o.d(t,{HO:()=>n,Nx:()=>i,mT:()=>r});o(898992),o(908872);var a=()=>o(496603);function n([e,t]){return Math.floor(function([e,t]){return Math.random()*(t-e)+e}([e,t]))}function i(e){if(!e)return Math.random;let t=function(e){let t=0;for(let o=0;o<e.length;o++){t=(t<<5)-t+e.charCodeAt(o),t|=0}return t}(e);return()=>{t|=0,t=t+1831565813|0;let e=Math.imul(t^t>>>15,1|t);return e=e+Math.imul(e^e>>>7,61|e)^e,((e^e>>>14)>>>0)/4294967296}}function r(e,t){const o=i(t);return(0,a().Ul)(e,o)}},585262:(e,t,o)=>{o.d(t,{X:()=>r});var a=()=>o(496414),n=()=>o(435777),i=()=>o(565744);async function r(e){a().m({message:n().D.finishingUp});const{paymentIntentData:t,stripe:o,onSuccess:r,onFailure:s}=e,d=t.paymentIntentClientSecret;let l=t.paymentIntentStatus;d&&"requires_action"===l&&(l=await(0,i().u)({stripe:o,clientSecret:d})),"succeeded"===l||"processing"===l?null==r||r():function({status:e}){return["requires_payment_method","requires_source"].includes(e)}({status:l})&&(null==s||s()),a().V()}},592791:(e,t,o)=>{o.d(t,{V:()=>W});o(944114),o(898992),o(803949),o(581454);var a=o(296540),n=()=>o(726637),i=()=>o(312788),r=()=>o(484714),s=()=>o(590526),d=()=>o(401497),l=()=>o(792057),c=()=>o(295633),u=()=>o(30537),p=()=>o(250910),g=()=>o(118307),f=()=>o(388926),b=()=>o(807449),m=()=>o(546926),v=()=>o(631524),y=()=>o(26697),S=()=>o(890492),h=()=>o(81068),I=()=>o(424400),x=()=>o(449279),w=()=>o(663639),_=()=>o(736847),A=()=>o(584262),j=()=>o(324254),k=()=>o(911259),T=()=>o(599813),C=()=>o(179034),M=()=>o(69708),R=()=>o(100622),P=()=>o(205224),D=()=>o(492414),N=()=>o(397103),E=()=>o(408895),O=()=>o(134217),B=()=>o(305390),z=()=>o(597703),F=o(474848);function W({spaceStore:e,guestStore:t,isSubscribed:o,guestPageIds:i,hideActionButtons:r,renderOrigin:d,menuWidth:l}){const f=(0,s().uB)(void 0,g().A),b=(0,a.useCallback)((()=>(0,F.jsx)(U,{spaceStore:e,guestStore:t,isSubscribed:o,guestPageIds:i,hideActionButtons:r,buttonPopupStore:f,menuWidth:l})),[e,t,o,i,r,f,l]);return(0,s().K8)((()=>i.map((t=>{c().B.createChildStore(e,{table:C().ev,id:t}).load()}))),[e,i]),0===i.length?(0,F.jsx)(v().p,{disabled:!0,children:(0,F.jsx)(M().sA,{id:"guestPagesPopup.permissionsForUserGuest.label",defaultMessage:"Guest"})}):(0,F.jsx)(p().A,{popupType:n().A.isMobile?u().n.BottomSheet:u().n.Popup,renderOrigin:e=>d?d(e):(0,F.jsx)(v().p,{...e,iconTrailing:{icon:j().arrowChevronSingleDownSmallIcon,colorVariant:"tertiary",size:"xs"},children:(0,F.jsx)(M().sA,{id:"guestPagesPopup.page",defaultMessage:"{numberOfAccessiblePages, plural, one {{numberOfAccessiblePages} page} other {{numberOfAccessiblePages} pages}}",values:{numberOfAccessiblePages:i.length}})}),buttonPopupStore:f,render:b})}function U({spaceStore:e,guestStore:t,isSubscribed:o,guestPageIds:u,hideActionButtons:p,buttonPopupStore:g,menuWidth:v}){const{navigate:j}=(0,a.useContext)(i().E),W=(0,r().v3)(),U=(0,a.useCallback)((()=>function(e){const{environment:t,spaceStore:o,guestStore:a,buttonPopupStore:n}=e;l().ui({showCancel:!0,keepFocus:!1,message:(0,F.jsx)(M().sA,{id:"guestPagesPopup.removeGuestModal.confirmationMessage",defaultMessage:"Are you sure you want to remove this person? They will lose access to all shared pages."}),items:[{label:(0,F.jsx)(M().sA,{id:"guestPagesPopup.removeGuestModal.removeButton.label",defaultMessage:"Remove"}),color:"red",onAccept:async()=>{n.setState({...n.state,open:!1}),await P().D({environment:t,guestUserStore:a,spaceStore:o})}}]})}({environment:W,spaceStore:e,guestStore:t,buttonPopupStore:g})),[W,e,t,g]),L=(0,a.useCallback)((()=>async function(e){const{environment:t,spaceStore:o,guestStore:a,isSubscribed:n,buttonPopupStore:i}=e;i.setState({...i.state,open:!1});const r=n?"member":"owner";await P().P({environment:t,guestUserStore:a,membershipType:r,spaceStore:o,origin:"guest_pages_popup"})}({environment:W,spaceStore:e,guestStore:t,isSubscribed:o,buttonPopupStore:g})),[W,e,t,o,g]),V=(0,s().K8)((()=>e.canEditMembership()),[e]),Q=(0,d().IS)((()=>({messageMenuItem:{color:R().Tj.text.secondary,paddingInline:12,paddingTop:8,paddingBottom:8},settingsMenuItem:{color:R().Tj.text.secondary,padding:8},divider:{minHeight:0},upgradeToMember:{paddingBottom:4,paddingInline:8},removeGuest:{paddingInline:8,paddingBottom:4,color:R().Tj.red.text.accentPrimary},inlineButton:{width:"auto"},actionButtons:{padding:4}})),[]),{noAccessGuestPageStores:K,navigableGuestPageStores:G}=function(e){const{spaceStore:t,guestPageIds:o}=e;return(0,s().K8)((()=>{const e=[],a=[];return o.forEach((o=>{const n=c().B.createChildStore(t,{table:C().ev,id:o});n.canRead()?a.push(n):e.push(n)})),{noAccessGuestPageStores:e,navigableGuestPageStores:a}}),[t,o])}({spaceStore:e,guestPageIds:u}),H=G.map((e=>({key:e.id,render:t=>(0,F.jsx)(B().A,{...t,store:e,placeholder:(0,F.jsx)(M().sA,{id:"guestPagesPopup.privatePagePlaceholder",defaultMessage:"Private page"})}),action:()=>{const t=(0,D().Ay)({store:e,fullyQualified:!1,pageVisitSource:A().y8.LinkInPage});j({environment:W,url:t,openInNew:"tab"})}})));if(K.length>0){const e={key:"guest-pages-popup-no-access-summary",render:e=>(0,F.jsx)(z().H,{...e,noAccessPageCount:K.length}),action:()=>{}};H.push(e)}let Z;Z=n().A.isMobile?{menuType:m().gu.ActionSheet}:{menuType:m().gu.Popup,width:v??300};const q=(0,N().h)(e),J=(0,s().K8)((()=>function(e){const{spaceId:t,userId:o}=e,a=(0,E().M)({spaceId:t,userId:o,enforceIdsCheck:!1,debugFrom:"GuestPagesPopup.getIsSubscribed"});return Boolean(a&&(0,O().Fq)(a))}({spaceId:e.id,userId:W.currentUser.id})),[W.currentUser.id,e.id]);let $,Y;q&&($=(0,F.jsx)(y().m,{renderTooltip:()=>J?(0,F.jsx)(M().sA,{id:"guestPagesPopup.addMemberPermissionButton.tooltip",defaultMessage:"This guest will become a member of this workspace."}):(0,F.jsx)(M().sA,{id:"guestPagesPopup.addAdminPermissionButton.tooltip",defaultMessage:"This guest will become an admin of this workspace."}),render:e=>(0,F.jsx)(h().A,{focused:!1,icon:(0,F.jsx)(b().I,{icon:k().arrowInCircleUpIcon}),title:J?(0,F.jsx)(M().sA,{id:"guestPagesPopup.addMemberPermissionButton.label",defaultMessage:"Convert to member"}):(0,F.jsx)(M().sA,{id:"guestPagesPopup.addAdminPermissionButton.label",defaultMessage:"Convert to admin"}),style:Q.upgradeToMember,buttonStyle:Q.inlineButton,onClick:L,...e})}),Y=(0,F.jsx)(y().m,{renderTooltip:()=>(0,F.jsx)(M().sA,{id:"guestPagesPopup.removeGuestSettingsButton.tooltip",defaultMessage:"This guest will be removed from the workspace"}),render:e=>(0,F.jsx)(h().A,{focused:!1,icon:(0,F.jsx)(b().I,{icon:T().xMarkIcon}),title:(0,F.jsx)(M().sA,{id:"guestPagesPopup.removeGuestPermissionButton.label",defaultMessage:"Remove guest"}),style:Q.removeGuest,buttonStyle:Q.inlineButton,onClick:U,...e})}));const X=!p&&V;return(0,F.jsxs)(S().A,{...Z,children:[X?(0,F.jsx)(x().u,{style:Q.messageMenuItem,title:1===H.length?(0,F.jsx)(M().sA,{id:"guestPagesPopup.guestHasAccessToSinglePageCaption",defaultMessage:"Guest page"}):(0,F.jsx)(M().sA,{id:"guestPagesPopup.guestHasAccessToMultiplePagesCaption",defaultMessage:"Guest pages"})}):void 0,(0,F.jsx)(w().A,{type:w().O.Vertical,initialFocus:0,sections:[{key:"pages",render:e=>(0,F.jsx)(_().A,{...e}),items:H}]}),X?(0,F.jsxs)("div",{style:Q.actionButtons,children:[(0,F.jsx)(I().Ay,{title:(0,F.jsx)(f().A,{size:1}),style:Q.divider}),(0,F.jsx)(x().u,{style:Q.settingsMenuItem,title:(0,F.jsx)(M().sA,{id:"guestPagesPopup.Settings",defaultMessage:"Settings"})}),q?$:null,Y]}):void 0]})}},597703:(e,t,o)=>{o.d(t,{H:()=>c});o(296540);var a=()=>o(401497),n=()=>o(807449),i=()=>o(449279),r=()=>o(345016),s=()=>o(69708),d=()=>o(100622),l=o(474848);function c(e){const{noAccessPageCount:t,...o}=e,c=(0,a().IS)((()=>({noAccessSummary:{display:"flex",alignItems:"center",gap:8,color:d().Tj.text.secondary},noAccessRight:{color:d().Tj.text.secondary,fontSize:12}})),[]);return(0,l.jsx)(i().u,{...o,title:(0,l.jsxs)("div",{style:c.noAccessSummary,children:[(0,l.jsx)(n().I,{icon:r().C}),(0,l.jsx)(s().sA,{id:"guestPagesPopup.noAccessSummary",defaultMessage:"{count, plural, one {# shared or private page} other {# shared or private pages}}",values:{count:t}})]}),right:(0,l.jsx)("div",{style:c.noAccessRight,children:(0,l.jsx)(s().sA,{id:"guestPagesPopup.noAccessSummaryTag",defaultMessage:"No access"})})})}},601203:(e,t,o)=>{o.d(t,{Kz:()=>y,Lv:()=>b,Qe:()=>f,gM:()=>S,qu:()=>m,sM:()=>v});var a=()=>o(755531),n=()=>o(251111),i=()=>o(660237),r=()=>o(795523),s=()=>o(816758),d=()=>o(496603),l=()=>o(769864),c=()=>o(643737),u=()=>o(981046),p=()=>o(720503),g=()=>o(779795);async function f({environment:e,billingData:t,lineItems:o,memberCount:i,billingInterval:s,vatId:d,addOn:f,onlyShowAddOn:b,isCheckoutAddressFormExperimentEnabled:m,...v}){var y;const S=p().A.state;if(!S.open||!t)return;const h=m,I=h?v.address:(null==t?void 0:t.address)??S.temporaryAddress;if(!(0,n().Z)(I))return;p().A.update((e=>({...e,calculatingTax:!0})));const x=s??S.temporaryBillingInterval??"year",w=f??S.addOnFeature,_=b??S.onlyShowAddOn,A=null===(y=(0,a().S)())||void 0===y?void 0:y.id;if(!A)return;const j=await g().p_({environment:e,spaceId:A}),{planAmount:k,promoInfo:T,accountBalance:C}=(0,c().T)({memberCount:i,promo:h?v.promo:S.appliedPromo,currencyCode:u().H.selectedCurrencyCode,billingData:t,addOnFeature:w,onlyShowAddOn:_,subscriptionTier:S.subscriptionTier,taxAmount:S.taxAmount,calculatingTax:S.calculatingTax,billingInterval:x,offer:S.offer,prices:j}),M=Math.max(0,k-T.amount+C),R=await l().callApi({eventName:"calculateTax",environment:e,data:{address:I,lineItems:o,price:M,vatId:d??(S.vatApplicable?S.temporaryVatCode:void 0),customerId:(0,r().Rz)(t)}});if("failed"===R.type)p().A.update((e=>({...e,taxAmount:void 0,calculatingTax:!1})));else{const e=R.data;e.valid?p().A.update((t=>({...t,taxAmount:e.taxAmount,calculatingTax:!1,taxCalculationError:void 0}))):p().A.update((t=>({...t,taxAmount:void 0,calculatingTax:!1,taxCalculationError:e.error})))}}async function b(e){const t=await l().callApi({eventName:"getGeoIpLocation",environment:e,data:{}});if("success"!==t.type)return!1;const o=t.data.countryCodeFromIp;return!!(0,i().Ef)(o)&&(0,s().kg)(o)}async function m(e){const{environment:t,billingData:o,stripeData:a,taxableAmount:i,lineItems:s}=e,{address:d}=null!=o&&o.address?{address:null==o?void 0:o.address}:e,c=(null==a?void 0:a.vatId)??(o?(0,r().t_)(o,"vat"):void 0);if(!d||!(0,n().Z)(d))return;const u=(0,r().Rz)(o),p=await l().callApi({eventName:"calculateTax",environment:t,data:{address:d,price:i.amount,vatId:c,customerId:u,lineItems:s}});if("failed"===p.type)return;const g=p.data;return g.valid?g.taxAmount:void 0}function v({price:e,quantity:t,promo:o}){if(!e)return;if(void 0===e.unitAmount)return;if("free"===e.product)return;const a=u().H.getProductId(e.product);if(!a)return;return{amount:e.unitAmount.amount*t-e.getDiscountPerBillingInterval({quantity:t,promo:o}).amount,productId:a}}function y(e){if("free"===e.price.product)return;const t=u().H.getProductId(e.price.product);return t?{amount:e.price.unitAmount.amount*e.quantity,productId:t}:void 0}function S({line:e}){var t;const o=(0,d().xu)(e.discount_amounts??[],"amount"),a=null!==(t=e.pricing)&&void 0!==t&&null!==(t=t.price_details)&&void 0!==t&&t.product?"string"==typeof(n=e.pricing.price_details.product)?n:n.id:u().H.getProductId("plus")??"";var n;return{amount:e.amount-o,productId:a}}},603981:(e,t,o)=>{e.exports=o.p+"cf983098d6faab39.png"},643737:(e,t,o)=>{o.d(t,{T:()=>g});o(944114),o(296540);var a=()=>o(643819),n=()=>o(807487),i=()=>o(69708),r=()=>o(275764),s=(o(898992),o(672577),()=>o(740461)),d=()=>o(166386),l=()=>o(979340);function c(e,t,o,a){return"year"===a?t*o:e*o}function u(e){const{memberCount:t,subscriptionTier:o,addOnFeature:a,billingInterval:n,prices:i,offer:r,currencyCode:u}=e,p=function(e){const{subscriptionTier:t,addOnFeature:o}=e;return o||((0,l().dL)(t)?"free":t)}({subscriptionTier:o,addOnFeature:a}),g=i.find((e=>"year"===e.billingInterval&&e.product===p&&e.unitAmount.currencyCode===u)),f=i.find((e=>"month"===e.billingInterval&&e.product===p&&e.unitAmount.currencyCode===u)),b=function(e,t){return t&&e&&"coupon"===(null==t?void 0:t.type)&&(0,s().FV)(null==t?void 0:t.campaign,e)?1-(0,d().vk)(t,"decimal_number"):1}(p,r),m=(null==f?void 0:f.unitAmount.amount)??0*b,v=(null==g?void 0:g.unitAmount.amount)??0*b;return{monthlyUnitPrice:m,yearlyUnitPrice:v,planAmount:c(m,v,t,n)}}var p=o(474848);function g(e){const{billingData:t,subscriptionTier:o,memberCount:s,currencyCode:d,promo:l,onlyShowAddOn:c,calculatingTax:g,taxAmount:f,addOnFeature:b,billingInterval:m,offer:v,prices:y}=e,S=(0,r().o2)(t,d).amount;let h=0,I=0,x=0;if(!c){const e=u({subscriptionTier:o,memberCount:s,billingInterval:m,prices:y,currencyCode:d});h+=e.yearlyUnitPrice,I+=e.monthlyUnitPrice,x+=e.planAmount}if(b){const e=u({subscriptionTier:o,memberCount:s,addOnFeature:b,billingInterval:m,offer:v,prices:y,currencyCode:d});h+=e.yearlyUnitPrice,I+=e.monthlyUnitPrice,x+=e.planAmount}const w=(0,n().ex)(x,l),_=a().W.fromValue({amount:x-w.amount+S+(f&&!g?f:0),currencyCode:d}).zeroIfNegative(),A=[{type:"standard",name:(0,p.jsx)(i().sA,{id:"subscriptionHelpers.lineItems.subTotal",defaultMessage:"Subtotal"}),price:a().W.fromValue({amount:x,currencyCode:d})}];return A.push({type:g?"calculating":"standard",name:(0,p.jsx)(i().sA,{id:"subscriptionHelpers.lineItems.taxIfApplicable.title",defaultMessage:"Tax if applicable"}),price:a().W.fromValue({amount:x,currencyCode:d})}),0!==w.amount&&A.push({type:"promotion",name:(0,p.jsx)(i().sA,{id:"subscriptionHelpers.lineItems.promo",defaultMessage:"Coupon"}),price:a().W.fromValue({amount:w.amount,currencyCode:d}),subtitle:w.monthsRemaining?(0,p.jsx)(i().sA,{id:"subscriptionHelpers.lineItems.promo.subtitle",defaultMessage:"Valid for {durationInMonths} months",values:{durationInMonths:w.monthsRemaining}}):void 0}),S<0&&A.push({type:"promotion",name:(0,p.jsx)(i().sA,{id:"subscriptionHelpers.lineItems.balance",defaultMessage:"Balance"}),price:a().W.fromValue({amount:-S,currencyCode:d})}),{yearlyUnitPrice:h,monthlyUnitPrice:I,planAmount:x,payAmount:_,accountBalance:S,lineItems:A,promoInfo:w}}},644837:(e,t,o)=>{o.d(t,{j:()=>n});class a extends(()=>o(757695))().Store{getInitialState(){return{open:!1}}open(e){this.setState({open:!0,...e})}}const n=new a},648614:(e,t,o)=>{e.exports=o.p+"5a884216e9141156.png"},651390:(e,t,o)=>{o.d(t,{H:()=>i});var a=()=>o(484714),n=()=>o(590526);function i(e){const{billingInterval:t,priceStore:o,products:i}=e,r=(0,a().v3)();return(0,n().K8)((()=>{const e={};for(const a of i)e[a]=o.getPrice(r,(e=>e.product===a&&e.billingInterval===t));return e}),[t,r,o,i],{useDeepEqual:!0})}},673657:(e,t,o)=>{o.d(t,{n:()=>i});var a=()=>o(590526),n=()=>o(964345);function i(e){return(0,a().K8)((()=>n().gZ.state&&(null==e?void 0:e.id)===n().Di.state),[e])}},674579:(e,t,o)=>{o.d(t,{Y:()=>i});var a=()=>o(401497),n=()=>o(100622);function i(){return(0,a().IS)((()=>({bulletList:{paddingInlineStart:0,marginBlock:"0px 0px",listStyleType:"none"},bulletItem:{display:"flex",minHeight:24,alignItems:"center"},bulletItemContent:{display:"flex",gap:4},bulletItemContentMultiLineExtra:{paddingTop:4,paddingBottom:4},bulletItemCheckmarkContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},bulletItemCheckmarkContainerMultiLineExtra:{alignItems:"flex-start",paddingTop:2,justifyContent:void 0},coloredRow:{display:"flex",flexDirection:"row",gap:12,backgroundColor:n().Tj.background.secondary,borderRadius:12},column:{width:"100%",minWidth:150,paddingTop:10,paddingBottom:12},rowFeatureTitle:{display:"flex",alignItems:"center",gap:4,justifyContent:"flex-start"},featureDetailsStyle:{paddingTop:12},gridSectionTitle:{paddingInlineStart:12},gridSection:{display:"flex",flexDirection:"column",gap:42},row:{display:"flex",flexDirection:"row",gap:12},tooltip:{width:156},tooltipWithImageExtra:{paddingInlineStart:8,paddingInlineEnd:8,paddingTop:8,paddingBottom:6},lastRow:{borderBottom:`1px solid ${n().Tj.border.secondary}`},sidebar:{width:"100%",paddingTop:12,paddingBottom:12,maxWidth:118},titleSection:{paddingInlineStart:12}})),[])}},682497:(e,t,o)=>{o.d(t,{o:()=>i});var a=()=>o(79926);const n=new(a().O2)("PageError",(async()=>Promise.all([o.e(44711),o.e(35837),o.e(38293),o.e(91793),o.e(19456),o.e(65375),o.e(77808),o.e(22114),o.e(5331),o.e(5077),o.e(66960)]).then(o.bind(o,552765)))),i=(0,a()._h)(n,(e=>e.PageError))},714309:(e,t,o)=>{o.d(t,{O:()=>i,a:()=>r});o(296540);var a=()=>o(69708),n=o(474848);const i={todos:{title:(0,n.jsx)(a().sA,{id:"OnboardingSurvey.category.question.todos",defaultMessage:"To-do list"}),iconName:"list"},projectsTasks:{title:(0,n.jsx)(a().sA,{id:"OnboardingSurvey.category.question.projectsTasks",defaultMessage:"Project tracking"}),iconName:"checklist"},habitWellness:{title:(0,n.jsx)(a().sA,{id:"OnboardingSurvey.category.question.habitWellness",defaultMessage:"Habit tracking"}),iconName:"checkmark-line"},budgetPersonalFinance:{title:(0,n.jsx)(a().sA,{id:"OnboardingSurvey.category.question.budgetPersonalFinance",defaultMessage:"Personal finance"}),iconName:"currency-coin"},travel:{title:(0,n.jsx)(a().sA,{id:"OnboardingSurvey.category.question.travel",defaultMessage:"Travel"}),iconName:"airplane"},hobbies:{title:(0,n.jsx)(a().sA,{id:"OnboardingSurvey.category.question.hobbies",defaultMessage:"Hobbies"}),iconName:"baseball"},careerBuilding:{title:(0,n.jsx)(a().sA,{id:"OnboardingSurvey.category.question.careerBuilding",defaultMessage:"Career building"}),iconName:"briefcase"},foodNutrition:{title:(0,n.jsx)(a().sA,{id:"OnboardingSurvey.category.question.foodNutrition",defaultMessage:"Food & nutrition"}),iconName:"apple"},websiteBuildingForLife:{title:(0,n.jsx)(a().sA,{id:"OnboardingSurvey.category.question.websiteBuildingForLife",defaultMessage:"Site or blog"}),iconName:"laptop"},entertainment:{title:(0,n.jsx)(a().sA,{id:"OnboardingSurvey.category.question.entertainment",defaultMessage:"Books and media"}),iconName:"tv"}},r={planner:{title:(0,n.jsx)(a().sA,{id:"OnboardingSurvey.category.question.planner",defaultMessage:"Planner"}),iconName:"calendar"},notes:{title:(0,n.jsx)(a().sA,{id:"OnboardingSurvey.category.question.notes",defaultMessage:"Notes"}),iconName:"official-document"},research:{title:(0,n.jsx)(a().sA,{id:"OnboardingSurvey.category.question.research",defaultMessage:"Research"}),iconName:"graduate"},clubs:{title:(0,n.jsx)(a().sA,{id:"OnboardingSurvey.category.question.clubs",defaultMessage:"Clubs and organizations"}),iconName:"people"},teachingLessonPlans:{title:(0,n.jsx)(a().sA,{id:"OnboardingSurvey.category.question.teachingLessonPlans",defaultMessage:"Lesson plans"}),iconName:"bookmark"},teachingClassroomManagement:{title:(0,n.jsx)(a().sA,{id:"OnboardingSurvey.category.question.teachingClassroomManagement",defaultMessage:"Classroom management"}),iconName:"apple"},websiteBuildingForSchool:{title:(0,n.jsx)(a().sA,{id:"OnboardingSurvey.category.question.websiteBuildingForSchool",defaultMessage:"Site or blog"}),iconName:"laptop"},internshipApplications:{title:(0,n.jsx)(a().sA,{id:"OnboardingSurvey.category.question.internshipApplications",defaultMessage:"Job applications"}),iconName:"binoculars"},groupProjects:{title:(0,n.jsx)(a().sA,{id:"OnboardingSurvey.category.question.groupProjects",defaultMessage:"Group projects"}),iconName:"meeting"}}},720503:(e,t,o)=>{o.d(t,{A:()=>n});class a extends(()=>o(757695))().Store{getInitialState(){return{open:!1}}closeWithSuccess(){this.setState({open:!1,succeeded:!0})}closeWithFailure(){this.setState({open:!1,succeeded:!1})}open(e){const{subscriptionTier:t,addOnFeature:o,billingInterval:a,isTrial:n,sessionId:i,dismissMobilePlansModal:r,postUpgradeCallback:s,from:d,offer:l}=e;this.setState({open:!0,temporaryBillingInterval:a,temporaryAddress:{name:"",businessName:"",addressLine1:"",addressLine2:"",zipCode:"",city:"",state:"",country:""},appliedPromo:void 0,error:void 0,subscriptionTier:t,vatApplicable:!1,calculatingTax:!1,payButtonState:"enabled",type:"current_space",addOnFeature:o,onlyShowAddOn:void 0!==o,sessionId:i,isTrial:n,dismissMobilePlansModal:r,postUpgradeCallback:s,from:d,offer:l})}setAddressField(e){this.state.open&&this.setState({...this.state,temporaryAddress:{...this.state.temporaryAddress,...e},taxCalculationError:void 0})}}const n=new a},725340:(e,t,o)=>{o.r(t),o.d(t,{blockLimitIcon:()=>i,iconDefinition:()=>n});o(296540);var a=o(474848);const n={viewBox:"0 0 20 20",fittedViewBox:"2.72 1.77 17.28 16.45",svg:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{d:"M10.302 1.853a.63.63 0 0 0-.604 0l-6.65 3.669c-.2.11-.323.32-.323.547v7.862c0 .228.124.437.323.547l6.65 3.67a.63.63 0 0 0 .604 0l2.801-1.546a4.6 4.6 0 0 1-.713-1.034l-1.765.973v-6.434l5.4-2.98v1.797a4.7 4.7 0 0 1 1.25.04V6.07a.63.63 0 0 0-.323-.547zM3.975 7.127l5.4 2.98v6.434l-5.4-2.98zM15.356 6.07 10 9.024 4.644 6.069 10 3.114z"}),(0,a.jsx)("path",{d:"M13.592 15.449a3.5 3.5 0 1 1 5.816-3.897 3.5 3.5 0 0 1-5.816 3.897M16.5 11.03a.5.5 0 0 0-.5.5v2.031a.5.5 0 0 0 1 0v-2.03a.5.5 0 0 0-.5-.5m0 5a.625.625 0 1 0 0-1.25.625.625 0 0 0 0 1.25"})]})},i=(0,o(340498).wt)("blockLimit",n,"default")},742734:(e,t,o)=>{o.d(t,{E:()=>r});var a=()=>o(230711),n=()=>o(590526),i=()=>o(304228);function r(e){const{spaceStore:t,viewedUserId:o}=e,r=(0,a().nB)(t),s=(0,a().V_)({spaceStore:t,userId:o});return(0,n().K8)((()=>(0,i().V)({spaceStore:t,actorRole:r,viewedRole:s})),[t,r,s])}},755195:(e,t,o)=>{o.d(t,{H4:()=>a().H,_7:()=>n()._});var a=()=>o(651390),n=()=>o(480013)},757156:(e,t,o)=>{o.r(t),o.d(t,{onboardingFlowNameToFlowConfig:()=>v});var a=o.n(o(794148)),n=()=>o(564884),i=()=>o(907258),r=()=>o(755531),s=()=>o(242422),d=()=>o(726637),l=()=>o(802149),c=()=>o(867899),u=()=>o(496414),p=()=>o(285518),g=()=>o(687601),f=()=>o(151168),b=()=>o(129286),m=()=>o(322920);const v={samsung_preload_onboarding_flow:{isEnabledForDesktop:!1,isEnabledForMobile:!0,getMobileStages:e=>["mobile_profile","mobile_onboarding_workspace_choose","mobile_onboarding_plan_type_choose","mobile_onboarding_collaborative_intent_choose","mobile_team_onboarding_function","mobile_team_onboarding_role","mobile_team_onboarding_company_size","mobile_onboarding_category_survey","mobile_team_onboarding_use_cases","mobile_team_onboarding_workspace_create",...(0,m().getMobileTutorialStages)(e)],onStartFlow:()=>{},onCompleteFlow:async(e,t,o)=>{const{defaultOnboardingComplete:a}=await c().contextualizedOnboardingDeps.contextualizedOnboardingActions.load();await a(e,o,{shouldApplyTrial:!0})},shouldShowFlowToUser:async e=>{if(!(0,o(201794).T)("isSamsungPreload"))return!1;const t=e.device.mobileNativeUniqueId;if(!t)return!1;const a=(0,o(807778).Ls)()?"samsung_tablet_preload_2025_business":"samsung_tablet_preload_2025",n=await(0,o(749356).Cy)(e,{spaceId:void 0,offerCampaign:a,deviceId:{type:"android",id:t}});return Boolean(n)}},partner_program_onboarding_flow:{isEnabledForDesktop:!0,isEnabledForMobile:!0,getDesktopStages:()=>["profile","offer_eligibility_workspace_choose","onboarding_plan_type_choose","onboarding_collaborative_intent_choose","onboarding_category_survey",..."on"===s().default.getEligibleGroup({experimentId:"onboarding_split_team_survey",defaultGroup:"control",disableExposureLogging:!0})?["team_onboarding_function","team_onboarding_role","team_onboarding_company_size"]:["team_onboarding_persona_survey"],"team_onboarding_use_cases","team_onboarding_workspace_create","partner_program_onboarding_checkout"],getMobileStages:e=>["mobile_partner_program_redeem_info"],onStartFlow:()=>{},onCompleteFlow:async(e,t,o)=>{if("partner_program_onboarding_flow"!==t.flowName||!t.onboardingData)return;if((0,l().fu)(),t.selectedEligibleWorkspaceId){var a,n;const{redirectAfterContextualizedOnboardingComplete:o}=await c().contextualizedOnboardingDeps.contextualizedOnboardingActions.load(),s=(0,g().sg)(t.onboardingData);return void(await o({environment:e,spaceViewId:null===(a=i().default.state.sidebarSpaceViewStore)||void 0===a?void 0:a.id,spaceId:null===(n=(0,r().S)())||void 0===n?void 0:n.id,onboardingData:t.onboardingData,spaceJoinOrCreate:"join",redirectData:s,onboardingFlow:t.flowName,onboardingState:t,permissionLevel:(0,g().S1)(s)}))}const{defaultOnboardingComplete:s}=await c().contextualizedOnboardingDeps.contextualizedOnboardingActions.load();await s(e,o)},shouldShowFlowToUser:e=>void 0!==(0,l().OC)()},startup_trial_onboarding_flow:{isEnabledForDesktop:!0,isEnabledForMobile:!1,getDesktopStages:()=>["profile","startup_application_survey","offer_eligibility_workspace_choose","team_onboarding_workspace_create","team_onboarding_timed_trial_checkout"],onStartFlow:()=>{},onCompleteFlow:async(e,t,a)=>{if("startup_trial_onboarding_flow"!==t.flowName||!t.onboardingData)return;if((0,l().JW)(),t.selectedEligibleWorkspaceId){var n,s;const{redirectAfterContextualizedOnboardingComplete:o}=await c().contextualizedOnboardingDeps.contextualizedOnboardingActions.load(),a=(0,g().sg)(t.onboardingData);return void(await o({environment:e,spaceViewId:null===(n=i().default.state.sidebarSpaceViewStore)||void 0===n?void 0:n.id,spaceId:null===(s=(0,r().S)())||void 0===s?void 0:s.id,onboardingData:t.onboardingData,spaceJoinOrCreate:"join",redirectData:a,onboardingFlow:t.flowName,onboardingState:t,permissionLevel:(0,g().S1)(a)}))}if(t.startupTrialCampaign&&(0,o(534177).Xk)(o(538948).jy,t.startupTrialCampaign)){const{defaultOnboardingComplete:t}=await c().contextualizedOnboardingDeps.contextualizedOnboardingActions.load();return void(await t(e,a,{shouldApplyTrial:!0}))}const{defaultOnboardingComplete:d}=await c().contextualizedOnboardingDeps.contextualizedOnboardingActions.load();await d(e,a)},shouldShowFlowToUser:()=>{var e;if(!("on"===s().default.getEligibleGroup({experimentId:"streamlined_startup_funnel_reverse_trial",defaultGroup:"control",disableExposureLogging:!0})))return!1;if(!(void 0!==(0,l().Qp)()))return!1;return"professional"===(null===(e=i().default.state.currentUserSettingsStore)||void 0===e||null===(e=e.getSettings())||void 0===e?void 0:e.domain_type)}},meeting_notes_flow:{isEnabledForDesktop:!0,isEnabledForMobile:!0,getDesktopStages:()=>["profile","onboarding_workspace_choose","team_onboarding_workspace_create","team_onboarding_timed_trial_checkout"],getMobileStages:e=>["mobile_profile","mobile_onboarding_workspace_choose","mobile_team_onboarding_workspace_create"],onStartFlow:()=>{},shouldShowFlowToUser:(e,t)=>0===((0,p().R)(i().default.state.currentUserRootStore)??0)&&"meeting_notes"===(0,l().J0)()},notion_for_work_flow:{isEnabledForDesktop:!0,isEnabledForMobile:!1,getDesktopStages:()=>["profile",..."on"===s().default.getEligibleGroup({experimentId:"onboarding_split_team_survey",defaultGroup:"control",disableExposureLogging:!0})?["team_onboarding_function","team_onboarding_role","team_onboarding_company_size"]:["team_onboarding_persona_survey"],"team_onboarding_use_cases","team_onboarding_workspace_create","team_onboarding_invite","team_onboarding_timed_trial_checkout"],shouldShowFlowToUser:()=>0===((0,p().R)(i().default.state.currentUserRootStore)??0)&&"notion_for_work"===(0,l().J0)(),onStartFlow:()=>{}},form_response_onboarding:{isEnabledForDesktop:!0,isEnabledForMobile:!0,getDesktopStages:()=>["profile","onboarding_workspace_choose"],getMobileStages:()=>["mobile_profile","mobile_onboarding_workspace_choose"],onStartFlow:()=>{},onCompleteFlow:async(e,t,n)=>{a()("form_response_onboarding"===t.flowName);const{defaultOnboardingComplete:i}=await c().contextualizedOnboardingDeps.contextualizedOnboardingActions.load();await i(e,n),(0,o(726956).V)({formResponseId:t.formResponseId,secretKey:t.secretKey,formSpaceId:t.formSpaceId})},shouldShowFlowToUser:()=>0===(0,p().R)(i().default.state.currentUserRootStore)&&(0,o(326406).A)()},mail_onboarding:{isEnabledForDesktop:!0,isEnabledForMobile:!0,getDesktopStages:()=>[],getMobileStages:()=>[],onStartFlow:()=>{},onCompleteFlow:async(e,t,a)=>{const{setAndTrackContextualizedOnboardingComplete:n}=await c().contextualizedOnboardingDeps.contextualizedOnboardingActions.load(),{onboardingData:i,joinableSpaces:r}=t;if(!i)return;const{onboardingStateActions:s}=await o(935370).Q.load();if(u().m({message:s.messages.creatingWorkspace}),0===r.length&&i.canUserCreateSpace){const a=o(675133).A.getIntl(),r=i.userStore.getFullName(a),{spaceViewStore:s}=await(0,o(139654).b)({environment:e,planType:"personal",planSelection:"personal",name:r?(0,g().JR)(r,a):(0,g().CD)(a),userRootStore:i.userRootStore,analyticsFrom:"onboarding",icon:void 0,userPersona:"unfilled"});o(72234).I$(e,s,!0),n({environment:e,onboardingState:t,userStore:i.userStore,spaceJoinOrCreate:"create",permissionLevel:"member"})}await b().transactionQueue.drain(),u().V();const p=(0,l().dw)();o(165358).log({data:{miscDataToConvertToString:{from:"getPostOnboardingRedirectURL",redirectUrl:p}},from:"contextualizedOnboardingflowDefinitions",level:"debug",type:"mail_onboarding:onCompleteFlow"});const f=null==p?void 0:p.startsWith(`${d().A.mail.domainBaseUrl}/`);if(p&&f){const t=o(939768).O$(p,{from:"contextualizedOnboardingWithPostOnboardingRedirect"});(0,o(246766).navigate)({environment:e,url:`${t}#activeUserID=${e.currentUser.id}`})}else await(0,o(838824).Z)({environment:e,from:"contextualizedOnboarding",targetSelf:!0})},shouldShowFlowToUser:()=>"mail"===(0,l().dY)()},calendar_onboarding:{isEnabledForDesktop:!0,isEnabledForMobile:!0,getDesktopStages:()=>["profile"],getMobileStages:()=>["mobile_profile"],onStartFlow:()=>{},onCompleteFlow:async(e,t,a)=>{await b().transactionQueue.drain(),await(0,o(645200).J7)({environment:e,url:`${d().A.domainBaseUrl}/calendarAuth/`,from:"contextualizedOnboarding",targetSelf:!0})},shouldShowFlowToUser:()=>0===(0,p().R)(i().default.state.currentUserRootStore)&&"calendar"===(0,l().dY)()},performance_marketing_term_onboarding:{isEnabledForDesktop:!0,isEnabledForMobile:!1,getDesktopStages:()=>["profile","onboarding_workspace_choose","onboarding_plan_type_choose","onboarding_collaborative_intent_choose","team_onboarding_invite"],onStartFlow:()=>{},onCompleteFlow:async(e,t,o)=>{const{defaultOnboardingComplete:a}=await c().contextualizedOnboardingDeps.contextualizedOnboardingActions.load();await a(e,o)},shouldShowFlowToUser:e=>!d().A.isMobile&&("gantt"===(0,f().TQ)()||"crm"===(0,f().TQ)()||"projectManagement"===(0,f().TQ)())},mobile_tutorial_onboarding:{isEnabledForDesktop:!1,isEnabledForMobile:!0,getMobileStages:e=>(0,m().getMobileTutorialStages)(e),onStartFlow:()=>{},onCompleteFlow:async(e,t,o)=>{var a,n;const s=t.onboardingData;if(!s)return;const{redirectAfterContextualizedOnboardingComplete:d}=await c().contextualizedOnboardingDeps.contextualizedOnboardingActions.load(),l=(0,g().sg)(s);await d({environment:e,spaceViewId:null===(a=i().default.state.sidebarSpaceViewStore)||void 0===a?void 0:a.id,spaceId:null===(n=(0,r().S)())||void 0===n?void 0:n.id,onboardingData:s,spaceJoinOrCreate:"join",redirectData:l,onboardingFlow:t.flowName,onboardingState:t,permissionLevel:(0,g().S1)(l)})},shouldShowFlowToUser:(e,t)=>Boolean(t)},reimagined_default:{isEnabledForDesktop:!0,isEnabledForMobile:!1,onStartFlow:()=>{},shouldShowFlowToUser:e=>{const t=(0,p().R)(i().default.state.currentUserRootStore);void 0===t&&(0,n().u)({environment:e,event:{eventName:"onboarding_undefined_space_view_count",eventProperties:{}}});return!(0!==(t??0))&&"on"===s().default.getEligibleGroup({experimentId:"reimagined_onboarding",defaultGroup:"control"})},getDesktopStages:()=>["reimagined_profile","onboarding_workspace_choose","reimagined_plan_type","reimagined_desktop_download","reimagined_invite","reimagined_business_trial_offer","reimagined_business_trial_checkout","reimagined_team_desktop_download"]},default:{isEnabledForDesktop:!0,isEnabledForMobile:!0,getDesktopStages:()=>["profile","onboarding_nosey_intro","onboarding_workspace_choose","onboarding_plan_type_choose","onboarding_collaborative_intent_choose","onboarding_category_survey","desktop_onboarding_promote_app_download",..."on"===s().default.getEligibleGroup({experimentId:"onboarding_split_team_survey",defaultGroup:"control",disableExposureLogging:!0})?["team_onboarding_function","team_onboarding_role","team_onboarding_company_size"]:["team_onboarding_persona_survey"],"team_onboarding_use_cases","onboarding_quick_start_features","onboarding_agent_personalization_after_use_cases","team_onboarding_workspace_create","team_onboarding_invite","team_onboarding_timed_trial_offer","team_onboarding_timed_trial_checkout","onboarding_calendar_signup","team_desktop_onboarding_promote_app_download","onboarding_agent_personalization_for_work_users_at_end_of_onboarding"],getMobileStages:e=>{const t=function(){const e=s().default.checkGate({gateName:"adoption_skip_mobile_usecase_selection"});return["mobile_profile","mobile_onboarding_workspace_choose","mobile_onboarding_plan_type_choose","mobile_onboarding_collaborative_intent_choose",..."on"===s().default.getEligibleGroup({experimentId:"onboarding_split_team_survey",defaultGroup:"control",disableExposureLogging:!0})?["mobile_team_onboarding_function","mobile_team_onboarding_role","mobile_team_onboarding_company_size"]:["mobile_team_onboarding_persona_survey"],...e?[]:["mobile_onboarding_category_survey","mobile_team_onboarding_use_cases"],"mobile_team_onboarding_workspace_create","mobile_team_onboarding_invite"]}(),a=(0,m().getMobileTutorialStages)(e);return"on"===(0,o(47373).KT)({environment:e,disableExposureLogging:!0})?[...t,"mobile_onboarding_promote_app_download"]:[...t,...a]},onStartFlow:()=>{},shouldShowFlowToUser:(e,t)=>(void 0===(0,p().R)(i().default.state.currentUserRootStore)&&(0,n().u)({environment:e,event:{eventName:"onboarding_undefined_space_view_count",eventProperties:{}}}),!t&&(d().A.isMobile||s().default.manuallyLogExperimentExposure("onboarding_desktop_user_aa_test"),!0))},undefined:{isEnabledForDesktop:!0,isEnabledForMobile:!0,getDesktopStages:()=>[],getMobileStages:()=>[],onStartFlow:()=>{},onCompleteFlow:async()=>{},shouldShowFlowToUser:()=>!1}}},763765:(e,t,o)=>{o.d(t,{t:()=>n});class a extends(()=>o(757695))().Store{getInitialState(){return{loaded:!1}}USEWITHCAUTION_markStatsigUserFetched(e){const{userId:t,spaceId:o,fetched:a}=e;this.setState({loaded:a,userId:t,spaceId:o})}USEWITHCAUTION_isFetchedForSpaceAndUserId(e){const{spaceId:t,userId:o}=e;return this.state.loaded&&this.state.spaceId===t&&this.state.userId===o}}const n=new a;(0,o(852832).exposeDebugValue)("statsigUserLoadingStatusStore",n)},768345:(e,t,o)=>{o.r(t),o.d(t,{DO_NOT_USE_setUserPersonaRoleAndUseCases:()=>_e,checkAndApplyTrial:()=>Ae,clearAllOnboardingStates:()=>ke,createSpaceAndSetSpaceId:()=>Se,createSpaceAsOwner:()=>he,defaultOnboardingComplete:()=>Te,handleExitOnboarding:()=>Me,handleOnboardingError:()=>Ne,handleUserCanNotCreateSpace:()=>Pe,joinSpaceAsGuestOrMember:()=>Ie,joinSpaceAsGuestOrMemberWithPerformanceTracking:()=>xe,maybeSaveAgentAccessoryForNewUserOnboarding:()=>je,onOnboardingCompletePublicAccess:()=>Ce,prefillTeamWorkspaceName:()=>De,redirectAfterContextualizedOnboardingComplete:()=>be,setAndTrackContextualizedOnboardingComplete:()=>ve,setMobileContextualizedOnboardingComplete:()=>me,setProfileData:()=>ye,setUserAndSpaceSurveyData:()=>we});o(16280),o(898992),o(354520),o(581454),o(296540);var a=()=>o(907258),n=()=>o(228251),i=()=>o(242422),r=()=>o(726637),s=()=>o(259136),d=()=>o(675133),l=()=>o(711339),c=()=>o(792057),u=()=>o(295633),p=()=>o(723085),g=()=>o(939453),f=()=>o(584262),b=()=>o(165358),m=()=>o(416845),v=()=>o(763884),y=()=>o(243020),S=()=>o(179034),h=()=>o(854150),I=()=>o(802149),x=()=>o(934068),w=()=>o(69708),_=()=>o(496603),A=()=>o(534177),j=()=>o(382055),k=()=>o(796756),T=()=>o(148024),C=()=>o(769864),M=()=>o(433052),R=()=>o(496414),P=()=>o(384944),D=()=>o(857783),N=()=>o(537941),E=()=>o(507379),O=()=>o(72234),B=()=>o(840153),z=()=>o(680977),F=()=>o(924102),W=()=>o(943366),U=()=>o(539092),L=()=>o(44551);var V=()=>o(551732),Q=()=>o(111379),K=()=>o(634596),G=()=>o(116660),H=()=>o(965291),Z=()=>o(1130),q=()=>o(467041),J=()=>o(759830),$=()=>o(687601),Y=()=>o(607859),X=()=>o(12145),ee=()=>o(246766),te=()=>o(869562),oe=()=>o(779795),ae=()=>o(589531),ne=()=>o(807778),ie=()=>o(162342),re=()=>o(151168),se=()=>o(547149);var de=()=>o(62977),le=()=>o(340644),ce=()=>o(748355),ue=()=>o(913454),pe=()=>o(383289),ge=()=>o(235921),fe=o(474848);async function be(e){e.disableRedirect||await(0,q().navigateWithRedirectData)(e),r().A.isMobile&&me({environment:e.environment,userStore:e.onboardingData.userStore}),ve({environment:e.environment,onboardingState:e.onboardingState,userStore:e.onboardingData.userStore,spaceJoinOrCreate:e.spaceJoinOrCreate,permissionLevel:e.permissionLevel})}function me(e){const{environment:t,userStore:o}=e;se().createAndCommit({userAction:"contextualizedOnboardingActions.contextualizedOnboardingActions",environment:t,canUndo:!0,perform:e=>{Z().setMobileOnboardingCompleted({userStore:o,transaction:e})}})}function ve(e){const{environment:t,onboardingState:o,userStore:a,spaceJoinOrCreate:n,permissionLevel:i}=e;var r;t.device.isElectron&&(null===L().electronApi||void 0===L().electronApi||null===(r=L().electronApi.quickSearchRefresh)||void 0===r||r.call(L().electronApi)),se().createAndCommit({userAction:"contextualizedOnboardingActions.setAndTrackContextualizedOnboardingComplete",environment:t,canUndo:!0,perform:e=>{Z().setOnboardingCompleted({userStore:a,transaction:e})}}),k().IA(t,{...(0,pe().getContextualizedOnboardingAnalyticsData)({onboardingState:o,environment:t}),initial_workspace_type:n,permission_level:i}),T().Kc(t)}async function ye(e,t){const{onboardingData:o,profileName:n,profilePhoto:i,password:r,emailOptIn:s}=t;if(!o)return;const d=o.userStore;(0,W().M)(e,{email_optin_product_updates_and_releases:s,email_optin_newsletters_and_thought_leadership:s,email_optin_user_research_and_surveys:s,email_optin_sales_outreach:!0,email_optin_events_and_resources:s,email_optin_product_education_and_how_tos:s,email_optin_notion_for_startups:s}),se().createAndCommit({userAction:"onboardingHelpers.setProfileData",environment:e,canUndo:!0,perform:e=>{const t={...i&&{profile_photo:i}};t.name=n,P().zv({store:d,data:t,transaction:e})}});const l=await K().TQ(e)&&!function(){var e;const{currentUserSettingsStore:t}=a().default.state;return Boolean(t&&t.isReady()&&"email-password"===(null===(e=t.getSettings())||void 0===e?void 0:e.mobile_ads_signup_variant))}();r&&l&&await C().callApi({eventName:"setPassword",environment:e,data:{newPassword:r,sendEmail:!1}})}async function Se({onboardingState:e,environment:t,createTemplates:o,showLoader:a=!0}){var n;if(!e.onboardingData)return;const i=$().sg(e.onboardingData),{spaceStore:r,spaceViewStore:s,inviteLinkCode:d,teamStoreId:l}=await he({onboardingState:e,onboardingData:e.onboardingData,redirectData:i,planType:null===(n=e.planTypeAndSurveyInfo)||void 0===n?void 0:n.planType,environment:t,createTemplates:o,showLoader:a});ge().A.setState({...ge().A.state,spaceId:r.id,spaceViewId:s.id,inviteLinkCode:d,inviteLinkUrl:d?(0,V().X)(t,r.id,d):void 0,teamStoreId:l})}async function he(e){var t,o,n,i;const{onboardingState:r,onboardingData:s,redirectData:c,planType:u,environment:p,createTemplates:g,showLoader:f=!0}=e,{sidebarSpaceStore:b,sidebarSpaceViewStore:m}=a().default.state;if(b&&m&&b.id===r.spaceId)return{spaceStore:b,spaceViewStore:m,teamStoreId:r.teamStoreId};f&&R().m({message:q().messages.creatingWorkspace});const v=d().A.getIntl(),y=s.userStore.getFullName(v),S=l().default.DO_NOT_USE_markLegacy("onboarding.create_space"),h=r.spaceName||$().JR(y||"",v),{spaceViewStore:I,spaceStore:x,inviteLinkCode:w,redirectData:_,teamStoreId:A}=await q().createSpaceWithTemplates({environment:p,isNewUserOnboarding:Boolean(r.isFirstTimeOnboarding),onboardingData:s,userPersona:(null===(t=r.planTypeAndSurveyInfo)||void 0===t||null===(t=t.surveyResponses)||void 0===t?void 0:t.userPersona)||"unfilled",redirectData:c,spaceName:h,spaceIcon:r.spaceIcon||null,planSelection:u,isPrivate:"team"!==u,useCases:(null===(o=r.planTypeAndSurveyInfo)||void 0===o||null===(o=o.surveyResponses)||void 0===o?void 0:o.useCases)||[],categories:(null===(n=r.planTypeAndSurveyInfo)||void 0===n||null===(n=n.surveyResponses)||void 0===n?void 0:n.categories)||[],hasTrialId:!1,selectedWorkflowTemplates:(null==r?void 0:r.selectedWorkflowTemplateIds)||[],collaborativeIntent:null===(i=r.planTypeAndSurveyInfo)||void 0===i?void 0:i.collaborativeIntent,createTemplates:g,source:r.source,joinableSpacesViewType:r.joinableSpacesViewType});return l().default.DO_NOT_USE_measureLegacy(S,{environment:p,data:{flow:r.flowName,onboarding_complete_data:{stage:(0,pe().getStageName)({flowName:r.flowName,stageIndex:r.currentStageIndex,environment:p}),redirect_data:c,is_new_user:!0,permission_level:"member",plan:u}}}),f&&R().V(),{spaceViewStore:I,spaceStore:x,inviteLinkCode:w,newRedirectData:_,teamStoreId:A}}async function Ie(e){const{onboardingData:t,redirectData:o,currentUserRootStore:a,currentUserSettingsStore:n,environment:i}=e;if("guest_redirect"===o.type){const{spaceViewStore:e}=await E().HF({environment:i,spaceId:o.spaceId,userRootStore:a,analyticsFrom:"onboarding_guest",userSettingsStore:n,navigate:!1,redirectPageId:o.pageId,isOnboarding:!0});return{spaceViewStore:e}}return{spaceViewStore:await q().joinSpaceWithTemplates({environment:i,onboardingData:t,redirectData:o,spaceId:ge().A.state.spaceId,isNewUserOnboarding:Boolean(ge().A.state.isFirstTimeOnboarding),joinableSpacesViewType:ge().A.state.joinableSpacesViewType})}}async function xe(e){const{onboardingState:t,onboardingData:o,redirectData:a,currentUserRootStore:n,currentUserSettingsStore:i,environment:r}=e;R().m({message:q().messages.joiningWorkspace});const s=l().default.DO_NOT_USE_markLegacy("onboarding.join_space"),{spaceViewStore:d}=await Ie({onboardingData:o,redirectData:a,currentUserRootStore:n,currentUserSettingsStore:i,environment:r});return l().default.DO_NOT_USE_measureLegacy(s,{environment:r,data:{flow:t.flowName,onboarding_complete_data:{stage:(0,pe().getStageName)({flowName:t.flowName,stageIndex:t.currentStageIndex,environment:r}),redirect_data:a,is_new_user:!0,permission_level:$().S1(a)}}}),R().V(),{spaceViewStore:d}}function we(e){var t,o,a;const{environment:n,onboardingState:i,planSelection:r,spaceStore:s,spaceViewStore:d}=e,l=null===(t=i.planTypeAndSurveyInfo)||void 0===t?void 0:t.surveyResponses,c=null!=l&&l.educationRole&&"other"!==(null==l?void 0:l.educationRole)?l.educationRole:void 0;$().BH({environment:n,state:{onboardingExperiments:void 0,userPersona:null==l?void 0:l.userPersona,userRole:null==l?void 0:l.userRole,categories:null==l?void 0:l.categories,userEducationRole:c,userEducationLevel:null==l?void 0:l.educationLevel,notionUseFrequency:null==l?void 0:l.notionUseFrequency,aiSetupPreference:i.aiSetupPreference,companySize:null==l?void 0:l.companySize,useCases:_().sb([...(null==l?void 0:l.useCases)??[],...(null===(o=i.selectedWorkflowTemplateIds)||void 0===o?void 0:o.map((e=>{const t=(0,ue().getCollectionTemplateFromId)(e);return null!=t&&t.category?ue().useCaseByCollectionTemplateCategory[null==t?void 0:t.category]:void 0})).filter((e=>void 0!==e)))??[]]),planSelection:r,collaborativeIntent:null===(a=i.planTypeAndSurveyInfo)||void 0===a?void 0:a.collaborativeIntent,quickStartFeatures:i.selectedQuickStartFeatures},spaceStore:s,spaceViewStore:d})}function _e(e,t){var o,a,n,i;const{onboardingData:r}=t;if(!r)return;const s=null===(o=t.planTypeAndSurveyInfo)||void 0===o||null===(o=o.surveyResponses)||void 0===o?void 0:o.userPersona,d=null===(a=t.planTypeAndSurveyInfo)||void 0===a||null===(a=a.surveyResponses)||void 0===a?void 0:a.userRole,l=null===(n=t.planTypeAndSurveyInfo)||void 0===n||null===(n=n.surveyResponses)||void 0===n?void 0:n.useCases,c=null===(i=t.planTypeAndSurveyInfo)||void 0===i||null===(i=i.surveyResponses)||void 0===i?void 0:i.companySize;se().createAndCommit({userAction:"contextualizedOnboardingStateActions.DO_NOT_USE_setUserPersonaRoleAndUseCases",environment:e,canUndo:!0,perform:e=>{(0,z().m)({userSettingsStore:r.userSettingsStore,data:{persona:s,team_role:d,use_cases:l,company_size:c,persona_version:{version:"V4",timestamp:(new Date).getTime()}},transaction:e})}})}async function Ae(e,t,o){if((0,re().Os)()&&e&&t){const a=await q().applyPerfmarkTrial(e.id,t,o);a.enableTrialInfoModal&&(0,ie().fR)({openedFrom:"onboarding"}),a.enableTrialIneligibleToast&&X().A.setState({open:!0,isExistingUser:!1})}const a=o.device.mobileNativeUniqueId;if("samsung_preload_onboarding_flow"===ge().A.state.flowName&&e&&a){const t=await(0,oe().p_)({environment:o,spaceId:e.id}),n=(0,ne().Ls)(),i=n?["business"]:["plus","ai"],r=n?"samsung_tablet_preload_2025_business":"samsung_tablet_preload_2025",s=(0,x().cv)(t,i,"month",1),d="onboarding";await(0,ae().n)({environment:o,spaceStore:e,from:d,desiredState:s,trialData:{id:r,from:d},deviceId:{type:"android",id:a}}),(0,ie().fR)({openedFrom:"onboarding"})}}async function je(e){const{environment:t,accessory:o,spaceViewStore:a,onboardingState:n}=e;if(!n.isFirstTimeOnboarding)return;const i=se().createAndCommit({environment:t,userAction:"AgentPersonalizationSettings.save",canUndo:!0,perform:e=>{const t={...a.getSettings()||{},agent_personalization_settings:{customization_items:[o]}};O().AG(a,e,t)}});await i.serverCommitResult}function ke(e){const{currentUserRootStore:t}=a().default.state;t&&(v().K.set({userId:t.id,key:ge().l,value:void 0}),ge().A.reset(),Y().default.setState({isOnboarding:!1,isLoading:!1,currentUserId:e.currentUser.id}),(0,I().fu)(),(0,I().$A)())}async function Te(e,t,o){var n;const{currentUserRootStore:r,currentUserSettingsStore:s}=a().default.state;if(!r)return;const l=ge().A.state;if(!l.onboardingData)throw new Error("onboardingData should not be undefined!");const c=(0,pe().getSpaceIntentOverride)(l)??(null===(n=l.planTypeAndSurveyInfo)||void 0===n?void 0:n.planType),{spaceStore:u,spaceViewStore:f,newRedirectData:b,teamStoreId:m}=await async function(e){const{spaceJoinOrCreate:t,onboardingState:o,onboardingData:a,currentUserRootStore:n,currentUserSettingsStore:i,planType:r,environment:s}=e,d=$().sg(a);if("create"===t){const{spaceStore:e,spaceViewStore:t,newRedirectData:n,teamStoreId:i}=await he({onboardingState:o,onboardingData:a,redirectData:d,planType:r,environment:s});return{spaceStore:e,spaceViewStore:t,newRedirectData:n,teamStoreId:i}}if("join"===t){const{spaceViewStore:e}=await xe({onboardingState:o,onboardingData:a,redirectData:d,currentUserRootStore:n,currentUserSettingsStore:i,environment:s});return{spaceStore:e.getSpaceStore(),spaceViewStore:e}}(0,A().HB)(t)}({spaceJoinOrCreate:t,onboardingState:l,onboardingData:l.onboardingData,currentUserRootStore:r,currentUserSettingsStore:s,planType:c,environment:e}),v=$().sg(l.onboardingData);let y=b??v,S=!1;if(u&&s){(0,de().q)()&&(R().m({message:q().messages.creatingWorkspace}),S=!0);const o=m?p().h.createChildStore(u,{table:h().yK,id:m}):void 0,{redirectData:a}=await(0,H().maybeCreateTemplatesOnOnboardingComplete)({environment:e,spaceViewStore:f,userSettingsStore:s,userRootStore:r,intlShape:d().A.getIntl(),spaceStore:u,teamStore:o,isNewUserOnboarding:Boolean(l.isFirstTimeOnboarding),planType:c,spaceJoinOrCreate:t,userContext:(0,J().p)({environment:e,spaceJoinOrCreate:t,onboardingState:l,spaceViewStore:f}),redirectData:y,selectedQuickStartFeatures:l.selectedQuickStartFeatures});a&&(y=a)}null!=o&&o.disableRedirect||(R().m({message:q().messages.navigatingToWorkspace}),S=!0);const x=(0,ne().TD)({disableExposureLogging:!0});"create"===t&&null!=o&&o.shouldApplyTrial&&await Ae(u,c,e),l.selectedAgentAccessory&&await je({environment:e,accessory:l.selectedAgentAccessory,spaceViewStore:f,onboardingState:l}),function({environment:e,onboardingState:t,spaceStore:o,planType:a,teamStoreId:n}){var i,r;const s=t.planTypeAndSurveyInfo,d=t.selectedWorkflowTemplateIds,l=Boolean((null==s||null===(i=s.surveyResponses)||void 0===i?void 0:i.useCases)&&(null==s||null===(r=s.surveyResponses)||void 0===r||null===(r=r.useCases)||void 0===r?void 0:r.length)>0),c=Boolean(d&&d.length>0),u=l||c;"team"===a&&n&&u&&(te().setExpand({environment:e,isExpanded:!0,from:"contextualized_onboarding_overlay",saveDetailsSidebarPreference:!1}),g().default.setState({type:"team_workflow_templates",step:"teamspaces",initialTeamId:n}))}({environment:e,onboardingState:l,spaceStore:u,planType:c,teamStoreId:m});const w="meeting_notes_flow"===l.flowName&&("reverse_trial"===x||"cc_upfront_required"===x),_=null==u?void 0:u.isAiEnabledOnSpace(),j="create"===t&&"team"===c&&void 0!==i().default.getEligibleGroup({experimentId:"adoption_new_user_agent_onboarding_checklist",disableExposureLogging:!0}),k="join"===t?i().default.getEligibleGroup({experimentId:"adoption_new_user_agent_onboarding_joiner_v2",disableExposureLogging:!0}):void 0,T=Boolean(k);if(_&&!w&&!j&&!T){const o=function(e){const{spaceJoinOrCreate:t,environment:o}=e,a="create"===t?i().default.getEligibleGroup({experimentId:"adoption_show_ai_to_new_user_creator"}):i().default.getEligibleGroup({experimentId:"adoption_show_ai_to_new_user_joiner",disableExposureLogging:!0});if(!a||!function(e){return"ai_float_text"===e||"ai_sidebar_text"===e||"ai_float"===e||"ai_full_page_text"===e||"ai_float_video"===e||"control"===e}(a))return;"create"===t&&(0,F().o)({environment:o,featureKey:"create"===t?"adoption_show_ai_to_new_user_creator":"adoption_show_ai_to_new_user_joiner"});return ce().$.setState({...ce().$.state,variant:a,spaceJoinOrCreate:t,shouldRenderTextPrompt:"ai_float_text"===a||"ai_sidebar_text"===a||"ai_full_page_text"===a,exposedToExperiment:"create"===t}),a}({environment:e,spaceJoinOrCreate:t});"ai_full_page_text"===o&&(y={type:"show_ai_assistant_full_page"})}(0,U().jr)({spaceStore:u,isMeetingNotesTrialFlow:w,spaceJoinOrCreate:t,isFirstTimeOnboarding:Boolean(l.isFirstTimeOnboarding),planType:c})&&(0,U().g9)({environment:e,spaceJoinOrCreate:t}),T&&le().Y.setState({...le().Y.state,variant:k,exposedToExperiment:!1}),await be({environment:e,onboardingData:l.onboardingData,spaceId:f.getSpaceId(),spaceViewId:f.id,spaceJoinOrCreate:t,redirectData:y,onboardingFlow:l.flowName,onboardingState:l,permissionLevel:$().S1(y),disableRedirect:null==o?void 0:o.disableRedirect}),I().G1(),S&&R().V()}function Ce(e,t,o){if(!e.onboardingData)throw new Error("onboardingData not found!");ve({onboardingState:e,environment:o,userStore:e.onboardingData.userStore,spaceJoinOrCreate:void 0,permissionLevel:"public"}),D().uK({environment:o,store:new(u().B)(o,{table:S().ev,id:t.pageId}),pageVisitSource:f().y8.Onboarding})}async function Me(e,t,o){if(e.isFirstTimeOnboarding){const{accept:o}=await c().Gh({message:(0,fe.jsxs)("div",{style:{display:"block"},children:[(0,fe.jsx)("div",{style:{fontWeight:600},children:(0,fe.jsx)(w().sA,{defaultMessage:"Cancel new account setup?",id:"contextualizedOnboardingActions.closeOnboardingDialog.newUser.title"})}),(0,fe.jsx)("div",{children:(0,fe.jsx)(w().sA,{defaultMessage:"Youâ€™ll be taken back to the Notion home page.",id:"contextualizedOnboardingActions.closeOnboardingDialog.newUser.subtitle"})})]}),acceptLabel:(0,fe.jsx)(w().sA,{defaultMessage:"Return to home page",id:"contextualizedOnboardingActions.closeOnboardingDialog.newUser.confirmCloseButton.label"}),cancelLabel:(0,fe.jsx)(w().sA,{defaultMessage:"Continue setup",id:"contextualizedOnboardingActions.closeOnboardingDialog.newUser.continueButton.label"})});if(!o)return;k().rG(t,(0,pe().getContextualizedOnboardingAnalyticsData)({onboardingState:e,environment:t})),await G().y5({environment:t,logoutOrigin:y().d.ContextualizedOnboardingExit,userId:t.currentUser.id})}else if("partner_program_onboarding_flow"!==e.flowName||o){const{accept:o}=await c().Gh({message:(0,fe.jsx)(w().sA,{defaultMessage:"Cancel new workspace setup?",id:"onboardingActions.closeOnboardingDialog.existingUser.title"}),description:(0,fe.jsx)(w().sA,{defaultMessage:"Youâ€™ll be taken back to your previous workspace.",id:"onboardingActions.closeOnboardingDialog.existingUser.subtitle"}),acceptLabel:(0,fe.jsx)(w().sA,{defaultMessage:"Back to previous workspace",id:"onboardingActions.closeOnboardingDialog.existingUser.confirmCloseButton.label"}),cancelLabel:(0,fe.jsx)(w().sA,{defaultMessage:"Continue setup",id:"onboardingActions.closeOnboardingDialog.existingUser.continueButton.label"})});if(!o)return;k().rG(t,(0,pe().getContextualizedOnboardingAnalyticsData)({onboardingState:e,environment:t})),await Re(t)}else{const{accept:o}=await c().Gh({message:(0,fe.jsx)(w().sA,{defaultMessage:"Cancel offer redemption?",id:"contextualizedOnboardingActions.closeOnboardingDialog.existingUser.partnerProgram.title"}),description:(0,fe.jsx)(w().sA,{defaultMessage:"Your offer will not be applied",id:"contextualizedOnboardingActions.closeOnboardingDialog.existingUser.partnerProgram.subtitle"}),acceptLabel:(0,fe.jsx)(w().sA,{defaultMessage:"Back to previous workspace",id:"contextualizedOnboardingActions.closeOnboardingDialog.existingUser.confirmCloseButton.label"}),cancelLabel:(0,fe.jsx)(w().sA,{defaultMessage:"Continue redemption",id:"contextualizedOnboardingActions.closeOnboardingDialog.existingUser.partnerProgram.continueButton.label"})});if(!o)return;k().rG(t,(0,pe().getContextualizedOnboardingAnalyticsData)({onboardingState:e,environment:t})),await Re(t)}}async function Re(e){const{mainEditorCurrentBlockStore:t}=a().default.state,o=null==t?void 0:t.getSpaceId(),n=o&&(0,Q().k)(o);if(n){const t=n.getSpaceStore();e.device.isMobileNative&&b().log({level:"info",from:"onboardingActions",type:"SpaceSwitchingDebug",data:{message:"onboardingActions.handleCloseOnboarding set space",spaceId:null==t?void 0:t.id}}),a().default.setState({...a().default.state,sidebarSpaceStore:t,sidebarSpaceViewStore:n})}const{url:i,userId:r}=M().v4(e);let s=e;if(r&&r!==e.currentUser.id&&(s=await B().T({environment:e,newCurrentUserId:r})),i){var d;te().close();const e=()=>ke(s);(0,ee().navigate)({environment:s,url:i}),null!==(d=s.mobileNative)&&void 0!==d&&d.supportsNativeHomeOnPhone()?N().navigateToHomeTab(s,e):e()}}function Pe(e,t){var o;j().FX(e,{can_user_create_space:!1,is_new_user:!0,has_joinable_spaces:!1,onboarding_stage:(0,pe().getStageName)({flowName:t.flowName,stageIndex:t.currentStageIndex,environment:e})});const a=null===(o=t.onboardingData)||void 0===o?void 0:o.userStore.getEmail();throw ge().A.setState({...t,isInvalidRedirect:!0}),new(m().Xgk)(a?d().A.formatMessage(q().messages.errorWorkspaceCreationPreventedWithEmail,{userEmailAddress:a}):d().A.formatMessage(q().messages.errorWorkspaceCreationPrevented),{newUser:!0})}function De(e){const t=d().A.getIntl(),o=e.userStore.getFullName(t);ge().A.update((e=>({...e,spaceName:$().mi(o||"",t)})))}async function Ne(e,t){if(Y().default.setState({...Y().default.state,isLoading:!1}),b().log({level:"error",from:"onboardingActions",type:"handleOnboardingError",error:{message:`Found onboarding error: ${t.message}`,stack:String(t.stack)}}),R().V(),t instanceof s().C&&(0,m().OwV)(t.data.responseBody)&&"UnauthorizedError"===t.data.responseBody.name)return void k().bn(e,{...(0,pe().getContextualizedOnboardingAnalyticsData)({onboardingState:ge().A.state,environment:e}),errorMessage:t.message,debugMessage:"UnauthorizedError"});let o;if(t instanceof s().C){var a;const e=null==t||null===(a=t.data)||void 0===a||null===(a=a.responseBody)||void 0===a?void 0:a.clientData;e&&(o=(0,n().t)(d().A.getIntl(),e))}k().bn(e,{...(0,pe().getContextualizedOnboardingAnalyticsData)({onboardingState:ge().A.state,environment:e}),errorMessage:t.message,debugMessage:o||"undefined"});const{accept:i}=await c().Gh({message:(0,fe.jsxs)("div",{children:[(0,fe.jsx)(w().sA,{defaultMessage:"Oops, something went wrong.",id:"onboardingActions.onboardingErrorDialog.message"}),(0,fe.jsx)("div",{children:o??t.message})]}),acceptLabel:(0,fe.jsx)(w().sA,{defaultMessage:"Start over",id:"onboardingActions.onboardingErrorDialog.startOverButton.label"}),cancelLabel:(0,fe.jsx)(w().sA,{defaultMessage:"Close",id:"onboardingActions.onboardingErrorDialog.closeButton.label"})});i&&(0,Z().redirectToOnboardingStart)(e,t)}},778450:(e,t,o)=>{o.d(t,{e:()=>r});var a=()=>o(165358),n=()=>o(769864),i=()=>o(63728);async function r(e){if(null!==i().l.state)return i().l.state;const t=e.device.os;if("mac"!==t&&"windows"!==t)return!1;const o=await n().callApi({eventName:"getDesktopAppRegistration",environment:e,data:{os:t}});if("failed"===o.type)return a().log({level:"error",from:"getDesktopAppRegistered",type:"api:getDesktopAppRegistration",error:o.error}),!1;const r=o.data.isRegistered||Boolean(o.data.isRegistered30Day);return i().l.setState(r),r}},803074:(e,t,o)=>{o.d(t,{C4:()=>S,Nf:()=>I,qM:()=>h});o(16280),o(944114),o(898992),o(430670),o(581454);var a=()=>o(726637),n=()=>o(675133),i=()=>o(792057),r=()=>o(732810),s=()=>o(617871),d=()=>o(388693),l=()=>o(519831),c=()=>o(161479),u=()=>o(534177),p=()=>o(594794),g=()=>o(252833),f=()=>o(620791),b=()=>o(769864),m=()=>o(510683),v=()=>o(384944);const y=(0,o(69708).YK)({authError:{defaultMessage:"Auth failed. Please try again or contact Notion support.",id:"database.viewSettings.propertyTypeSection.connected.authFail"},mobileAdminError:{defaultMessage:"Ask your workspace admin to configure the GitHub (Workspace) app in settings to use this feature.",id:"database.viewSettings.propertyTypeSection.connected.mobileAdminError"},mobileError:{defaultMessage:"Please authorize this integration on the desktop app or a browser.",id:"database.viewSettings.propertyTypeSection.connected.mobileError"}});async function S(e,t,o,r){const s=null==t?void 0:t.getSpaceStore();if(!s)return;const d=(0,f().jw)(o.id).length;if(a().A.isMobile&&r&&!d){const e=n().A.formatMessage(y.mobileAdminError);throw i().f1(e),new Error(e)}if(a().A.isMobile&&!r&&!d){const e=n().A.formatMessage(y.mobileError);throw i().f1(e),new Error(e)}if(!d&&r&&s.canAdmin()||!d&&!r)try{await m().Jq({environment:e,integration:o,spaceId:s.id,from:"collection_settings_property_type"})}catch(l){const e=n().A.formatMessage(y.authError);throw i().f1(e),new Error(e)}if(!(0,f().jw)(o.id).length){const e=n().A.formatMessage(y.authError);throw i().f1(e),new Error(e)}}function h(e){const{environment:t,pattern:o,integration:a,parentCollectionStore:n,transaction:i}=e;if(!o.connected_relation_properties)throw new Error("Cannot create a connected relation collection without properties");const s=new(r().m)(t,(0,p().zP)({environment:t,table:l().Vl,spaceId:n.pointer.spaceId})),d={};o.connected_relation_sub_schemas&&(0,u().WP)(o.connected_relation_sub_schemas).map((([e,o])=>{const a=new(r().m)(t,(0,p().zP)({environment:t,table:l().Vl,spaceId:n.pointer.spaceId})),u={bot_id:void 0,external_object_id:void 0,uri:e,integration_id:void 0,is_placeholder:void 0,original_url:void 0,domain:void 0,external_schema:o,sync_state:void 0,pattern_name:void 0},g={id:a.id,version:0,space_id:(0,c().e)(n.pointer.spaceId),parent_table:l().Vl,parent_id:s.id,alive:!0,format:u,schema:{}};d[e]=a.id,v().zv({store:a,data:g,transaction:i})}));const f={id:s.id,version:0,space_id:(0,c().e)(n.pointer.spaceId),parent_table:l().Vl,parent_id:n.id,alive:!0,format:{attributes:[{id:"title",name:"title",type:"inline",format:{type:"title",section:"title"},values:[(0,g().Fe)({pattern:o,integration:a})]}],bot_id:void 0,external_object_id:void 0,uri:`notion://user-defined-collection/${a.id}/${o.name}`,integration_id:a.id,is_placeholder:void 0,original_url:void 0,domain:void 0,external_schema:o.connected_relation_properties,sync_state:void 0,pattern_name:o.name,related_external_object_uris_to_instance_ids:d},schema:{}};return v().zv({store:s,data:f,transaction:i}),s}async function I(e){const{bot:t,connected_relation_properties:o}=e;if(t.integration_id===s().Iy||t.integration_id===s().mn)return await async function(e){var t,o,a;const{environment:n,objectName:i,spaceId:r,bot:s}=e,l=await b().callApi({eventName:"describeSalesforceObject",environment:n,data:{spaceId:r,objectName:i,botId:s.id}});if("success"!==(null==l?void 0:l.type))return{error:d().qh.FAILED_TO_FETCH_SALESFORCE_PROPERTIES};var c,u;if((null===(t=l.data)||void 0===t?void 0:t.responseStatus)===d().qh.REAUTHENTICATION_REQUIRED||(null===(o=l.data)||void 0===o?void 0:o.responseStatus)===d().qh.NO_USER_API_ACCESS)return{error:`${null===(c=l.data)||void 0===c?void 0:c.responseStatus}:${null===(u=l.data)||void 0===u?void 0:u.userType}`};const p=null==l||null===(a=l.data)||void 0===a?void 0:a.properties;if(p){return{value:p.flatMap((e=>{const t=e.custom?e.label:e.relationshipName||e.label;return"User"===e.referenceTo||"Group"===e.referenceTo?[{id:e.name,name:t,isSelected:!1,type:e.type,metadata:e,isAlreadySynced:e.isAlreadySynced,isAdminNotAccessible:e.isAdminNotAccessible},{id:`mapped_${e.name}`,name:`${t} (Notion User)`,isSelected:!1,type:"person",metadata:e,isAlreadySynced:e.isAlreadySynced,isAdminNotAccessible:e.isAdminNotAccessible}]:[{id:"Name"===e.name?"title":e.name,name:"relation"===e.type?t:e.label,isSelected:!1,type:e.type,metadata:e,isAlreadySynced:e.isAlreadySynced,isAdminNotAccessible:e.isAdminNotAccessible}]}))}}return{error:d().qh.NO_PROPERTIES_FOUND}}(e);const a=[],n=o;for(const i in n){const e=n[i];null!=e&&e.name&&null!=e&&e.type&&a.push({id:i,name:e.name,isSelected:!1,type:e.type,metadata:{name:e.name,label:e.name,type:e.type,custom:!1},isAlreadySynced:!1})}return{value:a}}},805501:(e,t,o)=>{o.d(t,{O:()=>n});var a=()=>o(314529);function n(e,t){(0,a().DO_NOT_USE_trackLegacy)(e,"subscription_upgrade_modal_exit",t)}},808731:(e,t,o)=>{o.d(t,{W:()=>n});var a=()=>o(314529);function n(e,t){(0,a().DO_NOT_USE_trackLegacy)(e,"subscription_upgrade_modal_upgrade_failed_payment",t)}},809678:(e,t,o)=>{var a=o(746518),n=o(437628),i=o(225397),r=o(206469),s=Array;a({target:"Array",proto:!0},{toReversed:function(){return n(i(this),s)}}),r("toReversed")},812978:(e,t,o)=>{o.r(t),o.d(t,{getPreviousStageIndex:()=>d,shouldSkipCurrentStage:()=>s});var a=()=>o(165358),n=()=>o(350362),i=()=>o(235921),r=()=>o(383289);async function s({flowName:e,stageIndex:t,environment:o}){const s=(0,r().getStageName)({flowName:e,stageIndex:t,environment:o}),d=n().contextualizedOnboardingStageByStageName[s];d||a().log({level:"error",from:"contextualizedOnboardingStageHelpers",type:"shouldSkipCurrentStage",data:{miscDataToConvertToString:{flowName:e,stageIndex:t,stageName:s}}});const l=await d.shouldSkip(i().A.state,o);return l&&d.onSkip&&await d.onSkip(o,i().A.state),l}async function d({flowName:e,stageIndex:t,environment:o}){let a=t-1;for(;a>=0&&await s({flowName:e,stageIndex:a,environment:o});)a--;return a}},838873:(e,t,o)=>{e.exports=o.p+"30a44e4c1178321f.png"},846199:(e,t,o)=>{o.d(t,{v:()=>a});const a=o(757695).Store.createValue({open:!1},{name:"TrialInfoModalStore"})},846523:(e,t,o)=>{o.d(t,{u:()=>a});const a=(0,o(340498).xh)("questionMarkCircle",{default:{loader:()=>o.e(82106).then(o.bind(o,406533))},small:{loader:()=>o.e(82106).then(o.bind(o,721479))},fill:{loader:()=>o.e(82106).then(o.bind(o,299733))},fillSmall:{loader:()=>o.e(82106).then(o.bind(o,182060))}},["question","query","inquiry","uncertain","unknown","help","circle"])},866779:(e,t,o)=>{e.exports=o.p+"300256bc25819140.png"},866961:(e,t,o)=>{o.d(t,{U:()=>s});var a=()=>o(726637),n=()=>o(401497),i=()=>o(100622),r=()=>o(284371);function s(e){return(0,n().IS)((()=>({workspaceNameV2:{fontWeight:500,fontSize:16,whiteSpace:"normal",overflowWrap:"break-word",display:"flex",flexDirection:"row",gap:4,textWrap:"balance"},workspaceTextV2:{display:"flex",flexDirection:"column",justifyContent:"start",marginInlineStart:"14px",flexShrink:1,minWidth:0},workspaceJoinButtonV2:a().A.isMobile?{color:i().Tj.text.primary,backgroundColor:i().Tj.gray.background.secondaryTranslucent,borderRadius:17,padding:"8px 16px",display:"flex",alignItems:"center",fontWeight:r().Wy.semibold}:{marginTop:8,marginInlineEnd:8,color:i().Tj.blue.text.accentPrimary},workspaceIconV2:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"top",flexShrink:1,minWidth:0},workspaceSpaceInformationV2:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"top",width:"100%",gap:12},userAvatarContainerV2:{display:"flex",flexDirection:"row",justifyContent:"start",marginTop:e?12:16,overflow:"hidden",marginInlineStart:42},workspaceContainerV2:{display:"flex",flexDirection:"column",justifyContent:"start",width:"100%"},onboardingButtonV2:{width:"100%",padding:e?16:12,height:"auto",marginBottom:12,borderRadius:12,background:i().Tj.background.elevated,...e&&{border:`1px solid ${i().Tj.border.secondary}`,boxShadow:void 0}},workspaceMemberCountV2:{color:i().Tj.text.tertiary,marginTop:2,fontWeight:400,fontSize:12,...r().RC},inviteText:{fontSize:e?15:12,color:i().Tj.text.secondary,marginBottom:8,paddingInlineStart:2,fontWeight:e?r().Wy.medium:r().Wy.semibold},totalMemberCount:{color:i().Tj.text.secondary},lockIconContainer:{display:"grid",justifyContent:"center",alignItems:"center"}})),[e])}},869063:(e,t,o)=>{o.d(t,{AX:()=>r,K8:()=>i,iw:()=>s,lW:()=>l});var a=()=>o(209199);const n=["en-US","ko-KR","ja-JP","fr-FR","de-DE","es-ES","es-LA","pt-BR","nb-NO","fi-FI","sv-SE","da-DK","nl-NL","zh-CN","zh-TW","en-GB","id-ID","th-TH","vi-VN","ar-SA","he-IL"],i=["en-US","ko-KR","ja-JP","fr-FR","de-DE","es-ES","es-LA","pt-BR","zh-CN","zh-TW","id-ID","th-TH","vi-VN","he-IL","ar-SA"];function r(e){return"en-GB"===(e=(0,a().p5)(e))||"he-IL"===e||"ar-SA"===e?"en-US":e}function s(e){return"string"==typeof e&&n.includes(e)}const d=["scratchpad","oneOnOneNotesV2"];function l(e){return"string"==typeof e&&d.includes(e)}},872931:(e,t,o)=>{o.d(t,{Kn:()=>r,_N:()=>i,gb:()=>n,mQ:()=>s});var a=()=>o(638681);const n=["planner","notes","research","clubs","teachingLessonPlans","teachingClassroomManagement","websiteBuildingForSchool","internshipApplications","groupProjects"],i=["todos","projectsTasks","habitWellness","budgetPersonalFinance","travel","hobbies","careerBuilding","foodNutrition","websiteBuildingForLife","entertainment"],r=["Illegal activities","Graphic and harmful content","Child exploitation","Harassment, bullying, defamation, and threats","Hateful content","Intellectual property","Malicious and deceptive practices","Personal and confidential information","Interference with the Services","Content subject to additional scrutiny","Billing fraud","Sanctions regulations","Card testing","Account Lockout","Other"],s=(a().literals(...r),["Violent or obscene content","Sexually explicit","Promotes self-harm","Promotes terrorist activity","Misinformation","Get rich quick","Gambling services or products","Price-gauging","Online or day trading","Multi-level marketing or affiliate marketing","Credit abuse","Payments fraud","Specially Designated National (SDN) screening","User must contact support to manually verify account ownership"]);a().literals(...s)},876853:(e,t,o)=>{o.d(t,{r:()=>n});var a=()=>o(422900);a();function n(e){return(0,a().transliterate)(e).trim().length>1}},884680:(e,t,o)=>{e.exports=o.p+"4ff33d13d39232bb.png"},888325:(e,t,o)=>{function a(e){return`${e.table}:${e.id}`}o.d(t,{_:()=>a})},888626:(e,t,o)=>{o.d(t,{c:()=>n});var a=()=>o(314529);function n(e,t){(0,a().DO_NOT_USE_trackLegacy)(e,"subscription_upgrade_modal_stripe_error",t)}},896991:(e,t,o)=>{o.d(t,{JM:()=>G,aw:()=>$,yN:()=>Q,Oi:()=>q});o(898992),o(823215);var a=o(296540),n=()=>o(242422),i=()=>o(417553),r=()=>o(726637),s=()=>o(312788),d=()=>o(484714),l=()=>o(590526),c=()=>o(401497),u=()=>o(611648),p=()=>o(609679),g=()=>o(882722),f=()=>o(807449),b=()=>o(631524),m=()=>o(160432),v=()=>o(481975),y=()=>o(480388),S=()=>o(427704),h=()=>o(69708),I=()=>o(100622),x=()=>o(763824),w=()=>o(284371),_=()=>o(278589),A=()=>o(899086),j=()=>o(555267),k=()=>o(376254),T=()=>o(903659),C=()=>o(682497),M=()=>o(47373),R=()=>o(111043),P=()=>o(480599),D=()=>o(756117),N=()=>o(235921),E=o(474848);function O(){const e=(0,l().K8)((()=>N().A.state.progressBarPercentage),[]),t=(0,c().IS)((()=>({progressBarOuter:{width:"100%",height:4,background:I().Tj.background.tertiaryTranslucent,borderRadius:100,...r().A.isMobile?{marginBottom:24}:{top:0,insetInlineStart:0,position:"absolute"}},progressBarFilled:{width:`${e}%`,height:4,background:I().Tj.text.primary,borderRadius:100,transition:"width 0.5s",...!r().A.isMobile&&{top:0,insetInlineStart:0,position:"absolute"}}})),[e]);return void 0===e?null:(0,E.jsx)(D().A,{initial:{opacity:0},animate:{opacity:1},config:{duration:400,timingFunction:"ease-in"},style:{zIndex:4},children:(0,E.jsx)("div",{style:t.progressBarOuter,children:(0,E.jsx)("div",{style:t.progressBarFilled})})})}var B=()=>o(315622),z=()=>o(493552),F=()=>o(148307),W=()=>o(350362),U=()=>o(383289),L=()=>o(112640);function V({children:e,logo:t}){const o=(0,l().O$)(N().A),a=(0,d().v3)(),n=(0,c().eP)(),i=(0,c().IS)((()=>({container:{height:"100%",display:"flex"},page:{position:"relative",flex:1,display:"flex",justifyContent:"center",overflow:"auto"},backgroundImage:{width:"100%",height:220,objectFit:"fill",position:"absolute",backgroundImage:"dark"===n?`url(${F().A.images.onboarding.reimaginedBackgroundDarkmodePng})`:`url(${F().A.images.onboarding.reimaginedBackgroundLightmodePng})`,backgroundSize:"100% 100%"},centerContent:{width:"480px",height:"fit-content",marginTop:"180px"},mainContent:{marginTop:24},header:{marginBottom:40,display:"flex",flexDirection:"column",gap:8},form:{display:"flex",flexDirection:"column",gap:40,marginBottom:80}})),[n]),r=(0,l().K8)((()=>(0,U().shouldShowProgressIndicatorOnStage)(o,a)),[o,a]),s=(0,U().getStageName)({flowName:o.flowName,stageIndex:o.currentStageIndex,environment:a}),u=W().contextualizedOnboardingStageByStageName[s];return(0,E.jsxs)("div",{style:i.container,children:[(0,E.jsx)($,{flowName:o.flowName}),(0,E.jsx)(L().N,{onboardingState:o}),(0,E.jsxs)("div",{id:"main",style:i.page,children:[r?(0,E.jsx)(O,{}):null,(0,E.jsx)(B().j,{onboardingState:o}),(0,E.jsx)("div",{style:i.backgroundImage}),(0,E.jsxs)("div",{style:i.centerContent,children:[t,(0,E.jsxs)("div",{style:i.mainContent,children:[(0,E.jsxs)("div",{style:i.header,children:[(0,E.jsx)(z().D,{styleKey:"title2xlBold",children:u.getTitle()}),u.getSubTitle?(0,E.jsx)(z().D,{styleKey:"bodyLgRegular",colorVariant:"secondary",children:u.getSubTitle()}):null]}),(0,E.jsxs)("div",{style:i.form,children:[e,u.renderContentUnderContinueButton?(0,E.jsx)("div",{children:u.renderContentUnderContinueButton(o,a)}):null]})]})]})]})]})}const Q=[],K={profile:g().PvQ,mobile_profile:g().PvQ,team_onboarding_persona_survey:g().oCP,mobile_team_onboarding_persona_survey:g().oCP,onboarding_workspace_choose:g().yuM,mobile_onboarding_workspace_choose:g().yuM,onboarding_plan_type_choose:g().fM9,mobile_onboarding_plan_type_choose:g().fM9,team_onboarding_workspace_create:g().bry,mobile_team_onboarding_workspace_create:g().bry,team_onboarding_invite:g().kXO,mobile_team_onboarding_invite:g().kXO,team_onboarding_timed_trial_offer:g().myD,team_onboarding_timed_trial_checkout:g().myD,onboarding_collaborative_intent_choose:g().DJ9,mobile_onboarding_collaborative_intent_choose:g().DJ9};function G(){var e,t,o;const{navigate:i}=(0,a.useContext)(s().E),u=(0,d().v3)();(0,a.useEffect)((()=>{u.device.isMobileNative&&n().default.checkGate({gateName:"mobile_skip_onboarding_timeout"})||(0,x().wR)(3e3).then((()=>{"undefined"===N().A.getState().flowName&&i({environment:u,url:S().JZ.root,redirect:!0})}))}),[u,i]),(0,a.useEffect)((()=>{var e;null===(e=u.mobileNative)||void 0===e||e.markTransitionReady({environment:u,type:"onboarding"})}),[u]);const p=(0,l().O$)(N().A),g=(0,l().K8)((()=>"control"!==(0,U().getIsReimaginedOnboardingExperimentGroup)(p)),[p]),f=(0,U().useCurrentStage)(p,u),m=(0,l().K8)((()=>null==f?void 0:f.renderStage(p)),[f,p]),v=(0,l().K8)((()=>{var e;return null==f||null===(e=f.renderRightContent)||void 0===e?void 0:e.call(f,p,u)}),[f,p,u]),y=Q.includes(p.flowName),k=(0,l().K8)((()=>0===p.currentStageIndex||!(null!=f&&f.isBackEnabled(p,u))),[p,u,f]),M=(0,l().K8)((()=>{var e;return(null==f||null===(e=f.shouldHideDesktopBottomContent)||void 0===e?void 0:e.call(f,p,u))??!1}),[f,p,u]),R=(0,l().K8)((()=>{var e;return(null==f||null===(e=f.disableBottomContent)||void 0===e?void 0:e.call(f,p))??!1}),[f,p]),D=(0,l().K8)((()=>{var e;return(null==f||null===(e=f.getAlignment)||void 0===e?void 0:e.call(f,p,u))??"start"}),[f,p,u]),z=function({flowIncludesNotionAssistant:e,hasRightContent:t,alignment:o,shouldHideDesktopBottomContent:a,isDefaultBackground:n}){return(0,c().IS)((()=>({errorPage:{width:"100vw",height:"100%",position:"relative",display:"flex",flex:1,background:I().Tj.background.primary},container:{background:n?void 0:I().Tj.background.secondary,height:"100%",width:"100%",overflowX:"scroll"},stageContainer:{display:"flex",flexDirection:"row",height:"100%",minHeight:"800px",alignItems:"center",justifyContent:"center",paddingBottom:32},leftContentContainer:{width:t?"50%":"100%",display:"flex",alignItems:"center",justifyContent:"center"},leftContent:{paddingInlineStart:t?64:0,display:"flex",flexDirection:"column",alignItems:"center"===o?"center":"start"===o?"flex-start":"flex-end"},assistantFace:{borderRadius:"100%",width:(0,_().N)("medium"),boxShadow:I().Tj.shadowSM,marginBottom:14},header:{display:"flex",flexDirection:"column",fontWeight:w().Wy.regular,marginInlineStart:void 0,marginInlineEnd:void 0,textAlign:"start",width:406,..."center"===o&&!t&&{width:void 0,textAlign:"center"}},subtitle:{color:I().Tj.text.tertiary,fontWeight:w().Wy.medium,fontSize:22,...e&&{fontSize:14,color:I().Tj.text.secondary,fontWeight:w().Wy.regular,marginTop:6}},contentAboveContinue:{alignSelf:"center"},contentUnderContinue:{alignSelf:"center"},skipButton:{marginTop:12,display:"flex",alignItems:"center",justifyContent:"center"},rightContentContainer:{width:"50%",display:"flex",alignItems:"center",justifyContent:"center"},footer:{position:"absolute",insetInlineStart:"50%",bottom:48,transform:"translateX(-50%)",textAlign:"center",width:"auto"},bottomContent:{display:"flex",flexDirection:"column",transition:"opacity 0.5s",opacity:a?0:1,width:"100%",alignItems:o??"center",...a&&{pointerEvents:"none"}}})),[e,t,o,a,n])}({flowIncludesNotionAssistant:y,hasRightContent:Boolean(v),alignment:D,shouldHideDesktopBottomContent:M,isDefaultBackground:g}),F=(0,l().K8)((()=>{var e;return null==f||null===(e=f.shouldShowSkipButton)||void 0===e?void 0:e.call(f,p,u)}),[f,p,u]),L=(0,l().K8)((()=>(0,U().getStages)({flowName:p.flowName,environment:u})),[p,u]),G=(0,l().K8)((()=>L.slice(p.currentStageIndex+1).every((e=>{const t=W().contextualizedOnboardingStageByStageName[e];return(0,U().estimateWillSkipStage)(t,p,u)}))),[p,u,L]),q=(0,l().K8)((()=>null==f?void 0:f.getTitle(p,u)),[f,p,u]),Y=(0,l().K8)((()=>{var e;return null==f||null===(e=f.getSubTitle)||void 0===e?void 0:e.call(f,p,u)}),[f,u,p]),X=(0,l().K8)((()=>{var e;return null==f||null===(e=f.getStageStyles)||void 0===e?void 0:e.call(f,p)}),[f,p]),ee=(0,l().K8)((()=>{var e;return null==f||null===(e=f.renderContentAboveContinueButton)||void 0===e?void 0:e.call(f,p,u)}),[f,p,u]),te=(0,l().K8)((()=>(0,U().shouldShowProgressIndicatorOnStage)(p,u)&&"on"===n().default.getEligibleGroup({experimentId:"onboarding_split_team_survey",defaultGroup:"control",disableExposureLogging:!0})&&!("buildable_with_sidebar"===n().default.getEligibleGroup({experimentId:"reimagined_onboarding_prototype",defaultGroup:"control"}))),[u,p]),oe=(0,l().K8)((()=>null==f?void 0:f.getDisplayType(p,u)),[f,p,u]);if("undefined"===p.flowName)return(0,E.jsx)(j().A,{loadingMessage:(0,E.jsx)(h().sA,{defaultMessage:"Getting set up...",id:"onboarding.loadingMessage"})});if(p.isInvalidRedirect){const{onboardingData:e}=p;return(0,E.jsx)(T().A,{style:z.errorPage,children:(0,E.jsx)(C().o,{route:{name:"onboarding"},publicPageData:{pageId:null==e?void 0:e.redirectPageId,spaceId:null==e?void 0:e.redirectSpaceId,spaceName:null==e?void 0:e.redirectSpaceName,publicAccessRole:"none",canRequestAccess:null==e?void 0:e.canRequestAccessToRedirectPage}})})}if(!f)return null;if(r().A.isMobile)return(0,E.jsx)(J,{onboardingState:p,isBackDisabled:k,title:q,subtitle:Y,currentStage:f,onLastStage:G});const ae="performance_marketing_term_onboarding"===p.flowName,ne=K[f.stageName];return"custom"===oe?m:"reimagined"===oe?(0,E.jsx)(V,{logo:null===(ie=f.getLogo)||void 0===ie?void 0:ie.call(f,p,u),children:m}):(0,E.jsxs)("div",{style:z.container,className:ne,children:[(0,E.jsx)($,{flowName:p.flowName}),te?(0,E.jsx)(O,{}):void 0,(0,E.jsx)(B().j,{onboardingState:p}),(0,E.jsxs)("div",{id:"main",style:{...z.stageContainer,...X},children:[(0,E.jsx)("div",{style:z.leftContentContainer,children:(0,E.jsxs)("div",{style:z.leftContent,children:[y?(0,E.jsx)("div",{style:z.assistantFace,children:(0,E.jsx)(A().wV,{sizeVariant:"medium"})}):void 0,(0,E.jsx)(H,{title:q,subtitle:Y,headerStyles:{...z.header,...f.headerStyles,paddingBottom:ae?0:32},subtitleStyles:z.subtitle}),m,R?null:(0,E.jsxs)("div",{style:z.bottomContent,children:[(0,E.jsx)("div",{style:z.contentAboveContinue,children:ee}),(null===(e=f.getDesktopContinueButtonOverride)||void 0===e?void 0:e.call(f))??(0,E.jsx)(Z,{currentStage:f,onLastStage:G}),(0,E.jsx)("div",{style:z.contentUnderContinue,children:null===(t=f.renderContentUnderContinueButton)||void 0===t?void 0:t.call(f,p,u)}),F?(0,E.jsx)(b().p,{style:{...z.skipButton,...f.skipButtonStyles},colorPalette:"gray",onClick:async()=>await(0,P().skipStage)({environment:u,onboardingState:p}),children:(0,E.jsx)(h().sA,{defaultMessage:"Skip",id:"contextualizedOnboarding.skipButton.label"})}):void 0]},f.stageName)]})}),v?(0,E.jsx)("div",{style:z.rightContentContainer,children:v}):void 0]}),(0,E.jsx)("div",{style:{...z.footer,...f.footerStyles},children:null===(o=f.renderFooter)||void 0===o?void 0:o.call(f,p,u)})]});var ie}function H({title:e,subtitle:t,headerStyles:o,subtitleStyles:a}){const n=(0,c().IS)((()=>({header:{position:"relative",textAlign:"center",paddingTop:0,paddingBottom:32,marginInlineStart:"auto",marginInlineEnd:"auto",maxWidth:520},title:{fontWeight:w().Wy.semibold,fontFamily:w().xf({locale:p().locale}),lineHeight:1.3,color:I().Tj.text.primary,fontSize:22},subtitle:{fontSize:18,lineHeight:1.3,paddingTop:2,color:I().Tj.text.secondary,fontWeight:w().Wy.regular}})),[]);return e||t?(0,E.jsx)("div",{style:{...n.header,...o},children:(0,E.jsxs)("div",{children:[(0,E.jsx)("div",{style:n.title,children:e}),t?(0,E.jsx)("div",{style:{...n.subtitle,...a},children:t}):void 0]})}):null}function Z({currentStage:e,onLastStage:t}){const o=(0,d().v3)(),a=(0,l().O$)(N().A),n=(0,l().K8)((()=>{var t;return null===(t=e.getContinueButtonStyles)||void 0===t?void 0:t.call(e)}),[e]),i=(0,c().IS)((()=>({continueButton:{marginTop:128,width:406,height:36,borderRadius:6,fontSize:14,fontWeight:w().Wy.semibold,color:I().Tj.text.inversePrimary,...n}})),[n]),r=(0,l().K8)((()=>{var t;return null==e||null===(t=e.getContinueButtonLabel)||void 0===t?void 0:t.call(e,a)}),[e,a]),s=(0,l().K8)((()=>e.isContinueEnabled(a,o)),[e,a,o]);return(0,E.jsx)(m().A,{colorPalette:"blue",style:{...i.continueButton},size:"lg",disabled:!s,onClick:async()=>await(0,P().goToNextStage)({environment:o,onboardingState:a}),children:r??(t?(0,E.jsx)(h().sA,{defaultMessage:"Finish",id:"contextualizedOnboarding.finishButton.label"}):(0,E.jsx)(h().sA,{defaultMessage:"Continue",id:"contextualizedOnboarding.continueButton.label"}))})}function q(e){const{isMobileAppRequiredToDownload:t}=e;return(0,c().IS)((()=>({title:{fontSize:22,fontFamily:w().xf({locale:p().locale}),textAlign:"start",marginBottom:24,lineHeight:1.28,fontWeight:590},subtitle:{fontWeight:"normal",fontSize:16,color:I().Tj.text.secondary,paddingInlineEnd:16,wordBreak:"break-word",textAlign:"start",marginBottom:12,lineHeight:1.28,paddingInlineStart:0},title2:{fontFamily:w().xf({locale:p().locale}),color:I().Tj.text.primary,fontSize:22,fontWeight:590,textAlign:"start",lineHeight:1.28},subtitle2:{color:t?I().Tj.text.secondary:I().Tj.text.primary,fontSize:t?22:17,fontWeight:t?590:"normal",textAlign:"start",lineHeight:1.28,marginTop:t?0:8,wordBreak:"break-word"},mobileWrapStyle:{maxWidth:360,fontSize:16,marginInlineStart:"auto",marginInlineEnd:"auto",paddingBottom:32},continueButton:{marginTop:8,width:"100%",height:48,borderRadius:12,fontSize:17,fontWeight:w().Wy.semibold,color:I().Tj.text.inversePrimary}})),[t])}function J({onboardingState:e,isBackDisabled:t,title:o,subtitle:s,currentStage:c,onLastStage:p}){var g,S;const x=(0,d().v3)(),w=(0,h().tz)(),{WindowSizeStore:_}=x,A=(0,l().K8)((()=>_.state.height),[_]),j=(0,l().K8)((()=>"control"!==(0,M().DV)({environment:x})),[x]),T=(0,l().K8)((()=>"on"===(0,M().KT)({environment:x,disableExposureLogging:!0})),[x]),C=q({isMobileAppRequiredToDownload:T}),D=window.innerHeight<y().V&&r().A.isMobile,N=(0,R().o)(),B=(0,a.useRef)(null),z=(0,a.useCallback)((()=>{const e=B.current;if(e){const t=e.getNode();t&&t.scrollTo({top:N})}}),[N]);(0,a.useEffect)((()=>{z()}),[z]);const F=(0,l().K8)((()=>function(e,t,o){const{WindowSizeStore:a}=e;return{width:"100%",height:o,paddingTop:t?a.getSafePaddingTopCSS(0):a.getSafePaddingTopCSS(24),paddingInlineStart:a.getSafePaddingLeftCSS(16),paddingInlineEnd:a.getSafePaddingRightCSS(16),paddingBottom:a.getSafePaddingBottomCSS(64),background:I().Tj.background.secondary}}(x,j,A-(N>100?N:0))),[x,A,N,j]),W=(0,l().K8)((()=>function(e){return{display:"inline-block",textAlign:"center",width:`calc(100vw - ${e.getSafePaddingLeftCSS(16)} - ${e.getSafePaddingRightCSS(16)})`,maxWidth:360,margin:"0 auto",background:I().Tj.background.secondary}}(_)),[_]),L=(0,l().K8)((()=>c.renderStage(e)),[c,e]),V=(0,l().K8)((()=>{var t;return null===(t=c.renderContentAboveContinueButton)||void 0===t?void 0:t.call(c,e,x)}),[c,e,x]),Q=(0,l().K8)((()=>{var t;return null===(t=c.renderContentUnderContinueButton)||void 0===t?void 0:t.call(c,e,x)}),[c,e,x]),K=(0,l().K8)((()=>{var t;return null===(t=c.shouldHideMobileBottomContent)||void 0===t?void 0:t.call(c,e)}),[c,e]),G=(0,l().K8)((()=>c.isContinueEnabled(e,x)),[c,e,x]),H=(0,l().K8)((()=>{var t;return null===(t=c.shouldShowSkipButton)||void 0===t?void 0:t.call(c,e,x)}),[c,e,x]),Z=(0,l().K8)((()=>{var t;return Boolean(null==c||null===(t=c.shouldHideBackButton)||void 0===t?void 0:t.call(c,x,e))}),[x,c,e]),J=(0,l().K8)((()=>(0,U().shouldShowProgressIndicatorOnStage)(e,x)&&"on"===n().default.getEligibleGroup({experimentId:"onboarding_split_team_survey",defaultGroup:"control",disableExposureLogging:!0})),[x,e]),Y=(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Z?void 0:(0,E.jsx)(b().p,{disabled:"mobile_team_onboarding_invite"===c.stageName,style:{borderRadius:"100%",height:36,width:36,background:I().Tj.background.tertiaryTranslucent,display:"flex",alignItems:"center",verticalAlign:"middle",marginBottom:16},"aria-label":w.formatMessage({id:"contextualizedOnboarding.backButton.ariaLabel",defaultMessage:"Go back to previous step"}),onClick:async()=>await(0,P().handleMobileBackButtonClick)({isBackDisabled:t,environment:x,currentStage:c,onboardingState:e}),children:(0,E.jsx)(f().I,{icon:v().s,size:"sm",colorVariant:t?"tertiary":"secondary"})}),H?(0,E.jsx)(b().p,{colorPalette:"gray",onClick:async()=>await(0,P().skipStage)({environment:x,onboardingState:e}),children:(0,E.jsx)(h().sA,{defaultMessage:"Skip",id:"contextualizedOnboarding.skipButton.label"})}):void 0]}),(0,E.jsxs)("div",{id:"main",style:C.mobileWrapStyle,children:[J?(0,E.jsx)(O,{}):void 0,j||T?(0,E.jsxs)("div",{style:{paddingTop:12,paddingBottom:T?40:0},children:[(0,E.jsx)("div",{style:C.title2,children:o}),s?(0,E.jsx)("div",{style:C.subtitle2,children:s}):void 0]}):(0,E.jsxs)("div",{children:[s?(0,E.jsx)("div",{style:{...C.subtitle,...c.headerStyles},children:s}):void 0,(0,E.jsx)("div",{style:{...C.title,...D&&{fontSize:28,marginBottom:16},...c.headerStyles},children:o})]}),L]})]});return(0,E.jsxs)(i().k,{debugName:"ContextualizedOnboardingMobileScroller",enable:!0,shortcuts:{backbutton:()=>{(0,P().handleMobileBackButtonClick)({isBackDisabled:t,environment:x,currentStage:c,onboardingState:e})}},children:[(0,E.jsx)($,{flowName:e.flowName}),c.shouldHideScroller?(0,E.jsx)("div",{style:F,children:Y}):(0,E.jsx)(k().H,{type:u().A.Y,style:F,ref:B,children:Y}),(0,E.jsx)("div",{style:{transition:"opacity 0.5s",opacity:K?0:1,...K&&{pointerEvents:"none"}},children:(0,E.jsx)("div",{style:{position:"absolute",bottom:0,paddingBottom:N+8,width:"100%",boxShadow:`0px -20px 20px 20px ${I().Tj.background.secondary}`,background:I().Tj.background.secondary},children:(0,E.jsx)("div",{style:{display:"inline-block",textAlign:"center",width:"100%",margin:"0 auto",background:I().Tj.background.secondary,...c.footerStyles},children:(0,E.jsxs)("div",{style:W,children:[V,(null===(g=c.getMobileContinueButtonOverride)||void 0===g?void 0:g.call(c))??(0,E.jsx)(m().A,{colorPalette:"blue",style:C.continueButton,size:"lg",onClick:async()=>await(0,P().goToNextStage)({environment:x,onboardingState:e}),disabled:!G,children:(null===(S=c.getContinueButtonLabel)||void 0===S?void 0:S.call(c,e))??j?p?(0,E.jsx)(h().sA,{defaultMessage:"Get started",id:"contextualizedOnboarding.getStartedButton.label"}):(0,E.jsx)(h().sA,{defaultMessage:"Next",id:"contextualizedOnboarding.nextButton.label"}):p?(0,E.jsx)(h().sA,{defaultMessage:"Finish",id:"contextualizedOnboarding.finishButton.label"}):(0,E.jsx)(h().sA,{defaultMessage:"Continue",id:"contextualizedOnboarding.continueButton.label"})}),Q]})})})})]})}function $({flowName:e}){const t=(0,d().v3)();(0,l().K8)((()=>t.WindowSizeStore.getSafePaddingTopCSS(0)),[t.WindowSizeStore]);return null}},903659:(e,t,o)=>{o.d(t,{A:()=>s});var a=o(296540),n=()=>o(590526),i=()=>o(497597),r=o(474848);const s=function(e){const t=(0,o(484714).Y0)(),s=(0,n().K8)((()=>({initiator:o(664748).A.state.initiator,isDragging:o(568891).Ay.state.isDragging})),[]),d=(0,n().K8)((()=>i().default.state.isActive),[]),l=(0,n().K8)((()=>!!i().default.state.isActive&&i().default.state.moved?"default":s.isDragging?"-webkit-grabbing":"text"),[s.isDragging]),c=(0,a.useMemo)((()=>{let e="notion-cursor-listener";return"-webkit-grabbing"===l&&(e+=" notion-disable-local-cursor"),e}),[l]);return(0,a.useEffect)((()=>{t.isIOS&&("touch"===s.initiator||s.isDragging||d?document.body.classList.add("notion-disable-webkit-user-select"):document.body.classList.remove("notion-disable-webkit-user-select"))}),[t.isIOS,s.initiator,s.isDragging,d]),(0,r.jsx)("div",{style:{...e.style,cursor:l},className:c,children:e.children})}},909306:(e,t,o)=>{o.d(t,{E_:()=>s,Mb:()=>l,bP:()=>r,ze:()=>c});var a=()=>o(534177),n=()=>o(795523);const i=["personal","business","enterprise","ai_credit_pack"],r={personal:1e3,ai_credit_pack:100,business:1e3,enterprise:1200};function s(e){return!!(0,a().Xk)(i,e)}const d={salesAssisted_hasAiWithPlusBusinessOrEnterprise:{currentState:{featureSet:"advanced",reason:"ai_product"},upsell:void 0},salesAssisted_bundledAi_enterprise:{currentState:{featureSet:"advanced",reason:"enterprise"},upsell:void 0},salesAssisted_bundledAi_business:{currentState:{featureSet:"advanced",reason:"business"},upsell:void 0},salesAssisted_noAiWithoutPlusBusinessOrEnterprise:{currentState:{featureSet:"none"},upsell:{product:"ai",featureSet:"advanced"}},mobile_hasAiAndPersonal:{currentState:{featureSet:"advanced",reason:"personal_ai"},upsell:void 0},mobile_hasPersonalNoAi:{currentState:{featureSet:"none"},upsell:{product:"ai",featureSet:"advanced"}},mobile_hasAiNoPersonal:{currentState:{featureSet:"core",reason:"ai_product"},upsell:{product:"personal",featureSet:"advanced"}},mobile_noAiNoPersonal:{currentState:{featureSet:"none"},upsell:{product:"ai",featureSet:"core"}},student_hasAi:{currentState:{featureSet:"core",reason:"ai_product"},upsell:{product:"business",featureSet:"advanced"}},student_noAi:{currentState:{featureSet:"none"},upsell:{product:"business",featureSet:"advanced"}},business_hasAi:{currentState:{featureSet:"advanced",reason:"ai_product"},upsell:void 0},business_noAi:{currentState:{featureSet:"advanced",reason:"business"},upsell:void 0},enterprise_hasAi:{currentState:{featureSet:"advanced",reason:"ai_product"},upsell:void 0},enterprise_noAi:{currentState:{featureSet:"advanced",reason:"enterprise"},upsell:void 0},aiProductOnly:{currentState:{featureSet:"core",reason:"ai_product"},upsell:{product:"business",featureSet:"advanced"}},default_noProducts:{currentState:{featureSet:"none"},upsell:{product:"business",featureSet:"advanced"}}};function l({billingData:e}){const t=(0,n().YF)(e),o=(0,n().N8)(e),a=(0,n().eh)(e,"plus"),i=(0,n().eh)(e,"business"),r=(0,n().eh)(e,"enterprise"),s=(0,n().eh)(e,"ai"),l=(0,n().eh)(e,"student"),c=(0,n().eh)(e,"personal");return o?s&&(a||i||r)?d.salesAssisted_hasAiWithPlusBusinessOrEnterprise:e&&(0,n().PB)(e)?r?d.salesAssisted_bundledAi_enterprise:d.salesAssisted_bundledAi_business:d.salesAssisted_noAiWithoutPlusBusinessOrEnterprise:l?s?d.student_hasAi:d.student_noAi:i?s?d.business_hasAi:d.business_noAi:r?s?d.enterprise_hasAi:d.enterprise_noAi:t?s&&c?d.mobile_hasAiAndPersonal:c&&!s?d.mobile_hasPersonalNoAi:s&&!c?d.mobile_hasAiNoPersonal:d.mobile_noAiNoPersonal:s?d.aiProductOnly:d.default_noProducts}function c({billingData:e}){var t;return"ai"===(null===(t=l({billingData:e}))||void 0===t||null===(t=t.upsell)||void 0===t?void 0:t.product)}},911259:(e,t,o)=>{o.r(t),o.d(t,{arrowInCircleUpIcon:()=>i,iconDefinition:()=>n});o(296540);var a=o(474848);const n={viewBox:"0 0 20 20",fittedViewBox:"2.37 2.37 15.26 15.25",svg:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{d:"M13.042 9.554a.625.625 0 0 1-.884 0l-1.533-1.533v5.466a.625.625 0 1 1-1.25 0V8.021L7.842 9.554a.625.625 0 0 1-.884-.883l2.6-2.6a.625.625 0 0 1 .884 0l2.6 2.6a.625.625 0 0 1 0 .883"}),(0,a.jsx)("path",{d:"M17.625 10a7.625 7.625 0 1 1-15.25 0 7.625 7.625 0 0 1 15.25 0M10 16.375a6.375 6.375 0 1 0 0-12.75 6.375 6.375 0 0 0 0 12.75"})]})},i=(0,o(340498).wt)("arrowInCircleUp",n,"default")},912474:(e,t,o)=>{o.d(t,{a:()=>i});var a=()=>o(79926);const n=new(a().O2)("StopDictationButton",(async()=>await Promise.all([o.e(75134),o.e(35530),o.e(9773),o.e(36556),o.e(55373),o.e(36192),o.e(40537),o.e(27992),o.e(63452),o.e(66249),o.e(92845),o.e(87249),o.e(79022),o.e(44854),o.e(87017),o.e(34877),o.e(46414),o.e(11676),o.e(61165),o.e(94522),o.e(44584),o.e(38293),o.e(40992),o.e(88455),o.e(52871),o.e(47160),o.e(49021),o.e(53697),o.e(26126),o.e(6039),o.e(71136),o.e(86341),o.e(29316),o.e(3101)]).then(o.bind(o,962309)))),i=(0,a()._h)(n,(e=>e.StopDictationButton))},915060:(e,t,o)=>{e.exports=o.p+"7856a6c24a9f9fa2.png"},928213:(e,t,o)=>{o.d(t,{c:()=>r});var a=()=>o(165358),n=()=>o(519831),i=()=>o(769864);async function r(e){const{environment:t,collectionStore:o}=e,r={id:o.id,table:n().Vl,spaceId:o.getSpaceId()},s=await i().callApi({eventName:"suggestRecordKey",environment:t,data:{...r,shouldSetSuccessfullySuggestedRecord:!0}});if("success"===s.type)return s.data.key;a().log({level:"error",from:"collectionAutoIncrementIdActions.suggestRecordKeyResponse",type:"JSONParseError",error:{miscDataString:s.error.message}})}},931513:(e,t,o)=>{o.d(t,{A:()=>d,o:()=>s});var a=()=>o(314529);var n=()=>o(206267),i=()=>o(981046),r=()=>o(644837);function s(e,t){const o=n().JW();!function(e,t){(0,a().DO_NOT_USE_trackLegacy)(e,"subscription_update_modal_open",t)}(e,{modal_id:o,currency_code:i().H.selectedCurrencyCode,...t.analyticsArgs,desiredProducts:t.desiredProducts,desiredInterval:t.desiredInterval}),r().j.open({modalId:o,...t})}function d(e,t){!function(e,t){(0,a().DO_NOT_USE_trackLegacy)(e,"subscription_update_modal_exit",{modal_id:t.modalId})}(e,{modalId:t}),r().j.setState({open:!1})}},947086:(e,t,o)=>{o.r(t),o.d(t,{iconDefinition:()=>a,personSlashIcon:()=>n});o(296540);const a={viewBox:"0 0 20 20",fittedViewBox:"3.31 2.31 14.13 16.25",svg:(0,o(474848).jsx)("path",{d:"M3.53 2.463a.626.626 0 0 1 .882.067l.032.038q.008.013.018.025l12.687 14.875q.089.101.203.156a.625.625 0 0 1-1.014.72l-.928-1.08a2.4 2.4 0 0 1-1.26.362h-8.3c-.68 0-1.328-.288-1.74-.768-.43-.501-.591-1.217-.23-1.923C4.899 12.945 7.3 11.63 10 11.63q.3 0 .593.021l-1.001-1.166a3.28 3.28 0 0 1-2.267-1.22c-.536-.669-.825-1.532-.886-2.453L3.463 3.345a.626.626 0 0 1 .067-.882M10 12.88c-2.335 0-4.245 1.138-5.007 2.625-.104.203-.071.379.066.54.157.182.449.33.79.33h8.301c.155 0 .3-.032.426-.082l-2.707-3.154a6.8 6.8 0 0 0-1.87-.26M10 2.375c1.137 0 2.055.469 2.675 1.241.607.757.899 1.766.9 2.824 0 1.058-.292 2.067-.9 2.825q-.213.263-.472.477l-.811-.951q.168-.138.307-.309c.392-.487.625-1.2.625-2.042S12.09 4.887 11.7 4.4c-.38-.473-.936-.775-1.7-.775-.762 0-1.32.302-1.7.774a2.4 2.4 0 0 0-.278.44l-.857-1.004q.076-.113.161-.219c.62-.772 1.538-1.241 2.675-1.241"})},n=(0,o(340498).wt)("personSlash",a,"default")},947756:(e,t,o)=>{o.d(t,{$:()=>n});var a=()=>o(314529);function n(e,t){(0,a().DO_NOT_USE_trackLegacy)(e,"subscription_upgrade_onboarding_failed_validation",t)}},965291:(e,t,o)=>{o.r(t),o.d(t,{createGettingStartedPagesInSpace:()=>se,createTemplatePagesInSpace:()=>re,getAIUpgradeTemplate:()=>Se,getGettingStartedLandingPage:()=>ye,getInitialRedirectPage:()=>de,getJoinerTemplates:()=>fe,getNormalizedTemplatePreviewItemSources:()=>be,getPageTemplatesForUseCases:()=>he,getPerformanceMarketingSearchTermTemplates:()=>ge,getStarterTemplatesForSpace:()=>pe,maybeCreateTemplatesOnOnboardingComplete:()=>ve});o(16280),o(944114),o(898992),o(354520),o(672577),o(581454),o(908872);var a=()=>o(907258),n=()=>o(242422),i=()=>o(726637),r=()=>o(675133),s=()=>o(711339),d=()=>o(295633),l=()=>o(165358),c=()=>o(837384),u=()=>o(96689),p=()=>o(679927),g=()=>o(544008);g().DZ.classNotes,p().rQ,g().DZ.jobApplications,p().rQ,g().DZ.jobApplications,p().rQ,g().DZ.clubHomepage,p().rQ,g().DZ.groupProjects,p().rQ,g().DZ.projectManagement,p().rQ,g().DZ.websiteBuilder,p().rQ,g().DZ.lessonPlans,p().rQ,g().DZ.classroomManagement,p().rQ,g().DZ.research,p().rQ,g().DZ.simpleBudget,p().rQ,g().DZ.habitTracker,p().rQ,g().DZ.travelPlanner,p().rQ,g().DZ.hobbies,p().rQ;const f={onboardingPlanner:{nameMessage:g().DZ.lessonPlans,sources:{"en-US":{previewRootId:"3f94d43b-0047-462d-8a4d-bbf7723dff02",rootId:"3f94d43b-0047-462d-8a4d-bbf7723dff02",spaceId:p().rQ},"es-ES":{previewRootId:"c4198fd0-a2ee-46b9-a603-83de8366fb6f",rootId:"c4198fd0-a2ee-46b9-a603-83de8366fb6f",spaceId:p().rQ},"de-DE":{previewRootId:"652e3a2d-7303-46c0-88f6-4d934b876cd5",rootId:"652e3a2d-7303-46c0-88f6-4d934b876cd5",spaceId:p().rQ},"ko-KR":{previewRootId:"3d2c6bff-55b0-4cf0-8ac4-4ad5c28a7894",rootId:"3d2c6bff-55b0-4cf0-8ac4-4ad5c28a7894",spaceId:p().rQ},"pt-BR":{previewRootId:"b7ee6aed-2353-4f81-ace9-cf1c0bd78dff",rootId:"b7ee6aed-2353-4f81-ace9-cf1c0bd78dff",spaceId:p().rQ},"fr-FR":{previewRootId:"c11fd279-85cb-4d6a-83a1-62debae1f4ba",rootId:"c11fd279-85cb-4d6a-83a1-62debae1f4ba",spaceId:p().rQ},"es-LA":{previewRootId:"df42f054-27ea-43f1-a0d2-725b9db3b09c",rootId:"df42f054-27ea-43f1-a0d2-725b9db3b09c",spaceId:p().rQ},"ja-JP":{previewRootId:"555ad29a-ba60-46a4-af15-e7ca9ab725e4",rootId:"555ad29a-ba60-46a4-af15-e7ca9ab725e4",spaceId:p().rQ},"id-ID":{previewRootId:"22a17954-d9c2-8134-bdac-f1291340facf",rootId:"22a17954-d9c2-8134-bdac-f1291340facf",spaceId:p().rQ},"th-TH":{previewRootId:"22a17954-d9c2-812b-aa50-faafdd8eeb46",rootId:"22a17954-d9c2-812b-aa50-faafdd8eeb46",spaceId:p().rQ},"vi-VN":{previewRootId:"22a17954-d9c2-8137-b0e0-d95e4b7ef8da",rootId:"22a17954-d9c2-8137-b0e0-d95e4b7ef8da",spaceId:p().rQ},"en-GB":{previewRootId:"3f94d43b-0047-462d-8a4d-bbf7723dff02",rootId:"3f94d43b-0047-462d-8a4d-bbf7723dff02",spaceId:p().rQ},"ar-SA":{rootId:"2b717954-d9c2-8088-974f-eeff5168edd7",previewRootId:"2b717954-d9c2-8088-974f-eeff5168edd7",spaceId:p().rQ},"he-IL":{rootId:"2b617954-d9c2-806b-981d-f54129560b5c",previewRootId:"2b617954-d9c2-806b-981d-f54129560b5c",spaceId:p().rQ}}},onboardingNotes:{nameMessage:g().DZ.notes,sources:{"en-US":{previewRootId:"ab3878e7-a6ca-46b6-ad4b-31ab92539a84",rootId:"ab3878e7-a6ca-46b6-ad4b-31ab92539a84",spaceId:p().rQ},"ko-KR":{previewRootId:"f6cdf333-bfca-4b13-94ba-6092dc658a56",rootId:"f6cdf333-bfca-4b13-94ba-6092dc658a56",spaceId:p().rQ},"fr-FR":{previewRootId:"d3f070e9-a9f6-42ca-bd3d-41ac09a79af3",rootId:"d3f070e9-a9f6-42ca-bd3d-41ac09a79af3",spaceId:p().rQ},"ja-JP":{previewRootId:"b46e6751-35e9-4eac-b833-ae6700a7acb4",rootId:"b46e6751-35e9-4eac-b833-ae6700a7acb4",spaceId:p().rQ},"de-DE":{previewRootId:"b1dfa48e-c017-4c12-9c9c-26e3686fb7ef",rootId:"b1dfa48e-c017-4c12-9c9c-26e3686fb7ef",spaceId:p().rQ},"es-ES":{previewRootId:"b95cbe07-b61a-4b25-877d-540b8e67cd32",rootId:"b95cbe07-b61a-4b25-877d-540b8e67cd32",spaceId:p().rQ},"es-LA":{previewRootId:"eadf3d08-0f81-4ece-95d7-eea9ecd60cc5",rootId:"eadf3d08-0f81-4ece-95d7-eea9ecd60cc5",spaceId:p().rQ},"pt-BR":{previewRootId:"6beccf8b-9dc8-4f21-8c26-9fd88e21eabb",rootId:"6beccf8b-9dc8-4f21-8c26-9fd88e21eabb",spaceId:p().rQ},"id-ID":{previewRootId:"22a17954-d9c2-815e-8bb9-f6a209662ad8",rootId:"22a17954-d9c2-815e-8bb9-f6a209662ad8",spaceId:p().rQ},"th-TH":{previewRootId:"22a17954-d9c2-817d-bb50-da6e934ccd61",rootId:"22a17954-d9c2-817d-bb50-da6e934ccd61",spaceId:p().rQ},"vi-VN":{previewRootId:"22a17954-d9c2-818a-9c33-fcee93a68ac3",rootId:"22a17954-d9c2-818a-9c33-fcee93a68ac3",spaceId:p().rQ},"en-GB":{previewRootId:"ab3878e7-a6ca-46b6-ad4b-31ab92539a84",rootId:"ab3878e7-a6ca-46b6-ad4b-31ab92539a84",spaceId:p().rQ},"ar-SA":{rootId:"2b617954-d9c2-80c4-8ae8-cc8f8ab9d6ec",previewRootId:"2b617954-d9c2-80c4-8ae8-cc8f8ab9d6ec",spaceId:p().rQ},"he-IL":{rootId:"2b617954-d9c2-8080-bac0-fa17e35d6a6d",previewRootId:"2b617954-d9c2-8080-bac0-fa17e35d6a6d",spaceId:p().rQ}}},onboardingResearch:{nameMessage:g().DZ.userResearch,sources:{"en-US":{previewRootId:"6b57bf0e-d17d-4e98-a553-47b2ae7b2bda",rootId:"6b57bf0e-d17d-4e98-a553-47b2ae7b2bda",spaceId:p().rQ},"es-ES":{previewRootId:"90bc461a-4b03-4ee6-94f4-7b65dae2b1d9",rootId:"90bc461a-4b03-4ee6-94f4-7b65dae2b1d9",spaceId:p().rQ},"de-DE":{previewRootId:"2a892324-85e3-43b6-ad04-ecd46562f386",rootId:"2a892324-85e3-43b6-ad04-ecd46562f386",spaceId:p().rQ},"ko-KR":{previewRootId:"90d150a7-7b16-418e-9dfb-b34e95ac15f7",rootId:"90d150a7-7b16-418e-9dfb-b34e95ac15f7",spaceId:p().rQ},"pt-BR":{previewRootId:"95a3bead-c8ef-430b-ba41-0d07faeb5893",rootId:"95a3bead-c8ef-430b-ba41-0d07faeb5893",spaceId:p().rQ},"fr-FR":{previewRootId:"4d452d93-4419-41af-bc4f-1c189b6218b5",rootId:"4d452d93-4419-41af-bc4f-1c189b6218b5",spaceId:p().rQ},"es-LA":{previewRootId:"32b5787c-9c58-4bde-8b89-c52eab327b4e",rootId:"32b5787c-9c58-4bde-8b89-c52eab327b4e",spaceId:p().rQ},"ja-JP":{previewRootId:"f72d11e3-b4a7-40f4-af87-9584419004e8",rootId:"f72d11e3-b4a7-40f4-af87-9584419004e8",spaceId:p().rQ},"id-ID":{previewRootId:"22a17954-d9c2-81b9-b27a-e75434bd69ff",rootId:"22a17954-d9c2-81b9-b27a-e75434bd69ff",spaceId:p().rQ},"th-TH":{previewRootId:"22a17954-d9c2-817e-b527-ea28fca2c6b3",rootId:"22a17954-d9c2-817e-b527-ea28fca2c6b3",spaceId:p().rQ},"vi-VN":{previewRootId:"22a17954-d9c2-812d-8320-d880d61903fb",rootId:"22a17954-d9c2-812d-8320-d880d61903fb",spaceId:p().rQ},"en-GB":{previewRootId:"6b57bf0e-d17d-4e98-a553-47b2ae7b2bda",rootId:"6b57bf0e-d17d-4e98-a553-47b2ae7b2bda",spaceId:p().rQ},"ar-SA":{rootId:"2b617954-d9c2-8003-9974-ea1b692e9288",previewRootId:"2b617954-d9c2-8003-9974-ea1b692e9288",spaceId:p().rQ},"he-IL":{rootId:"2b617954-d9c2-802c-b8a1-ec8a62f5d916",previewRootId:"2b617954-d9c2-802c-b8a1-ec8a62f5d916",spaceId:p().rQ}}},onboardingClubs:{nameMessage:g().DZ.clubHomepage,sources:{"en-US":{previewRootId:"9aba278e-bfd4-48f7-926d-d5aec58ca86e",rootId:"9aba278e-bfd4-48f7-926d-d5aec58ca86e",spaceId:p().rQ},"es-ES":{previewRootId:"def5148f-2f45-47bf-99ca-da93e1c0cb57",rootId:"def5148f-2f45-47bf-99ca-da93e1c0cb57",spaceId:p().rQ},"de-DE":{previewRootId:"bc33c5fb-a6aa-4c8f-a98f-ece2d120d632",rootId:"bc33c5fb-a6aa-4c8f-a98f-ece2d120d632",spaceId:p().rQ},"ko-KR":{previewRootId:"2f38622d-003d-45da-b6fc-1c5accf7a998",rootId:"2f38622d-003d-45da-b6fc-1c5accf7a998",spaceId:p().rQ},"pt-BR":{previewRootId:"ca6f6c1e-43f6-4811-a321-174adc67c44a",rootId:"ca6f6c1e-43f6-4811-a321-174adc67c44a",spaceId:p().rQ},"fr-FR":{previewRootId:"81ddb5c6-3b74-4ee3-ab27-a021f4d2a0b1",rootId:"81ddb5c6-3b74-4ee3-ab27-a021f4d2a0b1",spaceId:p().rQ},"es-LA":{previewRootId:"c9f3ca4d-3348-4575-ab58-650f3ff8a112",rootId:"c9f3ca4d-3348-4575-ab58-650f3ff8a112",spaceId:p().rQ},"ja-JP":{previewRootId:"576c3353-fdaf-492f-8305-12c8dc09f85e",rootId:"576c3353-fdaf-492f-8305-12c8dc09f85e",spaceId:p().rQ},"id-ID":{previewRootId:"22a17954-d9c2-812a-ae84-d2119fb3111b",rootId:"22a17954-d9c2-812a-ae84-d2119fb3111b",spaceId:p().rQ},"th-TH":{previewRootId:"22a17954-d9c2-8146-a6c9-da69dd825620",rootId:"22a17954-d9c2-8146-a6c9-da69dd825620",spaceId:p().rQ},"vi-VN":{previewRootId:"22a17954-d9c2-813c-b072-fde77515a17b",rootId:"22a17954-d9c2-813c-b072-fde77515a17b",spaceId:p().rQ},"en-GB":{previewRootId:"9aba278e-bfd4-48f7-926d-d5aec58ca86e",rootId:"9aba278e-bfd4-48f7-926d-d5aec58ca86e",spaceId:p().rQ},"ar-SA":{rootId:"2b617954-d9c2-806c-b6ad-c3f1a23aa266",previewRootId:"2b617954-d9c2-806c-b6ad-c3f1a23aa266",spaceId:p().rQ},"he-IL":{rootId:"2b617954-d9c2-801c-811b-fcc0257389c9",previewRootId:"2b617954-d9c2-801c-811b-fcc0257389c9",spaceId:p().rQ}}},onboardingTeachingLessonPlans:{nameMessage:g().DZ.lessonPlans,sources:{"en-US":{previewRootId:"9d19bcd2-42ca-471a-847c-1dfd48be22bc",rootId:"9d19bcd2-42ca-471a-847c-1dfd48be22bc",spaceId:p().rQ},"ko-KR":{previewRootId:"92f2aef0-652a-4d26-950f-e0b7cdd5934c",rootId:"92f2aef0-652a-4d26-950f-e0b7cdd5934c",spaceId:p().rQ},"fr-FR":{previewRootId:"fe4d6143-aeec-4c43-9e2e-ec2c956e125e",rootId:"fe4d6143-aeec-4c43-9e2e-ec2c956e125e",spaceId:p().rQ},"ja-JP":{previewRootId:"713f3cf6-5bc7-476d-8824-3ab0231d6995",rootId:"713f3cf6-5bc7-476d-8824-3ab0231d6995",spaceId:p().rQ},"de-DE":{previewRootId:"bbe80035-6495-44f3-889c-148e59b184ec",rootId:"bbe80035-6495-44f3-889c-148e59b184ec",spaceId:p().rQ},"es-ES":{previewRootId:"7ea4575f-e19d-4ad1-91fb-0389b80e4d69",rootId:"7ea4575f-e19d-4ad1-91fb-0389b80e4d69",spaceId:p().rQ},"es-LA":{previewRootId:"4095f817-875b-476d-8bf4-2fd38446dbff",rootId:"4095f817-875b-476d-8bf4-2fd38446dbff",spaceId:p().rQ},"pt-BR":{previewRootId:"d55fd559-5f96-42ff-8686-75068c1107f8",rootId:"d55fd559-5f96-42ff-8686-75068c1107f8",spaceId:p().rQ},"id-ID":{previewRootId:"22a17954-d9c2-8144-ad4c-d33d75d082d2",rootId:"22a17954-d9c2-8144-ad4c-d33d75d082d2",spaceId:p().rQ},"th-TH":{previewRootId:"22a17954-d9c2-8176-b8ca-e2c4991c1443",rootId:"22a17954-d9c2-8176-b8ca-e2c4991c1443",spaceId:p().rQ},"vi-VN":{previewRootId:"22a17954-d9c2-81fe-a65f-da86e88913cb",rootId:"22a17954-d9c2-81fe-a65f-da86e88913cb",spaceId:p().rQ},"en-GB":{previewRootId:"9d19bcd2-42ca-471a-847c-1dfd48be22bc",rootId:"9d19bcd2-42ca-471a-847c-1dfd48be22bc",spaceId:p().rQ},"ar-SA":{rootId:"2b717954-d9c2-806e-9e0c-e4f8599963de",previewRootId:"2b717954-d9c2-806e-9e0c-e4f8599963de",spaceId:p().rQ},"he-IL":{rootId:"2b617954-d9c2-80ba-ad3d-df5f1161a18c",previewRootId:"2b617954-d9c2-80ba-ad3d-df5f1161a18c",spaceId:p().rQ}}},onboardingTeachingClassroomManagement:{nameMessage:g().DZ.classroomHome,sources:{"en-US":{previewRootId:"ec5765d2-b548-453c-a963-854499478a0c",rootId:"ec5765d2-b548-453c-a963-854499478a0c",spaceId:p().rQ},"es-ES":{previewRootId:"e8ee2851-a69b-4aa0-bcd6-07d9630bdcd9",rootId:"e8ee2851-a69b-4aa0-bcd6-07d9630bdcd9",spaceId:p().rQ},"de-DE":{previewRootId:"b0df934b-cca8-423a-8361-23852ba09921",rootId:"b0df934b-cca8-423a-8361-23852ba09921",spaceId:p().rQ},"ko-KR":{previewRootId:"83aed70f-b0c5-4f1f-84bc-dc3b84e60f48",rootId:"83aed70f-b0c5-4f1f-84bc-dc3b84e60f48",spaceId:p().rQ},"pt-BR":{previewRootId:"7cc04c0e-8b5e-417c-bacd-167de9954af4",rootId:"7cc04c0e-8b5e-417c-bacd-167de9954af4",spaceId:p().rQ},"fr-FR":{previewRootId:"d9a35553-ed95-409a-a696-70b60dca619e",rootId:"d9a35553-ed95-409a-a696-70b60dca619e",spaceId:p().rQ},"es-LA":{previewRootId:"edf370fe-f2da-481d-a0a2-52b2c0d93ad0",rootId:"edf370fe-f2da-481d-a0a2-52b2c0d93ad0",spaceId:p().rQ},"ja-JP":{previewRootId:"1e42faba-0303-481f-a602-918b0456eef9",rootId:"1e42faba-0303-481f-a602-918b0456eef9",spaceId:p().rQ},"id-ID":{previewRootId:"22a17954-d9c2-81d1-a747-d92f0bd47eb5",rootId:"22a17954-d9c2-81d1-a747-d92f0bd47eb5",spaceId:p().rQ},"th-TH":{previewRootId:"22a17954-d9c2-811e-8b6d-e249832ae41a",rootId:"22a17954-d9c2-811e-8b6d-e249832ae41a",spaceId:p().rQ},"vi-VN":{previewRootId:"22a17954-d9c2-8199-ad62-c5022355e3a2",rootId:"22a17954-d9c2-8199-ad62-c5022355e3a2",spaceId:p().rQ},"en-GB":{previewRootId:"ec5765d2-b548-453c-a963-854499478a0c",rootId:"ec5765d2-b548-453c-a963-854499478a0c",spaceId:p().rQ},"ar-SA":{rootId:"2b617954-d9c2-808f-8d0a-f7c0b4b3b86f",previewRootId:"2b617954-d9c2-808f-8d0a-f7c0b4b3b86f",spaceId:p().rQ},"he-IL":{rootId:"2b617954-d9c2-8019-a68a-cb81f53701b1",previewRootId:"2b617954-d9c2-8019-a68a-cb81f53701b1",spaceId:p().rQ}}},onboardingWebsiteBuildingForSchool:{nameMessage:g().DZ.blogPost,sources:{"en-US":{previewRootId:"9faf7ffc-f59c-4828-8478-5f92295ef84d",rootId:"9faf7ffc-f59c-4828-8478-5f92295ef84d",spaceId:p().rQ},"es-ES":{previewRootId:"f973e339-a978-432d-982c-124c5d0cc77c",rootId:"f973e339-a978-432d-982c-124c5d0cc77c",spaceId:p().rQ},"de-DE":{previewRootId:"69c06907-cf19-412a-9464-9166ef5a3880",rootId:"69c06907-cf19-412a-9464-9166ef5a3880",spaceId:p().rQ},"ko-KR":{previewRootId:"63f549ae-1c59-4275-95c3-e55e96d489f9",rootId:"63f549ae-1c59-4275-95c3-e55e96d489f9",spaceId:p().rQ},"pt-BR":{previewRootId:"802ce65d-eeb1-458f-bc6f-5f560fd9719d",rootId:"802ce65d-eeb1-458f-bc6f-5f560fd9719d",spaceId:p().rQ},"fr-FR":{previewRootId:"29074b4a-cb38-44c3-9c0c-2c85e6d598e8",rootId:"29074b4a-cb38-44c3-9c0c-2c85e6d598e8",spaceId:p().rQ},"es-LA":{previewRootId:"e0ad03f6-8cf8-496f-be0e-126461e01adb",rootId:"e0ad03f6-8cf8-496f-be0e-126461e01adb",spaceId:p().rQ},"ja-JP":{previewRootId:"9fdbdd6d-69bd-4dc7-83fb-4be00dc0efb9",rootId:"9fdbdd6d-69bd-4dc7-83fb-4be00dc0efb9",spaceId:p().rQ},"id-ID":{previewRootId:"22a17954-d9c2-8174-af18-e6a1d259e477",rootId:"22a17954-d9c2-8174-af18-e6a1d259e477",spaceId:p().rQ},"th-TH":{previewRootId:"22a17954-d9c2-811b-881e-fb40f8c79ce2",rootId:"22a17954-d9c2-811b-881e-fb40f8c79ce2",spaceId:p().rQ},"vi-VN":{previewRootId:"22a17954-d9c2-81de-b2aa-d27ad24385fc",rootId:"22a17954-d9c2-81de-b2aa-d27ad24385fc",spaceId:p().rQ},"en-GB":{previewRootId:"9faf7ffc-f59c-4828-8478-5f92295ef84d",rootId:"9faf7ffc-f59c-4828-8478-5f92295ef84d",spaceId:p().rQ},"ar-SA":{rootId:"2b617954-d9c2-80d6-b870-f15d05898c67",previewRootId:"2b617954-d9c2-80d6-b870-f15d05898c67",spaceId:p().rQ},"he-IL":{rootId:"2b617954-d9c2-8096-95c9-e093f999f5eb",previewRootId:"2b617954-d9c2-8096-95c9-e093f999f5eb",spaceId:p().rQ}}},onboardingInternshipApplications:{nameMessage:g().DZ.jobApplications,sources:{"en-US":{previewRootId:"782fb58c-5741-4c7d-9e66-a840040afc09",rootId:"782fb58c-5741-4c7d-9e66-a840040afc09",spaceId:p().rQ},"es-ES":{previewRootId:"61db601f-9480-40bd-9dc1-1512cbad7c96",rootId:"61db601f-9480-40bd-9dc1-1512cbad7c96",spaceId:p().rQ},"de-DE":{previewRootId:"c76c593d-7064-4f3c-90c3-58e9d1e3eca9",rootId:"c76c593d-7064-4f3c-90c3-58e9d1e3eca9",spaceId:p().rQ},"ko-KR":{previewRootId:"67ac51cc-f138-4f7a-ad11-75aba9b444a4",rootId:"67ac51cc-f138-4f7a-ad11-75aba9b444a4",spaceId:p().rQ},"pt-BR":{previewRootId:"f88254a4-735e-4823-b52c-ce367efccb65",rootId:"f88254a4-735e-4823-b52c-ce367efccb65",spaceId:p().rQ},"fr-FR":{previewRootId:"8019f228-4e8a-4a46-9610-0a29cc9d1301",rootId:"8019f228-4e8a-4a46-9610-0a29cc9d1301",spaceId:p().rQ},"es-LA":{previewRootId:"681aab28-43cf-44bb-b4f0-3fe588b5ec53",rootId:"681aab28-43cf-44bb-b4f0-3fe588b5ec53",spaceId:p().rQ},"ja-JP":{previewRootId:"cf854805-757f-4294-8898-510e50ffecea",rootId:"cf854805-757f-4294-8898-510e50ffecea",spaceId:p().rQ},"id-ID":{previewRootId:"22a17954-d9c2-813b-a72a-cd0e779c07fd",rootId:"22a17954-d9c2-813b-a72a-cd0e779c07fd",spaceId:p().rQ},"th-TH":{previewRootId:"22a17954-d9c2-8121-ae9c-c2d17cf69759",rootId:"22a17954-d9c2-8121-ae9c-c2d17cf69759",spaceId:p().rQ},"vi-VN":{previewRootId:"22a17954-d9c2-811f-9b00-d3d51604bc31",rootId:"22a17954-d9c2-811f-9b00-d3d51604bc31",spaceId:p().rQ},"en-GB":{previewRootId:"782fb58c-5741-4c7d-9e66-a840040afc09",rootId:"782fb58c-5741-4c7d-9e66-a840040afc09",spaceId:p().rQ},"ar-SA":{rootId:"2b617954-d9c2-80b8-b794-e9d7526b2aa9",previewRootId:"2b617954-d9c2-80b8-b794-e9d7526b2aa9",spaceId:p().rQ},"he-IL":{rootId:"2b617954-d9c2-805c-befb-f904bbf8d85c",previewRootId:"2b617954-d9c2-805c-befb-f904bbf8d85c",spaceId:p().rQ}}},onboardingGroupProjects:{nameMessage:g().DZ.projectManagement,sources:{"en-US":{previewRootId:"095c36ce-6159-4f4f-be88-2d3814d83073",rootId:"095c36ce-6159-4f4f-be88-2d3814d83073",spaceId:p().rQ},"es-ES":{previewRootId:"79fd331c-0d94-445f-9cdf-b5a928d3318a",rootId:"79fd331c-0d94-445f-9cdf-b5a928d3318a",spaceId:p().rQ},"de-DE":{previewRootId:"3c057007-9fbb-464d-99e4-c8c58996d554",rootId:"3c057007-9fbb-464d-99e4-c8c58996d554",spaceId:p().rQ},"ko-KR":{previewRootId:"c197eb41-4b65-4e43-be0e-d315217f30ba",rootId:"c197eb41-4b65-4e43-be0e-d315217f30ba",spaceId:p().rQ},"pt-BR":{previewRootId:"99e41bf1-4a76-4fba-9697-ac4e0fe6ab89",rootId:"99e41bf1-4a76-4fba-9697-ac4e0fe6ab89",spaceId:p().rQ},"fr-FR":{previewRootId:"71b1d5b6-6bb9-4dc7-813b-9af3c5abdbd2",rootId:"71b1d5b6-6bb9-4dc7-813b-9af3c5abdbd2",spaceId:p().rQ},"es-LA":{previewRootId:"cc9f08ac-fec7-4f0c-a769-61a02a4d11b4",rootId:"cc9f08ac-fec7-4f0c-a769-61a02a4d11b4",spaceId:p().rQ},"ja-JP":{previewRootId:"fbb3bd76-e59c-44e5-adad-2faa646b653b",rootId:"fbb3bd76-e59c-44e5-adad-2faa646b653b",spaceId:p().rQ},"id-ID":{previewRootId:"22a17954-d9c2-81b7-81ca-c7d5b0d4f076",rootId:"22a17954-d9c2-81b7-81ca-c7d5b0d4f076",spaceId:p().rQ},"th-TH":{previewRootId:"22a17954-d9c2-81d7-92c7-c76217a9afa5",rootId:"22a17954-d9c2-81d7-92c7-c76217a9afa5",spaceId:p().rQ},"vi-VN":{previewRootId:"22a17954-d9c2-812c-8dd6-eb8a41713ee8",rootId:"22a17954-d9c2-812c-8dd6-eb8a41713ee8",spaceId:p().rQ},"en-GB":{previewRootId:"095c36ce-6159-4f4f-be88-2d3814d83073",rootId:"095c36ce-6159-4f4f-be88-2d3814d83073",spaceId:p().rQ},"ar-SA":{rootId:"2b617954-d9c2-8036-97ea-ce95933160c6",previewRootId:"2b617954-d9c2-8036-97ea-ce95933160c6",spaceId:p().rQ},"he-IL":{rootId:"2b617954-d9c2-80eb-a4ea-dbbf86e87773",previewRootId:"2b617954-d9c2-80eb-a4ea-dbbf86e87773",spaceId:p().rQ}}},onboardingTodos:{nameMessage:g().DZ.weeklyTodo,sources:{"en-US":{previewRootId:"5bea1ec0-dec9-4d1d-b1de-25d039122e3d",rootId:"5bea1ec0-dec9-4d1d-b1de-25d039122e3d",spaceId:p().rQ},"es-ES":{previewRootId:"de46061f-72c5-4863-8d00-05db2107f1a0",rootId:"de46061f-72c5-4863-8d00-05db2107f1a0",spaceId:p().rQ},"de-DE":{previewRootId:"760c5b02-8297-47e2-ac8a-504737f2b1d2",rootId:"760c5b02-8297-47e2-ac8a-504737f2b1d2",spaceId:p().rQ},"ko-KR":{previewRootId:"672c9633-369e-4d46-8928-dc8c26326f23",rootId:"672c9633-369e-4d46-8928-dc8c26326f23",spaceId:p().rQ},"pt-BR":{previewRootId:"beff1a8f-ed5d-4e4d-b6cd-ba5b9a4ba028",rootId:"beff1a8f-ed5d-4e4d-b6cd-ba5b9a4ba028",spaceId:p().rQ},"fr-FR":{previewRootId:"03390df0-3875-47ef-8b19-4d39b07f1aa4",rootId:"03390df0-3875-47ef-8b19-4d39b07f1aa4",spaceId:p().rQ},"es-LA":{previewRootId:"e2e9a4be-5d57-4d0a-b224-53bacc4c3c5a",rootId:"e2e9a4be-5d57-4d0a-b224-53bacc4c3c5a",spaceId:p().rQ},"ja-JP":{previewRootId:"5df04d3e-caff-4287-9e1a-4983357c48bf",rootId:"5df04d3e-caff-4287-9e1a-4983357c48bf",spaceId:p().rQ},"id-ID":{previewRootId:"22a17954-d9c2-815a-8722-f9f93a98c522",rootId:"22a17954-d9c2-815a-8722-f9f93a98c522",spaceId:p().rQ},"th-TH":{previewRootId:"22a17954-d9c2-8143-8b89-c0a43b5c9632",rootId:"22a17954-d9c2-8143-8b89-c0a43b5c9632",spaceId:p().rQ},"vi-VN":{previewRootId:"22a17954-d9c2-8124-bf77-d4e6284c2289",rootId:"22a17954-d9c2-8124-bf77-d4e6284c2289",spaceId:p().rQ},"en-GB":{previewRootId:"5bea1ec0-dec9-4d1d-b1de-25d039122e3d",rootId:"5bea1ec0-dec9-4d1d-b1de-25d039122e3d",spaceId:p().rQ},"ar-SA":{rootId:"2b517954-d9c2-8075-92f4-f987cb8cb730",previewRootId:"2b517954-d9c2-8075-92f4-f987cb8cb730",spaceId:p().rQ},"he-IL":{rootId:"2b617954-d9c2-8033-bda4-dfeea25d26d0",previewRootId:"2b617954-d9c2-8033-bda4-dfeea25d26d0",spaceId:p().rQ}}},onboardingProjectsTasks:{nameMessage:g().DZ.projectManagement,sources:{"en-US":{previewRootId:"a614583c-c2a9-4064-a92a-c674b354c42e",rootId:"a614583c-c2a9-4064-a92a-c674b354c42e",spaceId:p().rQ},"es-ES":{previewRootId:"5652679d-97ed-4ab6-8143-9d085491b907",rootId:"5652679d-97ed-4ab6-8143-9d085491b907",spaceId:p().rQ},"de-DE":{previewRootId:"f793d369-2d85-425b-9e3e-59856786ecde",rootId:"f793d369-2d85-425b-9e3e-59856786ecde",spaceId:p().rQ},"ko-KR":{previewRootId:"3f2246ce-df2e-4a68-963e-477d214d5b91",rootId:"3f2246ce-df2e-4a68-963e-477d214d5b91",spaceId:p().rQ},"pt-BR":{previewRootId:"ef9efb01-41c4-473f-9318-5ea2e0978883",rootId:"ef9efb01-41c4-473f-9318-5ea2e0978883",spaceId:p().rQ},"fr-FR":{previewRootId:"9eecb8a9-f121-4727-a83f-27bf61f2b28f",rootId:"9eecb8a9-f121-4727-a83f-27bf61f2b28f",spaceId:p().rQ},"es-LA":{previewRootId:"f1779318-dc4a-477f-b208-4a7a489dca0a",rootId:"f1779318-dc4a-477f-b208-4a7a489dca0a",spaceId:p().rQ},"ja-JP":{previewRootId:"097a1243-1983-4f87-94e4-555a8a9afc17",rootId:"097a1243-1983-4f87-94e4-555a8a9afc17",spaceId:p().rQ},"id-ID":{previewRootId:"22a17954-d9c2-81c9-a18f-d26d718fca8b",rootId:"22a17954-d9c2-81c9-a18f-d26d718fca8b",spaceId:p().rQ},"th-TH":{previewRootId:"22a17954-d9c2-819f-9ed3-d9ffb81f5833",rootId:"22a17954-d9c2-819f-9ed3-d9ffb81f5833",spaceId:p().rQ},"vi-VN":{previewRootId:"22a17954-d9c2-8120-905b-d2cbae0c220c",rootId:"22a17954-d9c2-8120-905b-d2cbae0c220c",spaceId:p().rQ},"en-GB":{previewRootId:"a614583c-c2a9-4064-a92a-c674b354c42e",rootId:"a614583c-c2a9-4064-a92a-c674b354c42e",spaceId:p().rQ},"ar-SA":{rootId:"2b617954-d9c2-80a8-b782-e386efd638e1",previewRootId:"2b617954-d9c2-80a8-b782-e386efd638e1",spaceId:p().rQ},"he-IL":{rootId:"2b617954-d9c2-800b-bf75-d54905165450",previewRootId:"2b617954-d9c2-800b-bf75-d54905165450",spaceId:p().rQ}}},onboardingHabitWellness:{nameMessage:g().DZ.habitTracker,sources:{"en-US":{previewRootId:"cc760260-ec1a-4e31-b2ec-c3451d320bd3",rootId:"cc760260-ec1a-4e31-b2ec-c3451d320bd3",spaceId:p().rQ},"es-ES":{previewRootId:"d71ee884-c3e6-4baa-8a61-a3c0a64b6071",rootId:"d71ee884-c3e6-4baa-8a61-a3c0a64b6071",spaceId:p().rQ},"de-DE":{previewRootId:"baf27f89-f10c-455f-9230-7ed49b88cc52",rootId:"baf27f89-f10c-455f-9230-7ed49b88cc52",spaceId:p().rQ},"ko-KR":{previewRootId:"f11aa5f8-085e-45fa-a265-8d1cabf720c4",rootId:"f11aa5f8-085e-45fa-a265-8d1cabf720c4",spaceId:p().rQ},"pt-BR":{previewRootId:"2311bf16-e0b3-454a-afde-2b638350b2ea",rootId:"2311bf16-e0b3-454a-afde-2b638350b2ea",spaceId:p().rQ},"fr-FR":{previewRootId:"d51be887-fcbb-43b7-8ed9-d6c844fbeef8",rootId:"d51be887-fcbb-43b7-8ed9-d6c844fbeef8",spaceId:p().rQ},"es-LA":{previewRootId:"28df247f-4924-4735-99e0-a97d29f26ae4",rootId:"28df247f-4924-4735-99e0-a97d29f26ae4",spaceId:p().rQ},"ja-JP":{previewRootId:"cffc7e70-f56c-4b0c-b7a8-824afdfd2b84",rootId:"cffc7e70-f56c-4b0c-b7a8-824afdfd2b84",spaceId:p().rQ},"id-ID":{previewRootId:"22a17954-d9c2-81c1-b46b-eb83a132d15e",rootId:"22a17954-d9c2-81c1-b46b-eb83a132d15e",spaceId:p().rQ},"th-TH":{previewRootId:"22a17954-d9c2-815d-9290-cfe4c17ad63b",rootId:"22a17954-d9c2-815d-9290-cfe4c17ad63b",spaceId:p().rQ},"vi-VN":{previewRootId:"22a17954-d9c2-8122-a995-d87de729f592",rootId:"22a17954-d9c2-8122-a995-d87de729f592",spaceId:p().rQ},"en-GB":{previewRootId:"cc760260-ec1a-4e31-b2ec-c3451d320bd3",rootId:"cc760260-ec1a-4e31-b2ec-c3451d320bd3",spaceId:p().rQ},"ar-SA":{rootId:"2b517954-d9c2-8093-b960-c191a3262b3f",previewRootId:"2b517954-d9c2-8093-b960-c191a3262b3f",spaceId:p().rQ},"he-IL":{rootId:"2b517954-d9c2-805d-a911-d555813e1f65",previewRootId:"2b517954-d9c2-805d-a911-d555813e1f65",spaceId:p().rQ}}},onboardingBudgetPersonalFinance:{nameMessage:g().DZ.simpleBudget,sources:{"en-US":{previewRootId:"ad07f7b9-d28c-48b4-ab10-7fd61d352ea5",rootId:"ad07f7b9-d28c-48b4-ab10-7fd61d352ea5",spaceId:p().rQ},"es-ES":{previewRootId:"3ddaf352-e5fe-46d9-b5d7-7af8fee5350e",rootId:"3ddaf352-e5fe-46d9-b5d7-7af8fee5350e",spaceId:p().rQ},"de-DE":{previewRootId:"b169172c-cc26-41d4-bd00-2d4a11bce583",rootId:"b169172c-cc26-41d4-bd00-2d4a11bce583",spaceId:p().rQ},"ko-KR":{previewRootId:"f0c56c80-c61f-4b5c-8ec8-6acccacf54f4",rootId:"f0c56c80-c61f-4b5c-8ec8-6acccacf54f4",spaceId:p().rQ},"pt-BR":{previewRootId:"dab3aa80-24f9-4dd7-ba9c-9c8df59ad69a",rootId:"dab3aa80-24f9-4dd7-ba9c-9c8df59ad69a",spaceId:p().rQ},"fr-FR":{previewRootId:"a4512fdb-9927-4747-98e3-ebee0de266bc",rootId:"a4512fdb-9927-4747-98e3-ebee0de266bc",spaceId:p().rQ},"es-LA":{previewRootId:"1ead1fd1-d836-4035-932e-d9cfeffbfd3c",rootId:"1ead1fd1-d836-4035-932e-d9cfeffbfd3c",spaceId:p().rQ},"ja-JP":{previewRootId:"e6fe0a55-1f68-4818-91a2-533c91f9dd63",rootId:"e6fe0a55-1f68-4818-91a2-533c91f9dd63",spaceId:p().rQ},"id-ID":{previewRootId:"22a17954-d9c2-818e-89b7-c76199a4c1e3",rootId:"22a17954-d9c2-818e-89b7-c76199a4c1e3",spaceId:p().rQ},"th-TH":{previewRootId:"22a17954-d9c2-812c-b616-ea63cb8c34a5",rootId:"22a17954-d9c2-812c-b616-ea63cb8c34a5",spaceId:p().rQ},"vi-VN":{previewRootId:"22a17954-d9c2-8192-8d2a-d68bdadec04e",rootId:"22a17954-d9c2-8192-8d2a-d68bdadec04e",spaceId:p().rQ},"en-GB":{previewRootId:"ad07f7b9-d28c-48b4-ab10-7fd61d352ea5",rootId:"ad07f7b9-d28c-48b4-ab10-7fd61d352ea5",spaceId:p().rQ},"ar-SA":{rootId:"2b617954-d9c2-8036-8a95-d438685c07ca",previewRootId:"2b617954-d9c2-8036-8a95-d438685c07ca",spaceId:p().rQ},"he-IL":{rootId:"2b617954-d9c2-80d9-a87d-c5e2a0960e30",previewRootId:"2b617954-d9c2-80d9-a87d-c5e2a0960e30",spaceId:p().rQ}}},onboardingTravel:{nameMessage:g().DZ.travelPlanner,sources:{"en-US":{previewRootId:"2da45526-3996-44b1-9557-d7a85c800346",rootId:"2da45526-3996-44b1-9557-d7a85c800346",spaceId:p().rQ},"es-ES":{previewRootId:"ba4001ee-c740-45cc-8506-7ca55f642479",rootId:"ba4001ee-c740-45cc-8506-7ca55f642479",spaceId:p().rQ},"de-DE":{previewRootId:"710c9642-f5c6-490d-9905-2d75003e0d8a",rootId:"710c9642-f5c6-490d-9905-2d75003e0d8a",spaceId:p().rQ},"ko-KR":{previewRootId:"823a07cf-d498-4214-b873-84dc6035d1bf",rootId:"823a07cf-d498-4214-b873-84dc6035d1bf",spaceId:p().rQ},"pt-BR":{previewRootId:"68038622-1f1c-4bf1-9f4c-447104136ce4",rootId:"68038622-1f1c-4bf1-9f4c-447104136ce4",spaceId:p().rQ},"fr-FR":{previewRootId:"373f749d-05af-46c4-bd0b-f5d6b8a725c3",rootId:"373f749d-05af-46c4-bd0b-f5d6b8a725c3",spaceId:p().rQ},"es-LA":{previewRootId:"e8c4b61b-071c-4232-b943-74f9cda904e9",rootId:"e8c4b61b-071c-4232-b943-74f9cda904e9",spaceId:p().rQ},"ja-JP":{previewRootId:"5180c5b7-9382-44eb-9923-13531a4d9392",rootId:"5180c5b7-9382-44eb-9923-13531a4d9392",spaceId:p().rQ},"id-ID":{previewRootId:"22a17954-d9c2-81a0-9683-d1a83645fba9",rootId:"22a17954-d9c2-81a0-9683-d1a83645fba9",spaceId:p().rQ},"th-TH":{previewRootId:"22a17954-d9c2-81d2-b304-d4d4cbb43769",rootId:"22a17954-d9c2-81d2-b304-d4d4cbb43769",spaceId:p().rQ},"vi-VN":{previewRootId:"22a17954-d9c2-8152-9854-fdc127e2d58f",rootId:"22a17954-d9c2-8152-9854-fdc127e2d58f",spaceId:p().rQ},"en-GB":{previewRootId:"2da45526-3996-44b1-9557-d7a85c800346",rootId:"2da45526-3996-44b1-9557-d7a85c800346",spaceId:p().rQ},"ar-SA":{rootId:"2b617954-d9c2-802e-a90c-f117849dacae",previewRootId:"2b617954-d9c2-802e-a90c-f117849dacae",spaceId:p().rQ},"he-IL":{rootId:"2b617954-d9c2-8033-bfc5-e778098ca00f",previewRootId:"2b617954-d9c2-8033-bfc5-e778098ca00f",spaceId:p().rQ}}},onboardingHobbies:{nameMessage:g().DZ.personalHome,sources:{"en-US":{previewRootId:"66e16cde-3919-4003-878a-a809a6e25cb3",rootId:"66e16cde-3919-4003-878a-a809a6e25cb3",spaceId:p().rQ},"es-ES":{previewRootId:"dc0abbb9-10a0-48e1-aff5-8b542cac108b",rootId:"dc0abbb9-10a0-48e1-aff5-8b542cac108b",spaceId:p().rQ},"de-DE":{previewRootId:"1f61390b-59ea-4fa5-b183-3d4725c27a32",rootId:"1f61390b-59ea-4fa5-b183-3d4725c27a32",spaceId:p().rQ},"ko-KR":{previewRootId:"7be8f2f6-60ae-4b85-ad71-391f32eada5d",rootId:"7be8f2f6-60ae-4b85-ad71-391f32eada5d",spaceId:p().rQ},"pt-BR":{previewRootId:"db72ebcd-d567-4367-9f46-25e7ccc72453",rootId:"db72ebcd-d567-4367-9f46-25e7ccc72453",spaceId:p().rQ},"fr-FR":{previewRootId:"f5ff1633-e63a-42cd-808d-84412beb43ac",rootId:"f5ff1633-e63a-42cd-808d-84412beb43ac",spaceId:p().rQ},"es-LA":{previewRootId:"e9ae16c1-dd69-4284-8e2a-95e39bbac429",rootId:"e9ae16c1-dd69-4284-8e2a-95e39bbac429",spaceId:p().rQ},"ja-JP":{previewRootId:"75423d96-0edc-48ce-828e-be5b9c5af055",rootId:"75423d96-0edc-48ce-828e-be5b9c5af055",spaceId:p().rQ},"id-ID":{previewRootId:"22a17954-d9c2-817b-b4ca-ecba6e8182f5",rootId:"22a17954-d9c2-817b-b4ca-ecba6e8182f5",spaceId:p().rQ},"th-TH":{previewRootId:"22a17954-d9c2-8182-b529-c7390fdc3898",rootId:"22a17954-d9c2-8182-b529-c7390fdc3898",spaceId:p().rQ},"vi-VN":{previewRootId:"22a17954-d9c2-8117-b9c9-fa854bf96623",rootId:"22a17954-d9c2-8117-b9c9-fa854bf96623",spaceId:p().rQ},"en-GB":{previewRootId:"66e16cde-3919-4003-878a-a809a6e25cb3",rootId:"66e16cde-3919-4003-878a-a809a6e25cb3",spaceId:p().rQ},"ar-SA":{rootId:"2b717954-d9c2-8095-b15c-c14563ac555e",previewRootId:"2b717954-d9c2-8095-b15c-c14563ac555e",spaceId:p().rQ},"he-IL":{rootId:"2b617954-d9c2-8099-98fe-e4dfbcfad4ab",previewRootId:"2b617954-d9c2-8099-98fe-e4dfbcfad4ab",spaceId:p().rQ}}},onboardingCareerBuilding:{nameMessage:g().DZ.jobBoard,sources:{"en-US":{previewRootId:"9e5301a8-5b79-4537-aaf1-32b5bb99c695",rootId:"9e5301a8-5b79-4537-aaf1-32b5bb99c695",spaceId:p().rQ},"es-ES":{previewRootId:"d18ce886-ee85-47ce-9b18-699d893c5b94",rootId:"d18ce886-ee85-47ce-9b18-699d893c5b94",spaceId:p().rQ},"de-DE":{previewRootId:"c36f3d41-72ee-4de5-b866-a8ee8d4480fb",rootId:"c36f3d41-72ee-4de5-b866-a8ee8d4480fb",spaceId:p().rQ},"ko-KR":{previewRootId:"cf4fc2a5-d77c-4adb-aea6-44126023c19d",rootId:"cf4fc2a5-d77c-4adb-aea6-44126023c19d",spaceId:p().rQ},"pt-BR":{previewRootId:"54761a16-7c25-4af8-be75-e92a3f954ea5",rootId:"54761a16-7c25-4af8-be75-e92a3f954ea5",spaceId:p().rQ},"fr-FR":{previewRootId:"bf7cd446-0e8b-4481-b2a7-f87789085405",rootId:"bf7cd446-0e8b-4481-b2a7-f87789085405",spaceId:p().rQ},"es-LA":{previewRootId:"a53cd4da-2ee9-4175-ac6e-2d8b2dbc03fd",rootId:"a53cd4da-2ee9-4175-ac6e-2d8b2dbc03fd",spaceId:p().rQ},"ja-JP":{previewRootId:"16574610-9099-4120-8cb4-ee651ba3175a",rootId:"16574610-9099-4120-8cb4-ee651ba3175a",spaceId:p().rQ},"id-ID":{previewRootId:"22a17954-d9c2-8134-96fa-f1c8990d93f6",rootId:"22a17954-d9c2-8134-96fa-f1c8990d93f6",spaceId:p().rQ},"th-TH":{previewRootId:"22a17954-d9c2-8104-a26e-f545575b5fdd",rootId:"22a17954-d9c2-8104-a26e-f545575b5fdd",spaceId:p().rQ},"vi-VN":{previewRootId:"22a17954-d9c2-81b4-803c-d5df2995afd2",rootId:"22a17954-d9c2-81b4-803c-d5df2995afd2",spaceId:p().rQ},"en-GB":{previewRootId:"9e5301a8-5b79-4537-aaf1-32b5bb99c695",rootId:"9e5301a8-5b79-4537-aaf1-32b5bb99c695",spaceId:p().rQ},"ar-SA":{rootId:"2b717954-d9c2-804e-a973-f13f5d45e2bf",previewRootId:"2b717954-d9c2-804e-a973-f13f5d45e2bf",spaceId:p().rQ},"he-IL":{rootId:"2b617954-d9c2-8031-b37f-e1df4ac82963",previewRootId:"2b617954-d9c2-8031-b37f-e1df4ac82963",spaceId:p().rQ}}},onboardingFoodNutrition:{nameMessage:g().DZ.personalHome,sources:{"en-US":{previewRootId:"7c16e837-578c-45d5-b4e2-fbc275ab9cd0",rootId:"7c16e837-578c-45d5-b4e2-fbc275ab9cd0",spaceId:p().rQ},"es-ES":{previewRootId:"9ad62304-6c4f-46a6-b2ab-9af0b078b89d",rootId:"9ad62304-6c4f-46a6-b2ab-9af0b078b89d",spaceId:p().rQ},"de-DE":{previewRootId:"5ae0fcc5-fb33-4e74-8219-83ae4c15cecb",rootId:"5ae0fcc5-fb33-4e74-8219-83ae4c15cecb",spaceId:p().rQ},"ko-KR":{previewRootId:"0d2f66d1-c7f7-44ab-855d-98bf73d92e28",rootId:"0d2f66d1-c7f7-44ab-855d-98bf73d92e28",spaceId:p().rQ},"pt-BR":{previewRootId:"57a996b9-bc60-48d5-98b8-046ffeeee139",rootId:"57a996b9-bc60-48d5-98b8-046ffeeee139",spaceId:p().rQ},"fr-FR":{previewRootId:"0ff64222-74a2-4891-8240-1fa271ea768a",rootId:"0ff64222-74a2-4891-8240-1fa271ea768a",spaceId:p().rQ},"es-LA":{previewRootId:"7acb6363-3448-4171-a82e-4e2edae4d726",rootId:"7acb6363-3448-4171-a82e-4e2edae4d726",spaceId:p().rQ},"ja-JP":{previewRootId:"de24231f-784d-460d-a791-a5c38bfaf294",rootId:"de24231f-784d-460d-a791-a5c38bfaf294",spaceId:p().rQ},"id-ID":{previewRootId:"22a17954-d9c2-815c-872e-d20455a0125c",rootId:"22a17954-d9c2-815c-872e-d20455a0125c",spaceId:p().rQ},"th-TH":{previewRootId:"22a17954-d9c2-8143-b353-d13910efc755",rootId:"22a17954-d9c2-8143-b353-d13910efc755",spaceId:p().rQ},"vi-VN":{previewRootId:"22a17954-d9c2-81cf-9c3d-e7e374ca26ca",rootId:"22a17954-d9c2-81cf-9c3d-e7e374ca26ca",spaceId:p().rQ},"en-GB":{previewRootId:"7c16e837-578c-45d5-b4e2-fbc275ab9cd0",rootId:"7c16e837-578c-45d5-b4e2-fbc275ab9cd0",spaceId:p().rQ},"ar-SA":{rootId:"2b617954-d9c2-80f0-8107-dda7a5908191",previewRootId:"2b617954-d9c2-80f0-8107-dda7a5908191",spaceId:p().rQ},"he-IL":{rootId:"2b617954-d9c2-80c3-baef-ca2f049c244e",previewRootId:"2b617954-d9c2-80c3-baef-ca2f049c244e",spaceId:p().rQ}}},onboardingWebsiteBuildingForLife:{nameMessage:g().DZ.blogPost,sources:{"en-US":{previewRootId:"958bba61-c844-4404-b226-d7254fd4464a",rootId:"958bba61-c844-4404-b226-d7254fd4464a",spaceId:p().rQ},"es-ES":{previewRootId:"944463b4-445e-4fae-b7be-f0d8f63cc941",rootId:"944463b4-445e-4fae-b7be-f0d8f63cc941",spaceId:p().rQ},"de-DE":{previewRootId:"51c2db68-d248-4224-b1bd-bb0a867c500a",rootId:"51c2db68-d248-4224-b1bd-bb0a867c500a",spaceId:p().rQ},"ko-KR":{previewRootId:"81374d2a-3bba-418c-a1f7-51453fbaa44e",rootId:"81374d2a-3bba-418c-a1f7-51453fbaa44e",spaceId:p().rQ},"pt-BR":{previewRootId:"75910e78-40ca-4fe3-ae0d-da44f88766f2",rootId:"75910e78-40ca-4fe3-ae0d-da44f88766f2",spaceId:p().rQ},"fr-FR":{previewRootId:"8ee4a217-ad5f-457b-a4cc-133a3102c333",rootId:"8ee4a217-ad5f-457b-a4cc-133a3102c333",spaceId:p().rQ},"es-LA":{previewRootId:"e1c3a7ae-fa2a-4b28-b91b-8208ccddee4c",rootId:"e1c3a7ae-fa2a-4b28-b91b-8208ccddee4c",spaceId:p().rQ},"ja-JP":{previewRootId:"2fbcc570-cbeb-4908-9586-5b0baf2abc48",rootId:"2fbcc570-cbeb-4908-9586-5b0baf2abc48",spaceId:p().rQ},"id-ID":{previewRootId:"22a17954-d9c2-81d5-b80d-f51328b7ed91",rootId:"22a17954-d9c2-81d5-b80d-f51328b7ed91",spaceId:p().rQ},"th-TH":{previewRootId:"22a17954-d9c2-8199-99f1-e0f33a84ceb8",rootId:"22a17954-d9c2-8199-99f1-e0f33a84ceb8",spaceId:p().rQ},"vi-VN":{previewRootId:"22a17954-d9c2-8130-b929-d42662e059e3",rootId:"22a17954-d9c2-8130-b929-d42662e059e3",spaceId:p().rQ},"en-GB":{previewRootId:"958bba61-c844-4404-b226-d7254fd4464a",rootId:"958bba61-c844-4404-b226-d7254fd4464a",spaceId:p().rQ},"ar-SA":{rootId:"2b617954-d9c2-807e-9379-c27a28c92a04",previewRootId:"2b617954-d9c2-807e-9379-c27a28c92a04",spaceId:p().rQ},"he-IL":{rootId:"2b617954-d9c2-803f-993e-d5be9de82d4f",previewRootId:"2b617954-d9c2-803f-993e-d5be9de82d4f",spaceId:p().rQ}}},onboardingEntertainment:{nameMessage:g().DZ.blogPost,sources:{"en-US":{previewRootId:"77c309a0-092e-410c-8b4b-fed51d7ea815",rootId:"77c309a0-092e-410c-8b4b-fed51d7ea815",spaceId:p().rQ},"es-ES":{previewRootId:"3b7cbb37-2894-44f5-9549-b033d6ddf4b0",rootId:"3b7cbb37-2894-44f5-9549-b033d6ddf4b0",spaceId:p().rQ},"de-DE":{previewRootId:"5f88da8a-86a9-4ece-923c-bc86acad5c7c",rootId:"5f88da8a-86a9-4ece-923c-bc86acad5c7c",spaceId:p().rQ},"ko-KR":{previewRootId:"a8fb1eed-7f14-4895-94a1-d5549f1310cb",rootId:"a8fb1eed-7f14-4895-94a1-d5549f1310cb",spaceId:p().rQ},"pt-BR":{previewRootId:"ad36da0e-d650-46f9-9979-b349bac4de3d",rootId:"ad36da0e-d650-46f9-9979-b349bac4de3d",spaceId:p().rQ},"fr-FR":{previewRootId:"9c922de9-25d6-488c-a859-e7974ad0b533",rootId:"9c922de9-25d6-488c-a859-e7974ad0b533",spaceId:p().rQ},"es-LA":{previewRootId:"8f871243-3f44-4877-a0dc-157bdfb37916",rootId:"8f871243-3f44-4877-a0dc-157bdfb37916",spaceId:p().rQ},"ja-JP":{previewRootId:"247621a1-4107-4553-8de6-bc1f6880ad10",rootId:"247621a1-4107-4553-8de6-bc1f6880ad10",spaceId:p().rQ},"id-ID":{previewRootId:"22a17954-d9c2-81cb-8b19-e9a78af929fe",rootId:"22a17954-d9c2-81cb-8b19-e9a78af929fe",spaceId:p().rQ},"th-TH":{previewRootId:"22a17954-d9c2-81df-8925-ea9f6a3ba2df",rootId:"22a17954-d9c2-81df-8925-ea9f6a3ba2df",spaceId:p().rQ},"vi-VN":{previewRootId:"22a17954-d9c2-8151-a794-d2953df29ce4",rootId:"22a17954-d9c2-8151-a794-d2953df29ce4",spaceId:p().rQ},"en-GB":{previewRootId:"77c309a0-092e-410c-8b4b-fed51d7ea815",rootId:"77c309a0-092e-410c-8b4b-fed51d7ea815",spaceId:p().rQ},"ar-SA":{rootId:"2b717954-d9c2-8052-a500-d09a31a2c148",previewRootId:"2b717954-d9c2-8052-a500-d09a31a2c148",spaceId:p().rQ},"he-IL":{rootId:"2b617954-d9c2-8026-a86e-d2c5134e4abd",previewRootId:"2b617954-d9c2-8026-a86e-d2c5134e4abd",spaceId:p().rQ}}}},b={calendar:{nameMessage:g().DZ.notionCalendar,sources:{"en-US":{previewRootId:"23b17954-d9c2-817a-9a79-ccc480f5a6b6",rootId:"23b17954-d9c2-817a-9a79-ccc480f5a6b6",spaceId:p().rQ},"ko-KR":{previewRootId:"23b17954-d9c2-81ec-966c-f39c5c553dc5",rootId:"23b17954-d9c2-81ec-966c-f39c5c553dc5",spaceId:p().rQ},"ja-JP":{previewRootId:"23b17954-d9c2-81f9-b3c1-e033e5b9d73d",rootId:"23b17954-d9c2-81f9-b3c1-e033e5b9d73d",spaceId:p().rQ},"es-ES":{previewRootId:"23b17954-d9c2-81d0-87a1-fbb9c1f4932f",rootId:"23b17954-d9c2-81d0-87a1-fbb9c1f4932f",spaceId:p().rQ},"de-DE":{previewRootId:"23b17954-d9c2-816e-9c87-f1450b120a11",rootId:"23b17954-d9c2-816e-9c87-f1450b120a11",spaceId:p().rQ},"fr-FR":{previewRootId:"23b17954-d9c2-8195-b394-d710f860ddb0",rootId:"23b17954-d9c2-8195-b394-d710f860ddb0",spaceId:p().rQ},"pt-BR":{previewRootId:"23b17954-d9c2-813a-991f-f3ae858790b0",rootId:"23b17954-d9c2-813a-991f-f3ae858790b0",spaceId:p().rQ},"es-LA":{previewRootId:"23b17954-d9c2-817a-964e-f761f3478bee",rootId:"23b17954-d9c2-817a-964e-f761f3478bee",spaceId:p().rQ},"zh-CN":{previewRootId:"23b17954-d9c2-817e-8b15-c4722d4e9dd7",rootId:"23b17954-d9c2-817e-8b15-c4722d4e9dd7",spaceId:p().rQ},"zh-TW":{previewRootId:"23b17954-d9c2-8107-befd-ec9b42f7aad1",rootId:"23b17954-d9c2-8107-befd-ec9b42f7aad1",spaceId:p().rQ},"th-TH":{previewRootId:"23b17954-d9c2-819f-9d62-cd3026ebf27d",rootId:"23b17954-d9c2-819f-9d62-cd3026ebf27d",spaceId:p().rQ},"id-ID":{previewRootId:"23b17954-d9c2-81c6-8235-ee9b85146d25",rootId:"23b17954-d9c2-81c6-8235-ee9b85146d25",spaceId:p().rQ},"vi-VN":{previewRootId:"23b17954-d9c2-8119-a403-cc897d79e6ce",rootId:"23b17954-d9c2-8119-a403-cc897d79e6ce",spaceId:p().rQ}}}},m={onboardingPlanner:{nameMessage:g().DZ.lessonPlans,sources:{"en-US":{previewRootId:"8d44f3a8-4e9f-4f2e-ba1d-e9df78ae9912",rootId:"8d44f3a8-4e9f-4f2e-ba1d-e9df78ae9912",spaceId:u().Zz},"ko-KR":{previewRootId:"143efdee-ad05-8184-ac8d-d243f5312577",rootId:"143efdee-ad05-8184-ac8d-d243f5312577",spaceId:u().Zz},"ja-JP":{previewRootId:"143efdee-ad05-819f-b74c-eec585ea4de8",rootId:"143efdee-ad05-819f-b74c-eec585ea4de8",spaceId:u().Zz},"fr-FR":{previewRootId:"143efdee-ad05-81ff-9c1b-c7481b9a783e",rootId:"143efdee-ad05-81ff-9c1b-c7481b9a783e",spaceId:u().Zz},"de-DE":{previewRootId:"143efdee-ad05-818e-bd36-cb3328a05753",rootId:"143efdee-ad05-818e-bd36-cb3328a05753",spaceId:u().Zz},"es-LA":{previewRootId:"143efdee-ad05-8140-84fa-d9b0808be61d",rootId:"143efdee-ad05-8140-84fa-d9b0808be61d",spaceId:u().Zz},"pt-BR":{previewRootId:"143efdee-ad05-8143-b2d8-e23c013cfdcc",rootId:"143efdee-ad05-8143-b2d8-e23c013cfdcc",spaceId:u().Zz},"zh-TW":{previewRootId:"143efdee-ad05-8182-80a1-c5528633c694",rootId:"143efdee-ad05-8182-80a1-c5528633c694",spaceId:u().Zz}}},onboardingNotes:{nameMessage:g().DZ.notes,sources:{"en-US":{previewRootId:"100efdee-ad05-8037-b3e2-dd5710fc4728",rootId:"100efdee-ad05-8037-b3e2-dd5710fc4728",spaceId:u().Zz},"ko-KR":{previewRootId:"152efdee-ad05-8034-a73b-c8f3e29c444d",rootId:"152efdee-ad05-8034-a73b-c8f3e29c444d",spaceId:u().Zz},"ja-JP":{previewRootId:"143efdee-ad05-81a2-86a0-e1150ad83cfa",rootId:"143efdee-ad05-81a2-86a0-e1150ad83cfa",spaceId:u().Zz},"fr-FR":{previewRootId:"143efdee-ad05-8124-a0df-f60ab14c544a",rootId:"143efdee-ad05-8124-a0df-f60ab14c544a",spaceId:u().Zz},"de-DE":{previewRootId:"143efdee-ad05-811f-847e-c60eaf5b9ba5",rootId:"143efdee-ad05-811f-847e-c60eaf5b9ba5",spaceId:u().Zz},"es-LA":{previewRootId:"143efdee-ad05-8152-b4c1-c5f59a0604e0",rootId:"143efdee-ad05-8152-b4c1-c5f59a0604e0",spaceId:u().Zz},"pt-BR":{previewRootId:"143efdee-ad05-8157-becf-d472026ff396",rootId:"143efdee-ad05-8157-becf-d472026ff396",spaceId:u().Zz},"zh-TW":{previewRootId:"156efdee-ad05-800f-916e-e1c855443ed8",rootId:"156efdee-ad05-800f-916e-e1c855443ed8",spaceId:u().Zz}}},onboardingResearch:{nameMessage:g().DZ.userResearch,sources:{"en-US":{previewRootId:"2de4da75-3cad-4c0a-a4ff-003d7ad8837e",rootId:"2de4da75-3cad-4c0a-a4ff-003d7ad8837e",spaceId:u().Zz},"ko-KR":{previewRootId:"143efdee-ad05-818b-87f2-c63ffaa1b0f8",rootId:"143efdee-ad05-818b-87f2-c63ffaa1b0f8",spaceId:u().Zz},"ja-JP":{previewRootId:"143efdee-ad05-81f0-aa99-dc3f0eb1e3e0",rootId:"143efdee-ad05-81f0-aa99-dc3f0eb1e3e0",spaceId:u().Zz},"fr-FR":{previewRootId:"143efdee-ad05-81d8-a562-e85409c73c99",rootId:"143efdee-ad05-81d8-a562-e85409c73c99",spaceId:u().Zz},"de-DE":{previewRootId:"143efdee-ad05-81a8-ab4d-fff7f1cee489",rootId:"143efdee-ad05-81a8-ab4d-fff7f1cee489",spaceId:u().Zz},"es-LA":{previewRootId:"143efdee-ad05-81bf-8a04-e0d023eb2d70",rootId:"143efdee-ad05-81bf-8a04-e0d023eb2d70",spaceId:u().Zz},"pt-BR":{previewRootId:"143efdee-ad05-81ee-899f-d91893d9c73f",rootId:"143efdee-ad05-81ee-899f-d91893d9c73f",spaceId:u().Zz},"zh-TW":{previewRootId:"156efdee-ad05-8009-a814-f049b00afef0",rootId:"156efdee-ad05-8009-a814-f049b00afef0",spaceId:u().Zz}}},onboardingClubs:{nameMessage:g().DZ.clubHomepage,sources:{"en-US":{previewRootId:"fb156a4d-5f13-4df2-affd-d99276e8076c",rootId:"fb156a4d-5f13-4df2-affd-d99276e8076c",spaceId:u().Zz},"ko-KR":{previewRootId:"143efdee-ad05-81ba-8ae0-e807e495bfd6",rootId:"143efdee-ad05-81ba-8ae0-e807e495bfd6",spaceId:u().Zz},"ja-JP":{previewRootId:"143efdee-ad05-8100-bb2e-d32c789eb036",rootId:"143efdee-ad05-8100-bb2e-d32c789eb036",spaceId:u().Zz},"fr-FR":{previewRootId:"143efdee-ad05-8196-8f36-d641534cb258",rootId:"143efdee-ad05-8196-8f36-d641534cb258",spaceId:u().Zz},"de-DE":{previewRootId:"143efdee-ad05-814e-8427-fcde744e9714",rootId:"143efdee-ad05-814e-8427-fcde744e9714",spaceId:u().Zz},"es-LA":{previewRootId:"143efdee-ad05-8117-9ea2-df755f72607d",rootId:"143efdee-ad05-8117-9ea2-df755f72607d",spaceId:u().Zz},"pt-BR":{previewRootId:"143efdee-ad05-81b2-bab9-d984d16a3b27",rootId:"143efdee-ad05-81b2-bab9-d984d16a3b27",spaceId:u().Zz},"zh-TW":{previewRootId:"156efdee-ad05-8003-8485-c07b0c46b88d",rootId:"156efdee-ad05-8003-8485-c07b0c46b88d",spaceId:u().Zz}}},onboardingTeachingLessonPlans:{nameMessage:g().DZ.lessonPlans,sources:{"en-US":{previewRootId:"1b8443dc-1b43-4d5f-8e1e-63fcbcf01910",rootId:"1b8443dc-1b43-4d5f-8e1e-63fcbcf01910",spaceId:u().Zz},"ko-KR":{previewRootId:"143efdee-ad05-81cc-aafc-f7554875630e",rootId:"143efdee-ad05-81cc-aafc-f7554875630e",spaceId:u().Zz},"ja-JP":{previewRootId:"143efdee-ad05-8142-a004-c24e683c73ff",rootId:"143efdee-ad05-8142-a004-c24e683c73ff",spaceId:u().Zz},"fr-FR":{previewRootId:"143efdee-ad05-814c-9c2d-d066c2f3a49e",rootId:"143efdee-ad05-814c-9c2d-d066c2f3a49e",spaceId:u().Zz},"de-DE":{previewRootId:"143efdee-ad05-81a9-9247-ca2c9816b051",rootId:"143efdee-ad05-81a9-9247-ca2c9816b051",spaceId:u().Zz},"es-LA":{previewRootId:"143efdee-ad05-8170-80b9-db81fde1ca0f",rootId:"143efdee-ad05-8170-80b9-db81fde1ca0f",spaceId:u().Zz},"pt-BR":{previewRootId:"144efdee-ad05-804d-a9b7-e0c75041c513",rootId:"144efdee-ad05-804d-a9b7-e0c75041c513",spaceId:u().Zz},"zh-TW":{previewRootId:"156efdee-ad05-8030-84e1-d67a8d9fb409",rootId:"156efdee-ad05-8030-84e1-d67a8d9fb409",spaceId:u().Zz}}},onboardingTeachingClassroomManagement:{nameMessage:g().DZ.classroomHome,sources:{"en-US":{previewRootId:"1d89b11d-e41e-4713-a45c-64d96dcde7d2",rootId:"1d89b11d-e41e-4713-a45c-64d96dcde7d2",spaceId:u().Zz},"ko-KR":{previewRootId:"143efdee-ad05-812b-85fc-c09466d26285",rootId:"143efdee-ad05-812b-85fc-c09466d26285",spaceId:u().Zz},"ja-JP":{previewRootId:"143efdee-ad05-8184-ae51-c37920ccc6d1",rootId:"143efdee-ad05-8184-ae51-c37920ccc6d1",spaceId:u().Zz},"fr-FR":{previewRootId:"143efdee-ad05-810b-a54e-db202a8ac417",rootId:"143efdee-ad05-810b-a54e-db202a8ac417",spaceId:u().Zz},"de-DE":{previewRootId:"143efdee-ad05-8195-be61-c331b66b76a1",rootId:"143efdee-ad05-8195-be61-c331b66b76a1",spaceId:u().Zz},"es-LA":{previewRootId:"143efdee-ad05-81c3-a77a-df3bc327aa92",rootId:"143efdee-ad05-81c3-a77a-df3bc327aa92",spaceId:u().Zz},"pt-BR":{previewRootId:"143efdee-ad05-81a3-b3f6-fd982723abd4",rootId:"143efdee-ad05-81a3-b3f6-fd982723abd4",spaceId:u().Zz},"zh-TW":{previewRootId:"143efdee-ad05-8157-8683-dd2d7ab8d6de",rootId:"143efdee-ad05-8157-8683-dd2d7ab8d6de",spaceId:u().Zz}}},onboardingWebsiteBuildingForSchool:{nameMessage:g().DZ.blogPost,sources:{"en-US":{previewRootId:"6980f354-76bb-49d7-b0c0-ce7210067a9a",rootId:"6980f354-76bb-49d7-b0c0-ce7210067a9a",spaceId:u().Zz},"ko-KR":{previewRootId:"143efdee-ad05-81e3-8a3b-f79a5cfa4dd2",rootId:"143efdee-ad05-81e3-8a3b-f79a5cfa4dd2",spaceId:u().Zz},"ja-JP":{previewRootId:"143efdee-ad05-811b-ac01-dd49ed3c08fc",rootId:"143efdee-ad05-811b-ac01-dd49ed3c08fc",spaceId:u().Zz},"fr-FR":{previewRootId:"143efdee-ad05-811e-b989-c162569b025b",rootId:"143efdee-ad05-811e-b989-c162569b025b",spaceId:u().Zz},"de-DE":{previewRootId:"143efdee-ad05-81c0-a122-c1728fd6e494",rootId:"143efdee-ad05-81c0-a122-c1728fd6e494",spaceId:u().Zz},"es-LA":{previewRootId:"143efdee-ad05-81b0-8977-f68ce78d7d99",rootId:"143efdee-ad05-81b0-8977-f68ce78d7d99",spaceId:u().Zz},"pt-BR":{previewRootId:"143efdee-ad05-8111-b0c9-d1a8bb893a80",rootId:"143efdee-ad05-8111-b0c9-d1a8bb893a80",spaceId:u().Zz},"zh-TW":{previewRootId:"155efdee-ad05-807a-b877-d9fdee75fb61",rootId:"155efdee-ad05-807a-b877-d9fdee75fb61",spaceId:u().Zz}}},onboardingInternshipApplications:{nameMessage:g().DZ.jobApplications,sources:{"en-US":{previewRootId:"2efd56c2-0a35-4bb2-82f7-806cc8897475",rootId:"2efd56c2-0a35-4bb2-82f7-806cc8897475",spaceId:u().Zz},"ko-KR":{previewRootId:"143efdee-ad05-81cb-b9d0-f271a642c54f",rootId:"143efdee-ad05-81cb-b9d0-f271a642c54f",spaceId:u().Zz},"ja-JP":{previewRootId:"143efdee-ad05-81ad-aec7-fd46734c5116",rootId:"143efdee-ad05-81ad-aec7-fd46734c5116",spaceId:u().Zz},"fr-FR":{previewRootId:"143efdee-ad05-8102-8a5e-db9c601db0d0",rootId:"143efdee-ad05-8102-8a5e-db9c601db0d0",spaceId:u().Zz},"de-DE":{previewRootId:"143efdee-ad05-8138-8bc4-c026575c1a5a",rootId:"143efdee-ad05-8138-8bc4-c026575c1a5a",spaceId:u().Zz},"es-LA":{previewRootId:"143efdee-ad05-81ff-9e94-daddcf254276",rootId:"143efdee-ad05-81ff-9e94-daddcf254276",spaceId:u().Zz},"pt-BR":{previewRootId:"143efdee-ad05-8184-9c4a-d4c5e2864553",rootId:"143efdee-ad05-8184-9c4a-d4c5e2864553",spaceId:u().Zz},"zh-TW":{previewRootId:"156efdee-ad05-8079-955a-ffed1bc03180",rootId:"156efdee-ad05-8079-955a-ffed1bc03180",spaceId:u().Zz}}},onboardingGroupProjects:{nameMessage:g().DZ.projectManagement,sources:{"en-US":{previewRootId:"57fb8021-9ca4-4433-ba46-9dcef774a280",rootId:"57fb8021-9ca4-4433-ba46-9dcef774a280",spaceId:u().Zz},"ko-KR":{previewRootId:"143efdee-ad05-8106-9cc4-c4e5271898ac",rootId:"143efdee-ad05-8106-9cc4-c4e5271898ac",spaceId:u().Zz},"ja-JP":{previewRootId:"143efdee-ad05-81ac-9117-e8bf31e1dbcd",rootId:"143efdee-ad05-81ac-9117-e8bf31e1dbcd",spaceId:u().Zz},"fr-FR":{previewRootId:"143efdee-ad05-81db-ae0b-d5e40440248e",rootId:"143efdee-ad05-81db-ae0b-d5e40440248e",spaceId:u().Zz},"de-DE":{previewRootId:"143efdee-ad05-8109-97f5-c83ecd0f8528",rootId:"143efdee-ad05-8109-97f5-c83ecd0f8528",spaceId:u().Zz},"es-LA":{previewRootId:"143efdee-ad05-81bf-82de-e7b262a7828a",rootId:"143efdee-ad05-81bf-82de-e7b262a7828a",spaceId:u().Zz},"pt-BR":{previewRootId:"143efdee-ad05-816a-b025-d52699cdb6cf",rootId:"143efdee-ad05-816a-b025-d52699cdb6cf",spaceId:u().Zz},"zh-TW":{previewRootId:"143efdee-ad05-81af-b314-d6dd6307b9ad",rootId:"143efdee-ad05-81af-b314-d6dd6307b9ad",spaceId:u().Zz}}},onboardingTodos:{nameMessage:g().DZ.weeklyTodo,sources:{"en-US":{previewRootId:"100efdee-ad05-807b-a52d-f1f55c5b017e",rootId:"100efdee-ad05-807b-a52d-f1f55c5b017e",spaceId:u().Zz},"ko-KR":{previewRootId:"13fefdee-ad05-8189-9104-c2046861495c",rootId:"13fefdee-ad05-8189-9104-c2046861495c",spaceId:u().Zz},"ja-JP":{previewRootId:"13fefdee-ad05-81b7-af84-fd86d8fc68bc",rootId:"13fefdee-ad05-81b7-af84-fd86d8fc68bc",spaceId:u().Zz},"fr-FR":{previewRootId:"13fefdee-ad05-814a-bc42-e93a1ed5b0e1",rootId:"13fefdee-ad05-814a-bc42-e93a1ed5b0e1",spaceId:u().Zz},"de-DE":{previewRootId:"13fefdee-ad05-81b4-808b-e0c5709345ee",rootId:"13fefdee-ad05-81b4-808b-e0c5709345ee",spaceId:u().Zz},"es-LA":{previewRootId:"13fefdee-ad05-8151-83de-fe1c2acacc02",rootId:"13fefdee-ad05-8151-83de-fe1c2acacc02",spaceId:u().Zz},"pt-BR":{previewRootId:"13fefdee-ad05-8100-9215-e984d0a11a94",rootId:"13fefdee-ad05-8100-9215-e984d0a11a94",spaceId:u().Zz},"zh-TW":{previewRootId:"156efdee-ad05-80ef-92c7-ec3adbdaf5f7",rootId:"156efdee-ad05-80ef-92c7-ec3adbdaf5f7",spaceId:u().Zz}}},onboardingProjectsTasks:{nameMessage:g().DZ.projectManagement,sources:{"en-US":{previewRootId:"d31296ec-615d-48fb-8d78-c0f120434124",rootId:"d31296ec-615d-48fb-8d78-c0f120434124",spaceId:u().Zz},"ko-KR":{previewRootId:"143efdee-ad05-81a9-a8f3-c60db17ef328",rootId:"143efdee-ad05-81a9-a8f3-c60db17ef328",spaceId:u().Zz},"ja-JP":{previewRootId:"143efdee-ad05-81ac-8817-f6e9fe69f0da",rootId:"143efdee-ad05-81ac-8817-f6e9fe69f0da",spaceId:u().Zz},"fr-FR":{previewRootId:"143efdee-ad05-815a-8209-f89dded4ee01",rootId:"143efdee-ad05-815a-8209-f89dded4ee01",spaceId:u().Zz},"de-DE":{previewRootId:"143efdee-ad05-81e8-84a7-f025d8e62149",rootId:"143efdee-ad05-81e8-84a7-f025d8e62149",spaceId:u().Zz},"es-LA":{previewRootId:"143efdee-ad05-817f-8205-ca74a302a56e",rootId:"143efdee-ad05-817f-8205-ca74a302a56e",spaceId:u().Zz},"pt-BR":{previewRootId:"143efdee-ad05-8173-b8e5-c90c05e2defd",rootId:"143efdee-ad05-8173-b8e5-c90c05e2defd",spaceId:u().Zz},"zh-TW":{previewRootId:"156efdee-ad05-8054-8e35-c7a4797097e5",rootId:"156efdee-ad05-8054-8e35-c7a4797097e5",spaceId:u().Zz}}},onboardingHabitWellness:{nameMessage:g().DZ.habitTracker,sources:{"en-US":{previewRootId:"1ce7e74a-0cb8-4380-ac57-275cc870489b",rootId:"1ce7e74a-0cb8-4380-ac57-275cc870489b",spaceId:u().Zz},"ko-KR":{previewRootId:"13fefdee-ad05-8163-ae75-df0174c7c430",rootId:"13fefdee-ad05-8163-ae75-df0174c7c430",spaceId:u().Zz},"ja-JP":{previewRootId:"13fefdee-ad05-81a3-a3b9-e04e61488066",rootId:"13fefdee-ad05-81a3-a3b9-e04e61488066",spaceId:u().Zz},"fr-FR":{previewRootId:"13fefdee-ad05-8135-882b-e2890e63a8c2",rootId:"13fefdee-ad05-8135-882b-e2890e63a8c2",spaceId:u().Zz},"de-DE":{previewRootId:"13fefdee-ad05-812c-a584-ce3c29c48810",rootId:"13fefdee-ad05-812c-a584-ce3c29c48810",spaceId:u().Zz},"es-LA":{previewRootId:"13fefdee-ad05-81ab-a7e6-d7efb7d41f80",rootId:"13fefdee-ad05-81ab-a7e6-d7efb7d41f80",spaceId:u().Zz},"pt-BR":{previewRootId:"13fefdee-ad05-8199-95d6-c57460ec8124",rootId:"13fefdee-ad05-8199-95d6-c57460ec8124",spaceId:u().Zz},"zh-TW":{previewRootId:"156efdee-ad05-805b-a670-fe13b866cafb",rootId:"156efdee-ad05-805b-a670-fe13b866cafb",spaceId:u().Zz}}},onboardingBudgetPersonalFinance:{nameMessage:g().DZ.simpleBudget,sources:{"en-US":{previewRootId:"01e1651c-ae3c-4c16-882c-a5951acc5c17",rootId:"01e1651c-ae3c-4c16-882c-a5951acc5c17",spaceId:u().Zz},"ko-KR":{previewRootId:"143efdee-ad05-8150-8695-c883cecf18a3",rootId:"143efdee-ad05-8150-8695-c883cecf18a3",spaceId:u().Zz},"ja-JP":{previewRootId:"143efdee-ad05-81ae-a900-f6d65504f2ec",rootId:"143efdee-ad05-81ae-a900-f6d65504f2ec",spaceId:u().Zz},"fr-FR":{previewRootId:"143efdee-ad05-81fc-a087-e161a046bab9",rootId:"143efdee-ad05-81fc-a087-e161a046bab9",spaceId:u().Zz},"de-DE":{previewRootId:"143efdee-ad05-81ae-8aa3-e6ed50bfb9b4",rootId:"143efdee-ad05-81ae-8aa3-e6ed50bfb9b4",spaceId:u().Zz},"es-LA":{previewRootId:"143efdee-ad05-81a3-b15a-cd149d57b639",rootId:"143efdee-ad05-81a3-b15a-cd149d57b639",spaceId:u().Zz},"pt-BR":{previewRootId:"143efdee-ad05-8154-8fbc-dfb5b6a28e16",rootId:"143efdee-ad05-8154-8fbc-dfb5b6a28e16",spaceId:u().Zz},"zh-TW":{previewRootId:"155efdee-ad05-8086-8830-e8742b0fae03",rootId:"155efdee-ad05-8086-8830-e8742b0fae03",spaceId:u().Zz}}},onboardingTravel:{nameMessage:g().DZ.travelPlanner,sources:{"en-US":{previewRootId:"0377a864-3392-4c3d-8fb4-93a7090da36d",rootId:"0377a864-3392-4c3d-8fb4-93a7090da36d",spaceId:u().Zz},"ko-KR":{previewRootId:"152efdee-ad05-803f-8539-c04282f8a5f1",rootId:"152efdee-ad05-803f-8539-c04282f8a5f1",spaceId:u().Zz},"ja-JP":{previewRootId:"143efdee-ad05-81c9-bf43-c677fb843a97",rootId:"143efdee-ad05-81c9-bf43-c677fb843a97",spaceId:u().Zz},"fr-FR":{previewRootId:"143efdee-ad05-8144-9290-cc99fe767cc2",rootId:"143efdee-ad05-8144-9290-cc99fe767cc2",spaceId:u().Zz},"de-DE":{previewRootId:"143efdee-ad05-814e-ad6f-f4b4018bcf01",rootId:"143efdee-ad05-814e-ad6f-f4b4018bcf01",spaceId:u().Zz},"es-LA":{previewRootId:"143efdee-ad05-8161-8c70-dc7e7b67f385",rootId:"143efdee-ad05-8161-8c70-dc7e7b67f385",spaceId:u().Zz},"pt-BR":{previewRootId:"143efdee-ad05-81c0-b3c6-fe32127494af",rootId:"143efdee-ad05-81c0-b3c6-fe32127494af",spaceId:u().Zz},"zh-TW":{previewRootId:"156efdee-ad05-80c6-a6bf-fe009f1a8f47",rootId:"156efdee-ad05-80c6-a6bf-fe009f1a8f47",spaceId:u().Zz}}},onboardingHobbies:{nameMessage:g().DZ.personalHome,sources:{"en-US":{previewRootId:"100efdee-ad05-80f9-9e2f-e1cc18377400",rootId:"100efdee-ad05-80f9-9e2f-e1cc18377400",spaceId:u().Zz},"ko-KR":{previewRootId:"143efdee-ad05-81c8-ac14-e5e5e1ef2f81",rootId:"143efdee-ad05-81c8-ac14-e5e5e1ef2f81",spaceId:u().Zz},"ja-JP":{previewRootId:"143efdee-ad05-8100-906f-c98376fef3d7",rootId:"143efdee-ad05-8100-906f-c98376fef3d7",spaceId:u().Zz},"fr-FR":{previewRootId:"143efdee-ad05-8189-8be8-c0077def8c7c",rootId:"143efdee-ad05-8189-8be8-c0077def8c7c",spaceId:u().Zz},"de-DE":{previewRootId:"143efdee-ad05-81fd-a9ec-cd4f67931f0d",rootId:"143efdee-ad05-81fd-a9ec-cd4f67931f0d",spaceId:u().Zz},"es-LA":{previewRootId:"143efdee-ad05-811f-bfdd-d926f115eeed",rootId:"143efdee-ad05-811f-bfdd-d926f115eeed",spaceId:u().Zz},"pt-BR":{previewRootId:"143efdee-ad05-815b-bfeb-eb65424473f4",rootId:"143efdee-ad05-815b-bfeb-eb65424473f4",spaceId:u().Zz},"zh-TW":{previewRootId:"143efdee-ad05-81ab-bdcb-c59f61a23634",rootId:"143efdee-ad05-81ab-bdcb-c59f61a23634",spaceId:u().Zz}}},onboardingCareerBuilding:{nameMessage:g().DZ.jobBoard,sources:{"en-US":{previewRootId:"296d5b43-9e4c-408a-8ba2-e202d9f38b20",rootId:"296d5b43-9e4c-408a-8ba2-e202d9f38b20",spaceId:u().Zz},"ko-KR":{previewRootId:"143efdee-ad05-8197-9f58-d07e2737d50b",rootId:"143efdee-ad05-8197-9f58-d07e2737d50b",spaceId:u().Zz},"ja-JP":{previewRootId:"143efdee-ad05-817c-8e7a-e50f07f77747",rootId:"143efdee-ad05-817c-8e7a-e50f07f77747",spaceId:u().Zz},"fr-FR":{previewRootId:"143efdee-ad05-8101-88dc-c024930282a2",rootId:"143efdee-ad05-8101-88dc-c024930282a2",spaceId:u().Zz},"de-DE":{previewRootId:"143efdee-ad05-8150-806c-fb5c0f3e6c0a",rootId:"143efdee-ad05-8150-806c-fb5c0f3e6c0a",spaceId:u().Zz},"es-LA":{previewRootId:"143efdee-ad05-815f-b224-d7b564a11406",rootId:"143efdee-ad05-815f-b224-d7b564a11406",spaceId:u().Zz},"pt-BR":{previewRootId:"143efdee-ad05-81e5-be5b-c15caf22f82c",rootId:"143efdee-ad05-81e5-be5b-c15caf22f82c",spaceId:u().Zz},"zh-TW":{previewRootId:"156efdee-ad05-8006-898b-dfc3a03e9052",rootId:"156efdee-ad05-8006-898b-dfc3a03e9052",spaceId:u().Zz}}},onboardingFoodNutrition:{nameMessage:g().DZ.personalHome,sources:{"en-US":{previewRootId:"100efdee-ad05-806d-909f-dafc0f1fef48",rootId:"100efdee-ad05-806d-909f-dafc0f1fef48",spaceId:u().Zz},"ko-KR":{previewRootId:"143efdee-ad05-81f5-a0ad-f619d1607c29",rootId:"143efdee-ad05-81f5-a0ad-f619d1607c29",spaceId:u().Zz},"ja-JP":{previewRootId:"143efdee-ad05-81db-a853-d677b6292636",rootId:"143efdee-ad05-81db-a853-d677b6292636",spaceId:u().Zz},"fr-FR":{previewRootId:"143efdee-ad05-812b-b3c1-f7b5e8f8f7d7",rootId:"143efdee-ad05-812b-b3c1-f7b5e8f8f7d7",spaceId:u().Zz},"de-DE":{previewRootId:"143efdee-ad05-8156-b426-d739a3f9da5f",rootId:"143efdee-ad05-8156-b426-d739a3f9da5f",spaceId:u().Zz},"es-LA":{previewRootId:"143efdee-ad05-81aa-a5d9-ecf9472ba97d",rootId:"143efdee-ad05-81aa-a5d9-ecf9472ba97d",spaceId:u().Zz},"pt-BR":{previewRootId:"143efdee-ad05-81c8-9f83-c88e756bd26d",rootId:"143efdee-ad05-81c8-9f83-c88e756bd26d",spaceId:u().Zz},"zh-TW":{previewRootId:"156efdee-ad05-80aa-8d1c-e16d660b6371",rootId:"156efdee-ad05-80aa-8d1c-e16d660b6371",spaceId:u().Zz}}},onboardingWebsiteBuildingForLife:{nameMessage:g().DZ.blogPost,sources:{"en-US":{previewRootId:"0ffefdee-ad05-80be-88ce-d77fc8e93fff",rootId:"0ffefdee-ad05-80be-88ce-d77fc8e93fff",spaceId:u().Zz},"ko-KR":{previewRootId:"143efdee-ad05-8174-a5e7-e1a2732303b9",rootId:"143efdee-ad05-8174-a5e7-e1a2732303b9",spaceId:u().Zz},"ja-JP":{previewRootId:"143efdee-ad05-81fa-99dd-d257c4e9b1c2",rootId:"143efdee-ad05-81fa-99dd-d257c4e9b1c2",spaceId:u().Zz},"fr-FR":{previewRootId:"143efdee-ad05-81a9-8236-ee31b552b18f",rootId:"143efdee-ad05-81a9-8236-ee31b552b18f",spaceId:u().Zz},"de-DE":{previewRootId:"143efdee-ad05-812f-96ab-c3c12fbb71b7",rootId:"143efdee-ad05-812f-96ab-c3c12fbb71b7",spaceId:u().Zz},"es-LA":{previewRootId:"143efdee-ad05-8172-9406-dd5f6eb17e05",rootId:"143efdee-ad05-8172-9406-dd5f6eb17e05",spaceId:u().Zz},"pt-BR":{previewRootId:"143efdee-ad05-81a8-9f8f-e0ce84feb984",rootId:"143efdee-ad05-81a8-9f8f-e0ce84feb984",spaceId:u().Zz},"zh-TW":{previewRootId:"156efdee-ad05-805a-8e31-ea80d88a8629",rootId:"156efdee-ad05-805a-8e31-ea80d88a8629",spaceId:u().Zz}}},onboardingEntertainment:{nameMessage:g().DZ.blogPost,sources:{"en-US":{previewRootId:"0f536756-d4b0-4ef9-a6fa-a9836163fe96",rootId:"0f536756-d4b0-4ef9-a6fa-a9836163fe96",spaceId:u().Zz},"ko-KR":{previewRootId:"14cefdee-ad05-808e-9421-fc83eb34c288",rootId:"14cefdee-ad05-808e-9421-fc83eb34c288",spaceId:u().Zz},"ja-JP":{previewRootId:"143efdee-ad05-81d3-b4c8-c24f10c4002b",rootId:"143efdee-ad05-81d3-b4c8-c24f10c4002b",spaceId:u().Zz},"fr-FR":{previewRootId:"143efdee-ad05-8172-8bc3-d484af0f7cef",rootId:"143efdee-ad05-8172-8bc3-d484af0f7cef",spaceId:u().Zz},"de-DE":{previewRootId:"143efdee-ad05-81ae-a2d8-e7efe2fc8740",rootId:"143efdee-ad05-81ae-a2d8-e7efe2fc8740",spaceId:u().Zz},"es-LA":{previewRootId:"143efdee-ad05-8114-bd29-d5d5e28509b8",rootId:"143efdee-ad05-8114-bd29-d5d5e28509b8",spaceId:u().Zz},"pt-BR":{previewRootId:"143efdee-ad05-8132-96c1-dd872b390408",rootId:"143efdee-ad05-8132-96c1-dd872b390408",spaceId:u().Zz},"zh-TW":{previewRootId:"155efdee-ad05-80fa-a77d-d609b51ad439",rootId:"155efdee-ad05-80fa-a77d-d609b51ad439",spaceId:u().Zz}}}},v={planner:{desktop:f.onboardingPlanner,mobile:m.onboardingPlanner},notes:{desktop:f.onboardingNotes,mobile:m.onboardingNotes},research:{desktop:f.onboardingResearch,mobile:m.onboardingResearch},clubs:{desktop:f.onboardingClubs,mobile:m.onboardingClubs},teachingLessonPlans:{desktop:f.onboardingTeachingLessonPlans,mobile:m.onboardingTeachingLessonPlans},teachingClassroomManagement:{desktop:f.onboardingTeachingClassroomManagement,mobile:m.onboardingTeachingClassroomManagement},websiteBuildingForSchool:{desktop:f.onboardingWebsiteBuildingForSchool,mobile:m.onboardingWebsiteBuildingForSchool},internshipApplications:{desktop:f.onboardingInternshipApplications,mobile:m.onboardingInternshipApplications},groupProjects:{desktop:f.onboardingGroupProjects,mobile:m.onboardingGroupProjects},todos:{desktop:f.onboardingTodos,mobile:m.onboardingTodos},projectsTasks:{desktop:f.onboardingProjectsTasks,mobile:m.onboardingProjectsTasks},habitWellness:{desktop:f.onboardingHabitWellness,mobile:m.onboardingHabitWellness},budgetPersonalFinance:{desktop:f.onboardingBudgetPersonalFinance,mobile:m.onboardingBudgetPersonalFinance},travel:{desktop:f.onboardingTravel,mobile:m.onboardingTravel},hobbies:{desktop:f.onboardingHobbies,mobile:m.onboardingHobbies},careerBuilding:{desktop:f.onboardingCareerBuilding,mobile:m.onboardingCareerBuilding},foodNutrition:{desktop:f.onboardingFoodNutrition,mobile:m.onboardingFoodNutrition},websiteBuildingForLife:{desktop:f.onboardingWebsiteBuildingForLife,mobile:m.onboardingWebsiteBuildingForLife},entertainment:{desktop:f.onboardingEntertainment,mobile:m.onboardingEntertainment}},y={desktop:[f.onboardingTodos,f.onboardingBudgetPersonalFinance],mobile:[m.onboardingTodos,m.onboardingBudgetPersonalFinance]},S={desktop:[f.onboardingPlanner,f.onboardingNotes],mobile:[m.onboardingPlanner,m.onboardingNotes]};var h=()=>o(69708);const I=(0,h().YK)({gantt:{defaultMessage:"Gantt chart ",id:"templateHelpers.gantt"},crm:{defaultMessage:"CRM",id:"templateHelpers.crm"},projectManagement:{defaultMessage:"Project management",id:"templateHelpers.projectManagement"}}),x={onboardingGantt:{nameMessage:I.gantt,sources:{"en-US":{previewRootId:"13c17954-d9c2-80c1-9ef2-c69951bd98e0",rootId:"13c17954-d9c2-80c1-9ef2-c69951bd98e0",spaceId:p().rQ}}},onboardingCrm:{nameMessage:I.crm,sources:{"en-US":{previewRootId:"14517954-d9c2-801e-990c-cf21ecd51949",rootId:"14517954-d9c2-801e-990c-cf21ecd51949",spaceId:p().rQ}}},onboardingProjectManagement:{nameMessage:I.projectManagement,sources:{"en-US":{previewRootId:"14517954-d9c2-80a4-9fbf-d0581e8c6e3d",rootId:"14517954-d9c2-80a4-9fbf-d0581e8c6e3d",spaceId:p().rQ}}}},w={databases:{nameMessage:g().DZ.quickStartDatabases,sources:{"en-US":{previewRootId:"2a417954-d9c2-8018-8b62-f1d1b40d715c",rootId:"2a417954-d9c2-8018-8b62-f1d1b40d715c",spaceId:p().rQ}}},meeting_notes:{nameMessage:g().DZ.quickStartMeetingNotes,sources:{"en-US":{previewRootId:"2a417954-d9c2-80fe-85fd-cfc63e579ab1",rootId:"2a417954-d9c2-80fe-85fd-cfc63e579ab1",spaceId:p().rQ}}},ai_agents:{nameMessage:g().DZ.quickStartAIAgents,sources:{"en-US":{previewRootId:"2a417954-d9c2-807a-9e49-c33e1ef59341",rootId:"2a417954-d9c2-807a-9e49-c33e1ef59341",spaceId:p().rQ}}},enterprise_search:{nameMessage:g().DZ.quickStartEnterpriseSearch,sources:{"en-US":{previewRootId:"2a417954-d9c2-8071-8e66-e96e2db269e5",rootId:"2a417954-d9c2-8071-8e66-e96e2db269e5",spaceId:p().rQ}}}};var _=()=>o(797573),A=()=>o(869063),j=()=>o(872931),k=()=>o(496603),T=()=>o(843224),C=()=>o(703980),M=()=>o(160568),R=()=>o(769864),P=()=>o(384944),D=()=>o(666144),N=()=>o(185544),E=()=>o(185631),O=()=>o(72234),B=()=>o(845147),z=()=>o(272006),F=()=>o(620173),W=()=>o(316189),U=()=>o(547149),L=()=>o(913454),V=()=>o(239924),Q=()=>o(981265),K=(o(809678),o(737550),()=>o(929219)),G=()=>o(62120),H=()=>o(388821),Z=()=>o(179034),q=()=>o(854150),J=()=>o(973647),$=()=>o(534177),Y=()=>o(651073),X=()=>o(213477),ee=()=>o(62977),te=()=>o(495463),oe=()=>o(420709);async function ae(e){var t,o;const{environment:a,spaceStore:i,spaceViewStore:r,teamStore:s,userSettingsStore:l,templates:c}=e;if(!K().A.state.online)return[];if(null!==(t=c.private)&&void 0!==t&&t.some((e=>{var t;return null===(t=e.options)||void 0===t?void 0:t.relativeDatesDefinition}))||null!==(o=c.teamspace)&&void 0!==o&&o.some((e=>{var t;return null===(t=e.options)||void 0===t?void 0:t.relativeDatesDefinition}))||!(0,ee().q)()){const e=[];for(const t of(0,$().uv)(c))for(const o of(c[t]??[]).toReversed()){const t=await(0,te().U)({environment:a,spaceStore:i,spaceViewStore:r,userSettingsStore:l,template:o});e.push(t)}return e.filter((e=>void 0!==e)).toReversed()}const p=H().RecordMapPolymorphic.create(),g=[];for(const n of(0,$().uv)(c)){const e=c[n]??[];if(!e.length)continue;const t=e.map((e=>new(d().B)(a,{table:Z().ev,id:e.pageId,spaceId:e.spaceId}))),o=(0,G().vC)("teamspace"===n&&s?{table:q().yK,id:s.id,spaceId:i.getSpaceId()}:{table:u().NX,id:i.id,spaceId:i.getSpaceId()}),r=await(0,X().hh)({environment:a,sourceBlocks:t,destination:o,options:{duplicateOnlyCollectionSchema:!1,deepCopyTransclusionContainers:!0,resolveTemplateVariables:!0,isTemplateInstantiation:!0,useSharedContext:!0},unlockPage:!0,templateInstallationMetadata:{source:"onboarding"},shouldUseSynchronousDuplicationAPI:!0,from:"create_getting_started",duplicateSubtreeGateName:"duplicate_subtree_template_flows",skipUserFacingMessages:!0});if(J().Q.isFail(r)||0===r.value.createdBlocks.length){(0,C().x)(a,{getting_started_page_type:e[0].templateName,errorType:"duplicateToFailed",spaceId:i.id,errorMessage:r.error?r.error.toString():""});continue}const l=r.value.createdBlocks.filter((e=>e.isPageBlock()||e.isCopyIndicator()));for(let a=0;a<l.length;a++)p.set(t[a],l[a]),g.push(l[a]);for(const n of e){var f;(0,Y().K)(a,{getting_started_page_type:n.templateName,getting_started_page_id:n.pageId,duplicated_from_page_id:n.pageId,duplicated_to_page_id:(null===(f=p.get({table:Z().ev,id:n.pageId}))||void 0===f?void 0:f.id)??"unknown"})}}const{serverCommitResult:b}=U().createAndCommit({environment:a,userAction:"duplicateGettingStartedPagesInSpace.postProcessDuplicatedPages",canUndo:!1,perform:e=>{const t={},o={};for(const r of(0,$().uv)(c)){var n;for(const t of c[r]??[]){var i;if(null===(i=t.options)||void 0===i||!i.relativeDatesDefinition)continue;const o=p.get({table:Z().ev,id:t.pageId}),n=g.find((e=>e.id===(null==o?void 0:o.id)));n&&(0,Q().ew)({environment:a,pageStore:n,originalToDuplicate:p,relativeDatesDefinition:t.options.relativeDatesDefinition,transaction:e})}null!==(n=c.private)&&void 0!==n&&n.some((e=>"evernote"===e.templateName))?t.created_evernote_getting_started=!0:o.created_getting_started=!0}Object.keys(o).length>0&&P().zv({store:r,data:o,transaction:e}),Object.keys(t).length>0&&P().zv({store:l.getSettingsStore(),data:t,transaction:e})}});return await b.then((()=>{if(n().default.checkGate({gateName:"notion_calendar_getting_started_experience"}))for(const e of g)(0,oe().E)({pageStore:e,environment:a})})),g}var ne=()=>o(467041);const ie=(0,h().YK)({invalidSpaceStore:{defaultMessage:"Invalid space data.",id:"spaceActions.dialogError.createTemplatesInSpace.invalidStorage.message"},invalidSpaceStoreOnCreateTemplate:{defaultMessage:"Invalid space view data.",id:"spaceActions.dialogError.createTemplatesInWorkspace.invalidStorage.message"},invalidUserSettings:{defaultMessage:"Invalid user settings data.",id:"spaceActions.dialogError.createTemplatesInWorkspace.invalidUserSettings.message"}});async function re(e){const{environment:t,spaceViewStore:o,userSettingsStore:a,redirectData:i,userRootStore:s,teamStore:d,templatesToCreateInSpace:c,isNewUserOnboarding:u,isPrivate:p,useCases:g}=e,f=o.getSpaceStore();if(!f)throw new Error(r().A.formatMessage(ie.invalidSpaceStore));let b=[];if(a&&f&&(c.pageTemplates||c.appTemplates||c.workflowTemplates)){if("performance_marketing_template"!==i.type)try{const e=n().default.getConfigKey("onboarding_config","templatesDuplicationTimeoutInSeconds"),i=ce({environment:t,isNewUserOnboarding:u,isPrivate:p,spaceStore:f,spaceViewStore:o,teamStore:d,templatesToCreateInSpace:c,useCases:g,userSettingsStore:a});b=await Promise.race([i,new Promise((t=>{setTimeout((()=>t([])),1e3*e)}))])}catch(m){l().log({level:"error",from:"createOnboardingTemplatesActions",type:"createTemplatePagesInSpace",data:{miscDataToConvertToString:{error:m}}})}else b=await ce({...e,spaceStore:f,userSettingsStore:a,teamStore:d,isNewUserOnboarding:u})}return await de({environment:t,redirectData:i,spaceStore:f,userRootStore:s,createdTemplatePages:b})}async function se({environment:e,spaceStore:t,spaceViewStore:o,teamStore:s,userSettingsStore:c,planType:u,isNewUserOnboarding:p,spaceJoinOrCreate:g,userContext:f}){let b=[];if(c)try{b=(await async function(e){var t,o;const{environment:a,spaceStore:s,spaceViewStore:c,teamStore:u,userSettingsStore:p,planType:g,spaceJoinOrCreate:f,isNewUserOnboarding:b,userContext:m}=e;if(await Promise.all([s.load(),c.load(),(null==u?void 0:u.load())??Promise.resolve(),p.load()]),!s.canEdit())return[];if(!c.isDefined())throw new Error(r().A.formatMessage(ie.invalidSpaceStoreOnCreateTemplate));if(!p.isDefined())throw new Error(r().A.formatMessage(ie.invalidUserSettings));const v=(0,E().i)(s);if("join"===m.spaceJoinOrCreate&&v){const e={table:"block",id:v,spaceId:s.id};await D().sy({environment:a,inMemoryRecordCache:a.defaultRecordCache.inMemoryRecordCache,pointer:e,userId:a.currentUser.id});const t=new(d().B)(a,e);if((0,F().n)(t)){if("on"===n().default.getEligibleGroup({experimentId:"adoption_custom_workspace_getting_started_page",defaultGroup:"control"}))try{const e=await ae({environment:a,spaceStore:s,spaceViewStore:c,teamStore:void 0,userSettingsStore:p,templates:{private:[{templateName:"custom_workspace_page",pageId:v,spaceId:s.id}]}});return T().m2(a,{success:!0}),e}catch(h){l().log({level:"error",from:"createOnboardingTemplatesActions",type:"automaticallyCreateGettingStartedPageInSpace",data:{miscDataToConvertToString:{error:h}}}),T().m2(a,{success:!1})}}else{T().zP(a,{context:"installation",error_type:"page_permissions"});try{await R().callApi({eventName:"setGettingStartedPageError",environment:a,data:{page_id:v,space_id:s.id}})}catch(h){l().log({level:"error",from:"createOnboardingTemplatesActions",type:"setGettingStartedPageError",data:{miscDataToConvertToString:{error:h}}})}}}const y=(0,Q().v7)({userContext:m});if((null!=y&&null!==(t=y.private)&&void 0!==t&&t.length||null!=y&&null!==(o=y.teamspace)&&void 0!==o&&o.length)&&!c.getCreatedGettingStarted()&&c.getParentId()){return await ae({environment:a,spaceStore:s,spaceViewStore:c,teamStore:u,userSettingsStore:p,templates:y})??[]}let S;S=i().A.isMobile?"mobile":"personal"===g?"desktopPersonal":"create"===f?function(e){if(!e)return"desktopTeamCreate";return"desktopPersonal"}(b):"desktopTeamJoin";if(l().log({level:"info",from:"createOnboardingTemplatesActions",type:"automaticallyCreateGettingStartedPagesInSpace",data:{miscDataToConvertToString:{gettingStartedPageType:S}}}),!c.getCreatedGettingStarted()&&c.getParentId()){const e=(0,Q().nH)(S);return await ae({environment:a,spaceStore:s,spaceViewStore:c,teamStore:u,userSettingsStore:p,templates:{private:[e]}})}return(0,C().x)(a,{getting_started_page_type:S,spaceId:s.id,errorType:"createdGettingStartedPageAlreadyExists"}),[]}({isNewUserOnboarding:p,environment:e,spaceStore:t,spaceViewStore:o,teamStore:s,userSettingsStore:c,planType:u,spaceJoinOrCreate:g,userContext:f})).filter((e=>void 0!==e))}catch(m){l().log({level:"error",from:"createOnboardingTemplatesActions",type:"createGettingStartedPageInSpace",data:{miscDataToConvertToString:{error:m}}})}else{const{currentUserSettingsStore:o}=a().default.state;(0,C().x)(e,{errorType:"userSettingsStoreNotDefined",spaceId:t.id,errorMessage:o?"currentUserSettingsStore is defined but not userSettingsStore from onboarding data":"currentUserSettingsStore is not defined as well"})}return O().$T(e,o,b.map((e=>e.id))),b}async function de(e){const{environment:t,redirectData:o,userRootStore:a,spaceStore:n,createdTemplatePages:i}=e;if("performance_marketing_template"===o.type)return i[0];if("fork_page"===o.type){return await N().sg({environment:t,userRootStore:a,forkedPageId:o.pageId,spaceStore:n})}}async function le(e){const{environment:t,spaceStore:o,spaceViewStore:a,teamStore:n,templatesToCreateInSpace:i}=e,{workflowTemplates:r,pageTemplates:s,appTemplates:d}=i;let l=[];if(r&&r.length>0&&n&&U().createAndCommit({userAction:"workflowTemplatesOnboardingActions.createPlaceholderCollectionViewBlock",environment:t,canUndo:!0,perform:e=>{for(const o of r){const a=(0,L().getCollectionTemplateFromId)(o);a&&(0,V().createPlaceholderWorkflowTemplateBlock)({environment:t,transaction:e,parentStore:n,collectionTemplate:a})}}}),d&&d.length>0&&n&&(l=await B().installAppsInTeam({environment:t,presets:d,spaceStore:o,spaceViewStore:a,teamStore:n})),s&&s.length>0){const e=s.map((async e=>{const i=(a,n)=>{!function(e){const{environment:t,success:o,template_id:a,template_block_id:n,target_space_id:i,public_template_name:r,target_page_id:s}=e;M().hB(t,{success:o,template_id:a,template_block_id:n,target_space_id:i,from:"onboarding",public_template_name:r,target_page_id:s})}({environment:t,template_id:e.id,template_block_id:e.rootId,target_space_id:o.id,public_template_name:e.name,success:a,target_page_id:n})},r={environment:t,item:e,spaceStore:o,spaceViewStore:a,useMinimalTemplates:!0,from:"onboarding"};let s;return s=n?await(0,W().o)({...r,type:"inTeam",teamStore:n}):await(0,W().o)({...r,type:"inSpace"}),s?i(!0,s.id):i(!1,""),s}));l=[...l,...k().oE(await Promise.all(e))]}return(s&&s.length>0||d&&d.length>0)&&U().createAndCommit({userAction:"spaceActions.createOnboardingTemplatesInSpace",environment:t,canUndo:!0,perform:e=>{const t={created_onboarding_templates:!0};P().zv({store:a,data:t,transaction:e})}}),l}async function ce(e){const{spaceStore:t,spaceViewStore:o,userSettingsStore:a,teamStore:n,environment:i}=e;if(await Promise.all([t.load(),o.load(),a.load(),null==n?void 0:n.load()]),t.canEdit()){if(!o.isDefined())throw new Error(r().A.formatMessage(ie.invalidSpaceStoreOnCreateTemplate));if(!a.isDefined())throw new Error(r().A.formatMessage(ie.invalidUserSettings));if(!o.getCreatedOnboardingTemplates()&&o.getParentId()){const t=s().default.mark("onboarding_create_templates_latency"),o=await le({...e});return s().default.measure(t,{environment:i,data:{duplication_type:"server_duplication"}}),o}}return[]}async function ue(e){const{environment:t,spaceStore:o,spaceViewStore:a,userSettingsStore:n,userRootStore:i,templates:s,isNewUserOnboarding:d}=e;if(await Promise.all([o.load(),a.load(),n.load(),i.load()]),o.canEdit()){if(!a.isDefined())throw new Error(r().A.formatMessage(ie.invalidSpaceStoreOnCreateTemplate));if(!n.isDefined())throw new Error(r().A.formatMessage(ie.invalidUserSettings));if(a.getParentId()){return await le({environment:t,spaceStore:o,spaceViewStore:a,userSettingsStore:n,isPrivate:!0,useCases:[],templatesToCreateInSpace:{pageTemplates:s},isNewUserOnboarding:d,teamStore:void 0})}}return[]}function pe(e){const{environment:t,onboardingPlanType:o,categories:a,isJoiner:n,intl:i}=e;let r;const s=function(e,t){return"personal"===t?e.filter((e=>j()._N.includes(e))):"school"===t?e.filter((e=>j().gb.includes(e))):[]}(a,o);return r="school"===o||"personal"===o?me(t,o,s):n?fe():c().Ck,(0,_().o)(r,i)}function ge(e,t){return"gantt"===e?(0,_().o)([x.onboardingGantt],t):"crm"===e?(0,_().o)([x.onboardingCrm],t):"projectManagement"===e?(0,_().o)([x.onboardingProjectManagement],t):[]}function fe(){if(n().default.checkGate({gateName:"onboarding_templates_from_dynamic_configs"})){const e=n().default.getConfigKey("onboarding_templates","joiner"),t=[];for(const[o,a]of Object.entries(e)){if(!(0,A().lW)(o))return c().mb;const e=be(a.sources),n=c().Fx[o];t.push({sources:e,nameMessage:n})}return t}return c().mb}function be(e){return Object.keys(e).reduce(((t,o)=>{var a;if(!(0,A().iw)(o))return t;const n=null===(a=e[o])||void 0===a?void 0:a.rootId;return t[o]={rootId:n,previewRootId:n,spaceId:p().rQ},t}),{})}function me(e,t,o){const a=[],s=r().A.isEnglish(),d=i().A.isMobile&&s,l=i().A.isMobile&&!s,c=d||l;for(const n of o)a.push(c?v[n].mobile:v[n].desktop);const u="school"===t?c?S.mobile:S.desktop:c?y.mobile:y.desktop,p=i().A.isMobile&&"control"!==n().default.getEligibleGroup({experimentId:"adoption_getting_started_mobile_todo_list",defaultGroup:"control",disableExposureLogging:!0}),g=!i().A.isMobile&&("personal"===t||"school"===t)&&["skip_category_no_templates","skip_category_no_templates_add_todo"].includes(n().default.getEligibleGroup({experimentId:"adoption_skip_usecase_ship_todo_desktop",defaultGroup:"control",disableExposureLogging:!0})),f=!p&&!g;return 0===a.length&&f&&a.push(...u),a}async function ve(e){const{environment:t,spaceStore:o,spaceViewStore:a,teamStore:i,userSettingsStore:s,userRootStore:d,intlShape:l,isNewUserOnboarding:c,userContext:u,planType:p,spaceJoinOrCreate:g,redirectData:f,selectedQuickStartFeatures:m}=e;if(Boolean(z().V.state.calendarSignupStatus)&&r().A.getIntl().locale in b.calendar.sources&&"control"!==n().default.getEligibleGroup({experimentId:"calendar_onboarding_nux_template",defaultGroup:"control"})){const e=b.calendar;await ue({environment:t,spaceViewStore:a,userSettingsStore:s,userRootStore:d,templates:(0,_().o)([e],l),isNewUserOnboarding:c,spaceStore:o})}if(m&&m.length>0){const e=m.map((e=>w[e]));await ue({environment:t,spaceViewStore:a,userSettingsStore:s,userRootStore:d,templates:(0,_().o)(e,l),isNewUserOnboarding:c,spaceStore:o})}const v=ye({userContext:u,createdGettingStartedPages:await se({environment:t,spaceStore:o,spaceViewStore:a,teamStore:i,userSettingsStore:s,planType:"team"===p?"team":"personal",spaceJoinOrCreate:g,userContext:u,isNewUserOnboarding:c})});if(v&&"fork_page"!==f.type&&"performance_marketing_template"!==f.type){return{redirectData:(0,ne().getRedirectDataUpdate)(f,v,t)}}return{}}function ye(e){var t;const{userContext:o,createdGettingStartedPages:a}=e,n=(0,Q().v7)({userContext:o});let i;if(null!=n&&null!==(t=n.private)&&void 0!==t&&t.length){const e=n.private.find((e=>{var t;return null===(t=e.options)||void 0===t?void 0:t.isLandingPage}));if(e){const t=e.pageId;i=a.find((e=>{var o;return(null===(o=e.getCopiedFromPointer())||void 0===o?void 0:o.id)===t}))}}return i??a[0]}function Se(e){return(0,_().o)([c().nG],e.intl).pop()}function he(e,t){return(0,_().o)(e.map((e=>{if("goals"===e)return c().kx.goalsForTeam})).filter((e=>void 0!==e)),t)}},970236:(e,t,o)=>{o.d(t,{E:()=>s});o(296540);var a=()=>o(401497),n=()=>o(100622),i=()=>o(284371),r=o(474848);function s(e){const{color:t="gray",style:o,content:s,...d}=e,l=(0,a().IS)((()=>({badge:{alignSelf:"center",padding:"2px 4px",background:n().Tj[t].background.secondaryTranslucent,color:n().Tj[t].text.accentPrimary,borderRadius:4,fontSize:11,fontWeight:i().Wy.medium,lineHeight:1.3,...o}})),[t,o]);return(0,r.jsx)("div",{style:l.badge,...d,children:s})}},985315:(e,t,o)=>{o.d(t,{g:()=>r});var a=()=>o(484714),n=()=>o(590526),i=()=>o(342641);function r({spaceId:e}){const t=(0,a().v3)();return(0,n().K8)((()=>{if(e)return i().default.getData(t,{spaceId:e})}),[t,e])}},994006:(e,t,o)=>{o.d(t,{A:()=>n});o(296540);var a=o(474848);const n=function(e){const t={marginInlineEnd:e.avatarMarginRight??6,alignSelf:"center"},n={display:"flex",alignItems:"center",minWidth:0,...e.style},i=e.inline?{...t,width:"none",minHeight:"none"}:t,{userStore:r,avatarShouldShowShadow:s,avatarSize:d,hasTooltip:l,tooltipHeader:c,hasPersonHoverCard:u,spaceStore:p}=e,g=(0,o(69708).tz)(),f=(0,o(590526).K8)((()=>null==r?void 0:r.getDisplayName(g)),[r,g]),b=(0,a.jsxs)("div",{style:n,children:[(0,a.jsx)("div",{style:i,children:(0,a.jsx)(o(453697).A,{userStore:r,avatarShouldShowShadow:s,size:d,hasTooltip:l&&!u,hasPersonHoverCard:!1,tooltipHeader:c})}),(0,a.jsx)("div",{className:"notranslate",style:{...o(284371).RC},children:f})]});return u?(0,a.jsx)(o(436525).D,{userStore:r,spaceStore:p,children:b}):b}},995604:(e,t,o)=>{o.d(t,{s:()=>h,Z:()=>I});o(296540);var a=()=>o(564884),n=()=>o(755531),i=()=>o(394888),r=()=>o(740461),s=()=>o(769864),d=()=>o(49210),l=()=>o(89002),c=()=>o(416783),u=()=>o(503416),p=()=>o(69708),g=()=>o(241021),f=()=>o(838239),b=()=>o(227358),m=()=>o(232930),v=o(474848);function y({onAccept:e}){return(0,v.jsx)(l().t,{header:(0,v.jsx)(f().Y,{iconAndTitle:(0,v.jsx)(b().Z,{iconGroup:u().r,iconColorPalette:"red",iconColorVariant:"accentPrimary",title:(0,v.jsx)(p().sA,{id:"voidOfferModal.title",defaultMessage:"Are you sure?"})}),description:(0,v.jsx)(p().sA,{id:"voidOfferModal.subtitle",defaultMessage:"If you continue, your current discount will no longer be applied. See <terms>terms and conditions</terms> for more information.",values:{terms:e=>(0,v.jsx)(c().V,{external:!0,href:(0,m().x)("resurrectionLearnMore"),children:e})}})}),footer:(0,v.jsx)(g().a,{layout:"vertical",primaryButtons:[{buttonType:"destructive",label:(0,v.jsx)(p().sA,{id:"voidOfferModal.primaryAction",defaultMessage:"Yes and remove discount"}),onClick:e}],secondaryButtons:[{buttonType:"dismiss",label:(0,v.jsx)(p().sA,{id:"voidOfferModal.cancelButton",defaultMessage:"Cancel"})}]})})}const S=406;function h(e,t,o,a){const n=(0,r().ex)(e,t,a);return!!n&&!(0,r().d$)(n.campaign,o)}async function I(e){var t;const o=null===(t=(0,n().S)())||void 0===t?void 0:t.id;return await d().T.showAsyncModal((t=>(0,v.jsx)(i().s,{isOpen:t.isOpen,onDismiss:()=>{(0,a().u)({environment:e,event:{eventName:"void_offer_modal_dismiss",eventProperties:{}}}),t.onDismiss()},onClosed:t.onClosed,areaConstraint:{width:{type:"min",length:S},height:{type:"unlimited",scroll:"allow"}},render:()=>(0,v.jsx)(y,{onAccept:async()=>{(0,a().u)({environment:e,event:{eventName:"void_offer_modal_accept",eventProperties:{}}}),o&&await s().callApi({eventName:"voidCustomerOffer",environment:e,data:{spaceId:o}}),t.resolve("accepted")}})})))}}}]);