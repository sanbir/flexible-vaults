"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[29802,42810],{18541:(e,n,t)=>{t.d(n,{S:()=>f});t(296540);var o=()=>t(726637),i=()=>t(401497),a=()=>t(107975),s=()=>t(718827),r=()=>t(249046),l=()=>t(807449),c=()=>t(160432),d=()=>t(218275),u=()=>t(69708),p=()=>t(100622),m=()=>t(987267),g=()=>t(424416),h=t(474848);function f(e){const{connectorType:n,open:t,onClosed:f,learnMoreUrl:y}=e,b=(0,i().IS)((()=>({wrapper:{width:"100vw",height:"100vh",justifyContent:"center",alignItems:"center"},container:{gap:16,alignItems:"center"},learnMoreText:{gap:4,alignItems:"center",fontSize:14,color:p().Tj.text.secondary,justifyContent:"center"},actionsContainer:{gap:4,width:240,alignItems:"center"},learnMoreButton:{marginTop:16,borderRadius:6,width:"100%"},primaryButton:{width:"100%"},learnMoreWrapper:{width:"100%"}})),[]);return o().A.isMobile?(0,h.jsx)(a().a,{showCloseIcon:!0,onDismiss:f,open:t,render:()=>(0,h.jsx)(r().Ye,{style:b.wrapper,children:(0,h.jsxs)(r().wt,{style:b.container,children:[(0,h.jsx)(g().b,{connectorType:n,title:(0,h.jsx)(u().sA,{id:"universalQna.notAvailableOnMobile.heading",defaultMessage:"Connecting {appName} and Notion is only available on desktop",values:{appName:m().w0[n]}})}),(0,h.jsxs)(r().wt,{style:b.actionsContainer,children:[(0,h.jsx)(c().A,{colorPalette:"blue",style:b.primaryButton,onClick:f,children:(0,h.jsx)(u().sA,{id:"universalQna.notAvailableOnMobile.close",defaultMessage:"Got it"})}),(0,h.jsx)(r().Ye,{style:b.learnMoreWrapper,children:(0,h.jsx)(s().Ay,{style:b.learnMoreButton,onClick:()=>{window.open(y,"_blank")},children:(0,h.jsxs)(r().Ye,{style:b.learnMoreText,children:[(0,h.jsx)(u().sA,{id:"universalSearch.slack.waitingForConnection.learnMore",defaultMessage:"Learn More"}),(0,h.jsx)(l().I,{icon:d().arrowUpRightSquareSmallIcon,size:"sm"})]})})})]})]})})}):(0,h.jsx)(h.Fragment,{})}},38357:(e,n,t)=>{t.d(n,{a:()=>x});t(944114);var o=t(296540),i=()=>t(564884),a=()=>t(300474),s=()=>t(484714),r=()=>t(590526),l=()=>t(401497),c=()=>t(128933),d=()=>t(718827),u=()=>t(69708),p=()=>t(100622),m=()=>t(987267),g=()=>t(576590),h=()=>t(634877),f=()=>t(604018),y=()=>t(753264),b=()=>t(155736),v=t(474848);function x(e){const{connector:n,screenName:t,nextScreens:x,onStartIngestion:A,ingestionNotNeeded:M,noSelectionAllowed:S,forceIngestion:_=!1}=e,j=(0,l().IS)((()=>({link:{color:p().Tj.text.secondary,textDecoration:"underline",cursor:"pointer"}})),[]),w=(0,s().v3)(),k=(0,a().r)(),N=(0,r().O$)(h().NT[n]),{sessionId:T,currentScreen:C,analyticsFrom:I}=N,B=C===t,W=m().w0[n],D=(0,r().K8)((()=>(0,f().XY)(n)),[n]);(0,o.useEffect)((()=>{B&&(0,g().maybeMarkAiConnectorOnboardingSurveyMomentInSettings)({environment:w,connector:n,moment:"finished"})}),[B,n,w]);const L=(0,o.useCallback)((()=>{(0,i().u)({environment:w,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:"completion_screen_dismiss",integration_type:n,setup_session_id:T,from:I}}}),h().NT[n].setState({...N,currentScreen:"none"})}),[I,w,T,n,N]),F=(0,o.useCallback)((async()=>{if(!k)return;(0,i().u)({environment:w,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:"shared_drive_settings",integration_type:n,setup_session_id:T,from:I}}});const{status:e}=await(0,h().getAiConnectorRefreshFunction)(n)({environment:w,spaceId:k});if("success"===e){const e=(0,f().XY)(n);"in_progress"===e?h().NT[n].setState({...N,currentScreen:x.inProgress}):"not_started"===e?h().NT[n].setState({...N,currentScreen:x.notStarted}):h().NT[n].setState({...N,currentScreen:x.error})}else h().NT[n].setState({...N,currentScreen:x.error})}),[I,w,n,k,N,x,T]),P="in_progress"===D,U=(0,o.useMemo)((()=>{const e=[];return M||e.push((0,v.jsx)(y().L,{number:1,title:b().D.defaultConnectionTime,description:S||P?void 0:(0,v.jsx)("div",{children:(0,v.jsx)(u().sA,{id:"universalSearch.connectionComplete.waitingForConnectionNoteBody1",defaultMessage:"If you want to choose content, {clickHere}",values:{clickHere:(0,v.jsx)("a",{style:j.link,onClick:F,children:(0,v.jsx)(u().sA,{id:"universalSearch.connectionCompleteModal.settings",defaultMessage:"click here."})})}})})},"ingestionDelayNotice")),e.push((0,v.jsx)(y().L,{number:e.length+1,title:{...{...b().D.defaultNotionAiWillBeAbleToAnswerQuestions,values:{appName:W}}}},"notionAiAnswerQuestions")),e}),[W,M,S,P,j.link,F]);return k?(0,v.jsx)(b().v,{open:B,connectorType:n,notes:U,onPrimaryButtonClick:async()=>{if((0,i().u)({environment:w,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:"completion_screen_done",integration_type:n,setup_session_id:T,from:I}}}),h().NT[n].setState({...N,currentScreen:"none"}),P&&!_)return;await(null==A?void 0:A())&&function(e){c().D6({label:(0,v.jsx)(u().sA,{id:"ingestionConfirmation.ingestion.acknowledge",defaultMessage:"Started syncing from {connectorName}. This can take up to 36 hours.",values:{connectorName:e}}),position:"bottom",style:{width:"500px",display:"flex",justifyContent:"space-between"},right:(0,v.jsx)(d().Ay,{onClick:c().N2,children:(0,v.jsx)(u().sA,{id:"ingestionConfirmation.ingestion.startedMessageDismiss",defaultMessage:"Close"})})})}(W)},onDismiss:L}):null}},81883:(e,n,t)=>{t.d(n,{e:()=>w});var o=t(296540),i=()=>t(564884),a=()=>t(300474),s=()=>t(484714),r=()=>t(590526),l=()=>t(401497),c=()=>t(107975),d=()=>t(718827),u=()=>t(249046),p=()=>t(807449),m=()=>t(98126),g=()=>t(373009),h=()=>t(26697),f=()=>t(218275),y=()=>t(69708),b=()=>t(100622),v=()=>t(284371),x=()=>t(987267),A=()=>t(576590),M=()=>t(634877),S=()=>t(604018),_=()=>t(424416),j=t(474848);function w(e){const{connector:n,screenName:t,nextScreens:a,onDismiss:g,learnMoreUrl:A,settings:w}=e,N=(0,r().O$)(M().NT[n]),{analyticsFrom:T,sessionId:C,currentScreen:I}=N,B=x().w0[n],W=(0,r().K8)((()=>(0,S().XY)(n)),[n]),[D,L]=(0,o.useState)(!!w),[F,P]=(0,o.useState)(!w),U=function(e){return(0,l().IS)((()=>({wrapper:{width:400,padding:"0 24px 16px",minHeight:e?478:void 0},settingsWrapper:{justifyContent:"center",gap:12},footer:{justifyContent:"center",alignItems:"center",width:"100%",gap:8},disconnectButton:{fontSize:14,fontWeight:v().Wy.medium,width:"100%"},confirmWrapper:{width:300,alignItems:"center"},confirmContainer:{padding:20},confirmModalTitle:{fontSize:17,fontWeight:v().Wy.semibold,color:b().Tj.text.primary,textAlign:"center"},confirmModalSubTitle:{fontSize:14,fontWeight:v().Wy.regular,color:b().Tj.text.secondary,paddingTop:8,textAlign:"center"},confirmModalDescription:{fontSize:14,fontWeight:v().Wy.regular,color:b().Tj.text.secondary,paddingTop:8,textAlign:"center"},goBackButton:{fontSize:14,fontWeight:v().Wy.regular,width:"100%",textAlign:"center",paddingTop:4,paddingInlineEnd:0,paddingBottom:4,paddingInlineStart:0},confirmDisconnectButton:{fontSize:14,fontWeight:v().Wy.medium,width:"100%"},confirmModalActionButtons:{gap:8,paddingTop:20},spinner:{paddingTop:20,justifyContent:"center",alignItems:"center"},learnMoreSection:{padding:"24px 0"},learnMoreButton:{fontSize:14,fontWeight:v().Wy.semibold,borderRadius:"4px",width:"100%"},learnMoreText:{fontWeight:v().Wy.medium,fontSize:12,gap:5,justifyContent:"center",alignItems:"center",paddingTop:4,paddingInlineEnd:8,paddingBottom:4,paddingInlineStart:8,color:`${b().Tj.text.secondary}`}})),[e])}(D),Q=(0,s().v3)(),z=(0,y().tz)();return(0,j.jsx)(c().a,{ariaLabel:z.formatMessage({id:"aiConnectors.settingsModalAriaLabel",defaultMessage:"AI Connector Settings"}),showCloseIcon:!0,open:I===t,onDismiss:()=>{(0,i().u)({environment:Q,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:"settings_modal_close",integration_type:n,setup_session_id:C,from:T}}}),null==g||g(),M().NT[n].setState({...N,currentScreen:"none"})},render:()=>(0,j.jsxs)("div",{style:U.wrapper,children:[(0,j.jsx)(_().b,{connectorType:n,title:"completed"===W?(0,j.jsx)(y().sA,{id:"aiConnectors.settingsModalTitle",defaultMessage:"{displayName} is connected to Notion AI",values:{displayName:B}}):(0,j.jsx)(y().sA,{id:"aiConnectors.settingsModalTitleNotCompleted",defaultMessage:"{displayName} is connecting to Notion AI",values:{displayName:B}})}),D?(0,j.jsx)(u().Ye,{style:U.spinner,children:(0,j.jsx)(m().k,{})}):(0,j.jsxs)(j.Fragment,{children:[w?(0,j.jsx)(u().Ye,{style:U.settingsWrapper,children:w({setIsLoading:L,setIsDisconnectButtonEnabled:P})}):void 0,(0,j.jsx)(u().wt,{style:U.footer,children:F?(0,j.jsx)(k,{connector:n,styles:U.disconnectButton,isDisconnectButtonEnabled:F,nextScreens:a}):(0,j.jsx)(h().m,{allowHover:!0,textWrap:!0,renderTooltip:()=>(0,j.jsx)("div",{style:{width:240},children:(0,j.jsx)(y().sA,{id:"aiConnector.disconnectDisabled.tooltip",defaultMessage:"You can cancel or modify {displayName} when the connection is complete. ",values:{displayName:B}})}),render:e=>(0,j.jsx)(k,{connector:n,events:e,styles:U.disconnectButton,isDisconnectButtonEnabled:F,nextScreens:a})})}),A?(0,j.jsx)(u().Ye,{style:U.learnMoreSection,children:(0,j.jsx)(d().Ay,{style:U.learnMoreButton,onClick:()=>{(0,i().u)({environment:Q,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:"settings_modal_learn_more_url_click",integration_type:n,setup_session_id:C,from:T}}}),window.open(A,"_blank")},children:(0,j.jsxs)(u().Ye,{style:U.learnMoreText,children:[(0,j.jsx)(y().sA,{id:"aiConnectors.integration.learnMore",defaultMessage:"Learn more"}),(0,j.jsx)(p().I,{icon:f().arrowUpRightSquareSmallIcon,size:"sm"})]})})}):void 0]})]})})}function k(e){const{connector:n,styles:t,events:o,isDisconnectButtonEnabled:l,nextScreens:c}=e,d=(0,s().v3)(),u=(0,r().O$)(M().NT[n]),{sessionId:p,analyticsFrom:m}=u,h=(0,a().r)(),f=(0,r().K8)((()=>(0,S().XY)(n)),[n]);return(0,j.jsx)(g().E,{...o,style:t,disabled:!l,onClick:async()=>{if(h)if((0,i().u)({environment:d,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:"settings_modal_disconnect_button",integration_type:n,setup_session_id:p,from:m}}}),"completed"!==f){if("not_started"===f){const e=await(0,A().disconnectConnector)({connector:n,spaceId:h,environment:d,disconnectReason:"admin_disconnect"});if(await(0,M().getAiConnectorRefreshFunction)(n)({environment:d,spaceId:h}),"success"===e.type)return void M().NT[n].setState({...u,currentScreen:"none"})}M().NT[n].setState({...u,currentScreen:c.error})}else M().NT[n].setState({...u,currentScreen:c.disconnect})},children:(0,j.jsx)(y().sA,{id:"aiConnectors.settingsModal.disconnect",defaultMessage:"Disconnect"})})}},142810:(e,n,t)=>{t.d(n,{Fp:()=>C,MG:()=>w,PY:()=>D,aJ:()=>N,cP:()=>T,ht:()=>W,qt:()=>B,vu:()=>I,xF:()=>_,y_:()=>k});t(296540);var o=()=>t(300474),i=()=>t(907258),a=()=>t(484714),s=()=>t(590526),r=()=>t(402390),l=()=>t(769864),c=()=>t(812182),d=()=>t(634877),u=()=>t(645200),p=()=>t(838824),m=()=>t(976725),g=()=>t(990544),h=()=>t(38357),f=()=>t(971732),y=()=>t(197532),b=()=>t(657148),v=()=>t(722228),x=()=>t(302591),A=()=>t(81883),M=()=>t(243331),S=t(474848);function _(){const{learnMoreUrl:e}=(0,d().hP)("notion-mail"),n=(0,a().v3)(),t=(0,o().r)();return(0,S.jsx)(v().Z,{connector:"notion-mail",screenName:"introduction",nextScreens:{notStarted:"authentication",inProgress:"connection_complete_screen",alreadyConnected:"already_connected",error:"error"},usesPopup:!1,learnMoreUrl:e,openAuthUrl:()=>{w({environment:n})},onCheckConnectionFromInProgressState:async()=>{if(!t)return!1;const e=await l().callApi({eventName:"connectAiConnector",environment:n,data:{spaceId:t,connector:"notion-mail"}});if(!("success"===e.type&&e.data.success))return!1;const o="success"===e.type?e.data:void 0,i=null!=o&&o.success?o.externalSourceName:void 0;return M().Lf.setState({...M().Lf.state,status:"authenticated",isConnected:!0,isPersonalAuthComplete:!0,externalSourceName:i}),!0}})}const j=(0,t(69708).YK)({successTitle:{id:"notionMailOnboarding.signupSuccess.title",defaultMessage:"Notion Mail connected"},successMessage:{id:"notionMailOnboarding.signupSuccess.message",defaultMessage:"Your email account has been connected. You can now ask the agent about your emails."},errorTitle:{id:"notionMailOnboarding.signupError.title",defaultMessage:"Failed to connect Notion Mail"},errorMessage:{id:"notionMailOnboarding.signupError.message",defaultMessage:"Please try again or contact support if the issue persists."}});async function w(e){var n,t;const{environment:o}=e,a=null===(n=i().default.state.currentUserStore)||void 0===n?void 0:n.getEmail(),s=null===(t=i().default.state.sidebarSpaceViewStore)||void 0===t?void 0:t.getSpaceId(),d=(0,r().wW)();if(!a||!s)return{success:!1};const m=await(0,u().II)({environment:o,email:a,source:"mail"});if(!m||"dismissedDueToCleanup"===m)return{success:!1};return"success"===(await(0,p().N)({environment:o,code:m.code,encryptedToken:m.encryptedToken,spaceId:s,from:"aiConnector"})).type?(await l().callApi({eventName:"connectAiConnector",environment:o,data:{spaceId:s,connector:"notion-mail"}}),c().Iz({title:d.formatMessage(j.successTitle),message:d.formatMessage(j.successMessage)}),{success:!0}):(c().Iz({variant:"error",title:d.formatMessage(j.errorTitle),message:d.formatMessage(j.errorMessage)}),{success:!1})}function k(){const e=(0,s().K8)((()=>M().Lf.state.currentScreen),[]);return(0,S.jsx)(m().m,{connector:"notion-mail",open:"already_connected"===e,onDismiss:()=>{M().Lf.reset()}})}function N(){const{learnMoreUrl:e}=(0,d().hP)("notion-mail");return(0,S.jsx)(x().A,{connector:"notion-mail",screenName:"not_admin_screen",learnMoreUrl:e})}function T(){return(0,S.jsx)(h().a,{connector:"notion-mail",screenName:"connection_complete_screen",nextScreens:{notStarted:"authentication",inProgress:"none",alreadyConnected:"already_connected",error:"error"},ingestionNotNeeded:!0,onStartIngestion:void 0})}function C(){return(0,S.jsx)(f().$,{connector:"notion-mail",screenName:"connection_exist_screen",nextScreens:{settings:"none"},connectedSpaceId:""})}function I(){const e=(0,a().v3)(),n=(0,o().r)(),{learnMoreUrl:t,notionAuthUrl:i,troubleShootingUrl:s}=(0,d().hP)("notion-mail");return n?(0,S.jsx)(g().R,{connector:"notion-mail",screenName:"authentication",nextScreens:{notAdminOfConnectorAccount:"not_admin_screen",connectionConflict:"connection_exist_screen",connectionSuccess:"connection_complete_screen",error:"error"},learnMoreUrl:t,troubleShootingUrl:s,staticConnectorAuthUrl:i,setConnectionStateAsConnected:()=>{M().Lf.setState({...M().Lf.state,status:"authenticated",isConnected:!0,isPersonalAuthComplete:!0})},callConnectionApi:async()=>{const t=await l().callApi({eventName:"connectAiConnector",environment:e,data:{spaceId:n,connector:"notion-mail"}});return"success"===t.type&&t.data.success?Promise.resolve({type:"success",data:{connectionSuccess:!0}}):Promise.resolve({type:"success",data:{connectionSuccess:!1,errorResponse:{status:401}}})}}):null}function B(){return(0,S.jsx)(A().e,{connector:"notion-mail",screenName:"settings",nextScreens:{disconnect:"disconnect_screen",error:"error"},settings:void 0})}function W(){return(0,S.jsx)(y().X,{connector:"notion-mail",postDisconnectScreenName:"post_disconnect_screen",disconnectScreenName:"disconnect_screen",settingsScreenName:"settings",errorScreenName:"error",setStatusAsDisconnected:()=>{M().Lf.setState({...M().Lf.state,status:"not_started",isConnected:!1,isLoaded:!0,isBackendConnected:!1})},showGoogleWorkspaceNote:!1})}function D(){return(0,S.jsx)(b().b,{connector:"notion-mail",screenName:"error"})}},155736:(e,n,t)=>{t.d(n,{D:()=>h,v:()=>f});t(581454);var o=t(296540),i=()=>t(401497),a=()=>t(107975),s=()=>t(249046),r=()=>t(406094),l=()=>t(160432),c=()=>t(508700),d=()=>t(69708),u=()=>t(100622),p=()=>t(284371),m=()=>t(424416),g=t(474848);const h=(0,d().YK)({defaultTitle:{id:"universalQna.connectionComplete.defaultTitle",defaultMessage:"You’re done!"},defaultSubText:{id:"universalQna.connectionComplete.defaultSubText",defaultMessage:"What happens next:"},defaultPrimaryButton:{id:"universalQna.connectionComplete.defaultPrimaryButton",defaultMessage:"Got it"},connectionInProgressTitle:{id:"universalQna.connectionComplete.connectionInProgressTitle",defaultMessage:"We’re connecting your {appName} content"},defaultConnectionTime:{id:"universalQna.connectionComplete.defaultConnectionTime",defaultMessage:"This may take up to 36 hours"},defaultPermissionsWillBeRespected:{id:"universalQna.connectionComplete.defaultPermissionsWillBeRespected",defaultMessage:"{appName} permissions are strictly respected and members will only see content they have access to."},defaultNotionAiWillBeAbleToAnswerQuestions:{id:"universalQna.connectionComplete.defaultNotionAiWillBeAbleToAnswerQuestions",defaultMessage:"Notion AI will be able to search and answer questions across Notion and {appName} knowledge."}});function f(e){const{open:n,connectorType:t,notes:f,onDismiss:y,onPrimaryButtonClick:b,onEditSettingsClick:v,title:x,subText:A,primaryButtonText:M}=e,S=1===f.length,[_,j]=(0,o.useState)(!1),[w,k]=(0,o.useState)(!1),N=(0,d().tz)(),T=(0,i().IS)((()=>({wrapper:{width:400},notesContainer:{marginTop:S?0:24,font:p().Tf.sans,paddingInlineStart:20,paddingInlineEnd:20,textAlign:S?"center":"start",justifyContent:"center"},singleNoteText:{fontSize:14,fontWeight:p().Wy.regular,color:u().Tj.text.secondary,textAlign:"center",paddingInlineStart:8,paddingInlineEnd:8,textWrap:"balance"},buttonsContainer:{margin:20,display:"flex",flexDirection:"column",gap:8}})),[S]),C=x||(0,g.jsx)(d().sA,{...h.defaultTitle}),I=S?void 0:A||(0,g.jsx)(d().sA,{...h.defaultSubText}),B=M||(0,g.jsx)(d().sA,{...h.defaultPrimaryButton});return(0,g.jsx)(a().a,{overlayZIndex:999,ariaLabel:N.formatMessage({id:"universalQnAConnectionCompleteModal.title",defaultMessage:"You’re done!"}),open:n,onDismiss:()=>{y()},render:()=>(0,g.jsxs)("div",{style:T.wrapper,children:[(0,g.jsx)(m().b,{connectorType:t,title:C,subtext:I}),(0,g.jsx)(s().wt,{gap:12,style:T.notesContainer,className:"notes-Container",children:S&&f.length>0?(0,g.jsx)("div",{style:T.singleNoteText,children:(0,g.jsx)(d().sA,{...f[0].props.title?f[0].props.title:h.defaultTitle})}):f.map(((e,n)=>e))}),b||v?(0,g.jsxs)("div",{style:T.buttonsContainer,children:[v?(0,g.jsx)(r().A,{iconLeading:{icon:c().T,size:"sm"},isLoading:w,style:{width:"100%"},onClick:async()=>{k(!0),await v(),k(!1)},children:(0,g.jsx)(d().sA,{id:"universalSearch.connectionComplete.customizeConnectedContent",defaultMessage:"Customize connected content"})}):void 0,b?(0,g.jsx)(l().A,{colorPalette:"blue",isLoading:_,style:{fontSize:14,fontWeight:p().Wy.semibold,width:"100%"},onClick:async()=>{j(!0),await b(),j(!1)},children:B}):void 0]}):void 0]})})}},157210:(e,n,t)=>{t.d(n,{A:()=>a});t(296540);var o=()=>t(401497),i=t(474848);const a=function(e){const{onDismiss:n,onClickGotItBtn:a,open:s,title:r,descriptionMessage:l,connectorType:c,message:d}=e,u=(0,o().IS)((()=>({modal:{width:400,alignItems:"center"},contentWrapper:{paddingTop:0,paddingInlineEnd:20,paddingBottom:24,paddingInlineStart:20,gap:8},messageWrapper:{gap:19},gotItButton:{width:"100%"}})),[]);return(0,i.jsx)(t(107975).a,{showCloseIcon:!0,open:s,onDismiss:n,render:()=>(0,i.jsxs)("div",{style:u.modal,children:[(0,i.jsx)(t(424416).b,{connectorType:c,title:r,subtext:l}),(0,i.jsxs)("div",{style:u.contentWrapper,children:[d?(0,i.jsx)("div",{style:u.messageWrapper,children:d}):void 0,(0,i.jsx)("div",{children:(0,i.jsx)(t(406094).A,{size:"lg",style:u.gotItButton,onClick:a,children:(0,i.jsx)(t(69708).sA,{id:"aiConnectors.common.disconnectModal.confirmDisconnect",defaultMessage:"Got it"})})})]})]})})}},197532:(e,n,t)=>{t.d(n,{X:()=>j});t(944114),t(581454);var o=t(296540),i=()=>t(564884),a=()=>t(300474),s=()=>t(484714),r=()=>t(590526),l=()=>t(401497),c=()=>t(107975),d=()=>t(718827),u=()=>t(249046),p=()=>t(807449),m=()=>t(160432),g=()=>t(902006),h=()=>t(4688),f=()=>t(69708),y=()=>t(100622),b=()=>t(284371),v=()=>t(987267),x=()=>t(576590),A=()=>t(634877),M=()=>t(890494),S=()=>t(157210),_=t(474848);function j(e){const{connector:n,showGoogleWorkspaceNote:t,postDisconnectScreenName:j,disconnectScreenName:w,settingsScreenName:k,errorScreenName:N,setStatusAsDisconnected:T}=e,C=(0,r().O$)(A().NT[n]),{analyticsFrom:I,sessionId:B,currentScreen:W}=C,D=v().w0[n],L=(0,a().r)(),F=(0,s().v3)(),P=(0,f().tz)(),U=(0,l().IS)((()=>({confirmWrapper:{width:300,alignItems:"center"},confirmContainer:{padding:20},confirmModalTitle:{fontSize:17,fontWeight:b().Wy.semibold,color:y().Tj.text.primary,textAlign:"center"},confirmModalSubTitle:{fontSize:14,fontWeight:b().Wy.regular,color:y().Tj.text.secondary,paddingTop:8,textAlign:"center"},confirmModalDescription:{fontSize:14,fontWeight:b().Wy.regular,color:y().Tj.text.secondary,paddingTop:8,textAlign:"center"},goBackButton:{fontSize:14,fontWeight:b().Wy.regular,width:"100%",textAlign:"center",paddingTop:4,paddingInlineEnd:0,paddingBottom:4,paddingInlineStart:0},confirmDisconnectButton:{fontSize:14,fontWeight:b().Wy.medium,width:"100%"},confirmModalActionButtons:{gap:8,paddingTop:20},notesSectionWrapper:{paddingTop:12,paddingInlineEnd:12,paddingBottom:12,paddingInlineStart:12,gap:13},noteBlockWrapper:{marginBottom:12,gap:8},note:{fontWeight:b().Wy.regular,fontSize:14,lineHeight:"18px"},noteHeading:{fontWeight:b().Wy.medium,fontSize:14,lineHeight:"18px"},noteBody:{fontWeight:b().Wy.regular,color:y().Tj.text.secondary,fontSize:14,lineHeight:"18px",letterSpacing:"0.2px"},link:{color:y().Tj.text.secondary,textDecoration:"underline",cursor:"pointer"},icon:{rotate:"45deg",cursor:"pointer",display:"inline",padding:0,margin:0}})),[]),Q=(0,o.useCallback)((()=>{const{noteBlockWrapper:o,noteHeading:a,noteBody:s,link:r}=U,l=[];return l.push((0,_.jsxs)(u().wt,{style:o,children:[(0,_.jsx)("div",{style:a,children:(0,_.jsx)(f().sA,{id:"aiConnectors.post_disconnect_screen.note_1.heading",defaultMessage:"{displayName} data will be permanently deleted from Notion",values:{displayName:D}},"note1-1")}),(0,_.jsx)("div",{style:s,children:(0,g().Gb)(n)?(0,_.jsx)(f().sA,{id:"aiConnectors.post_disconnect_screen.note_1.bodyVectorless",defaultMessage:"{connector} is now fully disconnected.",values:{connector:D}},"note1-2"):(0,_.jsx)(f().sA,{id:"aiConnectors.post_disconnect_screen.note_1.body",defaultMessage:"This process can take up to 3 hours. You’ll only be able to reconnect after disconnecting is complete."},"note1-2")})]},"note-1")),t&&l.push((0,_.jsxs)(u().wt,{style:o,children:[(0,_.jsx)("div",{style:a,children:"google-drive"===n||"gmail"===n?(0,_.jsx)(f().sA,{id:"aiConnectors.post_disconnect_screen.note_2.headingForGoogle",defaultMessage:"Uninstall the Notion AI app from your Google Workspace (optional)"},"note2-1-google"):(0,_.jsx)(f().sA,{id:"aiConnectors.post_disconnect_screen.note_2.heading",defaultMessage:"Uninstall the Notion AI app from your {connectorParentOrganization} workspace (optional)",values:{connectorParentOrganization:(0,v().G6)(n)}},"note2-1")}),(0,_.jsx)("div",{style:s,children:(0,_.jsx)(f().sA,{id:"aiConnectors.post_disconnect_screen.note_2.body",defaultMessage:"Go to your {NavigateToWorkspaceAppsSettings} and uninstall the Notion AI app.",values:{marketplaceAppName:e.marketplaceAppName,NavigateToWorkspaceAppsSettings:(0,_.jsx)("a",{style:r,href:e.marketplaceAppConfigureUrl,target:"_blank",onClick:()=>{(0,i().u)({environment:F,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:"disconnect_screen_marketplace_app_disconnect_btn",integration_type:n,setup_session_id:B,from:I}}})},children:(0,_.jsx)(f().sA,{id:"universalSearch.googleDrive.post_disconnect_screen.disconnect_workspace_app",defaultMessage:"{connectorSettings} {ArrowIcon}",values:{connectorSettings:(0,v().I6)(n),ArrowIcon:(0,_.jsx)(p().I,{icon:h().arrowStraightUpSmallIcon,size:"xxs",style:U.icon})}})})}},"note2-2")})]},"note-2")),l}),[n,D,U,e,t,F,B,I]);return W===j?(0,_.jsx)(S().A,{onClickGotItBtn:()=>{A().NT[n].setState({...C,currentScreen:"none"})},onDismiss:()=>{A().NT[n].setState({...C,currentScreen:"none"})},open:W===j,connectorType:n,title:(0,g().Gb)(n)?(0,_.jsx)(f().sA,{id:"aiConnectors.post_disconnect_modal.titleVectorless",defaultMessage:"{displayName} is disconnected from Notion",values:{displayName:D}}):(0,_.jsx)(f().sA,{id:"aiConnectors.post_disconnect_modal.title",defaultMessage:"{displayName} is disconnecting from Notion",values:{displayName:D}}),descriptionMessage:(0,g().q1)(n)?void 0:(0,_.jsx)(f().sA,{id:"aiConnectors.post_disconnect_modal.description",defaultMessage:"Here’s what’s next:"}),message:(0,g().q1)(n)?null:(0,_.jsx)("div",{style:U.notesSectionWrapper,children:Q().map(((e,n)=>(0,_.jsxs)(u().Ye,{gap:8,style:{marginTop:4,marginBottom:6},children:[(0,_.jsx)(M().A,{number:n+1}),(0,_.jsx)("div",{style:U.note,children:e})]},n)))})}):(0,_.jsx)(c().a,{ariaLabel:P.formatMessage({id:"aiConnectors.disconnectModal.label",defaultMessage:"Disconnect {displayName} from Notion"},{displayName:D}),showCloseIcon:!0,open:W===w,onDismiss:()=>{(0,i().u)({environment:F,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:"disconnect_modal_close",integration_type:n,setup_session_id:B,from:I}}}),A().NT[n].setState({...C,currentScreen:"none"})},render:()=>(0,_.jsx)("div",{style:U.confirmWrapper,children:(0,_.jsxs)("div",{style:U.confirmContainer,children:[(0,_.jsx)("div",{style:U.confirmModalTitle,children:(0,_.jsx)(f().sA,{id:"aiConnectors.disconnectModal.title",defaultMessage:"Are you sure?"})}),(0,_.jsx)("div",{style:U.confirmModalSubTitle,children:(0,_.jsx)(f().sA,{id:"aiConnectors.disconnectModal.subTitle",defaultMessage:"{displayName} data will be permanently deleted from Notion.",values:{displayName:D}})}),(0,_.jsx)("div",{style:U.confirmModalDescription,children:(0,g().Gb)(n)?(0,_.jsx)(f().sA,{id:"aiConnectors.disconnectModal.descriptionVectorless",defaultMessage:"This process should be instant."}):(0,_.jsx)(f().sA,{id:"aiConnectors.disconnectModal.description",defaultMessage:"This process can take up to 3 hours, and you’ll only be able to reconnect after disconnecting is complete."})}),(0,_.jsxs)(u().wt,{style:U.confirmModalActionButtons,children:[(0,_.jsx)(m().A,{colorPalette:"red",style:U.confirmDisconnectButton,disabled:A().NT[n].state.isDisconnecting??!1,onClick:async()=>{(0,i().u)({environment:F,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:"disconnect_modal_confirm_disconnect_button",integration_type:n,setup_session_id:B,from:I}}}),await(async()=>{if(!L)return;const{type:e}=await(0,x().disconnectConnector)({connector:n,spaceId:L,environment:F,disconnectReason:"admin_disconnect"});(0,A().getAiConnectorRefreshFunction)(n)({environment:F,spaceId:L}),"failed"===e?A().NT[n].setState({...C,currentScreen:N}):T()})(),A().NT[n].setState({...C,currentScreen:j})},children:(0,g().q1)(n)?(0,_.jsx)(f().sA,{id:"aiConnectors.disconnectModal.confirmDisconnectPersonal",defaultMessage:"Disconnect"}):(0,_.jsx)(f().sA,{id:"aiConnectors.disconnectModal.confirmDisconnect",defaultMessage:"Disconnect for everyone"})}),(0,_.jsx)(d().Ay,{style:U.goBackButton,onClick:()=>{(0,i().u)({environment:F,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:"disconnect_modal_back_button",integration_type:n,setup_session_id:B,from:I}}}),A().NT[n].setState({...C,currentScreen:k})},children:(0,_.jsx)(f().sA,{id:"aiConnectors.disconnectModal.goBack",defaultMessage:"Go back"})})]})]})})})}},302591:(e,n,t)=>{t.d(n,{A:()=>b});t(296540);var o=()=>t(590526),i=()=>t(401497),a=()=>t(107975),s=()=>t(249046),r=()=>t(807449),l=()=>t(160432),c=()=>t(212473),d=()=>t(69708),u=()=>t(100622),p=()=>t(284371),m=()=>t(634877),g=()=>t(424416),h=t(474848);const f={"google-drive":"Google Workspace Super Admin","google-calendar":"Google Workspace Super Admin",gmail:"Google Workspace Super Admin"};function y(e){return f[e]??""}function b(e){const{connector:n,learnMoreUrl:t,screenName:f}=e,b=(0,d().tz)(),v=(0,o().O$)(m().NT[n]),{currentScreen:x}=v,A=(0,i().IS)((()=>({wrapper:{width:400},footer:{justifyContent:"center",alignItems:"center",width:"100%",height:60,boxShadow:u().Tj.shadowMD,paddingTop:20,paddingInlineEnd:20,paddingBottom:20,paddingInlineStart:20,gap:6},connectButton:{fontSize:14,fontWeight:p().Wy.semibold,width:"100%"},iconWrapper:{width:16,height:16}})),[]);return(0,h.jsx)(a().a,{showCloseIcon:!0,ariaLabel:b.formatMessage({defaultMessage:"Ai Connector Not External Admin",id:"aiConnectorOnboarding.notExternalAdmin.ariaLabel"}),onDismiss:()=>m().NT[n].setState({...v,currentScreen:"none"}),open:x===f,render:()=>(0,h.jsxs)("div",{style:A.wrapper,children:[(0,h.jsx)(g().b,{connectorType:n,title:(0,h.jsx)(d().sA,{id:"universalSearch.notAdmin.title",defaultMessage:"Only a {externalAdminName} can connect",values:{externalAdminName:y(n)}}),subtext:(0,h.jsx)(d().sA,{id:"universalSearch.notAdmin.description",defaultMessage:"We can’t verify that this account is a {externalAdminName}. Please contact your admin to link Notion using their account.",values:{externalAdminName:y(n)}})}),(0,h.jsx)(s().wt,{style:A.footer,children:(0,h.jsxs)(l().A,{colorPalette:"blue",style:A.connectButton,onClick:()=>{window.open(t,"_blank")},children:[(0,h.jsx)(d().sA,{id:"universalSearch.notAdmin.learnMore",defaultMessage:"Learn more"}),(0,h.jsx)("div",{style:A.iconWrapper,children:(0,h.jsx)(r().I,{icon:c().arrowUpRightSquareIcon})})]})})]})})}},328716:(e,n,t)=>{t.d(n,{n:()=>o});const o=(0,t(340498).xh)("office365",{default:{loader:()=>t.e(59287).then(t.bind(t,849050))}})},351595:(e,n,t)=>{t.d(n,{a:()=>m,J:()=>p});t(296540);var o=()=>t(596009),i=()=>t(821983),a=t(474848);const s={viewBox:"0 0 20 20",fittedViewBox:"1.77 1.69 16.42 16.61",svg:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{d:"M17.22 11.956a.626.626 0 0 1 .753.998l-6.377 4.815a2.65 2.65 0 0 1-3.012.125l-.18-.125-6.378-4.815-.093-.086a.626.626 0 0 1 .739-.977l.108.065 6.376 4.816.096.065a1.4 1.4 0 0 0 1.592-.065z"}),(0,a.jsx)("path",{d:"M8.403 2.232a2.65 2.65 0 0 1 3.193 0l5.553 4.192.106.085a2.2 2.2 0 0 1-.106 3.427l-5.553 4.192a2.65 2.65 0 0 1-3.193 0L2.85 9.936a2.2 2.2 0 0 1 0-3.512z"})]})},r=(0,t(340498).wt)("layerMultipleFill",s,"fill");var l=()=>t(471095),c=()=>t(69708),d=()=>t(987267),u=()=>t(424416);function p(e){const n=(0,d().G6)(e);if("notion-mail"===e){const t=d().w0[(0,d().uV)(e)];return(0,a.jsx)(c().sA,{id:"universalQna.connector.introModalTitleNotionMail",defaultMessage:"Connect your {workspaceConnectorName} account using {connectorName}",values:{workspaceConnectorName:t,connectorName:n}})}return(0,a.jsx)(c().sA,{id:"universalQna.connector.introModalTitle",defaultMessage:"To start, install the Notion AI app in {connectorName}",values:{connectorName:n}})}function m(e){const n=(0,d().G6)(e),t=d().w0[(0,d().uV)(e)],s=[{icon:o().arrowUpRightSquareFillIcon,title:(0,a.jsx)(c().sA,{id:"universalQna.connector.introModalNewTabNoteTitle",defaultMessage:"{connectorName} will open in a new tab",values:{connectorName:n}},"newTabNoteTitle"),description:"notion-mail"===e?(0,a.jsx)(c().sA,{id:"universalQna.connector.introModalNewTabNoteDescriptionNotionMail",defaultMessage:"Authenticate or create a Notion Mail account"},"newTabNoteDescriptionNotionMail"):(0,a.jsx)(c().sA,{id:"universalQna.connector.introModalNewTabNoteDescription",defaultMessage:"Click “Start connection” below, then authenticate and accept terms in the new tab"},"newTabNoteDescription")},{icon:i().keyFillIcon,title:(0,a.jsx)(c().sA,{id:"universalQna.connector.introModalPermissionNoteTitle",defaultMessage:"{workspaceConnectorName} permissions are strictly respected",values:{workspaceConnectorName:t}},"permissionNoteTitle"),description:(0,a.jsx)(c().sA,{id:"universalQna.connector.introModalPermissionNoteDescription",defaultMessage:"Members can only get AI answers about content they are authorized to see in {connectorName}.",values:{connectorName:n}},"permissionNoteDescription")},{icon:l().lockFillIcon,title:(0,a.jsx)(c().sA,{id:"universalQna.connector.introModalWeDoNotTrainModelNoteTitle",defaultMessage:"Notion does not train models on your {workspaceConnectorName} data",values:{workspaceConnectorName:t}},"weDoNotTrainModelNoteTitle")}],p={icon:(0,a.jsx)(u().E,{size:20}),title:(0,a.jsx)(c().sA,{id:"universalQna.connector.introModalSharePointAndOneDriveNoteTitle",defaultMessage:"SharePoint and OneDrive content are connected through a single setup"},"sharepointAndOneDriveNoteTitle")},m={icon:r,title:(0,a.jsx)(c().sA,{id:"universalQna.connector.introModalJiraV2NoteTitle",defaultMessage:"We’ll help you create an Atlassian Forge App"},"jiraV2NoteTitle"),description:(0,a.jsx)(c().sA,{id:"universalQna.connector.introModalJiraV2NoteDescription",defaultMessage:"We’ll need admin information to create and connect your app. This might take a few minutes."},"jiraV2NoteDescription")};switch(e){case"sharepoint":return[p,...s];case"jira":return[m,...s.slice(1)];default:return s}}},354807:(e,n,t)=>{t.d(n,{Q:()=>h});t(581454);var o=t(296540),i=()=>t(401497),a=()=>t(107975),s=()=>t(249046),r=()=>t(406094),l=()=>t(160432),c=()=>t(852219),d=()=>t(69708),u=()=>t(284371),p=()=>t(890494),m=()=>t(424416),g=t(474848);function h(e){const{notes:n,connectorType:t,openLearnMoreUrl:h,open:f,onDismiss:y,title:b,subText:v,onClickPrimaryButton:x,primaryButtonText:A,warningMessage:M}=e,[S,_]=(0,o.useState)(!1),j=(0,i().IS)((()=>({wrapper:{width:400},selectionContainer:{padding:20,width:400,paddingTop:12},waitingForConnectionWrapper:{display:"flex",flexDirection:"column",alignItems:"center"},note:{fontWeight:u().Wy.regular,fontSize:14,lineHeight:"18px",width:330,marginInlineStart:8},buttonContainer:{width:"100%",marginTop:"16px"},primaryButton:{width:"100%"},learnMoreButton:{width:"100%"}})),[]),w=(0,d().tz)();return(0,g.jsx)(a().a,{ariaLabel:w.formatMessage({id:"universalSearch.waitingForConnection.ariaLabel",defaultMessage:"Authentication modal"}),showCloseIcon:!0,open:f,onDismiss:y,render:()=>(0,g.jsxs)("div",{style:j.wrapper,children:[(0,g.jsx)(m().b,{connectorType:t,title:b,subtext:v}),(0,g.jsx)(s().Ye,{style:j.selectionContainer,children:(0,g.jsx)(s().wt,{children:(0,g.jsxs)(s().wt,{style:j.waitingForConnectionWrapper,children:[n.map(((e,n)=>(0,g.jsxs)(s().Ye,{gap:8,style:{marginTop:4,marginBottom:6},children:[(0,g.jsx)(p().A,{number:n+1}),(0,g.jsx)("div",{style:j.note,children:e})]},n))),(0,g.jsxs)(s().wt,{style:j.buttonContainer,gap:6,children:[M,x?(0,g.jsx)(l().A,{colorPalette:"blue",size:"xl",isLoading:S,disabled:S,style:j.primaryButton,onClick:async()=>{_(!0),await x(),_(!1)},children:A}):void 0,h?(0,g.jsx)(r().A,{size:"lg",iconLeading:{icon:c().bookSmallIcon,size:"xs"},style:j.learnMoreButton,onClick:h,children:(0,g.jsx)(d().sA,{id:"universalSearch.integrations.learnMore",defaultMessage:"Read our step-by-step guide"})}):void 0]})]})})})]})})}},382690:(e,n,t)=>{t.d(n,{BN:()=>x,LA:()=>b,zK:()=>v});var o=t(296540),i=()=>t(564884),a=()=>t(920198),s=()=>t(484714),r=()=>t(590526),l=()=>t(107975),c=()=>t(128933),d=()=>t(69708),u=()=>t(244851),p=()=>t(176983),m=()=>t(528093),g=()=>t(270812),h=()=>t(829148),f=()=>t(577733),y=t(474848);const b=(0,d().YK)({title:{defaultMessage:"Find anything across all of your apps with Notion AI",id:"NotionAIConnectorNonadminModal.title"},subtitleForAnnouncement:{defaultMessage:"Notify your workspace owner to use AI connectors.",id:"NotionAIConnectorNonadminModal.subtitleForAnnouncement"},learnMoreLink:{defaultMessage:"Learn more about",id:"NotionAIConnectorNonadminModal.learnMoreLink"},toast:{defaultMessage:"We will send a notification to your workspace owner",id:"NotionAIConnectorNonadminModal.toast"},alreadyRequestedToast:{defaultMessage:"You’ve previously notified your workspace owner - your request is in review.",id:"NotionAIConnectorNonadminModal.alreadyRequestedToast"}});function v(){const e=(0,r().K8)((()=>u().O.state.open&&"nonadmin_request"===u().O.state.modal?{open:!0,analyticsFrom:u().O.state.analyticsFrom}:{open:!1}),[]),n=(0,o.useCallback)((()=>{u().O.setState({open:!1})}),[]);return e.open?(0,y.jsx)(x,{connector:"generic",handleClose:n,open:!0,analyticsFrom:e.analyticsFrom,setupSessionId:"none",messages:{...b,betaDisclaimer:{...f().gp.betaDisclaimer},ctaButtonLabelWithAddon:{...f().gp.ctaButtonLabelWithAddon},ctaButtonLabelWithoutAddon:{...f().gp.ctaButtonLabelWithoutAddon}}}):null}function x(e){const{open:n,handleClose:t,connector:r,analyticsFrom:u,setupSessionId:f,messages:v}=e,x=(0,d().tz)(),A=(0,s().v3)(),M=(0,a().L)(),S=(0,p().J)(M),_=null==M?void 0:M.id,j=A.currentUser.id,w=(0,m()._)({name:"ai_connectors",spaceId:_,userId:j}),{openModal:k,canUserRequestUpgrade:N}=(0,g().E)({type:"feature",featureAvailability:w,entrypoint:"ai_connectors_request_modal",analyticsEntrypoint:"ai_request_modal",isOptimisticUpsell:!1}),T=(0,o.useCallback)((({source:e,upsell:n})=>{"closeButton"!==e?(u&&(0,i().u)({environment:A,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:"contact_workspace_owners",integration_type:r,setup_session_id:f,from:u}}}),n?N?(k(),t()):(t(),c().D6({label:(0,y.jsx)(d().sA,{...b.alreadyRequestedToast})})):(t(),c().D6({label:(0,y.jsx)(d().sA,{...b.toast})}))):t()}),[t,r,A,k,N,u,f]);return w?(0,y.jsx)(l().a,{showCloseIcon:!0,onDismiss:()=>T({source:"closeButton",upsell:void 0}),open:n,ariaLabel:x.formatMessage(b.title),render:()=>(0,y.jsx)(h().Y,{aiConnectorsFeatureAvailability:w,calloutKey:void 0,eventName:"ai_connector_nonadmin_request_modal_shown",messages:v,onDismiss:T,connector:r,showNarrowCta:S})}):null}},430405:(e,n,t)=>{t.d(n,{A:()=>d});t(581454);var o=t(296540),i=()=>t(249046),a=()=>t(302501),s=()=>t(69708),r=()=>t(100622),l=()=>t(284371),c=t(474848);const d=function(e){const{title:n,open:d,notes:u,connectorType:p,onDismiss:m,onConnect:g,onLearnMore:h,isLoading:f,overridePrimaryMessage:y,centerNotes:b,noteStyleOverrides:v,subtitle:x,customContentBeforeFooter:A,borderAroundNotes:M,grayscaleNoteIcons:S}=e,_=(0,s().tz)(),j=(0,t(401497).IS)((()=>({wrapper:{width:M?428:400,paddingTop:8},dataSafetyWrapper:{width:"100%",justifyContent:"center",marginTop:8,padding:"0px 20px",...M&&{border:`1px solid ${r().Tj.border.secondary}`,borderRadius:8,padding:"0px 12px",margin:"0px 12px 0px 12px",maxWidth:400}},notes:{display:"flex",flexDirection:"column",marginTop:12,gap:12,font:l().Tf.sans,listStylePosition:"outside",paddingInlineStart:2,listStyleType:"none",...b&&{textAlign:"center",justifyContent:"center"}},note:{display:"flex",alignItems:"start",fontSize:l().J.UIRegular.desktop,lineHeight:l().K_.UIRegular.desktop,color:`${r().Tj.text.secondary}`,padding:2,gap:12,listStylePosition:"outside",marginBottom:4,...b&&{alignItems:"center",textAlign:"center",justifyContent:"center"},...v},noteIconWrapper:{display:"flex",alignItems:"center",justifyContent:"center"},noteTextWrapper:{display:"flex",flexDirection:"column",alignItems:"start",justifyContent:"center",gap:4},noteIcon:{width:20,height:20,color:S?r().Tj.palette.gray[600]:r().Tj.palette.uiBlue[600]},noteTitle:{fontWeight:l().Wy.medium,textWrap:"pretty"},footer:{justifyContent:"center",alignItems:"center",width:"100%",paddingTop:12,paddingInlineEnd:20,paddingBottom:20,paddingInlineStart:20,gap:6},connectButton:{width:"100%"},learnMoreButton:{width:"100%"}})),[b,v,S,M]),w=(0,o.useCallback)((()=>{const e=t(634877).NT[p];e.setState({...e.state,currentScreen:"none"})}),[p]);return(0,c.jsx)(t(107975).a,{ariaLabel:_.formatMessage({id:"universalSearch.integrations.introModalAriaLabel",defaultMessage:"AI connector introduction"}),showCloseIcon:!0,onDismiss:m,open:d,render:()=>(0,c.jsxs)("div",{style:j.wrapper,children:[(0,c.jsx)(t(424416).b,{connectorType:p,title:n,subtext:x}),(0,c.jsx)(t(198630).f,{sunsetCheckSource:"ai_connectors_modal",additionalOnClickUpgrade:w}),u?(0,c.jsx)(i().Ye,{style:j.dataSafetyWrapper,children:(0,c.jsx)("ul",{style:j.notes,children:u.map(((e,n)=>(0,c.jsxs)("li",{style:j.note,children:[(0,c.jsx)("div",{style:j.noteIconWrapper,children:e.icon?"function"==typeof e.icon?e.icon(j.noteIcon):e.icon:void 0}),(0,c.jsxs)("div",{style:j.noteTextWrapper,children:[(0,c.jsx)(a().A,{isMultiline:!0,style:j.noteTitle,children:e.title}),e.description?(0,c.jsx)(a().A,{isMultiline:!0,isSecondaryColor:!0,children:e.description}):void 0]})]},`note-${n}`)))})}):void 0,A,(0,c.jsxs)(i().wt,{style:j.footer,children:[(0,c.jsx)(t(160432).A,{colorPalette:"blue",size:"xl",isLoading:f,disabled:f,style:j.connectButton,onClick:g,children:y||(0,c.jsx)(s().sA,{id:"universalSearch.integration.startConnection",defaultMessage:"Start connection"})}),h?(0,c.jsx)(t(406094).A,{size:"lg",iconLeading:{icon:t(852219).bookSmallIcon,size:"xs"},style:j.learnMoreButton,onClick:h,children:(0,c.jsx)(s().sA,{id:"universalSearch.integrations.learnMore",defaultMessage:"Read our step-by-step guide"})}):void 0]})]})})}},508700:(e,n,t)=>{t.d(n,{T:()=>i});t(296540);const o={viewBox:"0 0 16 16",fittedViewBox:"1.62 2.87 12.76 10.25",svg:(0,t(474848).jsx)("path",{d:"M2.25 5.531h5.692a2.126 2.126 0 0 0 4.116 0h1.692a.625.625 0 1 0 0-1.25H12a2.126 2.126 0 0 0-4 0H2.25a.625.625 0 1 0 0 1.25M10 4.125a.875.875 0 1 1 0 1.75.875.875 0 0 1 0-1.75m-4 9c.921 0 1.706-.586 2-1.406h5.75a.625.625 0 0 0 0-1.25H8.058a2.126 2.126 0 0 0-4.116 0H2.25a.625.625 0 1 0 0 1.25H4a2.13 2.13 0 0 0 2 1.406m0-1.25a.875.875 0 1 1 0-1.75.875.875 0 0 1 0 1.75"})},i=(0,t(340498).wt)("slidersSmall",o,"small")},577733:(e,n,t)=>{t.d(n,{A3:()=>y,FH:()=>b,Fj:()=>u,Fn:()=>p,Sn:()=>a,gp:()=>i,oO:()=>f,vK:()=>s,vc:()=>M,z$:()=>r});var o=()=>t(69708);const i=(0,o().YK)({betaDisclaimer:{defaultMessage:"Beta availability and pricing are subject to change.",id:"GithubUniversalQnaAnnouncementModal.betaDisclaimer"},ctaButtonLabelWithAddon:{defaultMessage:"Try now",id:"GithubUniversalQnaAnnouncementModal.ctaButtonLabelWithAddon"},ctaButtonLabelWithoutAddon:{defaultMessage:"Get Notion AI",id:"GithubUniversalQnaAnnouncementModal.ctaButtonLabelWithoutAddon"},learnMoreLink:{defaultMessage:"Learn more",id:"GithubUniversalQnaAnnouncementModal.learnMoreLink"},notifyWorkspaceOwner:{defaultMessage:"Request access",id:"GithubUniversalQnaAnnouncementModal.notifyWorkspaceOwner"},notifyWorkspaceSubtitle:{defaultMessage:"We’ll send your workspace owner a request to enable this feature",id:"GithubUniversalQnaAnnouncementModal.notifyWorkspaceSubtitle"}}),a=(0,o().YK)({title:{defaultMessage:"Get GitHub answers in Notion",id:"GithubUniversalQnaAnnouncementModal.title"},subtitleForAnnouncement:{defaultMessage:"Find information and get answers about your GitHub Pull Requests, Issues, and more.",id:"GithubUniversalQnaAnnouncementModal.subtitleForAnnouncement"},shortDescription:{defaultMessage:"Search and ask about PRs, issues, and docs",id:"GithubUniversalQnaAnnouncementModal.shortDescription"},betaDisclaimer:i.betaDisclaimer,ctaButtonLabelWithAddon:i.ctaButtonLabelWithAddon,ctaButtonLabelWithoutAddon:i.ctaButtonLabelWithoutAddon,learnMoreLink:i.learnMoreLink}),s=(0,o().YK)({title:{defaultMessage:"Get Slack answers in Notion AI",id:"slackUniversalQnaAnnouncementModal.title"},subtitleForAnnouncement:{defaultMessage:"Summarize threads, get answers, find information from public channels, and more.",id:"slackUniversalQnaAnnouncementModal.subtitleForAnnouncement"},shortDescription:{defaultMessage:"Search and ask about channels and threads",id:"slackUniversalQnaAnnouncementModal.shortDescription"},betaDisclaimer:i.betaDisclaimer,ctaButtonLabelWithAddon:i.ctaButtonLabelWithAddon,ctaButtonLabelWithoutAddon:i.ctaButtonLabelWithoutAddon,learnMoreLink:i.learnMoreLink}),r=(0,o().YK)({title:{defaultMessage:"Get Jira answers in Notion AI",id:"JiraUniversalQnaAnnouncementModal.title"},subtitleForAnnouncement:{defaultMessage:"Find information and get answers about your Jira sites, projects, issues, and more.",id:"JiraUniversalQnaAnnouncementModal.subtitleForAnnouncement"},shortDescription:{defaultMessage:"Search and ask about sites, projects, and issues",id:"JiraUniversalQnaAnnouncementModal.shortDescription"},betaDisclaimer:i.betaDisclaimer,ctaButtonLabelWithAddon:i.ctaButtonLabelWithAddon,ctaButtonLabelWithoutAddon:i.ctaButtonLabelWithoutAddon,learnMoreLink:i.learnMoreLink}),l=(0,o().YK)({title:{defaultMessage:"Get Gmail answers in Notion AI",id:"GmailUniversalQnaAnnouncementModal.title"},subtitleForAnnouncement:{defaultMessage:"Find information and get answers about your Gmail emails.",id:"GmailUniversalQnaAnnouncementModal.subtitleForAnnouncement"},shortDescription:{defaultMessage:"Search and ask about your emails",id:"GmailUniversalQnaAnnouncementModal.shortDescription"},betaDisclaimer:i.betaDisclaimer,ctaButtonLabelWithAddon:i.ctaButtonLabelWithAddon,ctaButtonLabelWithoutAddon:i.ctaButtonLabelWithoutAddon,learnMoreLink:i.learnMoreLink}),c=(0,o().YK)({title:{defaultMessage:"Get Notion Mail answers in Notion AI",id:"NotionMailUniversalQnaAnnouncementModal.title"},subtitleForAnnouncement:{defaultMessage:"Find information and get answers about your Notion Mail emails.",id:"NotionMailUniversalQnaAnnouncementModal.subtitleForAnnouncement"},shortDescription:{defaultMessage:"Search and ask about your emails",id:"NotionMailUniversalQnaAnnouncementModal.shortDescription"},betaDisclaimer:i.betaDisclaimer,ctaButtonLabelWithAddon:i.ctaButtonLabelWithAddon,ctaButtonLabelWithoutAddon:i.ctaButtonLabelWithoutAddon,learnMoreLink:i.learnMoreLink}),d=(0,o().YK)({title:{defaultMessage:"Get Outlook answers in Notion AI",id:"OutlookUniversalQnaAnnouncementModal.title"},subtitleForAnnouncement:{defaultMessage:"Find information and get answers about your Outlook emails.",id:"OutlookUniversalQnaAnnouncementModal.subtitleForAnnouncement"},shortDescription:{defaultMessage:"Search and ask about your emails",id:"OutlookUniversalQnaAnnouncementModal.shortDescription"},betaDisclaimer:i.betaDisclaimer,ctaButtonLabelWithAddon:i.ctaButtonLabelWithAddon,ctaButtonLabelWithoutAddon:i.ctaButtonLabelWithoutAddon,learnMoreLink:i.learnMoreLink}),u=(0,o().YK)({title:{defaultMessage:"Get Microsoft Teams answers in Notion AI",id:"MicrosoftTeamsUniversalQnaAnnouncementModal.title"},subtitleForAnnouncement:{defaultMessage:"Find information and get answers about your Teams channels and chats.",id:"MicrosoftTeamsUniversalQnaAnnouncementModal.subtitle"},shortDescription:{defaultMessage:"Search and ask about channels and chats",id:"MicrosoftTeamsUniversalQnaAnnouncementModal.shortDescription"},betaDisclaimer:i.betaDisclaimer,ctaButtonLabelWithAddon:i.ctaButtonLabelWithAddon,ctaButtonLabelWithoutAddon:i.ctaButtonLabelWithoutAddon,learnMoreLink:i.learnMoreLink}),p=(0,o().YK)({title:{defaultMessage:"Get Google Drive answers in Notion AI",id:"GoogleDriveUniversalQnaAnnouncementModal.title"},subtitleForAnnouncement:{defaultMessage:"Find information and get answers about your Google Docs, Slides, and Sheets.",id:"GoogleDriveUniversalQnaAnnouncementModal.subtitleForAnnouncement"},shortDescription:{defaultMessage:"Search and ask about your Drive content",id:"GoogleDriveUniversalQnaAnnouncementModal.shortDescription"},betaDisclaimer:i.betaDisclaimer,ctaButtonLabelWithAddon:i.ctaButtonLabelWithAddon,ctaButtonLabelWithoutAddon:i.ctaButtonLabelWithoutAddon,learnMoreLink:i.learnMoreLink}),m=(0,o().YK)({title:{defaultMessage:"Get Google Calendar answers in Notion AI",id:"GoogleCalendarUniversalQnaAnnouncementModal.title"},subtitleForAnnouncement:{defaultMessage:"Find information and get answers about your Google Calendar events.",id:"GoogleCalendarUniversalQnaAnnouncementModal.subtitleForAnnouncement"},shortDescription:{defaultMessage:"Search and ask about your Calendar events",id:"GoogleCalendarUniversalQnaAnnouncementModal.shortDescription"},betaDisclaimer:i.betaDisclaimer,ctaButtonLabelWithAddon:i.ctaButtonLabelWithAddon,ctaButtonLabelWithoutAddon:i.ctaButtonLabelWithoutAddon,learnMoreLink:i.learnMoreLink}),g=(0,o().YK)({title:{defaultMessage:"Get Calendar answers in Notion AI",id:"NotionCalendarUniversalQnaAnnouncementModal.title"},subtitleForAnnouncement:{defaultMessage:"Find information and get answers about your Calendar events.",id:"NotionCalendarUniversalQnaAnnouncementModal.subtitleForAnnouncement"},shortDescription:{defaultMessage:"Search and ask about your Calendar events",id:"NotionCalendarUniversalQnaAnnouncementModal.shortDescription"},betaDisclaimer:i.betaDisclaimer,ctaButtonLabelWithAddon:i.ctaButtonLabelWithAddon,ctaButtonLabelWithoutAddon:i.ctaButtonLabelWithoutAddon,learnMoreLink:i.learnMoreLink}),h=(0,o().YK)({title:{defaultMessage:"Get Salesforce answers in Notion AI",id:"SalesforceUniversalQnaAnnouncementModal.title"},subtitleForAnnouncement:{defaultMessage:"Find information and get answers about your Salesforce content.",id:"SalesforceUniversalQnaAnnouncementModal.subtitle"},shortDescription:{defaultMessage:"Search and ask about your Salesforce content",id:"SalesforceUniversalQnaAnnouncementModal.shortDescription"},betaDisclaimer:i.betaDisclaimer,ctaButtonLabelWithAddon:i.ctaButtonLabelWithAddon,ctaButtonLabelWithoutAddon:i.ctaButtonLabelWithoutAddon,learnMoreLink:i.learnMoreLink}),f=(0,o().YK)({title:{defaultMessage:"Get SharePoint answers in Notion AI",id:"sharePointUniversalQnaAnnouncementModal.title"},subtitleForAnnouncement:{defaultMessage:"Find information and get answers about your SharePoint content.",id:"sharePointUniversalQnaAnnouncementModal.subtitle"},shortDescription:{defaultMessage:"Search and ask about your stored content",id:"sharePointUniversalQnaAnnouncementModal.shortDescription"},betaDisclaimer:i.betaDisclaimer,ctaButtonLabelWithAddon:i.ctaButtonLabelWithAddon,ctaButtonLabelWithoutAddon:i.ctaButtonLabelWithoutAddon,learnMoreLink:i.learnMoreLink}),y=(0,o().YK)({title:{defaultMessage:"Get Linear answers in Notion AI",id:"LinearUniversalQnaAnnouncementModal.title"},subtitleForAnnouncement:{defaultMessage:"Find information and get answers about your Linear projects, issues, and more.",id:"LinearUniversalQnaAnnouncementModal.subtitle"},shortDescription:{defaultMessage:"Search and ask about tasks, issues and more",id:"LinearUniversalQnaAnnouncementModal.shortDescription"},betaDisclaimer:i.betaDisclaimer,ctaButtonLabelWithAddon:i.ctaButtonLabelWithAddon,ctaButtonLabelWithoutAddon:i.ctaButtonLabelWithoutAddon,learnMoreLink:i.learnMoreLink}),b=(0,o().YK)({title:{defaultMessage:"Get Discord answers in Notion AI",id:"discordUniversalQnaAnnouncementModal.title"},subtitleForAnnouncement:{defaultMessage:"Find information and get answers from your Discord server.",id:"discordUniversalQnaAnnouncementModal.subtitleForAnnouncement"},shortDescription:{defaultMessage:"Search and ask about your Discord content",id:"discordUniversalQnaAnnouncementModal.shortDescription"},betaDisclaimer:i.betaDisclaimer,ctaButtonLabelWithAddon:i.ctaButtonLabelWithAddon,ctaButtonLabelWithoutAddon:i.ctaButtonLabelWithoutAddon,learnMoreLink:i.learnMoreLink}),v=(0,o().YK)({title:{defaultMessage:"Get Asana answers in Notion AI",id:"asanaUniversalQnaAnnouncementModal.title"},subtitleForAnnouncement:{defaultMessage:"Find information and get answers from your Asana projects and tasks.",id:"asanaUniversalQnaAnnouncementModal.subtitleForAnnouncement"},shortDescription:{defaultMessage:"Search and ask about your Asana content",id:"asanaUniversalQnaAnnouncementModal.shortDescription"},betaDisclaimer:i.betaDisclaimer,ctaButtonLabelWithAddon:i.ctaButtonLabelWithAddon,ctaButtonLabelWithoutAddon:i.ctaButtonLabelWithoutAddon,learnMoreLink:i.learnMoreLink}),x=(0,o().YK)({title:{defaultMessage:"Get Box answers in Notion AI",id:"BoxUniversalQnaAnnouncementModal.title"},subtitleForAnnouncement:{defaultMessage:"Find information and get answers about your Box content.",id:"BoxUniversalQnaAnnouncementModal.subtitle"},shortDescription:{defaultMessage:"Search and ask about your Box content",id:"BoxUniversalQnaAnnouncementModal.shortDescription"},betaDisclaimer:i.betaDisclaimer,ctaButtonLabelWithAddon:i.ctaButtonLabelWithAddon,ctaButtonLabelWithoutAddon:i.ctaButtonLabelWithoutAddon,learnMoreLink:i.learnMoreLink}),A=(0,o().YK)({title:{defaultMessage:"Get custom AI connector answers in Notion AI",id:"CustomUniversalQnaAnnouncementModal.title"},subtitleForAnnouncement:{defaultMessage:"Search data from your custom AI connectors—whether you push it via our API or sync it from external sources like S3.",id:"CustomUniversalQnaAnnouncementModal.subtitleForAnnouncement"},shortDescription:{defaultMessage:"Search and ask about data from your custom AI connectors",id:"CustomUniversalQnaAnnouncementModal.shortDescription"},betaDisclaimer:i.betaDisclaimer,ctaButtonLabelWithAddon:i.ctaButtonLabelWithAddon,ctaButtonLabelWithoutAddon:i.ctaButtonLabelWithoutAddon,learnMoreLink:i.learnMoreLink}),M={github:a,slack:s,jira:r,gmail:l,sharepoint:f,linear:y,"google-drive":p,"microsoft-teams":u,outlook:d,"notion-mail":c,"google-calendar":m,"notion-calendar":g,salesforce:h,discord:b,asana:v,box:x,custom:A}},596009:(e,n,t)=>{t.r(n),t.d(n,{arrowUpRightSquareFillIcon:()=>i,iconDefinition:()=>o});t(296540);const o={viewBox:"0 0 20 20",fittedViewBox:"3.12 3.12 13.75 13.75",svg:(0,t(474848).jsx)("path",{d:"M5.25 3.125A2.125 2.125 0 0 0 3.125 5.25v9.5c0 1.174.951 2.125 2.125 2.125h9.5a2.125 2.125 0 0 0 2.125-2.125v-9.5a2.125 2.125 0 0 0-2.125-2.125zM7.875 7c0-.345.28-.625.625-.625H13c.345 0 .625.28.625.625v4.5a.625.625 0 1 1-1.25 0V8.509l-5.12 5.12a.625.625 0 1 1-.884-.883l5.12-5.121H8.5A.625.625 0 0 1 7.875 7"})},i=(0,t(340498).wt)("arrowUpRightSquareFill",o,"fill")},657148:(e,n,t)=>{t.d(n,{b:()=>y});var o=t(296540),i=()=>t(564884),a=()=>t(484714),s=()=>t(590526),r=()=>t(401497),l=()=>t(107975),c=()=>t(249046),d=()=>t(160432),u=()=>t(69708),p=()=>t(100622),m=()=>t(284371),g=()=>t(634877),h=()=>t(424416),f=t(474848);function y(e){const{connector:n,title:t,subtext:y,handleErrorDismissClick:b}=e,v=(0,u().tz)(),x=(0,s().O$)(g().NT[n]),{currentScreen:A,sessionId:M,analyticsFrom:S}=x,_=(0,a().v3)(),j=(0,r().IS)((()=>({wrapper:{width:400},footer:{justifyContent:"center",alignItems:"center",width:"100%",height:60,boxShadow:p().Tj.shadowMD,paddingTop:20,paddingInlineEnd:20,paddingBottom:20,paddingInlineStart:20,gap:6},connectButton:{fontSize:14,fontWeight:m().Wy.semibold,width:"100%"}})),[]),w="error"===A;(0,o.useEffect)((()=>{w&&(0,i().u)({environment:_,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:"info_screen_connect_error",integration_type:n,setup_session_id:M,from:S}}})}),[w,S,M,_,n]);const k=(0,o.useCallback)((()=>{g().NT[n].setState({...x,currentScreen:"none"}),null==b||b()}),[x,n,b]);return(0,f.jsx)(l().a,{ariaLabel:v.formatMessage({defaultMessage:"Ai Connector Error Modal",id:"aiConnectorOnboarding.errorModal.ariaLabel"}),showCloseIcon:!0,onDismiss:k,open:w,render:()=>(0,f.jsxs)("div",{style:j.wrapper,children:[(0,f.jsx)(h().b,{connectorType:n,title:t||(0,f.jsx)(u().sA,{id:"universalSearch.errorModal.title",defaultMessage:"Oops! Something went wrong"}),subtext:y||(0,f.jsx)(u().sA,{id:"universalSearch.errorModal.description",defaultMessage:"Something went wrong, please try again later."})}),(0,f.jsx)(c().wt,{style:j.footer,children:(0,f.jsx)(d().A,{colorPalette:"blue",style:j.connectButton,onClick:k,children:(0,f.jsx)(u().sA,{id:"universalSearch.error.Dismiss",defaultMessage:"Close"})})})]})})}},722228:(e,n,t)=>{t.d(n,{Z:()=>C});var o=t(296540),i=()=>t(564884),a=()=>t(300474),s=()=>t(920198),r=()=>t(836095),l=()=>t(726637),c=()=>t(484714),d=()=>t(590526),u=()=>t(902006),p=()=>t(706021),m=()=>t(61958),g=()=>t(96563),h=()=>t(576590),f=()=>t(634877),y=()=>t(604018),b=()=>t(383070),v=()=>t(176983),x=()=>t(390366),A=()=>t(789586),M=()=>t(351595),S=()=>t(577733),_=()=>t(18541),j=()=>t(382690),w=()=>t(430405),k=t(474848);function N(e){return`${(0,u().aK)(e)}_connect_button`}const T=(0,t(69708).YK)({oauthPopupTitle:{defaultMessage:"Connect {connector} AI Connector",id:"AIConnectorIntroModal.oauthPopupTitle"}});function C(e){const{connector:n,learnMoreUrl:t,staticAuthUrl:C,openAuthUrl:I}=e,[B,W]=o.useState(!1),D=(0,c().v3)(),L=(0,o.useMemo)((()=>(0,M().a)(n)),[n]),F=(0,o.useMemo)((()=>(0,M().J)(n)),[n]),P=(0,a().r)(),U=(0,d().O$)(f().NT[n]),{currentScreen:Q,analyticsFrom:z,sessionId:G}=U,E=(0,d().K8)((()=>b().zD.canUseAiConnectorSearchScope(n)),[n]),Y="introduction"===Q,R=(0,s().L)(),O=(0,v().J)(R),q=D.currentUser.id,H=(0,A().P)({name:"ai_connectors",spaceId:P,userId:q}),K=(0,f().nB)({connector:n,authorizationType:"workspace",existingAuthorizationUrl:C,openAuthUrl:I});return(0,o.useEffect)((()=>{Y&&E&&(0,i().u)({environment:D,event:{eventName:"universal_qna_onboarding_modal_open",eventProperties:{integration_type:n,setup_session_id:G,from:z,is_space_admin:O,is_ai_eligible:H??!1}}})}),[D,z,H,Y,O,G,n,E]),E&&"sharepoint"!==n?l().A.isMobile?(0,k.jsx)(_().S,{connectorType:n,open:Y,onClosed:()=>f().NT[n].reset(),learnMoreUrl:t}):O||(0,u().q1)(n)?(0,k.jsx)(w().A,{connectorType:n,notes:L,customContentBeforeFooter:e.customContentBeforeFooter,onLearnMore:()=>{window.open(t,"_blank")},onConnect:async()=>{P&&(K||I)&&(W(!0),await async function(e){const{connector:n,environment:t,spaceId:o,setupSessionId:a,from:s,authUrl:l,openAuthUrl:c,onConnectNotStarted:d,nextScreens:b,usesPopup:v}=e;(0,i().u)({environment:t,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:"info_screen_connect",integration_type:n,setup_session_id:a,from:s}}}),(0,h().maybeMarkAiConnectorOnboardingSurveyMomentInSettings)({environment:t,connector:n,moment:"started"});const A=await(0,x().B)(t,{name:"ai_connectors",spaceId:o,userId:t.currentUser.id}),M=(0,u().q1)(n);if(!(0,p().e2)(A)&&!M)return void(0,g().pp)({connector:n,environment:t,analyticsFrom:s,connectorsFeatureAvailability:A});const{status:S}=await(0,f().getAiConnectorRefreshFunction)(n)({environment:t,spaceId:o});if("failed"===S)return void f().NT[n].setState({...f().NT[n].state,currentScreen:b.error});const _=(0,y().XY)(n);if("in_progress"===_){var j;(0,i().u)({environment:t,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:"connection_complete_screen",integration_type:n,setup_session_id:a,from:s}}});if(!1!==await(null===(j=e.onCheckConnectionFromInProgressState)||void 0===j?void 0:j.call(e)))return void f().NT[n].setState({...f().NT[n].state,currentScreen:b.inProgress})}else if("completed"===_)return(0,i().u)({environment:t,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:"already_connected_screen",integration_type:n,setup_session_id:a,from:s}}}),void f().NT[n].setState({...f().NT[n].state,currentScreen:b.alreadyConnected});(0,i().u)({environment:t,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:"auth_screen",integration_type:n,setup_session_id:a,from:s}}}),f().NT[n].setState({...f().NT[n].state,currentScreen:b.notStarted}),c?c():v&&l?t.device.isElectron?(0,r().P)(l):m().P(t,{width:800,height:600,url:l,titleMessage:T.oauthPopupTitle,titleMessageValues:{connector:n}}):l&&window.open(l,"_blank");null==d||d()}({environment:D,spaceId:P,setupSessionId:G,from:N(n),authUrl:K,...e}),W(!1))},onDismiss:()=>{(0,i().u)({environment:D,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:"info_screen_dismiss",integration_type:n,setup_session_id:G,from:z}}}),f().NT[n].setState({...U,analyticsFrom:z,sessionId:G,currentScreen:"none"})},title:F,isLoading:B,open:Y}):(0,k.jsx)(j().BN,{connector:n,handleClose:()=>(0,h().resetAiConnectorStatus)(n),open:Y,analyticsFrom:z,setupSessionId:G,messages:S().vc[n]}):null}},753264:(e,n,t)=>{t.d(n,{L:()=>u});var o=t(296540),i=()=>t(401497),a=()=>t(249046),s=()=>t(69708),r=()=>t(100622),l=()=>t(284371),c=()=>t(890494),d=t(474848);function u({title:e,description:n,number:t}){const u=(0,i().IS)((()=>({title:{fontSize:l().J.UIRegular.desktop,color:r().Tj.text.primary,fontWeight:l().Wy.medium},body:{fontSize:l().J.UIRegular.desktop,fontWeight:l().Wy.regular,color:r().Tj.text.secondary}})),[]);return(0,d.jsxs)(a().Ye,{gap:8,style:{marginBottom:8},children:[(0,d.jsx)(c().A,{number:t}),(0,d.jsxs)(a().wt,{gap:4,children:[(0,d.jsx)("div",{style:u.title,children:(0,d.jsx)(s().sA,{...e})}),n?(0,d.jsx)("div",{style:u.body,children:o.isValidElement(n)?n:(0,d.jsx)(s().sA,{...n})}):void 0]})]})}},808936:(e,n,t)=>{t.r(n),t.d(n,{iconDefinition:()=>o,paperPlaneIcon:()=>i});t(296540);const o={viewBox:"0 0 20 20",fittedViewBox:"2.07 2.87 15.11 15.1",svg:(0,t(474848).jsx)("path",{d:"M16.994 3.06a.62.62 0 0 1 .136.673l-5.357 13.843a.625.625 0 0 1-1.131.074l-2.913-5.33L2.4 9.41a.625.625 0 0 1 .074-1.132L16.317 2.92a.63.63 0 0 1 .677.14M8.08 11.087l5.936-5.936L4.18 8.957zm.884.884 2.13 3.898L14.9 6.035z"})},i=(0,t(340498).wt)("paperPlane",o,"default")},821983:(e,n,t)=>{t.r(n),t.d(n,{iconDefinition:()=>o,keyFillIcon:()=>i});t(296540);const o={viewBox:"0 0 20 20",fittedViewBox:"5.31 1.92 9.37 16.15",svg:(0,t(474848).jsx)("path",{d:"M12.02 10.83a.3.3 0 0 0 .062-.023 4.684 4.684 0 1 0-4.164 0q.03.014.062.023v5.225c0 .086.034.169.095.23L9.77 17.98a.325.325 0 0 0 .46 0l1.695-1.695a.325.325 0 0 0 0-.46l-1.465-1.466 1.465-1.465a.33.33 0 0 0 .095-.23zM10 6.67a1 1 0 1 1 0-2 1 1 0 0 1 0 2"})},i=(0,t(340498).wt)("keyFill",o,"fill")},829148:(e,n,t)=>{t.d(n,{Y:()=>K});var o=t(296540),i=()=>t(564884),a=()=>t(484714),s=()=>t(852507),r=()=>t(401497),l=()=>t(249046),c=()=>t(996332),d=()=>t(577914),u=()=>t(807449),p=()=>t(160432),m=()=>t(493552),g=()=>t(302501),h=()=>t(218275),f=()=>t(808936),y=()=>t(706021),b=()=>t(69708),v=()=>t(100622),x=()=>t(284371),A=()=>t(987267),M=()=>t(13898),S=()=>t(232930),_=()=>t(51367),j=(t(581454),()=>t(699143)),w=()=>t(265060),k=()=>t(756374),N=()=>t(941115),T=()=>t(474998),C=()=>t(683589),I=()=>t(627437),B=()=>t(856988),W=()=>t(658861),D=()=>t(188079),L=()=>t(685230),F=()=>t(971851),P=()=>t(328716),U=()=>t(703888),Q=()=>t(146535),z=()=>t(737497),G=t(474848);const E=(0,b().YK)({missedUpdates:{defaultMessage:"What did I miss last week?",id:"NotionAI.skillPill.missedUpdates"},projectsBehind:{defaultMessage:"Are any projects behind?",id:"NotionAI.skillPill.projectsBehind"},findPitchDecks:{defaultMessage:"Find our latest pitch decks",id:"NotionAI.skillPill.findPitchDecks"},findEventsNextWeek:{defaultMessage:"What is on my calendar for next week?",id:"NotionAI.skillPill.findCalendarEvents"},findEventSemantic:{defaultMessage:"When are we meeting to discuss project Polar Bear?",id:"NotionAI.skillPill.findEventSemantic"},summarizeMonthEvents:{defaultMessage:"What is my weekly schedule like in June?",id:"NotionAI.skillPill.summarizeMonthEvents"},summarizeThread:{defaultMessage:"Summarize this thread",id:"NotionAI.skillPill.summarizeThread"},findActionItems:{defaultMessage:"Find action items in this thread",id:"NotionAI.skillPill.findActionItems"},findDecisionPolarBear:{defaultMessage:"What was the final decision about Polar Bear?",id:"NotionAI.skillPill.findDecisionPolarBear"},findProjectDoc:{defaultMessage:"What is the latest doc about project Polar Bear?",id:"NotionAI.skillPill.findProjectDoc"},findUserTasks:{defaultMessage:"What is @Vincent working on?",id:"NotionAI.skillPill.jira.findUserTasks"},sprintTasks:{defaultMessage:"What are my tasks this sprint?",id:"NotionAI.skillPill.jira.sprintTasks"},resolutionTime:{defaultMessage:"What is our resolution time for UX bugs last month?",id:"NotionAI.skillPill.jira.resolutionTime"},findEngDoc:{defaultMessage:"When is the office move date?",id:"NotionAI.skillPill.drive.findEngDoc"},checkMergeStatus:{defaultMessage:"Find Issues about the app menu",id:"NotionAI.skillPill.github.checkMergeStatus"},prStatus:{defaultMessage:"Is my latest PR merged?",id:"NotionAI.skillPill.github.prStatus"},findFlag:{defaultMessage:"Find the flag that enables the Polar Bear experiment",id:"NotionAI.skillPill.github.findFlag"},findObjectRecord:{defaultMessage:"Find the latest Salesforce object record",id:"NotionAI.skillPill.salesforce.findObjectRecord"}}),Y={generic:[{label:E.missedUpdates,icon:U().j},{label:E.projectsBehind,icon:B().N},{label:E.findPitchDecks,icon:I().s}],slack:[{label:E.summarizeThread,icon:U().j},{label:E.findActionItems,icon:U().j},{label:E.findDecisionPolarBear,icon:U().j}],jira:[{label:E.findUserTasks,icon:B().N},{label:E.sprintTasks,icon:B().N},{label:E.resolutionTime,icon:B().N}],"google-drive":[{label:E.findPitchDecks,icon:I().s},{label:E.findProjectDoc,icon:I().s},{label:E.findEngDoc,icon:I().s}],github:[{label:E.checkMergeStatus,icon:N().A},{label:E.prStatus,icon:N().A},{label:E.findFlag,icon:N().A}],"microsoft-teams":[{label:E.summarizeThread,icon:L().F},{label:E.findActionItems,icon:L().F},{label:E.findDecisionPolarBear,icon:L().F}],gmail:[{label:E.summarizeThread,icon:T().l},{label:E.findActionItems,icon:T().l},{label:E.findDecisionPolarBear,icon:T().l}],"google-calendar":[{label:E.findEventsNextWeek,icon:C().c},{label:E.findEventSemantic,icon:C().c},{label:E.summarizeMonthEvents,icon:C().c}],"notion-calendar":[{label:E.findEventsNextWeek,icon:F().Q},{label:E.findEventSemantic,icon:F().Q},{label:E.summarizeMonthEvents,icon:F().Q}],"notion-mail":[{label:E.summarizeThread,icon:T().l},{label:E.findActionItems,icon:T().l},{label:E.findDecisionPolarBear,icon:T().l}],outlook:[{label:E.summarizeThread,icon:P().n},{label:E.findActionItems,icon:P().n},{label:E.findDecisionPolarBear,icon:P().n}],sharepoint:[{label:E.findPitchDecks,icon:D().s},{label:E.findProjectDoc,icon:D().s},{label:E.findDecisionPolarBear,icon:D().s}],linear:[{label:E.projectsBehind,icon:W().u},{label:E.findUserTasks,icon:W().u},{label:E.checkMergeStatus,icon:W().u}],salesforce:[{label:E.findObjectRecord,icon:t(251839).M}],discord:[{label:E.summarizeThread,icon:t(661596).h}],box:[{label:E.findEngDoc,icon:t(256385).g}],asana:[{label:E.findUserTasks,icon:k().X},{label:E.projectsBehind,icon:k().X},{label:E.checkMergeStatus,icon:k().X}],custom:[]};function R(){return(0,r().IS)((()=>({faceWrapper:{alignContent:"center",paddingInlineStart:2},faceImg:{pointerEvents:"none",width:72,height:72,boxShadow:v().Tj.shadowSM,borderRadius:100,flexGrow:0},skillListWrapper:{display:"flex",flexDirection:"column",gap:8,marginInlineStart:24,overflowY:"hidden"},pillWrapper:{display:"flex",alignItems:"start",paddingTop:8,paddingInlineEnd:16,paddingBottom:8,paddingInlineStart:12,borderRadius:18,backgroundColor:v().Tj.background.tertiaryTranslucent,color:v().Tj.text.primary,fontSize:14,flexWrap:"nowrap",fontWeight:x().Wy.medium,gap:8,width:"fit-content"}})),[])}function O(e){const{label:n,icon:t}=e,o=R(),{pillWrapperExtraStyle:i}=(0,r().IS)((()=>({pillWrapperExtraStyle:{backgroundColor:v().Tj.whiteButtonBackground}})),[]);return(0,G.jsxs)("div",{style:{...o.pillWrapper,...i},children:[(0,G.jsx)(w().Q,{iconGroup:t,variantName:"default"}),(0,G.jsx)(b().sA,{...n})]})}function q({connector:e="generic"}){const n=R(),t="dark"===(0,r().eP)()?Q():z(),o=Y[e];return(0,G.jsx)("div",{style:{padding:"40px 24px"},children:(0,G.jsxs)(j().Y1,{direction:"horizontal",height:"fill",align:"center",children:[(0,G.jsx)("div",{style:n.faceWrapper,children:(0,G.jsx)("img",{style:n.faceImg,src:t,alt:"Notion AI logo"})}),(0,G.jsx)("div",{style:n.skillListWrapper,children:o.map(((e,n)=>(0,G.jsx)(O,{label:e.label,icon:e.icon},e.label.id+n)))})]})})}var H=()=>t(577733);function K(e){const{connector:n,onDismiss:t,calloutKey:r,eventName:c,messages:u,aiConnectorsFeatureAvailability:h,showNarrowCta:v,learnMoreHref:x=(0,S().x)("guides.aiConnectors"),isSalesAssisted:j=!1}=e,w=(0,a().v3)();(0,s().w)((()=>{(0,i().u)({environment:w,event:{eventName:c,eventProperties:{type:(0,y().e2)(h)?"discovery":"upsell"}}})}));const k=(0,o.useCallback)((()=>{r&&_().Y5(w,{callout_key:r,click_type:"primary_cta",variant:(0,y().e2)(h)?"has_addon":"no_addon",placement_key:"Modal"}),t({source:"cta",upsell:h.upsell})}),[t,w,h,r]),N=(0,o.useCallback)((()=>{r&&_().Sq(w,{callout_key:r,dismiss_type:"modal_dismiss_clicked",variant:(0,y().e2)(h)?"has_addon":"no_addon",placement_key:"Modal"}),t({source:"closeButton",upsell:void 0})}),[t,w,h,r]),T=$({showNarrowCta:v});return(0,G.jsxs)("div",{style:T.modalContainer,children:[(0,G.jsx)(d().R,{onDismiss:N}),(0,G.jsx)("div",{style:T.topContainer,children:(0,G.jsx)(q,{connector:n})}),(0,G.jsxs)("div",{style:T.mainContent,children:["generic"===n||(0,A().Bm)(n)?void 0:(0,G.jsx)(M().A,{style:T.betaBadge}),(0,G.jsx)("div",{style:T.title,children:(0,G.jsx)(b().sA,{...u.title})}),(0,G.jsx)(g().A,{isSecondaryColor:!0,isMultiline:!0,children:(0,G.jsx)(b().sA,{...u.subtitleForAnnouncement,values:{gpt4:(0,G.jsx)("span",{style:T.gpt4,children:"GPT-4"})}})})]}),(0,G.jsx)("div",{style:T.footer,children:v?(0,G.jsxs)(G.Fragment,{children:[x?(0,G.jsx)(V,{hasAiConnectorFeature:(0,y().e2)(h),calloutKey:r,href:x,showNarrowCta:v}):void 0,(0,G.jsx)(p().A,{size:"xl",onClick:k,style:T.ctaContainedButton,children:(0,G.jsx)(b().sA,{...(0,y().e2)(h)?u.ctaButtonLabelWithAddon:u.ctaButtonLabelWithoutAddon})})]}):(0,G.jsxs)(l().wt,{gap:8,children:[(0,G.jsx)(p().A,{size:"xl",onClick:k,style:T.ctaFullWidthButton,iconLeading:f().paperPlaneIcon,children:(0,G.jsx)(b().sA,{...u.notifyWorkspaceOwner??H().gp.notifyWorkspaceOwner})}),j?void 0:(0,G.jsx)(m().D,{styleKey:"captionRegular",colorVariant:"tertiary",style:{textAlign:"center"},children:(0,G.jsx)(b().sA,{...H().gp.notifyWorkspaceSubtitle})})]})})]})}function V(e){const{hasAiConnectorFeature:n,calloutKey:t,href:i,showNarrowCta:s}=e,r=(0,a().v3)(),l=$({showNarrowCta:s}),d=(0,o.useCallback)((()=>{t&&_().Y5(r,{callout_key:t,click_type:"learn_more",variant:n?"has_addon":"no_addon",placement_key:"Modal"})}),[r,n,t]);return(0,G.jsxs)("div",{style:l.learnMoreCopy,children:[(0,G.jsx)(b().sA,{...H().gp.betaDisclaimer})," ",(0,G.jsxs)(c().Q,{onClick:d,style:l.learnMoreLink,href:i,external:!0,inline:!0,children:[(0,G.jsx)(b().sA,{...H().gp.learnMoreLink}),(0,G.jsx)(u().I,{icon:h().arrowUpRightSquareSmallIcon,size:"sm"})]})]})}function $(e){const{showNarrowCta:n}=e;return(0,r().IS)((()=>({title:{fontWeight:x().Wy.bold,lineHeight:"32px",fontSize:"26px",display:"flex"},betaBadge:{marginInlineStart:0},modalContainer:{width:420},topContainer:{display:"grid",placeItems:"center",backgroundColor:v().Tj.palette.gray[75]},mainContent:{display:"grid",padding:"24px",gap:6,justifyItems:"flex-start"},footer:{borderTop:`1px solid ${v().Tj.border.secondary}`,padding:"18px 24px",display:"flex",justifyContent:n?"space-between":"center",gap:20},learnMoreCopy:{color:v().Tj.text.tertiary,fontSize:12,maxWidth:225},learnMoreLink:{display:"inline-grid",gridAutoFlow:"column",placeItems:"center",paddingInlineStart:2,marginInlineStart:-2,borderRadius:2},ctaContainedButton:{whiteSpace:"nowrap",width:"fit-content"},ctaFullWidthButton:{whiteSpace:"nowrap",width:"100%"},ctaIcon:{width:24,marginInlineEnd:8},gpt4:{whiteSpace:"nowrap"}})),[n])}},890494:(e,n,t)=>{t.d(n,{A:()=>r});t(296540);var o=()=>t(401497),i=()=>t(100622),a=()=>t(284371),s=t(474848);function r(e){const n=(0,o().eP)(),t=(0,o().IS)((()=>({numberCircleBaseStyle:{display:"flex",flexShrink:0,borderRadius:"100%",backgroundColor:e.isHighlighted?i().Tj.palette.uiBlue[600]:e.isLightBlueHighlighted?i().Tj.blue.background.primaryTranslucent:"dark"===n?i().Tj.palette.gray[300]:i().Tj.palette.gray[75],width:20,height:20,color:e.isHighlighted?"white":e.isLightBlueHighlighted?i().Tj.blue.text.accentPrimary:i().Tj.palette.gray[600],textAlign:"center",alignItems:"center",justifyContent:"center",fontWeight:a().Wy.semibold,fontSize:"10px"}})),[e.isHighlighted,e.isLightBlueHighlighted,n]);return(0,s.jsx)("div",{style:{...t.numberCircleBaseStyle,...e.style},children:e.number})}},971732:(e,n,t)=>{t.d(n,{$:()=>A});t(898992),t(354520);var o=t(296540),i=()=>t(564884),a=()=>t(907258),s=()=>t(484714),r=()=>t(590526),l=()=>t(401497),c=()=>t(107975),d=()=>t(249046),u=()=>t(160432),p=()=>t(584262),m=()=>t(69708),g=()=>t(100622),h=()=>t(284371),f=()=>t(254600),y=()=>t(987267),b=()=>t(634877),v=()=>t(424416),x=t(474848);function A(e){const{connector:n,connectedSpaceId:t,screenName:A,nextScreens:M}=e,S=(0,m().tz)(),_=(0,r().O$)(b().NT[n]),{currentScreen:j,sessionId:w,analyticsFrom:k}=_,N=j===A,T=y().w0[n],C=(0,s().v3)(),I=(0,l().IS)((()=>({wrapper:{width:400},footer:{justifyContent:"center",alignItems:"center",width:"100%",height:60,boxShadow:g().Tj.shadowMD,paddingTop:20,paddingInlineEnd:20,paddingBottom:20,paddingInlineStart:20,gap:6},connectButton:{fontSize:14,fontWeight:h().Wy.semibold,width:"100%"}})),[]),B=(0,o.useCallback)((async()=>{const e=a().default.state.currentUserRootStore;if(!e)return;(0,i().u)({environment:C,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:"visit_other_workspace",integration_type:n,setup_session_id:w,from:k}}});const o=e.getSpaceViewStores().filter((e=>e.getSpaceId()===t))[0];await(0,f().t)({environment:C,navigationType:"switchingToOrLoadingSpace",pageVisitSource:p().y8.AIGoogleDriveQna,spaceViewStore:o,userRootStore:a().default.state.currentUserRootStore,userSettingsStore:a().default.state.currentUserSettingsStore}),b().NT[n].setState({..._,currentScreen:M.settings,analyticsFrom:"google_other_workspace",sessionId:w})}),[k,t,C,w,n,_,M]);return(0,x.jsx)(c().a,{ariaLabel:S.formatMessage({defaultMessage:"Ai Connector Connection Conflict Modal",id:"aiConnectorOnboarding.connectionConflictModal.ariaLabel"}),showCloseIcon:!0,onDismiss:()=>b().NT[n].setState({..._,currentScreen:"none"}),open:N,render:()=>(0,x.jsxs)("div",{style:I.wrapper,children:[(0,x.jsx)(v().b,{connectorType:n,title:(0,x.jsx)(m().sA,{id:"universalSearch.connectionExistModal.title",defaultMessage:"You’ve already connected {connectorName} to another Notion workspace.",values:{connectorName:T}}),subtext:(0,x.jsx)(m().sA,{id:"universalSearch.connectionExistModal.description",defaultMessage:"Currently, only one workspace can be connected to {connectorName}. To connect this workspace, please disconnect the existing connection.",values:{connectorName:T}})}),(0,x.jsx)(d().wt,{style:I.footer,children:(0,x.jsx)(u().A,{colorPalette:"blue",style:I.connectButton,onClick:B,children:(0,x.jsx)(m().sA,{id:"universalSearch.connectionExistModal.navigateButton",defaultMessage:"Visit the other workspace"})})})]})})}},976725:(e,n,t)=>{t.d(n,{m:()=>y});var o=t(296540),i=()=>t(484714),a=()=>t(401497),s=()=>t(107975),r=()=>t(249046),l=()=>t(160432),c=()=>t(69708),d=()=>t(987267),u=()=>t(977270),p=()=>t(46986),m=()=>t(424416),g=t(474848);const h={github:{analyticsFrom:"github_ai_connector_already_connected",primedTextInput:"Find a GitHub PR/Issue/Code file about: ",contentType:"repositories"},slack:{analyticsFrom:"slack_already_connected",primedTextInput:"Search for messages in Slack: ",contentType:"conversations"},"microsoft-teams":{analyticsFrom:"microsoft_teams_ai_connector_already_connected",primedTextInput:"Search for messages in Microsoft Teams",contentType:"messages"},"google-drive":{analyticsFrom:"google_drive_already_connected",primedTextInput:"Find a Google Drive file about: ",contentType:"content"},jira:{analyticsFrom:"jira_already_connected",primedTextInput:"Find a Jira issue about: ",contentType:"issues"},gmail:{analyticsFrom:"gmail_already_connected",primedTextInput:"Find a Gmail email about: ",contentType:"email"},"google-calendar":{analyticsFrom:"google-calendar_already_connected",primedTextInput:"Find a Google Calendar event about: ",contentType:"events"},"notion-calendar":{analyticsFrom:"notion-calendar_already_connected",primedTextInput:"Find a Notion Calendar event about: ",contentType:"events"},salesforce:{analyticsFrom:"salesforce_already_connected",primedTextInput:"Find a Salesforce object about: ",contentType:"objects"},discord:{analyticsFrom:"discord_already_connected",primedTextInput:"Search for messages in Discord: ",contentType:"messages"},"notion-mail":{analyticsFrom:"notion-mail_already_connected",primedTextInput:"Find a Notion Mail email about: ",contentType:"emails"},sharepoint:{analyticsFrom:"sharepoint_already_connected",primedTextInput:"Search for documents in SharePoint",contentType:"content"},linear:{analyticsFrom:"linear_already_connected",primedTextInput:"Search for issues in Linear",contentType:"issues"},outlook:{analyticsFrom:"outlook_already_connected",primedTextInput:"Search for emails in Outlook",contentType:"emails"},asana:{analyticsFrom:"asana_already_connected",primedTextInput:"Search for tasks in Asana",contentType:"tasks"},box:{analyticsFrom:"box_already_connected",primedTextInput:"Search for documents in Box",contentType:"content"}},f=(0,c().YK)({alreadyConnected:{id:"universalQna.connector.alreadyConnected.title",defaultMessage:"{connector} is already connected to Notion AI"},tryIt:{id:"universalQna.connector.alreadyConnected.subtitle",defaultMessage:"You’re fully set up. Try asking AI about your {connector} {contentType}!"},tryAskingAQuestion:{id:"universalQna.connector.alreadyConnected.tryAskingAQuestionButton",defaultMessage:"Try asking a question"}});function y({open:e,onDismiss:n,connector:t}){const y=(0,i().v3)(),b=(0,c().tz)(),v=h[t],x=(0,a().IS)((()=>({container:{padding:16,maxWidth:400},tryItButton:{marginTop:16}})),[]),A=(0,p().i7)(),M=(0,o.useCallback)((()=>{n(),A&&v&&u().agentActions.openNewAgentSidebarFromMainBlock({environment:y,primeTextInput:v.primedTextInput})}),[y,n,v,A]),S=b.formatMessage(f.alreadyConnected,{connector:d().w0[t]});return(0,g.jsx)(s().a,{showCloseIcon:!0,onDismiss:n,open:e,ariaLabel:S,render:()=>(0,g.jsxs)(r().wt,{style:x.container,children:[(0,g.jsx)(m().b,{titleSubtitleGap:!0,fullWidthTitle:!0,subtext:v?(0,g.jsx)(c().sA,{...f.tryIt,values:{connector:d().w0[t],contentType:v.contentType}}):void 0,connectorType:t,title:(0,g.jsx)(c().sA,{...f.alreadyConnected,values:{connector:d().w0[t]}})}),(0,g.jsx)(l().A,{colorPalette:"blue",size:"lg",style:x.tryItButton,onClick:M,children:(0,g.jsx)(c().sA,{...f.tryAskingAQuestion})})]})})}},990544:(e,n,t)=>{t.d(n,{R:()=>v});var o=t(296540),i=()=>t(564884),a=()=>t(300474),s=()=>t(484714),r=()=>t(590526),l=()=>t(401497),c=()=>t(249046),d=()=>t(807449),u=()=>t(765974),p=()=>t(69708),m=()=>t(100622),g=()=>t(284371),h=()=>t(987267),f=()=>t(634877),y=()=>t(354807),b=t(474848);function v(e){const{connector:n,learnMoreUrl:t,troubleShootingUrl:v,staticConnectorAuthUrl:x,setConnectionStateAsConnected:A,callConnectionApi:M,screenName:S,connectorSpecificSetupNote:_,nextScreens:j,setConnectionConflictSpaceId:w}=e,[k,N]=o.useState(!1),T=(0,l().IS)((()=>({noteHeading:{fontWeight:g().Wy.medium,fontSize:14,lineHeight:"18px"},noteBody:{fontWeight:g().Wy.regular,color:m().Tj.text.secondary,fontSize:14,lineHeight:"18px",letterSpacing:"0.2px"},link:{color:m().Tj.text.secondary,textDecoration:"underline",cursor:"pointer"},warningText:{fontSize:14,lineHeight:"18px",color:"#D7813A",paddingInlineStart:14},warningContainer:{marginInlineStart:5,marginInlineEnd:5,marginBottom:15}})),[]),C=(0,s().v3)(),I=(0,a().r)(),B=(0,f().nB)({connector:n,authorizationType:"workspace",existingAuthorizationUrl:x}),W=(0,h().G6)(n),D=(0,r().O$)(f().NT[n]),{sessionId:L,currentScreen:F,analyticsFrom:P}=D,U=(0,o.useCallback)((async()=>{if(!I)return;var e;await(e=5e3,new Promise((n=>setTimeout(n,e))));const t=await M();(0,f().getAiConnectorRefreshFunction)(n)({environment:C,spaceId:I});const o=e=>{(0,i().u)({environment:C,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:e,integration_type:n,setup_session_id:L,from:P}}})};var a,s,r,l;"success"===t.type?null!==(a=t.data)&&void 0!==a&&a.connectionSuccess?(o("auth_screen_connected"),f().NT[n].setState({...D,currentScreen:j.connectionSuccess}),A()):((e,t,i)=>{switch(e){case 401:o("auth_screen_not_connected_warning"),N(!0);break;case 403:o("info_screen_connect_not_admin_screen"),f().NT[n].setState({...D,currentScreen:j.notAdminOfConnectorAccount});break;case 400:"GOOGLE_MAPPING_EXIST"===t&&i?(o("workspace_already_connected"),f().NT[n].setState({...D,currentScreen:j.connectionConflict}),null==w||w(i)):f().NT[n].setState({...D,currentScreen:j.error});break;default:f().NT[n].setState({...D,currentScreen:j.error})}})(null==t||null===(s=t.data)||void 0===s||null===(s=s.errorResponse)||void 0===s?void 0:s.status,null==t||null===(r=t.data)||void 0===r||null===(r=r.errorResponse)||void 0===r?void 0:r.errorCode,null==t||null===(l=t.data)||void 0===l||null===(l=l.errorResponse)||void 0===l||null===(l=l.data)||void 0===l?void 0:l.spaceId):f().NT[n].setState({...D,currentScreen:j.error})}),[P,C,L,I,n,D,A,M,j,w]),Q=(0,o.useCallback)((()=>[(0,b.jsxs)(c().wt,{style:{gap:4},children:[(0,b.jsx)("div",{style:T.noteHeading,children:(0,b.jsx)(p().sA,{id:"universalSearch.authModal.waitingForConnectionNoteHeading1",defaultMessage:"{connectorName} should open automatically on a new browser tab.",values:{connectorName:W}},"note1-1")}),(0,b.jsx)("div",{style:T.noteBody,children:(0,b.jsx)(p().sA,{id:"universalSearch.authModal.authWaiting",defaultMessage:"If it doesn’t, {ClickHereToRetry}",values:{ClickHereToRetry:(0,b.jsx)("a",{style:T.link,href:B,target:"_blank",onClick:()=>{(0,i().u)({environment:C,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:"auth_screen_open_auth_url",integration_type:n,setup_session_id:L,from:P}}})},children:(0,b.jsx)(p().sA,{id:"universalSearch.googleDrive.confirmModalNote1Retry",defaultMessage:"click here to retry"})})}},"note1-2")})]},"note-1"),(0,b.jsxs)(c().wt,{style:{gap:4},children:[(0,b.jsx)("div",{style:T.noteHeading,children:(0,b.jsx)(p().sA,{id:"universalSearch.authModal.workspaceAdminHeading",defaultMessage:"Follow {connectorName}’s setup instructions",values:{connectorName:W}},"note2-1")}),(0,b.jsx)("div",{style:T.noteBody,children:_?(0,b.jsx)(p().sA,{..._}):(0,b.jsx)(p().sA,{id:"universalSearch.authModal.workspaceAdminBody",defaultMessage:"For better AI answers, we recommend selecting the option “All users in my organization”."},"note2-2")})]},"note-2"),(0,b.jsx)(c().wt,{style:{gap:4},children:(0,b.jsx)("div",{style:T.noteHeading,children:(0,b.jsx)(p().sA,{id:"universalSearch.authModal.done",defaultMessage:"When you’re done, click the button below"},"note3-1")})},"note-3")]),[T,B,C,L,P,n,W,_]),z=k?(0,b.jsxs)(c().Ye,{style:T.warningContainer,children:[(0,b.jsx)(d().I,{icon:u().exclamationMarkTriangleFillIcon,colorPalette:"orange",colorVariant:"accentPrimary"}),(0,b.jsx)("div",{style:T.warningText,children:(0,b.jsx)(p().sA,{id:"universalQnA.authScreen.warning",defaultMessage:"We couldn’t connect to {connectorName}. Please review the instructions and try again, or check our {TroubleshootingGuide}",values:{connectorName:W,TroubleshootingGuide:(0,b.jsx)("a",{style:{...T.link,color:"#D7813A"},href:v,target:"_blank",onClick:()=>{(0,i().u)({environment:C,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:"troubleshooting_guide_opened",integration_type:n,setup_session_id:L,from:P}}})},children:(0,b.jsx)(p().sA,{id:"universalSearch.authModal.troubleShootingLink",defaultMessage:"troubleshooting guide."})})}})})]}):void 0;return(0,b.jsx)(y().Q,{title:(0,b.jsx)(p().sA,{id:"universalQnA.AuthScreen",defaultMessage:"Follow instructions from {connectorName} in your browser",values:{connectorName:W}}),open:F===S,onDismiss:()=>{N(!1),(0,i().u)({environment:C,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:"auth_screen_dismiss",integration_type:n,setup_session_id:L,from:P}}}),f().NT[n].setState({...D,currentScreen:"none"})},warningMessage:z,notes:Q(),openLearnMoreUrl:()=>{window.open(t)},connectorType:n,primaryButtonText:(0,b.jsx)(p().sA,{id:"universalSearch.connector.Button.finishedSetup",defaultMessage:"Confirm connection"},"note3-1"),onClickPrimaryButton:U})}}}]);