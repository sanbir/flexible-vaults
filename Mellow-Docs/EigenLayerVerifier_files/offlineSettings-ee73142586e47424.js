"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[3551,22197],{8178:(e,t,n)=>{n.d(t,{A:()=>l});n(296540);var i=()=>n(100622),o=n(474848);const l=function(e){const{divider:t,large:l,block:a,children:r,hasMarginTop:s,small:d,style:c,smallMarginBottom:u,isCritical:g,fontSize:p,fontWeight:f}=e,h="full"===t;return(0,n(546926).Tf)()?(0,o.jsx)(n(493552).D,{styleKey:"titleSmSemibold",colorPalette:e.isCritical?"red":void 0,colorVariant:e.isCritical?"accentPrimary":"primary",style:{marginTop:s?16:0,paddingBottom:h?12:0},children:r}):(0,o.jsx)("div",{style:{borderBottom:h?`1px solid ${i().Tj.border.secondaryTranslucent}`:0,marginBottom:h?16:u?2:8,marginTop:s?16:0,paddingBottom:h?12:0,fontSize:p??h?16:l?14:d?12:14,fontWeight:f??h?n(284371).Wy.medium:400,width:a?"100%":"auto",color:g?i().oZ.red:i().Tj.text.primary,...c},children:r})}},20508:(e,t,n)=>{n.d(t,{v:()=>o});n(296540);const i={viewBox:"0 0 16 16",fittedViewBox:"4.65 2.91 5.84 10.18",directional:!0,svg:(0,n(474848).jsx)("path",{d:"M4.87 7.47a.75.75 0 0 0 0 1.06l4.32 4.32a.75.75 0 1 0 1.06-1.06L6.46 8l3.79-3.79a.75.75 0 1 0-1.06-1.06z"})},o=(0,n(340498).wt)("arrowChevronSingleLeftFillSmall",i,"fillSmall")},56394:(e,t,n)=>{n.d(t,{A:()=>u});n(296540);var i=()=>n(726637),o=()=>n(401497),l=()=>n(718827),a=()=>n(996755),r=()=>n(807449),s=()=>n(324254),d=()=>n(100622),c=n(474848);function u(e){const{icon:t,title:n,on:u,disabled:g,hasDiff:p,wrapStyle:f,innerStyle:h,hideChevron:y}=e,x=(0,o().eP)(),m=(0,o().IS)((()=>{const e=u||g?(0,a().q)({variant:"tint",themeMode:x,colorPalette:"blue",colorVariant:"accentPrimary"}):(0,a().q)({variant:"plain",themeMode:x,colorVariant:"secondary"});return{container:{borderRadius:14,marginInlineEnd:6,display:"inline-flex",...p&&{position:"relative"},...f},filterPill:{fontSize:14,display:"inline-flex",alignItems:"center",justifyContent:"center",gap:6,whiteSpace:"nowrap",borderRadius:32,height:i().A.isMobile?28:24,lineHeight:i().A.isMobile?"28px":"24px",padding:"0 8px",...e.resting,...h},hovered:{...e.hovered},pressed:{...e.pressed},diffDot:{position:"absolute",top:-2,insetInlineEnd:-2,background:d().Tj.orange.icon.accentPrimary,border:`1px solid ${d().Tj.background.primary}`,width:9,height:9,borderRadius:9}}}),[p,f,u,g,h,x]);return(0,c.jsxs)("div",{style:m.container,children:[(0,c.jsxs)(l().Ay,{disabled:g,disabledFeedback:!0,style:m.filterPill,hoveredStyle:m.hovered,pressedStyle:m.pressed,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onClick:e.onClick,onDoubleClick:e.onDoubleClick,children:[t,n,y?void 0:(0,c.jsx)(r().I,{icon:s().arrowChevronSingleDownSmallIcon,size:"xs",fitToViewBox:"horizontal"})]}),p?(0,c.jsx)("div",{style:m.diffDot}):void 0]})}},132855:(e,t,n)=>{n.r(t),n.d(t,{arrowInCircleUpFillIcon:()=>o,iconDefinition:()=>i});n(296540);const i={viewBox:"0 0 20 20",fittedViewBox:"2.37 2.37 15.25 15.26",svg:(0,n(474848).jsx)("path",{d:"M10 17.625a7.625 7.625 0 1 0 0-15.25 7.625 7.625 0 0 0 0 15.25m3.042-8.07a.625.625 0 0 1-.884 0L10.625 8.02v5.466a.625.625 0 1 1-1.25 0V8.021L7.842 9.554a.625.625 0 1 1-.884-.883l2.6-2.6a.625.625 0 0 1 .884 0l2.6 2.6a.625.625 0 0 1 0 .883"})},o=(0,n(340498).wt)("arrowInCircleUpFill",i,"fill")},141966:(e,t,n)=>{n.d(t,{Hu:()=>r,JW:()=>d,l5:()=>s});var i=()=>n(907258),o=()=>n(242422),l=()=>n(842599),a=()=>n(268716);function r(e,t){return t?48:e?32:18}function s(){var e;if(o().default.checkGate({gateName:"ks_dev_settings"}))return!1;const t=null===(e=i().default.state.currentUserStore)||void 0===e?void 0:e.getEmail();return"makenotion.com"===(0,l().zN)(t??"")}function d(e,t){var n;const i=o().default.checkGate({gateName:"android_show_language_settings"}),l=null===(n=(0,a().getMobileNativeDeviceInfo)())||void 0===n?void 0:n.mobileNativeAndroidApiLevel;return i&&e&&t&&("number"==typeof l&&l>=33)}},158115:(e,t,n)=>{n.r(t),n.d(t,{arrowChevronSingleRightFillSmallIcon:()=>o,iconDefinition:()=>i});n(296540);const i={viewBox:"0 0 16 16",fittedViewBox:"5.54 2.94 5.81 10.11",directional:!0,svg:(0,n(474848).jsx)("path",{d:"M11.13 8.53a.75.75 0 0 0 0-1.06L6.81 3.15a.75.75 0 0 0-1.06 1.06L9.54 8l-3.79 3.79a.75.75 0 0 0 1.06 1.06z"})},o=(0,n(340498).wt)("arrowChevronSingleRightFillSmall",i,"fillSmall")},283163:(e,t,n)=>{n.d(t,{h:()=>a});n(296540);var i=()=>n(473541),o=()=>n(807449),l=n(474848);function a(){return(0,l.jsx)(o().I,{icon:i().w,size:"lg",colorVariant:"primary"})}},344417:(e,t,n)=>{n.r(t),n.d(t,{iconDefinition:()=>i,magnifyingGlassSmallIcon:()=>o});n(296540);const i={viewBox:"0 0 16 16",fittedViewBox:"1.97 1.97 12.46 12.46",svg:(0,n(474848).jsx)("path",{d:"M7.1 1.975a5.125 5.125 0 1 0 3.155 9.164l3.107 3.107a.625.625 0 1 0 .884-.884l-3.107-3.107A5.125 5.125 0 0 0 7.1 1.975M3.225 7.1a3.875 3.875 0 1 1 7.75 0 3.875 3.875 0 0 1-7.75 0"})},o=(0,n(340498).wt)("magnifyingGlassSmall",i,"small")},375555:(e,t,n)=>{function i(e,t){const{device:n}=e;n.isAndroid&&t.focus(),t.select()}n.d(t,{G:()=>i})},403733:(e,t,n)=>{n.r(t),n.d(t,{arrowStraightDownSmallIcon:()=>o,iconDefinition:()=>i});n(296540);const i={viewBox:"0 0 16 16",fittedViewBox:"3.05 2.12 9.9 11.76",svg:(0,n(474848).jsx)("path",{d:"M8 2.125a.61.61 0 0 0-.625.599v9.017L4.122 8.488a.625.625 0 1 0-.884.884l4.32 4.32c.244.244.64.244.884 0l4.32-4.32a.625.625 0 0 0-.884-.884l-3.253 3.253V2.724A.61.61 0 0 0 8 2.125"})},o=(0,n(340498).wt)("arrowStraightDownSmall",i,"small")},419357:(e,t,n)=>{n.d(t,{Ay:()=>S,KF:()=>b,LG:()=>y,Zf:()=>m,yD:()=>x});var i=n(296540),o=()=>n(484714),l=()=>n(401497),a=()=>n(718827),r=()=>n(695115),s=()=>n(31511),d=()=>n(546926),c=()=>n(424400),u=()=>n(340498),g=()=>n(100622),p=()=>n(496603),f=()=>n(284371),h=n(474848);const y=30,x=28;function m(e){const{icon:t}=e;return t({fill:g().Tj.icon.secondary,width:u().Ev.sm,height:u().Ev.sm,flexGrow:0,flexShrink:0})}function b(e){const t=(0,o().WS)(),n=(0,l().eP)(),i=(0,l().IS)((()=>({outlineButton:{...(0,a().qq)({shape:"default",size:"sm",hasIconOnly:!0,isButtonGapEnabled:!0}),fontWeight:f().Wy.medium,lineHeight:1.2,border:`1px solid ${g().Tj.border.primaryTranslucent}`,background:e.hasBackground?g().Tj.background.primary:void 0},outlineButtonHovered:{background:g().Tj.background.secondary},outlineButtonPressed:{background:(0,a().yZ)({color:g().Tj.background.primary,mode:n})}})),[e.hasBackground,n]);return(0,h.jsx)(r().A,{size:"xs",colorVariant:"primary",...e,ariaLabel:e.ariaLabel,style:{...i.outlineButton,...e.style,height:t?y:x,width:t?y:x},hoveredStyle:i.outlineButtonHovered,pressedStyle:i.outlineButtonPressed})}const S=i.forwardRef((function({preventCaptureArrowShortcuts:e,preventCaptureDeleteWhenEmpty:t,preventCaptureClipboardShortcuts:o,preventCaptureSpacebarWhenEmpty:l,...a},r){const{left:s,right:u,inputLeft:g,inputRight:f,inputRightStyle:y,disableInput:x,inputOuterStyle:m,rightMobileEditLabel:b,mobileKeyboardOnDismiss:S,style:v,value:w,onChange:C,autosize:k,autosizeMinHeight:I,autosizeMaxHeight:A,customElementAttributes:M,disabled:R,format:B,id:P,placeholder:_,type:L,autoFocus:z,focus:D,focusInitial:E,focusAfterAnimation:O,forceShowClearButton:F,ignoreKeyboardMode:H,inputElementAttributes:$,inputStyle:W,isRightLastElementOfInput:N,maxlength:V,min:K,max:U,selectAll:G,showClearButton:q,suppressFocusRing:Q,textarea:Z,textareaSubmitOnEnter:Y,onBlur:J,onCancel:X,onClearButtonClick:ee,onClick:te,onFocus:ne,onKeyDown:ie,onSubmit:oe,...le}=a,[ae,re]=(0,i.useState)((()=>Boolean(D||E)));(0,i.useEffect)((()=>{void 0!==D&&re(D)}),[D]);const se=e?void 0:p().D_,de=!t||w.length>0?p().D_:void 0,ce=o?void 0:p().D_,ue=!l||w.length>0?p().D_:void 0,ge=(0,d().Tf)(),pe=(0,i.useContext)(d().xu),fe=(0,i.useRef)(null),he={value:w,onChange:C,autosize:k,autosizeMinHeight:I,autosizeMaxHeight:A,customElementAttributes:M,disabled:R,format:B,id:P,placeholder:_,type:L,autoFocus:z,focus:D,focusInitial:E,focusAfterAnimation:O,forceShowClearButton:F,ignoreKeyboardMode:H,inputElementAttributes:$,inputStyle:W,isRightLastElementOfInput:N,maxlength:V,min:K,max:U,selectAll:G,showClearButton:q,suppressFocusRing:Q,textarea:Z,textareaSubmitOnEnter:Y,onBlur:J,onCancel:X,onClearButtonClick:ee,onClick:te,onFocus:ne,onKeyDown:ie,onSubmit:oe};return(0,h.jsx)(n(782482).N,{debugName:"InputMenuItem",capture:!0,onUntab:p().D_,onTab:p().D_,onSelectAll:p().D_,onRedo:p().D_,onUndo:p().D_,onToggleBold:p().D_,onToggleItalics:p().D_,onToggleCode:p().D_,onCut:ce,onCopy:ce,onPaste:ce,onKeypress:p().D_,onLeft:se,onRight:se,onDelete:de,onBackspace:de,onSpace:ue,children:n(726637).A.isMobile?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(c().Ay,{ref:r,...le,itemMarginLeft:ge?8:void 0,style:v,title:(0,h.jsx)(T,{ref:fe,left:s,right:u,inputLeft:g,inputRight:f,inputRightStyle:y,disableInput:x,inputOuterStyle:m,rightMobileEditLabel:b,isFocused:ae,setIsFocused:re,...he})}),(0,h.jsx)(n(797324).A,{show:ae&&pe.menuType!==d().gu.ActionSheet,onDismiss:S,inputRef:fe})]}):(0,h.jsx)(c().Ay,{ref:r,...le,left:s,right:u,isTokenTitle:!0,title:(0,h.jsx)(j,{ref:fe,disableInput:x,inputOuterStyle:m,inputRight:f,inputRightStyle:y,inputLeft:g,...he}),style:{paddingTop:4,paddingBottom:4,...v}})})}));function v({rightMobileEditLabel:e,inputRef:t}){const l=(0,o().v3)(),r=(0,i.useCallback)((e=>{e.preventDefault();const i=t.current;i&&(0,n(375555).G)(l,i)}),[l,t]);return(0,h.jsx)(a().Ay,{onClick:r,style:{color:g().Tj.text.secondary},children:e})}const j=i.forwardRef((function(e,t){const{disabled:n,disableInput:i,inputOuterStyle:o,inputRight:l,inputRightStyle:a,inputLeft:r,min:d,textarea:c,...u}=e;return(0,h.jsx)(s().A,{...u,ref:t,disabled:n||i,style:{height:c?void 0:28,padding:"3px 6px",...o},left:r,right:l,rightStyle:a,min:d,textarea:c})})),T=i.forwardRef((function(e,t){const{left:o,right:l,inputLeft:a,inputRight:r,inputRightStyle:d,disableInput:c,inputOuterStyle:u,rightMobileEditLabel:g,isFocused:p,setIsFocused:f,disabled:y,showClearButton:x,onBlur:m,onFocus:b,...S}=e,j=(0,i.useCallback)((e=>{f(!1),m&&m(e)}),[m,f]),T=(0,i.useCallback)((e=>{f(!0),b&&b(e)}),[b,f]),w=(0,i.useRef)(null),C=(0,n(93583).A)(w,t),k=g&&!p?(0,h.jsx)(v,{rightMobileEditLabel:g,inputRef:w}):null;return(0,h.jsx)(s().A,{...S,ref:C,format:"transparent",style:{fontSize:16,...u},onFocus:T,onBlur:j,showClearButton:!1!==x,disabled:y||c,left:a||o,right:k||r||l,rightStyle:d})}))},428343:(e,t,n)=>{n.d(t,{Q:()=>p});n(898992),n(354520),n(581454);var i=()=>n(755531),o=()=>n(484714),l=()=>n(590526),a=()=>n(295633),r=()=>n(179034),s=()=>n(69708),d=()=>n(534177),c=()=>n(860864),u=()=>n(968913),g=()=>n(959462);function p(e){const{searchQuery:t,filterCategory:n,availableOffline:p=!1,disable:f=!1}=e,h=(0,o().v3)(),y=(0,s().tz)(),x=(0,l().K8)((()=>{if(f)return[];const e=g().A.state.offlinePages??{};return Object.keys(e).map((o=>{var l;const s=e[o];if(void 0===s)return;const{is_explicitly_offlined_origin:g,is_autosynced_origin:f}=s;if(!g&&!f)return;if(p&&!(0,u().Bd)(o))return;if(!function(e){const{filterCategory:t,isExplicitlyOfflinedOrigin:n,isAutosyncedOrigin:i}=e;switch(t){case"all":return!0;case"manual":return n;case"autosynced":return i;default:(0,d().HB)(t)}}({filterCategory:n,isExplicitlyOfflinedOrigin:g,isAutosyncedOrigin:f}))return;const x=new(a().B)(h,{table:r().ev,id:o});if(Boolean(t)&&!function(e){const{pageBlockStore:t,searchQuery:n,intl:i}=e,{displayTitle:o}=(0,c().tL)({store:t,intl:i});if(void 0===o)return!1;return o.toLowerCase().includes(n.toLowerCase())}({pageBlockStore:x,searchQuery:t,intl:y}))return;if((null===(l=(0,i().S)())||void 0===l?void 0:l.id)!==x.getSpaceId())return;const m=x.getLastEditedTime();return{id:o,downloadStatus:s.download_status,isClickable:!1,lastModifiedTime:m,pageBlockStore:x,showOptions:g}})).filter(d().O9)}),[f,p,n,h,t,y]);return x}},471095:(e,t,n)=>{n.r(t),n.d(t,{iconDefinition:()=>i,lockFillIcon:()=>o});n(296540);const i={viewBox:"0 0 20 20",fittedViewBox:"3.97 1.95 12.05 15.66",svg:(0,n(474848).jsx)("path",{d:"M6 5.95a4 4 0 1 1 8 0v1.433a2.426 2.426 0 0 1 2.025 2.392v5.4A2.425 2.425 0 0 1 13.6 17.6H6.4a2.425 2.425 0 0 1-2.425-2.425v-5.4c0-1.203.876-2.201 2.025-2.392zm6.75 1.4v-1.4a2.75 2.75 0 1 0-5.5 0v1.4zm-2.2 5.458a1.35 1.35 0 1 0-1.1 0v1.242a.55.55 0 0 0 1.1 0z"})},o=(0,n(340498).wt)("lockFill",i,"fill")},473541:(e,t,n)=>{n.d(t,{w:()=>o});n(296540);const i={viewBox:"0 0 20 20",fittedViewBox:"5.87 3.72 7.16 12.56",directional:!0,svg:(0,n(474848).jsx)("path",{d:"M6.131 9.381a.875.875 0 0 0 0 1.238l5.4 5.4a.875.875 0 1 0 1.238-1.238L7.987 10l4.782-4.781A.875.875 0 0 0 11.53 3.98z"})},o=(0,n(340498).wt)("arrowChevronSingleLeftFill",i,"fill")},537296:(e,t,n)=>{n.d(t,{U:()=>c});n(581454);var i=n(296540),o=()=>n(726637),l=()=>n(388926),a=()=>n(546926),r=()=>n(681873),s=()=>n(141966),d=n(474848);function c(e){const{items:t}=e,n=(0,a().Tf)(),c=(0,s().Hu)(o().A.isMobile,n);return(0,d.jsx)(d.Fragment,{children:(0,r().G)(t.map((({key:e,renderSettingsItem:t})=>(0,d.jsx)(i.Fragment,{children:t()},e))),(e=>(0,d.jsx)(l().A,{size:c,isHidden:!o().A.isMobile},e)))})}},566468:(e,t,n)=>{n.d(t,{Ji:()=>T,bd:()=>I,f0:()=>C,mf:()=>k,s7:()=>w});n(944114),n(296540);var i=()=>n(590526),o=()=>n(401497),l=()=>n(874832),a=()=>n(127833),r=()=>n(250910),s=()=>n(118307),d=()=>n(695115),c=()=>n(546926),u=()=>n(26697),g=()=>n(302501),p=()=>n(890492),f=()=>n(81068),h=()=>n(663639),y=()=>n(736847),x=()=>n(126617),m=()=>n(69708),b=()=>n(806080),S=()=>n(534177),v=n(474848);const j=20,T=12;function w({title:e,byline:t,icon:n,iconSize:i,iconMargin:o,useThinTitle:l,useSecondaryColorTitle:a,containerStyles:r,summaryStyles:s,rightContent:d,badge:c}){const u=C({icon:n,iconSize:i,iconMargin:o,useThinTitle:l,containerStyles:r,summaryStyles:s});return(0,v.jsxs)("div",{style:u.container,children:[n?(0,v.jsx)("div",{style:u.iconContainer,children:n}):null,(0,v.jsxs)("div",{style:u.summaryContainer,children:[(0,v.jsxs)("div",{style:u.nameContainer,children:[(0,v.jsx)(g().A,{style:u.name,isSecondaryColor:a,showTooltipWhenTruncated:!0,children:e}),c?(0,v.jsx)("div",{style:u.badge,children:c}):null]}),t?(0,v.jsx)(g().A,{style:u.byline,children:t}):null]}),d]})}function C(e){const{icon:t,iconSize:n,iconMargin:i,useThinTitle:l,containerStyles:a,summaryStyles:r}=e,s=i??T,d=t?n??j:0;return(0,o().IS)((()=>({container:{position:"relative",display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",padding:"8px 0",width:"100%",...a},summaryContainer:{width:`calc(100% - ${d}px)`,...r},iconContainer:{height:d,width:d,flexGrow:0,flexShrink:0,flexBasis:d,marginInlineEnd:s,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:6},badge:{marginInlineEnd:8},nameContainer:{display:"flex",alignItems:"center",gap:6},name:{fontSize:14,fontWeight:l?400:500},byline:{fontSize:12,lineHeight:1.3,opacity:.5}})),[d,s,l,a,r])}function k({titleStyles:e,includeByline:t,bylineStyles:n,includeIcon:i,iconStyles:a,containerStyles:r}){const s=(0,o().IS)((()=>({container:{height:53,display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",padding:"8px 0",width:"100%",gap:8,...r},icon:{borderRadius:4,height:24,width:24,marginInlineStart:-2,...a},textContainer:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-start",width:"calc(100% - 32px)",gap:4},title:{borderRadius:4,height:14,width:"80%",...e},byline:{borderRadius:4,height:12,width:"60%",...n}})),[r,e,n,a]);return(0,v.jsxs)("div",{style:s.container,children:[i?(0,v.jsx)(l().P,{style:s.icon}):null,(0,v.jsxs)("div",{style:s.textContainer,children:[(0,v.jsx)(l().P,{style:s.title}),t?(0,v.jsx)(l().P,{style:s.byline}):null]})]})}function I(e){const t=(0,m().tz)(),n=(0,i().uB)(void 0,s().A),l=(0,o().IS)((()=>({popupMenu:{width:312}})),[]);let g=[];const j=[];for(const i of e.items)if("divider"===i.type){const t=j.length>0,n={key:`actions-${j.length}`,render:n=>(0,v.jsx)(y().A,{title:e.title,topBorder:t,...n}),items:g};j.push(n),g=[]}else if("action"===i.type){const e={key:i.key,render:e=>(0,v.jsx)(u().m,{textWrap:!0,render:t=>(0,v.jsx)(f().A,{...e,...t,isRedOnHover:i.isDestructive,shouldWrapCaption:!0,icon:i.icon,title:i.title,caption:i.caption,disabled:i.disabled,disabledFeedback:i.disabled}),renderTooltip:()=>i.tooltipTitle,disableTooltip:i.tooltipDisabled??!0,placement:"right"}),action:()=>{i.action(),n.setState({...n.state,open:!1})}};g.push(e)}else(0,S().HB)(i);const T={key:`actions-${j.length}`,render:t=>(0,v.jsx)(y().A,{title:e.title,topBorder:j.length>0,...t}),items:g};return j.push(T),(0,v.jsx)(r().A,{stopClickPropagation:!0,popupType:a().nl.Popup,alignmentToOrigin:"start",placementToOrigin:"bottom",style:l.popupMenu,render:()=>(0,v.jsx)(p().A,{menuType:c().gu.Popup,width:312,children:(0,v.jsx)(h().A,{type:h().O.Vertical,initialFocus:void 0,sections:j})}),onClose:b().lQ,buttonPopupStore:n,renderOrigin:e=>(0,v.jsx)(d().A,{ariaLabel:t.formatMessage({id:"iconCellActionMenu.iconButton.ariaLabel",defaultMessage:"More actions"}),icon:x().ellipsisSmallIcon,...e})})}},625383:(e,t,n)=>{n.d(t,{d:()=>s,h:()=>d});n(296540);var i=()=>n(401497),o=()=>n(26697),l=()=>n(815585),a=()=>n(566468),r=n(474848);function s({dateTs:e,useSecondaryColorTitle:t,includeTime:n,tooltip:i,omitTooltip:s}){const d=(0,r.jsx)(a().s7,{useThinTitle:!0,useSecondaryColorTitle:t,title:n?(0,l().x$)(e,!0):(0,l().DG)(e)});return s?d:(0,r.jsx)(o().m,{render:e=>(0,r.jsx)("div",{...e,children:d}),renderTooltip:()=>i??(0,l().x$)(e)})}function d(){const e=(0,i().IS)((()=>({title:{width:"50%"}})),[]);return(0,r.jsx)(a().mf,{titleStyles:e.title})}},696060:(e,t,n)=>{n.d(t,{A:()=>o});n(296540);var i=n(474848);const o=function({loading:e,onLoadMore:t,loadMoreOffsetThreshold:o,resultSize:l,fetchSize:a}){return(0,i.jsx)(n(498521).A,{onChange:n=>function(e){const{offset:t,loading:n,onLoadMore:i,loadMoreOffsetThreshold:o,resultSize:l,fetchSize:a}=e;if(n)return;const r=o||200;if(t>r)return;const s=void 0===l||void 0===a||l>=a;s&&i()}({offset:n,loading:e,onLoadMore:t,loadMoreOffsetThreshold:o,resultSize:l,fetchSize:a})})}},702723:(e,t,n)=>{n.d(t,{A:()=>E,m:()=>F});n(944114),n(898992),n(672577),n(581454);var i=n(296540),o=()=>n(726637),l=()=>n(259985),a=()=>n(484714),r=()=>n(590526),s=()=>n(401497),d=()=>n(249046),c=()=>n(250910),u=()=>n(807449),g=()=>n(546926),p=()=>n(406094),f=()=>n(631524),h=()=>n(493552),y=()=>n(287188),x=()=>n(26697),m=()=>n(103725),b=()=>n(890492),S=()=>n(81068),v=()=>n(424400),j=()=>n(663639),T=()=>n(736847),w=()=>n(324254),C=()=>n(471095),k=()=>n(84262),I=()=>n(69708),A=()=>n(100622),M=()=>n(534177),R=()=>n(891793),B=()=>n(141966),P=()=>n(376203),_=()=>n(704658),L=()=>n(574036),z=()=>n(843878),D=n(474848);function E(e){const{title:t,isCritical:n,disableTitle:d,caption:c,captionStyle:u,descriptionStyle:p,titleStyleKey:f,upsellOptions:y,type:b,shouldHighlight:S,spaceStore:v}=e,j=(0,a().v3)(),T=(0,g().Tf)(),{paddingLeftCSS:w,paddingRightCSS:C}=(0,r().K8)((()=>{const{paddingLeftCSS:e,paddingRightCSS:t}=j.WindowSizeStore.state;return{paddingLeftCSS:e,paddingRightCSS:t}}),[j]),[I,M]=(0,i.useState)(!1),R=(0,i.useCallback)((()=>M(!0)),[M]),L=(0,i.useCallback)((()=>M(!1)),[M]),E=(0,i.useContext)(l().U),F=(0,i.useRef)(null);(0,i.useEffect)((()=>{S&&F.current&&(0,m().h)({element:F.current,environment:j,scrollerContext:E,vertical:{reveal:"closest"},horizontal:void 0,animate:!0})}),[j,S,F,E]);const H="toggleToButton"===e.type?e.isOn:void 0,$="custom"===e.type?e.useFlexboxStyle:void 0,W=(0,i.useMemo)((()=>{if(o().A.isMobile){if("dropdown"===b)return{display:"flex",flexDirection:"column"};if(H||$)return{}}return{display:"flex",alignItems:"center",justifyContent:"space-between"}}),[b,H,$]),N=(0,k().wy)(null==y?void 0:y.upsell),V=(0,s().IS)((()=>{var t;return{container:{...W,paddingInlineStart:o().A.isMobile?w:void 0,paddingInlineEnd:o().A.isMobile?C:void 0,cursor:!I||e.disabled||null!==(t=e.upsellOptions)&&void 0!==t&&t.upsell?e.disabled?"not-allowed":"default":"pointer",...S?{backgroundColor:A().Tj.buttonHoveredBackground,marginInlineStart:-1*(0,z().AL)(o().A.isMobile),marginInlineEnd:-1*(0,z().AL)(o().A.isMobile),paddingInlineStart:(0,z().AL)(o().A.isMobile),paddingInlineEnd:(0,z().AL)(o().A.isMobile),marginTop:-1*(0,B().Hu)(o().A.isMobile,T)/2,marginBottom:-1*(0,B().Hu)(o().A.isMobile,T)/2,paddingTop:(0,B().Hu)(o().A.isMobile,T)/2,paddingBottom:(0,B().Hu)(o().A.isMobile,T)/2}:{}},description:{display:"flex",flexDirection:e.caption||N?"column":"row",marginInlineEnd:"5%",width:"75%",gap:N?void 0:6,...p},captionStyle:{...u},title:{display:"flex",flexDirection:"row",gap:4}}}),[W,w,e.caption,C,I,e.disabled,e.upsellOptions,S,T,p,u,N]),K="toggle"===e.type||"toggleToButton"===e.type||"custom"===e.type&&!e.disableSettingsItemClick,U=(0,P().B)(),G=(0,P().B)(),[q,Q]=n?["red","accentPrimary"]:d?[void 0,"secondary"]:[void 0,"primary"],Z=(0,D.jsxs)("div",{ref:F,style:V.container,onClick:()=>{e.disabled||"custom"===e.type&&e.disableSettingsItemClick||N||("toggle"===e.type?e.onToggle():"toggleToButton"===e.type?e.onClick():"custom"===e.type&&e.customButton&&i.isValidElement(e.customButton)&&e.customButton.props.onClick&&"function"==typeof e.customButton.props.onClick&&e.customButton.props.onClick())},onMouseEnter:K?R:void 0,onMouseLeave:K?L:void 0,children:[(0,D.jsxs)("div",{style:V.description,children:[(0,D.jsx)(h().D,{styleKey:f??(T?"captionRegular":"bodyRegular"),colorPalette:q,colorVariant:Q,children:(0,D.jsxs)("div",{id:U,style:V.title,children:[t,e.badge]})}),N?(0,D.jsx)("div",{style:{marginInlineStart:-4},children:(0,D.jsx)(_().UpgradeButton,{source:y.analyticsName,upsell:y.upsell,display:"text",width:"hug",size:"small",customMessages:y.customMessages,spaceStore:v})}):(0,D.jsx)(h().D,{id:G,styleKey:T?"captionSmRegular":"bodySmRegular",colorVariant:"secondary",style:V.captionStyle,children:c})]}),(0,D.jsx)(O,{titleId:U,captionId:G,...e})]});return e.tooltipLabel?(0,D.jsx)(x().m,{placement:"bottom",alignment:"center",disableTooltip:e.disableTooltip,renderTooltip:()=>e.tooltipLabel,render:e=>(0,D.jsx)("div",{...e,children:Z})}):Z}function O(e){var t;const{titleId:n,captionId:i}=e,o=Boolean(null===(t=e.upsellOptions)||void 0===t?void 0:t.upsell)||e.disabled;if("toggle"===e.type)return(0,D.jsx)(y().A,{"aria-labelledby":n,"aria-describedby":i,on:e.isOn,disabled:o,isLocked:e.isLocked,lockedTooltip:e.lockedTooltip});if("dropdown"===e.type)return(0,D.jsx)(F,{...e});if("custom"===e.type)return(0,D.jsx)(D.Fragment,{children:e.customButton});if("toggleToButton"===e.type)return e.isOn?(0,D.jsx)("div",{style:{marginTop:12},children:(0,D.jsx)(p().A,{size:"lg",onClick:e.onClick,style:e.buttonStyle,disabled:o,children:e.buttonLabel})}):(0,D.jsx)(y().A,{"aria-labelledby":n,"aria-describedby":i,on:!1,onClick:e.onClick,disabled:o});if("timezonePicker"===e.type){const{currentTimeZone:t,...n}=e;return(0,D.jsx)(R().G,{...n,currentValue:t,enableRecents:!1})}(0,M().HB)(e)}function F(e){var t;const{title:n,upsellOptions:i,currentOption:l,options:a,info:r,switcherButtons:p,onSelectOption:h,menuStyle:y,buttonStyle:m,buttonHoverStyle:k,isLocked:M,lockedTooltip:R,placementToOrigin:B,alignmentToOrigin:P}=e,_=null===(t=a.find((({key:e})=>e===l)))||void 0===t?void 0:t.label,z=(0,s().IS)((()=>({button:{marginInlineEnd:o().A.isMobile?"auto":void 0,paddingInlineStart:o().A.isMobile?12:8,paddingInlineEnd:o().A.isMobile?12:8,height:o().A.isMobile?44:28,border:o().A.isMobile?`1px solid ${A().Tj.outlineButtonBorder}`:void 0,...m}})),[m]),E=Boolean(null==i?void 0:i.upsell)||e.disabled||M,O=(0,D.jsx)(c().A,{popupType:o().A.isMobile?c().z.SlideUp:c().z.Popup,placementToOrigin:B??"bottom",alignmentToOrigin:P,originGap:8,renderOrigin:e=>(0,D.jsx)(f().p,{...e,size:"lg",style:{opacity:E?.4:1,...z.button},hoveredStyle:k,disabled:E,iconTrailing:{size:"xs",colorVariant:"secondary",icon:w().arrowChevronSingleDownSmallIcon},children:_}),render:e=>{let t;t=o().A.isMobile?{menuType:g().gu.Modal,title:n,right:(0,D.jsx)(I().sA,{defaultMessage:"Done",id:"settingItem.buttonPopup.done.label"}),onClickRight:e.close}:{menuType:g().gu.Popup,width:250,maxHeight:400,...y};const i=[],l=a.map((({key:t,label:n,caption:i})=>({key:t,action:()=>{h(t),e.close()},render:e=>(0,D.jsx)(S().A,{...e,title:n,caption:i,shouldWrapCaption:!0,isChecked:_===n})})));if(i.push({key:"settings-item-section",render:e=>(0,D.jsx)(T().A,{...e}),items:l}),r){const e=r.map((({key:e,label:t})=>({key:e,action:()=>{},render:e=>(0,D.jsx)(v().Ay,{...e,shouldWrapCaption:!0,caption:t})})));i.push({key:"info-item-section",render:e=>(0,D.jsx)(T().A,{...e,topBorder:!0}),items:e})}if(p&&p.length){const e=p.map((({key:e,props:t})=>({key:e,action:()=>{},render:()=>(0,D.jsx)(L().A,{...t})})));i.push({key:"switcher-item-section",render:e=>(0,D.jsx)(T().A,{...e,topBorder:!0}),items:e})}return(0,D.jsx)(b().A,{...t,children:(0,D.jsx)(j().A,{type:j().O.Vertical,sections:i,initialFocus:void 0})})}});return M?(0,D.jsx)(x().m,{placement:"left",alignment:"start",disableTooltip:!R,renderTooltip:()=>R,render:e=>(0,D.jsx)("div",{...e,children:(0,D.jsxs)(d().Ye,{alignItems:"center",children:[(0,D.jsx)(u().I,{icon:C().lockFillIcon,colorVariant:"secondary"}),O]})})}):O}},704658:(e,t,n)=>{n.r(t),n.d(t,{UpgradeButton:()=>y});n(296540);var i=()=>n(593531),o=()=>n(406094),l=()=>n(69708),a=()=>n(86269),r=()=>n(839897),s=()=>n(674482),d=()=>n(24796),c=n(474848);function u(e){var t;const{upgradeStatus:n,handleClick:i,size:u="default",width:g="fill",hoverRef:p,onMouseDown:f,upsell:h,featureName:y}=e,x=(0,l().tz)(),m=(0,r().e)(n),b=m.label.button({intl:x,upsell:h,featureName:y}),S=Boolean(m.disabledTooltip),v=(0,a().Lo)({width:g}),{animationState:j,animationTriggers:T}=(0,a().lP)(p);return(0,c.jsx)(d().T,{tooltipMessage:S&&!p?null===(t=m.disabledTooltip)||void 0===t?void 0:t.call(m,{intl:x,upsell:h,featureName:y}):void 0,children:(0,c.jsx)(o().A,{...p?{}:T,disabled:S,hoveredStyle:p?{background:"unset"}:void 0,size:s().lR[u],iconLeading:{...(0,a().e4)({icon:m.icon({upsell:h}),animationState:j}),size:s().Ud[u]},style:v,onClick:i,onMouseDown:f,children:b})})}var g=()=>n(160432);function p(e){var t;const{upsell:n,upgradeStatus:i,handleClick:o,onMouseDown:a,featureName:u}=e,p=(0,l().tz)(),f=(0,r().e)(i),h=f.label.button({intl:p,upsell:n,featureName:u}),y=Boolean(f.disabledTooltip);return(0,c.jsx)(d().T,{tooltipMessage:y?null===(t=f.disabledTooltip)||void 0===t?void 0:t.call(f,{intl:p,upsell:n,featureName:u}):void 0,children:(0,c.jsx)(g().A,{colorPalette:"blue",disabled:y,size:s().lR.default,onClick:o,onMouseDown:a,children:h})})}var f=()=>n(986321),h=()=>n(408543);function y({source:e,upsell:t,featureName:n,hoverRef:o,onMouseDown:l,postUpgradeCallback:a,onClickBeforeUpgradeAction:r,spaceStore:s,...d}){const{upgradeEligibility:g,handleClick:y}=(0,h().C)({upsell:t,source:e,buttonDisplayType:d.display,onClickBeforeUpgradeAction:r,postUpgradeCallback:a,spaceStore:s});if(!g||"not_eligible"===g.status&&"feature_not_upsellable"===g.reason)return null;switch(d.display){case"button":return(0,c.jsx)(u,{upgradeStatus:g.status,handleClick:y,upsell:t,featureName:n,hoverRef:o,onMouseDown:l,...d});case"icon":return(0,c.jsx)(i().c,{upgradeStatus:g.status,handleClick:y,upsell:t,featureName:n,hoverRef:o,onMouseDown:l,...d});case"text":return(0,c.jsx)(f().c,{upgradeStatus:g.status,handleClick:y,upsell:t,featureName:n,hoverRef:o,onMouseDown:l,...d});case"primary":return(0,c.jsx)(p,{upgradeStatus:g.status,handleClick:y,upsell:t,featureName:n,onMouseDown:l,...d})}}},716583:(e,t,n)=>{n.d(t,{A:()=>d});var i=n(296540),o=()=>n(726637),l=()=>n(100622),a=()=>n(284371),r=()=>n(135552),s=n(474848);const d=function(e){const{children:t,textSize:d,shouldUseDivider:c,style:u,styleKey:g}=e,{WindowSizeStore:p}=(0,n(484714).v3)(),[f,h,y]=(0,n(590526).K8)((()=>[p.getSafePaddingLeftCSS(10),p.getSafePaddingLeftCSS(14),p.getSafePaddingRightCSS(14)]),[p]),x=(0,i.useMemo)((()=>o().A.isMobile?"small"!==d?a().J.UIRegular.mobile:a().J.UISmall.mobile:"small"!==d?a().J.UIRegular.desktop:a().J.UISmall.desktop),[d]),m=(0,i.useMemo)((()=>void 0===d?1.2:o().A.isMobile?"small"!==d?a().K_.UIRegular.mobile:a().K_.UISmall.mobile:"small"!==d?a().K_.UIRegular.desktop:a().K_.UISmall.desktop),[d]),b=(0,n(401497).IS)((()=>({bannerStyle:{display:"flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",...!o().A.isMobile&&{padding:"0px 12px"},...o().A.isMobile&&{paddingInlineStart:h,paddingInlineEnd:y},fontSize:x,lineHeight:m,cursor:"default",...c?{minHeight:45,borderBottom:`1px solid ${l().oZ.halfWhite}`}:{minHeight:44}},[`colorStyle__${r().q.Red}`]:{color:l().oZ.white,background:l().oZ.red,...o().A.isMobile&&{justifyContent:"flex-start"}},[`colorStyle__${r().q.Blue}`]:{color:l().oZ.white,fill:l().oZ.white,background:l().oZ.blue,...o().A.isMobile&&{paddingInlineStart:f,paddingInlineEnd:14}},[`colorStyle__${r().q.Beige}`]:{background:l().Tj.beigeBannerBackground,paddingInlineStart:o().A.isMobile?12:18,paddingInlineEnd:o().A.isMobile?14:16},[`colorStyle__${r().q.White}`]:{background:l().Tj.background.primary,color:l().Tj.text.tertiary,fill:l().Tj.icon.tertiary,height:45,padding:0,borderTop:`1px solid ${l().Tj.border.secondaryTranslucent}`,boxShadow:`0 1px 0 ${l().Tj.border.secondaryTranslucent}`},[`colorStyle__${r().q.Purple}`]:{background:"#CA59FF",color:l().oZ.white,fill:l().oZ.white},[`colorStyle__${r().q.LightRed}`]:{background:l().Tj.palette.red[100],color:l().Tj.palette.red[500]},[`colorStyle__${r().q.Yellow}`]:{background:l().Tj.palette.yellow[100],color:l().Tj.palette.yellow[600]},[`colorStyle__${r().q.PageNotification}`]:{border:`0.5px solid ${l().Tj.border.secondaryTranslucent}`,borderRadius:12,boxShadow:"0px 8px 16px 0px rgba(0, 0, 0, 0.05)",padding:13,alignItems:"start",justifyContent:"flex-start"},[`colorStyle__${r().q.ImportNotification}`]:{color:l().Tj.palette.uiBlue[600],fill:l().Tj.icon.tertiary,background:l().Tj.palette.blue[30],height:48},[`colorStyle__${r().q.LightBlue}`]:{color:l().oZ.blue,fill:l().oZ.blue,background:l().Tj.blue.background.primaryTranslucent},[`colorStyle__${r().q.LightGray}`]:{background:l().Tj.lightGrayBannerBackground},colorStyle__default:{color:l().Tj.text.inversePrimary,background:l().Tj.background.accentPrimary}})),[f,h,y,c,x,m]),S=g?`colorStyle__${g}`:"colorStyle__default";return(0,s.jsx)("div",{style:{...b.bannerStyle,...b[S],...u},children:t})}},791177:(e,t,n)=>{n.d(t,{$:()=>o});var i=n(296540);function o(){const[e,t]=(0,i.useState)({inputElementAttributes:void 0,suppressFocusRing:!1}),[n,o]=(0,i.useState)(!1),[l,a]=(0,i.useState)(!1);(0,i.useEffect)((()=>{if(n){function e(){a(!1)}function t(e){"ArrowDown"!==e.key&&"ArrowUp"!==e.key||a(!0)}return window.addEventListener("pointerdown",e),window.addEventListener("keydown",t),()=>{window.removeEventListener("pointerdown",e),window.removeEventListener("keydown",t)}}}),[n]);return[(0,i.useMemo)((()=>({inputElementAttributes:e.inputElementAttributes,suppressFocusRing:e.suppressFocusRing&&l,onFocus:()=>{o(!0)},onBlur:()=>{o(!1)}})),[e,l]),(0,i.useMemo)((()=>({setComboboxState:t,isFocusVisible:l,isComboboxFocused:n,onItemHover:()=>{a(!1)}})),[l,n])]}},797324:(e,t,n)=>{n.d(t,{A:()=>h});var i=n(296540),o=()=>n(560520),l=()=>n(484714),a=()=>n(790748),r=()=>n(581010),s=()=>n(69708),d=()=>n(100622),c=()=>n(284371),u=()=>n(396406),g=()=>n(718827),p=()=>n(843798),f=n(474848);function h(e){const{onDismiss:t,inputRef:n}=e,h=(0,l().Y0)(),y=(0,i.useRef)(null),x=h.isMobileNative&&h.isIOS,m=x&&e.show;(0,a().b)(r().A,(()=>({getNode:()=>y.current,isShown:()=>m})),[m]);const b=(0,o().n)(),S=(0,i.useCallback)((()=>{var e;null==n||null===(e=n.current)||void 0===e||e.focus(),t&&t();const i=document.activeElement;i instanceof HTMLElement&&i.blur()}),[n,t]);if(!x)return null;const v=m?-(p().j+b):0;return(0,f.jsx)(u().O,{open:!0,children:(0,f.jsx)("div",{style:{position:"fixed",top:"100vh",width:"100%",height:p().j,display:m?"flex":"none",alignItems:"center",justifyContent:"flex-end",backgroundColor:d().Tj.keyboardDoneBarBackground,transform:`translateY(${v}px)`,transition:m?"ease-out":"ease-in",boxShadow:m?`\n\t\t\t\t\t\t\t\t0 -1px 0 ${d().Tj.border.primaryTranslucent}\n\t\t\t\t\t\t\t`:void 0},ref:y,children:(0,f.jsx)(g().Ay,{style:{display:"flex",alignItems:"center",marginInlineEnd:16,color:d().oZ.blue,fontWeight:c().Wy.semibold},onTouchEnd:()=>{S()},children:(0,f.jsx)(s().sA,{defaultMessage:"Done",id:"mobile.dismissKeyboardBar.button.label"})})})})}},838364:(e,t,n)=>{n.d(t,{H:()=>i});const i=52},843878:(e,t,n)=>{n.d(t,{AL:()=>a,Ay:()=>r});n(296540);var i=()=>n(726637),o=()=>n(100622),l=n(474848);function a(e){return e?18:60}const r=function({children:e,controlRow:t,bannerText:r,controlRowPaddingTopBottom:s,controlRowPaddingLeftRight:d,removeBoxShadow:c,contentPaddingLeftRight:u,contentPaddingTopBottom:g,disableScroller:p,maxWidth:f,centerContent:h}){const y=void 0!==g?g:i().A.isMobile?18:36,x=(0,n(401497).IS)((()=>({containerWithScroller:{display:"flex",flexDirection:"column",width:"100%",height:"100%",maxWidth:f??void 0,backgroundColor:o().Tj.background.elevated},scroller:{flexGrow:1,WebkitOverflowScrolling:"touch",transform:"translateZ(0)",paddingInlineStart:u??a(i().A.isMobile),paddingInlineEnd:u??a(i().A.isMobile),paddingTop:r?15:y,paddingBottom:r?22:y,...h?{display:"flex",alignItems:"center",justifyContent:"center"}:null},controlRowWithScroller:{flexGrow:0,flexShrink:0,paddingInlineStart:d??a(i().A.isMobile),paddingInlineEnd:d??a(i().A.isMobile),paddingTop:s,paddingBottom:s,boxShadow:c?void 0:`0 -1px 0 ${o().Tj.border.secondaryTranslucent}`},containerWithoutScroller:{paddingInlineStart:a(i().A.isMobile),paddingInlineEnd:a(i().A.isMobile)},childrenWithoutScroller:{paddingTop:y,paddingBottom:y},controlRowWithoutScroller:{paddingTop:s,paddingBottom:s,boxShadow:`0 -1px 0 ${o().Tj.border.secondaryTranslucent}`}})),[f,u,r,y,d,s,c,h]);return p?(0,l.jsxs)("div",{style:x.containerWithoutScroller,children:[(0,l.jsx)("div",{style:x.childrenWithoutScroller,children:e}),t?(0,l.jsx)("div",{style:x.controlRowWithoutScroller,children:t}):void 0]}):(0,l.jsxs)("div",{style:x.containerWithScroller,children:[r?(0,l.jsx)(n(716583).A,{styleKey:n(135552).q.Blue,children:r}):void 0,(0,l.jsx)(n(376254).H,{type:n(611648).A.All,style:x.scroller,children:e}),t?(0,l.jsx)("div",{style:x.controlRowWithScroller,children:t}):void 0]})}},857245:(e,t,n)=>{n.r(t),n.d(t,{MobileOfflineSettingsSection:()=>rt,OfflineModeDebugSettings:()=>R,OfflineSettings:()=>Ue,OfflineSettingsMobile:()=>it,getAutosyncSetting:()=>K,setAutosyncSetting:()=>U});var i=n(296540),o=()=>n(907258),l=()=>n(484714),a=()=>n(401497),r=()=>n(100622),s=()=>n(964689),d=(n(944114),n(898992),n(354520),n(672577),n(803949),n(581454),n(908872),n(737550),()=>n(755531)),c=()=>n(590526),u=()=>n(929219),g=()=>n(295633),p=()=>n(700500),f=()=>n(179034),h=()=>n(69708),y=()=>n(860864),x=()=>n(959462),m=()=>n(99040),b=()=>n(922742),S=n(474848);function v({status:e}){const t=(0,a().IS)((()=>({badge:{display:"inline-block",padding:"4px 8px",borderRadius:6,fontSize:10,fontWeight:700,textTransform:"uppercase",letterSpacing:"0.5px",border:"1px solid",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.04)"},toDownload:{backgroundColor:r().Tj.palette.yellow[50],color:r().Tj.palette.yellow[700],borderColor:r().Tj.palette.yellow[200]},downloading:{backgroundColor:r().Tj.palette.blue[50],color:r().Tj.palette.blue[700],borderColor:r().Tj.palette.blue[200]},success:{backgroundColor:r().Tj.palette.green[50],color:r().Tj.palette.green[700],borderColor:r().Tj.palette.green[200]},failed:{backgroundColor:r().Tj.palette.red[50],color:r().Tj.palette.red[700],borderColor:r().Tj.palette.red[200]},unknown:{backgroundColor:r().Tj.background.tertiary,color:r().Tj.text.secondary,borderColor:r().Tj.border.secondary}})),[]);return(0,S.jsx)("span",{style:(()=>{switch(e){case"to_download":return{...t.badge,...t.toDownload};case"downloading":return{...t.badge,...t.downloading};case"success":return{...t.badge,...t.success};case"failed":return{...t.badge,...t.failed};default:return{...t.badge,...t.unknown}}})(),children:e||"unknown"})}function j({actions:e}){const t=(0,l().v3)(),n=(0,h().tz)(),[o,s]=(0,i.useState)(null),[d,c]=(0,i.useState)({}),u=(0,i.useCallback)((e=>{if(d[e])return d[e];try{const i=new(g().B)(t,{table:f().ev,id:e}),{displayTitle:o="Untitled"}=(0,y().tL)({store:i,intl:n});return c((t=>({...t,[e]:o}))),o}catch{const t=`Page ${e.slice(-8)}`;return c((n=>({...n,[e]:t}))),t}}),[t,d,n]),p=(0,i.useCallback)(((e,t,n)=>{s({actionIndex:e,blockType:t}),u(n)}),[u]),x=(0,a().IS)((()=>({actionDetails:{marginTop:8,padding:8,backgroundColor:r().Tj.background.secondary,borderRadius:8,fontSize:12,border:`1px solid ${r().Tj.border.secondary}`,boxShadow:"0 1px 3px rgba(0, 0, 0, 0.05)"},actionItem:{marginBottom:4,display:"flex",justifyContent:"space-between",alignItems:"center",padding:"2px 0"},actionLabel:{color:r().Tj.text.secondary,fontWeight:500,fontSize:11},actionValue:{color:r().Tj.text.primary,fontFamily:"monospace",fontSize:11,fontWeight:600,backgroundColor:r().Tj.background.tertiary,padding:"2px 4px",borderRadius:3,border:`1px solid ${r().Tj.border.secondary}`},autosyncType:{padding:"3px 6px",borderRadius:4,fontSize:9,fontWeight:700,textTransform:"uppercase",letterSpacing:"0.5px",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.1)"},autosyncTypeNotAutosynced:{backgroundColor:r().Tj.palette.blue[100],color:r().Tj.palette.blue[700],border:`1px solid ${r().Tj.palette.blue[200]}`},autosyncTypeFrecent:{backgroundColor:r().Tj.palette.orange[100],color:r().Tj.palette.orange[700],border:`1px solid ${r().Tj.palette.orange[200]}`},blockIdTooltip:{position:"relative",cursor:"pointer"},tooltip:{position:"absolute",bottom:"100%",insetInlineStart:"50%",transform:"translateX(-50%)",marginBottom:12,padding:"8px 12px",backgroundColor:r().Tj.background.accentPrimary,color:r().Tj.text.inversePrimary,fontSize:12,fontWeight:600,borderRadius:8,boxShadow:"0 8px 24px rgba(0, 0, 0, 0.3), 0 4px 8px rgba(0, 0, 0, 0.15)",zIndex:1e3,whiteSpace:"nowrap",maxWidth:280,overflow:"hidden",textOverflow:"ellipsis",border:"1px solid rgba(255, 255, 255, 0.15)",pointerEvents:"none"}})),[]);return 0===e.length?null:(0,S.jsx)("div",{style:x.actionDetails,children:e.map(((e,t)=>(0,S.jsxs)("div",{style:x.actionItem,children:[(0,S.jsxs)("span",{style:x.actionLabel,children:["Origin: ",(0,S.jsxs)("span",{style:{...x.actionValue,...x.blockIdTooltip},onMouseEnter:()=>p(t,"origin",e.origin_page_id),onMouseLeave:()=>s(null),children:[e.origin_page_id.slice(-8),(null==o?void 0:o.actionIndex)===t&&"origin"===o.blockType&&d[e.origin_page_id]?(0,S.jsx)("div",{style:x.tooltip,children:d[e.origin_page_id]}):void 0]})," â†’ From: ",(0,S.jsxs)("span",{style:{...x.actionValue,...x.blockIdTooltip},onMouseEnter:()=>p(t,"from",e.from_page_id),onMouseLeave:()=>s(null),children:[e.from_page_id.slice(-8),(null==o?void 0:o.actionIndex)===t&&"from"===o.blockType&&d[e.from_page_id]?(0,S.jsx)("div",{style:x.tooltip,children:d[e.from_page_id]}):void 0]})]}),(0,S.jsx)("span",{style:{...x.autosyncType,..."not_autosynced"===e.autosync_type?x.autosyncTypeNotAutosynced:"frecent"===e.autosync_type?x.autosyncTypeFrecent:x.autosyncTypeNotAutosynced},children:e.autosync_type})]},t)))})}function T({node:e,level:t=0}){const n=t??0,[o,l]=(0,i.useState)(!0),[s,d]=(0,i.useState)(!1),[c,u]=(0,i.useState)(!1),[g,p]=(0,i.useState)(!1),[f,h]=(0,i.useState)(!1),y=(0,a().IS)((()=>({nodeContainer:{marginInlineStart:24*n,marginBottom:6},nodeHeader:{display:"flex",alignItems:"center",padding:"10px 16px",borderRadius:8,cursor:e.children.length>0?"pointer":"default",backgroundColor:r().Tj.background.primary,border:`1px solid ${r().Tj.border.secondary}`,boxShadow:"0 1px 2px rgba(0, 0, 0, 0.04)",transition:"all 0.15s ease",...0===n&&{backgroundColor:r().Tj.background.secondary,border:`2px solid ${r().Tj.border.primary}`,boxShadow:"0 2px 6px rgba(0, 0, 0, 0.06)",fontWeight:600}},expandButton:{marginInlineEnd:12,width:20,height:20,display:"flex",alignItems:"center",justifyContent:"center",fontSize:14,color:e.children.length>0?r().Tj.text.secondary:r().Tj.text.tertiary,cursor:e.children.length>0?"pointer":"default",borderRadius:4,transition:"all 0.15s ease"},nodeContent:{flex:1,display:"flex",justifyContent:"space-between",alignItems:"center",gap:12},nodeTitle:{fontWeight:0===n?600:500,color:r().Tj.text.primary,flex:1,marginInlineEnd:12,fontSize:0===n?15:14,lineHeight:1.3},nodeInfo:{display:"flex",alignItems:"center",gap:10},actionCount:{fontSize:11,fontWeight:600,color:g?r().Tj.text.primary:r().Tj.text.secondary,backgroundColor:g?r().Tj.background.secondary:r().Tj.background.tertiary,padding:"4px 8px",borderRadius:6,cursor:"pointer",transition:"all 0.2s ease",transform:g?"translateY(-2px)":"translateY(0)",boxShadow:g?"0 2px 4px rgba(0, 0, 0, 0.15)":"0 1px 2px rgba(0, 0, 0, 0.05)",border:g?`1px solid ${r().Tj.border.primary}`:`1px solid ${r().Tj.border.secondary}`},pageId:{fontSize:11,fontFamily:"monospace",color:f?r().Tj.text.primary:r().Tj.text.tertiary,backgroundColor:f?r().Tj.background.tertiary:"transparent",marginInlineStart:4,cursor:"pointer",padding:"3px 6px",borderRadius:4,transition:"all 0.2s ease",border:f?`1px solid ${r().Tj.border.secondary}`:"1px solid transparent",fontWeight:500},collectionIcon:{fontSize:12,marginInlineEnd:6,color:r().Tj.palette.purple[600],filter:"drop-shadow(0 1px 1px rgba(0, 0, 0, 0.1))"},copyConfirmation:{position:"absolute",top:-28,insetInlineEnd:-4,fontSize:11,fontWeight:600,color:r().Tj.palette.green[700],backgroundColor:r().Tj.palette.green[100],padding:"4px 8px",borderRadius:6,zIndex:10,border:`1px solid ${r().Tj.palette.green[200]}`,boxShadow:"0 2px 6px rgba(83, 87, 88, 0.14)",animation:"fadeIn 0.2s ease-out"}})),[n,g,f,e.children.length]),x=(0,i.useCallback)((()=>{l(!o)}),[o]),m=(0,i.useCallback)((async t=>{t.stopPropagation();try{await navigator.clipboard.writeText(e.pageId),u(!0),setTimeout((()=>u(!1)),2e3)}catch(n){}}),[e.pageId]);return(0,S.jsxs)("div",{style:y.nodeContainer,children:[(0,S.jsxs)("div",{style:y.nodeHeader,onClick:e.children.length>0?x:void 0,role:e.children.length>0?"button":void 0,tabIndex:e.children.length>0?0:void 0,onKeyDown:e.children.length>0?e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),x())}:void 0,children:[(0,S.jsx)("div",{style:y.expandButton,children:e.children.length>0?o?"âˆ’":"+":"â€¢"}),(0,S.jsxs)("div",{style:y.nodeContent,children:[(0,S.jsxs)("div",{style:{display:"flex",alignItems:"center",flex:1},children:[e.isCollectionViewBlock?(0,S.jsx)("span",{style:y.collectionIcon,title:"Collection View",children:"ðŸ—„"}):void 0,(0,S.jsx)("span",{style:y.nodeTitle,children:e.title}),(0,S.jsxs)("div",{style:{position:"relative"},children:[(0,S.jsxs)("span",{style:y.pageId,onClick:m,onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),title:"Click to copy page ID",role:"button",tabIndex:0,children:["...",e.pageId.slice(-8)]}),c?(0,S.jsx)("span",{style:y.copyConfirmation,children:"Copied!"}):void 0]})]}),(0,S.jsxs)("div",{style:y.nodeInfo,children:[e.actions.length>0?(0,S.jsx)("span",{style:y.actionCount,onClick:e=>{e.stopPropagation(),d(!s)},onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),title:s?"Click to hide actions":"Click to show action details",role:"button",tabIndex:0,children:s?`Hide actions (${e.actions.length})`:`Show actions (${e.actions.length})`}):void 0,(0,S.jsx)(v,{status:e.downloadStatus})]})]})]}),s?(0,S.jsx)(j,{actions:e.actions}):void 0,o?e.children.map((e=>(0,S.jsx)(T,{node:e,level:n+1},e.pageId))):void 0]})}function w(e){if(!e)return"Never";const t=new Date(e),n=(new Date).getTime()-t.getTime(),i=Math.floor(n/6e4),o=Math.floor(n/36e5),l=Math.floor(n/864e5);return i<1?"Just now":i<60?`${i} min${1===i?"":"s"} ago`:o<24?`${o} hour${1===o?"":"s"} ago`:l<7?`${l} day${1===l?"":"s"} ago`:t.toLocaleDateString()}function C({nodes:e}){const t=(0,a().IS)((()=>({container:{marginBottom:16},emptyState:{textAlign:"center",padding:"48px 24px",color:r().Tj.text.secondary,backgroundColor:r().Tj.background.secondary,borderRadius:12,border:`1px solid ${r().Tj.border.secondary}`,fontSize:14,lineHeight:1.5}})),[]);return 0===e.length?(0,S.jsx)("div",{style:t.emptyState,children:"No offline pages found."}):(0,S.jsx)("div",{style:t.container,children:e.map((e=>(0,S.jsx)(T,{node:e},e.pageId)))})}function k(){const e=(0,l().v3)(),[t,s]=(0,i.useState)({lastRefetch:void 0,lastAutosync:void 0}),[d,c]=(0,i.useState)(!0),[u,g]=(0,i.useState)(!1),[p,f]=(0,i.useState)(!1),h=(0,i.useCallback)((async()=>{var t;const n=null===(t=o().default.state.currentUserStore)||void 0===t?void 0:t.id;if(n)try{const t=e.sqliteConnection;if(!t)return;const[i,o]=await Promise.all([(0,b().T)({connection:t,userId:n,taskType:"refetch"}),(0,b().T)({connection:t,userId:n,taskType:"autosync"})]);s({lastRefetch:i,lastAutosync:o})}catch(i){}finally{c(!1)}}),[e]),y=(0,i.useCallback)((async()=>{g(!0);try{const{debugAttemptFetch:t}=await m().W.load();t(e),await h()}catch(t){}finally{g(!1)}}),[e,h]),x=(0,i.useCallback)((async()=>{f(!0);try{const{debugAutosync:t}=await n.e(93828).then(n.bind(n,940658));await t(e),await h()}catch(t){}finally{f(!1)}}),[e,h]);(0,i.useEffect)((()=>{h()}),[h]);const v=(0,a().IS)((()=>({metadata:{display:"flex",flexDirection:"column",alignItems:"center",gap:8,marginTop:12,marginBottom:16,padding:"8px 12px",backgroundColor:r().Tj.background.tertiary,borderRadius:6,border:`1px solid ${r().Tj.border.secondary}`,fontSize:12},metadataRow:{display:"flex",justifyContent:"center",gap:16},metadataItem:{display:"flex",flexDirection:"column",alignItems:"center",gap:3},metadataLabel:{color:r().Tj.text.secondary,fontWeight:600,textTransform:"uppercase",letterSpacing:"0.3px",fontSize:9},metadataValue:{color:r().Tj.text.primary,fontFamily:"monospace",fontSize:11,fontWeight:500,backgroundColor:r().Tj.background.primary,padding:"2px 4px",borderRadius:3,border:`1px solid ${r().Tj.border.secondary}`},debugButtonsContainer:{display:"flex",gap:6,marginTop:8,justifyContent:"center",flexWrap:"wrap"},debugButton:{padding:"4px 8px",border:`1px solid ${r().Tj.border.primary}`,borderRadius:4,backgroundColor:r().Tj.background.primary,color:r().Tj.text.primary,cursor:"pointer",fontSize:10,fontWeight:500,transition:"all 0.2s ease",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.05)"}})),[]);return(0,S.jsxs)("div",{style:v.metadata,children:[(0,S.jsxs)("div",{style:v.metadataRow,children:[(0,S.jsxs)("div",{style:v.metadataItem,children:[(0,S.jsx)("div",{style:v.metadataLabel,children:"Last Refetch"}),(0,S.jsx)("div",{style:v.metadataValue,children:d?"Loading...":w(t.lastRefetch)})]}),(0,S.jsxs)("div",{style:v.metadataItem,children:[(0,S.jsx)("div",{style:v.metadataLabel,children:"Last Autosync"}),(0,S.jsx)("div",{style:v.metadataValue,children:d?"Loading...":w(t.lastAutosync)})]})]}),(0,S.jsxs)("div",{style:v.debugButtonsContainer,children:[(0,S.jsx)("button",{style:v.debugButton,onClick:y,disabled:u,title:"Force a debug refetch of all offline pages",children:u?"Debug Refetching...":"Debug Refetch"}),(0,S.jsx)("button",{style:v.debugButton,onClick:x,disabled:p,title:"Force a debug autosync update",children:p?"Debug Autosyncing...":"Debug Autosync"})]})]})}function I({allActions:e}){const t=(0,a().IS)((()=>({stats:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))",gap:12,marginBottom:16,padding:12,backgroundColor:r().Tj.background.secondary,borderRadius:8,border:`1px solid ${r().Tj.border.secondary}`,boxShadow:"0 1px 3px rgba(0, 0, 0, 0.05)"},stat:{textAlign:"center",padding:"4px 4px"},statNumber:{fontSize:16,fontWeight:700,color:r().Tj.text.primary,marginBottom:2,lineHeight:1},statLabel:{fontSize:8,color:r().Tj.text.secondary,textTransform:"uppercase",letterSpacing:"0.3px",fontWeight:600}})),[]),n=(0,c().K8)((()=>{const e=x().A.state.offlinePages??{},t=Object.keys(e).length,n=Object.values(e).filter((e=>(null==e?void 0:e.is_explicitly_offlined_origin)||(null==e?void 0:e.is_autosynced_origin))).length,i=Object.values(e).reduce(((e,t)=>{const n=null==t?void 0:t.download_status;return n&&(e[n]=(e[n]||0)+1),e}),{to_download:0,downloading:0,success:0,failed:0});return{total:t,origins:n,toDownload:i.to_download||0,success:i.success||0,failed:i.failed||0,downloading:i.downloading||0}}),[]);return(0,S.jsxs)("div",{style:t.stats,children:[(0,S.jsxs)("div",{style:t.stat,children:[(0,S.jsx)("div",{style:t.statNumber,children:n.origins}),(0,S.jsx)("div",{style:t.statLabel,children:"Origin Pages"})]}),(0,S.jsxs)("div",{style:t.stat,children:[(0,S.jsx)("div",{style:t.statNumber,children:n.total}),(0,S.jsx)("div",{style:t.statLabel,children:"Total Pages"})]}),(0,S.jsxs)("div",{style:t.stat,children:[(0,S.jsx)("div",{style:t.statNumber,children:n.success}),(0,S.jsx)("div",{style:t.statLabel,children:"Success"})]}),(0,S.jsxs)("div",{style:t.stat,children:[(0,S.jsx)("div",{style:t.statNumber,children:n.failed}),(0,S.jsx)("div",{style:t.statLabel,children:"Failed"})]}),(0,S.jsxs)("div",{style:t.stat,children:[(0,S.jsx)("div",{style:t.statNumber,children:n.downloading}),(0,S.jsx)("div",{style:t.statLabel,children:"Downloading"})]}),(0,S.jsxs)("div",{style:t.stat,children:[(0,S.jsx)("div",{style:t.statNumber,children:n.toDownload}),(0,S.jsx)("div",{style:t.statLabel,children:"To Download"})]})]})}function A(){const e=(0,c().K8)((()=>({online:u().A.state.online,lastOfflineTimestamp:u().A.state.lastOfflineTimestamp,mobileConnectivityType:u().A.state.mobileConnectivityType})),[]),t=(0,a().IS)((()=>({container:{paddingTop:0,paddingInlineEnd:48,paddingBottom:12,paddingInlineStart:48,backgroundColor:r().Tj.background.secondary,borderRadius:8,border:`1px solid ${r().Tj.border.secondary}`},title:{fontSize:16,fontWeight:600,color:r().Tj.text.primary,marginBottom:12,paddingBottom:8,borderBottom:`1px solid ${r().Tj.border.secondary}`},row:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"6px 0"},label:{fontSize:13,color:r().Tj.text.primary,fontWeight:500},value:{fontSize:13,color:r().Tj.text.secondary,fontFamily:"monospace"},statusOnline:{color:r().Tj.palette.green[700],fontWeight:600},statusOffline:{color:r().Tj.palette.red[700],fontWeight:600}})),[]);return(0,S.jsxs)("div",{style:t.container,children:[(0,S.jsx)("h4",{style:t.title,children:"Connection Store"}),(0,S.jsxs)("div",{style:t.row,children:[(0,S.jsx)("span",{style:t.label,children:"Online"}),(0,S.jsx)("span",{style:{...t.value,...e.online?t.statusOnline:t.statusOffline},children:e.online?"true":"false"})]}),(0,S.jsxs)("div",{style:t.row,children:[(0,S.jsx)("span",{style:t.label,children:"Last Offline Timestamp"}),(0,S.jsx)("span",{style:t.value,children:w(e.lastOfflineTimestamp)})]}),(0,S.jsxs)("div",{style:t.row,children:[(0,S.jsx)("span",{style:t.label,children:"Mobile Connectivity Type"}),(0,S.jsx)("span",{style:t.value,children:e.mobileConnectivityType||"Unknown"})]})]})}function M(e){if(!e)return"Never";const t=new Date(e),n=(new Date).getTime()-t.getTime(),i=Math.floor(n/6e4),o=Math.floor(n/36e5),l=Math.floor(n/864e5);return i<1?"Just now":i<60?`${i} min${1===i?"":"s"} ago`:o<24?`${o} hour${1===o?"":"s"} ago`:l<7?`${l} day${1===l?"":"s"} ago`:t.toLocaleDateString()}function R(){const e=(0,l().v3)(),[t,n]=(0,i.useState)([]),[u,m]=(0,i.useState)(!0),[b,v]=(0,i.useState)(!1),[j,T]=(0,i.useState)(),{nodes:w}=function(e){const t=(0,l().v3)(),n=(0,h().tz)();return(0,c().K8)((()=>{var i;const o=x().A.state.offlinePages??{},l=null===(i=(0,d().S)())||void 0===i?void 0:i.id;if(!l)return{nodes:[],allActions:[],allPages:{}};const a=new Map;Object.keys(o).forEach((i=>{const r=o[i];if(!r)return;const s=new(g().B)(t,{table:f().ev,id:i});if(l!==s.getSpaceId())return;const{displayTitle:d="Untitled"}=(0,y().tL)({store:s,intl:n}),c=s.getType(),u=!!c&&(0,p().Ef)(c),h=e.filter((e=>e.impacted_page_id===i)),x={pageId:i,title:d,downloadStatus:r.download_status,children:[],actions:h,isRoot:0===h.length||h.some((e=>e.origin_page_id===i)),isCollectionViewBlock:u};a.set(i,x)})),e.forEach((e=>{const t=a.get(e.from_page_id),n=a.get(e.impacted_page_id);t&&n&&e.from_page_id!==e.impacted_page_id&&(t.children.find((e=>e.pageId===n.pageId))||(t.children.push(n),n.isRoot=!1))}));const r=Array.from(a.values()).filter((e=>e.isRoot)),s={};return Object.entries(o).forEach((([e,t])=>{t&&(s[e]=t)})),{nodes:r,allActions:e,allPages:s}}),[t,e,n])}(t),R=(0,i.useCallback)((async()=>{var t;const i=null===(t=o().default.state.currentUserStore)||void 0===t?void 0:t.id;if(i)try{const t=e.sqliteConnection;if(!t)return;const o=await(0,s().M)({connection:t,userId:i});n([...o]),T(Date.now())}catch(l){}finally{m(!1),v(!1)}}),[e]),B=(0,i.useCallback)((async()=>{v(!0),await R()}),[R]);(0,i.useEffect)((()=>{R()}),[R]);const P=(0,a().IS)((()=>({container:{padding:"24px 0",maxWidth:1200,margin:"0 auto"},header:{marginBottom:24,display:"flex",justifyContent:"space-between",alignItems:"flex-start",paddingBottom:16,borderBottom:`1px solid ${r().Tj.border.secondary}`},headerContent:{flex:1},refreshButton:{padding:"4px 8px",border:`1px solid ${r().Tj.border.primary}`,borderRadius:4,backgroundColor:r().Tj.background.primary,color:r().Tj.text.primary,cursor:"pointer",fontSize:10,fontWeight:500,transition:"all 0.2s ease",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.05)"},refreshContainer:{display:"flex",alignItems:"center",gap:12},lastLoadedText:{fontSize:12,color:r().Tj.text.tertiary,fontFamily:"monospace"},title:{fontSize:24,fontWeight:700,color:r().Tj.text.primary,marginBottom:4}})),[]);return(0,S.jsxs)("div",{style:P.container,children:[(0,S.jsxs)("div",{style:P.header,children:[(0,S.jsx)("div",{style:P.headerContent,children:(0,S.jsx)("h2",{style:P.title,children:"Offline Pages"})}),(0,S.jsxs)("div",{style:P.refreshContainer,children:[j?(0,S.jsxs)("span",{style:P.lastLoadedText,children:["Last loaded: ",M(j)]}):void 0,(0,S.jsx)("button",{style:P.refreshButton,onClick:B,disabled:b,title:"Refresh offline pages data",children:"Refresh"})]})]}),0===w.length?(0,S.jsx)(k,{}):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(I,{allActions:t}),(0,S.jsx)(k,{})]}),(0,S.jsx)(C,{nodes:w}),(0,S.jsx)(A,{})]})}var B=()=>n(59226),P=()=>n(388926),_=()=>n(843878),L=()=>n(8178);const z=(0,h().YK)({offlineSettingsTitle:{id:"offlineSettings.title",defaultMessage:"Offline"},offlinePagesSectionTitle:{id:"offlineSettings.offlinePagesSection.title",defaultMessage:"Offline pages"},offlinePagesSectionSearchPlaceholder:{id:"offlineSettings.offlinePagesSection.searchPlaceholder",defaultMessage:"Search by name"},offlinePagesSectionSearchIconLabel:{id:"offlineSettings.offlinePagesSection.searchIconLabel",defaultMessage:"Search"}});var D=()=>n(300474),E=()=>n(920198),O=()=>n(287188),F=()=>n(702723),H=()=>n(704658),$=()=>n(810312),W=()=>n(564884);const N=new(n(29923).R)({key:"offline_autosync_setting_2",namespace:n(553737).cd,important:!0,trackingType:"necessary"});function V(e){return"on"===K(e)}function K(e){if(!e)return;return(N.getState()??{})[e]}function U(e,t){const n=N.getState()??{};N.setState({...n,[e]:t})}const G=(0,h().YK)({eligible_to_purchase:{id:"offlineSettingsTab.autoSyncPagesSection.upsell.eligibleToPurchase",defaultMessage:"<highlight>Upgrade</highlight> to automatically download Recents and Favorites for offline use"},eligible_for_trial:{id:"offlineSettingsTab.autoSyncPagesSection.upsell.eligibleForTrial",defaultMessage:"<highlight>Start trial</highlight> to automatically download Recents and Favorites for offline use"},sales_eligible:{id:"offlineSettingsTab.autoSyncPagesSection.upsell.salesEligible",defaultMessage:"<highlight>Contact sales</highlight> to automatically download Recents and Favorites for offline use"},sales_assisted:{id:"offlineSettingsTab.autoSyncPagesSection.upsell.salesAssisted",defaultMessage:"<highlight>Contact sales</highlight> to automatically download Recents and Favorites for offline use"},eligible_to_request:{id:"offlineSettingsTab.autoSyncPagesSection.upsell.eligibleToRequest",defaultMessage:"<highlight>Request access</highlight> to automatically download Recents and Favorites for offline use"},not_eligible:{id:"offlineSettingsTab.autoSyncPagesSection.upsell.notEligible",defaultMessage:"<highlight>Upgrade</highlight> to automatically download Recents and Favorites for offline use"},request_pending:{id:"offlineSettingsTab.autoSyncPagesSection.upsell.requestPending",defaultMessage:"<highlight>Requested</highlight> to automatically download Recents and Favorites for offline use"}});function q(){const e=(0,l().v3)(),t=(0,D().r)(),n=(0,E().L)(),i=(0,c().K8)((()=>V(t)),[t]),o=!(0,c().O$)(u().e),a=(0,$().Vz)(),r=(0,S.jsx)(h().sA,{id:"offlineSettingsTab.autosyncedPagesSection.title",defaultMessage:"Automatic downloads"}),s=(0,S.jsx)(h().sA,{id:"spaceSettings.offlineMessage",defaultMessage:"Please go online to manage settings."});return o?(0,S.jsx)(F().A,{spaceStore:n,type:"custom",title:r,caption:s,customButton:null,disableSettingsItemClick:!0,shouldHighlight:!1}):a?"available"!==a.type?(0,S.jsx)(F().A,{spaceStore:n,type:"custom",caption:(0,S.jsx)(H().UpgradeButton,{source:"offline_mode_settings",upsell:a.upsell,display:"text",width:"hug",size:"small",customMessages:G,spaceStore:n}),customButton:null,disableSettingsItemClick:!0,disableTitle:o,shouldHighlight:!1,title:r}):(0,S.jsx)(F().A,{spaceStore:n,type:"custom",title:r,disableTitle:o,disableSettingsItemClick:!0,caption:(0,S.jsx)(h().sA,{id:"offlineSettingsTab.autosyncedPagesSection.subheading",defaultMessage:"Notion will automatically download your top Recents and Favorites for offline use."}),shouldHighlight:!1,customButton:(0,S.jsx)(O().A,{disabled:o,on:Boolean(i),onClick:()=>function({environment:e,spaceId:t}){if(!t)return;const n=V(t)?"off":"on";(0,W().u)({environment:e,event:{eventName:"offline_autosyncing_toggled",eventProperties:{toggle_status:n}}}),U(t,n)}({environment:e,spaceId:t})})}):null}var Q=()=>n(574359),Z=()=>n(940148),Y=()=>n(302501),J=()=>n(428343),X=()=>n(496603);const ee={failed:1,downloading:2,to_download:3,success:4};function te(e,{sortAscending:t}){const n=t?"asc":"desc";return X().My(e,[e=>ee[e.downloadStatus??"success"],"lastModifiedTime"],["asc",n])}var ne=()=>n(726637),ie=()=>n(127833),oe=()=>n(30537),le=()=>n(546926),ae=()=>n(890492),re=()=>n(81068),se=()=>n(663639),de=()=>n(736847),ce=()=>n(56394);const ue=["all","manual","autosynced"],ge=(0,h().YK)({all:{id:"offlineSettingsTab.offlinePagesFilter.all",defaultMessage:"All pages"},manual:{id:"offlineSettingsTab.offlinePagesFilter.manual",defaultMessage:"Downloaded by you"},autosynced:{id:"offlineSettingsTab.offlinePagesFilter.autosynced",defaultMessage:"Downloaded by Notion"}});function pe(e){const{filterCategory:t,setFilterCategory:n}=e,[o,l]=(0,i.useState)(!1),r=(0,h().tz)(),s=(0,a().IS)((()=>({pillContainer:{display:"flex",alignItems:"center"},pillInner:{...ne().A.isMobile?{height:40,paddingInlineStart:14,paddingInlineEnd:14}:{}}})),[]),d=(0,S.jsx)(ce().A,{on:!0,wrapStyle:s.pillContainer,innerStyle:s.pillInner,title:r.formatMessage(ge[t]),onClick:()=>l(!0)}),c={key:"categories",items:ue.map((e=>({key:e,action:()=>{},render:()=>(0,S.jsx)(re().A,{focused:!1,onClick:()=>{n(e),l(!1)},title:r.formatMessage(ge[e])})}))),render:e=>(0,S.jsx)(de().A,{...e})},u=(0,S.jsx)(ae().A,{menuType:le().gu.Popup,header:null,children:(0,S.jsx)(se().A,{type:se().O.Vertical,initialFocus:0,sections:[c]})});return(0,S.jsx)(ie().zD,{popupType:oe().n.Popup,placementToOrigin:"bottom",alignmentToOrigin:"start",open:o,render:()=>u,onDismiss:()=>l(!1),origin:d})}var fe=()=>n(756117),he=()=>n(695115),ye=()=>n(31511),xe=()=>n(207207);function me(e){const{searchQuery:t,setSearchQuery:n,disabled:o}=e,[l,s]=(0,i.useState)(!1),d=(0,h().tz)(),c=(0,a().IS)((()=>({container:{display:"flex",alignItems:"center"},icon:{width:14,height:14,fill:r().Tj.icon.secondary},input:{fontSize:14,lineHeight:"20px",width:"100%",paddingInlineStart:4}})),[]),u=()=>{n(""),s(!1)};return(0,S.jsxs)("div",{style:c.container,children:[(0,S.jsx)(he().A,{icon:xe().magnifyingGlassIcon,iconStyle:c.icon,disabled:o,onClick:()=>l?u():s(!0),ariaLabel:d.formatMessage(z.offlinePagesSectionSearchIconLabel)}),(0,S.jsx)(fe().A,{visible:l,animate:{width:150},initial:{width:0,opacity:0},exit:{width:0,opacity:0},children:(0,S.jsx)(ye().A,{style:c.input,format:"transparent",value:t,onChange:e=>n(e.target.value),placeholder:d.formatMessage(z.offlinePagesSectionSearchPlaceholder),focusInitial:l,showClearButton:!0,onClearButtonClick:u,onCancel:u})})]})}var be=()=>n(250910),Se=()=>n(22472);const ve={id:"lastModifiedTime",headerTitle:(0,S.jsx)(h().sA,{id:"offlinePagesTable.columnHeader.lastModifiedTime",defaultMessage:"Last modified time"}),renderCell:e=>(0,S.jsx)(n(625383).d,{dateTs:e.lastModifiedTime}),widthData:{width:100},sortable:!0};function je({blockStore:e}){const t=(0,h().tz)(),i=(0,l().v3)(),o=!(0,c().O$)(u().e);return(0,S.jsx)(be().A,{popupType:be().z.Popup,renderOrigin:e=>(0,S.jsx)(he().A,{icon:n(126617).ellipsisSmallIcon,...e,ariaLabel:t.formatMessage({id:"offlinePagesTable.options",defaultMessage:"Options"})}),render:()=>(0,S.jsx)(ae().A,{menuType:le().gu.Popup,children:(0,S.jsx)(se().A,{type:se().O.Vertical,sections:[{key:"options",render:e=>(0,S.jsx)(de().A,{...e,shouldShowBottomDivider:!0}),items:[{key:"removeOffline",action:()=>{Se().lX({store:e,environment:i,analyticsFrom:"offline_settings"})},render:e=>(0,S.jsx)(re().A,{...e,title:(0,S.jsx)(h().sA,{defaultMessage:"Remove offline page",id:"offlinePagesTable.options.remove"}),disabled:o,disabledFeedback:!0})}]}],initialFocus:void 0})})})}const Te={id:"options",headerTitle:void 0,renderCell:e=>e.showOptions?(0,S.jsx)(je,{blockStore:e.pageBlockStore}):null,widthData:{width:24},sortable:!1};var we=()=>n(996332),Ce=()=>n(807449),ke=()=>n(98126),Ie=()=>n(862661),Ae=()=>n(404141);const Me=10,Re=(0,h().YK)({downloadingSubTitle:{id:"offlinePagesTable.cell.pageNameDownloading",defaultMessage:"Downloading..."},failedOnlineSubTitle:{id:"offlinePagesTable.cell.pageNameFailedOnline",defaultMessage:"Failed. Tap to retry."},failedOfflineSubTitle:{id:"offlinePagesTable.cell.pageNameFailedOffline",defaultMessage:"Failed. Go online to retry."}}),Be={id:"pageName",headerTitle:(0,S.jsx)(h().sA,{id:"offlinePagesTable.columnHeader.pageName",defaultMessage:"Page name"}),renderCell:e=>(0,S.jsx)(Pe,{pageBlockStore:e.pageBlockStore,downloadStatus:e.downloadStatus}),widthData:{width:200},sortable:!1};function Pe({pageBlockStore:e,downloadStatus:t}){const o=ze(),l=(0,h().tz)(),a=(0,c().K8)((()=>(0,y().tL)({store:e,intl:l}).displayTitle),[e,l]),r=(0,c().K8)((()=>(0,n(492414).J8)({store:e,pageVisitSource:n(584262).y8.LinkInPage})),[e]),s=(0,i.useCallback)((e=>{e.metaKey||Ae().Ay.setState({...Ae().Ay.state,open:!1})}),[]);return(0,S.jsx)("div",{style:o.container,children:"failed"===t?(0,S.jsx)(_e,{blockStore:e,pageTitle:a}):(0,S.jsx)(we().Q,{href:r,style:o.linkBox,hoveredStyle:o.linkBoxHover,onClick:s,children:"downloading"===t?(0,S.jsx)(Le,{pageTitle:a}):(0,S.jsx)(y().EB,{store:e,skipUntitledStyling:!0})})})}function _e({blockStore:e,pageTitle:t}){const n=(0,l().v3)(),o=(0,h().tz)(),a=ze(),r=(0,c().O$)(u().e),[s,d]=(0,i.useState)(!1),g=(0,c().K8)((()=>x().A.state.isSlowWrite),[]);(0,i.useEffect)((()=>{if(!s)return;if(g)return;const e=setTimeout((()=>{d(!1)}),500);return()=>{e&&clearTimeout(e)}}),[g,s]);const p=(0,i.useCallback)((()=>{r&&(d(!0),(0,Se().lX)({store:e,environment:n,analyticsFrom:"offline_settings",operation:"addPage"}))}),[r,e,n]);return s?(0,S.jsx)(Le,{pageTitle:t}):(0,S.jsx)(we().Q,{disabled:!r,hoveredStyle:a.linkBoxHover,onClick:p,style:a.linkBox,children:(0,S.jsx)(y().dX,{mainIcon:(0,S.jsx)(Ce().I,{icon:Ie().exclamationMarkCircleArrowIcon,colorPalette:"red",colorVariant:"accentPrimary"}),subTitle:o.formatMessage(r?Re.failedOnlineSubTitle:Re.failedOfflineSubTitle),title:t,titleOpacity:.25})})}function Le({pageTitle:e}){const t=(0,h().tz)();return(0,S.jsx)(y().dX,{mainIcon:(0,S.jsx)(ke().k,{}),subTitle:t.formatMessage(Re.downloadingSubTitle),title:e})}function ze(){return(0,a().IS)((()=>({container:{width:"100%"},linkBox:{width:"100%"},linkBoxHover:{marginInlineStart:-Me,paddingInlineStart:Me,width:`calc(100% + ${Me}px)`}})),[])}const De=500,Ee=[Be,ve,Te];function Oe(){const[e,t]=(0,i.useState)(""),[n,o]=(0,i.useState)("all"),[l,s]=(0,i.useState)({column:ve,sortAscending:!1}),d=te((0,J().Q)({searchQuery:e,filterCategory:n}),l),c=(0,a().IS)((()=>({headings:{flexDirection:"column",marginBottom:12},tableActions:{display:"flex",alignItems:"center",marginBottom:12},search:{paddingInlineEnd:8,borderInlineEnd:`1px solid ${r().Tj.border.primary}`},label:{marginInlineStart:8,marginInlineEnd:8}})),[]);return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("div",{style:c.headings,children:(0,S.jsx)($e,{})}),(0,S.jsxs)("div",{style:c.tableActions,children:[(0,S.jsx)("div",{style:c.search,children:(0,S.jsx)(me,{searchQuery:e,setSearchQuery:t,disabled:0===d.length&&!Boolean(e)})}),(0,S.jsx)(Y().A,{isSecondaryColor:!0,style:c.label,children:(0,S.jsx)(h().sA,{id:"offlineSettingsTab.offlinePagesSection.filterPillPrefix",defaultMessage:"Viewing"})}),(0,S.jsx)(pe,{filterCategory:n,setFilterCategory:o})]}),(0,S.jsx)(Fe,{columnRenderInfo:Ee,rows:d,sortState:l,onSortStateChanged:s,searchQuery:e,maxHeight:De})]})}function Fe(e){const{columnRenderInfo:t,rows:n,sortState:o,onSortStateChanged:l,searchQuery:a,hideHeaderRow:r,maxHeight:s}=e,d=(0,i.useMemo)((()=>(0,Z().rC)({columnRenderInfo:t,containerMarginTop:0})),[t]);return(0,S.jsx)(Z().WE,{hideHeaderRow:r,hideHeaderRowPadding:!0,setStickyHeaderRow:!0,allowHorizontalScroll:!0,setStickyHeaderColumn:!1,maxHeight:s,columnRenderInfo:t,rows:n,styles:d,renderNoRowsComponent:()=>(0,S.jsx)(He,{isSearching:Boolean(a)}),sortState:o,onSortStateChanged:l})}function He(e){const{isSearching:t}=e,n=(0,a().IS)((()=>({label:{marginTop:15,marginBottom:40,textAlign:"center"}})),[]);return(0,S.jsx)(Y().A,{isSmall:!0,style:n.label,children:t?(0,S.jsx)(h().sA,{id:"offlineSettingsTab.offlinePagesSection.noPagesFound",defaultMessage:"No pages found"}):(0,S.jsx)(h().sA,{id:"offlineSettingsTab.offlinePagesSection.noPagesAvailable",defaultMessage:"No pages available"})})}function $e(){const e=(0,l().v3)(),{spaceName:t,spaceStore:n}=(0,c().K8)((()=>{const t=(0,d().S)();return t?{spaceName:(0,Q().G)(e,t),spaceStore:t}:{spaceName:void 0,spaceStore:void 0}}),[e]),i=t?(0,S.jsx)(h().sA,{id:"offlineSettingsTab.offlinePagesSection.subheadingWithSpaceName",defaultMessage:"<bold>{spaceName}</bold> pages available for offline use.",values:{bold:e=>(0,S.jsx)("strong",{children:e}),spaceName:t}}):(0,S.jsx)(h().sA,{id:"offlineSettingsTab.offlinePagesSection.subheading",defaultMessage:"Pages in this workspace that are available for offline use."});return(0,S.jsx)(F().A,{spaceStore:n,type:"custom",title:(0,S.jsx)(h().sA,{id:"offlineSettingsTab.offlinePagesSection.title",defaultMessage:"Offline pages"}),disableSettingsItemClick:!0,caption:i,shouldHighlight:!1,customButton:null})}var We=()=>n(406094),Ne=()=>n(187174),Ve=()=>n(44551);function Ke(){const e=(0,l().v3)(),{isElectron:t}=(0,l().Y0)(),n=!(0,c().O$)(u().e),[o,a]=(0,i.useState)(0),r=(0,E().L)(),[s,d]=(0,i.useState)(!1),g=(0,i.useCallback)((async()=>{let n;if(t)n=await async function(){var e;return null===Ve().electronApi||void 0===Ve().electronApi||null===(e=Ve().electronApi.getSqliteDiskUsage)||void 0===e?void 0:e.call(Ve().electronApi)}();else if(ne().A.isMobile){var i;n=await(null===(i=e.mobileNative)||void 0===i?void 0:i.getSqliteDiskUsage())}void 0!==n&&a(n)}),[e.mobileNative,t]),p=(0,i.useCallback)((async()=>{d(!0),await async function(e){try{var t,n;await(null===(t=e.defaultRecordCache.persistedRecordCache)||void 0===t?void 0:t.flushPendingWrites()),await(null===(n=e.defaultRecordCache.persistedRecordCache)||void 0===n?void 0:n.deleteAllRecordTables())}catch(i){}}(e),(0,W().u)({environment:e,event:{eventName:"offline_storage_cleared",eventProperties:{cache_size_in_mb_before_clear:o}}}),await g()}),[e,o,g]);return(0,Ne().Yb)((async()=>{await g()}),[g]),(0,S.jsx)(F().A,{spaceStore:r,type:"custom",title:(0,S.jsx)(h().sA,{id:"offlineSettingsTab.storageManagementSection.title",defaultMessage:"Notion cache"}),disableTitle:n,disableSettingsItemClick:!0,caption:(0,S.jsx)(h().sA,{id:"offlineSettingsTab.storageManagementSection.subheading",defaultMessage:"This will clear { amount } of cache across all of your Notion workspaces.",values:{amount:`${o} MB`}}),shouldHighlight:!1,customButton:(0,S.jsx)(We().A,{size:"lg",style:{marginTop:12,marginBottom:4},onClick:p,disabled:n||s,children:(0,S.jsx)(h().sA,{id:"offlineSettingsTab.storageManagementSection.cta",defaultMessage:"Clear cache"})})})}function Ue(){const e=(0,h().tz)(),t=(0,B().X)("offline_clear_cache");return(0,S.jsxs)(_().Ay,{children:[(0,S.jsx)(L().A,{large:!0,divider:"full",children:e.formatMessage(z.offlineSettingsTitle)}),(0,S.jsx)(P().A,{size:24,isHidden:!0}),t?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(Ke,{}),(0,S.jsx)(P().A,{size:80})]}):null,(0,S.jsx)(q,{}),(0,S.jsx)(P().A,{size:80}),(0,S.jsx)(Oe,{})]})}var Ge=()=>n(312788),qe=()=>n(110750),Qe=()=>n(283163),Ze=()=>n(344417),Ye=()=>n(427704),Je=()=>n(419357),Xe=()=>n(537296),et=()=>n(111043),tt=()=>n(305743),nt=()=>n(475553);function it(){const e=(0,l().v3)(),t=(0,nt().y)(),n=(0,i.useCallback)((e=>{(0,tt().a)(e)}),[]),o=(0,c().K8)((()=>(0,qe().Xz)(e.TabbedRouterStore.state)),[e]),a=(0,c().K8)((()=>{var e,t;return Boolean("web"===o.type&&("nativeTab"===o.route.name&&"offline"===o.route.tab||"nativeTab"===(null===(e=o.redirectedTo)||void 0===e?void 0:e.route.name)&&"offline"===(null===(t=o.redirectedTo)||void 0===t?void 0:t.route.tab)))}),[o]);return(0,i.useLayoutEffect)((()=>{if(a){var t;null===(t=e.mobileNative)||void 0===t||t.markTransitionReady({environment:e,type:"offline_settings"});const n=e.RouterStore.state.route,i="nativeTab"===n.name&&"offline"===n.tab?n.from:void 0;(0,W().u)({environment:e,event:{eventName:"mobile_settings_navigation",eventProperties:{target:"offline_settings",from:i}}})}}),[e,a]),t?(0,S.jsx)(ae().A,{menuType:le().gu.Modal,title:(0,S.jsx)(h().sA,{...z.offlinePagesSectionTitle}),left:(0,S.jsx)(Qe().h,{}),onClickLeft:()=>n(e),onCancel:()=>n(e),enableMobileRefresh:!0,disableScroller:!0,children:(0,S.jsx)(lt,{})}):null}function ot(e){const{searchQuery:t,setSearchQuery:n,setSearchOpen:i,disabled:o}=e,l=(0,h().tz)();return(0,S.jsx)(Je().Ay,{disabled:o,placeholder:l.formatMessage(z.offlinePagesSectionSearchPlaceholder),inputLeft:(0,S.jsx)(Ce().I,{icon:Ze().magnifyingGlassSmallIcon,size:"xs",colorVariant:"secondary"}),value:t,forceShowClearButton:!0,focusInitial:!0,onChange:e=>n(e.target.value),onClearButtonClick:()=>{t.length>0?n(""):i(!1)}})}function lt(){const e=(0,h().tz)(),[t,n]=(0,i.useState)(!1),[o,l]=(0,i.useState)(""),[s,d]=(0,i.useState)("all"),c=te((0,J().Q)({searchQuery:o,filterCategory:s}),{column:ve,sortAscending:!1}),u=0===c.length,g=(0,et().o)(),p=(0,B().X)("offline_clear_cache"),f=(0,a().IS)((()=>({container:{display:"flex",flexDirection:"column",height:"100%",paddingBottom:g},tableContainer:{flex:1,overflowY:"scroll"},tableContainerInner:{background:u?void 0:r().Tj.background.primary,paddingInlineStart:8,paddingInlineEnd:8,paddingTop:0},searchFilterContainer:{paddingInlineStart:16,paddingInlineEnd:16,marginTop:16,display:"flex",alignItems:"center",justifyContent:"space-between",height:45},searchButton:{height:40,width:40},searchButtonIcon:{width:20,height:20,fill:r().Tj.icon.secondary}})),[u,g]);return(0,S.jsxs)("div",{style:f.container,children:[(0,S.jsxs)("div",{style:{flex:0},children:[p?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(de().A,{mobileStyle:{borderRadius:0},children:(0,S.jsx)(Ke,{})}),(0,S.jsx)(P().A,{size:40,style:{paddingInlineStart:16,paddingInlineEnd:16,paddingTop:12}})]}):null,t?void 0:(0,S.jsxs)("div",{style:f.searchFilterContainer,children:[(0,S.jsx)(pe,{filterCategory:s,setFilterCategory:d}),(0,S.jsx)(he().A,{icon:xe().magnifyingGlassIcon,iconStyle:f.searchButtonIcon,style:f.searchButton,disabled:!1,onClick:()=>n(!t),ariaLabel:e.formatMessage(z.offlinePagesSectionSearchIconLabel)})]}),t?(0,S.jsx)(de().A,{children:(0,S.jsx)(ot,{searchQuery:o,setSearchQuery:l,setSearchOpen:n,disabled:!1})}):void 0]}),(0,S.jsx)("div",{style:f.tableContainer,children:(0,S.jsx)(de().A,{mobileStyle:f.tableContainerInner,children:(0,S.jsx)(Fe,{hideHeaderRow:!0,columnRenderInfo:[Be,Te],rows:c,sortState:void 0,onSortStateChanged:void 0,searchQuery:o})})})]})}function at(){const{navigate:e}=(0,i.useContext)(Ge().E),t=(0,l().v3)(),n=(0,i.useCallback)((()=>{e({environment:t,url:`${Ye().GJ.nativeTab}/offline?from=settings`})}),[t,e]),o=(0,E().L)();return(0,S.jsx)(F().A,{spaceStore:o,type:"custom",title:(0,S.jsx)(h().sA,{...z.offlinePagesSectionTitle}),disableSettingsItemClick:!0,caption:(0,S.jsx)(h().sA,{id:"mobileSettings.offline.description",defaultMessage:"Manage your workspace storage and offline pages."}),shouldHighlight:!1,customButton:(0,S.jsx)(We().A,{size:"lg",style:{marginTop:12,marginBottom:4},onClick:n,children:(0,S.jsx)(h().sA,{id:"mobileSettings.offline.cta",defaultMessage:"Manage"})})})}function rt(e){return(0,S.jsxs)("div",{children:[(0,S.jsx)(L().A,{large:!1,divider:"full",children:(0,S.jsx)(h().sA,{...z.offlineSettingsTitle})}),(0,S.jsx)(Xe().U,{items:[{key:"offline-autosync",renderSettingsItem:q},{key:"offline-pages",renderSettingsItem:at}]})]})}},860864:(e,t,n)=>{n.d(t,{BM:()=>v,EB:()=>b,dX:()=>S,tL:()=>j});n(898992),n(354520),n(581454),n(296540);var i=()=>n(135168),o=()=>n(590526),l=()=>n(401497),a=()=>n(675133),r=()=>n(732810),s=()=>n(723085),d=()=>n(350013),c=()=>n(371722),u=()=>n(302501),g=()=>n(992214),p=()=>n(416504),f=()=>n(69708),h=()=>n(562969),y=()=>n(187820),x=n(474848);const m=(0,f().YK)({privateTeamspace:{id:"baseTable.pageCell.privateTeamspace",defaultMessage:"Private teamspace"},untitledPath:{id:"baseTable.pageCell.untitledPath",defaultMessage:"Untitled"}});function b({store:e,parentSpaceStore:t,rightIcon:n,inlineTitleContent:l,useThinTitle:a,skipUntitledStyling:r}){const s=(0,f().tz)(),d=(0,o().K8)((()=>t||(0,i().f)(e)),[t,e]),c=(0,o().K8)((()=>{var t;return null==e||null===(t=e.getModel())||void 0===t?void 0:t.getRenderIcon({getRecordModel:e.getRecordModel})}),[e]),{displayTitle:u,pageTitle:g}=(0,o().K8)((()=>j({store:e,intl:s})),[e,s]),p=(0,o().K8)((()=>(0,y().Te)(e)),[e]),h=(0,o().K8)((()=>v({blockStore:e,spaceStore:d,intl:s})),[e,d,s]);return(0,x.jsx)(S,{inlineTitleContent:l,mainIcon:(0,x.jsx)(y().B6,{icon:c,iconRecordCategory:p,size:20,isEmptyPage:!1,disabled:!0}),rightIcon:n,subTitle:h,title:u,titleOpacity:g||r?void 0:.25,useThinTitle:a})}function S({inlineTitleContent:e,mainIcon:t,rightIcon:n,subTitle:i,title:o,titleOpacity:a,useThinTitle:r}){const s=(0,l().IS)((()=>({container:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",padding:"8px 0",width:"100%",position:"relative",overflow:"hidden"},summaryContainer:{flex:1,overflow:"hidden"},iconContainer:{height:20,width:20,flexGrow:0,flexShrink:0,flexBasis:20,marginInlineEnd:12,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:6},byline:{lineHeight:1.3,fontSize:12,opacity:.5},titleContainer:{alignItems:"center",flexDirection:"row",display:"flex"},title:{fontSize:14,fontWeight:r?400:500,...void 0!==a?{opacity:a}:{}}})),[a,r]);return(0,x.jsxs)("div",{style:s.container,children:[(0,x.jsx)("div",{style:s.iconContainer,children:t}),(0,x.jsxs)("div",{style:s.summaryContainer,children:[(0,x.jsxs)("div",{style:s.titleContainer,children:[(0,x.jsx)(u().A,{showTooltipWhenTruncated:!0,style:s.title,children:o}),e]}),(0,x.jsx)(u().A,{showTooltipWhenTruncated:!0,style:s.byline,children:i})]}),n]})}function v(e){const{intl:t,blockStore:n,spaceStore:i}=e;const o=n?(0,c().f)(n,{includeTeamHomeFeed:!1,includeDataSources:!0}).filter((e=>e.id!==n.id)).map((e=>{if(e instanceof s().h)return e.getName()||t.formatMessage(m.privateTeamspace);if(e instanceof d().N)return;const n=e.getModel();return(null==n?void 0:n.getRenderTitleWithPlaceholder({getRecordModel:e.getRecordModel,userTimeZone:(0,p().P)(),intl:a().A.getIntl()}))||t.formatMessage(m.untitledPath)})).filter((e=>void 0!==e)).reverse():[];return o.length>0?o.join("/"):null==i?void 0:i.getName()}function j({store:e,intl:t}){if(e instanceof r().m)return{pageTitle:e.getRenderTitle({intl:t,userTimeZone:(0,p().P)()}),displayTitle:(0,h().getCollectionNameOrDefault)({intl:t,collectionStore:e})};if(null==e||!e.canRead())return{pageTitle:void 0,displayTitle:(0,g().mA)(t)};const n=null==e?void 0:e.getModel();if(!n||!e)return{pageTitle:void 0,displayTitle:void 0};const i=e.getRecordModel,o=(0,p().P)(),l=n.getRenderTitle({getRecordModel:i,userTimeZone:o,intl:t}),a=n.getEmptyTitlePlaceholder({getRecordModel:i,userTimeZone:o,intl:t});return{pageTitle:l,displayTitle:l||a}}},862661:(e,t,n)=>{n.r(t),n.d(t,{exclamationMarkCircleArrowIcon:()=>l,iconDefinition:()=>o});n(296540);var i=n(474848);const o={viewBox:"0 0 20 20",fittedViewBox:"0.35 2.37 17.28 15.26",svg:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("path",{d:"M2.557 13.1a.625.625 0 0 0 .884.003l2.03-2.02a.625.625 0 1 0-.882-.886l-.964.96V10a6.375 6.375 0 1 1 1.925 4.565.625.625 0 1 0-.872.895A7.625 7.625 0 1 0 2.375 10v1.146l-.952-.957a.625.625 0 1 0-.886.882z"}),(0,i.jsx)("path",{d:"M9.875 6.25c.345 0 .625.28.625.625v3.5a.625.625 0 0 1-1.25 0v-3.5c0-.345.28-.625.625-.625m0 7.375a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5"})]})},l=(0,n(340498).wt)("exclamationMarkCircleArrow",o,"default")},922742:(e,t,n)=>{n.d(t,{T:()=>a});var i=()=>n(430476),o=()=>n(68336),l=()=>n(496603);async function a(e){const{connection:t,userId:n,taskType:a}=e,[{data:r}]=await(0,i().G2)({connection:t,statements:[o().F4`SELECT last_executed_at FROM offline_download_metadata WHERE ${o().F4.and([o().F4`meta_user_id = ${n}`,o().F4`task_type = ${a}`])} LIMIT 1`.asRead()],queryName:"getOfflineMetadataLastExecutedAt"});return l().Jt(r,"[0][last_executed_at]")}},940148:(e,t,n)=>{n.d(t,{Gr:()=>k,WE:()=>M,rC:()=>A});n(898992),n(581454),n(908872);var i=n(296540),o=()=>n(402014),l=()=>n(383036),a=()=>n(401497),r=()=>n(20508),s=()=>n(158115),d=()=>n(886358),c=()=>n(403733),u=()=>n(525884),g=()=>n(69708),p=()=>n(100622),f=()=>n(534177),h=()=>n(284371),y=()=>n(696060),x=()=>n(718827),m=()=>n(420802),b=()=>n(807449),S=()=>n(631524),v=()=>n(493552),j=()=>n(26697),T=n(474848);const w=14,C=16,k=w+C,I=24;function A({columnRenderInfo:e,containerMarginTop:t}){return{container:{marginTop:t??17,tableLayout:"fixed",borderCollapse:"collapse",width:"100%",minWidth:e.reduce(((e,t)=>e+z(t.widthData)+I),0)},tableHeaderRow:{},paddingRowCell:{height:8}}}function M({columnRenderInfo:e,sortState:t,onSortStateChanged:n,showRowBorders:o,hideHeaderRow:l,hideHeaderRowPadding:r,renderRowChild:s,rows:d,onRowClick:c,renderNoRowsComponent:u,styles:g,getStyleForRow:p,extendToFullScreen:f,multiselect:h,allowHorizontalScroll:x,setStickyHeaderColumn:m,maxHeight:b,setStickyHeaderRow:S,loadMoreMethod:v,maxRowHeight:j}){const w=x?m??!0:void 0,C=(0,a().IS)((()=>({horizontalScrollContainer:{position:"relative",width:null!=f&&f.extendTableToFullWidthOffsetPx?`calc(100% + ${null==f?void 0:f.extendTableToFullWidthOffsetPx}px)`:"100%",display:"grid",overflow:"auto"},scrollableContainer:{maxHeight:b,position:"relative",display:"grid",overflowX:"auto",width:"100%"},table:w?{...g.container,minWidth:"100%",width:void 0}:g.container})),[g.container,w,b,null==f?void 0:f.extendTableToFullWidthOffsetPx]),k=(0,a().IS)((()=>({thead:{position:"sticky",zIndex:1}})),[]),I=(0,i.useCallback)((e=>{var i;const o=e.id===(null==t||null===(i=t.column)||void 0===i?void 0:i.id)&&!(null!=t&&t.sortAscending);n&&n({sortAscending:o,column:e})}),[t,n]),A=(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)("table",{style:C.table,children:[l?void 0:(0,T.jsx)("thead",{style:S?k.thead:void 0,children:(0,T.jsxs)("tr",{children:[e.map(((e,n)=>(0,T.jsx)(R,{index:n,column:e,sortState:t,handleSortableColumnClick:I,shouldShowSortIcon:0!==d.length,multiselect:h,setStickyHeaderColumn:w,setStickyHeaderRow:S,style:e.headerStyle},`header_${e.id}`))),null!=f&&f.rightPaddingPx?(0,T.jsx)(H,{width:null==f?void 0:f.rightPaddingPx,style:e[e.length-1].rowStyle}):null]})}),r?void 0:(0,T.jsx)("tbody",{children:(0,T.jsxs)("tr",{children:[e.map((e=>(0,T.jsx)("td",{style:g.paddingRowCell},`padding_row_${e.id}`))),null!=f&&f.rightPaddingPx?(0,T.jsx)("td",{style:g.paddingRowCell}):null]})}),(0,T.jsx)("tbody",{children:d.map((t=>(0,T.jsx)(B,{columns:e,onRowClick:c,rowChild:null==s?void 0:s(t),showRowBorders:o,row:t,getStyleForRow:p,multiselect:h,setStickyHeaderColumn:w,rightPaddingPx:null==f?void 0:f.rightPaddingPx,maxRowHeight:j},`${t.id}_row`)))}),d.length>0&&v&&(!x||"scroll"!==(null==v?void 0:v.type))?(0,T.jsx)("tfoot",{children:(0,T.jsx)(F,{columnLength:e.length,loadMoreMethod:v,showRowBorders:o,rightPaddingPx:null==f?void 0:f.rightPaddingPx,style:e[e.length-1].rowStyle})}):null]}),0===d.length?u():void 0]});return x?(0,T.jsxs)("div",{style:C.horizontalScrollContainer,children:[(0,T.jsxs)("div",{style:C.scrollableContainer,children:[A,b&&"scroll"===(null==v?void 0:v.type)?(0,T.jsx)(y().A,{loading:!1,loadMoreOffsetThreshold:100,onLoadMore:v.onLoadMore}):void 0]}),b||"scroll"!==(null==v?void 0:v.type)?void 0:(0,T.jsx)(y().A,{loading:!1,loadMoreOffsetThreshold:100,onLoadMore:v.onLoadMore})]}):(0,T.jsx)("div",{style:{maxHeight:b,overflowY:S&&b?"auto":void 0,overflowX:S&&b?"hidden":void 0},children:A})}function R({column:e,index:t,sortState:n,handleSortableColumnClick:o,shouldShowSortIcon:r,multiselect:s,setStickyHeaderColumn:d,setStickyHeaderRow:f,style:y}){const[x,v]=(0,i.useState)(!1),k=0===t,I=e.id===(null==n?void 0:n.column.id),A=(0,a().IS)((()=>({th:{boxShadow:`\n\t\t\t\t\tinset 0 1px 0 ${p().Tj.border.primary},\n\t\t\t\t\tinset 0 -1px 0 ${p().Tj.border.primary}\n\t\t\t\t`,...f&&{position:"sticky",top:0,zIndex:3,background:p().Tj.background.elevated},...D(e),...d&&k&&{position:"sticky",zIndex:4,insetInlineStart:0,background:p().Tj.background.elevated,boxShadow:`\n\t\t\t\t\t\t\tinset calc(var(--direction, 1) * -1px) 0px 0px ${p().Tj.border.primary},\n\t\t\t\t\t\t\tinset 0 1px 0 ${p().Tj.border.primary},\n\t\t\t\t\t\t\tinset 0 -1px 0 ${p().Tj.border.primary}\n\t\t\t\t\t\t`},height:32,...y},innerDiv:{display:"flex",alignItems:"center",height:"100%",minWidth:z(e.widthData),maxWidth:e.widthData.maxWidth},text:{fontSize:h().J.UISmall.desktop,fontWeight:h().Wy.regular,color:p().Tj.text.secondary,...h().RC},sortButton:{padding:5,margin:-5},sortIcon:{color:p().Tj.text.secondary,fill:"currentColor"},multiselectCheckbox:{color:p().Tj.selectLightGray[300],marginInlineEnd:C,opacity:null!=s&&s.header.isDisabled?.5:1},tooltipContainer:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start"},tooltipIcon:{marginInlineStart:4,color:x?p().Tj.icon.secondary:p().Tj.icon.tertiary},tooltip:{width:380}})),[e,s,d,f,y,k,x]),M=()=>{if(n&&r&&I)return{icon:c().arrowStraightDownSmallIcon,size:"xxs",style:{...A.sortIcon,...n.sortAscending&&{transform:"rotate(180deg)"}}}},R={onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1)},B=e.headerInfoTooltip?(0,T.jsxs)("div",{style:A.tooltipContainer,children:[(0,T.jsx)("div",{style:A.text,children:e.headerTitle}),(0,T.jsx)(j().m,{textWrap:!0,style:A.tooltip,delayThreshold:0,render:e=>(0,T.jsx)("div",{...(0,l().A)(e,R),children:(0,T.jsx)(b().I,{icon:u().infoCircleIcon,size:"sm",style:A.tooltipIcon})}),renderTooltip:()=>e.headerInfoTooltip})]}):(0,T.jsx)("div",{style:A.text,children:e.headerTitle}),P=e.sortable?(0,T.jsx)(j().m,{placement:"bottom",disableTooltip:!e.shouldShowSortTooltip,renderTooltip:()=>I?(0,T.jsx)(g().sA,{id:"baseTable.hoverSortedHeaderCell",defaultMessage:"Reverse sort order"}):(0,T.jsx)(g().sA,{id:"baseTable.hoverSortableHeaderCell",defaultMessage:"Sort by this column"}),render:t=>(0,T.jsx)(S().p,{size:"xs",style:A.sortButton,iconTrailing:M(),onClick:()=>o(e),...t,children:B})}):B,_=void 0!==s&&0===t?(0,T.jsx)(m().S,{style:A.multiselectCheckbox,disabled:s.header.isDisabled,onClick:()=>s.header.onClick(),checked:s.header.isSelected,size:w,tapArea:{size:30}}):null;return(0,T.jsx)("th",{style:A.th,children:(0,T.jsxs)("div",{style:A.innerDiv,children:[_,P]})})}function B({row:e,columns:t,onRowClick:n,rowChild:o,showRowBorders:l,getStyleForRow:r,setStickyHeaderColumn:s,multiselect:d,rightPaddingPx:c,maxRowHeight:u}){const[g,f]=(0,i.useState)(!1),h=e.isClickable,y=(0,i.useCallback)((()=>f(!0)),[]),x=(0,i.useCallback)((()=>f(!1)),[]),m=(0,i.useCallback)((t=>{h&&void 0!==n&&_(t,(()=>n(e)))}),[h,n,e]),b=(0,a().IS)((()=>({row:{height:1,...h&&{cursor:"pointer"},...l&&{borderBottom:`1px solid ${p().Tj.border.primary}`},...r&&r(e)}})),[h,l,r,e]);return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)("tr",{onMouseLeave:x,onMouseEnter:y,style:b.row,onClick:m,children:[t.map(((n,i)=>(0,T.jsx)(P,{isRowHovered:g,isRowClickable:h,columnIndex:i,numColumns:t.length,data:e,column:n,multiselect:d,setStickyHeaderColumn:s,cellStyle:n.rowStyle,maxRowHeight:u},`cell_${e.id}_${n.id}`))),c?(0,T.jsx)($,{style:t[t.length-1].rowStyle}):null]}),o?(0,T.jsx)("tr",{style:b.row,children:(0,T.jsx)("td",{colSpan:t.length,children:o})}):void 0]})}function P({data:e,column:t,columnIndex:n,numColumns:i,isRowHovered:o,isRowClickable:l,multiselect:r,setStickyHeaderColumn:s,cellStyle:d,maxRowHeight:c}){const u=0===n,g=n===i-1,f=(0,a().eP)(),y=(0,a().IS)((()=>({td:{...D(t),height:"inherit",...u&&{borderStartStartRadius:4,borderEndStartRadius:4},...g&&{borderStartEndRadius:4,borderEndEndRadius:4},...s&&u&&{position:"sticky",zIndex:2,insetInlineStart:0,background:p().Tj.background.elevated,boxShadow:`inset calc(var(--direction, 1) * -1px) 0px 0px ${p().Tj.border.primary}`},...d,...o&&l&&{background:"light"===f?"#f8f8f7":p().Tj.palette.gray[30]}},innerDiv:{minWidth:z(t.widthData),maxWidth:t.widthData.maxWidth,fontSize:h().J.UIRegular.desktop,color:p().Tj.text.primary,minHeight:42,maxHeight:c||52,display:"flex",alignItems:"center",height:"100%"},multiselectCheckbox:{color:p().Tj.selectLightGray[300],marginInlineEnd:16,opacity:null!=r&&r.row.getDisabledState(e)?.5:1}})),[t,u,g,o,l,r,e,s,d,c,f]),x=Boolean(t.hasClickableContents)||!!t.computeClickableContents&&t.computeClickableContents(e),b=r&&u?(0,T.jsx)(m().S,{style:y.multiselectCheckbox,checked:r.row.getSelectedState(e),onClick:t=>{t.stopPropagation(),r.row.onClick(e)},disabled:r.row.getDisabledState(e),size:14,tapArea:{size:30}}):null;return(0,T.jsx)("td",{style:y.td,children:(0,T.jsxs)("div",{style:y.innerDiv,onClick:x?_:void 0,children:[b,t.renderCell({...e,isRowHovered:o})]})})}function _(e,t){(0,o().SQ)(e,o().y$.Click,t)}const L={paddingInlineStart:I/2,paddingInlineEnd:I/2};function z(e){return"minWidth"in e?e.minWidth:e.width}function D(e){let t;return t="width"in e.widthData?{width:e.widthData.width}:{width:`${e.widthData.widthPercent}%`,minWidth:e.widthData.minWidth},{...L,...t}}function E({columnLength:e,onLoadMore:t,showRowBorders:n,hasNextPage:i}){const o=(0,a().IS)((()=>({row:{...n&&{borderBottom:`1px solid ${p().Tj.border.primary}`}},container:{display:"flex",justifyContent:"flex-start",alignItems:"center",gap:4},sticky:{position:"sticky",insetInlineStart:0,display:"flex",justifyContent:"flex-start",alignItems:"center",gap:4},button:{display:"flex",alignItems:"center",height:30,borderRadius:n?0:6,whiteSpace:"break-spaces",fontSize:14,paddingInlineEnd:8},icon:{marginInlineStart:4,marginInlineEnd:6},text:{color:p().Tj.text.tertiary}})),[n]);return!1===i?null:(0,T.jsx)("tr",{style:o.row,children:(0,T.jsx)("td",{colSpan:e,children:(0,T.jsx)("div",{style:o.container,children:(0,T.jsx)("div",{style:o.sticky,children:(0,T.jsxs)(x().Ay,{style:o.button,onClick:t,children:[(0,T.jsx)(b().I,{icon:d().arrowStraightDownFillSmallIcon,size:"sm",colorVariant:"tertiary",style:o.icon}),(0,T.jsx)("div",{style:o.text,children:(0,T.jsx)(g().sA,{id:"baseTable.loadMoreButton",defaultMessage:"Load more"})})]})})})})})}function O({columnLength:e,onLoadNext:t,onLoadPrevious:n,currentPage:i,finalPage:o,hasNextPage:l,hasPrevPage:d,showRowBorders:c,rightPaddingPx:u,style:f}){const h=(0,a().IS)((()=>({row:{...c&&{borderBottom:`1px solid ${p().Tj.border.primary}`}},container:{display:"flex",justifyContent:"flex-start",alignItems:"center",gap:4},sticky:{position:"sticky",insetInlineStart:0,display:"flex",justifyContent:"flex-start",alignItems:"center",gap:4},button:{display:"flex",justifyContent:"center",alignItems:"center",height:30,width:30,borderRadius:c?0:6,whiteSpace:"break-spaces",fontSize:14,paddingInlineStart:4,paddingInlineEnd:6}})),[c]);return(0,T.jsxs)("tr",{style:h.row,children:[(0,T.jsx)("td",{colSpan:Boolean(u)?e:e-1,children:(0,T.jsx)("div",{style:h.container,children:(0,T.jsxs)("div",{style:h.sticky,children:[(0,T.jsx)(x().Ay,{ariaLabel:d?"Previous page":"No previous pages",style:h.button,onClick:n,disabled:!d,disabledFeedback:!d,children:(0,T.jsx)(b().I,{icon:r().v,size:"sm",colorVariant:"secondary"})}),(0,T.jsx)(x().Ay,{ariaLabel:l?"Next page":"No more pages",style:h.button,onClick:t,disabled:!l,disabledFeedback:!l,children:(0,T.jsx)(b().I,{icon:s().arrowChevronSingleRightFillSmallIcon,size:"sm",colorVariant:"secondary"})}),(0,T.jsx)(v().D,{styleKey:"captionMedium",colorVariant:"secondary",children:o?(0,T.jsx)(g().sA,{id:"baseTable.pages.currentPageWithFinalPageCount",defaultMessage:"Page {currentPage} of {finalPage}",values:{currentPage:i,finalPage:o}}):(0,T.jsx)(g().sA,{id:"baseTable.pages.currentPage",defaultMessage:"Page {currentPage}",values:{currentPage:i}})})]})})}),u?(0,T.jsx)($,{style:f}):null]})}function F({columnLength:e,loadMoreMethod:t,showRowBorders:n,rightPaddingPx:i,style:o}){switch(t.type){case"scroll":return(0,T.jsx)(y().A,{loading:!1,loadMoreOffsetThreshold:100,onLoadMore:t.onLoadMore});case"button":return(0,T.jsx)(E,{columnLength:e,onLoadMore:t.onLoadMore,showRowBorders:n,hasNextPage:t.hasNextPage});case"pages":return(0,T.jsx)(O,{columnLength:e,showRowBorders:n,onLoadNext:t.onLoadNext,onLoadPrevious:t.onLoadPrevious,currentPage:t.currentPage,finalPage:t.finalPage,hasNextPage:t.hasNextPage,hasPrevPage:t.hasPrevPage,rightPaddingPx:i,style:o});default:return(0,f().HB)(t)}}function H(e){const t=(0,a().IS)((()=>({container:{position:"relative"},extender:{width:e.width,height:1},inner:{background:p().Tj.background.elevated,position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:0,bottom:-1,...e.style}})),[e.width,e.style]);return(0,T.jsxs)("th",{style:t.container,children:[(0,T.jsx)("div",{style:t.extender}),(0,T.jsx)("div",{style:t.inner})]})}function $(e){const t=(0,a().IS)((()=>({container:{position:"relative"},inner:{background:p().Tj.background.elevated,position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:0,bottom:-1,...e.style}})),[e.style]);return(0,T.jsx)("td",{style:t.container,children:(0,T.jsx)("div",{style:t.inner})})}}}]);