"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[2569],{458267:(e,t,n)=>{n.d(t,{A:()=>a});class o extends(()=>n(757695))().Store{getInitialState(){return{open:!1}}}const i=new o;(0,n(852832).exposeDebugValue)("AutomationModalStore",i);const a=i},902855:(e,t,n)=>{n.r(t),n.d(t,{AutomationModal:()=>k});var o=n(296540),i=()=>n(564884),a=()=>n(717137),r=()=>n(484714),l=()=>n(590526),c=()=>n(401497),s=()=>n(107975),d=()=>n(302655),u=()=>n(631524),p=()=>n(160432),m=()=>n(69708),f=()=>n(806080),x=()=>n(284371),g=()=>n(187820),b=()=>n(729368),h=()=>n(366437),y=()=>n(483795),A=()=>n(458267),S=n(474848);const v=(0,m().YK)({confirmationDialogAriaLabel:{defaultMessage:"Confirmation",id:"automations.ConfirmationDialog.ariaLabel"}}),j=Object.freeze({property:!0});function k(){const e=(0,l().O$)(A().A),t=(0,r().v3)(),n=(0,r().Y0)(),a=(0,l().K8)((()=>n.isPhone),[n]),u=(0,c().IS)((()=>({innerStyle:{padding:24,width:a?"calc(100% - 20px)":320}})),[a]),p=(0,o.useCallback)((e=>{A().A.setState({open:!1,result:e});const n=A().A.state;(0,i().u)({environment:t,event:{eventName:"click_automation_modal_option",eventProperties:{automation_id:n.open&&n.recordStore instanceof d().d?n.recordStore.id:void 0,option:e}}})}),[t]),m=(0,o.useCallback)((()=>p("cancel")),[p]),f=function(){const e=(0,l().O$)(A().A),[t,n]=(0,o.useReducer)(((e,t)=>e+1),1),i=(0,o.useRef)(void 0);return(0,o.useEffect)((()=>{e.open&&e.format!==i.current&&(n(void 0),i.current=e.format)}),[e,i]),t}();return(0,S.jsx)(s().a,{open:e.open,keepFocus:!0,innerStyle:u.innerStyle,transitionAppearance:"none",onDismiss:m,render:()=>e.open&&(0,S.jsx)(w,{id:`${f}`,modalState:e,onDismiss:p},`${f}`)})}function w(e){const{id:t,modalState:n,onDismiss:i}=e,{icon:r}=n.format,l=(0,m().tz)(),s=(0,o.useRef)(null);(0,o.useEffect)((()=>{null!==s.current&&s.current.focus()}),[]);const d=(0,c().IS)((()=>({wrap:{display:"flex",flexDirection:"column"},buttonWrap:{display:"flex",flexDirection:"column",gap:10,marginTop:10},textWrap:{whiteSpace:"pre-wrap",wordBreak:"break-word",textAlign:"center",fontWeight:x().Wy.medium,marginTop:10,marginBottom:10,display:"flex",flexDirection:"column",alignItems:"center"},icon:{marginBottom:10},cancelButton:{justifyContent:"center"}})),[]),{store:A}=(0,y().AI)({initialValue:n.format.text,onChange:()=>{}}),k=[(0,S.jsx)(p().A,{colorPalette:"blue",size:"lg",onClick:()=>i("continue"),ref:s,children:n.format.continueButtonText},"continue"),(0,S.jsx)(u().p,{size:"lg",onClick:()=>i("cancel"),colorVariant:"tertiary",style:d.cancelButton,children:n.format.cancelButtonText},"cancel")],w=`automation-modal-dialog-${t}`;return(0,S.jsx)(a().A,{debugName:"AutomationModal",capture:!0,allowEsc:!0,children:(0,S.jsxs)("div",{"aria-modal":"true","aria-label":l.formatMessage(v.confirmationDialogAriaLabel),"aria-describedby":w,role:"dialog",style:d.wrap,children:[(0,S.jsxs)("div",{style:d.textWrap,children:[r?(0,S.jsx)("div",{style:d.icon,children:(0,S.jsx)(g().B6,{size:50,icon:{icon:r,pointer:n.recordStore.pointer},disabled:!0,isEmptyPage:!1,bucket:"public",onChange:f().lQ})}):void 0,(0,S.jsx)("div",{id:w,children:(0,S.jsx)(b().A,{disabled:!0,disableRichTextActions:!0,disableFormattingAnnotations:!0,inPageFind:h().Os.none,store:A,parentStore:n.recordStore,disabledMentionTypes:j})})]}),(0,S.jsx)("div",{style:d.buttonWrap,children:k})]})})}}}]);