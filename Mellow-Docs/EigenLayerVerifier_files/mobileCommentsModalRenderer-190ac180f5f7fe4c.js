"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[18331],{12956:(e,t,u)=>{u.d(t,{u:()=>v});u(296540);var n=()=>u(383036),D=()=>u(26697),o=()=>u(81068),i=()=>u(575143),r=()=>u(662971),s=()=>u(484714),a=()=>u(590526),c=()=>u(283163),l=()=>u(245720),d=()=>u(546926),F=()=>u(890492),C=()=>u(69708),m=()=>u(636714),p=u(474848);function E(e){const{context:t,extensionMenuParent:u,actionMenuListParent:n,popupEvents:D,displayName:o,width:i,initialFocus:r,subActions:E}=e,{isPhone:g}=(0,s().Y0)(),v=(0,d().Tf)();let f;f=g?v?{menuType:d().gu.Modal,onClickLeft:u.close,left:(0,p.jsx)(c().h,{}),enableMobileRefresh:v,paddingTop:10,title:(0,p.jsx)(C().sA,{...o}),...D}:{menuType:d().gu.Modal,right:(0,p.jsx)(C().sA,{...l().W.done}),onClickRight:u.close,...D}:{menuType:d().gu.Popup,width:i??220,...D};const h=(0,a().K8)((()=>E(t)),[t,E]);return(0,p.jsx)(F().A,{...f,children:(0,p.jsx)(m().A,{initialFocus:r??0,context:t,sections:h,onAccept:n.onAccept})})}var g=()=>u(267271);function v(e){const{key:t,displayName:u,displayNameInterpolatedValues:s,subTitle:a,analyticsName:c,validators:l,subActions:d,collapseSubActionsIntoParent:F,hideSubActions:C,svg:m,icon:v,right:f,rightStyle:h,renderTooltip:y,disableTooltip:A,tooltipPlacement:B,width:S,initialFocus:x,clientSkill:b,fuzzySearchKeywordsArray:k,disabled:w,bottomSheetInitialState:_}=e,I=(0,g().Ls)({clientSkill:b,key:`extension ${t}`,displayName:u,displayNameInterpolatedValues:s,analyticsName:c,validators:l,subActions:d,collapseSubActionsIntoParent:F,hideSubActions:C,fuzzySearchKeywordsArray:k,closeParentMenu:!0,disabled:w,action:()=>{},render:(t,s,c)=>(0,p.jsx)(D().m,{render:D=>{var l;const F=null===(l=e.disabled)||void 0===l?void 0:l.call(e,s);return(0,p.jsx)(r().A,{...t,disabled:F,disabledFeedback:F,renderOrigin:(e,t)=>{const u={...(0,n().A)(e,D),title:a?(0,p.jsx)(g().fh,{subTitle:a(s),children:I.displayName}):I.displayName,right:f,rightStyle:h};return m?(0,p.jsx)(i().A,{...u,svg:m,ref:t}):(0,p.jsx)(o().A,{...u,icon:v,ref:t})},onFocus:c.onFocus,renderExtension:(e,t)=>(0,p.jsx)(E,{context:s,extensionMenuParent:t,actionMenuListParent:c,popupEvents:e,displayName:u,width:S,initialFocus:x,subActions:d}),bottomSheetInitialState:_})},renderTooltip:()=>(0,p.jsx)("div",{style:g().FG,children:null==y?void 0:y({context:s,title:I.displayName})}),disableTooltip:!y||(null==A?void 0:A(s)),placement:B})});return I}},37142:(e,t,u)=>{u.d(t,{x:()=>D});u(296540);const n={viewBox:"0 0 16 16",fittedViewBox:"3.09 2.55 9.81 10.89",svg:(0,u(474848).jsx)("path",{d:"M11.762 3.338a2.657 2.657 0 0 0-3.758 0L4.172 7.17a3.673 3.673 0 0 0 5.195 5.195l3.353-3.353a.625.625 0 0 0-.884-.884L8.484 11.48a2.423 2.423 0 1 1-3.427-3.427l3.832-3.832a1.407 1.407 0 0 1 1.99 1.99l-3.832 3.832a.391.391 0 0 1-.553-.553L8.41 7.575a.625.625 0 1 0-.884-.884L5.61 8.607a1.641 1.641 0 1 0 2.321 2.32l3.832-3.831a2.657 2.657 0 0 0 0-3.758"})},D=(0,u(340498).wt)("paperClipSmall",n,"small")},43371:e=>{e.exports=function(){return/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC68(?:\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|[\u2695\u2696\u2708]\uFE0F|\uD83D[\uDC66\uDC67]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708])\uFE0F|\uD83C[\uDFFB-\uDFFF])|\uD83E\uDDD1(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB-\uDFFE])|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83D\uDC69\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFC-\uDFFF])|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83C\uDFF3\uFE0F\u200D\u26A7|\uD83E\uDDD1(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDC3B\u200D\u2744|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F\u200D[\u2640\u2642]|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642])|\uD83C\uDFF4\u200D\u2620|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E-\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3C-\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDF])\u200D[\u2640\u2642])\uFE0F|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC08\u200D\u2B1B|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|[#\*0-9]\uFE0F\u20E3|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDD77\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g}},51367:(e,t,u)=>{u.d(t,{Cu:()=>d,DL:()=>i,Jb:()=>a,Sq:()=>s,Y5:()=>r,gc:()=>l,wo:()=>c});var n=()=>u(564884),D=()=>u(917629),o=()=>u(866727);function i(e,t){const u=(0,D().h2)(t.callout_key);u&&(t.placement_key=(0,D().t9)(u)),(0,n().u)({environment:e,event:{eventName:"callout_show",eventProperties:{...t,callout_src:u?"static":"cio"}}})}function r(e,t){const u=(0,D().h2)(t.callout_key);u&&(t.placement_key=(0,D().t9)(u)),(0,n().u)({environment:e,event:{eventName:"callout_click",eventProperties:{...t,callout_src:u?"static":"cio"}}}),t.callout_key&&o().l.trackEvent("callout_click",{callout_key:t.callout_key,click_type:t.click_type,placement_key:t.placement_key})}function s(e,t){const u=(0,D().h2)(t.callout_key);u&&(t.placement_key=(0,D().t9)(u)),(0,n().u)({environment:e,event:{eventName:"callout_dismiss",eventProperties:{...t,callout_src:u?"static":"cio"}}})}function a(e,t){const u=(0,D().h2)(t.callout_key);u&&(t.placement_key=(0,D().t9)(u)),(0,n().u)({environment:e,event:{eventName:"callout_engagement",eventProperties:{...t,callout_src:u?"static":"cio"}}})}function c(e,t){const{eligible_callouts:u,required_arg_timeout:D,required_args_run_duration:o,eligibility_timeouts:i,blocklist:r}=t;(0,n().u)({environment:e,event:{eventName:"callout_coordinator_resolved",eventProperties:{eligible_callouts:u,required_arg_timeout:D,required_args_run_duration:o,eligibility_timeouts:i,blocklist:r}}})}function l(e,t){(0,n().u)({environment:e,event:{eventName:"callout_feature_interaction",eventProperties:t}})}function d(e,t){(0,n().u)({environment:e,event:{eventName:"callout_skipped",eventProperties:t}})}},77126:(e,t,u)=>{u.d(t,{j:()=>D});class n extends(()=>u(959180))().A{}const D=new n},79075:(e,t,u)=>{u.d(t,{A:()=>i});var n=u(296540),D=()=>u(738471),o=u(474848);function i(e){const{url:t,imageNaturalHeight:u,imageNaturalWidth:i}=e,s=(0,n.useMemo)((()=>({display:"block",width:`min(${i}px, 100%)`,height:`min(${u}px, 100%)`,pointerEvents:"auto",objectFit:"cover"})),[i,u]);return(0,o.jsx)("div",{style:r,children:(0,o.jsx)(D().A,{src:t,style:s,placeholderLoadedStyle:{display:"flex",justifyContent:"center",alignItems:"center"}})})}const r={alignSelf:"center",margin:"0 auto",position:"relative",height:"100%",width:"100%",overflow:"hidden"}},104077:(e,t,u)=>{u.d(t,{r:()=>D});u(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"2.79 2.35 14.41 15.68",svg:(0,u(474848).jsx)("path",{d:"M10 2.355a2.35 2.35 0 0 0-2.253 1.686 5.06 5.06 0 0 0-2.803 4.527v1.189c0 .919-.334 1.806-.939 2.498l-.818.935c-.881 1.007-.166 2.583 1.173 2.583h3.02a2.65 2.65 0 0 0 5.24 0h3.02c1.339 0 2.054-1.576 1.173-2.583l-.818-.935a3.8 3.8 0 0 1-.939-2.498v-1.19a5.06 5.06 0 0 0-2.803-4.526A2.35 2.35 0 0 0 10 2.355m1.5 13.418a1.55 1.55 0 0 1-2.998 0zM8.909 4.564A1.104 1.104 0 0 1 10 3.605c.556 0 1.017.415 1.091.96l.049.353.329.138a3.81 3.81 0 0 1 2.337 3.512v1.189c0 1.221.444 2.401 1.248 3.32l.818.936a.307.307 0 0 1-.232.51H4.36a.308.308 0 0 1-.232-.51l.818-.935a5.04 5.04 0 0 0 1.248-3.321v-1.19c0-1.58.963-2.936 2.337-3.511l.33-.138z"})},D=(0,u(340498).wt)("bell",n,"default")},170350:(e,t,u)=>{u.r(t),u.d(t,{filterIcon:()=>D,iconDefinition:()=>n});u(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"2.37 4.87 15.25 10.25",svg:(0,u(474848).jsx)("path",{d:"M3 4.875a.625.625 0 1 0 0 1.25h14a.625.625 0 1 0 0-1.25zm2.125 5.742h9.75a.625.625 0 1 0 0-1.25h-9.75a.625.625 0 1 0 0 1.25m1.5 3.883c0-.345.28-.625.625-.625h5.5a.625.625 0 1 1 0 1.25h-5.5a.625.625 0 0 1-.625-.625"})},D=(0,u(340498).wt)("filter",n,"default")},173783:(e,t,u)=>{u.d(t,{A:()=>r});u(296540);var n=()=>u(807449),D=()=>u(888867),o=()=>u(497577),i=u(474848);function r(e){const t=(0,o().E)(e);return(0,i.jsx)("div",{style:t.iconContainer,children:(0,i.jsx)(n().I,{icon:D().s,size:t.icon.width,colorVariant:"secondary"})})}},175947:(e,t,u)=>{u.d(t,{$C:()=>o,Hi:()=>D,Qy:()=>i,Uu:()=>r,ek:()=>a,jq:()=>c,pz:()=>l});var n=()=>u(418135);const D=52,o=45,i=44,r=44,s=30;function a(e){return e?r:i}function c(e){return 2*a(e)}function l(e,t,u){return(e&&!t?(0,n().n$)(u):12)+s}},182034:(e,t,u)=>{u.d(t,{O:()=>l,e:()=>c});u(898992),u(672577);var n=()=>u(908006),D=()=>u(961232),o=()=>u(878523),i=()=>u(892632),r=()=>u(299545),s=()=>u(77126),a=()=>u(260850);function c(e,t){const u=r().dd(t),n=i().xh(u);e.setState({...e.state,files:n})}async function l(e){const{blockStore:t,pageViewBlockStore:u,environment:i}=e;u?u.setState({...u.state,forceDiscussionOpen:!0}):D().A.openNewPageDiscussionInput(t),o().o2(i,{from:"page_comments"}),await n().default.afterNextFlush();const r=s().j.find((e=>e.getBlockStore().id===t.id)),c=null==r?void 0:r.getInputStore();c&&(0,a().z)({store:c.state.textStore})}},199103:(e,t,u)=>{u.d(t,{H:()=>o});u(296540);var n=u(474848);const D={viewBox:"0 0 20 20",fittedViewBox:"4.12 2.37 11.75 15.25",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M9.134 5.001c-.236-.667-1.18-.667-1.415 0L6.28 9.084a.5.5 0 1 0 .943.332l.276-.784h1.857l.276.784a.5.5 0 0 0 .944-.332zm-.708 1.001.576 1.63h-1.15zM10.75 5a.5.5 0 0 0 0 1h2.5a.5.5 0 0 0 0-1zm.313 3a.5.5 0 0 1 .5-.5h1.687a.5.5 0 0 1 0 1h-1.687a.5.5 0 0 1-.5-.5M6.75 10.708a.5.5 0 0 0-.5.5v3.715a.5.5 0 0 0 .845.362l1.101-1.05a.25.25 0 0 1 .347.003l.675.657a.5.5 0 0 0 .734-.038l1.189-1.435a.25.25 0 0 1 .375-.01l1.368 1.467a.5.5 0 0 0 .866-.341v-3.33a.5.5 0 0 0-.5-.5zm2.554 2.435a.696.696 0 1 1 0-1.393.696.696 0 0 1 0 1.393"}),(0,n.jsx)("path",{d:"M6.25 2.375A2.125 2.125 0 0 0 4.125 4.5v11c0 1.174.951 2.125 2.125 2.125h7.5a2.125 2.125 0 0 0 2.125-2.125v-11a2.125 2.125 0 0 0-2.125-2.125zM5.375 4.5c0-.483.392-.875.875-.875h7.5c.483 0 .875.392.875.875v11a.875.875 0 0 1-.875.875h-7.5a.875.875 0 0 1-.875-.875z"})]})},o=(0,u(340498).wt)("docRichText",D,"default")},231536:(e,t,u)=>{u.d(t,{Y:()=>i,G:()=>o});var n=()=>u(534177);const D={clipboardActions:u(884107).R.clipboardActions,duplicationActions:u(855801).VI.duplicateActions,formulasModule:u(862292).T.formulas,markdownLinkifyIt:u(659602).g,tinyMceMicrosoftWordPasteFilter:u(335722).S};function o(...e){for(const t of e)D[t].load()}function i(e){const t=D[e].getLoadingState();if("idle"===t.status)o(e);else if("pending"===t.status||"rejected"===t.status);else{if("resolved"===t.status)return t.value;(0,n().HB)(t)}}},332751:(e,t,u)=>{u.d(t,{I:()=>o});var n=()=>u(170722),D=()=>u(369241);function o(){n().A.state.isActive&&(D().A.setState({...D().A.state,open:!1}),n().A.setState({...n().A.state,isActive:!1,isAnimatingClosed:!0}))}},362976:(e,t,u)=>{function n(e){const t=e.getSchema();if(t)for(const[n,D]of Object.entries(t)){var u;if(D&&"text"===D.type&&"summarize"===(null===(u=D.ai_inference)||void 0===u?void 0:u.type)){const t=e.getPropertyValue(n);if(t)return t}}}u.d(t,{E:()=>n})},369241:(e,t,u)=>{u.d(t,{A:()=>n});const n=new(u(118307).A)},404783:(e,t,u)=>{u.d(t,{A:()=>D});class n extends(()=>u(757695))().Store{constructor(e,t){super(),this.environment=void 0,this.spaceId=void 0,this.environment=e,this.spaceId=t,this.reset()}getInitialState(){if(!this.environment)return;const e=new(u(221844).A)({name:"DiscussionInputStore",isTemporaryData:!0});return{textStore:new(u(770063).pm)({environment:this.environment,pointer:(0,u(594794).zP)({environment:this.environment,table:u(343666).SN,spaceId:this.spaceId}),path:["text"],recordStoreOptions:{inMemoryRecordCache:e}}),localRecordCache:e,files:[],showAttachFileIntro:!1,renderFileAttachIntro:!1}}isEmpty(){const e=this.state.textStore.getValue();return!e||0===e.length}hasNewLineCharacter(){const e=this.state.textStore.getValue();return u(201980).q4_(e).includes("\n")}}const D=n},405981:(e,t,u)=>{u.d(t,{HR:()=>d,_y:()=>F});var n=()=>u(907258),D=()=>u(675133),o=()=>u(792057),i=()=>u(534177),r=()=>u(878523),s=()=>u(116008),a=()=>u(681634),c=()=>u(938045);const l=(0,u(69708).YK)({discardCommentConfirmationPrompt:{id:"newDiscussionMenu.discardCommentConfirmationDialog.prompt",defaultMessage:"Do you want to discard the comment?"},discardCommentButtonLabel:{id:"newDiscussionMenu.discardCommentConfirmationDialog.discardButton.label",defaultMessage:"Discard"},draftCommentConfirmationPromptTitle:{id:"newDiscussionMenu.draftCommentConfirmationDialogTitle.prompt",defaultMessage:"Finish your draft comment?"},draftCommentConfirmationStartingNewDescription:{id:"newDiscussionMenu.draftCommentConfirmationStartingNewDescription.prompt",defaultMessage:"You have a draft comment that will be lost if you start a new one"},draftCommentConfirmationNavigateAwayPromptDescription:{id:"newDiscussionMenu.draftCommentConfirmationNavigateAwayPromptDescription.prompt",defaultMessage:"You have a draft comment that will be lost if you leave the page"},returnToPageButtonLabel:{id:"newDiscussionMenu.discardCommentConfirmationDialog.returnToPage.label",defaultMessage:"Return to draft"}});function d(e){const{discussionInputStore:t,environment:u,discussionHelpers:n,reason:i}=e;s().A.isComposingNewDiscussion()?F({environment:u,reason:i??"navigating_away"}):n.hasCommentChanged(t)?(r().yO(u),o().ui({message:D().A.formatMessage(l.discardCommentConfirmationPrompt),showCancel:!0,handleCancel:()=>r().Ie(u),keepFocus:!0,items:[{label:D().A.formatMessage(l.discardCommentButtonLabel),color:"red",onAccept:()=>{r().QP(u),(0,a().c)()}}]})):(0,a().c)()}function F(e){const{environment:t}=e;if(!s().A.isDraftCommentOnValidSelection())return;const u=s().A.getDiscussionInputStore();r().yO(t),o().ui({message:D().A.formatMessage(l.draftCommentConfirmationPromptTitle),description:(()=>{switch(e.reason){case"starting_new":return D().A.formatMessage(l.draftCommentConfirmationStartingNewDescription);case"navigating_away":return D().A.formatMessage(l.draftCommentConfirmationNavigateAwayPromptDescription);default:(0,i().HB)(e.reason)}})(),keepFocus:!0,innerStyle:{textAlign:"center"},showCancel:!1,shouldRenderDraftCommentIcon:!0,items:[{label:D().A.formatMessage(l.returnToPageButtonLabel),buttonType:"solid",color:"blue",onAccept:()=>{(0,c().x)({currentBlockStore:n().default.state.mainEditorCurrentBlockStore,discussionInputStore:u,environment:t}),r().Ie(t)}},{label:D().A.formatMessage(l.discardCommentButtonLabel),color:"red",buttonType:"outline",onAccept:()=>{r().QP(t),(0,a().c)()}}]})}},412532:(e,t,u)=>{u.d(t,{l:()=>D});u(296540);const n={viewBox:"0 0 16 16",fittedViewBox:"2.03 2.29 11.93 10.46",svg:(0,u(474848).jsx)("path",{d:"M13.165 12.75a.8.8 0 0 0 .69-1.203L8.692 2.693a.8.8 0 0 0-1.382 0l-5.165 8.854a.8.8 0 0 0 .691 1.203z"})},D=(0,u(340498).wt)("arrowCaretUpFillSmall",n,"fillSmall")},418135:(e,t,u)=>{u.d(t,{n$:()=>r,rx:()=>i,yA:()=>s});var n=()=>u(496603);const D=.5,o=4.9,i=1;function r(e){switch(n().qE(n().LI(e,1),D,o)){case D:return 155;case.6:return 128;case.7:return 108;case.8:return 94;case.9:return 83;default:return 75}}function s(e){const t=n().qE(n().LI(e,1),D,o);switch(t){case D:return 273;case.6:return 228;case.7:return 195;case.8:return 171;case.9:return 151;case 1:return 136;case 1.1:return 123;case 1.2:return 113;case 1.3:return 105;case 1.4:return 97;case 1.5:return 91;case 1.6:return 85;default:return Math.max(85-Math.floor(10*(t-1.6)*5),0)}}},423817:(e,t,u)=>{u.d(t,{J:()=>r});u(581454),u(296540);var n=()=>u(401497),D=()=>u(874832),o=()=>u(100622),i=u(474848);function r(e){let t=Math.floor(e.areaHeight/124);0===t&&(t=1);const u=(0,n().IS)((()=>({skeletonRect:{height:8,borderRadius:4,margin:10,backgroundColor:o().Tj.background.tertiaryTranslucent},skeletonCircle:{display:"flex",width:28,height:28,marginInlineEnd:8,backgroundColor:o().Tj.background.tertiaryTranslucent,borderRadius:20},skeletonSection:{display:"flex",width:"100%",margin:20,flexDirection:"row"}})),[8,10,20]),r=[...Array(t)].map(((e,t)=>(0,i.jsxs)("div",{style:u.skeletonSection,children:[(0,i.jsx)(D().P,{style:u.skeletonCircle}),(0,i.jsxs)("div",{style:{width:"80%"},children:[(0,i.jsx)(D().P,{style:{width:"80%",...u.skeletonRect,marginTop:0}}),(0,i.jsx)(D().P,{style:{width:"50%",...u.skeletonRect}}),(0,i.jsx)(D().P,{style:{width:"60%",...u.skeletonRect}}),(0,i.jsx)(D().P,{style:{width:"50%",...u.skeletonRect}})]})]},t)));return(0,i.jsx)("div",{children:r})}},427636:(e,t,u)=>{u.d(t,{A:()=>o});u(296540);var n=()=>u(100622),D=u(474848);const o=function(e){const{botStore:t,avatarSize:o,shouldShowBadge:i,style:r,inline:s}=e,a=(0,u(69708).tz)(),c=(0,u(484714).Y0)(),l=(0,u(590526).K8)((()=>null==t?void 0:t.getDisplayName(a)),[t,a]),{outerStyle:d,avatarWrapStyle:F,badgeStyle:C}=(0,u(401497).IS)((()=>({outerStyle:{display:"flex",alignItems:"center",minWidth:0,...r},avatarWrapStyle:s?{width:"none",minHeight:"none",marginInlineEnd:6}:{marginInlineEnd:6},badgeStyle:{padding:"2px 6px",borderRadius:4,color:n().Tj.text.secondary,background:n().Tj.legacyDefaultSelectColor,fontSize:u(726637).A.isMobile?11:9,lineHeight:c.isAndroid?1.5:1,textTransform:"uppercase",letterSpacing:"0.04em",marginInlineStart:8,marginTop:1}})),[r,s,c]);return(0,D.jsxs)("div",{style:d,children:[(0,D.jsx)("div",{style:F,children:(0,D.jsx)(u(256863).A,{botStore:t,size:o})}),(0,D.jsx)("div",{style:{...u(284371).RC},children:l}),i?(0,D.jsx)("div",{style:C,children:"Bot"}):void 0]})}},441467:(e,t,u)=>{u.d(t,{DZ:()=>R,Ek:()=>W,hN:()=>O,i5:()=>U,of:()=>V});u(944114),u(517642),u(658004),u(733853),u(845876),u(432475),u(515024),u(731698),u(898992),u(354520),u(672577),u(803949);var n=()=>u(779315),D=()=>u(675133),o=()=>u(489295),i=()=>u(295633),r=()=>u(86159),s=()=>u(292985),a=()=>u(700500),c=()=>u(179034),l=()=>u(197959),d=()=>u(161479),F=()=>u(798880),C=()=>u(201980),m=()=>u(878523),p=()=>u(182641),E=()=>u(383594),g=()=>u(384944),v=()=>u(332751),f=()=>u(538527),h=()=>u(892632),y=()=>u(594794),A=()=>u(299545),B=()=>u(486666),S=()=>u(372154),x=()=>u(718957),b=()=>u(547149),k=()=>u(404783),w=()=>u(555776),_=()=>u(116008),I=()=>u(543225),j=()=>u(59320),M=()=>u(528787),T=()=>u(681634),P=()=>u(583824),z=()=>u(36088),L=()=>u(807060),N=()=>u(405981);const R=(0,u(69708).YK)({emojiPicker:{defaultMessage:"Reaction",id:"ReactionBar.emojiModalMenu.title"},emojiTitle:{id:"recordIcon.emojiTab.title",defaultMessage:"Emoji"}});function V(e){const{environment:t,blockStore:u,multiSelection:n,rect:o,formulasModule:i}=e;let s=o;if(!s){const e=r().get();if(!e)return;s=r().getRect(e)}if(!s)return;const a=s.width,c=s.height,l=s.right-a;_().A.setState({open:!0,rect:new DOMRect(l,s.top,a,c),type:"inline",content:"reaction",blockStore:u,blockId:u.id,multiSelection:n,emoji:void 0}),E().W(t,{originGap:4,originRect:s,popupWidth:B().jv,popupHeight:B().GF,isSmallWidth:!1,title:D().A.formatMessage(R.emojiPicker),currentTab:"emoji",onCancel:()=>_().A.reset(),tabs:[{type:"emoji",title:D().A.formatMessage(R.emojiTitle),hideRandomButton:!0,onChange:e=>{const u=_().A.state;u.open&&"reaction"===u.content&&(_().A.setState({...u,emoji:e}),U({environment:t,formulasModule:i}),E().I())}}]})}async function O(e){var t;const{environment:u,blockStore:D,multiSelection:o,rect:i,from:a,property_id:c}=e;if(_().A.hasContent())return void(0,N()._y)({environment:u,reason:"starting_new"});let l=i;if(!l){const e=r().get();if(!e)return;l=r().getRect(e)}if(!l)return;const F=l.width,C=l.height,p=l.right-F,E=new(k().A)(u,(0,d().e)(D.pointer.spaceId));_().A.setState({open:!0,rect:new DOMRect(p,l.top,F,C),type:"inline",content:"comment",blockStore:D,lastKnownBlockStore:D,blockId:D.id,multiSelection:o,lastEditables:(0,x().$W)(o),discussionInputStore:E,property_id:c,from:a}),(0,s().V)({element:null===(t=n().A.UpdateSidebarCommentScroller)||void 0===t?void 0:t.getNode(),environment:u,options:{top:0,behavior:"smooth"}}),w().A.setActiveWithSource("text_annotation"),v().I(),await(0,z().M)({discussionInputStore:E,environment:u}),m().z0(u,{from:a})}function U(e){const{environment:t,allowActionsWhileCommenting:u,skipOpeningDiscussion:n,formulasModule:D}=e,r=_().A.state;if(r.open){const e="comment"===r.content?r.property_id:void 0,s=_().A.getBlockStore()??_().A.getLastKnownBlockStore();if(_().A.hasContent()&&(!u||s))if("inline"===r.type)b().createAndCommit({userAction:"newDiscussionMenuActions.submitNewDiscussion",environment:t,canUndo:!0,perform:n=>{const D=function(e){const{environment:t,multiSelection:u,transaction:n,allowActionsWhileCommenting:D}=e,{id:r}=t.currentUser;if(!r)return;const s=D?_().A.getLastSelectedEditables():(0,x().$W)(u).filter((({store:e})=>e.table===c().ev));if(!s||0===s.length)return;const d=(0,o().zH)(s[0].store),F=(0,y().Z1)({environment:t,table:l().$Y,spaceId:d.pointer.spaceId}),m=[],p=new Set;s.forEach((({store:e,selection:u},D)=>{p.add(e.id);const r=(0,o().zH)(e);if(!(r instanceof i().B))return;const s=r.getType(),c=r.getFormat();if(s&&(0,a().pD)(s,c))return;let l=e.getValue();const d=C().xbM(l,u);f().Mw({environment:t,store:e,selection:d,annotation:[C().Ifu.Discussion,F],transaction:n}),l=e.getValue();const E=C().Ffo(l,d.startIndex,d.endIndex),g=0===D?[]:[C().Ey_("\n")];m.push(...g,...E)}));const E=(0,x().ZS)({multiSelection:u,filterCommonAncestors:!1,focus:void 0});if(E)for(const o of E.stores){if(p.has(o.id))continue;const e=o.getType(),t=o.getFormat();e&&(0,a().pD)(e,t)||(0,I().B)({blockStore:o,discussionId:F,transaction:n})}return{blockStore:d,context:m,discussionId:F}}({environment:t,multiSelection:r.multiSelection,transaction:n,allowActionsWhileCommenting:u});if(!D)return;const{context:d,blockStore:F,discussionId:p}=D;if("comment"===r.content){const D=r.discussionInputStore.state.textStore.getValue()||[],o=r.discussionInputStore.state.files,{discussionStore:i,commentStore:a}=(0,j().G)({createDiscussionArgs:{type:"default",context:d,property_id:e},blockStore:F,environment:t,transaction:n,commentTextValue:D,files:h().JC(o),discussionId:p});(0,I().B)({transaction:n,blockStore:F,discussionId:p});const{property_type:c,collection_id:l,collection_view_id:C,view_type:E,collection_view_block_id:g}=(0,L().q)(e,s);m().bJ(t,{discussion_id:i.id,discussion_type:i.getType(),comment_id:a.id,parent_block_id:i.getParentId(),from:_().A.state.open&&"comment"===_().A.state.content?_().A.state.from:void 0,property_id:e,property_type:c,collection_view_id:C,view_type:E,collection_id:l,collection_view_block_id:g}),u&&S().A.addNewDiscussionId(p)}else r.emoji&&K({context:d,blockStore:F,environment:t,transaction:n,icon:r.emoji,discussionId:p})},skipUpdatingEditedMetadata:!0});else if("block"===r.type)if("comment"===r.content){const n=r.discussionInputStore.state.textStore.getValue()||[],o=r.discussionInputStore.state.files;u?s&&b().createAndCommit({userAction:"newDiscussionMenuActions.submitNewDiscussion",environment:t,canUndo:!0,perform:u=>{(0,P().i)({environment:t,type:"default",blockStore:s,commentTextValue:n||[],files:o,transaction:u,property_id:e,formulasModule:D})},skipUpdatingEditedMetadata:!0}):b().createAndCommit({userAction:"newDiscussionMenuActions.submitNewDiscussion",environment:t,canUndo:!0,perform:u=>{(0,P().i)({environment:t,type:"default",blockStore:r.blockStore,commentTextValue:n||[],files:o,transaction:u,property_id:e,formulasModule:D})},skipUpdatingEditedMetadata:!0})}else{const e=t.currentUser.id,{emoji:u,blockStore:n}=r,D=A().O3(n,{recursivelyLoadAllDiscussions:!1}).find((e=>e.getReactions().length>0));u&&e&&b().createAndCommit({userAction:"newDiscussionMenuActions.submitNewDefaultDiscussion.addReaction",environment:t,canUndo:!0,perform:o=>{null!=D&&D.isDefined()?M().createReaction({environment:t,transaction:o,store:D,icon:u,currentActorPointer:{table:F().oo,id:e},discussionLocation:"block_menu"}):K({context:void 0,blockStore:n,environment:t,transaction:o,icon:u})},skipUpdatingEditedMetadata:!0})}(0,T().c)();const d=u?s&&s.getAssociatedCollectionStore():r.blockStore.getAssociatedCollectionStore();n||e||!d||p().B4({environment:t,blockStore:u?s??r.blockStore:r.blockStore,shouldFocusDiscussion:!0,analyticsFrom:"db_page_comments",rect:_().A.state.rect,recursivelyLoadAllDiscussions:!1})}}function K(e){const{context:t,blockStore:u,environment:n,transaction:D,icon:o}=e,i=e.discussionId??(0,y().Z1)({environment:n,table:l().$Y,spaceId:u.pointer.spaceId});if(void 0===n.currentUser.id)return;const r=g().vt({environment:n,table:"discussion",args:{type:"default",id:i,parent:u.pointer,context:t,space_id:(0,d().e)(u.pointer.spaceId)},inMemoryRecordCache:u.inMemoryRecordCache,transaction:D});(0,I().B)({transaction:D,blockStore:u,discussionId:r.id});const s={table:F().oo,id:n.currentUser.id};return M().createReaction({environment:n,transaction:D,store:r,icon:o,currentActorPointer:s,discussionLocation:"block_menu"}),r}function W(e){const{environment:t}=e;if(!t.currentUser.id)return;const u=_().A.getPropertyId();if(u){var n;const e=null===(n=_().A.getBlockStore())||void 0===n?void 0:n.getPropertyStore(u);if(e)return{blockStore:e,context:e.getValue()}}const D=_().A.getLastSelectedEditables();if(!D||0===D.length)return;const r=(0,o().zH)(D[0].store),s=[],c=new Set;return D.forEach((({store:e,selection:t},u)=>{c.add(e.id);const n=(0,o().zH)(e);if(!(n instanceof i().B))return;const D=n.getType(),r=n.getFormat();if(D&&(0,a().pD)(D,r))return;const l=e.getValue(),d=C().xbM(l,t),F=C().Ffo(l,d.startIndex,d.endIndex),m=0===u?[]:[C().Ey_("\n")];s.push(...m,...F)})),{blockStore:r,context:s}}},457688:(e,t,u)=>{u.d(t,{A:()=>v,S:()=>E});var n=u(296540),D=()=>u(726637),o=()=>u(484714),i=()=>u(590526),r=()=>u(493552),s=()=>u(424400),a=()=>u(764880),c=()=>u(69708),l=()=>u(453697),d=u(474848);const F="bodyRegular",C="bodySemibold",m="bodySmRegular",p=n.forwardRef(((e,t)=>{const{actor:n,defaultUserTitle:o="name_only",useEmailAsTooltip:r,tooltip:c,tooltipPlacement:F,hoveredStyle:C,disabledFeedback:m,customUserTitleStyles:p,iconSizeOverride:v}=e,f=(0,i().K8)((()=>n.asActor&&n.isUser()?n.email:void 0),[n]),h=r&&f?f:c,y=v||(D().A.isMobile?s().nd:s().pg),A="name_and_email"===o||"name_and_email_unless_right"===o&&!Boolean(e.right)?(0,d.jsx)(g,{actor:null==n?void 0:n.asActor,customStyles:p}):(0,d.jsx)(E,{customStyles:p,actor:null==n?void 0:n.asActor});let B;return(0,a().H3)(n)?B=(0,d.jsx)(u(256863).A,{botValue:null==n?void 0:n.asActor,size:y}):(0,a().ps)(n)?B=(0,d.jsx)(l().A,{userValue:null==n?void 0:n.asActor,size:y}):(0,a().h2)(n)?B=(0,d.jsx)(l().A,{userValue:void 0,size:y}):(0,u(534177).HB)(n),(0,d.jsx)(u(26697).m,{placement:F??"bottom",alignment:"start",textWrap:!0,render:n=>(0,d.jsx)(u(81068).A,{...(0,u(383036).A)(n,e),icon:B,title:A,disabledFeedback:m,className:"notranslate",ref:t,hoveredStyle:C}),disableTooltip:!h,renderTooltip:()=>h})}));function E(e){const{actor:t,customStyles:u}=e,n=(0,o().v3)(),s=(0,c().tz)(),a=t&&t.id===n.currentUser.id,l=(0,i().K8)((()=>t&&t.getDisplayName(s)),[t,s]),C=D().A.isMobile?m:F;return a?(0,d.jsx)(c().sA,{id:"UserMenuItem.fullName.authorLabel",defaultMessage:"<author>{fullName}</author> <you>(You)</you>",values:{author:e=>(0,d.jsx)(r().D,{as:"span",styleKey:C,style:u,children:e}),fullName:l,you:e=>(0,d.jsx)(r().D,{as:"span",colorVariant:"secondary",styleKey:C,style:u,children:e})}}):l?(0,d.jsx)(r().D,{textOverflow:"ellipsis",styleKey:C,style:u,children:l}):(0,d.jsx)(r().D,{styleKey:C,style:u,children:(0,d.jsx)(c().sA,{id:"UserMenuItem.fullName.unknownAuthorLabel",defaultMessage:"Unknown author"})})}function g(e){const{actor:t,customStyles:u}=e,n=(0,c().tz)(),o=(0,i().K8)((()=>t&&t.getDisplayName(n)),[t,n]),{email:s,showEmail:a}=(0,i().K8)((()=>{const e=t&&t.asActor&&t.isUser()?t.email:void 0;return{email:e,showEmail:o!==e}}),[t,o]),l=D().A.isMobile?"bodySmRegular":C,p=D().A.isMobile?m:F;return o?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(r().D,{textOverflow:"ellipsis",as:"span",styleKey:l,style:u,children:o}),a?(0,d.jsx)(r().D,{textOverflow:"ellipsis",as:"span",styleKey:p,style:u,children:` ${s}`}):void 0]}):(0,d.jsx)(r().D,{styleKey:C,style:u,children:(0,d.jsx)(c().sA,{id:"UserMenuItem.fullName.unknownAuthorLabel",defaultMessage:"Unknown author"})})}p.displayName="UserMenuItem";const v=p},479820:(e,t,u)=>{u.r(t),u.d(t,{MobileCommentsModalRenderer:()=>l});var n=u(296540),D=()=>u(726637),o=()=>u(590526),i=()=>u(127833),r=()=>u(907595),s=()=>u(883497),a=()=>u(737230),c=u(474848);function l(){const e=(0,o().K8)((()=>s().A.state.open),[]),[t,u]=(0,n.useState)(Date.now()),l=(0,n.useCallback)((()=>{s().A.setState({open:!1}),a().Ay.update((e=>({...e,activeDiscussionStore:void 0,hasActiveDraftComment:!1})))}),[]);return(0,n.useEffect)((()=>{e&&u(Date.now())}),[e]),D().A.isMobile?(0,c.jsx)(i().zD,{popupType:i().nl.BottomSheet,bottomSheetInitialState:"half",bottomSheetBackgroundColor:"primary",trapFocus:!0,open:e,render:()=>(0,c.jsx)(r().R,{timeViewed:t,location:"popup",onMobileClose:l}),onDismiss:l}):null}},490242:(e,t,u)=>{u.d(t,{f:()=>p});var n=u(296540),D=()=>u(484714),o=()=>u(590526),i=()=>u(206267),r=()=>u(201980),s=()=>u(567141),a=()=>u(837622),c=()=>u(358006),l=()=>u(362976),d=()=>u(990261),F=()=>u(871830),C=u(474848);const m=20;function p(e){const t=(0,D().v3)(),{store:u,startBlockId:p,size:E,isDiscussion:g}=e,v=(0,F().O)(),f=(0,o().K8)((()=>l().E(u)),[u]),h=f&&r().FAw(f)>=m,y=(0,n.useMemo)((()=>i().JW()),[]),A=(0,o().K8)((()=>{var e;if("tall"===E)return 200;const t=u.getModel();return!t||!t.isCollectionView()||t.hasWikiBlockUri()||null!==(e=u.getAssociatedCollectionStore())&&void 0!==e&&e.isPageTreeCollection()?84:125}),[E,u]);return(0,n.useEffect)((()=>{const e=d().uk.getCurrentPageVisitId();return s().Z3(t,{hover_session_id:y,mentioned_page_id:u.pointer.id,hover_content_type:h?"ai_summary":"content_preview",page_visit_id:e}),()=>{s().Q_(t,{hover_session_id:y,hover_content_type:h?"ai_summary":"content_preview",mentioned_page_id:u.pointer.id,page_visit_id:e})}}),[t,y,h,u.pointer.id]),p||!h?(0,C.jsx)(c().z,{variant:"default",store:u,coverFormat:{type:"page_content"},allowVideoPlayback:!1,coverContentFadedOverlay:!0,coverContentFadedOverlayStyle:v.contentCoverFade,coverHeight:A,startBlockId:p,contentWrapStyle:v.contentCover,imageCoverWrapStyle:v.imageCoverWrap,emptyGalleryCoverStyle:v.contentCoverEmpty,loadingShimmerStyle:v.loadingShimmer,showLoadingShimmer:!0,showEmptyGalleryCover:!0,onLoadProxiedImage:()=>{},rendererBlockStyle:v.rendererBlockStyle,renderAdditionalBlocks:!0,exactBlockOnlyNoContentCover:g}):(0,C.jsx)("div",{children:(0,C.jsx)("div",{style:v.summary,children:(0,C.jsx)(a().A,{textValue:f,parentStore:u})})})}},497577:(e,t,u)=>{u.d(t,{E:()=>o});var n=()=>u(401497),D=()=>u(100622);function o(e){const{size:t,style:u}=e;return(0,n().IS)((()=>({icon:{width:.6*t,height:.6*t,fill:D().Tj.text.secondary},iconContainer:{width:t,height:t,borderRadius:"100%",background:D().Tj.border.secondaryTranslucent,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,...u}})),[t,u])}},528787:(e,t,u)=>{u.r(t),u.d(t,{createReaction:()=>y,toggleReaction:()=>h});u(898992),u(354520),u(672577),u(581454),u(737550);var n=()=>u(770063),D=()=>u(97879),o=()=>u(785082),i=()=>u(343666),r=()=>u(197959),s=()=>u(204384),a=()=>u(161479),c=()=>u(798880),l=()=>u(534177),d=()=>u(878523),F=()=>u(722101),C=()=>u(384944),m=()=>u(279922),p=()=>u(594794),E=()=>u(547149),g=()=>u(741817),v=()=>u(725332),f=()=>u(807060);function h(e){const{discussionLocation:t,environment:u,transaction:i,store:F,icon:C}=e,p=function({store:e,icon:t}){const u=(0,n().G_)(e,e.pointer,"reactions").getValue();if(void 0===u)return;return u.map((t=>{const u=D().L.createChildStore(e,{table:s().ez,id:t,spaceId:(0,a().e)(e.pointer.spaceId)});if(u.isDefined())return u})).filter(l().O9).find((e=>e.getIcon()===t))}({store:F,icon:C});if(void 0===u.currentUser.id)return;const f={table:c().oo,id:u.currentUser.id};return null!=p&&p.isDefined()?function({store:e,actorPointer:t,transaction:u,environment:n,discussionLocation:i}){var s;const a={store:e,actorPointer:t,transaction:u,environment:n,discussionLocation:i},c=e.getParentStore(),l=(null==c?void 0:c.table)===r().$Y?c:null==c?void 0:c.getParentStore(),F=(null===(s=e.getActors())||void 0===s?void 0:s.some((e=>e.id===t.id)))??!1;l&&A(l,c)&&(0,v().U)({transaction:u,discussionStore:l});return F?(function(e){var t,u;const{store:n,actorPointer:i,discussionLocation:s,transaction:a,environment:c}=e;if(!n.isDefined())return;const l=n.getParentStore(),F=(null==l?void 0:l.table)===r().$Y?l:null==l?void 0:l.getParentStore(),C=o().eR.includes(s),p=null==F||null===(t=F.getParentStore())||void 0===t?void 0:t.getNavigableBlockStore(),v=D().L.getUserVisibleReactions(l),f=1===v.length&&1===n.getActors().length&&n.getActors()[0].id===c.currentUser.id;d().fq({environment:c,reaction_value:n.getIcon(),comment_id:n.getParentId(),discussion_id:null==F?void 0:F.id,discussion_type:null==F?void 0:F.getType(),parent_block_id:null==F?void 0:F.getParentId(),parent_collection_id:null==F||null===(u=F.getParentStore())||void 0===u?void 0:u.getParentCollectionIdUpToTwoLevels(),reaction_count:n.getActors().length??0,from:s,...C&&{inbox_session_id:m().Ay.state.sessionId,notification_page_id:null==p?void 0:p.id}});const h=n.getModel();E().applyOperation({transaction:a,store:n,operation:h.ops.removeActor(i)}),f&&l&&l.table===r().$Y&&(0,g().v)({environment:c,discussionStore:l,transaction:a})}(a),"Removed"):(function(e){var t,u;const{store:n,actorPointer:D,discussionLocation:i,transaction:s,environment:a}=e;if(!n.isDefined())return;const c=n.getParentStore(),l=(null==c?void 0:c.table)===r().$Y?c:null==c?void 0:c.getParentStore(),F=o().eR.includes(i),C=null==l||null===(t=l.getParentStore())||void 0===t?void 0:t.getNavigableBlockStore();d().MP({environment:a,reaction_value:n.getIcon(),comment_id:n.getParentId(),discussion_id:null==l?void 0:l.id,discussion_type:null==l?void 0:l.getType(),parent_block_id:null==l?void 0:l.getParentId(),parent_collection_id:null==l||null===(u=l.getParentStore())||void 0===u?void 0:u.getParentCollectionIdUpToTwoLevels(),reaction_count:n.getActors().length??0,from:i,...F&&{inbox_session_id:m().Ay.state.sessionId,notification_page_id:null==C?void 0:C.id}});const p=n.getModel();E().applyOperation({transaction:s,store:n,operation:p.ops.appendActor(D)})}(a),"Added")}({environment:u,store:p,actorPointer:f,transaction:i,discussionLocation:t}):(y({environment:u,transaction:i,store:F,icon:C,currentActorPointer:f,discussionLocation:t}),"Added")}function y({environment:e,transaction:t,store:u,icon:D,currentActorPointer:i,discussionLocation:c}){var l,E;const g=(0,p().JH)({environment:e,table:s().ez,spaceId:(0,a().e)(u.pointer.spaceId)}),h=u.table===r().$Y?u:u.getParentStore(),y=o().eR.includes(c),B=null==h||null===(l=h.getParentStore())||void 0===l?void 0:l.getNavigableBlockStore(),S=null==h?void 0:h.getPropertyId(),x=null==h?void 0:h.getParentStore(),{property_type:b,collection_id:k,collection_view_id:w,view_type:_,collection_view_block_id:I}=(0,f().q)(S,x);d().MP({environment:e,reaction_value:D,comment_id:u.id,discussion_id:null==h?void 0:h.id,discussion_type:null==h?void 0:h.getType(),parent_block_id:null==h?void 0:h.getParentId(),parent_collection_id:null==h||null===(E=h.getParentStore())||void 0===E?void 0:E.getParentCollectionIdUpToTwoLevels(),reaction_count:0,from:c,...y&&{inbox_session_id:m().Ay.state.sessionId,notification_page_id:null==B?void 0:B.id},property_type:b,collection_id:k,collection_view_id:w,view_type:_,collection_view_block_id:I});const j=C().vt({environment:e,table:g.table,args:{id:g.id,spaceId:g.spaceId,commentId:u.id,icon:D,actorPointer:i},inMemoryRecordCache:u.inMemoryRecordCache,transaction:t}),M=(0,n().G_)(u,u.pointer,"reactions");F().BC({parentStore:M,appendStore:j,transaction:t}),h&&A(h,u)&&(0,v().U)({transaction:t,discussionStore:h})}function A(e,t){var u;if(!e||!t||t.table!==i().SN)return!1;const n=null===(u=e.getUserSeenRecordStore())||void 0===u?void 0:u.getLastSeenAt();return!n||n<t.getCreatedTime()}},569397:(e,t,u)=>{u.r(t),u.d(t,{arrowStraightRightSmallIcon:()=>D,iconDefinition:()=>n});u(296540);const n={viewBox:"0 0 16 16",fittedViewBox:"2.12 3.05 11.76 9.9",directional:!0,svg:(0,u(474848).jsx)("path",{d:"M9.372 3.238a.625.625 0 1 0-.884.884l3.253 3.253H2.75a.625.625 0 0 0 0 1.25h8.991l-3.253 3.253a.625.625 0 0 0 .884.884l4.32-4.32a.625.625 0 0 0 0-.884z"})},D=(0,u(340498).wt)("arrowStraightRightSmall",n,"small")},588047:(e,t,u)=>{u.d(t,{k:()=>D});u(296540);const n={viewBox:"0 0 16 16",fittedViewBox:"2.42 2.11 11.16 12.13",svg:(0,u(474848).jsx)("path",{d:"M8 2.115c-.854 0-1.569.554-1.824 1.315a3.96 3.96 0 0 0-2.138 3.518v.895c0 .655-.238 1.287-.669 1.78l-.616.704c-.75.858-.141 2.202 1 2.202H5.89a2.156 2.156 0 0 0 4.218 0h2.139c1.14 0 1.75-1.344.999-2.202l-.616-.704a2.7 2.7 0 0 1-.669-1.78v-.895A3.96 3.96 0 0 0 9.824 3.43 1.92 1.92 0 0 0 8 2.115m-.669 1.839A.68.68 0 0 1 8 3.365c.34 0 .623.253.669.589l.048.353.33.138a2.71 2.71 0 0 1 1.665 2.503v.895c0 .958.348 1.882.978 2.603l.616.704a.078.078 0 0 1-.058.129H3.752a.078.078 0 0 1-.058-.129l.616-.704c.63-.72.978-1.645.978-2.603v-.895c0-1.126.686-2.093 1.665-2.503l.33-.138zM8 13.084c-.394 0-.735-.226-.9-.555h1.8c-.165.33-.506.556-.9.556"})},D=(0,u(340498).wt)("bellSmall",n,"small")},612900:(e,t,u)=>{u.d(t,{u:()=>o});var n=()=>u(79926);const D=new(n().O2)("PulsingWrapper",(async()=>u.e(45248).then(u.bind(u,673962)))),o=(0,n().jQ)(D,(e=>e.PulsingWrapper),{renderLoading:(e,t)=>t.children})},623275:(e,t,u)=>{u.d(t,{$D:()=>l,CJ:()=>C,CY:()=>g,Sg:()=>c,iM:()=>f,kJ:()=>m,kx:()=>E,qj:()=>v,rL:()=>r,sH:()=>p,u6:()=>s,zr:()=>d});var n=()=>u(726637),D=()=>u(278238),o=()=>u(100622),i=()=>u(115512);const r=16,s=20,a=10,c=12,l=456,d=24,F=24,C=48;function m(){return{background:o().Tj.background.tertiaryTranslucent,borderRadius:8,paddingTop:8,paddingBottom:8,paddingInlineStart:8,paddingInlineEnd:8,marginInlineStart:n().A.isMobile?0:r,marginInlineEnd:n().A.isMobile?0:r,marginTop:4,marginBottom:8}}function p(){return{...g(),width:"unset",height:C,paddingTop:6,paddingBottom:6,paddingInlineEnd:6}}function E(){return n().A.isMobile?i().Kw:i().vQ}function g(){return{borderRadius:a,transition:"background 150ms ease-out"}}function v({isMobile:e}){return e?12:10}function f({themeMode:e,colorOverride:t,size:u=F,useLargeBorderRadius:n,useLightBackgroundColor:i,icon:r}){return{background:t||(r&&(0,D().T8)(r)?(0,D().ez)({icon:r,mode:e,useLightGrayColor:i}):o().Tj.border.secondaryTranslucent),width:u,height:u,borderRadius:n?6:"0.25em"}}},636714:(e,t,u)=>{u.d(t,{A:()=>h});u(898992),u(354520),u(581454);var n=u(296540),D=()=>u(590526),o=()=>u(182412),i=()=>u(683021),r=()=>u(498521),s=()=>u(449279),a=()=>u(663639),c=()=>u(922931),l=()=>u(535393),d=()=>u(736847),F=()=>u(452004),C=()=>u(69708),m=()=>u(231536),p=()=>u(671894),E=u(474848);const g=25,v=200,f=u(757695).Store.createClass(g,{name:"limitStore"});function h({topBorder:e,context:t,onAccept:u,onFocus:h,empty:y,keyboardPriority:A,disableKeyboard:B,initialFocus:S,onEmptyEnter:x,comboboxProps:b,useLimit:k,onFilteredSectionsChange:w,filter:_,sections:I,menuListStore:j,resetInitialFocusOnSectionChangeAlways:M,resetFocusOnMouseOut:T,role:P,showNoResultsMessage:z,onFooterEnter:L,filterSections:N,flattenSectionsOnSearch:R,renderItemStyles:V,shouldShowBlockTypeTitle:O}){const U=(0,D().uB)(void 0,f),K=(0,D().uB)(j,F().$),[W,H,Y]=(0,D().K8)((()=>{let e=0;const u=(0,p().js)({sections:_&&N?N:I,context:t,query:_||"",shouldShowBlockTypeTitle:O});for(const t of u)e+=t.actions.length;return[k?(0,p().Le)(u,U.state):u,e,u]}),[I,t,_,k,U,N,O]);(0,n.useEffect)((()=>{i().Ay.state.open&&i().rA.setState(0===Y.length)}),[Y]),(0,n.useEffect)((()=>{null==w||w(W)}),[w,W]);const $=(0,n.useRef)(_),G=(0,n.useCallback)((e=>{e<v&&U.state<H&&U.setState(U.state+g)}),[U,H]),q=Boolean(R&&_),Z=(0,n.useMemo)((()=>{const e=new Map;for(const t of Y)if(t.key!==o().IZ)for(const u of t.actions)e.set(u.key,t.title);return e}),[Y]),{menuItemActionMap:J,menuItemSectionKeyMap:Q,menuListSections:X}=(0,n.useMemo)((()=>{const n=new Map,D=new Map,i=W.map((i=>{const r=i.key.toString();return{key:i.key,render:t=>i.render({...t,topBorder:!q&&(0!==t.index||Boolean(e)),title:i.title,hideTitle:q}),items:i.actions.map((e=>{e.lazyDependencyKeys&&(0,m().G)(...e.lazyDependencyKeys);const s={key:e.key,render:(n,D)=>{const s=i.key===o().IZ?Z.get(e.key):i.title,a=q||i.key===o().IZ;return e.render(n,t,{onAccept:(e,t,n)=>{null==u||u(e,t,n,r)},onFocus:D.onFocus,sectionTitle:s,extendItemTitle:a,styles:V})},action:({event:u})=>{e.action(t,u)}};return n.set(s,e),D.set(s,r),s}))}}));return{menuItemActionMap:n,menuItemSectionKeyMap:D,menuListSections:i}}),[W,q,e,Z,t,V,u]);(0,n.useEffect)((()=>{if(_!==$.current&&0===S){$.current=_;if(Boolean(L)&&0===l().i2(X))return c().rd({store:K});K.setState({...K.state,focus:{section:0,indexLocal:0,indexGlobal:0,footerFocused:!1}})}}),[_,S,X,K,L]);const ee=(0,n.useCallback)(((e,n)=>{if(u){const o=J.get(e),i=Q.get(e);if(o){var D;if(null!==(D=o.isDisabled)&&void 0!==D&&D.call(o,t))return;u(o,t,n.event,i,n.index)}}}),[u,t,J,Q]),te=(0,n.useCallback)((e=>{let u;var n;(e.indexLocal&&(u=l().SG(e.indexLocal,X)),e.indexGlobal)&&(u=null===(n=l().e7(e.indexGlobal,X))||void 0===n?void 0:n.item);if(!u)return;const D=J.get(u),o=Q.get(u);D&&(null==h||h(D,t,o))}),[J,Q,h,X,t]);return(0,E.jsxs)(E.Fragment,{children:[Boolean(z)&&0===W.length?(0,E.jsx)(d().A,{children:(0,E.jsx)(s().u,{title:y||(0,E.jsx)(C().sA,{id:"action.search.noResults",defaultMessage:"No results"})})}):void 0,(0,E.jsx)(a().A,{type:a().O.Vertical,role:P,priority:A,store:K,disableKeyboard:B,sections:X,initialFocus:S,onEmptyEnter:x,onAccept:ee,onFocus:te,comboboxProps:b,resetInitialFocusOnSectionChangeAlways:M,resetFocusOnMouseOut:T,onFooterEnter:L}),k?(0,E.jsx)(r().A,{onChange:G}):void 0]})}},671894:(e,t,u)=>{u.d(t,{hS:()=>f,o2:()=>h,js:()=>g,Le:()=>v,F6:()=>y});u(944114),u(517642),u(658004),u(733853),u(845876),u(432475),u(515024),u(731698),u(898992),u(823215),u(354520),u(581454);var n=()=>u(675133),D=()=>u(69708),o=()=>u(778078),i=()=>u(496603),r=(u(296540),()=>u(736847)),s=()=>u(589407),a=()=>u(12956),c=u(474848);const l=(0,D().YK)({moreOptions:{id:"action.moreOptions",defaultMessage:"More options"}});var d=()=>u(431404),F=()=>u(680288),C=()=>u(129522);const m=25,p=5,E=(0,D().YK)({mixedBlocks:{id:"actionMenuHelpers.mixedBlocks.title",defaultMessage:"{count, plural, one {{count} block} other {{count} blocks}}"}});function g(e){const t=n().A.getIntl(),{sections:u,context:D,query:g,shouldShowBlockTypeTitle:v}=e;let f=g.trim().toLowerCase();f.startsWith("/")&&(f=f.slice(1));const A=h(u,D).map(((e,u)=>{let{actions:n,title:o}=e;const i=n.length-p;if(e.shouldShowMoreOptions&&i>1){const e=function(e){return(0,a().u)({key:"more options",displayName:l.moreOptions,analyticsName:l.moreOptions.defaultMessage,svg:s().ellipsisIcon,validators:[],subActions:()=>[{key:0,title:void 0,render:e=>(0,c.jsx)(r().A,{...e}),actions:e}]})}(n.slice(p));n=[...n.slice(0,p),e]}const m=D.blocks[0];if(m){const e=m.getType();if(v&&e&&0===u){const u=D.blocks.every((t=>t.getType()===e))?(0,d().Z)(e):E.mixedBlocks;if(u){var g;o=t.formatMessage(u,{count:D.blocks.length});const e=null===(g=C().K.findCollectionViewBlockFromStore(m))||void 0===g?void 0:g.collectionContextStore.getViewType();if(e){const t=F().to[e];t&&(o+=`  ${t}`)}}}}return{...e,actions:n,title:o}}));if(!f)return A;const B=function(e){return e.map((e=>({...e,actions:e.actions.map((t=>{const u=t.searchName||t.displayName||"",n=[u,e.searchTitle||e.title||"",u].join(" ");return{...t,searchName:n}}))})))}(function(e,t){const u=[];for(const n of e){const e={...n,actions:[]};for(const D of n.actions)if(y(D,t))if(D.subActions){const o=h(D.subActions(t),t);if(D.hideSubActions){e.actions.push(D);continue}if(D.collapseSubActionsIntoParent){for(const t of o)for(const u of t.actions)e.actions.push(u);continue}const i=o.map((e=>({...e,key:`${n.key} ${D.key} ${e.key}`,title:e.title||D.displayName,searchTitle:[D.searchName||D.displayName,e.searchTitle||e.title].filter(Boolean).join(" ")})));for(const e of i)u.push(e)}else e.actions.push(D);e.actions.length&&u.push(e)}return u}(u,D)),S=[],x=new Map;for(const n of B)for(const e of n.actions)x.set(e,n),S.push(e);const b=(0,o().Ay)(f,S,(e=>e.searchName||""),{minScore:m,getSortScore:e=>-e.score*(e.original.sortScoreMultiplier??1)}),k=new Set(b),w=S.filter((e=>Boolean(e.alwaysShowInSearch)&&!k.has(e))),_=w.filter((e=>"start"===e.alwaysShowInSearch)),I=w.filter((e=>"end"===e.alwaysShowInSearch)),j=i().$z([..._,...b,...I],(e=>{const t=x.get(e);if(t)return t.title})),M=[];for(const n of Object.keys(j)){const e=j[n],t=x.get(e[0]);t&&M.push({...t,actions:e})}return M}function v(e,t){if(!t)return e;let u=0;const n=[];for(const D of e){if(u>=t)break;const e=D.actions.slice(0,t-u);e.length>0&&(u+=e.length,n.push({...D,actions:e}))}return n}function f(e,t){const u=[];for(const n of e){const e=n.actions.filter(t);e.length>0&&u.push({...n,actions:e})}return u}function h(e,t){return f(e,(e=>y(e,t)))}function y(e,t){if(e.validators){return e.validators.every((e=>e(t)))}return!0}},709438:(e,t,u)=>{u.d(t,{m:()=>s});u(296540);var n=()=>u(401497),D=()=>u(69708),o=()=>u(100622),i=u(474848);const r=8;function s({color:e,size:t,style:u}){const s=(0,D().tz)(),a=(0,n().IS)((()=>({dot:{height:t||r,width:t||r,background:e||o().Tj.blue.icon.accentPrimary,flexShrink:0,borderRadius:"100%",pointerEvents:"none",...u}})),[t,e,u]);return(0,i.jsx)("div",{role:"img","aria-label":s.formatMessage({id:"statusDot.ariaLabel",defaultMessage:"New"}),style:a.dot})}},741817:(e,t,u)=>{u.d(t,{v:()=>i});var n=()=>u(18387),D=()=>u(299545),o=()=>u(588836);function i(e){const{discussionStore:t,transaction:u}=e,i=D().No(t);i&&(0,o().u)({discussionIds:[t.id],transaction:u,blockStore:i});const r=(0,n().Z)();if(r){const e=D().zo({blockStore:r,transclusionReferences:"recurseInto",childPages:"omit"});for(const n of e){if(i&&n.table===i.table&&n.id===i.id)continue;const e=D().bN(n).getValue();null!=e&&e.includes(t.id)&&(0,o().u)({discussionIds:[t.id],transaction:u,blockStore:n})}}}},768631:(e,t,u)=>{u.d(t,{k:()=>n,w:()=>D});const n=260,D=24},782798:(e,t,u)=>{u.d(t,{R:()=>o});u(296540);var n=u(474848);const D={viewBox:"0 0 16 16",fittedViewBox:"2.12 3.37 11.75 9.25",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M6.75 5.073a1.275 1.275 0 1 0 0 2.55 1.275 1.275 0 0 0 0-2.55"}),(0,n.jsx)("path",{d:"M4 3.375c-1.036 0-1.875.84-1.875 1.875v5.5c0 1.036.84 1.875 1.875 1.875h8c1.036 0 1.875-.84 1.875-1.875v-5.5c0-1.036-.84-1.875-1.875-1.875zM3.375 5.25c0-.345.28-.625.625-.625h8c.345 0 .625.28.625.625v2.537l-1.768-1.769a.575.575 0 0 0-.813 0L6.788 9.274l-1.531-1.53a.575.575 0 0 0-.814 0L3.375 8.811zm3.82 5.244 3.255-3.256 2.175 2.175v1.337c0 .345-.28.625-.625.625H4a.625.625 0 0 1-.625-.625v-.312L4.85 8.963l1.531 1.531a.575.575 0 0 0 .813 0"})]})},o=(0,u(340498).wt)("photoSmall",D,"small")},824160:(e,t,u)=>{u.d(t,{A:()=>a});u(296540);var n=()=>u(726637),D=()=>u(484714),o=()=>u(401497),i=()=>u(718827),r=()=>u(100622),s=u(474848);function a(e){const t=(0,D().Y0)(),u=(0,o().IS)((()=>({sharedStyle:{display:"flex",alignItems:"center",borderRadius:4},innerStyle:{padding:"2px 6px",borderRadius:4,color:r().Tj.text.secondary,background:r().Tj.defaultBadgeBackground,fontSize:n().A.isMobile?11:9,lineHeight:t.isAndroid?1.5:1,textTransform:"uppercase",letterSpacing:"0.04em",whiteSpace:"nowrap"}})),[t.isAndroid]);return n().A.isMobile?(0,s.jsx)(i().Ay,{style:{...u.sharedStyle,...e.mobileStyle},disabled:void 0===e.onClick,children:(0,s.jsx)("div",{style:{...u.innerStyle,...e.innerStyle},children:e.children})}):(0,s.jsx)(i().Ay,{style:{...u.sharedStyle,...e.desktopStyle},disabled:void 0===e.onClick,...e,children:(0,s.jsx)("div",{style:{...u.innerStyle,...e.innerStyle},children:e.children})})}},848401:(e,t,u)=>{u.d(t,{Ay:()=>m,mI:()=>F,vb:()=>C});u(296540);var n=()=>u(401497),D=()=>u(718827),o=()=>u(807449),i=()=>u(784892),r=()=>u(563692),s=()=>u(340498),a=()=>u(69708),c=()=>u(284371),l=u(474848);const d=(0,a().YK)({removeTokenLabel:{defaultMessage:"Remove {title}",id:"uiGenericToken.removeTokenLabel"},removeTokenLabelGeneric:{defaultMessage:"Remove Item",id:"uiGenericToken.removeTokenLabelGeneric"}}),F=i().NY,C={[i().NY.ExtremeSmall]:{height:12,fontSize:10,margin:"0 4px 0 0",marginEditState:"0 6px 0 0",closeIconSize:s().Ev.xxs,avatarSize:14},[i().NY.ExtraSmall]:{height:14,fontSize:12,margin:"0 6px 0 0",marginEditState:"0 6px 0 0",closeIconSize:s().Ev.xxs,avatarSize:14},[i().NY.Small]:{height:18,fontSize:12,margin:"0 6px 6px 0",marginEditState:"0 6px 6px 0",closeIconSize:s().Ev.xxs,avatarSize:16},[i().NY.CompactEssential]:{height:20,fontSize:14,margin:"0 10px 6px 0",marginEditState:"0 6px 6px 0",closeIconSize:s().Ev.xxs,avatarSize:20},[i().NY.Medium]:{height:20,fontSize:14,margin:"0 10px 6px 0",marginEditState:"0 6px 6px 0",closeIconSize:s().Ev.xxs,avatarSize:20},[i().NY.Inline]:{height:20,fontSize:14,closeIconSize:s().Ev.xxs,avatarSize:20,margin:"0 -5px 0 0",marginEditState:"0 6px 0 0"},[i().NY.Large]:{height:24,fontSize:16,margin:"0 8px 8px 0",marginEditState:"0 8px 8px 0",closeIconSize:s().Ev.sm,avatarSize:24}};function m({avatarSize:e,format:t,isSingle:u,onClickRemove:i,renderAvatar:s,showRemoveButton:F,shouldShrink:m,style:p,title:E}){const g=(0,a().tz)(),{height:v,fontSize:f,margin:h,marginEditState:y,closeIconSize:A,avatarSize:B}=C[t],S=e??B,x=(0,n().IS)((()=>({root:{display:"flex",alignItems:"center",flexShrink:m?1:0,minWidth:0,height:v,borderRadius:6,fontSize:f,lineHeight:"120%",margin:u?0:F?y:h,...p}})),[f,v,u,h,y,m,F,p]);return(0,l.jsxs)("div",{style:x.root,children:[null==s?void 0:s(S),(0,l.jsx)("div",{className:"notranslate",style:{...c().RC},children:E}),F?(0,l.jsx)(D().Ay,{ariaLabel:void 0!==E?g.formatMessage(d.removeTokenLabel,{title:E}):g.formatMessage(d.removeTokenLabelGeneric),onClick:i,style:{display:"flex",alignItems:"center",justifyContent:"center",width:v,height:v,marginInlineStart:2,marginInlineEnd:2,flexGrow:0,flexShrink:0,borderRadius:6},children:(0,l.jsx)(o().I,{icon:r().xMarkFillSmallIcon,size:A,style:{opacity:.5}})}):null]})}},848565:(e,t,u)=>{u.d(t,{FB:()=>d,JC:()=>C,Ql:()=>F,Wv:()=>o,Yz:()=>r,ds:()=>D,e4:()=>n,eQ:()=>i,im:()=>a,jw:()=>s,k2:()=>l,uG:()=>c});const n=8,D=10,o=8,i=24,r=6,s=1.5,a=(i-s)/2,c=i+r,l=`calc(100% + ${o+(n-r)-c}px)`,d=i+8,F=-16;function C(e,t,u){return t?20:"margin_comments"===e?12:"comment_unfurl"===e&&"start"===u?14:16}},871830:(e,t,u)=>{u.d(t,{O:()=>a,d:()=>s});var n=()=>u(401497),D=()=>u(100622),o=()=>u(284371),i=()=>u(115512),r=()=>u(768631);function s(){return(0,n().IS)((()=>({wrapper:{width:r().k},coverContainer:{height:36,zIndex:1},content:{padding:"0 16px"},breadcrumb:{color:D().Tj.text.tertiary,fontSize:11,marginBottom:-2,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"100%"},pageTitle:{display:"inline",fontWeight:o().Wy.semibold,color:D().Tj.text.primary,fontSize:13,lineHeight:1.15},pageTitleIcon:{zIndex:2,position:"relative",marginInlineStart:16,marginTop:-15,marginBottom:8},pageTitleContainer:{...(0,i().pA)(2),verticalAlign:"top",lineHeight:1.15},empty:{height:16},highlightedBlockWrapper:{display:"flex",marginBottom:8}})),[])}function a(){return(0,n().IS)((()=>({icon:{height:16,width:16,fill:D().Tj.purple.icon.accentPrimary,marginInlineEnd:2},title:{fontSize:12,color:D().Tj.purple.icon.accentPrimary},summary:{...(0,i().pA)(4),fontSize:12,lineHeight:1.35,color:D().Tj.text.secondary,marginBottom:12},contentCover:{color:D().Tj.text.primary,fontSize:11,lineHeight:1.5,marginBottom:0,width:"110%",transform:"translateX(-13px) translateY(-2px) scale(0.91)"},contentCoverEmpty:{height:16},imageCoverWrap:{marginBottom:16},contentCoverFade:{height:48,background:`linear-gradient(to bottom, transparent, ${D().Tj.background.elevated} 100%)`},loadingShimmer:{marginBottom:0},rendererBlockStyle:{fontSize:9}})),[])}},877349:(e,t,u)=>{u.d(t,{y:()=>F});u(581454),u(296540);var n=()=>u(590526),D=()=>u(249046),o=()=>u(495576),i=()=>u(187820),r=()=>u(128295),s=()=>u(16006),a=()=>u(768631),c=()=>u(871830),l=()=>u(490242),d=u(474848);function F(e){const{store:t,contentBlocks:u,events:F,size:C="regular",isDiscussion:m,hideCover:p=!1,hideIcon:E=!1,hideTitle:g=!1}=e,v=(0,c().d)(),{icon:f,isEmptyPage:h,content:y}=(0,n().K8)((()=>{if(!t)return{icon:void 0,isEmptyPage:!1,content:null};const e=t.isEmptyPage(),n=e?(0,d.jsx)("div",{style:{height:a().w}}):u?u.map(((e,u)=>(0,d.jsx)("div",{style:v.highlightedBlockWrapper,children:(0,d.jsx)(l().f,{store:t,startBlockId:null==e?void 0:e.id,size:C,isDiscussion:m})},`${e.id}_${u}`))):(0,d.jsx)(l().f,{store:t,size:C});return{icon:t.getIcon(),isEmptyPage:e,content:n}}),[t,u,v.highlightedBlockWrapper,C,m]),A=(0,n().K8)((()=>(0,i().Te)(t)),[t]);return t?(0,d.jsxs)("div",{style:v.wrapper,...F,children:[p?void 0:(0,d.jsx)("div",{style:v.coverContainer,children:(0,d.jsx)(o().d,{store:t,disabled:!0,paddingLeft:0,paddingRight:0,height:36,proxyWidth:260})}),E?void 0:(0,d.jsx)(i().B6,{disabled:!0,icon:f,iconRecordCategory:A,isEmptyPage:h,isLarge:!0,disableShrinking:!0,size:26,emojiSize:26,largeIcon:!0,style:v.pageTitleIcon}),(0,d.jsxs)(D().wt,{gap:4,style:v.content,children:[g?void 0:(0,d.jsxs)(D().wt,{gap:2,children:[(0,d.jsx)(r().Ay,{store:t,style:v.breadcrumb}),(0,d.jsx)("div",{style:v.pageTitleContainer,children:(0,d.jsx)(s().A,{shouldWrap:!0,maxLines:2,store:t,style:v.pageTitle})})]}),y]})]}):null}}}]);