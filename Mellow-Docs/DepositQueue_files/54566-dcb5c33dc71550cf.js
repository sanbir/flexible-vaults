"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[53697,54566],{24126:(e,t,n)=>{n.d(t,{c:()=>i});n(296540);const r={viewBox:"0 0 20 20",fittedViewBox:"3.9 2.75 12.18 14.49",svg:(0,n(474848).jsx)("path",{d:"M12.626 2.768a.625.625 0 0 1 0 1.224l-.126.013h-.125v4.794l3.366 5.159c.893 1.369-.03 3.17-1.623 3.281l-.156.006H6.039c-1.688 0-2.703-1.873-1.78-3.287l3.366-5.157V4.005H7.5a.625.625 0 0 1 0-1.25h5zM8.875 9.173l-.102.156-1.567 2.401h5.589l-1.569-2.403-.101-.156V4.005h-2.25z"})},i=(0,n(340498).wt)("beaker",r,"default")},107620:(e,t,n)=>{n.d(t,{y:()=>i});n(296540);const r={viewBox:"0 0 20 20",fittedViewBox:"1.81 2.89 16.38 15.08",svg:(0,n(474848).jsx)("path",{d:"M16.938 9.853c0-2.97-2.539-5.54-6.545-5.697L10 4.148c-4.232 0-6.938 2.639-6.938 5.705 0 1.438.583 2.752 1.617 3.76a.63.63 0 0 1 .18.546 7.3 7.3 0 0 1-.89 2.528c1.108-.13 2.12-.614 3.01-1.344l.063-.044a.63.63 0 0 1 .505-.073 9 9 0 0 0 2.454.333l.392-.007c4.006-.158 6.545-2.728 6.545-5.699m1.25 0c0 3.803-3.234 6.766-7.747 6.948l-.44.008a10.2 10.2 0 0 1-2.485-.299c-1.349 1.022-2.985 1.62-4.826 1.428a.625.625 0 0 1-.406-1.033c.712-.817 1.096-1.737 1.284-2.642-1.116-1.197-1.756-2.733-1.756-4.41 0-3.925 3.447-6.955 8.189-6.955l.44.009c4.512.181 7.747 3.143 7.747 6.946"})},i=(0,n(340498).wt)("chatBubble",r,"default")},359929:(e,t,n)=>{n.d(t,{A:()=>P,P:()=>C});var r=n(296540),i=()=>n(726637),o=()=>n(484714),a=()=>n(590526),s=()=>n(401497),l=()=>n(30537),d=()=>n(807449),c=()=>n(695115),u=()=>n(546926),p=()=>n(890492),g=()=>n(416504),f=()=>n(236262),h=()=>n(69708),m=()=>n(100622),v=()=>n(384944),x=()=>n(898286),b=()=>n(391214),S=()=>n(366437),w=()=>n(270710),y=()=>n(654774),j=()=>n(547149),k=()=>n(187820),I=()=>n(729368),A=n(474848);const M={property:!0};function C(){return(0,s().IS)((()=>({wrapper:{display:"flex",alignItems:"center",color:m().Tj.text.primary,fontSize:"13px",padding:"4px 8px"},input:{display:"block",flexGrow:1,fontSize:14,lineHeight:"20px",paddingTop:4,paddingBottom:4,paddingInlineStart:10,paddingInlineEnd:10,width:"100%",borderRadius:4,boxShadow:m().Tj.inputBoxShadow,background:m().Tj.inputBackground,cursor:"text",position:"relative"}})),[])}function T(e){const t=(0,h().tz)(),n=(0,o().v3)(),s=(0,a().K8)((()=>w().A.state.clonedBlockStore),[]),l=(0,a().K8)((()=>null==s?void 0:s.getTitleStore()),[s]),d=(0,a().K8)((()=>(null==s?void 0:s.canEdit())??!1),[s]),c=(0,a().K8)((()=>{var e;if(s)return null===(e=s.getModel())||void 0===e?void 0:e.getEmptyTitlePlaceholder({getRecordModel:s.getRecordModel,userTimeZone:(0,g().P)(),intl:t})}),[s,t]);(0,r.useEffect)((()=>{if(!s)return;const e=s.getTitleStore();e&&(0,y().x)({environment:n,store:e,canSelectAllBlocks:!1})}),[s,n]);const f=C();if(!s||!l)return null;const{renderDelete:m}=e;let v;return v=i().A.isMobile?{menuType:u().gu.ActionSheet}:{menuType:u().gu.Popup,width:380},(0,A.jsx)(p().A,{...v,children:(0,A.jsxs)("div",{style:f.wrapper,children:[(0,A.jsx)(W,{blockStore:s}),(0,A.jsx)(I().A,{store:l,disabled:!d,onEsc:()=>x().V(n),onEnter:()=>x().V(n),onTab:()=>!0,disableSlashCommands:!0,disableEmojiCommands:!0,disableSelectAllBlocks:!0,disableSelectionDrag:!0,disableStyleAnnotations:!0,disableInsertedDeletedAnnotations:!0,placeholder:c,style:f.input,pasteBehavior:"inline",inPageFind:S().Os.none,disabledMentionTypes:M}),m&&d?(0,A.jsx)(B,{}):void 0]})})}const P=function(){const e=(0,o().v3)(),{clonedBlockStore:t,originRect:r}=(0,a().K8)((()=>{const{clonedBlockStore:e,originRect:t}=w().A.state;return{clonedBlockStore:e,originRect:t}}),[]);return(0,A.jsx)(n(127833).zD,{popupType:i().A.isMobile?l().n.SlideUp:l().n.Popup,open:Boolean(t),originRect:r,placementToOrigin:"bottom",alignmentToOrigin:"center",originGap:4,onDismiss:()=>x().V(e),render:()=>(0,A.jsx)(D,{}),trapFocus:!0})};function B(){const e=(0,o().v3)(),t=(0,h().tz)();return(0,A.jsx)(c().A,{ariaLabel:t.formatMessage({id:"renamePageMenu.deleteButton.ariaLabel",defaultMessage:"Delete"}),icon:e=>(0,A.jsx)(d().I,{icon:f().trashIcon,style:{...e}}),style:{marginInlineStart:6},hasBackground:!0,colorVariant:"primary",showShadow:!0,onClick:async()=>{const{originalBlockStore:t}=w().A.state;t&&await b().Af({environment:e,blocks:[t],shouldCheckSuggestEdit:!0}),x().V(e)}})}function D(){const e=(0,a().K8)((()=>w().A.state.renderDelete),[]);return(0,A.jsx)(T,{renderDelete:Boolean(e)})}function W({blockStore:e}){const t=(0,o().v3)(),n={width:28,height:28,marginInlineEnd:6,flexShrink:0,flexGrow:0,boxShadow:`inset 0 0 0 1px ${m().Tj.border.primaryTranslucent}`},r=(0,a().K8)((()=>e.canEdit()),[e]),i=(0,a().K8)((()=>{var t;return null===(t=e.getIconStore())||void 0===t?void 0:t.table}),[e]),s=(0,a().K8)((()=>{var t;return null===(t=e.getIconStore())||void 0===t?void 0:t.id}),[e]),l=(0,a().K8)((()=>e.getIcon()),[e]),d=(0,a().K8)((()=>e.isEmptyPage()),[e]),c=(0,a().K8)((()=>e.getType()),[e]),u=(0,a().K8)((()=>(0,k().Te)(e)),[e]);return r?(0,A.jsx)(k().B6,{disabled:!1,bucket:"secure",store:e,icon:l,iconRecordCategory:u,isEmptyPage:d,size:18,style:n,iconLoggingData:{recordTable:i,source:"breadcrumb",block_type:c,collection_id:"collection"===i?s:void 0},onChange:e=>function(e,t){const{clonedBlockStore:n}=w().A.state;if(n){const r=n.getIconStore();r&&j().createAndCommit({userAction:"RenamePageMenuPopup.handleRecordIconChange",environment:t,canUndo:!0,perform:t=>{v().KY({store:r,value:e,transaction:t})}})}}(e,t)}):(0,A.jsx)(k().B6,{disabled:!0,icon:l,iconRecordCategory:u,isEmptyPage:d,size:18,style:n})}},359941:(e,t,n)=>{n.d(t,{V:()=>a});var r=()=>n(230711),i=()=>n(590526),o=()=>n(981342);function a(e){const{spaceStore:t}=e,n=(0,r().nB)(t);return(0,i().K8)((()=>(0,o().MU)({spaceStore:t,actorRole:n})),[t,n])}},360576:(e,t,n)=>{n.r(t),n.d(t,{iconDefinition:()=>r,personFillSmallIcon:()=>i});n(296540);const r={viewBox:"0 0 16 16",fittedViewBox:"2.89 1.85 10.22 12.3",svg:(0,n(474848).jsx)("path",{d:"M8 1.85c-.925 0-1.673.382-2.179 1.012-.495.617-.73 1.435-.73 2.29 0 .856.235 1.674.73 2.291.506.63 1.255 1.012 2.18 1.012.924 0 1.672-.382 2.178-1.012.495-.617.73-1.435.73-2.29 0-.856-.235-1.674-.73-2.291C9.673 2.232 8.925 1.85 8 1.85m0 7.403c-2.175 0-4.115 1.06-4.94 2.672-.3.585-.165 1.179.19 1.594.34.396.873.63 1.43.63h6.64c.557 0 1.09-.234 1.43-.63.355-.415.49-1.01.19-1.594-.825-1.612-2.765-2.672-4.94-2.672"})},i=(0,n(340498).wt)("personFillSmall",r,"fillSmall")},383567:(e,t,n)=>{n.d(t,{F:()=>o});n(296540);var r=n(474848);const i={viewBox:"0 0 20 20",fittedViewBox:"3.26 1.98 16.32 17.52",svg:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("path",{d:"M15.825 12a3.75 3.75 0 1 1-.001 7.501 3.75 3.75 0 0 1 0-7.501m0 1.325a.55.55 0 0 0-.55.55V15.2H13.95a.55.55 0 0 0-.001 1.1h1.326v1.325a.55.55 0 0 0 1.1 0V16.3h1.324a.55.55 0 0 0 0-1.1h-1.325v-1.325a.55.55 0 0 0-.55-.55M9.702 5.022a3.918 3.918 0 0 1 6.742.036.626.626 0 0 1-1.08.63 2.667 2.667 0 0 0-4.59-.023L5.376 14.68l4.19.678a.626.626 0 0 1-.2 1.235l-5.1-.827a.625.625 0 0 1-.437-.938z"}),(0,r.jsx)("path",{d:"M10.912 8.094a1.178 1.178 0 1 1 2.326.377 1.178 1.178 0 0 1-2.326-.377M4.7 7.087a1.178 1.178 0 1 1 2.327.377A1.178 1.178 0 0 1 4.7 7.087M3.488 2.985a3.92 3.92 0 0 1 5.572.357.625.625 0 0 1-.944.818 2.67 2.67 0 0 0-3.796-.243.625.625 0 1 1-.832-.932"})]})},o=(0,n(340498).wt)("aiFacePlus",i,"default")},383814:(e,t,n)=>{n.d(t,{G:()=>o});var r=()=>n(207214),i=()=>n(486674);function o(e){return"agent"===e.RouterStore.state.route.name?(0,r().k)(e):(0,i().a)()}},435442:(e,t,n)=>{n.d(t,{J:()=>Ze,default:()=>Ye});n(16280);var r=n(296540),i=()=>n(242422),o=()=>n(484714),a=()=>n(590526),s=()=>n(401497),l=()=>n(69708),d=()=>n(696746),c=()=>n(823569);var u=()=>n(907258),p=()=>n(792485),g=()=>n(876338),f=()=>n(295633),h=()=>n(179034);function m(e){const t=(0,p().S)();return(0,a().K8)((()=>{const n=(0,g().$)(t)||u().default.state.mainEditorCurrentBlockStore;if(n)return"page"===e.name&&e.blockId?f().B.createChildStore(n,{table:h().ev,id:e.blockId,spaceId:e.spaceId}):void 0}),[e,t])}var v=()=>n(755531),x=()=>n(726637),b=()=>n(350013),S=()=>n(127833),w=()=>n(250910),y=()=>n(631524),j=()=>n(743246),k=()=>n(546926),I=()=>n(890492),A=()=>n(687879),M=()=>n(622936),C=()=>n(233692),T=()=>n(419357),P=()=>n(359929),B=n(474848);function D({workflowStore:e,onClose:t}){const n=(0,o().v3)(),i=(0,a().K8)((()=>(0,C().m)(e||"")),[e]),l=(0,a().K8)((()=>e.canEdit()),[e]),[d,c]=(0,r.useState)(i.name);(0,r.useEffect)((()=>{c(i.name)}),[i.name]);const u=(0,r.useCallback)((e=>{c(e.target.value)}),[]),p=(0,r.useCallback)((()=>{if(!e||!l)return;const r=d.trim();r&&r!==i.name&&A().saveName({workflowStore:e,name:r,environment:n}),t()}),[e,l,d,i.name,t,n]),g=(0,P().P)(),f=(0,s().IS)((()=>({container:{display:"flex",alignItems:"center",flexShrink:0,marginInlineEnd:6,paddingInlineStart:2,paddingInlineEnd:4}})),[]);let h;return h=x().A.isMobile?{menuType:k().gu.Modal}:{menuType:k().gu.Popup,width:380},(0,B.jsx)(I().A,{...h,children:(0,B.jsxs)("div",{style:g.wrapper,children:[(0,B.jsx)("span",{style:f.container,children:(0,B.jsx)(M().AgentIcon,{agentIcon:i.icon,workflowStore:e,size:18})}),(0,B.jsx)(T().Ay,{focusInitial:!0,selectAll:!x().A.isMobile,value:d,onChange:u,onSubmit:p,onBlur:p,onCancel:t,disabled:!l,showClearButton:!1,suppressFocusRing:!0,inputStyle:g.input,inputOuterStyle:{padding:0,boxShadow:"none",background:"none"},style:{padding:0}})]})})}function W({route:e}){const t=(0,s().IS)((()=>({item:{padding:"4px 8px",minWidth:0,maxWidth:400,display:"flex",alignItems:"center",flexShrink:1,gap:6},nameContainer:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}})),[]),n=(0,a().K8)((()=>{const t=(0,v().S)();if(t&&e.workflowId)return b().N.createChildStore(t,{table:j().C0,id:e.workflowId,spaceId:t.id})}),[e.workflowId]),r=(0,a().K8)((()=>n?(0,C().m)(n,"Agent"):{name:"Agent",icon:""}),[n]),i=(0,a().K8)((()=>(null==n?void 0:n.canEdit())??!1),[n]);return n&&i?(0,B.jsx)(w().A,{popupType:x().A.isMobile?S().nl.BottomSheet:S().nl.Popup,renderOrigin:e=>(0,B.jsxs)(y().p,{...e,shouldShrink:!0,size:"sm",disabled:!i,style:t.item,children:[(0,B.jsx)(M().AgentIcon,{agentIcon:r.icon,workflowStore:n,size:16}),(0,B.jsx)("span",{style:t.nameContainer,children:r.name})]}),render:({close:e})=>(0,B.jsx)(D,{workflowStore:n,onClose:e}),bottomSheetInitialState:"half",alignmentToOrigin:"center",originGap:4}):(0,B.jsxs)("span",{style:t.item,children:[n?(0,B.jsx)(M().AgentIcon,{agentIcon:r.icon,workflowStore:n,size:16}):void 0,(0,B.jsx)("span",{style:t.nameContainer,children:r.name})]})}var K=()=>n(920198),E=()=>n(312788),R=()=>n(463086),_=()=>n(234459),V=()=>n(760342),z=()=>n(496703),L=()=>n(277942);function U({route:e,config:t}){const{navigate:n}=(0,r.useContext)(E().E),i=(0,o().v3)(),l=(0,s().IS)((()=>({container:{display:"flex",alignItems:"center",flexShrink:1}})),[]),d=(0,K().L)(),c=(0,a().K8)((()=>{if(d&&e.agentChatThreadId)return R().E.createChildStore(d,{table:_().To,id:e.agentChatThreadId,spaceId:d.id})}),[e.agentChatThreadId,d]),u=(0,a().K8)((()=>c?c.isReady()?"ready":"loading":"new"),[c]),p=r.useCallback((({newThreadStore:t})=>{if(e.workflowId&&null!=t&&t.id){const r=(0,z().L)({workflowId:e.workflowId,params:{agentChatThreadId:t.id}});n({environment:i,url:r})}}),[e.workflowId,i,n]);return d?(0,B.jsx)("div",{style:l.container,children:(0,B.jsx)(L().He,{threadStore:c,threadStoreState:u,onThreadChange:p,parentStore:d,workflowId:(0,V().BI)(t)})}):null}n(898992),n(354520),n(581454);var O=()=>n(59226),N=()=>n(732810),F=()=>n(371722),H=()=>n(44551);function G(e){var t;null===H().electronApi||void 0===H().electronApi||null===(t=H().electronApi.setTabBreadcrumbs)||void 0===t||t.call(H().electronApi,e)}var q=()=>n(71304),$=()=>n(957606),Q=()=>n(718827),J=()=>n(663639),X=()=>n(675811),Z=()=>n(864040);const Y=function(e){const{stores:t}=e,r=(0,o().v3)(),i={display:"flex",alignItems:"center",flexShrink:0};return(0,B.jsx)(w().A,{popupType:x().A.isMobile?w().z.SlideUp:w().z.Popup,renderOrigin:e=>x().A.isMobile?(0,B.jsxs)(Q().Ay,{style:{...i},...e,children:[(0,B.jsx)(X().f,{}),(0,B.jsx)("div",{style:{marginInlineStart:8,marginInlineEnd:8},children:"..."}),(0,B.jsx)(X().f,{})]}):(0,B.jsxs)("div",{style:i,children:[(0,B.jsx)(y().p,{size:"sm",...e,children:"..."}),(0,B.jsx)(X().f,{})]}),render:e=>{let i;return i=x().A.isMobile?{menuType:k().gu.Modal,title:(0,B.jsx)(l().sA,{defaultMessage:"Breadcrumb",id:"breadcrumb.mobileBreadcrumbMenu.title"}),right:(0,B.jsx)(l().sA,{...n(245720).W.done}),onClickRight:e.close}:{menuType:k().gu.Popup,width:240},(0,B.jsx)(I().A,{...i,children:(0,B.jsx)(J().A,{type:J().O.Vertical,onAccept:e.close,initialFocus:void 0,sections:(0,Z().A)(r,t)})})}})};var ee=()=>n(723085),te=()=>n(534177),ne=()=>n(568891),re=()=>n(79926),ie=()=>n(584262),oe=()=>n(547392),ae=()=>n(938379);function se({store:e,pageVisitSource:t}){var n,r;return(0,ae().C)({collectionId:e.id,spaceId:e.getSpaceId(),spaceDomain:null===(n=e.getSpaceStore())||void 0===n?void 0:n.getEditDomain(),parentCvbId:null===(r=e.getParentPointer())||void 0===r?void 0:r.id,pageVisitSource:t})}var le=()=>n(855801),de=()=>n(692763),ce=()=>n(547149),ue=()=>n(20039);function pe(e){const{store:t,showDivider:n,maxWidth:i,iconSize:l,emojiSize:d,highlighter:c,disabled:u}=e,p=(0,o().v3)(),g=(0,s().IS)((()=>({selectable:{display:"flex",alignItems:"center",minWidth:0},button:{display:"flex",minWidth:0,fontSize:"inherit",paddingTop:2,paddingBottom:2,paddingInlineStart:6,paddingInlineEnd:6}})),[]),f=(0,a().K8)((()=>t.getParentCollectionViewBlockStore()),[t]),{url:h,canEdit:m}=(0,a().K8)((()=>({url:se({store:t,pageVisitSource:ie().y8.Breadcrumb}),canEdit:t.canEdit()})),[t]),{value:v}=(0,re().fJ)(le().VI.duplicateActions),x=(0,r.useCallback)((e=>{ce().createAndCommit({userAction:"BreadcrumbDataSourceButton.onDrop",environment:p,canUndo:!0,perform:n=>{const{droppedDirection:r,droppedStores:i,duplicate:o}=e;r===ne().bH.Onto&&oe().MS({environment:p,targetStore:t,droppedDirection:r,droppedStores:i,duplicate:o,transaction:n,duplicateActions:v})}})}),[p,t,v]);if(!f)return null;const b=(0,B.jsx)(ue().A,{store:t,maxWidth:i,iconSize:l,emojiSize:d,highlighter:c});return(0,B.jsxs)(r.Fragment,{children:[(0,B.jsx)(de().Ay,{store:f,canDropOnto:m,onSelectableDrop:x,style:g.selectable,analyticsName:"breadcrumb",shouldShowDropZone:!0,children:(0,B.jsx)(y().p,{href:h,external:!1,style:g.button,size:"sm",shouldShrink:!0,disabled:u,children:b})}),n?(0,B.jsx)(X().f,{}):void 0]},t.id)}var ge=()=>n(906719),fe=()=>n(565049),he=()=>n(996332);function me(e){const{store:t,showDivider:n,maxWidth:r,disabled:o}=e,l=(0,s().IS)((()=>({item:{cursor:o?"default":"pointer",opacity:1,textDecoration:"none",padding:"4px 8px",borderRadius:6,minWidth:0,maxWidth:r,display:"flex",alignItems:"center",flexShrink:0,gap:6},nameContainer:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",minWidth:0},badge:{flexShrink:0}})),[o,r]),d=(0,a().K8)((()=>(0,C().m)(t,"Agent")),[t]),u=(0,z().L)({workflowId:t.id,params:{workflowViewType:"chat"}}),p=(0,a().K8)((()=>i().default.getConfig({configName:"custom_agent_rollout_badge"})),[]);return(0,B.jsxs)(B.Fragment,{children:[o?(0,B.jsxs)("span",{style:l.item,children:[(0,B.jsx)(M().AgentIcon,{agentIcon:d.icon,workflowStore:t,size:16}),(0,B.jsx)("span",{style:l.nameContainer,children:d.name}),(0,B.jsx)("span",{style:l.badge,children:(0,B.jsx)(c().A,{badgeConfig:p})})]}):(0,B.jsxs)(he().Q,{href:u,style:l.item,children:[(0,B.jsx)(M().AgentIcon,{agentIcon:d.icon,workflowStore:t,size:16}),(0,B.jsx)("span",{style:l.nameContainer,children:d.name}),(0,B.jsx)("span",{style:l.badge,children:(0,B.jsx)(c().A,{badgeConfig:p})})]}),n?(0,B.jsx)(X().f,{}):void 0]})}function ve(e){const{ancestorMaxWidth:t,showDivider:n,store:r,disabled:i}=e;return r instanceof ee().h?(0,B.jsx)(fe().A,{store:r,showDivider:n,maxWidth:t,disabled:i}):r instanceof f().B?(0,B.jsx)(ge().A,{store:r,showDivider:n,maxWidth:t,disabled:i}):r instanceof N().m?(0,B.jsx)(pe,{store:r,showDivider:n,maxWidth:t,disabled:i}):r instanceof b().N?(0,B.jsx)(me,{store:r,showDivider:n,maxWidth:t,disabled:i}):void(0,te().HB)(r)}function xe(e){const{ancestorMaxWidth:t,homeStore:n,route:i,maxAncestorCount:s,disabled:c}=e,u=(0,o().v3)(),p=(0,l().tz)(),g=m(i),h=(0,O().X)("team_feed_as_any_other_db"),[v,S]=(0,a().K8)((()=>{if(!g)return[[],[]];const e=(0,F().f)(g,{includeTeamHomeFeed:h,includeDataSources:!0});e.reverse();const t=g.isNavigableBlock()?e.slice(0,-1):[...e];return g.isTeamPage()?[[],[]]:[t,e]}),[g,h],{useDeepEqual:!0}),w=(0,a().K8)((()=>v.map((e=>(0,q().Qe)(e,p,u,!0)||(0,q().gG)(e,p)||""))),[u,p,v]);(0,r.useEffect)((()=>(G(w),()=>{G(void 0)})),[w]);const y=(0,a().K8)((()=>g&&(0,d().Nh)(g.id)),[g]),j=(0,a().K8)((()=>(0,$().zI)({spaceStore:null==g?void 0:g.getSpaceStore()})>0),[g]);if(y&&void 0!==n)return(0,B.jsx)(ve,{ancestorMaxWidth:t,showDivider:v.length>0,store:n,disabled:c},n.id);if(v.length>s){const[e,n,r]=[v[0],v.slice(1,v.length-s+1),v.slice(v.length-s+1)];if(j)return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(ve,{ancestorMaxWidth:t,showDivider:!x().A.isMobile,store:e,disabled:c},e.id),(0,B.jsx)(Y,{stores:x().A.isMobile?S:n},"pages-popup"),r.map((e=>(0,B.jsx)(ve,{store:e,showDivider:!0,ancestorMaxWidth:t,disabled:c},e.id)))]});{const e=v.filter((e=>e instanceof f().B||e instanceof N().m||e instanceof b().N)),n=v.filter((e=>e instanceof f().B||e instanceof N().m||e instanceof b().N));return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(ve,{store:e[0],showDivider:!x().A.isMobile,ancestorMaxWidth:t,disabled:c},e[0].id),(0,B.jsx)(Y,{stores:x().A.isMobile?n:e.slice(1,e.length-s+1)},"pages-popup"),e.slice(e.length-s+1).map((e=>(0,B.jsx)(ve,{store:e,showDivider:!0,ancestorMaxWidth:t,disabled:c},e.id)))]})}}return(0,B.jsx)(B.Fragment,{children:v.map((e=>(0,B.jsx)(ve,{ancestorMaxWidth:t,showDivider:!0,store:e,disabled:c},`${e.table}-${e.id}`)))})}var be=()=>n(564884),Se=()=>n(779315),we=()=>n(292985),ye=()=>n(314529);var je=()=>n(898286),ke=()=>n(187820),Ie=()=>n(478726),Ae=()=>n(466088),Me=()=>n(457419),Ce=()=>n(712505);const Te=function(e){const{ancestorMaxWidth:t,ignoreMaxLength:n,showDivider:r,store:i,marginLeft:o}=e,a=(0,s().IS)((()=>({wrapper:{display:"flex",alignItems:"center",flexShrink:1,marginInlineStart:o,minWidth:0,maxWidth:n?void 0:"100%"}})),[n,o]);return(0,B.jsxs)("div",{style:a.wrapper,children:[(0,B.jsx)(ue().A,{store:i,maxWidth:t,ignoreMaxLength:n}),r?(0,B.jsx)(X().f,{}):void 0]})};function Pe(e){const{environment:t,currentPageRef:n,store:r,disabled:i}=e;return(0,a().K8)((()=>{if(!r)return!0;const e=r.canEdit(),o=(0,Me().S)(r),a=r.getCollectionStoreIfSingleSource(),s=null==a?void 0:a.isSyncedCollection(),l=r.isExternalObjectInstancePageBlockStore(),c=(0,Ie().fc)(r);return i||(0,d().Nh)(r.id)||r.isPersonProfile()||x().A.isMobile||(0,Ae().w)(t)||Ce().default.isCenterPeekOpen()||!n||!e||o||l||s||c}),[t,n,r,i])}function Be(e){const{environment:t,currentPageRef:n,store:i}=e;return(0,r.useCallback)((()=>{if(!i)return;const e=Ce().default.isCenterPeekOpen()?Se().A.PeekViewScroller:Se().A.PageScroller;if(e){const n=e.getNode();if(n&&!(Math.abs(n.scrollTop)<10))return(0,we().V)({element:n,environment:t,options:{top:0,behavior:"smooth"}}),void function(e){(0,ye().DO_NOT_USE_trackLegacy)(e,"click_breadcrumb_current_page_scroll_to_top")}(t)}const r=n.current;if(!r)return;if(!(r instanceof Element))return;const o=r.getBoundingClientRect();je().U({blockStore:i,originRect:o}),function(e){(0,ye().DO_NOT_USE_trackLegacy)(e,"open_breadcrumb_current_page_menu")}(t)}),[t,n,i])}function De(e,t){const{currentPageMaxWidth:r,currentPageRef:i,route:s}=e,l=(0,o().v3)(),d=m(s),c=Pe({environment:l,currentPageRef:i,store:d,disabled:e.disabled}),u=(0,a().K8)((()=>(null==d?void 0:d.isEmptyPage())??!1),[d]),p=(0,a().K8)((()=>d?(0,ke().Te)(d):void 0),[d]),g=(0,a().K8)((()=>null==d?void 0:d.getIcon()),[d]),f=x().A.isMobile?24:20,h=Be({environment:l,currentPageRef:i,store:d});return d?(0,B.jsxs)(y().p,{shouldShrink:!0,onClick:h,size:"sm",ref:t,disabled:c,children:[Boolean(g)&&p?(0,B.jsx)(ke().B6,{disabled:!0,icon:g,iconRecordCategory:p,isEmptyPage:u,size:f,style:{marginInlineEnd:6},largeIcon:!0}):void 0,(0,B.jsx)(n(16006).A,{store:d,style:{maxWidth:r},enableHover:!0})]}):null}const We=(0,r.forwardRef)(De);function Ke(e){const{ancestorMaxWidth:t,currentPageRef:n,route:r,marginLeft:i}=e,s=(0,o().v3)(),l=m(r),{mobileNative:c}=s,u=(0,a().K8)((()=>l&&(0,d().lU)(l)),[l]),p=Pe({environment:s,currentPageRef:n,store:l,disabled:e.disabled}),g=Be({environment:s,currentPageRef:n,store:l}),f=(0,a().K8)((()=>{if(!l)return!1;const e=(0,F().f)(l,{includeTeamHomeFeed:!1,includeDataSources:!0});return 0===(l.isNavigableBlock()?e.slice(1):[...e]).length}),[l]);return l?u?null:x().A.isMobile?(0,B.jsx)(y().p,{disabled:p,shouldShrink:!0,onClick:g,size:"sm",style:null!=c&&c.supportsNativeHomeOnPhone()?{paddingInlineStart:0}:void 0,children:(0,B.jsx)(Te,{store:l,showDivider:!1,ignoreMaxLength:f,ancestorMaxWidth:t,marginLeft:i})}):(0,B.jsx)(y().p,{disabled:p,shouldShrink:!0,onClick:g,style:{fontSize:"inherit"},children:(0,B.jsx)(Te,{store:l,showDivider:!1,ancestorMaxWidth:t,marginLeft:i})}):null}function Ee(e){const{route:t,ancestorMaxWidth:n,marginLeft:r}=e,i=m(t);if(!i)return null;const o={display:"flex",alignItems:"center",flexShrink:0};return(0,B.jsx)(Re,{store:i,renderOrigin:e=>(0,B.jsx)(Q().Ay,{style:{...o,maxWidth:"100%"},...e,children:(0,B.jsx)(Te,{store:i,showDivider:!1,ignoreMaxLength:!0,ancestorMaxWidth:n,marginLeft:r})})})}function Re(e){const{store:t,renderOrigin:n}=e,i=(0,o().v3)(),s=(0,a().K8)((()=>{const e=(0,F().f)(t,{includeTeamHomeFeed:!1,includeDataSources:!0});return e.reverse(),e}),[t]),d=(0,r.useCallback)((()=>{(0,be().u)({environment:i,event:{eventName:"topbar_breadcrumb_menu_click",eventProperties:{has_parent_pages:s.length>1}}})}),[i,s]),c=(0,r.useCallback)((e=>{if(i.device.isMobileNative){const t=void 0!==e.collectionId;(0,be().u)({environment:i,event:{eventName:"topbar_breadcrumb_page_click",eventProperties:{page_id:e.pageId,is_data_source:t}}})}}),[i]);return(0,B.jsx)(w().A,{popupType:w().z.BottomSheet,bottomSheetInitialState:"half",onClick:d,renderOrigin:n,render:e=>(0,B.jsx)(I().A,{menuType:k().gu.Modal,title:(0,B.jsx)(l().sA,{defaultMessage:"Breadcrumb",id:"breadcrumb.mobileBreadcrumbMenu.title"}),children:(0,B.jsx)(J().A,{type:J().O.Vertical,onAccept:e.close,initialFocus:void 0,sections:(0,Z().A)(i,s,c)})})},"pages-popup")}n(823215),n(737550);var _e=n(440961),Ve=()=>n(807449),ze=()=>n(26697),Le=()=>n(626466),Ue=()=>n(471095),Oe=()=>n(68263),Ne=()=>n(100622),Fe=()=>n(95313),He=()=>n(376049),Ge=()=>n(821093);function qe(e){const{route:t}=e,n=(0,o().v3)(),i=m(t),s=(0,a().K8)((()=>{if(!i)return!1;const{sidebarSpaceViewStore:e}=u().default.state,t=e?(0,Ge().I)({environment:n,spaceViewStore:e})??[]:[];return null==t?void 0:t.some((e=>e.id===i.id))}),[n,i]),d=(0,a().K8)((()=>{if(!i)return!1;const e=n.currentUser.id;return i.getPermissionItems().every((t=>(0,Oe().B2)(t)&&e===t.user_id))}),[n,i]),c=(0,r.useRef)(null),p=(0,r.useCallback)((()=>{if(!c||!i)return;const e=_e.findDOMNode(c.current);if(!(e&&e instanceof Element))return;const t=e.getBoundingClientRect(),r=new DOMRect(t.x,t.y,t.width,t.height+5);Fe().D3(n),He().ho({environment:n,blocks:[i],originRect:r,moveToContext:"topbar_breadcrumb"})}),[n,c,i]);return s&&d&&i?(0,B.jsx)(ze().m,{placement:"right",renderTooltip:e=>(0,B.jsxs)("div",{children:[(0,B.jsx)("div",{children:(0,B.jsx)(l().sA,{defaultMessage:"Only you have access",id:"breadcrumb.moveTo.hasPermission.title"})}),(0,B.jsx)("div",{style:{color:Ne().Tj.text.inverseSecondary},children:(0,B.jsx)(l().sA,{defaultMessage:"Click to move",id:"breadcrumb.moveTo.hasPermission.subtitle"})})]}),render:e=>(0,B.jsxs)(y().p,{size:"sm",disabled:!1,onClick:p,ref:c,...e,children:[(0,B.jsx)(Ve().I,{icon:Ue().lockFillIcon,size:"sm",colorVariant:"tertiary"}),(0,B.jsx)("span",{style:{color:Ne().Tj.text.tertiary,marginInlineStart:4,marginInlineEnd:5},children:(0,B.jsx)(l().sA,{defaultMessage:"Private",id:"breadcrumb.moveTo.privatePages"})}),(0,B.jsx)(Ve().I,{icon:Le().arrowChevronSingleDownFillIcon,size:11,colorVariant:"tertiary"})]})}):null}function $e(){const e=(0,s().IS)((()=>({item:{opacity:1,textDecoration:"none",padding:"4px 8px",borderRadius:6,flexShrink:0}})),[]);return(0,B.jsx)("div",{style:e.item,children:(0,B.jsx)(l().sA,{id:"breadcrumb.notionAi",defaultMessage:"Notion AI"})})}var Qe=()=>n(383814);function Je(){const e=(0,o().v3)(),t=(0,a().K8)((()=>(0,Qe().G)(e)),[e]);return(0,a().K8)((()=>{if(!t)return!1;const n=e.currentUser.id;return t.getPermissionItems().every((e=>(0,Oe().B2)(e)&&n===e.user_id))}),[e.currentUser.id,t])?(0,B.jsx)(ze().m,{placement:"right",renderTooltip:e=>(0,B.jsx)("div",{children:(0,B.jsx)("div",{children:(0,B.jsx)(l().sA,{defaultMessage:"Only you have access",id:"breadcrumb.private.hasPermission.title"})})}),render:e=>(0,B.jsxs)(y().p,{size:"sm",disabled:!0,...e,children:[(0,B.jsx)(Ve().I,{icon:Ue().lockFillIcon,size:"sm",colorVariant:"tertiary"}),(0,B.jsx)("span",{style:{color:Ne().Tj.text.tertiary,marginInlineStart:4,marginInlineEnd:5},children:(0,B.jsx)(l().sA,{defaultMessage:"Private",id:"breadcrumb.moveTo.privatePages"})})]})}):null}function Xe(){const e=(0,s().IS)((()=>({item:{cursor:"pointer",opacity:1,textDecoration:"none",padding:"4px 8px",borderRadius:6,flexShrink:0}})),[]);return(0,B.jsx)(he().Q,{href:"/__workers__",style:e.item,children:(0,B.jsx)(l().sA,{id:"breadcrumb.workers",defaultMessage:"Workers"})})}const Ze=6;const Ye=function(e){const{ancestorMaxWidth:t,maxAncestorCount:u,currentPageMaxWidth:p,showCurrentPageControls:g,style:f,route:h,config:v}=e,x=(0,r.useRef)(null),b=(0,o().v3)(),S=m(h),w=(0,s().IS)((()=>({container:{display:"flex",alignItems:"center",lineHeight:1.2,fontSize:n(115512).vQ,...f},agentBadge:{flexShrink:0,marginInlineStart:4,marginInlineEnd:4},enforceMaxLength:{maxWidth:"100%"},workerCrumb:{padding:"4px 8px",borderRadius:6,maxWidth:p,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}})),[p,f]),y=(0,l().tz)(),j="worker"===h.name?h.workerId:void 0,{worker:k,isLoading:I}=(0,n(752135).ry)(j),A=(0,a().K8)((()=>{var e;return Boolean(null==S||null===(e=S.getTitleStore())||void 0===e?void 0:e.isReady())}),[S]),{spaceStore:M,spaceViewStore:C}=(0,a().K8)((()=>{const e=(0,n(135168).f)(S);if(!e)return{spaceStore:void 0,spaceViewStore:void 0};return{spaceStore:e,spaceViewStore:(0,n(111379).k)(e.id)}}),[S]),T=(0,a().K8)((()=>{let e;return C&&C.isReady()&&(e=(0,d().x$)(C)),e}),[C]),P=(0,a().K8)((()=>(null==S?void 0:S.isPersonProfile())??!1),[S]),D=(0,a().K8)((()=>S&&!(0,d().lU)(S)&&!P&&g&&S.isReady()),[g,S,P]),K=(0,n(359941).V)({spaceStore:M}),E=!P||K,R=(0,a().K8)((()=>{var e;return b.device.isPhone||(null===(e=b.mobileNative)||void 0===e?void 0:e.supportsNativeHomeOnPhone())}),[b]),_=(0,a().K8)((()=>{var e;if(!S)return!1;if((0,n(725951).x3)(b))return!1;const t=n(578872).GN(S),r=b.RouterStore.state.route;return!(!(0,n(651784).bh)(r)||(null==t?void 0:t.id)!==S.id)||(null==t||null===(e=t.getSiteStore())||void 0===e||null===(e=e.getHeader())||void 0===e?void 0:e.hideBreadcrumbs)}),[b,S]),V=(0,a().K8)((()=>i().default.getConfig({configName:"custom_agent_rollout_badge"})),[]);if(_)return null;const z=function(e){return"ai"===e.name?{type:"agents"}:"agent"===e.name?e.workflowViewType?{type:"agent-settings"}:e.agentChatThreadId&&"new"!==e.agentChatThreadId?{type:"agent-thread"}:{type:"agent"}:null}(h);if(z&&function(e){return"agent"===e.name}(h)){if(!v)throw new Error("config is required");return(0,B.jsxs)("div",{style:w.container,children:[(0,B.jsx)(W,{route:h}),"none"===V.badge_type?void 0:(0,B.jsx)("div",{style:w.agentBadge,children:(0,B.jsx)(c().A,{badgeConfig:V})}),"agent-thread"===z.type?(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(X().f,{}),(0,B.jsx)(U,{route:h,config:v})]}):void 0,(0,B.jsx)(Je,{})]})}if(z&&"ai"===h.name)return(0,B.jsx)("div",{style:w.container,children:(0,B.jsx)($e,{})});if("workers"===h.name)return(0,B.jsx)("div",{style:w.container,children:(0,B.jsx)(Xe,{})});if("worker"===h.name){const e=I?y.formatMessage({id:"workers.detail.loadingLabel",defaultMessage:"Loading..."}):(null==k?void 0:k.name)??y.formatMessage({id:"workers.detail.unknown",defaultMessage:"Unknown worker"});return(0,B.jsxs)("div",{style:w.container,children:[(0,B.jsx)(Xe,{}),(0,B.jsx)(X().f,{}),(0,B.jsx)("div",{style:w.workerCrumb,children:e})]})}if(!S)return null;if(!A)return null;const L=Boolean(e.disabled);return R?(0,B.jsx)("div",{style:{...w.container,...w.enforceMaxLength},className:"notranslate",children:(0,B.jsx)(Ee,{route:h,ancestorMaxWidth:t,marginLeft:Ze,disabled:L})}):(0,B.jsxs)("div",{style:w.container,className:"notranslate shadow-cursor-breadcrumb",children:[E?(0,B.jsx)(xe,{ancestorMaxWidth:t,maxAncestorCount:u,homeStore:T,route:h,disabled:L}):void 0,D?(0,B.jsx)(We,{currentPageMaxWidth:p,currentPageRef:x,ref:x,route:h,marginLeft:Ze,disabled:L}):(0,B.jsx)(Ke,{ancestorMaxWidth:t,currentPageRef:x,route:h,marginLeft:Ze,disabled:L}),(0,B.jsx)(qe,{route:h})]})}},436525:(e,t,n)=>{n.d(t,{D:()=>u});var r=n(296540),i=()=>n(59226),o=()=>n(484714),a=()=>n(79926),s=()=>n(562984),l=()=>n(742734),d=()=>n(141465),c=n(474848);function u({userStore:e,suppressMouse:t,children:n,spaceStore:u}){const p=(0,r.useRef)(null),g=(0,l().E)({spaceStore:u,viewedUserId:null==e?void 0:e.id}),f=(0,i().X)("prefetch_extended_user_profiles"),h=g&&f,m=(0,a().fJ)(s().u.extendedUserProfileActions,{disabled:!h}),v=(0,o().v3)();(0,r.useEffect)((()=>{h&&"resolved"===m.status&&null!=e&&e.id&&u&&null!=u&&u.userId&&m.value.prefetchExtendedUserProfiles({spaceStore:u,actorUserId:u.userId,viewedUserIds:[e.id]},v)}),[h,null==e?void 0:e.id,u,g,v,m]);const x=(0,r.useCallback)((()=>{p.current&&e&&u&&!t&&d().A.setState({type:"user",store:e,domRect:p.current.getBoundingClientRect(),spaceStore:u})}),[e,u,t]),b=(0,r.useCallback)((()=>{d().A.setState(void 0)}),[]);return e&&g?(0,c.jsx)("div",{ref:p,onMouseEnter:g?x:void 0,onMouseLeave:g?b:void 0,children:n}):n}},453697:(e,t,n)=>{n.d(t,{A:()=>p,n:()=>u});var r=n(296540),i=()=>n(590526),o=()=>n(401497),a=()=>n(849255),s=()=>n(807449),l=()=>n(798880),d=()=>n(100622),c=n(474848);function u(e){return(0,o().IS)((()=>({tooltipTextStyle:{color:d().Tj.text.inverseSecondary},tooltipAvatarContainer:{display:"flex",alignItems:"center",marginInlineEnd:8},tooltipContainer:{display:"flex",flexDirection:"row",padding:"4px 6px",alignItems:"center",...e},tooltipUserInfoContainer:{overflow:"hidden",textOverflow:"ellipsis"}})),[e])}const p=function(e){const{hasTooltip:t,showAvatarInTooltip:p,tooltipHeader:g,style:f,iconStyle:h,isOffline:m,borderStyle:v,avatarShouldShowShadow:x,initialOverrideStyle:b,tooltipOverrideStyle:S,userValue:w,userStore:y,avatar:j,type:k="avatar",delayThreshold:I,hasPersonHoverCard:A,avatarOutlineOffset:M}=e,C=(0,n(69708).tz)(),T=(0,i().O$)(n(907258).AppStoreSidebarSpaceStore),P=(0,n(792485).S)(),B=(0,i().K8)((()=>(0,n(876338).$)(P)??T),[P,T]),D=e.size??18,{initialStyle:W,avatarWrapStyle:K,avatarStyle:E,proxiedImageStyle:R,suspendedUserStyle:_}=(0,o().IS)((()=>({initialStyle:{boxSizing:"content-box",borderRadius:"100%",lineHeight:`${D}px`,width:D,height:D,overflow:"hidden",textAlign:"center",fontSize:Math.max(.4375*D,11),background:d().Tj.popoverBackground,userSelect:"none",WebkitUserSelect:"none",color:d().Tj.icon.secondary,opacity:m?.3:1,isolation:"auto",...h,...b},avatarWrapStyle:{background:d().Tj.background.primary,borderRadius:"100%",boxShadow:x?d().Tj.avatarBoxShadow:"none",outlineWidth:1,outlineStyle:v??"solid",outlineColor:d().Tj.border.secondaryTranslucent,outlineOffset:M??-1,...h},avatarStyle:{borderRadius:"100%",width:D,height:D,display:"flex",alignItems:"center",justifyContent:"center",userSelect:"none",WebkitUserSelect:"none",opacity:m?.3:1,...h},proxiedImageStyle:{width:D,height:D,...h},suspendedUserStyle:{boxSizing:"content-box",borderRadius:"100%",width:D-2,height:D-2,overflow:"hidden",background:d().Tj.suspendedUIUserAvatarBackground,userSelect:"none",WebkitUserSelect:"none",color:d().Tj.text.primary,opacity:m?.3:1,display:"flex",justifyContent:"center",alignItems:"center",...h}})),[b,x,v,m,D,h,M]),{tooltipTextStyle:V,tooltipAvatarContainer:z,tooltipContainer:L,tooltipUserInfoContainer:U}=u(S),O=(0,r.useMemo)((()=>y??(w?n(792071).Bj6.fromValue(l().oo,w):void 0)),[y,w]),N=(0,r.useMemo)((()=>O instanceof a().L?O:B&&O?a().L.createChildStore(B,{id:O.id,table:l().oo}):void 0),[O,B]),F=(0,i().K8)((()=>null==O?void 0:O.getFullName(C)),[O,C]),H=(0,i().K8)((()=>null==O?void 0:O.getDisplayName(C)),[O,C]),G=(0,i().K8)((()=>null==O?void 0:O.getEmail()),[O]),q=(0,i().K8)((()=>null==O?void 0:O.getProfilePhoto()),[O]),$=(0,i().K8)((()=>null==O?void 0:O.getIsSuspended()),[O]),Q=(0,n(742734).E)({spaceStore:B,viewedUserId:null==O?void 0:O.id})&&A,J=()=>e.defaultAvatar??(0,c.jsx)(s().I,{icon:n(360576).personFillSmallIcon,size:"sm",colorVariant:"primary"}),X=(e,t,r)=>{if(!e)return J();const i={width:"100%",height:"100%",borderRadius:"100%",...r};return(0,c.jsx)(n(738471).A,{alt:t,src:e,enableLoadingShimmer:!0,style:i,placeholderStyle:i})},Z=e=>(0,c.jsxs)("div",{style:L,children:[(0,c.jsx)("div",{style:z,children:te()}),(0,c.jsxs)("div",{style:U,children:[O?H:null==j?void 0:j.name,e?void 0:(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("br",{}),O?(0,c.jsx)("span",{style:V,children:G}):null!=j&&j.email?(0,c.jsx)("span",{style:V,children:null==j?void 0:j.email}):null]})]})]}),Y=()=>p?Z():(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{children:g}),H,(0,c.jsx)("br",{}),O?(0,c.jsx)("span",{style:V,children:G}):void 0]}),ee=e=>{const t=n(634201).PE(e)[0].toUpperCase();return(0,c.jsx)("div",{style:K,children:(0,c.jsx)("div",{style:W,children:(0,c.jsx)("div",{children:t})})})},te=()=>{if(O){if($)return(0,c.jsx)("div",{style:K,children:(0,c.jsx)("div",{style:_,children:(0,c.jsx)(s().I,{icon:n(947086).personSlashIcon,size:D-2,colorVariant:"tertiary"})})});if(q)return(0,c.jsx)("div",{style:E,children:(0,c.jsx)(n(360083).A,{stripGoogleIconQuery:!0,url:q,isAuthenticated:!1,width:Math.max(Number(R.width),120),render:(e,t)=>X(t,F,K)})});if(F)return ee(F);if(G)return ee(G)}else if(j){if(!j.type&&j.avatarUrl)return(0,c.jsx)("div",{style:K,children:(0,c.jsx)("div",{style:E,children:X(j.avatarUrl,j.name)})});if(j.name)return ee(j.name);if(j.email)return ee(j.email)}return J()};switch(k){case"avatar":{const e=(0,c.jsx)("div",{style:f,children:te()});return Q&&N&&B?(0,c.jsx)(n(436525).D,{userStore:N,spaceStore:B,children:e}):t?(0,c.jsx)(n(26697).m,{renderTooltip:Y,placement:"bottom",alignment:"start",delayThreshold:I,render:t=>(0,c.jsx)("div",{style:f,"aria-label":H,...t,children:e})}):e}case"avatar-name":case"avatar-name-email":return Z("avatar-name"===k);default:(0,n(534177).HB)(k)}}},562984:(e,t,n)=>{n.d(t,{i:()=>o,u:()=>i});var r=()=>n(79926);const i={PersonProfileContainer:new(r().O2)("PersonProfileContainer",(()=>Promise.all([n.e(75134),n.e(71003),n.e(32370),n.e(26264),n.e(80229),n.e(71309),n.e(47431),n.e(14699),n.e(26126),n.e(95576),n.e(77093),n.e(26962),n.e(44632)]).then(n.bind(n,557558)))),extendedUserProfileActions:new(r().O2)("extendedUserProfileActions",(()=>n.e(63717).then(n.bind(n,260513))))},o=(0,r()._h)(i.PersonProfileContainer,(e=>e.PersonProfileContainer))},626466:(e,t,n)=>{n.r(t),n.d(t,{arrowChevronSingleDownFillIcon:()=>i,iconDefinition:()=>r});n(296540);const r={viewBox:"0 0 20 20",fittedViewBox:"3.72 6.72 12.56 7.16",svg:(0,n(474848).jsx)("path",{d:"M9.38 13.619a.875.875 0 0 0 1.238 0l5.4-5.4a.875.875 0 0 0-1.237-1.238L10 11.763 5.218 6.98a.875.875 0 1 0-1.237 1.24z"})},i=(0,n(340498).wt)("arrowChevronSingleDownFill",r,"fill")},742734:(e,t,n)=>{n.d(t,{E:()=>a});var r=()=>n(230711),i=()=>n(590526),o=()=>n(304228);function a(e){const{spaceStore:t,viewedUserId:n}=e,a=(0,r().nB)(t),s=(0,r().V_)({spaceStore:t,userId:n});return(0,i().K8)((()=>(0,o().V)({spaceStore:t,actorRole:a,viewedRole:s})),[t,a,s])}},752135:(e,t,n)=>{n.d(t,{ry:()=>p,xG:()=>g,z4:()=>u});n(16280),n(898992),n(672577),n(964979);var r=n(296540),i=()=>n(920198),o=()=>n(484714),a=()=>n(247584),s=()=>n(128933),l=()=>n(165358),d=()=>n(69708),c=()=>n(769864);function u(){const e=(0,d().tz)(),t=(0,o().v3)(),[n,u]=(0,r.useState)(!1),[p,g]=(0,r.useState)([]),f=(0,r.useRef)(null),h=(0,r.useRef)(!1),m=n&&!h.current,v=(0,i().L)(),x=(0,r.useCallback)((async n=>{var r;null===(r=f.current)||void 0===r||r.abort(),f.current=null,u(!0);const i=null==v?void 0:v.id;if(i)try{f.current=new AbortController;const r=await c().callApi({eventName:"getWorkers",environment:t,data:{spaceId:i},abortSignal:f.current.signal});if("success"===r.type){h.current=!0;const e=r.data.workers;g(e)}else if(null==n||!n.silent){s().D6({label:e.formatMessage({id:"workers.form.getWorkersFailed",defaultMessage:"Failed to get workers"})});const n=(0,a().V4)(r);l().log({level:"error",from:"useListWorkers",type:"",data:{message:"Unexpected error fetching workers",miscDataToConvertToString:{response:r,errorMessage:n,userId:t.currentUser.id,spaceId:i}}})}}finally{u(!1)}}),[t,e,null==v?void 0:v.id]);return(0,r.useEffect)((()=>(x(),()=>{var e;null===(e=f.current)||void 0===e||e.abort()})),[x]),{workers:p,isLoading:m,refresh:x}}function p(e){const t=(0,d().tz)(),n=(0,o().v3)(),u=(0,i().L)(),p=(0,r.useRef)(null),[g,f]=(0,r.useState)(void 0),[h,m]=(0,r.useState)(!1),v=(0,r.useCallback)((async()=>{var r;const i=null==u?void 0:u.id;if(i&&e){null===(r=p.current)||void 0===r||r.abort(),p.current=null,m(!0);try{p.current=new AbortController;const r=await c().callApi({eventName:"getWorkers",environment:n,data:{spaceId:i},abortSignal:p.current.signal});if("success"===r.type){const t=r.data.workers.find((t=>t.workerId===e));f(t)}else{s().D6({label:t.formatMessage({id:"workers.form.getWorkersFailed",defaultMessage:"Failed to get workers"})});const o=(0,a().V4)(r);l().log({level:"error",from:"useWorkerDetail",type:"",data:{message:"Unexpected error fetching worker",miscDataToConvertToString:{response:r,errorMessage:o,userId:n.currentUser.id,spaceId:i,workerId:e}}})}}catch(o){if(o instanceof DOMException&&"AbortError"===o.name)return;s().D6({label:t.formatMessage({id:"workers.form.getWorkersFailed",defaultMessage:"Failed to get workers"})}),l().log({level:"error",from:"useWorkerDetail",type:"",data:{message:"Error fetching worker",miscDataToConvertToString:{error:o,userId:n.currentUser.id,spaceId:i,workerId:e}}})}finally{m(!1)}}else f(void 0)}),[n,t,null==u?void 0:u.id,e]);return(0,r.useEffect)((()=>(v(),()=>{var e;null===(e=p.current)||void 0===e||e.abort()})),[v]),{worker:g,isLoading:h,refresh:v}}function g(e){const t=(0,d().tz)(),n=(0,o().v3)(),u=(0,i().L)();return{deleteWorker:(0,r.useCallback)((async r=>{const i=null==u?void 0:u.id;if(i)try{const o=await c().callApi({eventName:"deleteWorker",environment:n,data:{spaceId:i,workerId:r}});if("success"===o.type)s().D6({label:t.formatMessage({id:"workers.deleteWorker.success",defaultMessage:"Worker deleted successfully"})}),e&&await e();else{s().D6({label:t.formatMessage({id:"workers.deleteWorker.failed",defaultMessage:"Failed to delete worker"})});const e=(0,a().V4)(o);l().log({level:"error",from:"useDeleteWorker",type:"",data:{message:"Unexpected error deleting worker",miscDataToConvertToString:{response:o,errorMessage:e,userId:n.currentUser.id,spaceId:i,workerId:r}}})}}catch(o){s().D6({label:t.formatMessage({id:"workers.deleteWorker.failed",defaultMessage:"Failed to delete worker"})}),l().log({level:"error",from:"useDeleteWorker",type:"",data:{message:"Error deleting worker",miscDataToConvertToString:{error:o,userId:n.currentUser.id,spaceId:i,workerId:r}}})}}),[n,t,null==u?void 0:u.id,e])}}},864040:(e,t,n)=>{n.d(t,{A:()=>s});n(581454),n(296540);var r=()=>n(584262),i=()=>n(857783),o=()=>n(211716),a=n(474848);const s=function(e,t,s){return[{key:"results",render:e=>(0,a.jsx)(n(736847).A,{...e}),items:t.map(((t,l)=>({key:t.id,render:e=>(0,a.jsx)(n(305390).A,{...e,isSubpage:0!==l,store:t,hidePath:!0}),action:({event:a})=>{const l=(0,n(381175).V)(a);if(t instanceof n(295633).B)s&&s({pageId:t.id,collectionId:void 0}),i().uK({environment:e,store:t,openInNew:l,visitType:o().ig.Link,pageVisitSource:r().y8.Breadcrumb});else if(t instanceof n(732810).m){const a=t.getParentCollectionViewBlockStore();if(!a)return;s&&s({pageId:a.id,collectionId:t.id});const d=(0,n(297175).V5)(a,t);i().uK({environment:e,store:a,collectionViewId:null==d?void 0:d.id,openInNew:l,visitType:o().ig.Link,pageVisitSource:r().y8.Breadcrumb})}else if(t instanceof n(350013).N){const r=(0,n(496703).L)({workflowId:t.id,params:{workflowViewType:"chat"}});(0,n(246766).navigate)({environment:e,url:r,openInNew:l})}}})))}]}},947086:(e,t,n)=>{n.r(t),n.d(t,{iconDefinition:()=>r,personSlashIcon:()=>i});n(296540);const r={viewBox:"0 0 20 20",fittedViewBox:"3.31 2.31 14.13 16.25",svg:(0,n(474848).jsx)("path",{d:"M3.53 2.463a.626.626 0 0 1 .882.067l.032.038q.008.013.018.025l12.687 14.875q.089.101.203.156a.625.625 0 0 1-1.014.72l-.928-1.08a2.4 2.4 0 0 1-1.26.362h-8.3c-.68 0-1.328-.288-1.74-.768-.43-.501-.591-1.217-.23-1.923C4.899 12.945 7.3 11.63 10 11.63q.3 0 .593.021l-1.001-1.166a3.28 3.28 0 0 1-2.267-1.22c-.536-.669-.825-1.532-.886-2.453L3.463 3.345a.626.626 0 0 1 .067-.882M10 12.88c-2.335 0-4.245 1.138-5.007 2.625-.104.203-.071.379.066.54.157.182.449.33.79.33h8.301c.155 0 .3-.032.426-.082l-2.707-3.154a6.8 6.8 0 0 0-1.87-.26M10 2.375c1.137 0 2.055.469 2.675 1.241.607.757.899 1.766.9 2.824 0 1.058-.292 2.067-.9 2.825q-.213.263-.472.477l-.811-.951q.168-.138.307-.309c.392-.487.625-1.2.625-2.042S12.09 4.887 11.7 4.4c-.38-.473-.936-.775-1.7-.775-.762 0-1.32.302-1.7.774a2.4 2.4 0 0 0-.278.44l-.857-1.004q.076-.113.161-.219c.62-.772 1.538-1.241 2.675-1.241"})},i=(0,n(340498).wt)("personSlash",r,"default")}}]);