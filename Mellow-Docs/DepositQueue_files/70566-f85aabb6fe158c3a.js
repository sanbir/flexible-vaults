"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[26126,32626,48486,70566],{670:(e,t,o)=>{o.d(t,{Lr:()=>i,PM:()=>r,Ur:()=>n});o(517642),o(658004),o(733853),o(845876),o(432475),o(515024),o(731698);class u extends(()=>o(757695))().Store{getInitialState(){return{duplicatingWorkflowIds:new Set,isDuplicating:!1}}}const r=new u;function n(e){r.update((t=>{const o=new Set(t.duplicatingWorkflowIds);return o.add(e),{duplicatingWorkflowIds:o,isDuplicating:o.size>0}}))}function i(e){r.update((t=>{if(!t.duplicatingWorkflowIds.has(e))return t;const o=new Set(t.duplicatingWorkflowIds);return o.delete(e),{duplicatingWorkflowIds:o,isDuplicating:o.size>0}}))}},6697:(e,t,o)=>{o.d(t,{h:()=>n});var u=()=>o(79926);const r=new(u().O2)("DictationAvatar",(async()=>await Promise.all([o.e(75134),o.e(35530),o.e(9773),o.e(36556),o.e(55373),o.e(36192),o.e(40537),o.e(27992),o.e(63452),o.e(66249),o.e(92845),o.e(87249),o.e(79022),o.e(44854),o.e(87017),o.e(34877),o.e(46414),o.e(11676),o.e(61165),o.e(94522),o.e(44584),o.e(38293),o.e(40992),o.e(88455),o.e(52871),o.e(47160),o.e(49021),o.e(53697),o.e(26126),o.e(6039),o.e(71136),o.e(86341),o.e(29316),o.e(3101)]).then(o.bind(o,310947)))),n=(0,u()._h)(r,(e=>e.DictationAvatar))},13898:(e,t,o)=>{o.d(t,{A:()=>i});o(296540);var u=()=>o(970236),r=()=>o(69708),n=o(474848);function i(e){return(0,n.jsx)(u().E,{color:"blue",style:e.style,content:(0,n.jsx)(r().sA,{id:"betaBadgeComponent.label",defaultMessage:"Beta"})})}},43371:e=>{e.exports=function(){return/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC68(?:\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|[\u2695\u2696\u2708]\uFE0F|\uD83D[\uDC66\uDC67]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708])\uFE0F|\uD83C[\uDFFB-\uDFFF])|\uD83E\uDDD1(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB-\uDFFE])|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83D\uDC69\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFC-\uDFFF])|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83C\uDFF3\uFE0F\u200D\u26A7|\uD83E\uDDD1(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDC3B\u200D\u2744|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F\u200D[\u2640\u2642]|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642])|\uD83C\uDFF4\u200D\u2620|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E-\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3C-\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDF])\u200D[\u2640\u2642])\uFE0F|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC08\u200D\u2B1B|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|[#\*0-9]\uFE0F\u20E3|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDD77\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g}},59110:(e,t,o)=>{o.r(t),o.d(t,{loadLocalSubtree:()=>h});o(944114),o(517642),o(658004),o(733853),o(845876),o(432475),o(515024),o(731698),o(898992),o(354520),o(803949);var u=()=>o(726637),r=()=>o(700500),n=()=>o(175482),i=()=>o(777447),a=()=>o(792071),s=()=>o(976618),l=()=>o(388821),D=()=>o(696706),c=()=>o(912720),d=()=>o(199378),p=()=>o(179034),f=()=>o(519831),m=()=>o(869558),C=()=>o(37165),F=()=>o(144081),v=()=>o(743246),g=()=>o(201980),y=()=>o(534177);function h(e){const{environment:t,blockId:o,inMemoryRecordCache:u,options:r}=e,n=t.currentUser.id,i=l().RecordMap.create(),a=new Set,s=[{pointer:{table:p().ev,id:o},parentId:"doesn't matter"}];for(;s.length>0;){const e=s.shift();if(!e)continue;if(a.has(e.pointer.id))continue;const t=o===e.pointer.id,l=E({pointer:e.pointer,recordMap:i,inMemoryRecordCache:u,currentUserId:n,cursors:s,cursor:e,options:r,isRootRequest:t});if(l)return l;a.add(e.pointer.id)}return{type:"success",recordMap:i}}function E(e){const{pointer:t,recordMap:o,inMemoryRecordCache:l,currentUserId:h,cursors:E,cursor:_,options:S,isRootRequest:b}=e;let I;return(0,D().Yt)(t,p().ev)?I=function(e){var t,o,s,l;const{pointer:D,recordMap:d,inMemoryRecordCache:f,currentUserId:C,cursors:F,cursor:h,options:E,isRootRequest:_}=e,S=f.getRecord({pointer:D,userId:C}),b=null==S?void 0:S.value;if(!b)return E.requireFullSubtree?{type:"error",reason:"missing_record",pointer:D}:void 0;const I=E.excludeCrdtData?n().ir(b):b;if(E.includeLegacyTransclusionBlockValues){if(!_&&I.parent_id!==h.parentId&&!h.isBlockContentChild)return}else if(!_&&I.parent_id!==h.parentId)return;if(I.type===r().xd.externalObjectInstance&&!E.allowCopyExternalObjectInstances)return{type:"error",reason:"encountered_external_object_instance",pointer:D};if(d.setValue(D,I),!E.skipNavigableChildren){const e=a().Bj6.fromBlock(I).getCollectionPointers();for(const t of e){const e=f.getRecord({pointer:t,userId:C});var A,M;if(e)(null===(A=e.value)||void 0===A?void 0:A.parent_table)===p().ev&&(null===(M=e.value)||void 0===M?void 0:M.parent_id)===I.id&&F.push({pointer:t,parentId:I.id});else if(E.requireFullSubtree)return{type:"error",reason:"missing_record",pointer:t}}if(I.view_ids)for(const t of I.view_ids)F.push({pointer:{table:m().Gy,id:t,spaceId:I.space_id},parentId:I.id})}if(!(E.skipBlockContent||E.skipTransclusionContainerChildren&&"transclusion_container"===I.type||E.skipNavigableChildren&&(0,r().$I)(I.type))){const e=a().Bj6.fromBlock(I).getRenderableContentIds();for(const t of e)F.push({pointer:{table:p().ev,id:t},parentId:I.id,isBlockContentChild:!0})}const B=a().Bj6.fromBlock(I).getNonContentChildren();for(const u of B)F.push({pointer:{table:p().ev,id:u},parentId:I.id,isBlockContentChild:!0});if(I.type===r().xd.externalObjectInstance){var x,w;const e=(null===(x=I.format)||void 0===x?void 0:x.related_external_object_uris_to_instance_ids)&&Object.values(null===(w=I.format)||void 0===w?void 0:w.related_external_object_uris_to_instance_ids)||[];for(const t of e)F.push({pointer:{table:p().ev,id:t,spaceId:I.space_id},parentId:I.id})}if(!E.skipNavigableChildren&&I.properties){const e=Object.values(I.properties).filter(y().O9);for(const t of e)for(const e of t)for(const t of g().uPN(e)){if(g().jIt(t)){const e=g().v55(t);F.push({pointer:{table:p().ev,id:e},parentId:I.id})}if(g().sh$(t)){const e=g().cQR(t),o=(0,i().lX)({url:e,baseUrl:u().A.domainBaseUrl,publicDomainName:u().A.publicDomainName});o&&F.push({pointer:{table:p().ev,id:o},parentId:I.id})}if(g().N53(t)){const e=g().T$c(t);e&&F.push({pointer:{table:p().ev,id:e,spaceId:I.space_id},parentId:I.id})}}}"form"===I.type&&null!==(t=I.format)&&void 0!==t&&t.form_layout_pointer&&F.push({pointer:I.format.form_layout_pointer,parentId:I.id});null!==(o=I.format)&&void 0!==o&&o.automation_id&&F.push({pointer:{table:c().yB,id:I.format.automation_id,spaceId:I.space_id},parentId:I.id});null!==(s=I.format)&&void 0!==s&&s.workflow_id&&F.push({pointer:{table:v().C0,id:I.format.workflow_id,spaceId:I.space_id},parentId:I.id});null!==(l=I.format)&&void 0!==l&&l.ai_instructions_page_pointer&&F.push({pointer:I.format.ai_instructions_page_pointer,parentId:I.id})}({pointer:t,recordMap:o,inMemoryRecordCache:l,currentUserId:h,cursors:E,cursor:_,options:S,isRootRequest:b}):(0,D().Yt)(t,f().Vl)?I=function(e){var t,o;const{pointer:u,recordMap:r,inMemoryRecordCache:n,currentUserId:i,cursors:a,cursor:s,options:l}=e;if(!l.allowCopyCollections)return{type:"error",reason:"encountered_collection",pointer:u};const D=n.getRecord({pointer:u,userId:i});if(null==D||!D.value)return l.requireFullSubtree?{type:"error",reason:"missing_record",pointer:u}:void 0;if(D.value.parent_id!==s.parentId)return;const d=D.value;r.setValue(u,d),n.forEachRecord(i,(({model:e})=>{e.table===p().ev&&e&&e.parent_id===u.id&&e.alive&&a.push({pointer:e.pointer,parentId:u.id})}));const f=(null===(t=d.format)||void 0===t?void 0:t.automation_ids)??[];for(const p of f)a.push({pointer:{table:c().yB,id:p,spaceId:d.space_id},parentId:d.id});d.schema&&Object.values(d.schema).forEach((e=>{e&&"button"===e.type&&e.automation_id&&a.push({pointer:{id:e.automation_id,spaceId:d.space_id,table:c().yB},parentId:d.id})}));null!==(o=d.format)&&void 0!==o&&o.layout_pointer&&a.push({pointer:d.format.layout_pointer,parentId:d.id})}({pointer:t,recordMap:o,inMemoryRecordCache:l,currentUserId:h,cursors:E,cursor:_,options:S}):(0,D().Yt)(t,m().Gy)?I=function(e){var t,o;const{pointer:u,recordMap:r,inMemoryRecordCache:n,currentUserId:i,cursors:a,cursor:s,options:l}=e,D=n.getRecord({pointer:u,userId:i});if(null==D||!D.value)return l.requireFullSubtree?{type:"error",reason:"missing_record",pointer:u}:void 0;if(D.value.parent_id!==s.parentId)return;"form_editor"===D.value.type&&null!==(t=D.value.format)&&void 0!==t&&t.form_block_pointer&&a.push({pointer:D.value.format.form_block_pointer,parentId:D.value.id});null!==(o=D.value.format)&&void 0!==o&&o.dashboard_layout_pointer&&a.push({pointer:D.value.format.dashboard_layout_pointer,parentId:D.value.id});r.setValue(u,D.value)}({pointer:t,recordMap:o,inMemoryRecordCache:l,currentUserId:h,cursors:E,cursor:_,options:S}):(0,D().Yt)(t,c().yB)?I=function(e){const{pointer:t,recordMap:o,inMemoryRecordCache:u,currentUserId:r,cursors:n,cursor:i,options:a}=e,s=u.getRecord({pointer:t,userId:r});if(null==s||!s.value)return a.requireFullSubtree?{type:"error",reason:"missing_record",pointer:t}:void 0;if(s.value.parent_id!==i.parentId)return;o.setValue(t,s.value);for(const l of s.value.action_ids??[])n.push({pointer:{table:d().SC,id:l,spaceId:s.value.space_id},parentId:s.value.id})}({pointer:t,recordMap:o,inMemoryRecordCache:l,currentUserId:h,cursors:E,cursor:_,options:S}):(0,D().Yt)(t,d().SC)?I=function(e){const{pointer:t,recordMap:o,inMemoryRecordCache:u,currentUserId:r,cursors:n,cursor:i,options:a}=e,s=u.getRecord({pointer:t,userId:r});if(null==s||!s.value)return a.requireFullSubtree?{type:"error",reason:"missing_record",pointer:i.pointer}:void 0;if(s.value.parent_id!==i.parentId)return;o.setValue(t,s.value);for(const l of s.value.blocks??[])n.push({pointer:{table:p().ev,id:l,spaceId:s.value.space_id},parentId:s.value.id})}({pointer:t,recordMap:o,inMemoryRecordCache:l,currentUserId:h,cursors:E,cursor:_,options:S}):(0,D().Yt)(t,v().C0)?I=function(e){const{pointer:t,recordMap:o,inMemoryRecordCache:u,currentUserId:r,cursor:n,options:i}=e,a=u.getRecord({pointer:t,userId:r});if(null==a||!a.value)return i.requireFullSubtree?{type:"error",reason:"missing_record",pointer:n.pointer}:void 0;if(a.value.parent_id!==n.parentId)return;o.setValue(t,a.value)}({pointer:t,recordMap:o,inMemoryRecordCache:l,currentUserId:h,cursor:_,options:S}):(0,D().Yt)(t,F().zx)?I=function(e){const{pointer:t,recordMap:o,inMemoryRecordCache:u,currentUserId:r,cursors:n,options:i}=e,l=u.getRecord({pointer:t,userId:r}),D=null==l?void 0:l.value;if(!D)return i.requireFullSubtree?{type:"error",reason:"missing_record",pointer:t}:void 0;o.setValue(t,D);const c=a().Bj6.fromValue(F().zx,D);for(const a of c.getBlockChildrenPointers())n.push({pointer:a,parentId:t.id});const d=e=>{const o={id:e.collection_view_id,table:m().Gy,spaceId:D.space_id};return n.push({pointer:o,parentId:t.id}),e};(0,s().E)(D.modules,(e=>{if("formQuestion"===e.type){const o={id:e.formQuestionId,table:C().lo,spaceId:D.space_id};n.push({pointer:o,parentId:t.id})}else if("view"===e.type)d(e);else if("row"===e.type)for(const t of e.modules)"view"===t.type&&d(t)}))}({pointer:t,recordMap:o,inMemoryRecordCache:l,currentUserId:h,cursors:E,cursor:_,options:S}):(0,D().Yt)(t,C().lo)&&(I=function(e){const{pointer:t,recordMap:o,inMemoryRecordCache:u,currentUserId:r,options:n}=e,i=u.getRecord({pointer:t,userId:r});if(null==i||!i.value)return n.requireFullSubtree?{type:"error",reason:"missing_record",pointer:t}:void 0;o.setValue(t,i.value)}({pointer:t,recordMap:o,inMemoryRecordCache:l,currentUserId:h,cursors:E,cursor:_,options:S})),I}},64790:(e,t,o)=>{o.d(t,{$L:()=>c,EV:()=>a,PZ:()=>D,dp:()=>s,xm:()=>l});o(944114);var u=()=>o(798880),r=()=>o(100622),n=()=>o(496603),i=()=>o(720665);function a(e){if(null!=e&&e.blockId)return e.blockId}function s(e,t){const o=e.currentUser.id;return t.userId===o||t.present}function l(e){var t;return(null===(t=e.state.rootStore)||void 0===t?void 0:t.canEdit())??!1}function D(e){const{pageVisitStore:t,presenceStore:o}=e,{remotePresenceData:u}=o.state;let r=[];u&&n().uk(u,(e=>{null!=e&&e.userId&&r.push(e)}));const{pageId:a,lastViewTime:s,lastExitTime:l,totalCount:D,hasMore:c,...d}=t.state;return n().uk(d,(e=>{e.isDefined()&&r.push({userId:e.getUserId(),activityTimestampNearestMinuteMs:(0,i().WY)(e.getVisitedAt()),present:!1})})),r=n().hS(r,(e=>e.userId)),n().Ul(r,(({activityTimestampNearestMinuteMs:e})=>e?-e:0))}function c(e){const{userId:t,theme:o}=e;return(0,u().MF)(t)?r().Tj.icon.secondary:(0,r().Nq)(t,o)}},126126:(e,t,o)=>{o.d(t,{eQ:()=>W,hJ:()=>oe,Ay:()=>L,Uo:()=>q,XE:()=>ee});o(944114),o(898992),o(823215),o(672577),o(581454);var u=o(296540),r=()=>o(484714),n=()=>o(590526),i=()=>o(401497),a=()=>o(929219),s=()=>o(75435),l=()=>o(609679),D=()=>o(849255),c=()=>o(56268),d=()=>o(718827),p=()=>o(631524),f=()=>o(26697),m=()=>o(302501),C=()=>o(869190),F=()=>o(641007),v=()=>o(187174),g=()=>o(798880),y=()=>o(695608),h=()=>o(69708),E=()=>o(100622),_=()=>o(496603),S=()=>o(23420),b=()=>o(488923),I=()=>o(102172),A=()=>o(130119),M=()=>o(6697),B=()=>o(673657),x=()=>o(64790),w=()=>o(869562),k=()=>o(737230),T=()=>o(994006),R=()=>o(453697),j=()=>o(852273);const U=function(e){const t=(0,r().v3)(),n=(0,u.useRef)(),i=(0,o(336811).T)(),a=(0,u.useCallback)((async()=>{if(await o(129286).transactionQueue.awaitRecordTransaction(e.blockStore.pointer),!i.current)return;const u=(0,o(921997).Ws)(e.blockStore.id);n.current=j().Ay.addListener(u,void 0,_().nF((()=>o(466721).updatePageVisits(t,{blockStore:e.blockStore,pageVisitStore:e.pageVisitStore,incremental:!0,limit:e.limit})),1e3),void 0,t)}),[t,i,e.blockStore,e.limit,e.pageVisitStore]),s=(0,u.useCallback)((()=>{n.current&&(j().Ay.removeListener(n.current,t),n.current=void 0)}),[t]);return(0,u.useEffect)((()=>(a(),s)),[a,s]),null};var V=o(474848);const O=5,N=25,P=6,W=22;const L=function({pageVisitStore:e,presenceStore:t,rootStore:u,maxUsers:r}){return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(o(912474).a,{rootStore:u}),(0,V.jsx)(oe,{rootStore:u,pageVisitStore:e,presenceStore:t,maxUsers:r,isShowingInFeed:!1}),(0,V.jsx)(U,{blockStore:u,pageVisitStore:e,limit:1+G(r)+N})]})};function z(e){return _().Ul(e,(e=>e.activityTimestampNearestMinuteMs))}function G(e){return e??O}function H(e,t){return D().L.createChildStore(t,{table:g().oo,id:e})}function q(e){const{environment:t,isShowingTabBar:o,isShowingInFeed:u}=e;return{...(0,A().g)({noDrag:t.device.isElectron&&!o}),display:"flex",alignItems:"center",position:"relative",flexDirection:"row-reverse",marginInlineStart:8,paddingInlineEnd:P,transform:"translateZ(0)",...u&&{maxHeight:54,paddingBottom:12}}}function K(){return{color:E().Tj.text.inverseSecondary,fontSize:10,textTransform:"uppercase",letterSpacing:"0.015em"}}function $({userData:e,isPresent:t,rootStore:o,isShowingInFeed:u}){const i=(0,r().v3)(),a=(0,h().tz)(),s=i.currentUser.id,D=(0,n().K8)((()=>H(e.userId,o)),[e,o]),c=(0,n().K8)((()=>D.isDefined()),[D]),d=(0,n().K8)((()=>(0,y().c6)(a,D.getModel())),[a,D]),p=(0,n().K8)((()=>D.getEmail()),[D]);if(!c)return null;let f;return t?s!==D.id&&(f=e.blockId&&!u?(0,V.jsx)(h().sA,{defaultMessage:"Viewing now. Click to see where they are.",id:"topbar.presenceIndicator.viewingNowWithLocation.tooltip"}):(0,V.jsx)(h().sA,{defaultMessage:"Viewing now",id:"topbar.presenceIndicator.viewingNow.tooltip"})):s!==D.id&&e.activityTimestampNearestMinuteMs&&(f=(0,V.jsx)(h().sA,{defaultMessage:"Last viewed {timeFromNow}",id:"topbar.presenceIndicator.lastViewedTime.tooltip",values:{timeFromNow:(0,C().v9)(Math.min(e.activityTimestampNearestMinuteMs,Date.now()),l().locale)}})),(0,V.jsxs)("div",{children:[(0,V.jsx)("div",{className:"notranslate",children:d}),(0,V.jsx)("div",{style:{fontWeight:400},children:p}),f?(0,V.jsx)("div",{style:{color:E().Tj.text.inverseSecondary,minWidth:150,paddingTop:2,paddingBottom:2,lineHeight:1.3},children:f}):void 0]})}function Y({userData:e,index:t,rootStore:o}){const u=(0,r().v3)(),i=(0,x().dp)(u,e),a=(0,n().K8)((()=>H(e.userId,o)),[e,o]);if(!(0,n().K8)((()=>a.isDefined()),[a]))return null;let s;!i&&e.activityTimestampNearestMinuteMs&&(s=(0,C().v9)(e.activityTimestampNearestMinuteMs,l().locale));const D=(0,V.jsxs)("div",{style:{display:"flex",alignContent:"flex-end",minWidth:140,width:"100%",marginTop:4},children:[(0,V.jsx)(T().A,{userStore:a,avatarSize:18,style:{flexGrow:1},hasPersonHoverCard:!1}),(0,V.jsx)("div",{style:{marginInlineStart:"auto",paddingInlineStart:12,textAlign:"end",flexShrink:1,color:E().Tj.text.inverseSecondary},children:s})]});if(i&&e.blockId){const t=e.blockId;return(0,V.jsx)(d().Ay,{onClick:()=>(0,S().B)([t],!0,u),style:{display:"flex",alignItems:"center"},children:D})}return(0,V.jsx)("div",{style:{display:"flex",alignItems:"center"},children:D})}function X({hiddenUsers:e,hiddenUsersCount:t,hasMore:o,rootStore:u,environment:r}){return(0,V.jsx)(f().m,{allowHover:!0,originGap:7,renderTooltip:r=>(0,V.jsx)(Z,{hiddenUsers:e,hiddenUsersCount:t,hasMore:o,rootStore:u,events:r}),render:e=>(0,V.jsx)(Q,{hiddenUsersCount:t,events:e,environment:r,rootStore:u})})}function Z({hiddenUsers:e,hiddenUsersCount:t,hasMore:o,rootStore:u,events:n}){const i=(0,r().v3)(),a=[],s=[];for(const r of e)(0,x().dp)(i,r)?a.push(r):s.push(r);const l=s.slice(0,N-a.length),D=t-(a.length+l.length);return(0,V.jsxs)("div",{...n,children:[a.length>0?(0,V.jsxs)("div",{style:{marginBottom:4},children:[(0,V.jsx)(m().A,{style:K(),children:(0,V.jsx)(h().sA,{defaultMessage:"Viewing now",id:"topbar.presenceIndicator.hiddenUsers.viewingNow.tooltip"})}),a.map(((e,t)=>(0,V.jsx)(Y,{userData:e,index:t,rootStore:u},t)))]}):void 0,l.length>0?(0,V.jsxs)("div",{style:{marginBottom:4},children:[(0,V.jsx)(m().A,{style:{...K()},children:(0,V.jsx)(h().sA,{defaultMessage:"Last viewed by",id:"topbar.presenceIndicator.hiddenUsers.lastViewedBy.tooltip"})}),l.map(((e,t)=>(0,V.jsx)(Y,{userData:e,index:t,rootStore:u},t)))]}):void 0,(0,V.jsx)(J,{remainingHiddenUsersCount:D,hasMore:o})]})}function Q({hiddenUsersCount:e,events:t,environment:o,rootStore:r}){const n=(0,i().IS)((()=>({origin:{paddingInline:8,marginInlineStart:4,marginInlineEnd:-P-4}})),[]),a=(0,u.useCallback)((()=>{w().handleSidebarButtonClick(o,r,k().tF.Updates,"more_menu"),k().Ay.setState({...k().Ay.state,updatesSubTab:k().VE.Analytics})}),[o,r]);return(0,V.jsx)(p().p,{style:n.origin,size:"sm",shape:"pill",colorPalette:"gray",onClick:a,...t,children:(0,V.jsx)(h().sA,{defaultMessage:"{hiddenUsersCount, plural, one {+{hiddenUsersCount}} other {+{hiddenUsersCount}}}",id:"topbar.presenceIndicator.hiddenUsers.otherCount.message",values:{hiddenUsersCount:e}})})}function J({hasMore:e,remainingHiddenUsersCount:t}){const o=(0,i().IS)((()=>({message:{marginInlineStart:2,marginTop:2,color:E().Tj.text.inverseSecondary}})),[]);return t>0?(0,V.jsx)("div",{style:o.message,children:e?(0,V.jsx)(h().sA,{defaultMessage:"{remainingVisitorsCount}+ more…",id:"topbarPresence.presenceIndicator.hiddenUsers.evenMoreUsersNotViewing.tooltip",values:{remainingVisitorsCount:t}}):(0,V.jsx)(h().sA,{defaultMessage:"{remainingVisitorsCount} more…",id:"topbarPresence.presenceIndicator.hiddenUsers.moreUsersNotViewing.tooltip",values:{remainingVisitorsCount:t}})}):null}function ee(e,t){const o=(0,i().DP)();return(0,i().IS)((()=>{const u={width:W,height:W,borderRadius:W},r=e(o);return{button:{transition:"all 0.2s ease",transform:"scale(1)"},buttonHovered:{transform:"scale(1.15)",background:"none"},buttonPressed:{transform:"scale(0.9)",background:"none"},uiUserAvatarStyles:{...u},avatarInnerOutline:{...u,outlineStyle:"solid",outlineColor:E().Tj.UIUserAvatarInnerOutline,outlineWidth:.5,outlineOffset:-.5},avatarBorder:t?{...u,outlineStyle:"solid",outlineColor:r,outlineWidth:1.5,outlineOffset:-.5}:{},avatarOuterOutline:{...u,outlineStyle:"solid",outlineColor:t?E().Tj.background.primary:E().Tj.UIUserAvatarIdleOutline,outlineWidth:.5,outlineOffset:t?1:0,backgroundColor:E().Tj.background.primary,marginInlineEnd:-6,position:"relative"},initialColor:{color:t?r:E().Tj.icon.secondary}}}),[e,t,o])}function te(e){const{userData:t,rootStore:o,isShowingInFeed:i=!1}=e,a=(0,r().v3)(),{userId:s}=t,l=(0,x().dp)(a,t),{userStore:D,showAvatar:c}=(0,n().K8)((()=>{if((0,g().MF)(s))return{userStore:F().px,showAvatar:!0};const e=H(s,o);return{userStore:e,showAvatar:(e.isDefined()||(0,g().MF)(e.id))&&!e.getIsSuspended()}}),[s,o]),p=ee((0,u.useCallback)((e=>(0,g().MF)(s)?E().Tj.icon.secondary:s===a.currentUser.id?E().Tj.border.accentPrimary:(0,E().Nq)(s,e)),[a.currentUser.id,s]),l);return c?(0,V.jsx)(f().m,{disableTooltip:i,textWrap:!0,renderTooltip:()=>(0,V.jsx)($,{rootStore:o,userData:t,isPresent:l,isShowingInFeed:i}),render:e=>{const o=(0,V.jsx)("div",{style:p.avatarOuterOutline,children:(0,V.jsx)("div",{style:p.avatarBorder,children:(0,V.jsx)(R().A,{iconStyle:p.avatarInnerOutline,userStore:D,style:p.uiUserAvatarStyles,isOffline:!l,size:W,avatarShouldShowShadow:!i,initialOverrideStyle:p.initialColor})})});if(l&&t.blockId){const u=t.blockId;return(0,V.jsx)(d().Ay,{...e,onClick:()=>(0,S().B)([u],!0,a),style:p.button,hoveredStyle:p.buttonHovered,pressedStyle:p.buttonPressed,children:o})}return(0,V.jsx)("div",{...e,children:o})}}):null}function oe(e){const{rootStore:t,pageVisitStore:o,presenceStore:u,maxUsers:i,isShowingInFeed:l}=e,D=(0,r().v3)(),d=D.currentUser.id,[{status:p,value:f}]=(0,v().Yb)((async()=>(0,b().$g)()),[]),m=(0,n().K8)((()=>{var e;if("resolved"===p)return null==f||null===(e=f.getPresencesForBlock(t.id))||void 0===e?void 0:e.find((e=>e.blockId===t.id))}),[f,p,t.id]),C=(0,n().K8)((()=>{const e=D.currentUser.id;if(!e)return;const r=l||(0,x().xm)(u)?(0,x().PZ)({pageVisitStore:o,presenceStore:u}):[];let n=(null==o?void 0:o.state.totalCount)??r.length;const a=[],s=[];for(const t of r)t.userId!==e?(0,x().dp)(D,t)?a.push(t):s.push(t):n--;!(0,c().r)({environment:D,store:t})&&t.isNavigableBlock()&&(0,I().BP)(t,D,D.device)&&"resolved"===p&&null!=m&&m.present&&a.push(m);const d=[...z(a).reverse(),...z(s).reverse()],f=G(i)-1;return{visibleUsers:d.slice(0,f),hiddenUsers:d.slice(f),totalCount:n,hasMore:Boolean(null==o?void 0:o.state.hasMore)}}),[o,u,D,l,i,t,p,m],{useDeepEqual:!0}),{visibleUsers:F,hiddenUsers:y,hiddenUsersCount:h,hasMoreHiddenUsers:E,isEveryUserStoreReady:_}=(0,n().K8)((()=>{if(!d)return{};const{visibleUsers:e=[],hiddenUsers:o=[]}=C??{},u=[d,...e.map((e=>e.userId)),...o.map((e=>e.userId))].map((e=>H(e,t)));return{visibleUsers:e,hiddenUsers:o,hiddenUsersCount:Number(null==C?void 0:C.totalCount)-e.length,hasMoreHiddenUsers:Boolean(null==C?void 0:C.hasMore),isEveryUserStoreReady:u.every((e=>e.isReady()||(0,g().MF)(e.id)))}}),[d,C,t]),S=(0,n().O$)(s().b),A=(0,B().n)(t),w=!(0,n().O$)(a().e);if(!d||!C||!_||w)return null;if(d!==t.userId)return null;if(0===F.length&&0===y.length)return A?(0,V.jsx)("div",{style:q({environment:D,isShowingTabBar:S,isShowingInFeed:l}),children:(0,V.jsx)(M().h,{enableClickToScroll:!0,rootStore:t})}):null;{const e=[...F];return e.reverse(),(0,V.jsxs)("div",{style:q({environment:D,isShowingTabBar:S,isShowingInFeed:l}),children:[h>0?(0,V.jsx)(X,{rootStore:t,hiddenUsers:y,hiddenUsersCount:h,hasMore:E,environment:D}):void 0,e.map((e=>(0,V.jsx)(te,{userData:e,rootStore:t},e.userId))),l?void 0:(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(te,{rootStore:t,userData:{userId:d,present:!0}}),(0,V.jsx)(M().h,{enableClickToScroll:!0,rootStore:t})]})]})}}},130119:(e,t,o)=>{function u(e){return"drag"in e&&e.drag?{WebkitAppRegion:"drag"}:"noDrag"in e&&e.noDrag?{WebkitAppRegion:"no-drag"}:{}}o.d(t,{g:()=>u})},170350:(e,t,o)=>{o.r(t),o.d(t,{filterIcon:()=>r,iconDefinition:()=>u});o(296540);const u={viewBox:"0 0 20 20",fittedViewBox:"2.37 4.87 15.25 10.25",svg:(0,o(474848).jsx)("path",{d:"M3 4.875a.625.625 0 1 0 0 1.25h14a.625.625 0 1 0 0-1.25zm2.125 5.742h9.75a.625.625 0 1 0 0-1.25h-9.75a.625.625 0 1 0 0 1.25m1.5 3.883c0-.345.28-.625.625-.625h5.5a.625.625 0 1 1 0 1.25h-5.5a.625.625 0 0 1-.625-.625"})},r=(0,o(340498).wt)("filter",u,"default")},175213:(e,t,o)=>{o.d(t,{G:()=>r});var u=()=>o(314529);function r(e,t){(0,u().DO_NOT_USE_trackLegacy)(e,"delete_property",t)}},200424:(e,t,o)=>{e.exports=o.p+"9ade71d75a1c0e93.png"},233692:(e,t,o)=>{function u(e,t="Untitled Agent"){return{name:e.getName()||t,icon:e.getRawIcon()||""}}o.d(t,{m:()=>u})},241319:(e,t,o)=>{o.d(t,{y:()=>n});o(898992),o(672577);var u=()=>o(534177),r=()=>o(239381);function n(e){var t;const{actionModels:o,id:n}=e,i=(0,r().y5)(n),a="action"===i.source?o.find((e=>e.id===i.action_id)):void 0,s=(0,u().O9)(a)&&a.isType("create_page")?null===(t=a.getConfig())||void 0===t?void 0:t.collection:void 0;return{automationValueInfo:i,collectionPointer:s,actionModel:a}}},243331:(e,t,o)=>{o.d(t,{K_:()=>r,Lf:()=>i});var u=()=>o(206267);function r(){return{currentScreen:"none",status:"not_started",isBackendConnected:!1,externalSourceName:void 0,sessionId:u().JW(),analyticsFrom:"unknown",isConnected:!1,isPersonalAuthComplete:!1,isDisconnecting:!1,isLoaded:!1,isNotionMailProhibited:!1}}class n extends(()=>o(757695))().Store{getInitialState(){return r()}}const i=new n;(0,o(852832).exposeDebugValue)("notionMailAIConnectorStore",i)},246679:(e,t,o)=>{o.d(t,{VK:()=>r,gv:()=>i});var u=()=>o(206267);function r(){return{currentScreen:"none",status:"not_started",isBackendConnected:!1,externalSourceName:void 0,sessionId:u().JW(),analyticsFrom:"unknown",isConnected:!1,isPersonalAuthComplete:!1,isDisconnecting:!1,isLoaded:!1,isNotionCalendarProhibited:!1}}class n extends(()=>o(757695))().Store{getInitialState(){return r()}}const i=new n;(0,o(852832).exposeDebugValue)("notionCalendarAIConnectorStore",i)},278589:(e,t,o)=>{o.d(t,{N:()=>n});var u=()=>o(534177),r=()=>o(126126);function n(e){return"avatar"===e?r().eQ:"xsmall"===e?18:"xsmall_plus"===e?24:"small"===e?28:"small_plus"===e?32:"medium"===e?36:"medium_plus"===e?44:"medium_large"===e?48:"large"===e?50:"large_plus"===e?64:"xlarge"===e?94:"plans"===e?20:"deep_dive"===e?16:"upsell_banner"===e?74:"personalization_modal"===e?96:(0,u().HB)(e)}},299177:(e,t,o)=>{o.d(t,{A:()=>n});class u extends(()=>o(757695))().Store{getInitialState(){return{}}}const r=new u;o(852832).exposeDebugValue("SpaceWorkflowTemplateInstanceMapStore",r);const n=r},326887:(e,t,o)=>{o.d(t,{$X:()=>n,H8:()=>i,x2:()=>r});var u=()=>o(534177);function r(e){return"event"===e||"recurrence"===e}function n(e){const t=e.getTrigger();return(0,u().O9)(t)&&r(t.type)}function i(e){return"event"===e?"event":"recurrence"===e?"recurrence":void(0,u().HB)(e)}},348869:(e,t,o)=>{o.d(t,{g:()=>a});o(944114);var u=()=>o(792057),r=()=>o(785728),n=()=>o(532659),i=()=>o(769864);async function a(e){const{environment:t,onResponse:o,data:a,userId:s,tracking:l,abortSignal:D}=e,c=await i().callStreamApi({eventName:"runInferenceTranscript",environment:t,data:a,userId:s,tracking:l,abortSignal:D,headers:(0,r().WS)({spaceId:a.spaceId})});if("success"!==c.type)return null!=D&&D.aborted?{error:{message:"Aborted",code:0}}:(u().Qg(c),{error:{message:c.error.message,code:c.status}});const d=[];if(n().hS.is(c.data))for await(const u of c.data){if("error"===u.type)return{error:{message:u.message,code:u.errorCode}};null==o||o(u),d.push(u)}return{value:d}}},369393:(e,t,o)=>{o.d(t,{v:()=>i});var u=o(296540);const r=400,n=150;function i(e){const{immediateState:t,isEqual:o=Object.is,openDelayMs:i=r,closeDelayMs:a=n}=e,[s,l]=(0,u.useState)(!1),[D,c]=(0,u.useState)(void 0),d=Boolean(D&&!o(t,D));(0,u.useEffect)((()=>{if(d){const e=setTimeout((()=>{c(void 0)}),a);return()=>clearTimeout(e)}}),[d,a]);const p=Boolean(t&&!o(t,D));(0,u.useEffect)((()=>{if(t&&p){const e=setTimeout((()=>{c(t)}),i);return()=>clearTimeout(e)}}),[t,p,i]);const[f,m]=(0,u.useState)(void 0),C=f??(s?void 0:D),F=(0,u.useCallback)((()=>{m(C)}),[C]),v=(0,u.useCallback)((()=>{m(void 0)}),[]),g=(0,u.useCallback)((()=>{v(),l(!0)}),[v]);return(0,u.useEffect)((()=>{l(!1)}),[D]),{state:C,pinPopup:F,unpinPopup:v,hasBeenHovering:Boolean(t&&o(t,C)),isPinned:Boolean(f),dismissPopup:g}}},390527:(e,t,o)=>{o.r(t),o.d(t,{DEFAULT_MAX_RECURRENCE_DUPLICATION_PER_TASK:()=>w,MAXIMUM_DAILY_RECURRENCES_IN_PATH:()=>_,MAXIMUM_NESTED_RECURRENCE_LEVEL:()=>E,MAX_RECURRENCE_INTERVAL:()=>F,MAX_RECURRENCE_NUMBER_OF_RUNS:()=>v,RRULE_WEEKDAYS_MAP:()=>C,adjustedStartDateIfPossible:()=>b,areRecurrenceSchedulesEqual:()=>U,convertFromUnpersistedRecurrenceConfig:()=>j,convertToUnpersistedRecurrenceConfig:()=>k,getFormattedEndCondition:()=>x,getFormattedNextRecurrenceTime:()=>B,getNewEndTimestamp:()=>T,getNextDateUtc:()=>M,getRecurrenceAfter:()=>I,isRunningBetweenMidnightAnd3AM:()=>A,isValidRecurrenceInterval:()=>g,isValidRecurrenceNumberOfRuns:()=>y,rruleFromRecurrence:()=>h,templateAncestorsViolateRecurrenceNesting:()=>S});o(898992),o(354520),o(581454);var u=()=>o(906745);o(944114);function r(e,...t){if(0===t.length)return e.map((e=>[e]));const o=[];for(const u of e)o.push(...r(t[0],...t.slice(1)).map((e=>[u,...e])));return o}var n=()=>o(496603),i=()=>o(534177),a=()=>o(720665),s=()=>o(597777),l=()=>o(869190),D=()=>o(416504),c=()=>o(402390);class d extends(()=>o(896346))().p3{constructor(e,t){super(e,t)}after(e,t){return super.after(e,t)}}var p=()=>o(912720);const f=(0,o(69708).YK)({dateAtTime:{id:"automations.recurrenceHelpers.dateAtTime",defaultMessage:"{date} at {time}"},dateBetweenMidnightAnd3AM:{id:"automations.recurrenceHelpers.dateBetweenMidnightAnd3AM",defaultMessage:"{date} between 12–3 AM"},numberEndConditionDescription:{id:"automations.recurrenceHelpers.numberEndConditionDescription",defaultMessage:"{number, plural, one {After {number} run} other {After {number} runs}}"},noEndCondition:{id:"automations.recurrenceHelpers.noEndCondition",defaultMessage:"Never"}}),m={hour:d.HOURLY,day:d.DAILY,week:d.WEEKLY,month:d.MONTHLY,year:d.YEARLY},C={MO:d.MO,TU:d.TU,WE:d.WE,TH:d.TH,FR:d.FR,SA:d.SA,SU:d.SU},F=99,v=999;function g(e){return(0,a().Et)(e)&&Number.isInteger(e)&&e>0&&e<=F}function y(e){return(0,a().Et)(e)&&Number.isInteger(e)&&e>0&&e<=v}function h(e){const{start_date:t,frequency:o,interval:u,weekdays:n,timezone:a,hour:l,minute:D}=e,c=(0,s().eU)(t);"hour"===o&&c.setUTCHours(l??0,D??0,0,0);const p="week"===o&&n?n.map((e=>C[e])):void 0,f={};return(0,i().O9)(e.end_condition)&&("date"===e.end_condition.type?f.until=(0,s().eU)(e.end_condition.end_at):"number"===e.end_condition.type?f.count=e.end_condition.number_of_occurrences:(0,i().HB)(e.end_condition)),"month"===e.frequency&&(0,i().O9)(e.monthly_restriction)&&("monthdays"===e.monthly_restriction.type?f.bymonthday=e.monthly_restriction.monthdays:"weekdays_in_month"===e.monthly_restriction.type?f.byweekday=r(e.monthly_restriction.weekdays,e.monthly_restriction.week_numbers).map((([e,t])=>C[e].nth(t))):(0,i().HB)(e.monthly_restriction)),new d({freq:m[o],dtstart:c,interval:u,byweekday:p,tzid:"hour"===o?void 0:a,..."hour"===o?{}:{byhour:l??0,byminute:D??0,bysecond:0},...f})}const E=1,_=1;function S(e){var t;if(0===e.length)return{violatesConstraint:!1,templateNestingExceedsMaxDepth:!1,ancestorHasDailyTemplate:!1,nestedDepthOfAutomationAncestors:void 0,immediateAncestorRecurrenceType:void 0};const o=e.filter((e=>{var t;return"day"===(null===(t=e.getRecurrence())||void 0===t?void 0:t.frequency)})),u=e.length,r=null===(t=e[0].getRecurrence())||void 0===t?void 0:t.frequency,n=u>E,i=o.length>=_;return{violatesConstraint:n||i,templateNestingExceedsMaxDepth:n,ancestorHasDailyTemplate:i,nestedDepthOfAutomationAncestors:u,immediateAncestorRecurrenceType:r}}function b(e){var t;const{recurrence:o,afterDate:r}=e;if("number"===(null===(t=o.end_condition)||void 0===t?void 0:t.type)||o.start_date>=r)return o;let n=u().DateTime.fromMillis(o.start_date,{zone:"utc"});const i=u().DateTime.fromMillis(r,{zone:"utc"});switch(o.frequency){case"hour":{const e=Math.floor(i.diff(n,"hours").hours/o.interval);n=n.plus({hours:e*o.interval});break}case"year":{const e=Math.floor(i.diff(n,"years").years/o.interval);n=n.plus({years:e*o.interval});break}case"month":{const e=Math.floor(i.diff(n,"months").months/o.interval);n=n.plus({months:e*o.interval});break}case"week":{const e=Math.floor(i.diff(n,"weeks").weeks/o.interval);n=n.plus({weeks:e*o.interval});break}case"day":{const e=Math.floor(i.diff(n,"days").days/o.interval);n=n.plus({days:e*o.interval});break}}return{...o,start_date:(0,s().DH)(n.toMillis())}}function I(e){const{recurrence:t,afterDate:o}=e;if((0,p().wt)(t)){const e=(0,s().l1)(o);return t.start_date>=e?new Date(t.start_date):void 0}{const e=h(b({recurrence:t,afterDate:o})).after((0,s().eU)(o));if(!e)return;return(0,s().h1)(e)}}function A(e){return 0===e.hour||1===e.hour||2===e.hour}function M(e){return h(e).after((0,s().eU)((0,s().Rz)()))||void 0}function B(e){const{recurrence:t,intl:o}=e,r=M(j(t));if(!r)return;const n=A(t),i=u().DateTime.fromJSDate(r).toUTC().setZone("local",{keepLocalTime:!0}).setLocale((0,c().H)(o)).setZone(t.timezone),a=(0,l().Yq)({date:i,dateFormat:"relative",allowRelativeDates:!0,intl:o,shortenDate:!0});if(n)return o.formatMessage(f.dateBetweenMidnightAnd3AM,{date:a});{let e=i.toLocaleString(u().DateTime.TIME_SIMPLE);return t.timezone!==(0,D().P)()&&(e+=` ${i.toFormat("ZZZZ")}`),o.formatMessage(f.dateAtTime,{date:a,time:e})}}function x(e,t){return(0,i().O9)(e)?"number"===e.type?t.formatMessage(f.numberEndConditionDescription,{number:e.number_of_occurrences}):"date"===e.type?(0,l().Yq)({date:u().DateTime.fromMillis(e.end_at),dateFormat:"relative",allowRelativeDates:!0,intl:t,shortenDate:!0}):void(0,i().HB)(e):t.formatMessage(f.noEndCondition)}const w=100;function k(e){return{...e,start_date:(0,s().l1)(e.start_date),end_condition:e.end_condition?"number"===e.end_condition.type?e.end_condition:"date"===e.end_condition.type?{type:"date",end_at:(0,s().l1)(e.end_condition.end_at)}:(0,i().HB)(e.end_condition):void 0}}function T(e,t,o){return e.plus(o-t)}function R(e,t){const o=u().DateTime.fromMillis(t.end_at).set({hour:e.hour??0,minute:e.minute??0});return{type:"date",end_at:(0,s().Rz)(o.toJSDate())}}function j(e){return{...e,start_date:(0,s().Rz)(new Date(e.start_date)),end_condition:e.end_condition?"number"===e.end_condition.type?e.end_condition:"date"===e.end_condition.type?R(e,e.end_condition):(0,i().HB)(e.end_condition):void 0}}function U(e,t){const o=n().fN(e,(e=>void 0!==e)),u=n().fN(t,(e=>void 0!==e));return n().n4(o,u)}},422540:(e,t,o)=>{o.d(t,{$0:()=>F,Fx:()=>S,Ge:()=>f,I3:()=>d,Kj:()=>E,PP:()=>b,TK:()=>I,Yy:()=>c,aE:()=>A,cQ:()=>_,kH:()=>m,m7:()=>p,nq:()=>y,nv:()=>v,tj:()=>C});o(898992),o(354520),o(737550);var u=()=>o(496603),r=()=>o(534177),n=()=>o(381283),i=()=>o(898244),a=()=>o(651124),s=()=>o(349835),l=()=>o(390066);const D={checkbox:!0,date:!0,email:!0,multi_select:!0,number:!0,person:!0,phone_number:!0,relation:!0,select:!0,status:!0,text:!0,title:!0,url:!0,auto_increment_id:!1,button:!1,created_by:!1,created_time:!1,file:!1,formula:!1,last_edited_by:!1,last_edited_time:!1,last_visited_time:!1,location:!1,rollup:!1,verification:!1,place:!1},c={checkbox:[{type:"checkbox"}],date:[{type:"date"}],email:[{type:"text"}],multi_select:[{type:"text"},{of:{type:"text"},type:"array"}],number:[{type:"number"}],person:[{type:"person"},{of:{type:"person"},type:"array"}],phone_number:[{type:"text"}],relation:[{type:"block"},{of:{type:"block"},type:"array"}],select:[{type:"text"},{of:{type:"text"},type:"array"}],status:[{type:"text"},{of:{type:"text"},type:"array"}],text:void 0,title:void 0,url:[{type:"text"}]};function d(e){return Boolean(D[e.type]&&!(0,i().UU)(e)&&(!(0,i().$M)(e)||void 0===(0,i().om)(e)))}function p(e){const{collectionFormat:t,collectionSchema:o,filter:n,sort:s,sourcePropertyIds:D}=e,c=(D??(0,r().uv)(o)).filter(((t,u,r)=>{const a=o[t];return!(!a||!d(a))&&(("relation"!==a.type||!e.restrictCrossSpace||!(0,i().o2)(e.spaceId,a))&&(!n||n([t,a],u,o)))}));if(0===c.length)return[];if(!t||!1===s)return c;const p=(0,l().L)(t,o,void 0,a().jf.Page).collection_page_properties||[];return u().Ul(c,(e=>p.findIndex((t=>t.property===e))))}function f(e){const{collectionFormat:t,collectionSchema:o,sort:i}=e,s=(0,r().uv)(o).filter(((e,t,u)=>{const r=o[e];return!(!r||!(0,n().J)(r))}));if(0===s.length)return[];if(!t||!1===i)return s;const D=(0,l().L)(t,o,void 0,a().jf.Page).collection_page_properties||[];return u().Ul(s,(e=>D.findIndex((t=>t.property===e))))}function m(e){return e.type===s().M9.InvalidCharacter?{type:e.type,character:e.character}:e.type===s().M9.TokenExpected?{type:e.type,token:e.token}:e.type===s().uW.MissingSchemaPropertyOnThisRow||e.type===s().uW.MissingSchemaPropertyOnCollection?{type:e.type,collectionId:e.collectionId,property:e.property,errorSource:e.errorSource}:e.type===s().uW.ThisRowBlockPropertyMismatchCollection?{type:e.type,thisRowCollection:e.thisRowCollection,errorSource:e.errorSource}:e.type===s().uW.MissingContextVariable?{type:e.type,valueId:e.valueId,errorSource:e.errorSource}:e.type===s().uW.FunctionCallTooFewArguments?{type:e.type,numArguments:e.numArguments,errorSource:e.errorSource}:e.type===s().uW.FunctionCallUnexpectedArgument?{type:e.type,parameterIndex:e.parameterIndex,errorSource:e.errorSource}:e.type===s().uW.FunctionCallArgumentWrongType?{type:e.type,argumentType:e.argumentType,libraryFunctionName:e.libraryFunction.name,parameterIndex:e.parameterIndex,errorSource:e.errorSource}:e.type===s().uW.MissingDataDependencyBlock?{type:e.type,blockPointer:e.blockPointer,node:e.node,errorSource:e.errorSource}:e.type===s().uW.MissingDataDependencyPerson?{type:e.type,personPointer:e.personPointer,errorSource:e.errorSource}:e.type===s().uW.MemberPropertyMismatchCollection?{type:e.type,blockCollection:e.blockCollection,errorSource:e.errorSource}:e.type===s().uW.DownstreamParseFailure?{type:e.type,collectionId:e.collectionId,property:e.property,errorSource:e.errorSource}:e.type===s().uW.ContextVariableWrongType?{type:e.type,valueId:e.valueId,expectedType:e.expectedType,resultType:e.resultType,errorSource:e.errorSource}:e.type===s().uW.DisallowedValueType?{type:e.type,expressionValue:e.expressionValue,allowedValueTypes:e.allowedValueTypes,errorSource:e.errorSource}:e.type===s().uW.LibraryFunctionExecutionError?{type:e.type,error:e.error,libraryFunctionName:e.libraryFunction.name,errorSource:e.errorSource}:"errorSource"in e?{type:e.type,errorSource:e.errorSource}:{type:e.type}}const C={checkbox:!0,date:!0,email:!0,multi_select:!0,number:!0,person:!0,phone_number:!0,relation:!0,select:!0,status:!0,text:!0,title:!0,url:!0,button:!1,file:!1,verification:!1,auto_increment_id:!1,created_by:!1,created_time:!1,formula:!1,last_edited_by:!1,last_edited_time:!1,last_visited_time:!1,location:!1,rollup:!1,place:!1};function F(e){return Boolean(C[e.type])}function v(e){const{collectionFormat:t,collectionSchema:o,filter:n,sort:s}=e,D=(0,r().uv)(o).filter(((e,t,u)=>{var r;const a=o[e];return!(!a||!C[a.type])&&((!(0,i().$M)(a)||null===(r=(0,i().om)(a))||void 0===r||!r.auto_update_on_edit)&&(!n||n([e,a],t,o)))}));if(0===D.length)return[];if(!t||!1===s)return D;const c=(0,l().L)(t,o,void 0,a().jf.Page).collection_page_properties||[];return u().Ul(D,(e=>c.findIndex((t=>t.property===e))))}const g={checkbox:!0,email:!0,multi_select:!0,number:!0,person:!0,phone_number:!0,relation:!0,select:!0,status:!0,text:!0,title:!0,url:!0,auto_increment_id:!1,button:!1,created_by:!1,created_time:!1,date:!1,file:!1,formula:!1,last_edited_by:!1,last_edited_time:!1,last_visited_time:!1,location:!1,rollup:!1,verification:!1,place:!1};function y(e){return g[e.type]}const h={checkbox:!0,created_by:!0,created_time:!0,date:!0,email:!0,multi_select:!0,number:!0,person:!0,phone_number:!0,relation:!0,select:!0,status:!0,text:!0,title:!0,url:!0,last_edited_by:!0,last_edited_time:!0,auto_increment_id:!1,button:!1,file:!1,formula:!1,last_visited_time:!1,location:!1,rollup:!1,verification:!1,place:!1};function E(e){return h[e.type]}function _(e){return 0===e}function S(e){return function(e){return"button_block"===e||"button_property"===e}(e)}function b(e){const{property:t,collectionSchema:o}=e;return!!o&&!o[t]}function I(e){const{collectionSchema:t,property:o,type:u}=e,r=null==t?void 0:t[o];return!r||("action"===u?!d(r):!C[r.type])}function A({automationTrigger:e,collectionSchema:t}){if("event"===(null==e?void 0:e.type)){const{pagesAdded:o,pagePropertiesEdited:u,source:n}=e.event;if(void 0===n)return!1;const i="some"===u.type&&u.some,a="all"===u.type&&u.all;if((i||a||[]).some((e=>b({collectionSchema:t,property:e.property})||I({collectionSchema:t,property:e.property,type:"trigger"}))))return!1;const s="some"===u.type&&(!(0,r().O9)(u.some)||0===u.some.length),l="all"===u.type&&(!(0,r().O9)(u.all)||0===u.all.length);if(!o&&("none"===u.type||s||l))return!1}else{if("recurrence"!==(null==e?void 0:e.type))return!1;if(!e.recurrence)return!1}return!0}},435386:(e,t,o)=>{o.d(t,{w:()=>r});var u=()=>o(651784);function r({url:e,config:t}){const o=(0,u().parseRoute)({url:e,baseUrl:t.domainBaseUrl,publicDomainName:t.publicDomainName,isMobile:!1,protocol:t.protocol,currentUrl:void 0});return"page"===o.name?o.blockId:"team"===o.name?o.peekViewBlockId:void 0}},445560:(e,t,o)=>{o.d(t,{X:()=>u});const u=o(757695).Store.createValue({shouldReset:!1},{name:"MobileAssistantMenuStore"})},448801:(e,t,o)=>{o.d(t,{i:()=>r});o(944114),o(517642),o(658004),o(733853),o(845876),o(432475),o(515024),o(731698);var u=()=>o(371562);u();function r(e,t){const o=u().create({arrays:{detectMove:!1,includeValueOnMove:!0}}).diff(e,t);if(!o)return{beforeOps:{},removeOps:new Set};let r=[],n=[];for(const u in o)"_t"!==u&&("_"===u[0]?r.push(parseInt(u.slice(1),10)):1===o[u].length&&n.push({index:parseInt(u,10),value:o[u][0]}));const i={},a=new Set,s=[...e];r=r.sort(((e,t)=>e-t));for(let u=r.length-1;u>=0;u--){const e=r[u],t=s.splice(e,1)[0];a.add(t)}n=n.sort(((e,t)=>e.index-t.index));for(let u=0;u<n.length;u++){const e=n[u];i[e.value]=s[e.index],s.splice(e.index,0,e.value)}return{beforeOps:i,removeOps:a}}},460957:(e,t,o)=>{o.d(t,{E:()=>i});o(581454);var u=()=>o(201980),r=()=>o(718957),n=()=>o(29554);function i(e){const{multiSelection:t}=e;return(0,r().$W)(t).map((({store:e,selection:t})=>{const o=(0,u().RQ)(e.getValue()),r=(0,u().xbM)(o,t),{tokensInsideRange:i}=(0,u().AI5)(o,r.startIndex,r.endIndex);return(0,n().r4)(i,e)})).join("\n\n")}},466721:(e,t,o)=>{o.r(t),o.d(t,{STORE_MAX_LIMIT:()=>h,initializePageVisit:()=>E,updatePageVisits:()=>_});o(898992),o(354520),o(581454);var u=()=>o(907258),r=()=>o(770063),n=()=>o(273648),i=()=>o(90023),a=()=>o(179034),s=()=>o(874852),l=()=>o(559653),D=()=>o(161479),c=()=>o(743246),d=()=>o(496603),p=()=>o(534177),f=()=>o(211716),m=()=>o(499764),C=()=>o(299545),F=()=>o(41161),v=()=>o(129286),g=()=>o(769864);const y=32,h=100;async function E(e,t){await u().default.waitUntilRendered();const{fromPageRefresh:o,blockStore:n,pageVisitStore:d,timestamp:p,type:y}=t,h=e.currentUser.id;if(void 0===h||o)return;t.blockStore.id!==d.state.pageId&&d.setState({...d.getInitialState(),pageId:t.blockStore.id});const E=(0,r().v3)(n,{table:l().F9,id:(0,l().$5)({parent_id:n.id,user_id:h}),spaceId:(0,D().e)(n.pointer.spaceId)}),_=(0,r().v3)(n,{table:s().ou,id:(0,l().$5)({parent_id:n.id,user_id:h}),spaceId:(0,D().e)(n.pointer.spaceId)});if(await v().transactionQueue.awaitRecordTransaction({table:a().ev,id:n.id}),await(0,C().hS)(n),!n.canRead()||(0,m().qb)(e,n,n.getSpaceStore()))return;await E.load(),await _.load();const b=E.getKeyStore("visited_at").getValue(),I=_.getKeyStore("exited_at").getValue(),A=await async function(e,t,o,u,r){const{id:n}=e.currentUser,a=t.id,s=t.getSystemBlockTypeStore().getValue();if((0,i().kR)(s))return{type:"skipped"};const l=t.getParentTable()===c().C0;if(l)return{type:"skipped"};if(n&&"passive"!==r){var D;null==e||null===(D=e.mobileNative)||void 0===D||D.recordPageVisit(n,{blockId:a,spaceId:o,visitedAt:u}),F().A.recordVisit({id:a,systemBlockType:s,type:f().ig.Default,currentUserId:n})}const d=await g().callApi({eventName:"recordPageVisit",environment:e,data:{block:{id:a,spaceId:o},timestamp:u,type:r},headers:{recordId:a,spaceId:o}});return d}(e,n,(0,D().e)(n.pointer.spaceId),p,y);if("skipped"===A.type)return;if("failed"===A.type)return;const M=S({pageVisits:A.data.pageVisits,currentState:d.state,blockStore:n,totalCount:d.state.totalCount,hasMore:void 0});d.state.pageId===n.id&&d.setState({...M,lastViewTime:b,lastExitTime:I})}async function _(e,t){await u().default.waitUntilRendered();const o=e.currentUser.id;if(void 0===o)return;const{blockStore:r,pageVisitStore:n,incremental:i}=t,a=t.limit||y;let s;if(i){const{pageId:e,lastViewTime:t,lastExitTime:u,totalCount:r,hasMore:i,...a}=n.state,l=Object.entries(a).map((([e,t])=>{if(o===e)return;const u=t.getVisitedAt();return void 0!==u?u+1:void 0}));s=d().T9(l.filter(p().O9))}const l=await g().callApi({eventName:"getPageVisitors",environment:e,data:{block:{id:r.id,spaceId:(0,D().e)(r.pointer.spaceId)},sinceTimestamp:s,limit:a,includeTotalCount:t.includeTotalCount},headers:{recordId:r.id,spaceId:(0,D().e)(r.pointer.spaceId)}});if("failed"===l.type)return;const c=S({pageVisits:l.data.pageVisits,blockStore:r,currentState:n.state,totalCount:l.data.totalCount,hasMore:l.data.hasMore});let f;if(Object.keys(c).length<=h)f=c;else{const{pageId:e,lastViewTime:t,lastExitTime:o,totalCount:u,hasMore:r,...n}=c,i=(0,p().WP)(n).map((([e,t])=>[e,t.getVisitedAt()??0]));f={pageId:e,lastViewTime:void 0,lastExitTime:void 0,totalCount:u,hasMore:r};const a=d().Ul(i,(([,e])=>-e)).slice(0,h);for(const[s]of a)f[s]=c[s]}n.state.pageId===c.pageId&&n.setState(f)}function S(e){const{blockStore:t,pageVisits:o,currentState:u,totalCount:r,hasMore:i}=e,a={...u,pageId:t.id,totalCount:r,hasMore:i};for(const s of o){const{id:e,user_id:o}=s;o in a||(a[o]=n()._.createChildStore(t,{table:l().F9,id:e,spaceId:(0,D().e)(t.pointer.spaceId)}))}return a}},482871:(e,t,o)=>{o.d(t,{z:()=>D});o(517642),o(658004),o(733853),o(845876),o(432475),o(515024),o(731698),o(898992),o(430670),o(581454);var u=()=>o(770063),r=()=>o(898244),n=()=>o(448801),i=()=>o(179034),a=()=>o(722101),s=(o(354520),()=>o(496603));function l(e){const{collectionContextStore:t,collectionViewStore:o,transaction:n}=e,l=o.getPageSortStore(),D=l.getValue(),c=t.groupsStore.getAllGroupStates(),d=function(e){const{pageSort:t,currentResults:o}=e;if(!t||t.length<=r().WF)return[];const u=t.filter((e=>!o.has(e)));return s().sb([...u.reverse(),...s().o8(t).reverse()]).slice(0,t.length-r().WF)}({pageSort:D,currentResults:new Set(c.flatMap((e=>e.resultsStore.state.map((e=>e.id)))))});for(const r of d)a().TF({parentStore:l,childToRemoveStore:(0,u().v3)(l,{table:i().ev,id:r}),transaction:n})}function D(e){const{resultIds:t,collectionViewStore:o,collectionContextStore:s,transaction:D}=e,c=o.getPageSortStore(),d=c.getValue()||[],{beforeOps:p}=(0,n().i)(d,t.slice(0,r().WF));for(const[r,n]of Object.entries(p))if(n){const e=(0,u().v3)(o,{table:i().ev,id:n});a().nc({parentStore:c,insertStore:(0,u().v3)(o,{table:i().ev,id:r}),beforeStore:e,transaction:D})}else{const e=t.findIndex((e=>e===r)),n=t[e-1],s=n?(0,u().v3)(o,{table:i().ev,id:n}):void 0;a().WH({parentStore:c,insertStore:(0,u().v3)(o,{table:i().ev,id:r}),afterStore:s,transaction:D})}l({collectionContextStore:s,collectionViewStore:o,transaction:D})}},491848:(e,t,o)=>{o.d(t,{w:()=>r});o(898992),o(672577);var u=()=>o(541199);function r({collectionContextStore:e,transaction:t}){const o="collectionTypedView"===e.contextTypeFromStoreState,r=e.databaseTypeFromStoreState,n=e.collectionStoresStore.state,i=n.find((e=>e.canEdit()||e.canEditCollection()||e.canEditContentOnly()))||n[0];!o&&i&&(0,u().e)({transaction:t,databaseType:r,collectionId:i.id,spaceId:i.getSpaceId()})}},493793:(e,t,o)=>{o.d(t,{W:()=>a});o(296540);var u=()=>o(401497),r=()=>o(148307),n=()=>o(100622),i=o(474848);function a(){const e=(0,u().IS)((()=>({container:{width:80,height:52,display:"flex",alignItems:"center",position:"relative"},avatarLeft:{width:28,height:28,position:"absolute",insetInlineStart:0},avatarRight:{width:28,height:28,position:"absolute",insetInlineEnd:0},avatarCenter:{width:40,height:40,position:"absolute",insetInlineStart:0,insetInlineEnd:0,margin:"0 auto",zIndex:1,boxShadow:n().Tj.shadow.base.sm,borderRadius:"50%"}})),[]);return(0,i.jsxs)("div",{style:e.container,children:[(0,i.jsx)("img",{src:r().A.images.customAgentAvatars.appleRedPng,style:e.avatarLeft,alt:""}),(0,i.jsx)("img",{src:r().A.images.customAgentAvatars.bookBluePng,style:e.avatarCenter,alt:""}),(0,i.jsx)("img",{src:r().A.images.customAgentAvatars.bulbYellowPng,style:e.avatarRight,alt:""})]})}},546461:(e,t,o)=>{o.d(t,{K4:()=>h,To:()=>b,fi:()=>E,q8:()=>y,u:()=>g});o(16280),o(18107),o(967357);var u=o(296540),r=()=>o(484714),n=()=>o(792485),i=()=>o(590526),a=()=>o(79926),s=()=>o(140934),l=()=>o(322867),D=()=>o(69708),c=()=>o(534177),d=()=>o(813297),p=()=>o(326887),f=()=>o(862292),m=()=>o(190019),C=()=>o(76190),F=o(474848);const v=(0,u.createContext)({ancestors:[]});v.displayName="AutomationContext";v.Consumer;function g(e){const{automationStore:t,children:o,contextType:g,enableExistenceGuarantees:y}=e,h=(0,r().v3)(),E=(0,D().tz)(),{value:b}=(0,a().fJ)(f().T.formulas),{value:I}=(0,a().fJ)(d().QV.automationTypecheck),A=(0,C().n)(t),M=(0,n().S)(),B=(0,i().K8)((()=>{if(!b)return{error:new(l().N9)("Missing formulas dependency")};if(!I)return{error:new(l().N9)("Missing automation dependency")};const e=function(e){const{environment:t,automationStore:o,automationTypecheckModule:u,contextType:r,formulasModule:n,intl:i,isSubscribed:a,pageStore:l,enableExistenceGuarantees:D}=e,d=function(e,t){if(t)return _.get(e);return _.get(e)??S.get(e)}(o,D);if(d)return d;const f=new(s().ComputedStore)((()=>{const e=o.getTriggerType();let s=r;return(0,c().O9)(e)&&(0,p().x2)(e)&&(s=(0,p().H8)(e)),(0,m().Z)({environment:t,automationStore:o,automationTypecheckModule:u,contextType:s,formulasModule:n,intl:i,isSubscribed:a,pageStore:l,enableExistenceGuarantees:D})}),{debugName:"automationContextTypecheckResultCachedStore"});return function(e,t,o){o?(_.set(e,t),S.set(e,t)):S.set(e,t)}(o,f,D),f}({automationStore:t,automationTypecheckModule:I,contextType:g,environment:h,formulasModule:b,intl:E,isSubscribed:A,pageStore:"button_block"===g?null==M?void 0:M.pageStore:void 0,enableExistenceGuarantees:y});return e.state}),[h,t,I,g,b,E,A,null==M?void 0:M.pageStore,y]),x=(0,u.useContext)(v),w=(0,u.useMemo)((()=>0===x.ancestors.length?[{automationStore:t,contextType:g,typecheckResult:B}]:[...x.ancestors,{automationStore:t,contextType:g,typecheckResult:B}]),[x,t,g,B]),k=(0,u.useMemo)((()=>({ancestors:w,enableExistenceGuarantees:y})),[w,y]);return(0,F.jsx)(v.Provider,{value:k,children:o})}function y(){const e=(0,u.useContext)(v).ancestors.at(-1);if(!e)throw new Error("No automation context found!");return e}function h(){return(0,u.useContext)(v).ancestors.at(-1)}function E(){return(0,u.useContext)(v).enableExistenceGuarantees}const _=new WeakMap,S=new WeakMap;function b(e){var t;return null===(t=_.get(e))||void 0===t?void 0:t.state}},607567:(e,t,o)=>{o.d(t,{Z:()=>n});o(296540);var u=o(474848);const r={viewBox:"0 0 20 20",fittedViewBox:"2.37 4.12 16.74 14.99",svg:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("path",{d:"M4.5 4.125A2.125 2.125 0 0 0 2.375 6.25v7.5c0 1.174.951 2.125 2.125 2.125h5.702a4.7 4.7 0 0 1-.2-1.25H4.5a.875.875 0 0 1-.875-.875V7.5h12.75v2.535a4.7 4.7 0 0 1 1.25.684V6.25A2.125 2.125 0 0 0 15.5 4.125zm.758 1.684a.625.625 0 1 1-1.25 0 .625.625 0 0 1 1.25 0m1.375-.625a.625.625 0 1 1 0 1.25.625.625 0 0 1 0-1.25m2.625.625a.625.625 0 1 1-1.25 0 .625.625 0 0 1 1.25 0"}),(0,u.jsx)("path",{d:"M17.7 16.607a3.625 3.625 0 1 0-.893.878l1.223 1.427a.625.625 0 0 0 .94-.823zM12.375 14.5a2.375 2.375 0 1 1 4.75 0 2.375 2.375 0 0 1-4.75 0"})]})},n=(0,o(340498).wt)("browserMagnifyingGlass",r,"default")},613016:(e,t,o)=>{o.d(t,{a:()=>r});var u=()=>o(907258);function r(){const{sidebarSpaceStore:e}=u().default.getState();return e?e.id:void 0}},621594:(e,t,o)=>{o.r(t),o.d(t,{exclamationMarkCircleSmallIcon:()=>n,iconDefinition:()=>r});o(296540);var u=o(474848);const r={viewBox:"0 0 16 16",fittedViewBox:"1.87 1.87 12.25 12.25",svg:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("path",{d:"M7.9 4.875a.625.625 0 0 0-.625.625V8a.625.625 0 1 0 1.25 0V5.5a.625.625 0 0 0-.625-.625m0 4.7a.725.725 0 1 0 0 1.45.725.725 0 0 0 0-1.45"}),(0,u.jsx)("path",{d:"M8 1.875a6.125 6.125 0 1 0 0 12.25 6.125 6.125 0 0 0 0-12.25M3.125 8a4.875 4.875 0 1 1 9.75 0 4.875 4.875 0 0 1-9.75 0"})]})},n=(0,o(340498).wt)("exclamationMarkCircleSmall",r,"small")},622936:(e,t,o)=>{o.r(t),o.d(t,{AgentIcon:()=>l,DefaultAgentIcon:()=>D});var u=o(296540),r=()=>o(59226),n=()=>o(783793),i=()=>o(187820),a=()=>o(963141),s=o(474848);function l(e){const{agentIcon:t,workflowStore:o,size:n,animated:l=!1}=e,D=(0,r().X)("animated_custom_agent_faces"),c=(0,u.useMemo)((()=>(0,a().D)({workflowStore:o,workflowIcon:t,size:n,animated:l&&D})),[t,o,n,l,D]);return(0,s.jsx)(i().B6,{icon:c,iconRecordCategory:"workflow",isEmptyPage:!1,size:n,disabled:!0})}function D(e){const t=(0,u.useCallback)((()=>e.size<22?"xsmall":e.size<28?"avatar":e.size<36?"small":e.size<42?"medium":e.size<48?"medium_plus":e.size<50?"medium_large":e.size<94?"large":"xlarge"),[e.size]);return(0,s.jsx)(n().x,{variant:t(),style:{cursor:"default"}})}},626001:(e,t,o)=>{o.d(t,{Af:()=>A,Bw:()=>B,Cs:()=>y,Oq:()=>m,Re:()=>F,X4:()=>C,YJ:()=>b,ZB:()=>I,Zd:()=>M,d2:()=>v,dd:()=>E,in:()=>g,kQ:()=>S});o(944114),o(517642),o(658004),o(733853),o(845876),o(432475),o(515024),o(731698),o(898992),o(354520),o(581454),o(737550);var u=()=>o(68169),r=()=>o(799288),n=()=>o(696706),i=()=>o(179034),a=()=>o(798880),s=()=>o(743246),l=()=>o(201980),D=()=>o(724639),c=()=>o(496603),d=()=>o(534177),p=()=>o(27267),f=()=>o(166442);function m(e,t){const o=f().UserChatPreferenceLocalStorageStore.getState();f().UserChatPreferenceLocalStorageStore.setState({...o,[e]:{...null==o?void 0:o[e],...t}})}function C(e){return e.some((e=>"in_progress"===e.status))}function F(e){return e.some((e=>"complete"===e.status&&"risky"===e.attachmentRisk))}function v(e,t){const o=l().w9s(e),u=((null==t?void 0:t.length)??0)>0;return!o||u}function g(e){const t=y({config:e,includeWeb:!1});return 1===t.length?t[0]:void 0}function y(e){const{config:t,includeWeb:o}=e,u=[];if("search"===t.type)u.push(t.scopeForNextSearch);else if("researcher"===t.type&&t.searchScope)u.push(t.searchScope);else{if("workflow"!==t.type)return[];u.push(...(0,D().n_)({config:t,modules:[]})??[])}return o&&t.useWebSearch&&u.push({type:"web"}),u}function h(e){const{botId:t,spaceStore:o,userStore:u}=e,r=p().R.getCachedWorkflowData(u.id,o.id);if(r)for(const i of r.workflowStores){var n;const e=i.getDraftData();if("bot"===(null==e||null===(n=e.runtime_actor_pointer)||void 0===n?void 0:n.table)&&e.runtime_actor_pointer.id===t)return i.id}}function E(e,t,o){if(!e)return[];const n=l().moK(e),i=l().Fbh(e).map((e=>({table:a().oo,id:e}))),D=l().jgW(e);return[...n,...i,...t&&o?D.map((e=>{if((0,r().ut)(e))return{table:s().C0,id:u().Lj,spaceId:t.id};const n=h({spaceStore:t,botId:e,userStore:o});return n?{table:s().C0,id:n,spaceId:t.id}:void 0})).filter(d().O9):[]]}function _(e,t){const o=new Set(e.map((e=>n().L3.toIdTableKey(e)))),u=new Set(t.map((e=>n().L3.toIdTableKey(e))));return{added:t.filter((e=>!o.has(n().L3.toIdTableKey(e)))),removed:e.filter((e=>!u.has(n().L3.toIdTableKey(e)))),unchanged:e.filter((e=>u.has(n().L3.toIdTableKey(e))))}}function S(e){const{currentTextMentionPointers:t,inputMentionPointers:o,allMentionPointers:u}=e;let r,i;const{added:a}=_(Array.from(u),t),{removed:s,unchanged:l}=_(o,t),D=a.length>0,c=s.length>0;if(D||c){let e=Array.from(u);if(c){const t=new Set(s.map((e=>n().L3.toIdTableKey(e))));e=e.filter((e=>!t.has(n().L3.toIdTableKey(e))))}D&&(e=[...e,...a]),r=e,i=[...l,...a]}return{newMentionPointers:r,newInputMentionPointers:i}}function b(e,t){return(0,c().n4)(e,t)}function I(e){return!!e&&("workspace"===e.type||"teamspace"===e.type||"collection"===e.type||"page"===e.type)}function A(e){const{currentScopes:t,scope:o,isMultiScopeEnabled:u}=e;let r=[];if("everything"===o.type)r=[{type:"everything"}];else if(u){const e=t.filter((e=>"everything"!==e.type));if(e.some((e=>b(e,o))))r=e.filter((e=>!b(e,o)));else if("notion"===o.type){r=[...e.filter((e=>!I(e))),o]}else if(I(o)){r=[...e.filter((e=>"notion"!==e.type)),o]}else r=[...e,o]}else r=[o];return 0===r.length?[{type:"everything"}]:r}function M(e,t){switch(e.type){case"workflow":return{...e,searchScopes:t};case"search":return{...e,scopeForNextSearch:t[0]};case"researcher":return{...e,searchScope:t[0]};default:return e}}function B(e,t,o,n){if(!l().qXl(e))return!1;const D=l().uPN(e);for(const c of D)if(t.table===a().oo&&l().rie(c)){if(l().NcG(c)===t.id)return!0}else if(t.table===i().ev&&l().jIt(c)){const e=l().i$F(c);if(e&&e.id===t.id)return!0}else if(t.table===s().C0&&l().XkZ(c)){const e=l().vjW(c);if(e&&(0,r().ut)(e)&&t.id===u().Lj)return!0;if(e&&o&&n){if(h({spaceStore:o,botId:e,userStore:n})===t.id)return!0}}return!1}},658460:(e,t,o)=>{o.d(t,{m:()=>l});o(296540);var u=()=>o(401497),r=()=>o(718827),n=()=>o(970236),i=()=>o(69708),a=o(474848);const s=(0,i().YK)({alpha:{id:"linkBadge.alpha",defaultMessage:"Alpha"},beta:{id:"linkBadge.beta",defaultMessage:"Beta"}});function l({href:e,type:t,color:o="blue"}){const l=(0,u().IS)((()=>({button:{borderRadius:4}})),[]);return(0,a.jsx)(r().Ay,{href:e,style:l.button,external:!0,children:(0,a.jsx)(n().E,{color:o,content:(0,a.jsx)(i().sA,{...s[t]})})})}},671089:(e,t,o)=>{o.r(t),o.d(t,{checkmarkCircleIcon:()=>n,iconDefinition:()=>r});o(296540);var u=o(474848);const r={viewBox:"0 0 20 20",fittedViewBox:"2.37 2.37 15.25 15.26",svg:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("path",{d:"M12.876 7.982a.625.625 0 1 0-1.072-.644L9.25 11.595 7.815 9.92a.625.625 0 0 0-.95.813l2 2.334a.625.625 0 0 0 1.01-.085z"}),(0,u.jsx)("path",{d:"M10 2.375a7.625 7.625 0 1 0 0 15.25 7.625 7.625 0 0 0 0-15.25M3.625 10a6.375 6.375 0 1 1 12.75 0 6.375 6.375 0 0 1-12.75 0"})]})},n=(0,o(340498).wt)("checkmarkCircle",r,"default")},673657:(e,t,o)=>{o.d(t,{n:()=>n});var u=()=>o(590526),r=()=>o(964345);function n(e){return(0,u().K8)((()=>r().gZ.state&&(null==e?void 0:e.id)===r().Di.state),[e])}},738508:(e,t,o)=>{o.r(t),o.d(t,{cursorIcon:()=>n,iconDefinition:()=>r});o(296540);var u=o(474848);const r={viewBox:"0 0 20 20",fittedViewBox:"1.25 0 17.5 20",svg:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("g",{className:"logo-light-mode",children:[(0,u.jsxs)("g",{clipPath:"url(#clip0_16020_205)",children:[(0,u.jsx)("path",{fill:"#757575",d:"m9.995 9.987 8.658 4.999a.6.6 0 0 1-.226.226l-8.092 4.672a.68.68 0 0 1-.68 0l-8.092-4.672a.6.6 0 0 1-.226-.226z"}),(0,u.jsx)("path",{fill:"#525252",d:"M9.995 0v9.987l-8.658 4.999a.6.6 0 0 1-.082-.309v-9.38c0-.22.117-.424.308-.534L9.655.09a.7.7 0 0 1 .34-.09"}),(0,u.jsx)("path",{fill:"#404040",d:"M18.652 4.989a.6.6 0 0 0-.225-.226L10.334.09A.7.7 0 0 0 9.995 0v9.987l8.658 4.999a.6.6 0 0 0 .083-.309v-9.38c0-.11-.03-.216-.083-.308"}),(0,u.jsx)("path",{fill:"#D9D9D9",d:"M18.047 5.339a.29.29 0 0 1 0 .29l-7.859 13.61c-.053.093-.193.055-.193-.05v-8.97a.4.4 0 0 0-.054-.201z"}),(0,u.jsx)("path",{fill:"#fff",d:"m18.047 5.339-8.106 4.68a.4.4 0 0 0-.147-.147L2.027 5.387c-.092-.053-.054-.193.052-.193h15.717c.111 0 .202.06.25.145"})]}),(0,u.jsx)("defs",{children:(0,u.jsx)("clipPath",{id:"clip0_16020_205",children:(0,u.jsx)("path",{fill:"#fff",d:"M1.255 0h17.49v20H1.256z"})})})]}),(0,u.jsxs)("g",{className:"logo-dark-mode",children:[(0,u.jsxs)("g",{clipPath:"url(#clip0_16020_213)",children:[(0,u.jsx)("path",{fill:"#6E6E6E",d:"m9.995 9.987 8.658 4.999a.6.6 0 0 1-.226.226l-8.092 4.672a.68.68 0 0 1-.68 0l-8.092-4.672a.6.6 0 0 1-.226-.226z"}),(0,u.jsx)("path",{fill:"#4A4A4A",d:"M9.995 0v9.987l-8.658 4.999a.6.6 0 0 1-.082-.309v-9.38c0-.22.117-.424.308-.534L9.655.09a.7.7 0 0 1 .34-.09"}),(0,u.jsx)("path",{fill:"#383838",d:"M18.652 4.989a.6.6 0 0 0-.225-.226L10.334.09A.7.7 0 0 0 9.995 0v9.987l8.658 4.999a.6.6 0 0 0 .083-.309v-9.38c0-.11-.03-.216-.083-.308"}),(0,u.jsx)("path",{fill:"#C9C9C9",d:"M18.047 5.339a.29.29 0 0 1 0 .29l-7.859 13.61c-.053.093-.193.055-.193-.05v-8.97a.4.4 0 0 0-.054-.201z"}),(0,u.jsx)("path",{fill:"#fff",d:"m18.047 5.339-8.106 4.68a.4.4 0 0 0-.147-.147L2.027 5.387c-.092-.053-.054-.193.052-.193h15.717c.111 0 .202.06.25.145"})]}),(0,u.jsx)("defs",{children:(0,u.jsx)("clipPath",{id:"clip0_16020_213",children:(0,u.jsx)("path",{fill:"#fff",d:"M1.255 0h17.49v20H1.256z"})})})]})]})},n=(0,o(340498).wt)("cursor",r,"default")},763765:(e,t,o)=>{o.d(t,{t:()=>r});class u extends(()=>o(757695))().Store{getInitialState(){return{loaded:!1}}USEWITHCAUTION_markStatsigUserFetched(e){const{userId:t,spaceId:o,fetched:u}=e;this.setState({loaded:u,userId:t,spaceId:o})}USEWITHCAUTION_isFetchedForSpaceAndUserId(e){const{spaceId:t,userId:o}=e;return this.state.loaded&&this.state.spaceId===t&&this.state.userId===o}}const r=new u;(0,o(852832).exposeDebugValue)("statsigUserLoadingStatusStore",r)},766854:(e,t,o)=>{o.d(t,{H:()=>E,Q:()=>h});o(898992),o(672577);var u=()=>o(230711),r=()=>o(907258),n=()=>o(135168),i=()=>o(242422),a=()=>o(929219),s=()=>o(711339),l=()=>o(295633),D=()=>o(700500),c=()=>o(179034),d=()=>o(201980),p=()=>o(384944),f=()=>o(649813),m=()=>o(390650),C=()=>o(381678),F=()=>o(622811),v=()=>o(491848),g=()=>o(482871);function y(e,t,o){const r=(0,C()._)(e),n=null==r?void 0:r.id;if(!n||!o)return;if(!i().default.checkGate({gateName:"full_access_for_created_collection_pages"}))return;if(t.canAdmin())return;const a=t.getSpaceStore();return a&&(0,u().dp)(a,n).isMember()?[{role:"editor",type:"user_permission",user_id:n}]:void 0}function h(e){const{collectionContextStore:t,transaction:o}=e;return(0,v().w)({collectionContextStore:t,transaction:o}),E(e)}function E(e){var t,o,u;const{environment:C,collectionContextStore:v,groupsPointer:h,insertAtIndex:E,shouldCoerce:_,templateStore:S,transaction:b,from:I,tracker:A,inMemoryRecordCache:M,isKeyboard:B,title:x}=e,w=s().default.DO_NOT_USE_markLegacy("collections.add_item_lag");s().default.DO_NOT_USE_measureAfterNextFlushLegacy(w,{environment:C,getData:()=>({...m().kz(v),from:I.createBlock})});const k="collectionTypedView"===v.contextTypeFromStoreState,T=v.databaseTypeFromStoreState,R=v.collectionStoresStore.state,j=R.find((e=>e.canEdit()||e.canEditCollection()||e.canEditContentOnly()))||R[0],U=null===(t=(0,n().f)(j))||void 0===t?void 0:t.id,V=r().default.state.currentUserSettingsStore,O=k&&T&&U&&V&&[...V.getAllPreferredCollections(U),...V.getPreferredCollectionsOfType(U,T)]||[];let N;const P=h[0];if("group_header"===I.createBlock&&"location"===P.value.type){const e=P.value.value;if(e){N=R.find((t=>t.id===e.id&&(t.canEdit()||t.canEditCollection()||t.canEditContentOnly())))}}else N=function(e,t){for(const o of e){const e=t.find((e=>e.id===o&&(e.canEdit()||e.canEditCollection()||e.canEditContentOnly())));if(e)return e}}(O,R);const W=N??j,L=null==W?void 0:W.getSpaceId(),z=v.collectionViewStore(),G=v.getViewType(),H=p().Wv({environment:C,type:D().xd.page,inMemoryRecordCache:M,transaction:b,spaceId:L,tracker:A,permissions:y(C,W,L),properties:{title:(0,d().x9d)(x)}});if(!W||!z||!G)return{coercionSucceeded:!0,newStore:H};const q=null===(o=v.groupsStore.getGroupState(h))||void 0===o?void 0:o.groupUiParentStore;if(!q)return{coercionSucceeded:!0,newStore:H};const K=l().B.createChildStore(q,{table:c().ev,id:H.id});S&&a().A.state.online&&f().TB({title:"template",environment:C,store:H,templateStore:S,isKeyboard:B??!1,isCreateIn:!1,transaction:b,from:I.initCollection??"collection_group_actions"});const $=(0,F().j)({environment:C,store:H,collectionStore:W,collectionContextStore:v,groupsPointer:h,shouldCoerce:_,transaction:b}),Y=(null===(u=v.groupsStore.getGroupState(h))||void 0===u||null===(u=u.reducerResultStore.state)||void 0===u?void 0:u.blockIds)||[],X=void 0!==E?E:Y.length,Z=v.permissionScopesStore.state;if((i().default.checkGate({gateName:"can_create_pages_in_collection_permission"})?Z.canCreatePagesInCollection:Z.canEditContent)||k){const e=[...Y.slice(0,X),K.id,...Y.slice(X)];(0,g().z)({resultIds:e,collectionViewStore:z,collectionContextStore:v,transaction:b})}return{coercionSucceeded:$,newStore:K}}},783793:(e,t,o)=>{o.d(t,{o:()=>l,x:()=>s});o(296540);var u=()=>o(401497),r=()=>o(100622),n=()=>o(278589),i=()=>o(200424),a=o(474848);function s(e){const{variant:t,imgSource:o,tintColor:i,faceStyle:s,shadowVariant:D="strong",style:c,...d}=e,p=(0,u().IS)((()=>{const e=(0,n().N)(t);return{faceImgWrap:{width:e,height:e,borderRadius:"100%",background:r().Tj.assistantCornerButtonBackground,..."strong"===D&&{boxShadow:e>=90?r().Tj.shadowMDThickerOutline:r().Tj.shadowMD},..."light"===D&&{borderRadius:"50%",boxShadow:e>=90?r().Tj.shadowSMThickerOutline:r().Tj.shadowSM},overflow:"hidden",...c}}}),[t,D,c]);return(0,a.jsx)("div",{...d,children:(0,a.jsx)("div",{style:p.faceImgWrap,children:(0,a.jsx)(l,{imgSource:o,variant:t,tintColor:i,style:s})})})}function l(e){const{imgSource:t,variant:o,tintColor:r,style:s,alt:l,...D}=e,c=(0,n().N)(o),d=t??i(),p=l??"Notion AI face",f=(0,u().IS)((()=>({faceImg:{height:c,width:c,transform:"scaleX(var(--direction, 1))",...s},tintedFace:{height:c,width:c,transform:"scaleX(var(--direction, 1))",backgroundColor:r,WebkitMaskImage:`url(${d})`,maskImage:`url(${d})`,WebkitMaskRepeat:"no-repeat",maskRepeat:"no-repeat",WebkitMaskPosition:"center",maskPosition:"center",WebkitMaskSize:"contain",maskSize:"contain",...s}})),[c,s,r,d]);return void 0!==r?(0,a.jsx)("div",{style:f.tintedFace,role:"img","aria-label":p}):(0,a.jsx)("img",{...D,style:f.faceImg,src:d,alt:p})}},823569:(e,t,o)=>{o.d(t,{A:()=>f});var u=o(296540),r=()=>o(401497),n=()=>o(127833),i=()=>o(406094),a=()=>o(493552),s=()=>o(69708),l=()=>o(13898),D=()=>o(658460),c=()=>o(369393),d=()=>o(493793),p=o(474848);function f({badgeConfig:e}){const{badge_type:t,badge_click_url:o}=e,r=(0,u.useMemo)((()=>{if(null!=o&&o.length)return o}),[o]);switch(t){case"alpha":return r?(0,p.jsx)(D().m,{href:r,type:"alpha"}):null;case"beta":return(0,p.jsx)(m,{href:r});default:return null}}function m({href:e}){const[t,o]=(0,u.useState)(!1),{state:f,pinPopup:m,unpinPopup:C}=(0,c().v)({immediateState:t||void 0}),F=Boolean(f),v=(0,u.useMemo)((()=>({onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1)})),[]),g=(0,r().IS)((()=>({container:{width:212,display:"flex",flexDirection:"column",alignItems:"flex-start",gap:8,padding:12},bold:{fontWeight:600}})),[]);return(0,p.jsx)(n().zD,{disableMouseCapture:!0,preventCaptureEsc:!0,preventScaleTransition:!0,preventOpacityTransition:!0,originGap:6,open:F,popupType:n().nl.Popup,alignmentToOrigin:"start",placementToOrigin:"bottom",trapFocus:!1,origin:(0,p.jsx)("div",{...v,children:e?(0,p.jsx)(D().m,{href:e,type:"beta"}):(0,p.jsx)(l().A,{})}),render:()=>(0,p.jsxs)("div",{style:g.container,onMouseEnter:m,onMouseLeave:C,children:[(0,p.jsx)(d().W,{}),(0,p.jsx)(a().D,{styleKey:"bodyRegular",children:(0,p.jsx)(s().sA,{id:"customAgentsRolloutBadge.beta.popupText",defaultMessage:"<b>Try Agents for free during Beta.</b> We’re still finalizing pricing before wider release.",values:{b:e=>(0,p.jsx)("span",{style:g.bold,children:e})}})}),e?(0,p.jsx)(i().A,{href:e,external:!0,children:(0,p.jsx)(s().sA,{id:"customAgentsRolloutBadge.learnMore",defaultMessage:"Learn more"})}):null]})})}},839754:(e,t,o)=>{o.d(t,{Bi:()=>b,My:()=>S,ZM:()=>A,_M:()=>I,navigateToWorkflowTemplateOnboardingModal:()=>M});o(16280),o(944114),o(517642),o(658004),o(733853),o(845876),o(432475),o(515024),o(731698),o(898992),o(354520),o(672577),o(581454);var u=()=>o(907258),r=()=>o(295633),n=()=>o(584262),i=()=>o(663077),a=()=>o(179034),s=()=>o(201980),l=()=>o(749750),D=()=>o(896628),c=()=>o(384944),d=()=>o(857783),p=()=>o(730969),f=()=>o(840153),m=()=>o(339798),C=()=>o(180762),F=()=>o(799832),v=()=>o(111379),g=()=>o(295304),y=()=>o(547149),h=()=>o(373444),E=()=>o(165592),_=()=>o(204067);function S({transaction:e,collectionStore:t,propertyTemplates:o}){var u;const r=(null===(u=t.getParentBlockStore())||void 0===u?void 0:u.getCollectionViewStores().filter((e=>"table"===e.getType())))??[];if(0===r.length)return;const n=[];for(const s of o){const e=(0,_().S1)({collectionStore:t,templateId:s.templateId,instancePointerType:"property"});e&&n.push({property:e.id,visible:!(0,i().Sz)(s),...s.tablePropertyFormat})}if(0!==n.length)for(const i of r){var a;const t=(null===(a=i.getPropertyFormatsStore("table_properties"))||void 0===a?void 0:a.getValue())??[],o=new Set(t.map((e=>e.property))),u=n.filter((e=>!o.has(e.property)));0!==u.length&&D().zA({stores:[i],update:{table_properties:[...t,...u]},transaction:e})}}function b({transaction:e,collectionStore:t,propertyTemplates:o}){const u=[];for(const a of o){const e=(0,_().S1)({collectionStore:t,templateId:a.templateId,instancePointerType:"property"});e&&u.push({property:e.id,visible:!0})}const r=t.getFormat().collection_page_properties??[],n=new Set(r.map((e=>e.property))),i=u.filter((e=>!n.has(e.property)));i.length&&D().zA({stores:[t],update:{collection_page_properties:[...r,...i]},transaction:e})}function I({environment:e,newPageStore:t,result:o}){"accepted_template"!==o.type&&"accepted_empty_collection"!==o.type||y().createAndCommit({environment:e,canUndo:!1,perform:u=>{const n=t.getTitleValue();if(c().zv({store:t,transaction:u,data:{alive:!1}}),"accepted_empty_collection"===o.type&&!(0,s().w9s)(n)){const i=r().B.createChildStore(t,{table:"block",id:o.blockId}).getTitleStore();i&&g().yr({environment:e,transaction:u,tokens:n,index:0,store:i})}const i=t.getParentStore();if((null==i?void 0:i.table)===a().ev){const e=i.getContentIds();c().zv({store:i,transaction:u,data:{content:e.filter((e=>e!==t.id))}})}},userAction:"clean_up_empty_new_page"})}function A({environment:e,userAction:t,result:o,existingCollectionViewBlockStore:u,existingCollectionStore:r}){if("canceled"!==o.type){if("accepted_empty_collection"===o.type&&r){const u=r.getKeyStore("name"),n=(0,s().x9d)(o.newCollectionTitle);u&&y().createAndCommit({userAction:t,environment:e,canUndo:!0,perform:t=>g().R9({environment:e,store:u,transaction:t,value:n})})}if(u){var n;const e=null===(n=(0,F().U)(u))||void 0===n?void 0:n.settingsStore;e&&m().os({collectionSettingsStore:e})}if("accepted_template"===o.type&&null!=u&&u.isCollectionView()&&(null==u||!u.hasSingleSourceAndNoLinkedCollections())){const t=(0,F().U)(u),r=u.getCollectionViewStores().find((e=>{var t;return(null===(t=e.getCollectionStore())||void 0===t?void 0:t.id)===o.collectionId}));if(!t||!r)return;(0,C().t)({environment:e,collectionContextStore:t,collectionViewId:r.id,isFullScreen:t.isFullScreenStore.state,isRootChild:t.isRootChildStore.state,isInPeekRenderer:t.isInPeekRendererStore.state})}}}async function M({environment:e,collectionViewBlockStore:t}){const o=t.id;if(!t.isDefined()){const u=await l().$f({environment:e,blockId:o});if(!u)return;e=await f().T({environment:e,newCurrentUserId:u}),t=new(r().B)(e,{table:a().ev,id:o}),await t.load()}const i=t.getSpaceId();if(!i)throw new Error("Space ID not found for collection block");const s=(0,v().k)(i);if(!s)throw new Error(`Space view not found for space ID: ${i}`);const{sidebarSpaceStore:D}=u().default.state;(null==D?void 0:D.id)!==i&&await(0,p().y)({environment:e,spaceViewStore:s});const c=t.getFormat();if("workflow_template_placeholder"===(null==c?void 0:c.collection_view_sub_type)&&null!=c&&c.placeholder_workflow_template_id&&t.isCollectionView()){const{getCollectionTemplateFromId:o}=await E().t.load(),u=o(c.placeholder_workflow_template_id);if(!u)throw new Error(`Collection template "${c.placeholder_workflow_template_id}" not found`);const{onNavigateToPlaceholderWorkflowTemplateBlock:r}=await h().O.load();r({environment:e,collectionTemplate:u,collectionViewBlockStore:t})}else d().uK({environment:e,store:t,pageVisitSource:n().y8.WorkflowTemplatesDeeplink})}},888325:(e,t,o)=>{function u(e){return`${e.table}:${e.id}`}o.d(t,{_:()=>u})},890409:(e,t,o)=>{o.d(t,{Ah:()=>F,Dk:()=>f,Iv:()=>C,SF:()=>m,YO:()=>y,_f:()=>E,c_:()=>d,dW:()=>g,gW:()=>p,sp:()=>_,vN:()=>v});o(16280),o(944114),o(898992),o(354520),o(803949),o(581454),o(737550);var u=()=>o(496603),r=()=>o(973647),n=()=>o(534177),i=()=>o(842599),a=()=>o(239381),s=()=>o(179034),l=()=>o(798880),D=()=>o(201980),c=()=>o(241319);function d(e,t){e.DO_NOT_USE_commonTrackEvent({eventName:"add_automation_step",properties:t})}function p(e,t){e.DO_NOT_USE_commonTrackEvent({eventName:"delete_automation_step",properties:t})}function f(e,t){e.DO_NOT_USE_commonTrackEvent({eventName:"automation_create",properties:t})}function m(e,t){e.DO_NOT_USE_commonTrackEvent({eventName:"automation_update",properties:t})}function C(e,t){e.DO_NOT_USE_commonTrackEvent({eventName:"automation_delete",properties:t})}function F(e,t){e.DO_NOT_USE_commonTrackEvent({eventName:"automation_enable",properties:t})}function v(e,t){e.DO_NOT_USE_commonTrackEvent({eventName:"automation_disable",properties:t})}function g(e,t){e.DO_NOT_USE_commonTrackEvent({eventName:"automation_action_create",properties:t})}function y(e,t){e.DO_NOT_USE_commonTrackEvent({eventName:"automation_action_delete",properties:t})}function h(e){const{formulaAnalyticsModule:t,formulasModule:o,formulaTypecheckContextValues:u,getRecordModel:i,spaceId:s,value:l,featureGates:D}=e;if("formula"===l.type){if(!(0,n().O9)(l.value))return;const e=r().Q.unwrapOr(o.parseFormulaInputToAst(l.value),void 0);if(e){const r=o.addTypesToFormulaAST(e,{handleDataRequest:(0,a().zg)(i),spaceId:s,valueTypes:u,featureGates:D});return{...t.getFormulaAnalytics(e,{getRecordModel:i,typecheckContextValues:u}),formula_return_type:r.node.type,redacted_formula:t.getRedactedFormulaAsStringSync(e,{getRecordModel:i,typecheckContextValues:u})}}}else{if("simple"===l.type){if(!(0,n().O9)(l.value))return;return t.getSimpleFormulaAnalytics(l.value,{getRecordModel:i,typecheckContextValues:u})}(0,n().HB)(l.type)}}function E(e){const{automationActionModel:t,automationActionModels:o,formulaAnalyticsModule:r,formulasModule:s,formulaTypecheckContextValues:d,getRecordModel:p,featureGates:f,simpleFormulasModule:m}=e;return t.isType("complete_sprint")?{automation_action_id:t.pointer.id,type:"complete_sprint"}:t.isType("create_page")?function(e){const{automationActionModel:t,formulaAnalyticsModule:o,formulasModule:u,formulaTypecheckContextValues:r,getRecordModel:i,featureGates:a}=e,s=t.getConfig();let l,D=[];const c=null==s?void 0:s.collection,d=null==s?void 0:s.properties;if((0,n().O9)(c)&&(0,n().O9)(d)&&d.length>0){const e=i(c),f=null==e?void 0:e.getNormalizedSchema();(0,n().O9)(f)&&(D=d.map((e=>{var t;return(null===(t=f[e])||void 0===t?void 0:t.type)??"unknown"})));const m=null==s?void 0:s.values;if(u&&(0,n().O9)(m)){l=[];for(const e of d){var p;const n=null===(p=m[e])||void 0===p?void 0:p.value;if(!n)continue;const s=h({formulaAnalyticsModule:o,formulasModule:u,getRecordModel:i,formulaTypecheckContextValues:r,spaceId:t.spaceId,value:n,featureGates:a});s&&l.push(s)}}}return{automation_action_id:t.pointer.id,property_formula_stats:l,property_types:D,type:"create_page"}}({automationActionModel:t,formulaAnalyticsModule:r,formulasModule:s,formulaTypecheckContextValues:d,getRecordModel:p,featureGates:f}):t.isType("duplicate_blocks")?{automation_action_id:t.pointer.id,type:"duplicate_blocks"}:t.isType("modal_confirmation")?function(e){const{automationActionModel:t,formulaAnalyticsModule:o,formulasModule:u,formulaTypecheckContextValues:r,getRecordModel:i,featureGates:a}=e,s=t.getConfig(),l=[];if(u&&(0,n().O9)(s)&&s.text){const e=h({formulasModule:u,formulaAnalyticsModule:o,getRecordModel:i,formulaTypecheckContextValues:r,spaceId:t.spaceId,value:s.text,featureGates:a});e&&l.push(e)}return{automation_action_id:t.pointer.id,formula_stats:l,type:"modal_confirmation"}}({automationActionModel:t,formulaAnalyticsModule:r,formulasModule:s,formulaTypecheckContextValues:d,getRecordModel:p,featureGates:f}):t.isType("open_page")?{automation_action_id:t.pointer.id,type:"open_page"}:t.isType("query_collection")?{automation_action_id:t.pointer.id,type:"query_collection"}:t.isType("send_in_app_notification")?function(e){var t;const{automationActionModel:o,formulaAnalyticsModule:u,formulasModule:r,formulaTypecheckContextValues:i,getRecordModel:a,featureGates:s,simpleFormulasModule:l}=e,c={automation_action_id:o.pointer.id,messageCharacterCount:0,type:"send_in_app_notification"},d=o.getConfig();if(!(0,n().O9)(d))return c;if((0,n().O9)(d.target))if("formula"===d.target.type&&(0,n().O9)(d.target.value)){if(c.targetData={type:"formula",numUserFormulaTargets:(0,D().Fbh)(d.target.value.value).length,numFormulaContextTargets:l.getReferencedContextValueIds(d.target.value).length},r){const e=h({formulasModule:r,formulaAnalyticsModule:u,getRecordModel:a,formulaTypecheckContextValues:i,spaceId:o.spaceId,value:d.target.value,featureGates:s});e&&(c.formula_stats??=[],c.formula_stats.push(e))}}else if("property"===d.target.type&&(0,n().O9)(d.target.propertyId)&&(0,n().O9)(d.target.collectionPointer)){const e=a(d.target.collectionPointer),t=null==e?void 0:e.getSchema();var p;(0,n().O9)(t)&&(c.targetData={type:"property",propertyType:null===(p=t[d.target.propertyId])||void 0===p?void 0:p.type})}if((0,n().O9)(null===(t=d.notification_message)||void 0===t?void 0:t.value)&&(c.messageCharacterCount=(0,D().FAw)(d.notification_message.value),r)){const e=h({formulasModule:r,formulaAnalyticsModule:u,getRecordModel:a,formulaTypecheckContextValues:i,spaceId:o.spaceId,value:d.notification_message,featureGates:s});e&&(c.formula_stats??=[],c.formula_stats.push(e))}return c}({automationActionModel:t,formulaAnalyticsModule:r,formulasModule:s,formulaTypecheckContextValues:d,getRecordModel:p,featureGates:f,simpleFormulasModule:m}):t.isType("send_gmail_notification")?function(e){var t,o,r,a,s,c,d;const{automationActionModel:p,formulaAnalyticsModule:f,formulasModule:m,formulaTypecheckContextValues:C,getRecordModel:F,featureGates:v}=e,g=p.getConfig();if(!(0,n().O9)(g))return{automation_action_id:p.pointer.id,fields:{},recipient_domains:{},type:"send_gmail_notification"};const y=Object.fromEntries(Object.entries(g||{}).map((([e,t])=>{var o;return"formula"===(null==t?void 0:t.type)?[e,Boolean(null==t||null===(o=t.value)||void 0===o?void 0:o.value)]:"simple"===(null==t?void 0:t.type)?[e,Boolean(null==t?void 0:t.value)]:[e,Boolean(t)]}))),{to:E,cc:_,bcc:S}=g,b=[...(null==E||null===(t=E.value)||void 0===t?void 0:t.value)||[],...(null==_||null===(o=_.value)||void 0===o?void 0:o.value)||[],...(null==S||null===(r=S.value)||void 0===r?void 0:r.value)||[]],I=[...(0,D().Fbh)(b).map((e=>F({table:l().oo,id:e}))).map((e=>null==e?void 0:e.email)).filter(n().O9),...(0,i().C3)((0,D().k4p)(b))],A=u().Tr(I.map((e=>e.split("@")[1]))),M=[null===(a=g.to)||void 0===a?void 0:a.value,null===(s=g.cc)||void 0===s?void 0:s.value,null===(c=g.bcc)||void 0===c?void 0:c.value,null===(d=g.reply_to)||void 0===d?void 0:d.value,g.from_name,g.email_subject,g.email_body].map((e=>{if(m&&(0,n().O9)(e))return h({formulaAnalyticsModule:f,formulasModule:m,getRecordModel:F,formulaTypecheckContextValues:C,spaceId:p.spaceId,value:e,featureGates:v})})).filter(n().O9);return{automation_action_id:p.pointer.id,fields:y,formula_stats:M,recipient_domains:A,type:"send_gmail_notification"}}({automationActionModel:t,formulaAnalyticsModule:r,formulasModule:s,formulaTypecheckContextValues:d,getRecordModel:p,featureGates:f}):t.isType("slack_notification")?{automation_action_id:t.pointer.id,type:"slack_notification"}:t.isType("update_pages")?function(e){const{automationActionModel:t,automationActionModels:o,formulaAnalyticsModule:u,formulasModule:r,formulaTypecheckContextValues:i,getRecordModel:s,featureGates:l}=e,D=t.getConfig(),d=[],p=[],f=[];if((0,n().O9)(D)&&(0,n().O9)(D.target)&&(0,n().O9)(D.properties)&&D.properties.length>0){let e;if("variable"===D.target.type){const t=(0,a().y5)(D.target.id);if("action"===t.source){const t=(0,c().y)({actionModels:o,id:D.target.id}).collectionPointer;if((0,n().O9)(t)){const o=s(t);e=null==o?void 0:o.getNormalizedSchema()}}else{if("global"!==t.source||"button_page"!==t.global)throw new Error("Failed loading property schema");{const t=(0,a().IV)(i,D.target.id);if("block"===(null==t?void 0:t.type.type)&&(0,n().O9)(t.type.collection)){const o=s(t.type.collection);e=null==o?void 0:o.getNormalizedSchema()}}}}else if("collection"===D.target.type){const t=s(D.target.collection);e=null==t?void 0:t.getNormalizedSchema()}(0,n().O9)(e)&&D.properties.forEach((o=>{const a=e[o];if((0,n().O9)(a)&&(d.push(a.type),r&&(0,n().O9)(D.values))){const e=D.values[o];if((0,n().O9)(e)&&(p.push({type:a.type,operator:e.action}),e.value)){const o=h({formulasModule:r,formulaAnalyticsModule:u,getRecordModel:s,formulaTypecheckContextValues:i,spaceId:t.spaceId,value:e.value,featureGates:l});o&&f.push(o)}}}))}return{automation_action_id:t.pointer.id,property_configs:p,property_formula_stats:f,property_types:d,type:"update_pages"}}({automationActionModel:t,automationActionModels:o,formulaAnalyticsModule:r,formulasModule:s,formulaTypecheckContextValues:d,getRecordModel:p,featureGates:f}):t.isType("define_variables")?function(e){const{automationActionModel:t,formulaAnalyticsModule:o,formulasModule:u,formulaTypecheckContextValues:r,getRecordModel:i,featureGates:a}=e,s=t.getConfig(),l=[];if(u&&(0,n().O9)(s)&&s.values)for(const n of Object.values(s.values))if(n.value){const e=h({formulasModule:u,formulaAnalyticsModule:o,getRecordModel:i,formulaTypecheckContextValues:r,spaceId:t.spaceId,value:n.value,featureGates:a});e&&l.push(e)}return{automation_action_id:t.pointer.id,formula_stats:l,type:"define_variables"}}({automationActionModel:t,formulaAnalyticsModule:r,formulasModule:s,formulaTypecheckContextValues:d,getRecordModel:p,featureGates:f}):t.isType("http_request")?{automation_action_id:t.pointer.id,type:"http_request"}:t.isType("publish_site")?{automation_action_id:t.pointer.id,type:"publish_site"}:t.isType("worker")?{automation_action_id:t.pointer.id,type:"worker"}:void(0,n().HB)(t)}function _(e){const{automationModel:t,builderType:o="sidebar",formulaAnalyticsModule:u,formulasModule:r,formulaTypecheckContextValues:i,getRecordModel:a,featureGates:l,simpleFormulasModule:D,source:c}=e,d=[],p=t.getActionPointers().map((e=>a(e))).filter(n().O9);for(const s of t.getActionPointers()){const e=a(s);(0,n().O9)(e)&&d.push(E({automationActionModel:e,automationActionModels:p,formulaAnalyticsModule:u,formulasModule:r,formulaTypecheckContextValues:i,getRecordModel:a,featureGates:l,simpleFormulasModule:D}))}const f=[];let m,C,F;if(t.isEventType()){var v;const e=t.getEventConfiguration(),o=a(t.getParentPointer());m=t.getParentId();const u=t.getEventConfiguration();if("collection_view"===(null===(v=u.source)||void 0===v?void 0:v.type)){const e=a(u.source.pointer);(null==e?void 0:e.parent_table)===s().ev&&(F=null==e?void 0:e.parent_id),C=null==u?void 0:u.source.pointer.id}const r=null==o?void 0:o.getNormalizedSchema();if((0,n().O9)(r)){const{pagesAdded:t,pagePropertiesEdited:o}=e;if(t&&f.push({type:"page"}),"any"===o.type)f.push({condition:"any",type:"property"});else if("none"===o.type)f.push({condition:"none",type:"property"});else{let e=[];"some"===o.type?e=o.some??[]:"all"===o.type&&(e=o.all??[]);const t=[],u=[];e.forEach((e=>{var o;const i=null===(o=r[e.property])||void 0===o?void 0:o.type;(0,n().O9)(i)&&(t.push({type:i,operator:e.filter.operator}),u.push(i))})),f.push({condition:o.type,property_configs:t,property_types:u,type:"property"})}}}else if(t.isButtonType())f.push({type:"button"});else if(t.isRecurrenceType()){var g;f.push({type:"recurrence",frequency:null===(g=t.getTrigger().recurrence)||void 0===g?void 0:g.frequency})}else(0,n().HB)(t);return{automation_actions:d,automation_id:t.id,automation_triggers:f,collection_id:m,collection_view_id:C,collection_view_block_id:F,builder_type:o,source:c}}},912474:(e,t,o)=>{o.d(t,{a:()=>n});var u=()=>o(79926);const r=new(u().O2)("StopDictationButton",(async()=>await Promise.all([o.e(75134),o.e(35530),o.e(9773),o.e(36556),o.e(55373),o.e(36192),o.e(40537),o.e(27992),o.e(63452),o.e(66249),o.e(92845),o.e(87249),o.e(79022),o.e(44854),o.e(87017),o.e(34877),o.e(46414),o.e(11676),o.e(61165),o.e(94522),o.e(44584),o.e(38293),o.e(40992),o.e(88455),o.e(52871),o.e(47160),o.e(49021),o.e(53697),o.e(26126),o.e(6039),o.e(71136),o.e(86341),o.e(29316),o.e(3101)]).then(o.bind(o,962309)))),n=(0,u()._h)(r,(e=>e.StopDictationButton))},916275:(e,t,o)=>{o.d(t,{P:()=>n});o(16280),o(898992),o(354520),o(672577),o(737550);var u=()=>o(449412);class r extends(()=>o(62175))().U{isModelAvailable(e,t,o){const u=this.getData(e,{spaceId:t});return!!u&&u.some((e=>e.model===o))}isModelDisabled(e,t,o){const u=this.getData(e,{spaceId:t});if(!u)return!1;const r=u.find((e=>e.model===o));return(null==r?void 0:r.isDisabled)??!1}getModelsForMode(e,t,o){const u=this.getData(e,{spaceId:t});if(u)return u.filter((e=>"markdown-chat"===o?void 0!==e.markdownChat:void 0!==e.workflow))}}const n=new r(((e,{spaceId:t})=>`${e.currentUser.id}:${t}`),(async(e,{spaceId:t})=>{const r=e.currentUser.id;try{const n=await e.api.callCellCompatibleApi({eventName:"getAvailableModels",environment:e,cellNavigation:{spaceId:t},data:{spaceId:t}});if("failed"===n.type){const e=(0,o(247584).V4)(n);return void u().O8(new Error(`Failed to fetch available models: ${e}`),{from:"AvailableModelsStore.fetch",type:"api_failed_response",data:{spaceId:t,userId:r,errorMessage:e}})}return 0===n.data.models.length&&u().O8(new Error("Received empty model list from server"),{from:"AvailableModelsStore.fetch",type:"empty_response",data:{spaceId:t,userId:r}}),n.data.models}catch(n){return void u().O8(n,{from:"AvailableModelsStore.fetch",type:"error",data:{spaceId:t,userId:r}})}}),{dontCacheUndefined:!0});(0,o(852832).exposeDebugValue)("availableAiModelsStore",n)},922952:(e,t,o)=>{o.d(t,{u:()=>i});var u=()=>o(295633),r=()=>o(302996),n=()=>o(723085);function i(e){return e instanceof n().h||e instanceof r().SpaceStore||e instanceof u().B}},935432:(e,t,o)=>{o.d(t,{A:()=>i});var u=()=>o(416845),r=()=>o(357264),n=()=>o(788579);function i(e,t){if((0,u().pA8)(t)){const o=(0,n().$)(t.clientData);if(o)return"messageValues"in t.clientData?e.formatMessage(o,t.clientData.messageValues):e.formatMessage(o)}return e.formatMessage(r().k.generic_error)}},962753:(e,t,o)=>{o.d(t,{EH:()=>v,FO:()=>C,P$:()=>F,VA:()=>f,h0:()=>D,lM:()=>c,mq:()=>m});o(898992),o(581454),o(737550);var u=()=>o(907258),r=()=>o(242422),n=()=>o(763765),i=()=>o(613848),a=()=>o(496603),s=()=>o(534177),l=()=>o(822789);function D(e){const{currentUserRootStore:t}=u().default.state;if(!t)return!1;const o=t.getSpaceViewStores();return(0,a().oE)(null==o?void 0:o.map((e=>e.getSpaceId()))).map((t=>i().A.getData(e,{spaceId:t,userId:e.currentUser.id}))).some((e=>d(e)))}function c(e,t){return d(i().A.getData(e,{spaceId:t,userId:e.currentUser.id}))}function d(e){switch(null==e?void 0:e.membershipType){case void 0:case"none":case"page_guest":return!1;case"restricted_member":case"member":case"membership_admin":case"owner":return!0===e.is_sales_assisted;default:(0,s().HB)(e)}}function p(e,t){if(!t)return"control";if(c(e,t))return"control";const o=r().default.getEligibleGroup({experimentId:"ai_product_retention_simplified_input",defaultGroup:"control"});return"input"===o||"input_and_ask_mode"===o?o:"control"}function f(){switch(r().default.getEligibleGroup({experimentId:"ai_product_retention_agent_follow_ups",defaultGroup:"control"})){case"button_nudge":return["button","nudge"];case"button_control":return["button","default"];case"nudge":return["nudge"];default:return}}function m(e,t){const o=r().default.checkGate({gateName:"agent_deep_find"}),u=void 0!==t&&c(e,t),i=e.currentUser.id,a=!t||!i||n().t.USEWITHCAUTION_isFetchedForSpaceAndUserId({spaceId:t,userId:i}),s=o||!u&&a&&"on"===r().default.getEligibleGroup({experimentId:"ai_product_retention_deepfind",defaultGroup:"control"}),l=F(e,t);return{agentDeepFindEnabled:s,useReadOnlyMode:s&&l}}function C(e,t){if(t?(0,l().vp)(t):(0,l().hw)())return!0;return"control"!==p(e,t)}function F(e,t){return"input_and_ask_mode"===p(e,t)}function v(){return"on"===r().default.getEligibleGroup({experimentId:"ai_product_retention_agent_speculative_search",defaultGroup:"control"})}},966759:(e,t,o)=>{o.d(t,{i:()=>n});var u=()=>o(390650),r=()=>o(175213);function n(e){const{environment:t,collectionContextStore:o,property_type:n,from:i,property:a,...s}=e,l=(0,u().sl)(o)||{};(0,r().G)(t,{property:a,property_type:n,from:i,...s,...l})}}}]);