"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[36437],{5813:(e,t,a)=>{function _(e){return!!e&&e.getZeroRetentionEnabled()}a.d(t,{A:()=>_})},600434:(e,t,a)=>{a.d(t,{K7:()=>m,f8:()=>b});var _=a(296540),n=()=>a(907258),o=()=>a(59226),i=()=>a(242422),s=()=>a(590526),g=()=>a(30537),r=()=>a(546926),l=()=>a(534177),p=()=>a(5813),c=()=>a(38554),u=()=>a(791256);class d{constructor(e,t){this.aiChatType=e,this.checkGate=t}get isNewAgentModalVariant(){return"new_agent_modal"===this.aiChatType}get isNewAgentModalV2Variant(){return"new_agent_modal_v2"===this.aiChatType}get supportsSimplifiedLayout(){return"slippery_slope"===this.aiChatType}get selectionContextInsertionMode(){return this.checkGate.isSlipperySlopeEnabled?"manual":"none"}get supportsDebugButton(){return"agent_mobile"!==this.aiChatType&&"desktop_nosey"!==this.aiChatType}get analyticsFromSourceForActions(){return{agent:"agent",agent_full_page:"agent_full_page",agent_popup:"agent_popup",agent_command_search:"agent_command_search",custom_agent:"custom_agent",custom_agent_activity:"custom_agent_activity",custom_agent_preview:"custom_agent_preview",desktop_nosey:"desktop_nosey",full_page:"full_page",ai_module:"full_page",research_mode:"research_mode",slippery_slope:"slippery_slope",agent_collections_new_view:"agent_collections_new_view",agent_new_db_quick_access:"agent_new_db_quick_access",agent_db_filters:"agent_db_filters",new_agent_modal:"new_agent_modal",new_agent_modal_v2:"new_agent_modal_v2",new_agent_modal_v3:"new_agent_modal_v3",agent_mobile:"agent",agent_writer:"agent_writer"}[this.aiChatType]}get draftStorageKey(){return{agent:"agent",agent_full_page:"full_page",agent_popup:"agent",agent_command_search:"agent_command_search",custom_agent:"custom_agent",custom_agent_activity:"custom_agent",custom_agent_preview:void 0,desktop_nosey:"agent",full_page:"full_page",ai_module:"full_page",research_mode:"full_page",new_agent_modal:void 0,new_agent_modal_v2:void 0,new_agent_modal_v3:void 0,agent_mobile:"agent_mobile",slippery_slope:void 0,agent_new_db_quick_access:void 0,agent_db_filters:void 0,agent_writer:"agent",agent_collections_new_view:void 0}[this.aiChatType]}supportsMinimalTranscript(){return"agent_writer"===this.aiChatType}get shouldCheckFeatureAvailabilityBeforeSubmit(){return{agent:!1,agent_full_page:!1,agent_popup:!1,agent_command_search:!1,custom_agent:!1,custom_agent_activity:!1,custom_agent_preview:!1,desktop_nosey:!1,full_page:!1,ai_module:!0,research_mode:!1,agent_new_db_quick_access:!0,agent_db_filters:!0,slippery_slope:!0,agent_collections_new_view:!0,new_agent_modal:!1,new_agent_modal_v2:!0,new_agent_modal_v3:!0,agent_mobile:!1,agent_writer:!0}[this.aiChatType]}get shouldShowUsageError(){return{agent:!1,agent_full_page:!1,agent_popup:!1,agent_command_search:!1,custom_agent:!1,custom_agent_activity:!1,custom_agent_preview:!1,desktop_nosey:!1,full_page:!1,ai_module:!0,research_mode:!1,agent_new_db_quick_access:!0,agent_db_filters:!0,slippery_slope:!0,agent_collections_new_view:!0,new_agent_modal:!1,new_agent_modal_v2:!0,new_agent_modal_v3:!0,agent_mobile:!1,agent_writer:!0}[this.aiChatType]}get shouldShowPeekingFace(){return"slippery_slope"===this.aiChatType&&this.checkGate.isPeekabooNosyEnabled}get chonkyStyles(){return{agent:!1,agent_full_page:!0,agent_popup:!1,agent_command_search:!1,custom_agent:!1,custom_agent_activity:!1,custom_agent_preview:!1,desktop_nosey:!1,full_page:!1,ai_module:!1,research_mode:!1,agent_new_db_quick_access:!1,agent_db_filters:!1,slippery_slope:!1,agent_collections_new_view:!1,new_agent_modal:!1,new_agent_modal_v2:!1,new_agent_modal_v3:!1,agent_mobile:!0,agent_writer:!1}[this.aiChatType]}shouldAllowMentions(e){const t={researcher:!0,search:!0,workflow:!0,"markdown-chat":!1,"setup-generator":!0,autocorrect:!0,autocomplete:!0,"debug-inference":!0,"memory-agent":!0,"summarize-transcript":!0,"route-inference-transcript":!0,"fast-researcher":!0,aiBlock:!0,formulas:!0}[e];return{agent:!0,agent_full_page:!0,agent_popup:!0,agent_command_search:!0,custom_agent:!1,custom_agent_activity:!1,custom_agent_preview:!1,desktop_nosey:!0,full_page:t,ai_module:t,research_mode:!1,agent_new_db_quick_access:!1,agent_db_filters:!1,slippery_slope:!0,agent_collections_new_view:!1,new_agent_modal:!0,new_agent_modal_v2:!0,new_agent_modal_v3:!0,agent_mobile:!0,agent_writer:!0}[this.aiChatType]}get newChatRouteToAiHome(){return{agent:!1,agent_full_page:!0,agent_popup:!1,agent_command_search:!1,custom_agent:!1,custom_agent_activity:!1,custom_agent_preview:!1,desktop_nosey:!1,full_page:!0,ai_module:!1,research_mode:!1,agent_new_db_quick_access:!1,agent_db_filters:!1,slippery_slope:!1,agent_collections_new_view:!1,new_agent_modal:!1,new_agent_modal_v2:!1,new_agent_modal_v3:!1,agent_mobile:!1,agent_writer:!1}[this.aiChatType]}shouldSupportAttachments(e){const t={researcher:!0,search:!0,workflow:!0,"markdown-chat":!1,"setup-generator":!1,autocorrect:!1,autocomplete:!1,"debug-inference":!1,"memory-agent":!1,"summarize-transcript":!1,"route-inference-transcript":!1,"fast-researcher":!1,aiBlock:!1,formulas:!1}[e];return{agent:t,agent_full_page:t,agent_popup:t,agent_command_search:t,custom_agent:!0,custom_agent_activity:!0,custom_agent_preview:!0,desktop_nosey:t,full_page:t,ai_module:t,research_mode:!1,agent_new_db_quick_access:!1,agent_db_filters:!1,slippery_slope:t,agent_collections_new_view:!1,new_agent_modal:!1,new_agent_modal_v2:!1,new_agent_modal_v3:!1,agent_mobile:t,agent_writer:!1}[this.aiChatType]}isModelPickerLimited(e){const{config:t,mode:a,threadMode:_}=e;return"workflow"===t.type&&t.isCustomAgent?{action:"hide",reason:"custom_agent_config"}:"researcher"===t.type?{action:"disable",reason:"researcher_config"}:"runningInference"===a?{action:"disable",reason:"running_inference"}:"existingThread"!==_||this.checkGate.isAllowModelSwitchingDuringChatEnabled?void 0:{action:"disable",reason:"existing_thread"}}isChatCompletelyDisabled(e){return(0,l().Xk)(w,e)}isChatSubmitDisabled(e){return(0,l().Xk)(h,e)||this.isChatCompletelyDisabled(e)}get isSubmitOnReturnEnabled(){return"agent_mobile"!==this.aiChatType}isChatReady(e){return"ready"===e}canUseSendDestinationShortcuts(e){const{inputMode:t,threadMode:a}=e;return"slippery_slope"===this.aiChatType&&"newThread"===a&&"ready"===t}supportsConfigTypeChanges(e){const{mode:t,threadMode:a}=e;return!!v[this.aiChatType]&&("newThread"===a&&(0,l().Xk)(y,t))}supportsWorkspaceContext(e){return"markdown-chat"!==e}supportsUserSpecifiedContext(e){return!this.isNewAgentModalVariant&&!this.isNewAgentModalV2Variant&&"agent_collections_new_view"!==this.aiChatType&&"agent_new_db_quick_access"!==this.aiChatType&&"agent_db_filters"!==this.aiChatType&&"custom_agent"!==this.aiChatType&&("workflow"===e||"researcher"===e)}supportsScopePicker(e){return"workflow"===e||"researcher"===e||"search"===e}get showWelcomeMessage(){return{agent:!1,agent_full_page:!1,agent_popup:!1,agent_command_search:!1,custom_agent:!1,custom_agent_activity:!1,custom_agent_preview:!1,desktop_nosey:!1,full_page:!0,ai_module:!1,research_mode:!1,agent_new_db_quick_access:!1,agent_db_filters:!1,slippery_slope:!1,agent_collections_new_view:!1,new_agent_modal:!1,new_agent_modal_v2:!1,new_agent_modal_v3:!1,agent_mobile:!1,agent_writer:!1}[this.aiChatType]}get supportsModePicker(){return{agent:!1,agent_full_page:!1,agent_popup:!1,agent_command_search:!1,custom_agent:!1,custom_agent_activity:!1,custom_agent_preview:!1,desktop_nosey:!1,full_page:!0,ai_module:!0,research_mode:!1,agent_new_db_quick_access:!1,agent_db_filters:!1,slippery_slope:!1,agent_collections_new_view:!1,new_agent_modal:!1,new_agent_modal_v2:!1,new_agent_modal_v3:!1,agent_mobile:!0,agent_writer:!1}[this.aiChatType]}get showModelButton(){return{agent:!0,agent_full_page:!0,agent_popup:!0,agent_command_search:!0,custom_agent:!0,custom_agent_activity:!0,custom_agent_preview:!0,desktop_nosey:!0,full_page:!0,ai_module:!0,research_mode:!0,agent_new_db_quick_access:!1,agent_db_filters:!1,slippery_slope:!0,agent_collections_new_view:!1,new_agent_modal:!1,new_agent_modal_v2:!1,new_agent_modal_v3:!1,agent_mobile:!0,agent_writer:!1}[this.aiChatType]}get adaptiveMenuType(){return"agent_mobile"===this.aiChatType?r().gu.Modal:r().gu.Popup}get adaptiveMenuPopupType(){return"agent_mobile"===this.aiChatType?g().n.BottomSheet:g().n.Popup}get supportsChatSidebarModes(){return{agent:!0,agent_full_page:!1,agent_popup:!0,agent_command_search:!1,custom_agent:!0,custom_agent_activity:!0,custom_agent_preview:!1,desktop_nosey:!1,full_page:!1,ai_module:!1,research_mode:!1,agent_new_db_quick_access:!1,agent_db_filters:!1,slippery_slope:!1,agent_collections_new_view:!1,new_agent_modal:!1,new_agent_modal_v2:!1,new_agent_modal_v3:!1,agent_mobile:!0,agent_writer:!1}[this.aiChatType]}get supportsTallChatHeader(){return"agent_mobile"===this.aiChatType}get supportsThreadInvites(){return this.checkGate.isMultiPlayerChatEnabled??!1}get threadInviteButtonVariant(){const e={sidebar:"icon",popup:"icon",full_page:"default",side_peek:"hidden"};return{agent:e[this.agentChatFormFactor],agent_full_page:"default",agent_popup:e[this.agentChatFormFactor],agent_command_search:"hidden",custom_agent:e[this.agentChatFormFactor],custom_agent_activity:e[this.agentChatFormFactor],custom_agent_preview:e[this.agentChatFormFactor],full_page:e[this.agentChatFormFactor],ai_module:"hidden",research_mode:"hidden",agent_new_db_quick_access:"hidden",agent_db_filters:"hidden",slippery_slope:e[this.agentChatFormFactor],agent_collections_new_view:"hidden",new_agent_modal:"hidden",new_agent_modal_v2:"hidden",new_agent_modal_v3:"hidden",agent_mobile:"hidden",agent_writer:"hidden",desktop_nosey:"hidden"}[this.aiChatType]}get supportsChatActionsOnHover(){return"agent_mobile"!==this.aiChatType}get supportsChatSidebarModeButton(){return{agent:!0,agent_full_page:!0,agent_popup:!0,agent_command_search:!0,custom_agent:!0,custom_agent_activity:!0,custom_agent_preview:!0,desktop_nosey:!1,full_page:!0,ai_module:!0,research_mode:!0,agent_new_db_quick_access:!1,agent_db_filters:!1,slippery_slope:!1,agent_collections_new_view:!1,new_agent_modal:!0,new_agent_modal_v2:!1,new_agent_modal_v3:!1,agent_mobile:!1,agent_writer:!1}[this.aiChatType]}get showUserContextOnlyWhenFocused(){return{agent:!1,agent_full_page:!1,agent_popup:!1,agent_command_search:!1,custom_agent:!1,custom_agent_activity:!1,custom_agent_preview:!1,desktop_nosey:!1,full_page:!1,ai_module:!1,research_mode:!1,agent_collections_new_view:!1,agent_new_db_quick_access:!1,agent_db_filters:!1,slippery_slope:!0,new_agent_modal:!1,new_agent_modal_v2:!0,new_agent_modal_v3:!0,agent_mobile:!1,agent_writer:!1}[this.aiChatType]}get isAgentChat(){return{agent:!0,agent_full_page:!0,agent_popup:!0,agent_command_search:!0,custom_agent:!1,custom_agent_activity:!1,custom_agent_preview:!1,desktop_nosey:!0,full_page:!1,ai_module:!1,research_mode:!1,agent_new_db_quick_access:!1,agent_db_filters:!1,slippery_slope:!0,agent_collections_new_view:!1,new_agent_modal:!1,new_agent_modal_v2:!1,new_agent_modal_v3:!1,agent_mobile:!0,agent_writer:!0}[this.aiChatType]}get agentChatFormFactor(){return{agent:"sidebar",agent_full_page:"full_page",agent_popup:"popup",agent_mobile:"full_page",agent_command_search:"popup",custom_agent:"sidebar",custom_agent_activity:"side_peek",custom_agent_preview:"popup",desktop_nosey:"popup",full_page:"full_page",ai_module:"full_page",research_mode:"full_page",agent_new_db_quick_access:"popup",agent_db_filters:"popup",slippery_slope:"sidebar",agent_collections_new_view:"popup",new_agent_modal:"full_page",new_agent_modal_v2:"popup",new_agent_modal_v3:"popup",agent_writer:"full_page"}[this.aiChatType]}get recordLastOpenState(){return{agent:!0,agent_full_page:!0,agent_popup:!0,agent_command_search:!0,custom_agent:!1,custom_agent_activity:!1,custom_agent_preview:!1,desktop_nosey:!0,full_page:!0,ai_module:!0,research_mode:!0,agent_new_db_quick_access:!1,agent_db_filters:!1,slippery_slope:!1,agent_collections_new_view:!1,new_agent_modal:!1,new_agent_modal_v2:!1,new_agent_modal_v3:!1,agent_mobile:!0,agent_writer:!0}[this.aiChatType]}supportsSearchScopePopup(e){const t={researcher:!0,search:!0,workflow:!0,"markdown-chat":!1,"setup-generator":!1,autocorrect:!1,autocomplete:!1,"debug-inference":!1,"memory-agent":!1,"summarize-transcript":!1,"route-inference-transcript":!1,"fast-researcher":!1,aiBlock:!1,formulas:!1}[e];return{agent:!0,agent_full_page:!0,agent_popup:!0,agent_command_search:!0,custom_agent:!0,custom_agent_activity:!0,custom_agent_preview:!0,desktop_nosey:!0,full_page:t,ai_module:t,research_mode:!1,agent_new_db_quick_access:!1,agent_db_filters:!1,slippery_slope:!0,agent_collections_new_view:!1,new_agent_modal:!1,new_agent_modal_v2:!1,new_agent_modal_v3:!1,agent_mobile:!0,agent_writer:!1}[this.aiChatType]}get supportsCollapsiblePanel(){return{agent:!1,agent_full_page:!0,agent_popup:!1,agent_command_search:!1,custom_agent:!0,custom_agent_activity:!0,custom_agent_preview:!0,desktop_nosey:!1,full_page:!0,ai_module:!1,research_mode:!1,agent_new_db_quick_access:!1,agent_db_filters:!1,slippery_slope:!1,agent_collections_new_view:!1,new_agent_modal:!1,new_agent_modal_v2:!1,new_agent_modal_v3:!1,agent_mobile:!0,agent_writer:!1}[this.aiChatType]}get supportsNotionSidebarButton(){return{agent:!1,agent_full_page:!0,agent_popup:!1,agent_command_search:!1,custom_agent:!1,custom_agent_activity:!1,custom_agent_preview:!1,desktop_nosey:!1,full_page:!0,ai_module:!1,research_mode:!1,agent_new_db_quick_access:!1,agent_db_filters:!1,slippery_slope:!1,agent_collections_new_view:!1,new_agent_modal:!1,new_agent_modal_v2:!1,new_agent_modal_v3:!1,agent_mobile:!1,agent_writer:!1}[this.aiChatType]}get supportsThreadHistoryPicker(){return{agent:!0,agent_full_page:!1,agent_popup:!0,agent_command_search:!1,custom_agent:!0,custom_agent_activity:!0,custom_agent_preview:!1,desktop_nosey:!0,full_page:!1,ai_module:!1,research_mode:!1,agent_new_db_quick_access:!1,agent_db_filters:!1,slippery_slope:!1,agent_collections_new_view:!1,new_agent_modal:!1,new_agent_modal_v2:!1,new_agent_modal_v3:!1,agent_mobile:!0,agent_writer:!1}[this.aiChatType]}get supportsBlurOnToolExpand(){return"agent_mobile"===this.aiChatType}supportsWebSearch(e){if(this.checkGate.isZeroRetentionEnabled||this.checkGate.isWebSearchDisabledInSpace)return!1;const t={researcher:!0,search:this.checkGate.isWebSearchInUnifiedFindEnabled,workflow:!0,"markdown-chat":!1,"setup-generator":!1,autocorrect:!1,autocomplete:!1,"debug-inference":!1,"memory-agent":!1,"summarize-transcript":!1,"route-inference-transcript":!1,"fast-researcher":!1,aiBlock:!1,formulas:!1}[e];return{agent:t,agent_full_page:t,agent_popup:t,agent_command_search:t,custom_agent:t,custom_agent_activity:t,custom_agent_preview:t,desktop_nosey:t,full_page:t,ai_module:t,research_mode:!0,agent_new_db_quick_access:!1,agent_db_filters:!1,slippery_slope:!0,agent_collections_new_view:!1,new_agent_modal:!1,new_agent_modal_v2:!1,new_agent_modal_v3:!1,agent_mobile:t,agent_writer:!1}[this.aiChatType]}supportsStopInference(e){return"researcher"!==e}get supportsChatHeader(){return{agent:!0,agent_full_page:!0,agent_popup:!0,agent_command_search:!1,custom_agent:!0,custom_agent_activity:!1,custom_agent_preview:!0,desktop_nosey:!0,full_page:!0,ai_module:!1,research_mode:!0,agent_new_db_quick_access:!1,agent_db_filters:!1,slippery_slope:!0,agent_collections_new_view:!1,new_agent_modal:!1,new_agent_modal_v2:!1,new_agent_modal_v3:!1,agent_mobile:!0,agent_writer:!1}[this.aiChatType]}get supportsHeaderMenu(){if(!this.checkGate.isThreadActionsMenuEnabled)return!1;return{agent:!0,agent_full_page:!0,agent_popup:!0,agent_command_search:!1,custom_agent:!0,custom_agent_activity:!1,custom_agent_preview:!0,desktop_nosey:!1,full_page:!0,ai_module:!1,research_mode:!0,agent_new_db_quick_access:!1,agent_db_filters:!1,slippery_slope:!1,agent_collections_new_view:!1,new_agent_modal:!1,new_agent_modal_v2:!1,new_agent_modal_v3:!1,agent_mobile:!1,agent_writer:!1}[this.aiChatType]}get isThreadActionsMenuEnabled(){return this.checkGate.isThreadActionsMenuEnabled}supportsSearchResults(e){return{agent:!1,agent_full_page:!1,agent_popup:!1,agent_command_search:!1,custom_agent:!1,custom_agent_activity:!1,custom_agent_preview:!1,desktop_nosey:!1,full_page:(0,u().av)(e)&&this.checkGate.isHomeAiShowSearchResultsEnabled,ai_module:!1,research_mode:!1,agent_new_db_quick_access:!1,agent_db_filters:!1,slippery_slope:!1,agent_collections_new_view:!1,new_agent_modal:!1,new_agent_modal_v2:!1,new_agent_modal_v3:!1,agent_mobile:!1,agent_writer:!1}[this.aiChatType]}supportsUpdatingExistingPersonalizationSettings(){return{agent:!0,agent_full_page:!0,agent_popup:!0,agent_command_search:!1,custom_agent:!0,custom_agent_activity:!0,custom_agent_preview:!0,desktop_nosey:!0,full_page:!0,ai_module:!0,research_mode:!0,agent_new_db_quick_access:!1,agent_db_filters:!1,slippery_slope:!0,agent_collections_new_view:!1,new_agent_modal:!0,new_agent_modal_v2:!1,new_agent_modal_v3:!1,agent_mobile:!1,agent_writer:!1}[this.aiChatType]}shouldTrackInputMetrics(e){return{agent:!1,agent_full_page:!1,agent_popup:!1,agent_command_search:!1,custom_agent:!1,custom_agent_activity:!1,custom_agent_preview:!1,desktop_nosey:!1,full_page:(0,u().av)(e),ai_module:!0,research_mode:!1,agent_new_db_quick_access:!1,agent_db_filters:!1,slippery_slope:!1,agent_collections_new_view:!1,new_agent_modal:!1,new_agent_modal_v2:!1,new_agent_modal_v3:!1,agent_mobile:!1,agent_writer:!1}[this.aiChatType]}get chatViewMinWidth(){return{agent:void 0,agent_full_page:300,agent_popup:void 0,agent_command_search:void 0,custom_agent:void 0,custom_agent_activity:void 0,custom_agent_preview:void 0,desktop_nosey:void 0,full_page:300,ai_module:300,research_mode:void 0,slippery_slope:void 0,agent_collections_new_view:void 0,agent_new_db_quick_access:void 0,agent_db_filters:void 0,new_agent_modal:void 0,new_agent_modal_v2:void 0,new_agent_modal_v3:void 0,agent_mobile:void 0,agent_writer:void 0}[this.aiChatType]}get chatInputWidth(){return{agent:"100%",agent_full_page:742,agent_popup:710,agent_command_search:"100%",custom_agent:710,custom_agent_activity:710,custom_agent_preview:710,desktop_nosey:710,full_page:710,ai_module:710,research_mode:710,agent_new_db_quick_access:"100%",agent_db_filters:"100%",slippery_slope:"100%",agent_collections_new_view:"100%",new_agent_modal:"100%",new_agent_modal_v2:"100%",new_agent_modal_v3:"100%",agent_mobile:"100%",agent_writer:"100%"}[this.aiChatType]}get chatInputPadding(){return{agent:"0 16px",agent_full_page:"0 16px",agent_popup:"0 16px",agent_command_search:"0 16px",custom_agent:"0 16px",custom_agent_activity:"0 16px",custom_agent_preview:"0 16px",desktop_nosey:"0 16px",full_page:"0 16px",ai_module:"0px",research_mode:"0 16px",agent_new_db_quick_access:"0px",agent_db_filters:"0px",slippery_slope:"0px 16px",agent_collections_new_view:"0px",new_agent_modal:"0px",new_agent_modal_v2:"0px",new_agent_modal_v3:"0px",agent_mobile:"0 8px",agent_writer:"0 16px"}[this.aiChatType]}get chatInputContainerPadding(){return"agent_mobile"===this.aiChatType?"0 0 8px 0":this.chonkyStyles?"0 0 24px":"0 0 16px"}get chatInputContainerMinHeight(){return"new_agent_modal_v3"===this.aiChatType?"lg":this.isNewAgentModalVariant?"md":"new_agent_modal_v2"===this.aiChatType||"agent_collections_new_view"===this.aiChatType||"agent_new_db_quick_access"===this.aiChatType||"agent_db_filters"===this.aiChatType?"sm":"default"}get chatInputHeightCanGrow(){return{agent:!0,agent_full_page:!0,agent_popup:!0,agent_command_search:!0,custom_agent:!0,custom_agent_activity:!0,custom_agent_preview:!0,desktop_nosey:!0,full_page:!0,ai_module:!0,research_mode:!0,agent_collections_new_view:!1,agent_new_db_quick_access:!0,agent_db_filters:!0,slippery_slope:!0,new_agent_modal:!0,new_agent_modal_v2:!0,new_agent_modal_v3:!0,agent_mobile:!0,agent_writer:!0}[this.aiChatType]}get isSingleLineInput(){return"agent_collections_new_view"===this.aiChatType}get suggestedActionsContainerPadding(){return"agent_mobile"===this.aiChatType?{paddingInlineStart:16,paddingInlineEnd:16,paddingBlockStart:0}:{paddingBlockStart:16,paddingInlineEnd:16,paddingBlockEnd:0,paddingInlineStart:16,marginInlineStart:"auto"}}get chatInputWrapperPadding(){return{agent:"0 0 12px",agent_full_page:"0 0 12px",agent_popup:"0 0 12px",agent_command_search:"0 0 12px",custom_agent:"0 0 12px",custom_agent_activity:"0 0 12px",custom_agent_preview:"0 0 12px",desktop_nosey:"0 0 12px",full_page:"0 0 24px",ai_module:"0",research_mode:"0 0 12px",agent_new_db_quick_access:"0",agent_db_filters:"0",slippery_slope:"0",agent_collections_new_view:"0",new_agent_modal:"0",new_agent_modal_v2:"0",new_agent_modal_v3:"0",agent_mobile:"0 0px",agent_writer:"0 0 12px"}[this.aiChatType]}get shouldShowInlineSubmit(){return"agent_collections_new_view"===this.aiChatType||"agent_new_db_quick_access"===this.aiChatType||"agent_db_filters"===this.aiChatType}get shouldHaveInitialFocusOnInput(){return{agent:!0,agent_full_page:!0,agent_popup:!0,agent_command_search:!0,custom_agent:!0,custom_agent_activity:!0,custom_agent_preview:!0,desktop_nosey:!0,full_page:!0,ai_module:!0,research_mode:!0,agent_new_db_quick_access:!0,agent_db_filters:!0,slippery_slope:!1,agent_collections_new_view:!0,new_agent_modal:!0,new_agent_modal_v2:!1,new_agent_modal_v3:!1,agent_mobile:!1,agent_writer:!0}[this.aiChatType]}get shouldShowSuggestedActions(){return{agent:!0,agent_full_page:!0,agent_popup:!0,agent_command_search:!1,custom_agent:!0,custom_agent_activity:!0,custom_agent_preview:!0,desktop_nosey:!0,full_page:!0,ai_module:!0,research_mode:!0,agent_new_db_quick_access:!1,agent_db_filters:!1,slippery_slope:!0,agent_collections_new_view:!1,new_agent_modal:!0,new_agent_modal_v2:!1,new_agent_modal_v3:!1,agent_mobile:!0,agent_writer:!1}[this.aiChatType]}get emptyContainerBottomPadding(){return{agent:16,agent_full_page:0,agent_popup:16,agent_command_search:32,custom_agent:0,custom_agent_activity:0,custom_agent_preview:0,desktop_nosey:16,full_page:0,ai_module:0,research_mode:0,agent_new_db_quick_access:0,agent_db_filters:0,slippery_slope:0,agent_collections_new_view:0,new_agent_modal:0,new_agent_modal_v2:0,new_agent_modal_v3:0,agent_mobile:16,agent_writer:16}[this.aiChatType]}get shouldHaveDelayedFocusOnInput(){return"agent_mobile"===this.aiChatType}get contextStepSurface(){return{agent:"workflows",agent_full_page:"full_page_chat",agent_popup:"workflows",agent_command_search:"workflows",custom_agent:"custom_agent",custom_agent_activity:"custom_agent",custom_agent_preview:"custom_agent",desktop_nosey:"workflows",full_page:"full_page_chat",ai_module:"ai_module",research_mode:"full_page_chat",agent_new_db_quick_access:"new_db_quick_access",agent_db_filters:"database_filters",slippery_slope:"slippery_slope_sidebar",agent_collections_new_view:"new_view_quick_access",new_agent_modal:"full_page_chat",new_agent_modal_v2:"workflows",new_agent_modal_v3:"workflows",agent_mobile:"workflows",agent_writer:"writer"}[this.aiChatType]}get shouldMeasureInputToTranscriptRender(){return{agent:!1,agent_full_page:!1,agent_popup:!1,agent_command_search:!1,custom_agent:!1,custom_agent_activity:!1,custom_agent_preview:!1,desktop_nosey:!1,full_page:!1,ai_module:!0,research_mode:!1,agent_new_db_quick_access:!1,agent_db_filters:!1,slippery_slope:!1,agent_collections_new_view:!1,new_agent_modal:!1,new_agent_modal_v2:!1,new_agent_modal_v3:!1,agent_mobile:!1,agent_writer:!1}[this.aiChatType]}get analyticsEntrypointsForUpsell(){return{agent:{upgradeRequestAnalyticsEntrypoint:"ai_agent",upgradeRequestEntrypoint:"ai_agent"},agent_full_page:{upgradeRequestAnalyticsEntrypoint:"ai_full_page_chat",upgradeRequestEntrypoint:"ai_chat"},agent_popup:{upgradeRequestAnalyticsEntrypoint:"ai_agent",upgradeRequestEntrypoint:"ai_agent"},agent_mobile:{upgradeRequestAnalyticsEntrypoint:"ai_agent",upgradeRequestEntrypoint:"ai_agent"},agent_command_search:{upgradeRequestAnalyticsEntrypoint:"ai_agent",upgradeRequestEntrypoint:"ai_agent"},custom_agent:{upgradeRequestAnalyticsEntrypoint:"ai_agent",upgradeRequestEntrypoint:"ai_agent"},custom_agent_activity:{upgradeRequestAnalyticsEntrypoint:"ai_agent",upgradeRequestEntrypoint:"ai_agent"},custom_agent_preview:{upgradeRequestAnalyticsEntrypoint:"ai_agent",upgradeRequestEntrypoint:"ai_agent"},desktop_nosey:{upgradeRequestAnalyticsEntrypoint:"ai_agent",upgradeRequestEntrypoint:"ai_agent"},full_page:{upgradeRequestAnalyticsEntrypoint:"ai_full_page_chat",upgradeRequestEntrypoint:"ai_chat"},ai_module:{upgradeRequestAnalyticsEntrypoint:"ai_agent",upgradeRequestEntrypoint:"ai_agent"},research_mode:{upgradeRequestAnalyticsEntrypoint:"ai_full_page_chat",upgradeRequestEntrypoint:"ai_research_mode"},agent_new_db_quick_access:{upgradeRequestAnalyticsEntrypoint:"ai_agent",upgradeRequestEntrypoint:"ai_agent"},agent_db_filters:{upgradeRequestAnalyticsEntrypoint:"ai_agent",upgradeRequestEntrypoint:"ai_agent"},slippery_slope:{upgradeRequestAnalyticsEntrypoint:"ai_agent",upgradeRequestEntrypoint:"ai_agent"},agent_collections_new_view:{upgradeRequestAnalyticsEntrypoint:"ai_agent",upgradeRequestEntrypoint:"ai_agent"},new_agent_modal:{upgradeRequestAnalyticsEntrypoint:"ai_agent",upgradeRequestEntrypoint:"ai_agent"},new_agent_modal_v2:{upgradeRequestAnalyticsEntrypoint:"ai_agent",upgradeRequestEntrypoint:"ai_agent"},new_agent_modal_v3:{upgradeRequestAnalyticsEntrypoint:"ai_agent",upgradeRequestEntrypoint:"ai_agent"},agent_writer:{upgradeRequestAnalyticsEntrypoint:"ai_agent",upgradeRequestEntrypoint:"ai_agent"}}[this.aiChatType]}get analyticsSourceForResearchMode(){return{ai_module:"welcome_page",full_page:"welcome_page",research_mode:void 0,agent:void 0,agent_full_page:void 0,agent_popup:void 0,agent_command_search:void 0,custom_agent:void 0,custom_agent_activity:void 0,custom_agent_preview:void 0,desktop_nosey:void 0,new_agent_modal:void 0,new_agent_modal_v2:void 0,new_agent_modal_v3:void 0,agent_mobile:void 0,slippery_slope:void 0,agent_new_db_quick_access:void 0,agent_db_filters:void 0,agent_writer:void 0,agent_collections_new_view:void 0}[this.aiChatType]}analyticsSource(e){return(0,u().av)(e)?this.contextStepSurface:"follow_up_chat"}get supportsBlueFocusRing(){return{agent:!0,agent_full_page:!0,agent_popup:!0,agent_command_search:!0,custom_agent:!0,custom_agent_activity:!0,custom_agent_preview:!0,desktop_nosey:!0,full_page:!0,ai_module:!0,research_mode:!0,agent_new_db_quick_access:!1,agent_db_filters:!1,slippery_slope:!0,agent_collections_new_view:!1,new_agent_modal:!1,new_agent_modal_v2:!1,new_agent_modal_v3:!0,agent_mobile:!1,agent_writer:!0}[this.aiChatType]}get supportsRenderingPermissionError(){return{agent:!1,agent_full_page:!1,agent_popup:!1,agent_command_search:!1,custom_agent:!0,custom_agent_activity:!0,custom_agent_preview:!0,desktop_nosey:!1,full_page:!1,ai_module:!1,research_mode:!1,agent_new_db_quick_access:!1,agent_db_filters:!1,slippery_slope:!1,agent_collections_new_view:!1,new_agent_modal:!1,new_agent_modal_v2:!1,new_agent_modal_v3:!1,agent_mobile:!1,agent_writer:!1}[this.aiChatType]}get supportsDetailedError(){return{agent:!1,agent_full_page:!1,agent_popup:!1,agent_command_search:!1,custom_agent:!0,custom_agent_activity:!0,custom_agent_preview:!0,desktop_nosey:!1,full_page:!1,ai_module:!1,research_mode:!1,agent_new_db_quick_access:!1,agent_db_filters:!1,slippery_slope:!1,agent_collections_new_view:!1,new_agent_modal:!1,new_agent_modal_v2:!1,new_agent_modal_v3:!1,agent_mobile:!1,agent_writer:!1}[this.aiChatType]}get supportsConnectorsBanner(){return{agent:!1,agent_full_page:!1,agent_popup:!1,agent_command_search:!1,custom_agent:!1,custom_agent_activity:!1,custom_agent_preview:!1,desktop_nosey:!1,full_page:!1,ai_module:!0,research_mode:!1,agent_new_db_quick_access:!1,agent_db_filters:!1,slippery_slope:!1,agent_collections_new_view:!1,new_agent_modal:!1,new_agent_modal_v2:!1,new_agent_modal_v3:!1,agent_mobile:!1,agent_writer:!1}[this.aiChatType]}get agentEmptyStateFormat(){return{agent:"default",agent_full_page:"default",agent_popup:"default",agent_command_search:"default",custom_agent:"default",custom_agent_activity:"default",custom_agent_preview:"default",desktop_nosey:"default",full_page:"default",ai_module:"centered",research_mode:"default",agent_new_db_quick_access:"default",agent_db_filters:"default",slippery_slope:"default",agent_collections_new_view:"default",new_agent_modal:"default",new_agent_modal_v2:"default",new_agent_modal_v3:"default",agent_mobile:"compact",agent_writer:"default"}[this.aiChatType]}get agentSuggestedActionsDisplay(){return"ai_module"===this.aiChatType&&this.checkGate.isSuggestionCardsOnAiHomeEnabled?"card":{agent:"list",agent_full_page:"list",agent_popup:"list",agent_command_search:"list",custom_agent:"list",custom_agent_activity:"list",custom_agent_preview:"list",desktop_nosey:"list",full_page:"list",ai_module:"pill",research_mode:"list",agent_new_db_quick_access:"list",agent_db_filters:"list",slippery_slope:"list",agent_collections_new_view:"list",new_agent_modal:"list",new_agent_modal_v2:"list",new_agent_modal_v3:"list",agent_mobile:"list",agent_writer:"list"}[this.aiChatType]}get hasAgentBackground(){return{agent:!0,agent_full_page:!0,agent_popup:!1,agent_command_search:!1,custom_agent:!1,custom_agent_activity:!1,custom_agent_preview:!1,desktop_nosey:!0,full_page:!1,ai_module:!1,research_mode:!1,agent_new_db_quick_access:!1,agent_db_filters:!1,slippery_slope:!1,agent_collections_new_view:!1,new_agent_modal:!1,new_agent_modal_v2:!1,new_agent_modal_v3:!1,agent_mobile:!1,agent_writer:!1}[this.aiChatType]}get agentSuggestedActionsPlacementRelativeToChat(){return{agent:"above",agent_full_page:"above",agent_popup:"above",agent_command_search:"above",custom_agent:"above",custom_agent_activity:"above",custom_agent_preview:"above",desktop_nosey:"above",full_page:"above",ai_module:"below",research_mode:"above",agent_new_db_quick_access:"above",agent_db_filters:"above",slippery_slope:"above",agent_collections_new_view:"above",new_agent_modal:"above",new_agent_modal_v2:"above",new_agent_modal_v3:"above",agent_mobile:"above",agent_writer:"above"}[this.aiChatType]}get headerButtonShape(){return{agent:"roundrect",agent_full_page:"roundrect",agent_popup:"pill",agent_command_search:"pill",custom_agent:"roundrect",custom_agent_activity:"roundrect",custom_agent_preview:"roundrect",desktop_nosey:"pill",full_page:"roundrect",ai_module:"roundrect",research_mode:"roundrect",agent_new_db_quick_access:"roundrect",agent_db_filters:"roundrect",slippery_slope:"pill",agent_collections_new_view:"roundrect",new_agent_modal:"roundrect",new_agent_modal_v2:"roundrect",new_agent_modal_v3:"roundrect",agent_mobile:"roundrect",agent_writer:"roundrect"}[this.aiChatType]}get usesElevatedDarkModeBackground(){return"agent_popup"===this.aiChatType||"desktop_nosey"===this.aiChatType||this.supportsSimplifiedLayout}get supportsConnectingNewIntegrations(){return"agent_mobile"!==this.aiChatType}get agentToolDiffRowIconContainerStyles(){return"agent_mobile"===this.aiChatType?{marginInlineStart:4}:{}}get toolUsePartMarginInline(){return"agent_mobile"===this.aiChatType?6:void 0}get supportsClearSelectionOnSubmit(){return"agent_mobile"===this.aiChatType}shouldShowAgentAttribution(e,t){return void 0===t&&(0,a(57685).T)(e)}get unifiedChatInputModeButtonStyleKey(){return"agent_mobile"===this.aiChatType?"bodySmMedium":"bodyMedium"}get onlyShowAgentThreads(){return"agent_mobile"===this.aiChatType}get shouldShowActionsInStep(){return{agent:!0,agent_full_page:!0,agent_popup:!0,agent_command_search:!0,custom_agent:!0,custom_agent_preview:!0,desktop_nosey:!0,full_page:!0,ai_module:!0,research_mode:!0,agent_new_db_quick_access:!0,agent_db_filters:!0,slippery_slope:!0,agent_collections_new_view:!0,new_agent_modal:!0,new_agent_modal_v2:!0,new_agent_modal_v3:!0,agent_mobile:!0,custom_agent_activity:!0,agent_writer:!1}[this.aiChatType]}get isChatInputElevated(){return!this.isNewAgentModalV2Variant&&("slippery_slope"!==this.aiChatType&&this.supportsSimplifiedLayout)}get shouldRenderHeadless(){return{agent:!1,agent_full_page:!1,agent_popup:!1,agent_command_search:!1,custom_agent:!1,custom_agent_activity:!1,custom_agent_preview:!1,desktop_nosey:!1,full_page:!1,ai_module:!1,research_mode:!1,agent_new_db_quick_access:!0,agent_db_filters:!0,slippery_slope:!1,agent_collections_new_view:!1,new_agent_modal:!1,new_agent_modal_v2:!1,new_agent_modal_v3:!1,agent_mobile:!1,agent_writer:!1}[this.aiChatType]}get shouldUseCompactSubmitButton(){return{agent:!1,agent_full_page:!1,agent_popup:!1,agent_command_search:!1,custom_agent:!1,custom_agent_activity:!1,custom_agent_preview:!1,desktop_nosey:!1,full_page:!1,ai_module:!1,research_mode:!1,agent_new_db_quick_access:!0,agent_db_filters:!0,slippery_slope:!1,agent_collections_new_view:!1,new_agent_modal:!1,new_agent_modal_v2:!1,new_agent_modal_v3:!1,agent_mobile:!1,agent_writer:!1}[this.aiChatType]}}function m(e){const t=(0,s().O$)(n().AppStoreSidebarSpaceStore),a=(0,s().K8)((()=>(0,p().A)(t)),[t]),g=(0,s().K8)((()=>Boolean(null==t?void 0:t.getSetting("disable_ai_web_search"))),[t]),r=(0,o().X)("ai_web_search_enabled_for_unified_find"),l=(0,o().X)("suggestion_cards_on_ai_home"),u=(0,c().U)(),m=(0,o().X)("ai_multi_player_chat"),w=(0,o().X)("slippery_slope_peekaboo_nosy"),h=(0,o().X)("ai_allow_model_switching_during_chat"),y=(0,o().X)("ai_thread_actions_menu"),v=(0,s().K8)((()=>"on"===i().default.getEligibleGroup({experimentId:"home_ai_input_show_search_results",defaultGroup:"control"})),[]);return(0,_.useMemo)((()=>new d(e,{isZeroRetentionEnabled:a,isWebSearchDisabledInSpace:g,isWebSearchInUnifiedFindEnabled:r,isHomeAiShowSearchResultsEnabled:v,isSuggestionCardsOnAiHomeEnabled:l,isAllowModelSwitchingDuringChatEnabled:h,isSlipperySlopeEnabled:u,isMultiPlayerChatEnabled:m,isPeekabooNosyEnabled:w,isThreadActionsMenuEnabled:y})),[e,a,g,r,v,l,h,u,m,w,y])}const w=["readOnlyThread","aiDisabled"],h=["configTypeDown","modelProviderDown","upgradeRequired","uploadingFiles","filesRequireConfirmation","recording","runningInference","error","pendingStop","noContent"],y=["ready","configTypeDown","modelProviderDown","upgradeRequired","recording","uploadingFiles","noContent"],v={agent:!1,agent_full_page:!1,agent_popup:!1,agent_command_search:!1,custom_agent:!1,custom_agent_activity:!1,custom_agent_preview:!1,desktop_nosey:!1,full_page:!0,ai_module:!0,research_mode:!1,agent_new_db_quick_access:!1,agent_db_filters:!1,slippery_slope:!1,agent_collections_new_view:!1,new_agent_modal:!1,new_agent_modal_v2:!1,new_agent_modal_v3:!1,agent_mobile:!1,agent_writer:!1};function b(e){return"desktop_nosey"===e}},965454:(e,t,a)=>{a.d(t,{AD:()=>g,Ci:()=>r,Ll:()=>o,XN:()=>s,rz:()=>i});var _=a(296540),n=()=>a(234459);const o="TemporaryAiThreadCache";class i{constructor(){this.tempThreadPointer=void 0}getOrCreateThreadId(e){const{environment:t,spaceId:_,maybeThreadStore:o}=e;if(o)return o.id;if(this.tempThreadPointer)return this.tempThreadPointer.id;const i=(0,a(594794).Z1)({environment:t,table:n().To,spaceId:_});return this.tempThreadPointer={id:i,table:n().To,spaceId:_},i}reset(){this.tempThreadPointer=void 0}}const s=(0,_.createContext)(new i);function g(){return(0,_.useContext)(s)}function r(e){var t;return(null==e||null===(t=e.inMemoryRecordCache)||void 0===t?void 0:t.name)===o}s.displayName="TemporaryAiThreadContext"}}]);