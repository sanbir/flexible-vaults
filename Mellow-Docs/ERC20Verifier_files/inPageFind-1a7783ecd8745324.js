"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[2411,28958,32626,90871,99171],{4688:(e,t,o)=>{o.r(t),o.d(t,{arrowStraightUpSmallIcon:()=>u,iconDefinition:()=>n});o(296540);const n={viewBox:"0 0 16 16",fittedViewBox:"3.05 2.12 9.9 11.76",svg:(0,o(474848).jsx)("path",{d:"M8.442 2.308a.625.625 0 0 0-.884 0l-4.32 4.32a.625.625 0 0 0 .884.884l3.253-3.253v9.017c0 .334.283.599.625.599a.61.61 0 0 0 .625-.599V4.26l3.253 3.253a.625.625 0 0 0 .884-.884z"})},u=(0,o(340498).wt)("arrowStraightUpSmall",n,"small")},24126:(e,t,o)=>{o.d(t,{c:()=>u});o(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"3.9 2.75 12.18 14.49",svg:(0,o(474848).jsx)("path",{d:"M12.626 2.768a.625.625 0 0 1 0 1.224l-.126.013h-.125v4.794l3.366 5.159c.893 1.369-.03 3.17-1.623 3.281l-.156.006H6.039c-1.688 0-2.703-1.873-1.78-3.287l3.366-5.157V4.005H7.5a.625.625 0 0 1 0-1.25h5zM8.875 9.173l-.102.156-1.567 2.401h5.589l-1.569-2.403-.101-.156V4.005h-2.25z"})},u=(0,o(340498).wt)("beaker",n,"default")},43371:e=>{e.exports=function(){return/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC68(?:\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|[\u2695\u2696\u2708]\uFE0F|\uD83D[\uDC66\uDC67]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708])\uFE0F|\uD83C[\uDFFB-\uDFFF])|\uD83E\uDDD1(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB-\uDFFE])|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83D\uDC69\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFC-\uDFFF])|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83C\uDFF3\uFE0F\u200D\u26A7|\uD83E\uDDD1(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDC3B\u200D\u2744|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F\u200D[\u2640\u2642]|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642])|\uD83C\uDFF4\u200D\u2620|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E-\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3C-\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDF])\u200D[\u2640\u2642])\uFE0F|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC08\u200D\u2B1B|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|[#\*0-9]\uFE0F\u20E3|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDD77\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g}},63936:(e,t,o)=>{o.d(t,{d:()=>w,A:()=>B});var n=o(296540),u=()=>o(484714),r=()=>o(401497),i=()=>o(79926),a=()=>o(882722),l=()=>o(680474),D=()=>o(807449),c=()=>o(695115),s=()=>o(158115),d=()=>o(995847),p=()=>o(69708),f=()=>o(100622),m=()=>o(284371),g=o(474848);function C(e){return(0,g.jsxs)("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,g.jsx)("circle",{cx:"4.99976",cy:"5",r:"2",fill:"#D8A32F"}),(0,g.jsx)("rect",{x:"4.37476",width:"1.25",height:"2",rx:"0.625",fill:"#D8A32F"}),(0,g.jsx)("rect",{x:"4.37476",y:"8",width:"1.25",height:"2",rx:"0.625",fill:"#D8A32F"}),(0,g.jsx)("rect",{x:"8.09375",y:"1.02246",width:"1.25",height:"2",rx:"0.625",transform:"rotate(45 8.09375 1.02246)",fill:"#D8A32F"}),(0,g.jsx)("rect",{x:"2.43677",y:"6.6792",width:"1.25",height:"2",rx:"0.625",transform:"rotate(45 2.43677 6.6792)",fill:"#D8A32F"}),(0,g.jsx)("rect",{x:"10.0002",y:"4.375",width:"1.25",height:"2",rx:"0.625",transform:"rotate(90 10.0002 4.375)",fill:"#D8A32F"}),(0,g.jsx)("rect",{x:"2.00024",y:"4.375",width:"1.25",height:"2",rx:"0.625",transform:"rotate(90 2.00024 4.375)",fill:"#D8A32F"}),(0,g.jsx)("rect",{x:"8.97729",y:"8.09375",width:"1.25",height:"2",rx:"0.625",transform:"rotate(135 8.97729 8.09375)",fill:"#D8A32F"}),(0,g.jsx)("rect",{x:"3.32031",y:"2.43701",width:"1.25",height:"2",rx:"0.625",transform:"rotate(135 3.32031 2.43701)",fill:"#D8A32F"})]})}function F({style:e,...t}){const o=(0,r().IS)((()=>({iconContainer:{position:"relative",display:"flex",height:28,width:28,overflow:"hidden",borderRadius:"50%",border:`1px solid ${f().Tj.yellow.border.secondary}`,background:f().Tj.yellow.background.primary},iconMotionWrapper:{position:"absolute",top:6,insetInlineStart:6,display:"flex",alignItems:"center",justifyContent:"center"},backgroundBlob:{position:"absolute",insetInlineEnd:-16,bottom:-20,height:32,width:32,borderRadius:"50%",background:f().Tj.yellow.background.tertiary,opacity:.5}})),[]),{value:n}=(0,i().fJ)(l().fM);if(!n)return null;const{motion:u}=n;return(0,g.jsxs)("div",{style:e?{...o.iconContainer,...e}:o.iconContainer,...t,children:[(0,g.jsx)(u.div,{style:o.iconMotionWrapper,animate:{rotate:360},transition:{duration:4,repeat:1/0,ease:"linear"},children:(0,g.jsx)(C,{style:{transform:"scale(1.2)"}})}),(0,g.jsx)("div",{style:o.backgroundBlob})]})}var v=()=>o(732067),y=()=>o(45105),h=()=>o(590526),E=()=>o(665638),S=()=>o(965833),_=()=>o(180252),x=()=>o(644914);function b(e){const{rightEdgeDistance:t,environment:o,isInPeekRenderer:u,alwaysVisible:i,bottomEdgeDistance:a,overrides:l}=e,D=(0,n.useContext)(y().w),c=(0,h().K8)((()=>(0,x().zo)(o,u)-(0,x().Ql)(o)),[o,u]),s=(0,n.useMemo)((()=>t+D),[t,D]),d=(0,h().K8)((()=>(0,E().S)(o,(a??16)+D)),[a,o,D]),p=(0,h().K8)((()=>(0,_().$o)(o).state&&!i?0:1),[i,o]),{ovalButtonStyle:m}=(0,r().IS)((()=>({ovalButtonStyle:{position:"absolute",bottom:d,insetInlineEnd:s,borderRadius:100,fontSize:20,boxShadow:f().Tj.shadowSM,zIndex:111,backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",backgroundBlendMode:"overlay, normal",opacity:p,transform:`translateX(-${c}px) translateZ(0)`,transition:`\n\t\t\t\topacity ${S().L}ms,\n\t\t\t\tcolor ${S().L}ms,\n\t\t\t\ttransform 200ms\n\t\t\t`,...null==l?void 0:l()}})),[c,s,d,p,l]);return m}function B(e){const{onClick:t,children:o,onClose:C,disableShimmerAnimation:y,variant:h}=e,E=(0,u().v3)(),S=(0,p().tz)(),[_,x]=(0,n.useState)(!1),[B,A]=(0,n.useState)(!1),k=(0,n.useCallback)((()=>{x(!1),A(!1)}),[]),M=(0,n.useCallback)((()=>{k(),window.removeEventListener("mouseup",M)}),[k]),I=(0,n.useCallback)((()=>{x(!0)}),[]),T=(0,n.useCallback)((()=>{x(B),A(!1)}),[B]),j=(0,n.useCallback)((()=>{A(!0),window.addEventListener("mouseup",M)}),[M]),P=(0,n.useCallback)((()=>{A(!1)}),[]),R=function(e){const{environment:t,isHovered:o,isPressed:u,shouldDisableShimmerAnimation:i,variant:a}=e,l=b({rightEdgeDistance:w,isInPeekRenderer:!1,environment:t,alwaysVisible:!0,overrides:()=>({width:void 0,height:45,background:f().Tj.whiteButtonBackground})}),[D,c]=(0,n.useState)(!1);(0,n.useEffect)((()=>{i||setTimeout((()=>{c(!0)}),2e3)}),[i]);const s=(0,r().eP)();return(0,r().IS)((()=>({buttonStyle:{...l,cursor:"pointer",overflow:"hidden",userSelect:"none",display:"flex",alignItems:"center"},shimmerButtonStyle:{paddingInlineEnd:10,paddingTop:10,paddingBottom:10,paddingInlineStart:"dailyBrief"===a?8:void 0,display:"flex",alignItems:"center",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundImage:"dark"===s?"linear-gradient(270deg, rgba(255, 255, 255, 0.4) 13.84%, rgba(255, 255, 255, 1) 59.7%, rgba(255, 255, 255, 0.4) 93.89%)":"linear-gradient(270deg, rgba(0, 0, 0, 0.4) 13.84%, rgba(0, 0, 0, 1) 59.7%, rgba(0, 0, 0, 0.4) 93.89%)",backgroundSize:"200% 100%",backgroundRepeat:"no-repeat",...!D&&{background:void 0,backgroundImage:void 0,backgroundSize:void 0,backgroundClip:void 0,WebkitBackgroundClip:void 0,WebkitTextFillColor:void 0},...o&&{background:f().Tj.whiteButtonHoveredBackground,backgroundImage:void 0,backgroundSize:void 0,backgroundClip:void 0,WebkitBackgroundClip:void 0,WebkitTextFillColor:void 0},...u&&{background:f().Tj.whiteButtonPressedBackground,backgroundImage:void 0,backgroundSize:void 0,backgroundClip:void 0,WebkitBackgroundClip:void 0,WebkitTextFillColor:void 0}},sparklesIcon:{height:22,width:22,padding:"4px 4px"},inner:{display:"flex",alignItems:"center",flexWrap:"nowrap"},chevronIcon:{marginInlineStart:8},message:{fontSize:m().J.UIRegular.desktop,textWrap:"nowrap",fontWeight:500}})),[o,u,D,l,a,s])}({environment:E,isHovered:_,isPressed:B,shouldDisableShimmerAnimation:y,variant:h}),V=b({rightEdgeDistance:16,bottomEdgeDistance:65,isInPeekRenderer:!1,environment:E,alwaysVisible:!0,overrides:()=>({width:void 0,height:20,background:f().Tj.whiteButtonBackground})}),O=(0,r().IS)((()=>({closeButtonContainer:{...V},closeButton:{zIndex:10,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"100%",width:20,height:20,padding:4},closeButtonHover:{background:f().Tj.buttonPressedBackground}})),[V]),{value:N}=(0,i().fJ)(l().fM);if(!N)return null;const{motion:z}=N;return(0,g.jsxs)(g.Fragment,{children:[C?(0,g.jsx)("div",{style:O.closeButtonContainer,children:(0,g.jsx)(c().A,{ariaLabel:S.formatMessage({id:"assistantAnimatedNudgeElement.closeButton.ariaLabel",defaultMessage:"Close"}),onClick:C,style:O.closeButton,hoveredStyle:O.closeButtonHover,icon:d().xMarkSmallIcon,colorVariant:"tertiary"})}):void 0,(0,g.jsx)(z.div,{style:R.buttonStyle,variants:{initial:{width:36},animate:{width:"auto",transition:{ease:[.87,0,.13,1],type:"spring",stiffness:90,damping:16,mass:1}}},initial:"initial",animate:"animate",onMouseMove:I,onMouseLeave:T,onMouseDown:j,onMouseUp:P,onClick:t,className:a().E4Q,children:(0,g.jsxs)(z.div,{style:R.shimmerButtonStyle,animate:{backgroundPosition:["150% 0","-50% 0"]},transition:{ease:"easeInOut",duration:1.5,repeat:1/0},children:["dailyBrief"===h?(0,g.jsx)(F,{style:{marginInlineEnd:8}}):(0,g.jsx)(v().T5,{variant:"small"}),(0,g.jsxs)("div",{style:R.inner,children:[(0,g.jsx)(z.div,{style:R.message,variants:{initial:{opacity:0},animate:{opacity:1,transition:{ease:[.16,1,.3,1],duration:.75}}},initial:"initial",animate:"animate",children:o}),(0,g.jsx)("span",{style:R.chevronIcon,children:(0,g.jsx)(D().I,{icon:s().arrowChevronSingleRightFillSmallIcon,size:"sm",colorVariant:"tertiary"})})]})]})})]})}const w=16},107620:(e,t,o)=>{o.d(t,{y:()=>u});o(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"1.81 2.89 16.38 15.08",svg:(0,o(474848).jsx)("path",{d:"M16.938 9.853c0-2.97-2.539-5.54-6.545-5.697L10 4.148c-4.232 0-6.938 2.639-6.938 5.705 0 1.438.583 2.752 1.617 3.76a.63.63 0 0 1 .18.546 7.3 7.3 0 0 1-.89 2.528c1.108-.13 2.12-.614 3.01-1.344l.063-.044a.63.63 0 0 1 .505-.073 9 9 0 0 0 2.454.333l.392-.007c4.006-.158 6.545-2.728 6.545-5.699m1.25 0c0 3.803-3.234 6.766-7.747 6.948l-.44.008a10.2 10.2 0 0 1-2.485-.299c-1.349 1.022-2.985 1.62-4.826 1.428a.625.625 0 0 1-.406-1.033c.712-.817 1.096-1.737 1.284-2.642-1.116-1.197-1.756-2.733-1.756-4.41 0-3.925 3.447-6.955 8.189-6.955l.44.009c4.512.181 7.747 3.143 7.747 6.946"})},u=(0,o(340498).wt)("chatBubble",n,"default")},158115:(e,t,o)=>{o.r(t),o.d(t,{arrowChevronSingleRightFillSmallIcon:()=>u,iconDefinition:()=>n});o(296540);const n={viewBox:"0 0 16 16",fittedViewBox:"5.54 2.94 5.81 10.11",directional:!0,svg:(0,o(474848).jsx)("path",{d:"M11.13 8.53a.75.75 0 0 0 0-1.06L6.81 3.15a.75.75 0 0 0-1.06 1.06L9.54 8l-3.79 3.79a.75.75 0 0 0 1.06 1.06z"})},u=(0,o(340498).wt)("arrowChevronSingleRightFillSmall",n,"fillSmall")},170350:(e,t,o)=>{o.r(t),o.d(t,{filterIcon:()=>u,iconDefinition:()=>n});o(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"2.37 4.87 15.25 10.25",svg:(0,o(474848).jsx)("path",{d:"M3 4.875a.625.625 0 1 0 0 1.25h14a.625.625 0 1 0 0-1.25zm2.125 5.742h9.75a.625.625 0 1 0 0-1.25h-9.75a.625.625 0 1 0 0 1.25m1.5 3.883c0-.345.28-.625.625-.625h5.5a.625.625 0 1 1 0 1.25h-5.5a.625.625 0 0 1-.625-.625"})},u=(0,o(340498).wt)("filter",n,"default")},175213:(e,t,o)=>{o.d(t,{G:()=>u});var n=()=>o(314529);function u(e,t){(0,n().DO_NOT_USE_trackLegacy)(e,"delete_property",t)}},200424:(e,t,o)=>{e.exports=o.p+"9ade71d75a1c0e93.png"},241319:(e,t,o)=>{o.d(t,{y:()=>r});o(898992),o(672577);var n=()=>o(534177),u=()=>o(239381);function r(e){var t;const{actionModels:o,id:r}=e,i=(0,u().y5)(r),a="action"===i.source?o.find((e=>e.id===i.action_id)):void 0,l=(0,n().O9)(a)&&a.isType("create_page")?null===(t=a.getConfig())||void 0===t?void 0:t.collection:void 0;return{automationValueInfo:i,collectionPointer:l,actionModel:a}}},278589:(e,t,o)=>{o.d(t,{N:()=>r});var n=()=>o(534177),u=()=>o(126126);function r(e){return"avatar"===e?u().eQ:"xsmall"===e?18:"xsmall_plus"===e?24:"small"===e?28:"small_plus"===e?32:"medium"===e?36:"medium_plus"===e?44:"medium_large"===e?48:"large"===e?50:"large_plus"===e?64:"xlarge"===e?94:"plans"===e?20:"deep_dive"===e?16:"upsell_banner"===e?74:"personalization_modal"===e?96:(0,n().HB)(e)}},299177:(e,t,o)=>{o.d(t,{A:()=>r});class n extends(()=>o(757695))().Store{getInitialState(){return{}}}const u=new n;o(852832).exposeDebugValue("SpaceWorkflowTemplateInstanceMapStore",u);const r=u},326887:(e,t,o)=>{o.d(t,{$X:()=>r,H8:()=>i,x2:()=>u});var n=()=>o(534177);function u(e){return"event"===e||"recurrence"===e}function r(e){const t=e.getTrigger();return(0,n().O9)(t)&&u(t.type)}function i(e){return"event"===e?"event":"recurrence"===e?"recurrence":void(0,n().HB)(e)}},348869:(e,t,o)=>{o.d(t,{g:()=>a});o(944114);var n=()=>o(792057),u=()=>o(785728),r=()=>o(532659),i=()=>o(769864);async function a(e){const{environment:t,onResponse:o,data:a,userId:l,tracking:D,abortSignal:c}=e,s=await i().callStreamApi({eventName:"runInferenceTranscript",environment:t,data:a,userId:l,tracking:D,abortSignal:c,headers:(0,u().WS)({spaceId:a.spaceId})});if("success"!==s.type)return null!=c&&c.aborted?{error:{message:"Aborted",code:0}}:(n().Qg(s),{error:{message:s.error.message,code:s.status}});const d=[];if(r().hS.is(s.data))for await(const n of s.data){if("error"===n.type)return{error:{message:n.message,code:n.errorCode}};null==o||o(n),d.push(n)}return{value:d}}},375555:(e,t,o)=>{function n(e,t){const{device:o}=e;o.isAndroid&&t.focus(),t.select()}o.d(t,{G:()=>n})},383567:(e,t,o)=>{o.d(t,{F:()=>r});o(296540);var n=o(474848);const u={viewBox:"0 0 20 20",fittedViewBox:"3.26 1.98 16.32 17.52",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M15.825 12a3.75 3.75 0 1 1-.001 7.501 3.75 3.75 0 0 1 0-7.501m0 1.325a.55.55 0 0 0-.55.55V15.2H13.95a.55.55 0 0 0-.001 1.1h1.326v1.325a.55.55 0 0 0 1.1 0V16.3h1.324a.55.55 0 0 0 0-1.1h-1.325v-1.325a.55.55 0 0 0-.55-.55M9.702 5.022a3.918 3.918 0 0 1 6.742.036.626.626 0 0 1-1.08.63 2.667 2.667 0 0 0-4.59-.023L5.376 14.68l4.19.678a.626.626 0 0 1-.2 1.235l-5.1-.827a.625.625 0 0 1-.437-.938z"}),(0,n.jsx)("path",{d:"M10.912 8.094a1.178 1.178 0 1 1 2.326.377 1.178 1.178 0 0 1-2.326-.377M4.7 7.087a1.178 1.178 0 1 1 2.327.377A1.178 1.178 0 0 1 4.7 7.087M3.488 2.985a3.92 3.92 0 0 1 5.572.357.625.625 0 0 1-.944.818 2.67 2.67 0 0 0-3.796-.243.625.625 0 1 1-.832-.932"})]})},r=(0,o(340498).wt)("aiFacePlus",u,"default")},390527:(e,t,o)=>{o.r(t),o.d(t,{DEFAULT_MAX_RECURRENCE_DUPLICATION_PER_TASK:()=>M,MAXIMUM_DAILY_RECURRENCES_IN_PATH:()=>S,MAXIMUM_NESTED_RECURRENCE_LEVEL:()=>E,MAX_RECURRENCE_INTERVAL:()=>C,MAX_RECURRENCE_NUMBER_OF_RUNS:()=>F,RRULE_WEEKDAYS_MAP:()=>g,adjustedStartDateIfPossible:()=>x,areRecurrenceSchedulesEqual:()=>R,convertFromUnpersistedRecurrenceConfig:()=>P,convertToUnpersistedRecurrenceConfig:()=>I,getFormattedEndCondition:()=>k,getFormattedNextRecurrenceTime:()=>A,getNewEndTimestamp:()=>T,getNextDateUtc:()=>w,getRecurrenceAfter:()=>b,isRunningBetweenMidnightAnd3AM:()=>B,isValidRecurrenceInterval:()=>v,isValidRecurrenceNumberOfRuns:()=>y,rruleFromRecurrence:()=>h,templateAncestorsViolateRecurrenceNesting:()=>_});o(898992),o(354520),o(581454);var n=()=>o(906745);o(944114);function u(e,...t){if(0===t.length)return e.map((e=>[e]));const o=[];for(const n of e)o.push(...u(t[0],...t.slice(1)).map((e=>[n,...e])));return o}var r=()=>o(496603),i=()=>o(534177),a=()=>o(720665),l=()=>o(597777),D=()=>o(869190),c=()=>o(416504),s=()=>o(402390);class d extends(()=>o(896346))().p3{constructor(e,t){super(e,t)}after(e,t){return super.after(e,t)}}var p=()=>o(912720);const f=(0,o(69708).YK)({dateAtTime:{id:"automations.recurrenceHelpers.dateAtTime",defaultMessage:"{date} at {time}"},dateBetweenMidnightAnd3AM:{id:"automations.recurrenceHelpers.dateBetweenMidnightAnd3AM",defaultMessage:"{date} between 12â€“3 AM"},numberEndConditionDescription:{id:"automations.recurrenceHelpers.numberEndConditionDescription",defaultMessage:"{number, plural, one {After {number} run} other {After {number} runs}}"},noEndCondition:{id:"automations.recurrenceHelpers.noEndCondition",defaultMessage:"Never"}}),m={hour:d.HOURLY,day:d.DAILY,week:d.WEEKLY,month:d.MONTHLY,year:d.YEARLY},g={MO:d.MO,TU:d.TU,WE:d.WE,TH:d.TH,FR:d.FR,SA:d.SA,SU:d.SU},C=99,F=999;function v(e){return(0,a().Et)(e)&&Number.isInteger(e)&&e>0&&e<=C}function y(e){return(0,a().Et)(e)&&Number.isInteger(e)&&e>0&&e<=F}function h(e){const{start_date:t,frequency:o,interval:n,weekdays:r,timezone:a,hour:D,minute:c}=e,s=(0,l().eU)(t);"hour"===o&&s.setUTCHours(D??0,c??0,0,0);const p="week"===o&&r?r.map((e=>g[e])):void 0,f={};return(0,i().O9)(e.end_condition)&&("date"===e.end_condition.type?f.until=(0,l().eU)(e.end_condition.end_at):"number"===e.end_condition.type?f.count=e.end_condition.number_of_occurrences:(0,i().HB)(e.end_condition)),"month"===e.frequency&&(0,i().O9)(e.monthly_restriction)&&("monthdays"===e.monthly_restriction.type?f.bymonthday=e.monthly_restriction.monthdays:"weekdays_in_month"===e.monthly_restriction.type?f.byweekday=u(e.monthly_restriction.weekdays,e.monthly_restriction.week_numbers).map((([e,t])=>g[e].nth(t))):(0,i().HB)(e.monthly_restriction)),new d({freq:m[o],dtstart:s,interval:n,byweekday:p,tzid:"hour"===o?void 0:a,..."hour"===o?{}:{byhour:D??0,byminute:c??0,bysecond:0},...f})}const E=1,S=1;function _(e){var t;if(0===e.length)return{violatesConstraint:!1,templateNestingExceedsMaxDepth:!1,ancestorHasDailyTemplate:!1,nestedDepthOfAutomationAncestors:void 0,immediateAncestorRecurrenceType:void 0};const o=e.filter((e=>{var t;return"day"===(null===(t=e.getRecurrence())||void 0===t?void 0:t.frequency)})),n=e.length,u=null===(t=e[0].getRecurrence())||void 0===t?void 0:t.frequency,r=n>E,i=o.length>=S;return{violatesConstraint:r||i,templateNestingExceedsMaxDepth:r,ancestorHasDailyTemplate:i,nestedDepthOfAutomationAncestors:n,immediateAncestorRecurrenceType:u}}function x(e){var t;const{recurrence:o,afterDate:u}=e;if("number"===(null===(t=o.end_condition)||void 0===t?void 0:t.type)||o.start_date>=u)return o;let r=n().DateTime.fromMillis(o.start_date,{zone:"utc"});const i=n().DateTime.fromMillis(u,{zone:"utc"});switch(o.frequency){case"hour":{const e=Math.floor(i.diff(r,"hours").hours/o.interval);r=r.plus({hours:e*o.interval});break}case"year":{const e=Math.floor(i.diff(r,"years").years/o.interval);r=r.plus({years:e*o.interval});break}case"month":{const e=Math.floor(i.diff(r,"months").months/o.interval);r=r.plus({months:e*o.interval});break}case"week":{const e=Math.floor(i.diff(r,"weeks").weeks/o.interval);r=r.plus({weeks:e*o.interval});break}case"day":{const e=Math.floor(i.diff(r,"days").days/o.interval);r=r.plus({days:e*o.interval});break}}return{...o,start_date:(0,l().DH)(r.toMillis())}}function b(e){const{recurrence:t,afterDate:o}=e;if((0,p().wt)(t)){const e=(0,l().l1)(o);return t.start_date>=e?new Date(t.start_date):void 0}{const e=h(x({recurrence:t,afterDate:o})).after((0,l().eU)(o));if(!e)return;return(0,l().h1)(e)}}function B(e){return 0===e.hour||1===e.hour||2===e.hour}function w(e){return h(e).after((0,l().eU)((0,l().Rz)()))||void 0}function A(e){const{recurrence:t,intl:o}=e,u=w(P(t));if(!u)return;const r=B(t),i=n().DateTime.fromJSDate(u).toUTC().setZone("local",{keepLocalTime:!0}).setLocale((0,s().H)(o)).setZone(t.timezone),a=(0,D().Yq)({date:i,dateFormat:"relative",allowRelativeDates:!0,intl:o,shortenDate:!0});if(r)return o.formatMessage(f.dateBetweenMidnightAnd3AM,{date:a});{let e=i.toLocaleString(n().DateTime.TIME_SIMPLE);return t.timezone!==(0,c().P)()&&(e+=` ${i.toFormat("ZZZZ")}`),o.formatMessage(f.dateAtTime,{date:a,time:e})}}function k(e,t){return(0,i().O9)(e)?"number"===e.type?t.formatMessage(f.numberEndConditionDescription,{number:e.number_of_occurrences}):"date"===e.type?(0,D().Yq)({date:n().DateTime.fromMillis(e.end_at),dateFormat:"relative",allowRelativeDates:!0,intl:t,shortenDate:!0}):void(0,i().HB)(e):t.formatMessage(f.noEndCondition)}const M=100;function I(e){return{...e,start_date:(0,l().l1)(e.start_date),end_condition:e.end_condition?"number"===e.end_condition.type?e.end_condition:"date"===e.end_condition.type?{type:"date",end_at:(0,l().l1)(e.end_condition.end_at)}:(0,i().HB)(e.end_condition):void 0}}function T(e,t,o){return e.plus(o-t)}function j(e,t){const o=n().DateTime.fromMillis(t.end_at).set({hour:e.hour??0,minute:e.minute??0});return{type:"date",end_at:(0,l().Rz)(o.toJSDate())}}function P(e){return{...e,start_date:(0,l().Rz)(new Date(e.start_date)),end_condition:e.end_condition?"number"===e.end_condition.type?e.end_condition:"date"===e.end_condition.type?j(e,e.end_condition):(0,i().HB)(e.end_condition):void 0}}function R(e,t){const o=r().fN(e,(e=>void 0!==e)),n=r().fN(t,(e=>void 0!==e));return r().n4(o,n)}},403733:(e,t,o)=>{o.r(t),o.d(t,{arrowStraightDownSmallIcon:()=>u,iconDefinition:()=>n});o(296540);const n={viewBox:"0 0 16 16",fittedViewBox:"3.05 2.12 9.9 11.76",svg:(0,o(474848).jsx)("path",{d:"M8 2.125a.61.61 0 0 0-.625.599v9.017L4.122 8.488a.625.625 0 1 0-.884.884l4.32 4.32c.244.244.64.244.884 0l4.32-4.32a.625.625 0 0 0-.884-.884l-3.253 3.253V2.724A.61.61 0 0 0 8 2.125"})},u=(0,o(340498).wt)("arrowStraightDownSmall",n,"small")},422540:(e,t,o)=>{o.d(t,{$0:()=>C,Fx:()=>_,Ge:()=>f,I3:()=>d,Kj:()=>E,PP:()=>x,TK:()=>b,Yy:()=>s,aE:()=>B,cQ:()=>S,kH:()=>m,m7:()=>p,nq:()=>y,nv:()=>F,tj:()=>g});o(898992),o(354520),o(737550);var n=()=>o(496603),u=()=>o(534177),r=()=>o(381283),i=()=>o(898244),a=()=>o(651124),l=()=>o(349835),D=()=>o(390066);const c={checkbox:!0,date:!0,email:!0,multi_select:!0,number:!0,person:!0,phone_number:!0,relation:!0,select:!0,status:!0,text:!0,title:!0,url:!0,auto_increment_id:!1,button:!1,created_by:!1,created_time:!1,file:!1,formula:!1,last_edited_by:!1,last_edited_time:!1,last_visited_time:!1,location:!1,rollup:!1,verification:!1,place:!1},s={checkbox:[{type:"checkbox"}],date:[{type:"date"}],email:[{type:"text"}],multi_select:[{type:"text"},{of:{type:"text"},type:"array"}],number:[{type:"number"}],person:[{type:"person"},{of:{type:"person"},type:"array"}],phone_number:[{type:"text"}],relation:[{type:"block"},{of:{type:"block"},type:"array"}],select:[{type:"text"},{of:{type:"text"},type:"array"}],status:[{type:"text"},{of:{type:"text"},type:"array"}],text:void 0,title:void 0,url:[{type:"text"}]};function d(e){return Boolean(c[e.type]&&!(0,i().UU)(e)&&(!(0,i().$M)(e)||void 0===(0,i().om)(e)))}function p(e){const{collectionFormat:t,collectionSchema:o,filter:r,sort:l,sourcePropertyIds:c}=e,s=(c??(0,u().uv)(o)).filter(((t,n,u)=>{const a=o[t];return!(!a||!d(a))&&(("relation"!==a.type||!e.restrictCrossSpace||!(0,i().o2)(e.spaceId,a))&&(!r||r([t,a],n,o)))}));if(0===s.length)return[];if(!t||!1===l)return s;const p=(0,D().L)(t,o,void 0,a().jf.Page).collection_page_properties||[];return n().Ul(s,(e=>p.findIndex((t=>t.property===e))))}function f(e){const{collectionFormat:t,collectionSchema:o,sort:i}=e,l=(0,u().uv)(o).filter(((e,t,n)=>{const u=o[e];return!(!u||!(0,r().J)(u))}));if(0===l.length)return[];if(!t||!1===i)return l;const c=(0,D().L)(t,o,void 0,a().jf.Page).collection_page_properties||[];return n().Ul(l,(e=>c.findIndex((t=>t.property===e))))}function m(e){return e.type===l().M9.InvalidCharacter?{type:e.type,character:e.character}:e.type===l().M9.TokenExpected?{type:e.type,token:e.token}:e.type===l().uW.MissingSchemaPropertyOnThisRow||e.type===l().uW.MissingSchemaPropertyOnCollection?{type:e.type,collectionId:e.collectionId,property:e.property,errorSource:e.errorSource}:e.type===l().uW.ThisRowBlockPropertyMismatchCollection?{type:e.type,thisRowCollection:e.thisRowCollection,errorSource:e.errorSource}:e.type===l().uW.MissingContextVariable?{type:e.type,valueId:e.valueId,errorSource:e.errorSource}:e.type===l().uW.FunctionCallTooFewArguments?{type:e.type,numArguments:e.numArguments,errorSource:e.errorSource}:e.type===l().uW.FunctionCallUnexpectedArgument?{type:e.type,parameterIndex:e.parameterIndex,errorSource:e.errorSource}:e.type===l().uW.FunctionCallArgumentWrongType?{type:e.type,argumentType:e.argumentType,libraryFunctionName:e.libraryFunction.name,parameterIndex:e.parameterIndex,errorSource:e.errorSource}:e.type===l().uW.MissingDataDependencyBlock?{type:e.type,blockPointer:e.blockPointer,node:e.node,errorSource:e.errorSource}:e.type===l().uW.MissingDataDependencyPerson?{type:e.type,personPointer:e.personPointer,errorSource:e.errorSource}:e.type===l().uW.MemberPropertyMismatchCollection?{type:e.type,blockCollection:e.blockCollection,errorSource:e.errorSource}:e.type===l().uW.DownstreamParseFailure?{type:e.type,collectionId:e.collectionId,property:e.property,errorSource:e.errorSource}:e.type===l().uW.ContextVariableWrongType?{type:e.type,valueId:e.valueId,expectedType:e.expectedType,resultType:e.resultType,errorSource:e.errorSource}:e.type===l().uW.DisallowedValueType?{type:e.type,expressionValue:e.expressionValue,allowedValueTypes:e.allowedValueTypes,errorSource:e.errorSource}:e.type===l().uW.LibraryFunctionExecutionError?{type:e.type,error:e.error,libraryFunctionName:e.libraryFunction.name,errorSource:e.errorSource}:"errorSource"in e?{type:e.type,errorSource:e.errorSource}:{type:e.type}}const g={checkbox:!0,date:!0,email:!0,multi_select:!0,number:!0,person:!0,phone_number:!0,relation:!0,select:!0,status:!0,text:!0,title:!0,url:!0,button:!1,file:!1,verification:!1,auto_increment_id:!1,created_by:!1,created_time:!1,formula:!1,last_edited_by:!1,last_edited_time:!1,last_visited_time:!1,location:!1,rollup:!1,place:!1};function C(e){return Boolean(g[e.type])}function F(e){const{collectionFormat:t,collectionSchema:o,filter:r,sort:l}=e,c=(0,u().uv)(o).filter(((e,t,n)=>{var u;const a=o[e];return!(!a||!g[a.type])&&((!(0,i().$M)(a)||null===(u=(0,i().om)(a))||void 0===u||!u.auto_update_on_edit)&&(!r||r([e,a],t,o)))}));if(0===c.length)return[];if(!t||!1===l)return c;const s=(0,D().L)(t,o,void 0,a().jf.Page).collection_page_properties||[];return n().Ul(c,(e=>s.findIndex((t=>t.property===e))))}const v={checkbox:!0,email:!0,multi_select:!0,number:!0,person:!0,phone_number:!0,relation:!0,select:!0,status:!0,text:!0,title:!0,url:!0,auto_increment_id:!1,button:!1,created_by:!1,created_time:!1,date:!1,file:!1,formula:!1,last_edited_by:!1,last_edited_time:!1,last_visited_time:!1,location:!1,rollup:!1,verification:!1,place:!1};function y(e){return v[e.type]}const h={checkbox:!0,created_by:!0,created_time:!0,date:!0,email:!0,multi_select:!0,number:!0,person:!0,phone_number:!0,relation:!0,select:!0,status:!0,text:!0,title:!0,url:!0,last_edited_by:!0,last_edited_time:!0,auto_increment_id:!1,button:!1,file:!1,formula:!1,last_visited_time:!1,location:!1,rollup:!1,verification:!1,place:!1};function E(e){return h[e.type]}function S(e){return 0===e}function _(e){return function(e){return"button_block"===e||"button_property"===e}(e)}function x(e){const{property:t,collectionSchema:o}=e;return!!o&&!o[t]}function b(e){const{collectionSchema:t,property:o,type:n}=e,u=null==t?void 0:t[o];return!u||("action"===n?!d(u):!g[u.type])}function B({automationTrigger:e,collectionSchema:t}){if("event"===(null==e?void 0:e.type)){const{pagesAdded:o,pagePropertiesEdited:n,source:r}=e.event;if(void 0===r)return!1;const i="some"===n.type&&n.some,a="all"===n.type&&n.all;if((i||a||[]).some((e=>x({collectionSchema:t,property:e.property})||b({collectionSchema:t,property:e.property,type:"trigger"}))))return!1;const l="some"===n.type&&(!(0,u().O9)(n.some)||0===n.some.length),D="all"===n.type&&(!(0,u().O9)(n.all)||0===n.all.length);if(!o&&("none"===n.type||l||D))return!1}else{if("recurrence"!==(null==e?void 0:e.type))return!1;if(!e.recurrence)return!1}return!0}},448801:(e,t,o)=>{o.d(t,{i:()=>u});o(944114),o(517642),o(658004),o(733853),o(845876),o(432475),o(515024),o(731698);var n=()=>o(371562);n();function u(e,t){const o=n().create({arrays:{detectMove:!1,includeValueOnMove:!0}}).diff(e,t);if(!o)return{beforeOps:{},removeOps:new Set};let u=[],r=[];for(const n in o)"_t"!==n&&("_"===n[0]?u.push(parseInt(n.slice(1),10)):1===o[n].length&&r.push({index:parseInt(n,10),value:o[n][0]}));const i={},a=new Set,l=[...e];u=u.sort(((e,t)=>e-t));for(let n=u.length-1;n>=0;n--){const e=u[n],t=l.splice(e,1)[0];a.add(t)}r=r.sort(((e,t)=>e.index-t.index));for(let n=0;n<r.length;n++){const e=r[n];i[e.value]=l[e.index],l.splice(e.index,0,e.value)}return{beforeOps:i,removeOps:a}}},460957:(e,t,o)=>{o.d(t,{E:()=>i});o(581454);var n=()=>o(201980),u=()=>o(718957),r=()=>o(29554);function i(e){const{multiSelection:t}=e;return(0,u().$W)(t).map((({store:e,selection:t})=>{const o=(0,n().RQ)(e.getValue()),u=(0,n().xbM)(o,t),{tokensInsideRange:i}=(0,n().AI5)(o,u.startIndex,u.endIndex);return(0,r().r4)(i,e)})).join("\n\n")}},482871:(e,t,o)=>{o.d(t,{z:()=>c});o(517642),o(658004),o(733853),o(845876),o(432475),o(515024),o(731698),o(898992),o(430670),o(581454);var n=()=>o(770063),u=()=>o(898244),r=()=>o(448801),i=()=>o(179034),a=()=>o(722101),l=(o(354520),()=>o(496603));function D(e){const{collectionContextStore:t,collectionViewStore:o,transaction:r}=e,D=o.getPageSortStore(),c=D.getValue(),s=t.groupsStore.getAllGroupStates(),d=function(e){const{pageSort:t,currentResults:o}=e;if(!t||t.length<=u().WF)return[];const n=t.filter((e=>!o.has(e)));return l().sb([...n.reverse(),...l().o8(t).reverse()]).slice(0,t.length-u().WF)}({pageSort:c,currentResults:new Set(s.flatMap((e=>e.resultsStore.state.map((e=>e.id)))))});for(const u of d)a().TF({parentStore:D,childToRemoveStore:(0,n().v3)(D,{table:i().ev,id:u}),transaction:r})}function c(e){const{resultIds:t,collectionViewStore:o,collectionContextStore:l,transaction:c}=e,s=o.getPageSortStore(),d=s.getValue()||[],{beforeOps:p}=(0,r().i)(d,t.slice(0,u().WF));for(const[u,r]of Object.entries(p))if(r){const e=(0,n().v3)(o,{table:i().ev,id:r});a().nc({parentStore:s,insertStore:(0,n().v3)(o,{table:i().ev,id:u}),beforeStore:e,transaction:c})}else{const e=t.findIndex((e=>e===u)),r=t[e-1],l=r?(0,n().v3)(o,{table:i().ev,id:r}):void 0;a().WH({parentStore:s,insertStore:(0,n().v3)(o,{table:i().ev,id:u}),afterStore:l,transaction:c})}D({collectionContextStore:l,collectionViewStore:o,transaction:c})}},491848:(e,t,o)=>{o.d(t,{w:()=>u});o(898992),o(672577);var n=()=>o(541199);function u({collectionContextStore:e,transaction:t}){const o="collectionTypedView"===e.contextTypeFromStoreState,u=e.databaseTypeFromStoreState,r=e.collectionStoresStore.state,i=r.find((e=>e.canEdit()||e.canEditCollection()||e.canEditContentOnly()))||r[0];!o&&i&&(0,n().e)({transaction:t,databaseType:u,collectionId:i.id,spaceId:i.getSpaceId()})}},546461:(e,t,o)=>{o.d(t,{K4:()=>h,To:()=>x,fi:()=>E,q8:()=>y,u:()=>v});o(16280),o(18107),o(967357);var n=o(296540),u=()=>o(484714),r=()=>o(792485),i=()=>o(590526),a=()=>o(79926),l=()=>o(140934),D=()=>o(322867),c=()=>o(69708),s=()=>o(534177),d=()=>o(813297),p=()=>o(326887),f=()=>o(862292),m=()=>o(190019),g=()=>o(76190),C=o(474848);const F=(0,n.createContext)({ancestors:[]});F.displayName="AutomationContext";F.Consumer;function v(e){const{automationStore:t,children:o,contextType:v,enableExistenceGuarantees:y}=e,h=(0,u().v3)(),E=(0,c().tz)(),{value:x}=(0,a().fJ)(f().T.formulas),{value:b}=(0,a().fJ)(d().QV.automationTypecheck),B=(0,g().n)(t),w=(0,r().S)(),A=(0,i().K8)((()=>{if(!x)return{error:new(D().N9)("Missing formulas dependency")};if(!b)return{error:new(D().N9)("Missing automation dependency")};const e=function(e){const{environment:t,automationStore:o,automationTypecheckModule:n,contextType:u,formulasModule:r,intl:i,isSubscribed:a,pageStore:D,enableExistenceGuarantees:c}=e,d=function(e,t){if(t)return S.get(e);return S.get(e)??_.get(e)}(o,c);if(d)return d;const f=new(l().ComputedStore)((()=>{const e=o.getTriggerType();let l=u;return(0,s().O9)(e)&&(0,p().x2)(e)&&(l=(0,p().H8)(e)),(0,m().Z)({environment:t,automationStore:o,automationTypecheckModule:n,contextType:l,formulasModule:r,intl:i,isSubscribed:a,pageStore:D,enableExistenceGuarantees:c})}),{debugName:"automationContextTypecheckResultCachedStore"});return function(e,t,o){o?(S.set(e,t),_.set(e,t)):_.set(e,t)}(o,f,c),f}({automationStore:t,automationTypecheckModule:b,contextType:v,environment:h,formulasModule:x,intl:E,isSubscribed:B,pageStore:"button_block"===v?null==w?void 0:w.pageStore:void 0,enableExistenceGuarantees:y});return e.state}),[h,t,b,v,x,E,B,null==w?void 0:w.pageStore,y]),k=(0,n.useContext)(F),M=(0,n.useMemo)((()=>0===k.ancestors.length?[{automationStore:t,contextType:v,typecheckResult:A}]:[...k.ancestors,{automationStore:t,contextType:v,typecheckResult:A}]),[k,t,v,A]),I=(0,n.useMemo)((()=>({ancestors:M,enableExistenceGuarantees:y})),[M,y]);return(0,C.jsx)(F.Provider,{value:I,children:o})}function y(){const e=(0,n.useContext)(F).ancestors.at(-1);if(!e)throw new Error("No automation context found!");return e}function h(){return(0,n.useContext)(F).ancestors.at(-1)}function E(){return(0,n.useContext)(F).enableExistenceGuarantees}const S=new WeakMap,_=new WeakMap;function x(e){var t;return null===(t=S.get(e))||void 0===t?void 0:t.state}},613016:(e,t,o)=>{o.d(t,{a:()=>u});var n=()=>o(907258);function u(){const{sidebarSpaceStore:e}=n().default.getState();return e?e.id:void 0}},621594:(e,t,o)=>{o.r(t),o.d(t,{exclamationMarkCircleSmallIcon:()=>r,iconDefinition:()=>u});o(296540);var n=o(474848);const u={viewBox:"0 0 16 16",fittedViewBox:"1.87 1.87 12.25 12.25",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M7.9 4.875a.625.625 0 0 0-.625.625V8a.625.625 0 1 0 1.25 0V5.5a.625.625 0 0 0-.625-.625m0 4.7a.725.725 0 1 0 0 1.45.725.725 0 0 0 0-1.45"}),(0,n.jsx)("path",{d:"M8 1.875a6.125 6.125 0 1 0 0 12.25 6.125 6.125 0 0 0 0-12.25M3.125 8a4.875 4.875 0 1 1 9.75 0 4.875 4.875 0 0 1-9.75 0"})]})},r=(0,o(340498).wt)("exclamationMarkCircleSmall",u,"small")},626001:(e,t,o)=>{o.d(t,{Af:()=>B,Bw:()=>A,Cs:()=>y,Oq:()=>m,Re:()=>C,X4:()=>g,YJ:()=>x,ZB:()=>b,Zd:()=>w,d2:()=>F,dd:()=>E,in:()=>v,kQ:()=>_});o(944114),o(517642),o(658004),o(733853),o(845876),o(432475),o(515024),o(731698),o(898992),o(354520),o(581454),o(737550);var n=()=>o(68169),u=()=>o(799288),r=()=>o(696706),i=()=>o(179034),a=()=>o(798880),l=()=>o(743246),D=()=>o(201980),c=()=>o(724639),s=()=>o(496603),d=()=>o(534177),p=()=>o(27267),f=()=>o(166442);function m(e,t){const o=f().UserChatPreferenceLocalStorageStore.getState();f().UserChatPreferenceLocalStorageStore.setState({...o,[e]:{...null==o?void 0:o[e],...t}})}function g(e){return e.some((e=>"in_progress"===e.status))}function C(e){return e.some((e=>"complete"===e.status&&"risky"===e.attachmentRisk))}function F(e,t){const o=D().w9s(e),n=((null==t?void 0:t.length)??0)>0;return!o||n}function v(e){const t=y({config:e,includeWeb:!1});return 1===t.length?t[0]:void 0}function y(e){const{config:t,includeWeb:o}=e,n=[];if("search"===t.type)n.push(t.scopeForNextSearch);else if("researcher"===t.type&&t.searchScope)n.push(t.searchScope);else{if("workflow"!==t.type)return[];n.push(...(0,c().n_)({config:t,modules:[]})??[])}return o&&t.useWebSearch&&n.push({type:"web"}),n}function h(e){const{botId:t,spaceStore:o,userStore:n}=e,u=p().R.getCachedWorkflowData(n.id,o.id);if(u)for(const i of u.workflowStores){var r;const e=i.getDraftData();if("bot"===(null==e||null===(r=e.runtime_actor_pointer)||void 0===r?void 0:r.table)&&e.runtime_actor_pointer.id===t)return i.id}}function E(e,t,o){if(!e)return[];const r=D().moK(e),i=D().Fbh(e).map((e=>({table:a().oo,id:e}))),c=D().jgW(e);return[...r,...i,...t&&o?c.map((e=>{if((0,u().ut)(e))return{table:l().C0,id:n().Lj,spaceId:t.id};const r=h({spaceStore:t,botId:e,userStore:o});return r?{table:l().C0,id:r,spaceId:t.id}:void 0})).filter(d().O9):[]]}function S(e,t){const o=new Set(e.map((e=>r().L3.toIdTableKey(e)))),n=new Set(t.map((e=>r().L3.toIdTableKey(e))));return{added:t.filter((e=>!o.has(r().L3.toIdTableKey(e)))),removed:e.filter((e=>!n.has(r().L3.toIdTableKey(e)))),unchanged:e.filter((e=>n.has(r().L3.toIdTableKey(e))))}}function _(e){const{currentTextMentionPointers:t,inputMentionPointers:o,allMentionPointers:n}=e;let u,i;const{added:a}=S(Array.from(n),t),{removed:l,unchanged:D}=S(o,t),c=a.length>0,s=l.length>0;if(c||s){let e=Array.from(n);if(s){const t=new Set(l.map((e=>r().L3.toIdTableKey(e))));e=e.filter((e=>!t.has(r().L3.toIdTableKey(e))))}c&&(e=[...e,...a]),u=e,i=[...D,...a]}return{newMentionPointers:u,newInputMentionPointers:i}}function x(e,t){return(0,s().n4)(e,t)}function b(e){return!!e&&("workspace"===e.type||"teamspace"===e.type||"collection"===e.type||"page"===e.type)}function B(e){const{currentScopes:t,scope:o,isMultiScopeEnabled:n}=e;let u=[];if("everything"===o.type)u=[{type:"everything"}];else if(n){const e=t.filter((e=>"everything"!==e.type));if(e.some((e=>x(e,o))))u=e.filter((e=>!x(e,o)));else if("notion"===o.type){u=[...e.filter((e=>!b(e))),o]}else if(b(o)){u=[...e.filter((e=>"notion"!==e.type)),o]}else u=[...e,o]}else u=[o];return 0===u.length?[{type:"everything"}]:u}function w(e,t){switch(e.type){case"workflow":return{...e,searchScopes:t};case"search":return{...e,scopeForNextSearch:t[0]};case"researcher":return{...e,searchScope:t[0]};default:return e}}function A(e,t,o,r){if(!D().qXl(e))return!1;const c=D().uPN(e);for(const s of c)if(t.table===a().oo&&D().rie(s)){if(D().NcG(s)===t.id)return!0}else if(t.table===i().ev&&D().jIt(s)){const e=D().i$F(s);if(e&&e.id===t.id)return!0}else if(t.table===l().C0&&D().XkZ(s)){const e=D().vjW(s);if(e&&(0,u().ut)(e)&&t.id===n().Lj)return!0;if(e&&o&&r){if(h({spaceStore:o,botId:e,userStore:r})===t.id)return!0}}return!1}},665638:(e,t,o)=>{o.d(t,{$:()=>d,S:()=>p});var n=o(296540),u=()=>o(45105),r=()=>o(590526),i=()=>o(401497),a=()=>o(100622),l=()=>o(209199),D=()=>o(180252),c=()=>o(644914),s=()=>o(965833);function d(e){const{environment:t,rightEdgeDistance:o,isInPeekRenderer:d,shouldShowAgentNewUserOnboardingChecklistProgressIndicator:f}=e,m=e.width??36,g=(0,n.useContext)(u().w),C=(0,r().K8)((()=>(0,c().zo)(t,d)-(0,c().Ql)(t)),[t,d]),F=(0,r().K8)((()=>p(t,16+g)),[t,g]),v=o+g,y=(0,r().K8)((()=>(0,D().$o)(t).state?0:1),[t]);return(0,i().IS)((()=>({buttonPositionStyle:{display:"flex",position:"absolute",bottom:F,insetInlineEnd:v,opacity:y,transform:`translateX(${(0,l().A1)()?"":"-"}${C}px) translateZ(0)`,transition:`\n\t\t\t\t\topacity ${s().L}ms,\n\t\t\t\t\tcolor ${s().L}ms,\n\t\t\t\t\ttransform 200ms\n\t\t\t\t`,alignItems:"center",flexDirection:f?"column":"row",gap:f?10:8},roundButtonStyle:{display:"flex",alignItems:"center",justifyContent:"center",background:a().Tj.whiteButtonBackground,width:m,height:m,borderRadius:"100%",fontSize:20,boxShadow:a().Tj.shadowSM}})),[C,F,v,m,y,f])}function p(e,t){return e.WindowSizeStore.getSafePaddingBottomCSS(t+(e.device.isTablet?-12:0))}},671089:(e,t,o)=>{o.r(t),o.d(t,{checkmarkCircleIcon:()=>r,iconDefinition:()=>u});o(296540);var n=o(474848);const u={viewBox:"0 0 20 20",fittedViewBox:"2.37 2.37 15.25 15.26",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M12.876 7.982a.625.625 0 1 0-1.072-.644L9.25 11.595 7.815 9.92a.625.625 0 0 0-.95.813l2 2.334a.625.625 0 0 0 1.01-.085z"}),(0,n.jsx)("path",{d:"M10 2.375a7.625 7.625 0 1 0 0 15.25 7.625 7.625 0 0 0 0-15.25M3.625 10a6.375 6.375 0 1 1 12.75 0 6.375 6.375 0 0 1-12.75 0"})]})},r=(0,o(340498).wt)("checkmarkCircle",u,"default")},680474:(e,t,o)=>{o.d(t,{Wx:()=>r,fM:()=>n,sM:()=>u});const n=new(o(79926).O2)("framer-motion",(async()=>await Promise.all([o.e(44711),o.e(53321),o.e(37043)]).then(o.bind(o,301716))));function u(e){return e.useAnimation()}function r(e,...t){return e.useInView(...t)}},732067:(e,t,o)=>{o.d(t,{vF:()=>f,Su:()=>m,cG:()=>s,UY:()=>g,T5:()=>d});var n=o(296540),u=()=>o(401497),r=()=>o(100622),i=()=>o(783793);const a=o.p+"edfba4a6d1ff7acd.png",l=o.p+"c9223887dcb57b7d.gif",D=o.p+"7e9cbd56b1eca7b9.gif";var c=o(474848);function s(e){const{variant:t,style:o={}}=e;return(0,c.jsx)("div",{style:o,children:(0,c.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,c.jsx)(i().x,{variant:t,shadowVariant:"light"})})})}function d(e){const{variant:t}=e,o=(0,u().IS)((()=>({faceWrapper:{marginInlineEnd:8}})),[]);return(0,c.jsx)("div",{style:o.faceWrapper,children:(0,c.jsx)(p,{variant:t})})}function p(e){const{variant:t}=e,o="dark"===(0,u().eP)(),[r,a]=(0,n.useState)(!0);(0,n.useEffect)((()=>{setTimeout((()=>{a(!1)}),6e3)}),[]);const s=(0,n.useMemo)((()=>{if(r)return o?l:D}),[o,r]);return(0,c.jsx)("div",{style:{marginInlineStart:8},children:(0,c.jsx)(i().x,{variant:t,shadowVariant:"light",imgSource:s})})}function f(){const e=(0,u().IS)((()=>({faceImgStyles:{width:20,height:20,background:r().Tj.assistantCornerButtonBackground,borderRadius:"50%",border:`1px solid ${r().Tj.border.primary}`}})),[]);return(0,c.jsx)("img",{style:e.faceImgStyles,src:a,role:"presentation",alt:"Notion AI Face"})}function m(){const e=(0,u().IS)((()=>({faceImgStyles:{width:20,height:20,background:r().Tj.assistantCornerButtonBackground,borderRadius:"50%",border:`1px solid ${r().Tj.border.primary}`}})),[]);return(0,c.jsx)("img",{style:e.faceImgStyles,src:a,role:"presentation",alt:"Notion AI Face"})}function g(){const e=(0,u().IS)((()=>({faceImgStyles:{width:20,height:20,background:r().Tj.assistantCornerButtonBackground,borderRadius:"50%",border:`1px solid ${r().Tj.border.primary}`,marginInlineStart:-2,marginInlineEnd:2}})),[]);return(0,c.jsx)("img",{style:e.faceImgStyles,src:a,role:"presentation",alt:"Notion AI Face"})}},738508:(e,t,o)=>{o.r(t),o.d(t,{cursorIcon:()=>r,iconDefinition:()=>u});o(296540);var n=o(474848);const u={viewBox:"0 0 20 20",fittedViewBox:"1.25 0 17.5 20",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("g",{className:"logo-light-mode",children:[(0,n.jsxs)("g",{clipPath:"url(#clip0_16020_205)",children:[(0,n.jsx)("path",{fill:"#757575",d:"m9.995 9.987 8.658 4.999a.6.6 0 0 1-.226.226l-8.092 4.672a.68.68 0 0 1-.68 0l-8.092-4.672a.6.6 0 0 1-.226-.226z"}),(0,n.jsx)("path",{fill:"#525252",d:"M9.995 0v9.987l-8.658 4.999a.6.6 0 0 1-.082-.309v-9.38c0-.22.117-.424.308-.534L9.655.09a.7.7 0 0 1 .34-.09"}),(0,n.jsx)("path",{fill:"#404040",d:"M18.652 4.989a.6.6 0 0 0-.225-.226L10.334.09A.7.7 0 0 0 9.995 0v9.987l8.658 4.999a.6.6 0 0 0 .083-.309v-9.38c0-.11-.03-.216-.083-.308"}),(0,n.jsx)("path",{fill:"#D9D9D9",d:"M18.047 5.339a.29.29 0 0 1 0 .29l-7.859 13.61c-.053.093-.193.055-.193-.05v-8.97a.4.4 0 0 0-.054-.201z"}),(0,n.jsx)("path",{fill:"#fff",d:"m18.047 5.339-8.106 4.68a.4.4 0 0 0-.147-.147L2.027 5.387c-.092-.053-.054-.193.052-.193h15.717c.111 0 .202.06.25.145"})]}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_16020_205",children:(0,n.jsx)("path",{fill:"#fff",d:"M1.255 0h17.49v20H1.256z"})})})]}),(0,n.jsxs)("g",{className:"logo-dark-mode",children:[(0,n.jsxs)("g",{clipPath:"url(#clip0_16020_213)",children:[(0,n.jsx)("path",{fill:"#6E6E6E",d:"m9.995 9.987 8.658 4.999a.6.6 0 0 1-.226.226l-8.092 4.672a.68.68 0 0 1-.68 0l-8.092-4.672a.6.6 0 0 1-.226-.226z"}),(0,n.jsx)("path",{fill:"#4A4A4A",d:"M9.995 0v9.987l-8.658 4.999a.6.6 0 0 1-.082-.309v-9.38c0-.22.117-.424.308-.534L9.655.09a.7.7 0 0 1 .34-.09"}),(0,n.jsx)("path",{fill:"#383838",d:"M18.652 4.989a.6.6 0 0 0-.225-.226L10.334.09A.7.7 0 0 0 9.995 0v9.987l8.658 4.999a.6.6 0 0 0 .083-.309v-9.38c0-.11-.03-.216-.083-.308"}),(0,n.jsx)("path",{fill:"#C9C9C9",d:"M18.047 5.339a.29.29 0 0 1 0 .29l-7.859 13.61c-.053.093-.193.055-.193-.05v-8.97a.4.4 0 0 0-.054-.201z"}),(0,n.jsx)("path",{fill:"#fff",d:"m18.047 5.339-8.106 4.68a.4.4 0 0 0-.147-.147L2.027 5.387c-.092-.053-.054-.193.052-.193h15.717c.111 0 .202.06.25.145"})]}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_16020_213",children:(0,n.jsx)("path",{fill:"#fff",d:"M1.255 0h17.49v20H1.256z"})})})]})]})},r=(0,o(340498).wt)("cursor",u,"default")},740689:(e,t,o)=>{o.d(t,{o:()=>u});o(296540);const n={viewBox:"0 0 16 16",fittedViewBox:"1.77 1.79 12.45 12.42",svg:(0,o(474848).jsx)("path",{d:"M8.708 1.978a.625.625 0 0 0-.884.884l.914.913H3.84c-1.14 0-2.065.925-2.065 2.065v4.78a.625.625 0 0 0 1.25 0V5.84c0-.45.365-.815.815-.815h4.898l-.914.913a.625.625 0 0 0 .884.884l1.98-1.98a.625.625 0 0 0 0-.884zM13.6 4.755a.625.625 0 0 0-.625.625v4.78c0 .45-.365.815-.815.815H7.263l.913-.913a.625.625 0 0 0-.884-.884l-1.98 1.98a.625.625 0 0 0 0 .884l1.98 1.98a.625.625 0 1 0 .884-.884l-.913-.913h4.897c1.14 0 2.065-.924 2.065-2.065V5.38a.625.625 0 0 0-.625-.625"})},u=(0,o(340498).wt)("arrowSquareLeftRightSmall",n,"small")},766854:(e,t,o)=>{o.d(t,{H:()=>E,Q:()=>h});o(898992),o(672577);var n=()=>o(230711),u=()=>o(907258),r=()=>o(135168),i=()=>o(242422),a=()=>o(929219),l=()=>o(711339),D=()=>o(295633),c=()=>o(700500),s=()=>o(179034),d=()=>o(201980),p=()=>o(384944),f=()=>o(649813),m=()=>o(390650),g=()=>o(381678),C=()=>o(622811),F=()=>o(491848),v=()=>o(482871);function y(e,t,o){const u=(0,g()._)(e),r=null==u?void 0:u.id;if(!r||!o)return;if(!i().default.checkGate({gateName:"full_access_for_created_collection_pages"}))return;if(t.canAdmin())return;const a=t.getSpaceStore();return a&&(0,n().dp)(a,r).isMember()?[{role:"editor",type:"user_permission",user_id:r}]:void 0}function h(e){const{collectionContextStore:t,transaction:o}=e;return(0,F().w)({collectionContextStore:t,transaction:o}),E(e)}function E(e){var t,o,n;const{environment:g,collectionContextStore:F,groupsPointer:h,insertAtIndex:E,shouldCoerce:S,templateStore:_,transaction:x,from:b,tracker:B,inMemoryRecordCache:w,isKeyboard:A,title:k}=e,M=l().default.DO_NOT_USE_markLegacy("collections.add_item_lag");l().default.DO_NOT_USE_measureAfterNextFlushLegacy(M,{environment:g,getData:()=>({...m().kz(F),from:b.createBlock})});const I="collectionTypedView"===F.contextTypeFromStoreState,T=F.databaseTypeFromStoreState,j=F.collectionStoresStore.state,P=j.find((e=>e.canEdit()||e.canEditCollection()||e.canEditContentOnly()))||j[0],R=null===(t=(0,r().f)(P))||void 0===t?void 0:t.id,V=u().default.state.currentUserSettingsStore,O=I&&T&&R&&V&&[...V.getAllPreferredCollections(R),...V.getPreferredCollectionsOfType(R,T)]||[];let N;const z=h[0];if("group_header"===b.createBlock&&"location"===z.value.type){const e=z.value.value;if(e){N=j.find((t=>t.id===e.id&&(t.canEdit()||t.canEditCollection()||t.canEditContentOnly())))}}else N=function(e,t){for(const o of e){const e=t.find((e=>e.id===o&&(e.canEdit()||e.canEditCollection()||e.canEditContentOnly())));if(e)return e}}(O,j);const U=N??P,L=null==U?void 0:U.getSpaceId(),W=F.collectionViewStore(),G=F.getViewType(),H=p().Wv({environment:g,type:c().xd.page,inMemoryRecordCache:w,transaction:x,spaceId:L,tracker:B,permissions:y(g,U,L),properties:{title:(0,d().x9d)(k)}});if(!U||!W||!G)return{coercionSucceeded:!0,newStore:H};const K=null===(o=F.groupsStore.getGroupState(h))||void 0===o?void 0:o.groupUiParentStore;if(!K)return{coercionSucceeded:!0,newStore:H};const $=D().B.createChildStore(K,{table:s().ev,id:H.id});_&&a().A.state.online&&f().TB({title:"template",environment:g,store:H,templateStore:_,isKeyboard:A??!1,isCreateIn:!1,transaction:x,from:b.initCollection??"collection_group_actions"});const Q=(0,C().j)({environment:g,store:H,collectionStore:U,collectionContextStore:F,groupsPointer:h,shouldCoerce:S,transaction:x}),q=(null===(n=F.groupsStore.getGroupState(h))||void 0===n||null===(n=n.reducerResultStore.state)||void 0===n?void 0:n.blockIds)||[],Y=void 0!==E?E:q.length,X=F.permissionScopesStore.state;if((i().default.checkGate({gateName:"can_create_pages_in_collection_permission"})?X.canCreatePagesInCollection:X.canEditContent)||I){const e=[...q.slice(0,Y),$.id,...q.slice(Y)];(0,v().z)({resultIds:e,collectionViewStore:W,collectionContextStore:F,transaction:x})}return{coercionSucceeded:Q,newStore:$}}},783793:(e,t,o)=>{o.d(t,{o:()=>D,x:()=>l});o(296540);var n=()=>o(401497),u=()=>o(100622),r=()=>o(278589),i=()=>o(200424),a=o(474848);function l(e){const{variant:t,imgSource:o,tintColor:i,faceStyle:l,shadowVariant:c="strong",style:s,...d}=e,p=(0,n().IS)((()=>{const e=(0,r().N)(t);return{faceImgWrap:{width:e,height:e,borderRadius:"100%",background:u().Tj.assistantCornerButtonBackground,..."strong"===c&&{boxShadow:e>=90?u().Tj.shadowMDThickerOutline:u().Tj.shadowMD},..."light"===c&&{borderRadius:"50%",boxShadow:e>=90?u().Tj.shadowSMThickerOutline:u().Tj.shadowSM},overflow:"hidden",...s}}}),[t,c,s]);return(0,a.jsx)("div",{...d,children:(0,a.jsx)("div",{style:p.faceImgWrap,children:(0,a.jsx)(D,{imgSource:o,variant:t,tintColor:i,style:l})})})}function D(e){const{imgSource:t,variant:o,tintColor:u,style:l,alt:D,...c}=e,s=(0,r().N)(o),d=t??i(),p=D??"Notion AI face",f=(0,n().IS)((()=>({faceImg:{height:s,width:s,transform:"scaleX(var(--direction, 1))",...l},tintedFace:{height:s,width:s,transform:"scaleX(var(--direction, 1))",backgroundColor:u,WebkitMaskImage:`url(${d})`,maskImage:`url(${d})`,WebkitMaskRepeat:"no-repeat",maskRepeat:"no-repeat",WebkitMaskPosition:"center",maskPosition:"center",WebkitMaskSize:"contain",maskSize:"contain",...l}})),[s,l,u,d]);return void 0!==u?(0,a.jsx)("div",{style:f.tintedFace,role:"img","aria-label":p}):(0,a.jsx)("img",{...c,style:f.faceImg,src:d,alt:p})}},839754:(e,t,o)=>{o.d(t,{Bi:()=>x,My:()=>_,ZM:()=>B,_M:()=>b,navigateToWorkflowTemplateOnboardingModal:()=>w});o(16280),o(944114),o(517642),o(658004),o(733853),o(845876),o(432475),o(515024),o(731698),o(898992),o(354520),o(672577),o(581454);var n=()=>o(907258),u=()=>o(295633),r=()=>o(584262),i=()=>o(663077),a=()=>o(179034),l=()=>o(201980),D=()=>o(749750),c=()=>o(896628),s=()=>o(384944),d=()=>o(857783),p=()=>o(730969),f=()=>o(840153),m=()=>o(339798),g=()=>o(180762),C=()=>o(799832),F=()=>o(111379),v=()=>o(295304),y=()=>o(547149),h=()=>o(373444),E=()=>o(165592),S=()=>o(204067);function _({transaction:e,collectionStore:t,propertyTemplates:o}){var n;const u=(null===(n=t.getParentBlockStore())||void 0===n?void 0:n.getCollectionViewStores().filter((e=>"table"===e.getType())))??[];if(0===u.length)return;const r=[];for(const l of o){const e=(0,S().S1)({collectionStore:t,templateId:l.templateId,instancePointerType:"property"});e&&r.push({property:e.id,visible:!(0,i().Sz)(l),...l.tablePropertyFormat})}if(0!==r.length)for(const i of u){var a;const t=(null===(a=i.getPropertyFormatsStore("table_properties"))||void 0===a?void 0:a.getValue())??[],o=new Set(t.map((e=>e.property))),n=r.filter((e=>!o.has(e.property)));0!==n.length&&c().zA({stores:[i],update:{table_properties:[...t,...n]},transaction:e})}}function x({transaction:e,collectionStore:t,propertyTemplates:o}){const n=[];for(const a of o){const e=(0,S().S1)({collectionStore:t,templateId:a.templateId,instancePointerType:"property"});e&&n.push({property:e.id,visible:!0})}const u=t.getFormat().collection_page_properties??[],r=new Set(u.map((e=>e.property))),i=n.filter((e=>!r.has(e.property)));i.length&&c().zA({stores:[t],update:{collection_page_properties:[...u,...i]},transaction:e})}function b({environment:e,newPageStore:t,result:o}){"accepted_template"!==o.type&&"accepted_empty_collection"!==o.type||y().createAndCommit({environment:e,canUndo:!1,perform:n=>{const r=t.getTitleValue();if(s().zv({store:t,transaction:n,data:{alive:!1}}),"accepted_empty_collection"===o.type&&!(0,l().w9s)(r)){const i=u().B.createChildStore(t,{table:"block",id:o.blockId}).getTitleStore();i&&v().yr({environment:e,transaction:n,tokens:r,index:0,store:i})}const i=t.getParentStore();if((null==i?void 0:i.table)===a().ev){const e=i.getContentIds();s().zv({store:i,transaction:n,data:{content:e.filter((e=>e!==t.id))}})}},userAction:"clean_up_empty_new_page"})}function B({environment:e,userAction:t,result:o,existingCollectionViewBlockStore:n,existingCollectionStore:u}){if("canceled"!==o.type){if("accepted_empty_collection"===o.type&&u){const n=u.getKeyStore("name"),r=(0,l().x9d)(o.newCollectionTitle);n&&y().createAndCommit({userAction:t,environment:e,canUndo:!0,perform:t=>v().R9({environment:e,store:n,transaction:t,value:r})})}if(n){var r;const e=null===(r=(0,C().U)(n))||void 0===r?void 0:r.settingsStore;e&&m().os({collectionSettingsStore:e})}if("accepted_template"===o.type&&null!=n&&n.isCollectionView()&&(null==n||!n.hasSingleSourceAndNoLinkedCollections())){const t=(0,C().U)(n),u=n.getCollectionViewStores().find((e=>{var t;return(null===(t=e.getCollectionStore())||void 0===t?void 0:t.id)===o.collectionId}));if(!t||!u)return;(0,g().t)({environment:e,collectionContextStore:t,collectionViewId:u.id,isFullScreen:t.isFullScreenStore.state,isRootChild:t.isRootChildStore.state,isInPeekRenderer:t.isInPeekRendererStore.state})}}}async function w({environment:e,collectionViewBlockStore:t}){const o=t.id;if(!t.isDefined()){const n=await D().$f({environment:e,blockId:o});if(!n)return;e=await f().T({environment:e,newCurrentUserId:n}),t=new(u().B)(e,{table:a().ev,id:o}),await t.load()}const i=t.getSpaceId();if(!i)throw new Error("Space ID not found for collection block");const l=(0,F().k)(i);if(!l)throw new Error(`Space view not found for space ID: ${i}`);const{sidebarSpaceStore:c}=n().default.state;(null==c?void 0:c.id)!==i&&await(0,p().y)({environment:e,spaceViewStore:l});const s=t.getFormat();if("workflow_template_placeholder"===(null==s?void 0:s.collection_view_sub_type)&&null!=s&&s.placeholder_workflow_template_id&&t.isCollectionView()){const{getCollectionTemplateFromId:o}=await E().t.load(),n=o(s.placeholder_workflow_template_id);if(!n)throw new Error(`Collection template "${s.placeholder_workflow_template_id}" not found`);const{onNavigateToPlaceholderWorkflowTemplateBlock:u}=await h().O.load();u({environment:e,collectionTemplate:n,collectionViewBlockStore:t})}else d().uK({environment:e,store:t,pageVisitSource:r().y8.WorkflowTemplatesDeeplink})}},888325:(e,t,o)=>{function n(e){return`${e.table}:${e.id}`}o.d(t,{_:()=>n})},890409:(e,t,o)=>{o.d(t,{Ah:()=>C,Dk:()=>f,Iv:()=>g,SF:()=>m,YO:()=>y,_f:()=>E,c_:()=>d,dW:()=>v,gW:()=>p,sp:()=>S,vN:()=>F});o(16280),o(944114),o(898992),o(354520),o(803949),o(581454),o(737550);var n=()=>o(496603),u=()=>o(973647),r=()=>o(534177),i=()=>o(842599),a=()=>o(239381),l=()=>o(179034),D=()=>o(798880),c=()=>o(201980),s=()=>o(241319);function d(e,t){e.DO_NOT_USE_commonTrackEvent({eventName:"add_automation_step",properties:t})}function p(e,t){e.DO_NOT_USE_commonTrackEvent({eventName:"delete_automation_step",properties:t})}function f(e,t){e.DO_NOT_USE_commonTrackEvent({eventName:"automation_create",properties:t})}function m(e,t){e.DO_NOT_USE_commonTrackEvent({eventName:"automation_update",properties:t})}function g(e,t){e.DO_NOT_USE_commonTrackEvent({eventName:"automation_delete",properties:t})}function C(e,t){e.DO_NOT_USE_commonTrackEvent({eventName:"automation_enable",properties:t})}function F(e,t){e.DO_NOT_USE_commonTrackEvent({eventName:"automation_disable",properties:t})}function v(e,t){e.DO_NOT_USE_commonTrackEvent({eventName:"automation_action_create",properties:t})}function y(e,t){e.DO_NOT_USE_commonTrackEvent({eventName:"automation_action_delete",properties:t})}function h(e){const{formulaAnalyticsModule:t,formulasModule:o,formulaTypecheckContextValues:n,getRecordModel:i,spaceId:l,value:D,featureGates:c}=e;if("formula"===D.type){if(!(0,r().O9)(D.value))return;const e=u().Q.unwrapOr(o.parseFormulaInputToAst(D.value),void 0);if(e){const u=o.addTypesToFormulaAST(e,{handleDataRequest:(0,a().zg)(i),spaceId:l,valueTypes:n,featureGates:c});return{...t.getFormulaAnalytics(e,{getRecordModel:i,typecheckContextValues:n}),formula_return_type:u.node.type,redacted_formula:t.getRedactedFormulaAsStringSync(e,{getRecordModel:i,typecheckContextValues:n})}}}else{if("simple"===D.type){if(!(0,r().O9)(D.value))return;return t.getSimpleFormulaAnalytics(D.value,{getRecordModel:i,typecheckContextValues:n})}(0,r().HB)(D.type)}}function E(e){const{automationActionModel:t,automationActionModels:o,formulaAnalyticsModule:u,formulasModule:l,formulaTypecheckContextValues:d,getRecordModel:p,featureGates:f,simpleFormulasModule:m}=e;return t.isType("complete_sprint")?{automation_action_id:t.pointer.id,type:"complete_sprint"}:t.isType("create_page")?function(e){const{automationActionModel:t,formulaAnalyticsModule:o,formulasModule:n,formulaTypecheckContextValues:u,getRecordModel:i,featureGates:a}=e,l=t.getConfig();let D,c=[];const s=null==l?void 0:l.collection,d=null==l?void 0:l.properties;if((0,r().O9)(s)&&(0,r().O9)(d)&&d.length>0){const e=i(s),f=null==e?void 0:e.getNormalizedSchema();(0,r().O9)(f)&&(c=d.map((e=>{var t;return(null===(t=f[e])||void 0===t?void 0:t.type)??"unknown"})));const m=null==l?void 0:l.values;if(n&&(0,r().O9)(m)){D=[];for(const e of d){var p;const r=null===(p=m[e])||void 0===p?void 0:p.value;if(!r)continue;const l=h({formulaAnalyticsModule:o,formulasModule:n,getRecordModel:i,formulaTypecheckContextValues:u,spaceId:t.spaceId,value:r,featureGates:a});l&&D.push(l)}}}return{automation_action_id:t.pointer.id,property_formula_stats:D,property_types:c,type:"create_page"}}({automationActionModel:t,formulaAnalyticsModule:u,formulasModule:l,formulaTypecheckContextValues:d,getRecordModel:p,featureGates:f}):t.isType("duplicate_blocks")?{automation_action_id:t.pointer.id,type:"duplicate_blocks"}:t.isType("modal_confirmation")?function(e){const{automationActionModel:t,formulaAnalyticsModule:o,formulasModule:n,formulaTypecheckContextValues:u,getRecordModel:i,featureGates:a}=e,l=t.getConfig(),D=[];if(n&&(0,r().O9)(l)&&l.text){const e=h({formulasModule:n,formulaAnalyticsModule:o,getRecordModel:i,formulaTypecheckContextValues:u,spaceId:t.spaceId,value:l.text,featureGates:a});e&&D.push(e)}return{automation_action_id:t.pointer.id,formula_stats:D,type:"modal_confirmation"}}({automationActionModel:t,formulaAnalyticsModule:u,formulasModule:l,formulaTypecheckContextValues:d,getRecordModel:p,featureGates:f}):t.isType("open_page")?{automation_action_id:t.pointer.id,type:"open_page"}:t.isType("query_collection")?{automation_action_id:t.pointer.id,type:"query_collection"}:t.isType("send_in_app_notification")?function(e){var t;const{automationActionModel:o,formulaAnalyticsModule:n,formulasModule:u,formulaTypecheckContextValues:i,getRecordModel:a,featureGates:l,simpleFormulasModule:D}=e,s={automation_action_id:o.pointer.id,messageCharacterCount:0,type:"send_in_app_notification"},d=o.getConfig();if(!(0,r().O9)(d))return s;if((0,r().O9)(d.target))if("formula"===d.target.type&&(0,r().O9)(d.target.value)){if(s.targetData={type:"formula",numUserFormulaTargets:(0,c().Fbh)(d.target.value.value).length,numFormulaContextTargets:D.getReferencedContextValueIds(d.target.value).length},u){const e=h({formulasModule:u,formulaAnalyticsModule:n,getRecordModel:a,formulaTypecheckContextValues:i,spaceId:o.spaceId,value:d.target.value,featureGates:l});e&&(s.formula_stats??=[],s.formula_stats.push(e))}}else if("property"===d.target.type&&(0,r().O9)(d.target.propertyId)&&(0,r().O9)(d.target.collectionPointer)){const e=a(d.target.collectionPointer),t=null==e?void 0:e.getSchema();var p;(0,r().O9)(t)&&(s.targetData={type:"property",propertyType:null===(p=t[d.target.propertyId])||void 0===p?void 0:p.type})}if((0,r().O9)(null===(t=d.notification_message)||void 0===t?void 0:t.value)&&(s.messageCharacterCount=(0,c().FAw)(d.notification_message.value),u)){const e=h({formulasModule:u,formulaAnalyticsModule:n,getRecordModel:a,formulaTypecheckContextValues:i,spaceId:o.spaceId,value:d.notification_message,featureGates:l});e&&(s.formula_stats??=[],s.formula_stats.push(e))}return s}({automationActionModel:t,formulaAnalyticsModule:u,formulasModule:l,formulaTypecheckContextValues:d,getRecordModel:p,featureGates:f,simpleFormulasModule:m}):t.isType("send_gmail_notification")?function(e){var t,o,u,a,l,s,d;const{automationActionModel:p,formulaAnalyticsModule:f,formulasModule:m,formulaTypecheckContextValues:g,getRecordModel:C,featureGates:F}=e,v=p.getConfig();if(!(0,r().O9)(v))return{automation_action_id:p.pointer.id,fields:{},recipient_domains:{},type:"send_gmail_notification"};const y=Object.fromEntries(Object.entries(v||{}).map((([e,t])=>{var o;return"formula"===(null==t?void 0:t.type)?[e,Boolean(null==t||null===(o=t.value)||void 0===o?void 0:o.value)]:"simple"===(null==t?void 0:t.type)?[e,Boolean(null==t?void 0:t.value)]:[e,Boolean(t)]}))),{to:E,cc:S,bcc:_}=v,x=[...(null==E||null===(t=E.value)||void 0===t?void 0:t.value)||[],...(null==S||null===(o=S.value)||void 0===o?void 0:o.value)||[],...(null==_||null===(u=_.value)||void 0===u?void 0:u.value)||[]],b=[...(0,c().Fbh)(x).map((e=>C({table:D().oo,id:e}))).map((e=>null==e?void 0:e.email)).filter(r().O9),...(0,i().C3)((0,c().k4p)(x))],B=n().Tr(b.map((e=>e.split("@")[1]))),w=[null===(a=v.to)||void 0===a?void 0:a.value,null===(l=v.cc)||void 0===l?void 0:l.value,null===(s=v.bcc)||void 0===s?void 0:s.value,null===(d=v.reply_to)||void 0===d?void 0:d.value,v.from_name,v.email_subject,v.email_body].map((e=>{if(m&&(0,r().O9)(e))return h({formulaAnalyticsModule:f,formulasModule:m,getRecordModel:C,formulaTypecheckContextValues:g,spaceId:p.spaceId,value:e,featureGates:F})})).filter(r().O9);return{automation_action_id:p.pointer.id,fields:y,formula_stats:w,recipient_domains:B,type:"send_gmail_notification"}}({automationActionModel:t,formulaAnalyticsModule:u,formulasModule:l,formulaTypecheckContextValues:d,getRecordModel:p,featureGates:f}):t.isType("slack_notification")?{automation_action_id:t.pointer.id,type:"slack_notification"}:t.isType("update_pages")?function(e){const{automationActionModel:t,automationActionModels:o,formulaAnalyticsModule:n,formulasModule:u,formulaTypecheckContextValues:i,getRecordModel:l,featureGates:D}=e,c=t.getConfig(),d=[],p=[],f=[];if((0,r().O9)(c)&&(0,r().O9)(c.target)&&(0,r().O9)(c.properties)&&c.properties.length>0){let e;if("variable"===c.target.type){const t=(0,a().y5)(c.target.id);if("action"===t.source){const t=(0,s().y)({actionModels:o,id:c.target.id}).collectionPointer;if((0,r().O9)(t)){const o=l(t);e=null==o?void 0:o.getNormalizedSchema()}}else{if("global"!==t.source||"button_page"!==t.global)throw new Error("Failed loading property schema");{const t=(0,a().IV)(i,c.target.id);if("block"===(null==t?void 0:t.type.type)&&(0,r().O9)(t.type.collection)){const o=l(t.type.collection);e=null==o?void 0:o.getNormalizedSchema()}}}}else if("collection"===c.target.type){const t=l(c.target.collection);e=null==t?void 0:t.getNormalizedSchema()}(0,r().O9)(e)&&c.properties.forEach((o=>{const a=e[o];if((0,r().O9)(a)&&(d.push(a.type),u&&(0,r().O9)(c.values))){const e=c.values[o];if((0,r().O9)(e)&&(p.push({type:a.type,operator:e.action}),e.value)){const o=h({formulasModule:u,formulaAnalyticsModule:n,getRecordModel:l,formulaTypecheckContextValues:i,spaceId:t.spaceId,value:e.value,featureGates:D});o&&f.push(o)}}}))}return{automation_action_id:t.pointer.id,property_configs:p,property_formula_stats:f,property_types:d,type:"update_pages"}}({automationActionModel:t,automationActionModels:o,formulaAnalyticsModule:u,formulasModule:l,formulaTypecheckContextValues:d,getRecordModel:p,featureGates:f}):t.isType("define_variables")?function(e){const{automationActionModel:t,formulaAnalyticsModule:o,formulasModule:n,formulaTypecheckContextValues:u,getRecordModel:i,featureGates:a}=e,l=t.getConfig(),D=[];if(n&&(0,r().O9)(l)&&l.values)for(const r of Object.values(l.values))if(r.value){const e=h({formulasModule:n,formulaAnalyticsModule:o,getRecordModel:i,formulaTypecheckContextValues:u,spaceId:t.spaceId,value:r.value,featureGates:a});e&&D.push(e)}return{automation_action_id:t.pointer.id,formula_stats:D,type:"define_variables"}}({automationActionModel:t,formulaAnalyticsModule:u,formulasModule:l,formulaTypecheckContextValues:d,getRecordModel:p,featureGates:f}):t.isType("http_request")?{automation_action_id:t.pointer.id,type:"http_request"}:t.isType("publish_site")?{automation_action_id:t.pointer.id,type:"publish_site"}:t.isType("worker")?{automation_action_id:t.pointer.id,type:"worker"}:void(0,r().HB)(t)}function S(e){const{automationModel:t,builderType:o="sidebar",formulaAnalyticsModule:n,formulasModule:u,formulaTypecheckContextValues:i,getRecordModel:a,featureGates:D,simpleFormulasModule:c,source:s}=e,d=[],p=t.getActionPointers().map((e=>a(e))).filter(r().O9);for(const l of t.getActionPointers()){const e=a(l);(0,r().O9)(e)&&d.push(E({automationActionModel:e,automationActionModels:p,formulaAnalyticsModule:n,formulasModule:u,formulaTypecheckContextValues:i,getRecordModel:a,featureGates:D,simpleFormulasModule:c}))}const f=[];let m,g,C;if(t.isEventType()){var F;const e=t.getEventConfiguration(),o=a(t.getParentPointer());m=t.getParentId();const n=t.getEventConfiguration();if("collection_view"===(null===(F=n.source)||void 0===F?void 0:F.type)){const e=a(n.source.pointer);(null==e?void 0:e.parent_table)===l().ev&&(C=null==e?void 0:e.parent_id),g=null==n?void 0:n.source.pointer.id}const u=null==o?void 0:o.getNormalizedSchema();if((0,r().O9)(u)){const{pagesAdded:t,pagePropertiesEdited:o}=e;if(t&&f.push({type:"page"}),"any"===o.type)f.push({condition:"any",type:"property"});else if("none"===o.type)f.push({condition:"none",type:"property"});else{let e=[];"some"===o.type?e=o.some??[]:"all"===o.type&&(e=o.all??[]);const t=[],n=[];e.forEach((e=>{var o;const i=null===(o=u[e.property])||void 0===o?void 0:o.type;(0,r().O9)(i)&&(t.push({type:i,operator:e.filter.operator}),n.push(i))})),f.push({condition:o.type,property_configs:t,property_types:n,type:"property"})}}}else if(t.isButtonType())f.push({type:"button"});else if(t.isRecurrenceType()){var v;f.push({type:"recurrence",frequency:null===(v=t.getTrigger().recurrence)||void 0===v?void 0:v.frequency})}else(0,r().HB)(t);return{automation_actions:d,automation_id:t.id,automation_triggers:f,collection_id:m,collection_view_id:g,collection_view_block_id:C,builder_type:o,source:s}}},907015:(e,t,o)=>{o.r(t),o.d(t,{InPageFind:()=>Ae});o(898992),o(672577),o(430670);var n=o(296540),u=()=>o(717137),r=()=>o(756117),i=()=>o(782482),a=()=>o(833744),l=()=>o(395361),D=()=>o(484714),c=()=>o(590526),s=()=>o(401497),d=()=>o(79926),p=()=>o(882722),f=()=>o(916580),m=()=>o(843427),g=()=>o(680474),C=()=>o(396896),F=()=>o(807449),v=()=>o(695115),y=()=>o(31511),h=()=>o(124092),E=()=>o(160432),S=()=>o(26697),_=()=>o(591779),x=()=>o(740689),b=()=>o(403733),B=()=>o(4688),w=()=>o(40457),A=()=>o(995847),k=()=>o(340498),M=()=>o(201980),I=()=>o(175947),T=()=>o(69708),j=()=>o(100622),P=()=>o(496603),R=()=>o(284371),V=()=>o(182641),O=()=>o(555102),N=()=>o(650829),z=()=>o(63936),U=()=>o(383070),L=()=>o(483730),W=()=>o(703748),G=()=>o(35392),H=()=>o(180252),K=()=>o(375555),$=()=>o(644914),Q=()=>o(77246),q=()=>o(712505),Y=()=>o(687879),X=()=>o(46986),Z=()=>o(366437),J=()=>o(279115),ee=(o(354520),o(803949),o(941795),()=>o(908006)),te=()=>o(779315),oe=()=>o(128933),ne=()=>o(517415),ue=()=>o(103725),re=()=>o(292985),ie=()=>o(643707),ae=()=>o(534177),le=()=>o(495262),De=()=>o(255460),ce=()=>o(516430),se=()=>o(712287),de=()=>o(455994),pe=()=>o(656219),fe=()=>o(143857),me=()=>o(171018),ge=()=>o(295304),Ce=()=>o(342458),Fe=()=>o(547149),ve=()=>o(909443);function ye(){J().Ay.update((e=>({...e,showReplaceInput:!e.showReplaceInput,focused:e.showReplaceInput})))}const he=200;function Ee(e){const{environment:t,matches:o,replace:n,find:u,intl:r,editorViewEditorModeMap:i}=e,{pageDetails:{activePageDetails:a,secondaryPageDetails:l}}=e,D=n.length-u.length,c=o.filter(ae().O9).filter((e=>(0,Z().M5)({environment:t,match:e,pageStore:e.view===a.view?a.store:null==l?void 0:l.store}))),s={id:"",columnId:void 0,offset:0};0!==c.length?(c.length>1&&ve().V({clearQuery:!1}),P().iv(c,he).forEach((e=>{Fe().createAndCommit({userAction:"findAndReplaceInstance",environment:t,canUndo:!0,perform:o=>{e.forEach((e=>{if(!e.allowReplace)return;const{blockStore:r,selection:a}=e,l="block"===e.type,c=l?e.propertyType:e.propertyId,d=r.getPropertyStore(c);if(!d)return;const p=e.blockStore.id,f=l?void 0:e.propertyId;s.id!==p||s.columnId!==f?(s.id=p,s.columnId=f,s.offset=0):s.offset+=D;const m=a.startIndex+s.offset,g=a.endIndex+s.offset,C=("main"===e.view?i.main:i.side_peek)??"default",F=(0,Ce().D)({startIndex:m,endIndex:g},d,C).toArray().filter(M().Ta1);if("suggest"===C){const n={start:{store:d,index:m},end:{store:d,index:g}},r=(0,ce().RR)(t,o,e.blockStore);(0,ce().rY)({environment:t,multiSelection:n,transaction:o,discussionStore:r}),s.offset+=u.length}else ge().jQ({environment:t,selection:{startIndex:m,endIndex:g},store:d,transaction:o});const v=F.length>0?[n,F]:[n];ge().yr({environment:t,index:"default"===C?m:m+u.length,store:d,tokens:[v],transaction:o,editorMode:C})}))}}),(0,ne().r)({item:{label:r.formatMessage({id:"inPageFind.replaceAll.snackbarCopy",defaultMessage:"{numMatches, plural, one {Replaced {numMatches} match} other {Replaced {numMatches} matches}}"},{numMatches:e.length})},undoFunc:()=>{le().tN({environment:t,preventSelectText:!0}),J().Ay.update((e=>({...e,open:!0,showReplaceInput:!0})))}})}))):oe().D6({label:r.formatMessage({id:"inPageFind.replaceAll.noMatches",defaultMessage:"No matches replaced"})})}async function Se(e){var t;const{match:o,pagePropertiesStore:n,pageStore:u,environment:r}=e;if(!u)return;function i({isPeek:e}){const t=e?"peek":"mainPage";"popup"===de().A.getPanelState(t).displayStyle&&(0,se().F)({environment:r,from:"search",panelLocation:t,layoutStore:void 0})}const a="main"!==o.view;switch(o.type){case"block":case"simple_table_cell":await De().NH(r,u,[o.blockStore.id]),i({isPeek:a});break;case"page_property_name":case"page_property_value":const e=u.getAssociatedCollectionStore(),l=null==e||null===(t=e.getNormalizedPropertyGroups())||void 0===t?void 0:t.find((({propertyIds:e})=>null==e?void 0:e.includes(o.propertyId)));o.visible||!n||n.state.forceShowProperties||n.update((e=>({...e,forceShowProperties:!0})));if(!(null==e?void 0:e.getLayoutStore()))break;o.isMatchInLayoutPageDetails?(0,se().j)({environment:r,from:"search",panelLocation:a?"peek":"mainPage",layoutStore:void 0}):i({isPeek:a}),o.isPropertyInGroup&&l&&pe().A.setPropertyGroupExpandedOverride({groupId:l.id,override:"open"});break;case"comment":i({isPeek:a}),await De().NH(r,u,[o.blockStore.id]);const D=fe().A.find((e=>e.getStore().id===o.discussionId)),c=null==D?void 0:D.getNode();if(!(c&&c instanceof Element))return;const s=c.getBoundingClientRect();await V().B4({analyticsFrom:"in_page_find",blockStore:o.blockStore,environment:r,shouldFocusDiscussion:!1,recursivelyLoadAllDiscussions:!1,rect:s}),await ee().default.afterNextFlush((()=>{const e=null==D?void 0:D.getMarginDiscussionScrollContainer();if(e){const t=e.getNode();t&&(0,re().V)({element:t,environment:r,options:{top:t.scrollHeight,behavior:"smooth"}})}}))}("page_property_name"!==o.type&&"page_property_value"!==o.type||!o.isMatchInLayoutPageDetails)&&await async function(e,t){await ee().default.afterNextFlush();const o=document.getElementsByClassName(ie().wT).item(0);if(!o)return;const n="main"===e.view?te().A.PageScroller:te().A.PeekViewScroller;if(!n)return;(0,ue().h)({element:o,environment:t,scrollerContext:{verticalScroller:n,horizontalScroller:void 0},vertical:{reveal:"closest"},horizontal:void 0,animate:!1})}(o,r)}function _e(e,t){var o;if("page_property_name"!==t.type&&"page_property_value"!==t.type)return;const n=t.propertyId,u=e.getAssociatedCollectionStore(),r=null==u||null===(o=u.getNormalizedPropertyGroups())||void 0===o?void 0:o.find((({propertyIds:e})=>null==e?void 0:e.includes(n)));return(0,me().es)(null==r?void 0:r.id)}var xe=()=>o(907258),be=()=>o(206051);const Be=(0,T().YK)({inputPlaceHolder:{id:"inPageFind.find.inputPlaceholder",defaultMessage:"Find, replace, ask..."},replaceInputPlaceHolder:{id:"inPageFind.replace.inputPlaceHolder",defaultMessage:"Replace with..."},close:{id:"inPageFind.close",defaultMessage:"Close"},previousMatch:{id:"inPageFind.navigation.previousMatch",defaultMessage:"Previous match"},nextMatch:{id:"inPageFind.navigation.nextMatch",defaultMessage:"Next match"},toggleReplace:{id:"inPageFind.navigation.replaceToggle",defaultMessage:"Replace"},replaceAll:{id:"inPageFind.matches.replaceAll",defaultMessage:"Replace all"},replace:{id:"inPageFind.matches.individualReplace",defaultMessage:"Replace"},noMatches:{id:"inPageFind.noMatches",defaultMessage:"Not found"},askAi:{id:"inPageFind.askAi",defaultMessage:"Ask AI"},ofSpacer:{id:"inPageFind.ofSpacer",defaultMessage:"of"},lockedPage:{id:"inPageFind.lockedPage",defaultMessage:"Page is locked"}});var we=o(474848);function Ae(){const{activePageDetails:e,secondaryPageDetails:t}=function(){const{mainPageDetails:e,peekPageDetails:t}=(0,c().K8)((()=>{const e=xe().default.state.mainEditorCurrentBlockStore,t=q().default.peekTargetStore.state;return{mainPageDetails:e?{store:e,view:"main"}:void 0,peekPageDetails:t?{store:t,view:q().default.state.mode}:void 0}}),[],{useDeepEqual:!0}),o=(0,c().K8)((()=>{var e;return Boolean(null===(e=be().default.getCurrentDefaultContainer())||void 0===e?void 0:e.isPeekRenderer())}),[]);return{activePageDetails:o?t:e,secondaryPageDetails:o?e:t}}();return e?(0,we.jsx)(ke,{activePageDetails:e,secondaryPageDetails:t}):null}function ke(e){const{activePageDetails:t,secondaryPageDetails:o}=e,[g,C]=(0,n.useState)(-1),[F,v]=(0,n.useState)(""),h=(0,n.useRef)(void 0),E=(0,n.useRef)(null),S=(0,n.useRef)(null),x=(0,D().v3)(),b=(0,T().tz)(),{focused:B,findQuery:w,showReplaceInput:k,open:R,textSelectionOnOpen:G}=(0,c().O$)(J().Ay),ee=(0,_().ZC)(w),te=(0,_().ZC)(G),oe=(0,_().ZC)(g),ne=w===ee,ue=(0,c().K8)((()=>t.store.id),[t.store.id]),re=(0,_().ZC)(ue),ie=(0,n.useRef)();(0,n.useEffect)((()=>{re===ue||o||(ve().V({clearQuery:!0}),h.current=void 0)}),[ue,re,o]),(0,a().L)({active:R,closeHandler:()=>{ve().V({clearQuery:!1})},ref:E,ignoreKeydown:!0,excludedSelectors:[`.${p().OO1}`,`.${p().rgg}`]});const ae=(0,c().K8)((()=>{if(!R)return!1;h.current=void 0;const e=null==G?void 0:G.multiSelection,t=!(0,f().OH)(e,null==te?void 0:te.multiSelection),o=!!e&&((0,m().K)(e)&&e.start.index!==e.end.index);return t&&o}),[R,null==te?void 0:te.multiSelection,null==G?void 0:G.multiSelection]),le=(0,c().K8)((()=>q().default.state.open),[]),De=(0,n.useCallback)((async e=>{var n;const u=null===(n=[t,o].find((t=>(null==t?void 0:t.view)===(null==e?void 0:e.view))))||void 0===n?void 0:n.store;if(!e||!u)return void J().wb.setState(void 0);const r=_e(u,e),i="comment"===ie.current&&(!e||"comment"!==e.type),a=r&&r.state.forceShowProperties&&("page_property_name"===ie.current||"page_property_value"===ie.current)&&(!e||"page_property_name"!==e.type&&"page_property_value"!==e.type);if(i?V().xl():a&&r.reset(),"block"===e.type)J().wb.setState({type:"block",id:e.blockStore.id,selection:e.selection});else if("page_property_name"===e.type){const t=e.propertyId;J().wb.setState({type:"page_property_name",propertyId:t})}else"page_property_value"===e.type?J().wb.setState({type:"page_property_value",id:e.blockStore.id,inlineCollectionId:e.inlineCollectionId,inlineCollectionViewId:e.inlineCollectionViewId,propertyId:e.propertyId,selection:e.selection}):"comment"===e.type?J().wb.setState({type:"comment",id:e.commentId,selection:e.selection}):"simple_table_cell"===e.type&&J().wb.setState({type:"simple_table_cell",id:e.blockStore.id,propertyId:e.propertyId,selection:e.selection});ie.current=e.type,ne&&g===oe||await Se({environment:x,match:e,pageStore:u,pagePropertiesStore:r})}),[t,o,ne,g,oe,x]),ce=(0,c().K8)((()=>{if(!R||0===w.length)return[];return P().oE([t,o]).flatMap((e=>(0,Z().OM)({pageDetails:e,find:w,intl:b})))}),[R,w,t,o,b]),se=ce.length;(0,n.useEffect)((()=>{if(ae){const e=ce.findIndex((e=>{const t=null==G?void 0:G.multiSelection;if("block"!==e.type||!t||e.blockStore.id!==t.start.store.id)return!1;const{startIndex:o,endIndex:n}=e.selection;return o===t.start.index&&n===t.end.index}));C(Math.max(e,0))}else g>=ce.length&&!ne&&C(0);const e=ce[g];De(e)}),[g,ce,ne,ae,null==G?void 0:G.multiSelection,De]);const de=-1!==g?ce[g]:void 0,pe=function({activePageDetails:e,find:t}){const o=(0,c().K8)((()=>U().zD.isInPageFindQnaOptionEnabledForUser()),[]),{value:u}=(0,d().fJ)(N().assistantDependency),r=(0,D().v3)(),i=(0,n.useCallback)((async o=>{if(!u)return;const n=await u.assistantActions.resetAndInitializeAssistantSession({environment:r,makeActiveSession:!0});if(!n)return;const i=L().default.getSessionContext(n.sessionId);i&&(i.assistantConfigurationStore.setSearchScope({pageId:e.store.id,type:"page"}),ve().V({clearQuery:!1}),u.assistantMenuStore.setState({open:!0,currentView:"chat",from:"find_and_replace",isAssistantInputEmpty:u.assistantMenuStore.state.isAssistantInputEmpty}),o&&o.length>0&&await u.handleSubmitNewQuestion({currentClientSkillWithSettings:void 0,newValue:(0,M().x9d)(t),environment:r,shouldForceStartNewSession:!1,source:"in_page_find",assistantSurfaceType:"corner"}))}),[u,r,e.store.id,t]);return o?i:void 0}({activePageDetails:t,find:w}),fe=function(){const e=(0,D().v3)(),t=(0,X().i7)(),o=(0,c().O$)(O().bX),u=(0,n.useCallback)((t=>{if(!o||!o.blockStore)return;if(!t||0===t.length)return;ve().V({clearQuery:!1});const n=(0,O().Kf)({environment:e,spaceStore:o.spaceStore,userStore:o.userStore,value:(0,M().x9d)(t)}),u=(0,O().Xd)({environment:e,inferenceContext:o,addSteps:[n],surface:"find_and_replace",config:{type:"workflow"}}),r=(0,Y().addTranscriptToNewThreadAndRun)({environment:e,spaceStore:o.spaceStore,transcript:u});(0,W().openChatPanel)({environment:e,store:o.blockStore,chatPanelState:{isOpen:!0,threadId:r.id}})}),[e,o]);return t?u:void 0}(),me=fe??pe,ge=Boolean(me),Ce=(0,l().Y)((e=>{J().Ay.update((t=>({...t,findQuery:e})))}),300),Fe=(0,n.useCallback)((async e=>{var n;const{location:u}=e;if(0===se)return;if(1===se){var r;const e=null===(r=[t,o].find((e=>(null==e?void 0:e.view)===ce[0].view)))||void 0===r?void 0:r.store;if(!e)return;const n=_e(e,ce[0]);return void(await Se({environment:x,match:ce[0],pagePropertiesStore:n,pageStore:e}))}const i=g+("next"===u?1:-1),a=i>=0&&i<se?i:"next"===u?0:se-1,l=ce[a];C(a);const D=null===(n=[t,o].find((e=>(null==e?void 0:e.view)===l.view)))||void 0===n?void 0:n.store;if(!D)return;const c=_e(D,l);c&&await Se({environment:x,match:l,pagePropertiesStore:c,pageStore:D})}),[ce,se,g,t,o,x]),he=(0,c().K8)((()=>R?{main:Q().Uv.getMode(t.store),side_peek:o?Q().Uv.getMode(o.store):void 0}:{main:void 0,side_peek:void 0}),[t,R,o]),Ee=(0,c().K8)((()=>t.store.isLocked()&&(!o||o.store.isLocked())),[t.store,o]),xe=x.device.isElectron,be=(0,c().K8)((()=>(0,H().$o)(x).state?0:(0,I().ek)(x.device.isElectronMac)),[x]),Ae=(0,c().K8)((()=>(0,$().zo)(x,le)),[x,le]),ke=(0,n.useCallback)((()=>{const e=de&&("block"===de.type||"simple_table_cell"===de.type)&&de.blockStore.getTitleStore(),t=e?de.blockStore.getTitleStore():void 0,o=e&&t?{start:{store:t,index:de.selection.startIndex},end:{store:t,index:de.selection.endIndex}}:void 0;ve().V({clearQuery:!1,overridePreviousTextSelection:o})}),[de]),Re=(0,n.useCallback)((e=>{e.preventDefault&&e.preventDefault();const t=S.current;t&&(0,K().G)(x,t)}),[x,S]),Ve=(0,s().IS)((()=>({findInputContainer:{display:"flex",alignItems:"center",gap:10,padding:"0px 10px"},container:{boxShadow:j().Tj.shadowMD,position:"absolute",top:0,insetInlineEnd:z().d,zIndex:1e3,backgroundColor:j().Tj.background.elevated,borderRadius:12,width:280,outline:`3px solid ${j().Tj.blue.border.secondaryTranslucent}`},inputContainer:{boxShadow:"none",border:"none",outline:"none",flexGrow:1},findInput:{paddingTop:10,paddingBottom:10},input:{fontSize:14}})),[]);return(0,we.jsxs)(r().A,{visible:R,initial:{opacity:0,translateY:0,translateX:-Ae},animate:{opacity:1,translateY:be+z().d,translateX:-Ae},config:{duration:150},exit:{translateY:be,opacity:0,translateX:-Ae},style:Ve.container,ref:E,children:[(0,we.jsx)("div",{style:Ve.findInputContainer,children:(0,we.jsx)(u().A,{debugName:"FindAndReplace",capture:!0,allowSearch:!0,allowOpenLinkMenu:!0,children:(0,we.jsxs)(i().N,{debugName:"FindAndReplace",capture:!0,onShiftEnter:()=>Fe({location:"previous"}),onUp:()=>Fe({location:"previous"}),onDown:()=>Fe({location:"next"}),onGroup:e=>{e.preventDefault&&e.preventDefault(),Fe({location:"next"})},onUngroup:e=>{e.preventDefault&&e.preventDefault(),Fe({location:"previous"})},onEsc:()=>ke(),onCommandJ:()=>null==me?void 0:me(),onCommandEnter:()=>null==me?void 0:me(w),onSearch:e=>Re(e),onToggleInPageFindReplace:()=>{!xe||Ee||0===w.length&&!k||w.length>0&&0===se&&!k||ye()},children:[(0,we.jsx)(y().A,{value:h.current??w,onChange:e=>{const t=e.target.value;if(h.current=t.length>0?t:void 0,Ce.cancel(),h.current&&h.current.length>0)return Ce(h.current),void C(0);J().Ay.update((e=>({...e,findQuery:""}))),J().wb.setState(void 0)},format:"transparent",placeholder:b.formatMessage(Be.inputPlaceHolder),selectAll:!0,focus:B,onFocus:()=>{J().Ay.state.focused||J().Ay.update((e=>({...e,focused:!0})))},focusInitial:!0,onSubmit:()=>Fe({location:"next"}),inputStyle:{...Ve.input,...Ve.findInput},style:Ve.inputContainer,ref:S},"find-input-element"),0===se?(0,we.jsx)(Ie,{hasQuery:w.length>0,isQnaEnabled:ge,onClick:()=>null==me?void 0:me(w),isShowingReplaceInput:k}):(0,we.jsxs)(we.Fragment,{children:[(0,we.jsx)(Pe,{currentSelectionIndex:g,numberOfMatches:se}),(0,we.jsx)(Te,{jumpToBlockFn:Fe,numberOfMatches:se,isShowingReplaceInput:k,onReplaceIconClick:()=>{Ee||ye()},hasFindQuery:w.length>0,isPageLocked:Ee})]}),(0,we.jsx)(je,{onClick:()=>ve().V({clearQuery:!1}),icon:A().xMarkSmallIcon,shortcut:"esc",caption:Be.close,active:!1})]})})}),(0,we.jsx)(Me,{currentSelectedMatchIndex:g,findInput:w,replaceInput:F,setReplaceInput:v,highlightMatches:ce,shouldShow:k,editorViewEditorModeMap:he,pageDetails:{activePageDetails:t,secondaryPageDetails:o}})]})}function Me(e){const{findInput:t,replaceInput:o,setReplaceInput:n,highlightMatches:u,currentSelectedMatchIndex:r,shouldShow:i,editorViewEditorModeMap:a,pageDetails:{activePageDetails:l,secondaryPageDetails:p}}=e,f=(0,T().tz)(),m=(0,D().v3)(),v=t===o,S=-1!==r?u[r]:void 0,_=(0,c().K8)((()=>{if(0===t.length||v||!S)return!1;const e=S.view===l.view?l.store:(null==p?void 0:p.store)??void 0;return(0,Z().M5)({environment:m,match:S,pageStore:e})}),[l.store,l.view,S,m,t.length,v,p]),x=(0,s().IS)((()=>({divider:{height:1,backgroundColor:j().Tj.background.tertiaryTranslucent},replaceButton:{fontSize:13,display:"flex",borderRadius:8,height:void 0,paddingTop:7,paddingBottom:7},replaceAll:{fontWeight:R().Wy.regular,color:j().Tj.text.secondary},replaceInputContainer:{display:"flex",padding:10,flexDirection:"column",alignItems:"flex-end",gap:3},inputContainer:{boxShadow:"none",border:"none",outline:"none",flexGrow:1},input:{fontSize:14}})),[]),{value:b}=(0,d().fJ)(g().fM);if(!b)return null;const{AnimatePresence:B,motion:A}=b;return(0,we.jsx)(B,{children:i?(0,we.jsxs)(A.div,{initial:{height:0},animate:{height:"auto"},exit:{height:0},style:{overflowY:"hidden"},transition:{duration:.1},children:[(0,we.jsx)("div",{style:x.divider}),(0,we.jsxs)("div",{style:x.replaceInputContainer,children:[(0,we.jsx)(y().A,{value:o,onChange:e=>{n(e.target.value)},format:"transparent",placeholder:f.formatMessage(Be.replaceInputPlaceHolder),inputStyle:x.input,style:x.inputContainer,focusInitial:!0,onSubmit:()=>{_&&S&&Ee({matches:[S],environment:m,replace:o,find:t,intl:f,editorViewEditorModeMap:a,pageDetails:e.pageDetails})}},"replace-input-element"),(0,we.jsxs)(C().fI,{gap:4,children:[(0,we.jsx)(h().p,{onClick:()=>Ee({matches:u,environment:m,replace:o,find:t,intl:f,editorViewEditorModeMap:a,pageDetails:e.pageDetails}),style:{...x.replaceButton,...x.replaceAll},disabled:0===t.length||v,...0===t.length||v?{colorVariant:"tertiary"}:{},children:f.formatMessage(Be.replaceAll)}),(0,we.jsx)(E().A,{colorPalette:"blue",onClick:()=>{S&&Ee({matches:[S],environment:m,replace:o,find:t,intl:f,editorViewEditorModeMap:a,pageDetails:e.pageDetails})},style:{...x.replaceButton,cursor:_?"pointer":"not-allowed"},disabled:!_,children:(0,we.jsxs)(C().fI,{gap:4,alignItems:"center",children:[f.formatMessage(Be.replace),(0,we.jsx)(F().I,{icon:w().arrowTurnDownLeftSmallIcon,size:"sm"})]})})]})]})]}):void 0})}function Ie(e){const{hasQuery:t,isQnaEnabled:o,onClick:n,isShowingReplaceInput:u}=e,r=(0,T().tz)(),i=(0,s().IS)((()=>({container:{fontSize:13,display:"flex",borderRadius:8,height:void 0,paddingTop:7,paddingBottom:7},notFound:{whiteSpace:"nowrap",fontSize:12,color:j().Tj.text.tertiary}})),[]);return t?(0,we.jsxs)(we.Fragment,{children:[(0,we.jsx)("span",{style:i.notFound,children:r.formatMessage(Be.noMatches)}),o&&!u?(0,we.jsx)(S().m,{placement:"bottom",originGap:18,renderTooltip:()=>(0,we.jsx)(G().A,{name:"commandEnter"}),allowHover:!1,render:e=>(0,we.jsx)(E().A,{colorPalette:"blue",style:i.container,...e,onClick:n,children:r.formatMessage(Be.askAi)})}):null]}):null}function Te(e){const{jumpToBlockFn:t,isShowingReplaceInput:o,onReplaceIconClick:n,isPageLocked:u}=e,r=(0,D().Y0)().isElectron;return(0,we.jsxs)(C().fI,{alignItems:"center",gap:2,children:[(0,we.jsx)(je,{active:!1,caption:Be.previousMatch,icon:B().arrowStraightUpSmallIcon,onClick:()=>t({location:"previous"}),shortcut:"shiftEnter"}),(0,we.jsx)(je,{active:!1,caption:Be.nextMatch,icon:b().arrowStraightDownSmallIcon,onClick:()=>t({location:"next"}),shortcut:"enter"}),(0,we.jsx)(je,{active:o,icon:x().o,onClick:n,caption:u?Be.lockedPage:Be.toggleReplace,shortcut:r?"toggleInPageFindReplace":void 0,disable:u})]})}function je(e){const{onClick:t,caption:o,icon:n,active:u,shortcut:r,disable:i}=e,a=(0,T().tz)(),l=(0,s().IS)((()=>({icon:{width:k().Ev.sm,height:k().Ev.sm,color:u?j().Tj.blue.icon.accentPrimary:j().Tj.icon.secondary},iconWrapper:{padding:3,width:void 0,height:void 0,cursor:i?"not-allowed":"pointer"},description:{color:j().Tj.text.inverseSecondary},hoveredBackground:{background:j().Tj[u?"blue":"gray"].background.secondaryTranslucent},active:{}})),[u,i]);return(0,we.jsx)(S().m,{placement:"bottom",originGap:18,renderTooltip:e=>(0,we.jsxs)("div",{...e,children:[(0,we.jsx)("div",{children:a.formatMessage(o)}),!i&&r?(0,we.jsx)("div",{style:l.description,children:(0,we.jsx)(G().A,{name:r})}):null]}),allowHover:!1,render:e=>(0,we.jsx)(v().A,{...e,icon:e=>n({...l.icon,...l.active}),ariaLabel:a.formatMessage(o),hoveredStyle:l.hoveredBackground,onClick:()=>t(),style:l.iconWrapper,disabled:i})})}function Pe(e){const{numberOfMatches:t,currentSelectionIndex:o}=e,n=(0,T().tz)(),u=(0,s().IS)((()=>({container:{fontSize:".8rem",color:j().Tj.text.tertiary,userSelect:"none",cursor:"default"}})),[]);return 0===t?null:(0,we.jsx)("div",{style:u.container,children:(0,we.jsxs)(C().fI,{gap:4,alignItems:"center",children:[(0,we.jsx)("span",{children:o+1}),n.formatMessage(Be.ofSpacer),(0,we.jsx)("span",{children:t})]})})}},922952:(e,t,o)=>{o.d(t,{u:()=>i});var n=()=>o(295633),u=()=>o(302996),r=()=>o(723085);function i(e){return e instanceof r().h||e instanceof u().SpaceStore||e instanceof n().B}},935432:(e,t,o)=>{o.d(t,{A:()=>i});var n=()=>o(416845),u=()=>o(357264),r=()=>o(788579);function i(e,t){if((0,n().pA8)(t)){const o=(0,r().$)(t.clientData);if(o)return"messageValues"in t.clientData?e.formatMessage(o,t.clientData.messageValues):e.formatMessage(o)}return e.formatMessage(u().k.generic_error)}},962753:(e,t,o)=>{o.d(t,{EH:()=>F,FO:()=>g,P$:()=>C,VA:()=>f,h0:()=>c,lM:()=>s,mq:()=>m});o(898992),o(581454),o(737550);var n=()=>o(907258),u=()=>o(242422),r=()=>o(763765),i=()=>o(613848),a=()=>o(496603),l=()=>o(534177),D=()=>o(822789);function c(e){const{currentUserRootStore:t}=n().default.state;if(!t)return!1;const o=t.getSpaceViewStores();return(0,a().oE)(null==o?void 0:o.map((e=>e.getSpaceId()))).map((t=>i().A.getData(e,{spaceId:t,userId:e.currentUser.id}))).some((e=>d(e)))}function s(e,t){return d(i().A.getData(e,{spaceId:t,userId:e.currentUser.id}))}function d(e){switch(null==e?void 0:e.membershipType){case void 0:case"none":case"page_guest":return!1;case"restricted_member":case"member":case"membership_admin":case"owner":return!0===e.is_sales_assisted;default:(0,l().HB)(e)}}function p(e,t){if(!t)return"control";if(s(e,t))return"control";const o=u().default.getEligibleGroup({experimentId:"ai_product_retention_simplified_input",defaultGroup:"control"});return"input"===o||"input_and_ask_mode"===o?o:"control"}function f(){switch(u().default.getEligibleGroup({experimentId:"ai_product_retention_agent_follow_ups",defaultGroup:"control"})){case"button_nudge":return["button","nudge"];case"button_control":return["button","default"];case"nudge":return["nudge"];default:return}}function m(e,t){const o=u().default.checkGate({gateName:"agent_deep_find"}),n=void 0!==t&&s(e,t),i=e.currentUser.id,a=!t||!i||r().t.USEWITHCAUTION_isFetchedForSpaceAndUserId({spaceId:t,userId:i}),l=o||!n&&a&&"on"===u().default.getEligibleGroup({experimentId:"ai_product_retention_deepfind",defaultGroup:"control"}),D=C(e,t);return{agentDeepFindEnabled:l,useReadOnlyMode:l&&D}}function g(e,t){if(t?(0,D().vp)(t):(0,D().hw)())return!0;return"control"!==p(e,t)}function C(e,t){return"input_and_ask_mode"===p(e,t)}function F(){return"on"===u().default.getEligibleGroup({experimentId:"ai_product_retention_agent_speculative_search",defaultGroup:"control"})}},966759:(e,t,o)=>{o.d(t,{i:()=>r});var n=()=>o(390650),u=()=>o(175213);function r(e){const{environment:t,collectionContextStore:o,property_type:r,from:i,property:a,...l}=e,D=(0,n().sl)(o)||{};(0,u().G)(t,{property:a,property_type:r,from:i,...l,...D})}}}]);