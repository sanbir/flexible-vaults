"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[14344,37125],{12956:(e,t,o)=>{o.d(t,{u:()=>h});o(296540);var n=()=>o(383036),i=()=>o(26697),s=()=>o(81068),r=()=>o(575143),a=()=>o(662971),u=()=>o(484714),c=()=>o(590526),l=()=>o(283163),d=()=>o(245720),D=()=>o(546926),m=()=>o(890492),p=()=>o(69708),g=()=>o(636714),f=o(474848);function v(e){const{context:t,extensionMenuParent:o,actionMenuListParent:n,popupEvents:i,displayName:s,width:r,initialFocus:a,subActions:v}=e,{isPhone:C}=(0,u().Y0)(),h=(0,D().Tf)();let S;S=C?h?{menuType:D().gu.Modal,onClickLeft:o.close,left:(0,f.jsx)(l().h,{}),enableMobileRefresh:h,paddingTop:10,title:(0,f.jsx)(p().sA,{...s}),...i}:{menuType:D().gu.Modal,right:(0,f.jsx)(p().sA,{...d().W.done}),onClickRight:o.close,...i}:{menuType:D().gu.Popup,width:r??220,...i};const x=(0,c().K8)((()=>v(t)),[t,v]);return(0,f.jsx)(m().A,{...S,children:(0,f.jsx)(g().A,{initialFocus:a??0,context:t,sections:x,onAccept:n.onAccept})})}var C=()=>o(267271);function h(e){const{key:t,displayName:o,displayNameInterpolatedValues:u,subTitle:c,analyticsName:l,validators:d,subActions:D,collapseSubActionsIntoParent:m,hideSubActions:p,svg:g,icon:h,right:S,rightStyle:x,renderTooltip:b,disableTooltip:F,tooltipPlacement:y,width:A,initialFocus:E,clientSkill:w,fuzzySearchKeywordsArray:B,disabled:k,bottomSheetInitialState:I}=e,j=(0,C().Ls)({clientSkill:w,key:`extension ${t}`,displayName:o,displayNameInterpolatedValues:u,analyticsName:l,validators:d,subActions:D,collapseSubActionsIntoParent:m,hideSubActions:p,fuzzySearchKeywordsArray:B,closeParentMenu:!0,disabled:k,action:()=>{},render:(t,u,l)=>(0,f.jsx)(i().m,{render:i=>{var d;const m=null===(d=e.disabled)||void 0===d?void 0:d.call(e,u);return(0,f.jsx)(a().A,{...t,disabled:m,disabledFeedback:m,renderOrigin:(e,t)=>{const o={...(0,n().A)(e,i),title:c?(0,f.jsx)(C().fh,{subTitle:c(u),children:j.displayName}):j.displayName,right:S,rightStyle:x};return g?(0,f.jsx)(r().A,{...o,svg:g,ref:t}):(0,f.jsx)(s().A,{...o,icon:h,ref:t})},onFocus:l.onFocus,renderExtension:(e,t)=>(0,f.jsx)(v,{context:u,extensionMenuParent:t,actionMenuListParent:l,popupEvents:e,displayName:o,width:A,initialFocus:E,subActions:D}),bottomSheetInitialState:I})},renderTooltip:()=>(0,f.jsx)("div",{style:C().FG,children:null==b?void 0:b({context:u,title:j.displayName})}),disableTooltip:!b||(null==F?void 0:F(u)),placement:y})});return j}},37142:(e,t,o)=>{o.d(t,{x:()=>i});o(296540);const n={viewBox:"0 0 16 16",fittedViewBox:"3.09 2.55 9.81 10.89",svg:(0,o(474848).jsx)("path",{d:"M11.762 3.338a2.657 2.657 0 0 0-3.758 0L4.172 7.17a3.673 3.673 0 0 0 5.195 5.195l3.353-3.353a.625.625 0 0 0-.884-.884L8.484 11.48a2.423 2.423 0 1 1-3.427-3.427l3.832-3.832a1.407 1.407 0 0 1 1.99 1.99l-3.832 3.832a.391.391 0 0 1-.553-.553L8.41 7.575a.625.625 0 1 0-.884-.884L5.61 8.607a1.641 1.641 0 1 0 2.321 2.32l3.832-3.831a2.657 2.657 0 0 0 0-3.758"})},i=(0,o(340498).wt)("paperClipSmall",n,"small")},43371:e=>{e.exports=function(){return/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC68(?:\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|[\u2695\u2696\u2708]\uFE0F|\uD83D[\uDC66\uDC67]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708])\uFE0F|\uD83C[\uDFFB-\uDFFF])|\uD83E\uDDD1(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB-\uDFFE])|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83D\uDC69\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFC-\uDFFF])|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83C\uDFF3\uFE0F\u200D\u26A7|\uD83E\uDDD1(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDC3B\u200D\u2744|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F\u200D[\u2640\u2642]|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642])|\uD83C\uDFF4\u200D\u2620|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E-\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3C-\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDF])\u200D[\u2640\u2642])\uFE0F|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC08\u200D\u2B1B|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|[#\*0-9]\uFE0F\u20E3|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDD77\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g}},53436:(e,t,o)=>{o.d(t,{E:()=>c});o(296540);var n=()=>o(59226),i=()=>o(401497),s=()=>o(100622),r=()=>o(209199),a=()=>o(993949),u=o(474848);function c(e){const{children:t,size:o="sm",...c}=e,l=(0,n().X)("editor_basic_rtl"),d=(0,i().IS)((()=>({wrapper:{display:"flex",alignItems:"center",gap:"lg"===o?2:void 0,background:s().Tj.background.elevated,boxShadow:s().Tj.shadowSM,borderRadius:6,width:"fit-content",padding:2}})),[o]);return(0,u.jsx)("div",{...c,dir:l&&(0,r().A1)()?"rtl":"ltr",style:d.wrapper,children:(0,u.jsx)(a().J.Provider,{value:{size:o},children:t})})}},62900:(e,t,o)=>{o.r(t),o.d(t,{arrowStraightLeftSmallIcon:()=>i,iconDefinition:()=>n});o(296540);const n={viewBox:"0 0 16 16",fittedViewBox:"2.12 3.05 11.76 9.9",directional:!0,svg:(0,o(474848).jsx)("path",{d:"M2.16 8.206q.046.13.148.236l4.32 4.32a.625.625 0 0 0 .884-.884L4.259 8.625h8.991a.625.625 0 1 0 0-1.25H4.259l3.253-3.253a.625.625 0 1 0-.884-.884l-4.32 4.32a.62.62 0 0 0-.148.648"})},i=(0,o(340498).wt)("arrowStraightLeftSmall",n,"small")},77126:(e,t,o)=>{o.d(t,{j:()=>i});class n extends(()=>o(959180))().A{}const i=new n},79075:(e,t,o)=>{o.d(t,{A:()=>r});var n=o(296540),i=()=>o(738471),s=o(474848);function r(e){const{url:t,imageNaturalHeight:o,imageNaturalWidth:r}=e,u=(0,n.useMemo)((()=>({display:"block",width:`min(${r}px, 100%)`,height:`min(${o}px, 100%)`,pointerEvents:"auto",objectFit:"cover"})),[r,o]);return(0,s.jsx)("div",{style:a,children:(0,s.jsx)(i().A,{src:t,style:u,placeholderLoadedStyle:{display:"flex",justifyContent:"center",alignItems:"center"}})})}const a={alignSelf:"center",margin:"0 auto",position:"relative",height:"100%",width:"100%",overflow:"hidden"}},132533:(e,t,o)=>{o.d(t,{X:()=>a,l:()=>r});var n=o(296540),i=o(474848);const s={hoveredIndex:null,setHoveredIndex:()=>{}},r=(0,n.createContext)(s);function a(e){const{children:t}=e,[o,s]=(0,n.useState)(null),a=(0,n.useMemo)((()=>({hoveredIndex:o,setHoveredIndex:s})),[o]);return(0,i.jsx)(r.Provider,{value:a,children:t})}r.displayName="InboxNotificationHoverContext"},132855:(e,t,o)=>{o.r(t),o.d(t,{arrowInCircleUpFillIcon:()=>i,iconDefinition:()=>n});o(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"2.37 2.37 15.25 15.26",svg:(0,o(474848).jsx)("path",{d:"M10 17.625a7.625 7.625 0 1 0 0-15.25 7.625 7.625 0 0 0 0 15.25m3.042-8.07a.625.625 0 0 1-.884 0L10.625 8.02v5.466a.625.625 0 1 1-1.25 0V8.021L7.842 9.554a.625.625 0 1 1-.884-.883l2.6-2.6a.625.625 0 0 1 .884 0l2.6 2.6a.625.625 0 0 1 0 .883"})},i=(0,o(340498).wt)("arrowInCircleUpFill",n,"fill")},147294:(e,t,o)=>{o.d(t,{Ee:()=>g,J1:()=>d,oG:()=>D});o(296540);var n=()=>o(907258),i=()=>o(59226),s=()=>o(590526),r=()=>o(401497),a=()=>o(970236),u=()=>o(69708),c=o(474848);const l={define_variables_automation_action:{launchDateMs:17277408e5,expiryDateMs:1738368e6},passkey_setting:{launchDateMs:1729101727e3,expiryDateMs:1738432882e3},publish_site_settings_embed_page:{launchDateMs:1736208e6,expiryDateMs:1743984e6},generalized_recurrence_automations:{launchDateMs:17365536e5,expiryDateMs:17460576e5},ai_page_translation_topbar_more_action:{launchDateMs:1740451280830,expiryDateMs:17434656e5},verification:{launchDateMs:1740096e6,expiryDateMs:174375e7},notion_ai_workspace_settings:{launchDateMs:17424288e5,expiryDateMs:17550432e5},notion_mail_launch_modal:{launchDateMs:17446752e5,expiryDateMs:17525376e5},notion_mail_launch_modal_2:{launchDateMs:17446752e5,expiryDateMs:17578944e5},ui_doc_example:{launchDateMs:19249056e5,expiryDateMs:19249056e5},collection_property_permissions:{launchDateMs:17433792e5,expiryDateMs:17671392e5},salesforce_sync_unfurling_option:{launchDateMs:17443296e5,expiryDateMs:17538336e5},personal_home_sidebar_item:{launchDateMs:17470944e5,expiryDateMs:175392e7},collection_property_reminder:{launchDateMs:1751958e6,expiryDateMs:17552628e5},get_notified_onboarding_tooltip:{launchDateMs:17520228e5,expiryDateMs:17591904e5},conditional_color_feature:{launchDateMs:17537472e5,expiryDateMs:17563392e5},web_clipper_new_tab_settings:{launchDateMs:17471808e5,expiryDateMs:18149184e5},my_meetings:{launchDateMs:17578944e5,expiryDateMs:17657568e5},workspace_connections_tab:{launchDateMs:17578944e5,expiryDateMs:18149184e5},external_agents_tab:{launchDateMs:17578944e5,expiryDateMs:18149184e5},permissions_tab:{launchDateMs:17578944e5,expiryDateMs:18149184e5}};function d({style:e}){const t=(0,r().IS)((()=>({badge:{letterSpacing:0,whiteSpace:"nowrap",width:"fit-content",...e}})),[e]);return(0,c.jsx)(a().E,{color:"blue",style:t.badge,content:(0,c.jsx)(u().sA,{id:"newBadgeComponent.label",defaultMessage:"New"})})}function D(e){return(0,s().K8)((()=>{const{launchDateMs:t,expiryDateMs:o}=l[e],{currentUserSettingsStore:i}=n().default.state;if(i&&i.isReady()){var s;const e=null===(s=i.getSettings())||void 0===s?void 0:s.signup_time;if(e&&e>t)return!1}return Date.now()<=o}),[e])}function m({style:e,newBadgeKey:t}){return D(t)?(0,c.jsx)(d,{style:e}):null}function p({style:e,newBadgeKey:t}){return(0,i().X)(t)?(0,c.jsx)(d,{style:e}):null}function g(e){return e.didUserEngage?null:"feature_gate"===e.keyType?(0,c.jsx)(p,{...e}):(0,c.jsx)(m,{...e})}},173783:(e,t,o)=>{o.d(t,{A:()=>a});o(296540);var n=()=>o(807449),i=()=>o(888867),s=()=>o(497577),r=o(474848);function a(e){const t=(0,s().E)(e);return(0,r.jsx)("div",{style:t.iconContainer,children:(0,r.jsx)(n().I,{icon:i().s,size:t.icon.width,colorVariant:"secondary"})})}},175947:(e,t,o)=>{o.d(t,{$C:()=>s,Hi:()=>i,Qy:()=>r,Uu:()=>a,ek:()=>c,jq:()=>l,pz:()=>d});var n=()=>o(418135);const i=52,s=45,r=44,a=44,u=30;function c(e){return e?a:r}function l(e){return 2*c(e)}function d(e,t,o){return(e&&!t?(0,n().n$)(o):12)+u}},182034:(e,t,o)=>{o.d(t,{O:()=>d,e:()=>l});o(898992),o(672577);var n=()=>o(908006),i=()=>o(961232),s=()=>o(878523),r=()=>o(892632),a=()=>o(299545),u=()=>o(77126),c=()=>o(260850);function l(e,t){const o=a().dd(t),n=r().xh(o);e.setState({...e.state,files:n})}async function d(e){const{blockStore:t,pageViewBlockStore:o,environment:r}=e;o?o.setState({...o.state,forceDiscussionOpen:!0}):i().A.openNewPageDiscussionInput(t),s().o2(r,{from:"page_comments"}),await n().default.afterNextFlush();const a=u().j.find((e=>e.getBlockStore().id===t.id)),l=null==a?void 0:a.getInputStore();l&&(0,c().z)({store:l.state.textStore})}},203901:(e,t,o)=>{o.d(t,{F:()=>i});o(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"3.37 1.37 13.26 16.26",svg:(0,o(474848).jsx)("path",{d:"M10.809 1.478a.625.625 0 0 0-.864.867l.08.099 1.942 1.932H10A6.625 6.625 0 1 0 16.625 11a.625.625 0 1 0-1.25 0A5.375 5.375 0 1 1 10 5.626h1.963L10.038 7.56l-.08.098a.626.626 0 0 0 .966.783l2.993-3.007.077-.096a.625.625 0 0 0-.08-.788l-3.007-2.993z"})},i=(0,o(340498).wt)("arrowCircleSpinClockwise",n,"default")},231536:(e,t,o)=>{o.d(t,{Y:()=>r,G:()=>s});var n=()=>o(534177);const i={clipboardActions:o(884107).R.clipboardActions,duplicationActions:o(855801).VI.duplicateActions,formulasModule:o(862292).T.formulas,markdownLinkifyIt:o(659602).g,tinyMceMicrosoftWordPasteFilter:o(335722).S};function s(...e){for(const t of e)i[t].load()}function r(e){const t=i[e].getLoadingState();if("idle"===t.status)s(e);else if("pending"===t.status||"rejected"===t.status);else{if("resolved"===t.status)return t.value;(0,n().HB)(t)}}},245720:(e,t,o)=>{o.d(t,{W:()=>n});const n=(0,o(69708).YK)({done:{id:"modal.doneButton",defaultMessage:"Done"},cancel:{id:"modal.cancelButton",defaultMessage:"Cancel"},back:{id:"modal.backButton",defaultMessage:"Back"}})},256863:(e,t,o)=>{o.d(t,{A:()=>r});o(296540);var n=()=>o(590526),i=()=>o(824862),s=o(474848);const r=function(e){const{botValue:t,botStore:r,showActiveDot:a,style:u,size:c}=e,l=(0,o(69708).tz)(),d=(0,n().K8)((()=>{if(r){const e=r.getIcon();if(e)return{pointer:{table:i().GP,id:r.id,spaceId:r.getSpaceId()},icon:e}}else if(null!=t&&t.icon)return{pointer:{table:i().GP,id:t.id,spaceId:t.space_id},icon:t.icon}}),[r,t]),D=(0,n().K8)((()=>(null==r?void 0:r.getDisplayName(l))??(0,o(799288).Hg)(t)),[r,t,l]),{activeDotStyle:m}=(0,o(401497).IS)((()=>({activeDotStyle:{height:10,width:10,backgroundColor:o(100622).Tj.palette.green[400],border:"2px solid white",borderRadius:"50%",position:"absolute",insetInlineStart:11,top:11}})),[]);return(0,s.jsxs)("div",{style:u,children:[(0,s.jsx)(o(187820).B6,{icon:d,title:D,size:c||18,disabled:!0,isEmptyPage:!1,useInvertedColors:!0}),a?(0,s.jsx)("div",{style:m}):void 0]})}},283163:(e,t,o)=>{o.d(t,{h:()=>r});o(296540);var n=()=>o(473541),i=()=>o(807449),s=o(474848);function r(){return(0,s.jsx)(i().I,{icon:n().w,size:"lg",colorVariant:"primary"})}},285176:(e,t,o)=>{o.d(t,{o:()=>c});o(296540);var n=()=>o(401497),i=()=>o(807449),s=()=>o(721479),r=()=>o(69708),a=()=>o(100622),u=o(474848);function c(e){const{href:t,style:o}=e,c=(0,n().IS)((()=>({default:{display:"flex",marginTop:7,marginBottom:7,alignItems:"center",cursor:"pointer",textDecoration:"none",pointerEvents:"auto",width:"fit-content",color:a().Tj.text.secondary,gap:4}})),[]);return(0,u.jsxs)("a",{href:t,target:"_blank",style:{...c.default,...o},children:[(0,u.jsx)(i().I,{icon:s().questionMarkCircleSmallIcon,size:"sm"}),(0,u.jsx)(r().sA,{id:"LearnMoreLink.learnMore",defaultMessage:"Learn more"})]})}},326496:(e,t,o)=>{o.d(t,{e:()=>s});var n=o(296540),i=o(474848);const s=(0,n.forwardRef)((function(e,t){const{children:s,relative:r,tooltip:a,tooltipPlacement:u="top",iconLeading:c,iconTrailing:l,...d}=e,{size:D}=(0,o(993949).M)(),m=(0,n.useMemo)((()=>c&&"sm"!==D?{size:"default",icon:c}:c),[c,D]),p=(0,n.useMemo)((()=>l&&"sm"!==D?{size:"default",icon:l}:l),[l,D]),g=(0,o(401497).IS)((()=>({button:{borderRadius:o(150161).VJ.xs,position:r?"relative":void 0}})),[r]),f=e=>(0,i.jsx)(o(631524).p,{ref:t,colorPalette:"gray",size:"sm",iconLeading:m,iconTrailing:p,external:!0,style:g.button,...(0,o(383036).A)(d,e),children:s?(0,i.jsx)(o(493552).D,{styleKey:"captionRegular",children:s}):void 0});return a?(0,i.jsx)(o(26697).m,{renderTooltip:()=>a,placement:u,alignment:"center",render:f}):f()}))},332751:(e,t,o)=>{o.d(t,{I:()=>s});var n=()=>o(170722),i=()=>o(369241);function s(){n().A.state.isActive&&(i().A.setState({...i().A.state,open:!1}),n().A.setState({...n().A.state,isActive:!1,isAnimatingClosed:!0}))}},369241:(e,t,o)=>{o.d(t,{A:()=>n});const n=new(o(118307).A)},403733:(e,t,o)=>{o.r(t),o.d(t,{arrowStraightDownSmallIcon:()=>i,iconDefinition:()=>n});o(296540);const n={viewBox:"0 0 16 16",fittedViewBox:"3.05 2.12 9.9 11.76",svg:(0,o(474848).jsx)("path",{d:"M8 2.125a.61.61 0 0 0-.625.599v9.017L4.122 8.488a.625.625 0 1 0-.884.884l4.32 4.32c.244.244.64.244.884 0l4.32-4.32a.625.625 0 0 0-.884-.884l-3.253 3.253V2.724A.61.61 0 0 0 8 2.125"})},i=(0,o(340498).wt)("arrowStraightDownSmall",n,"small")},404783:(e,t,o)=>{o.d(t,{A:()=>i});class n extends(()=>o(757695))().Store{constructor(e,t){super(),this.environment=void 0,this.spaceId=void 0,this.environment=e,this.spaceId=t,this.reset()}getInitialState(){if(!this.environment)return;const e=new(o(221844).A)({name:"DiscussionInputStore",isTemporaryData:!0});return{textStore:new(o(770063).pm)({environment:this.environment,pointer:(0,o(594794).zP)({environment:this.environment,table:o(343666).SN,spaceId:this.spaceId}),path:["text"],recordStoreOptions:{inMemoryRecordCache:e}}),localRecordCache:e,files:[],showAttachFileIntro:!1,renderFileAttachIntro:!1}}isEmpty(){const e=this.state.textStore.getValue();return!e||0===e.length}hasNewLineCharacter(){const e=this.state.textStore.getValue();return o(201980).q4_(e).includes("\n")}}const i=n},405981:(e,t,o)=>{o.d(t,{HR:()=>D,_y:()=>m});var n=()=>o(907258),i=()=>o(675133),s=()=>o(792057),r=()=>o(534177),a=()=>o(878523),u=()=>o(116008),c=()=>o(681634),l=()=>o(938045);const d=(0,o(69708).YK)({discardCommentConfirmationPrompt:{id:"newDiscussionMenu.discardCommentConfirmationDialog.prompt",defaultMessage:"Do you want to discard the comment?"},discardCommentButtonLabel:{id:"newDiscussionMenu.discardCommentConfirmationDialog.discardButton.label",defaultMessage:"Discard"},draftCommentConfirmationPromptTitle:{id:"newDiscussionMenu.draftCommentConfirmationDialogTitle.prompt",defaultMessage:"Finish your draft comment?"},draftCommentConfirmationStartingNewDescription:{id:"newDiscussionMenu.draftCommentConfirmationStartingNewDescription.prompt",defaultMessage:"You have a draft comment that will be lost if you start a new one"},draftCommentConfirmationNavigateAwayPromptDescription:{id:"newDiscussionMenu.draftCommentConfirmationNavigateAwayPromptDescription.prompt",defaultMessage:"You have a draft comment that will be lost if you leave the page"},returnToPageButtonLabel:{id:"newDiscussionMenu.discardCommentConfirmationDialog.returnToPage.label",defaultMessage:"Return to draft"}});function D(e){const{discussionInputStore:t,environment:o,discussionHelpers:n,reason:r}=e;u().A.isComposingNewDiscussion()?m({environment:o,reason:r??"navigating_away"}):n.hasCommentChanged(t)?(a().yO(o),s().ui({message:i().A.formatMessage(d.discardCommentConfirmationPrompt),showCancel:!0,handleCancel:()=>a().Ie(o),keepFocus:!0,items:[{label:i().A.formatMessage(d.discardCommentButtonLabel),color:"red",onAccept:()=>{a().QP(o),(0,c().c)()}}]})):(0,c().c)()}function m(e){const{environment:t}=e;if(!u().A.isDraftCommentOnValidSelection())return;const o=u().A.getDiscussionInputStore();a().yO(t),s().ui({message:i().A.formatMessage(d.draftCommentConfirmationPromptTitle),description:(()=>{switch(e.reason){case"starting_new":return i().A.formatMessage(d.draftCommentConfirmationStartingNewDescription);case"navigating_away":return i().A.formatMessage(d.draftCommentConfirmationNavigateAwayPromptDescription);default:(0,r().HB)(e.reason)}})(),keepFocus:!0,innerStyle:{textAlign:"center"},showCancel:!1,shouldRenderDraftCommentIcon:!0,items:[{label:i().A.formatMessage(d.returnToPageButtonLabel),buttonType:"solid",color:"blue",onAccept:()=>{(0,l().x)({currentBlockStore:n().default.state.mainEditorCurrentBlockStore,discussionInputStore:o,environment:t}),a().Ie(t)}},{label:i().A.formatMessage(d.discardCommentButtonLabel),color:"red",buttonType:"outline",onAccept:()=>{a().QP(t),(0,c().c)()}}]})}},412532:(e,t,o)=>{o.d(t,{l:()=>i});o(296540);const n={viewBox:"0 0 16 16",fittedViewBox:"2.03 2.29 11.93 10.46",svg:(0,o(474848).jsx)("path",{d:"M13.165 12.75a.8.8 0 0 0 .69-1.203L8.692 2.693a.8.8 0 0 0-1.382 0l-5.165 8.854a.8.8 0 0 0 .691 1.203z"})},i=(0,o(340498).wt)("arrowCaretUpFillSmall",n,"fillSmall")},418135:(e,t,o)=>{o.d(t,{n$:()=>a,rx:()=>r,yA:()=>u});var n=()=>o(496603);const i=.5,s=4.9,r=1;function a(e){switch(n().qE(n().LI(e,1),i,s)){case i:return 155;case.6:return 128;case.7:return 108;case.8:return 94;case.9:return 83;default:return 75}}function u(e){const t=n().qE(n().LI(e,1),i,s);switch(t){case i:return 273;case.6:return 228;case.7:return 195;case.8:return 171;case.9:return 151;case 1:return 136;case 1.1:return 123;case 1.2:return 113;case 1.3:return 105;case 1.4:return 97;case 1.5:return 91;case 1.6:return 85;default:return Math.max(85-Math.floor(10*(t-1.6)*5),0)}}},422164:(e,t,o)=>{o.d(t,{Jv:()=>p,Rl:()=>g,mA:()=>m});var n=o(296540),i=()=>o(726637),s=()=>o(590526),r=()=>o(401497),a=()=>o(898244),u=()=>o(852424),c=o(474848);const l=function(){return(0,c.jsx)(o(970236).E,{color:"purple",style:{padding:"1px 4px",display:"inline-flex",flexDirection:"row",alignItems:"center",gap:4,marginTop:1},content:(0,c.jsx)(o(69708).sA,{defaultMessage:"AI",id:"database.property.aiAutofillEnabledIndicator"})})};var d=()=>o(68465),D=()=>o(159588);const m=n.memo((function(e){const{badge:t,className:n,dragHandleStyle:s,hideName:a,iconSize:u,iconStyle:l,labelSizeVariant:d,propertySchema:m,showDragIcon:p,showIcon:f,style:v,textRef:C}=e,h=(0,r().IS)((()=>({container:{display:"flex",alignItems:"center",lineHeight:"120%",minWidth:0,fontSize:i().A.isMobile?16:14,gap:"small"===d?2:6,...v},iconWrapper:{display:"grid",justifyContent:"center",alignItems:"center",position:e.showIntegrationIconOverlay?"relative":void 0,...l},dragHandle:{gridColumn:1,gridRow:1,opacity:p?1:0,transition:`opacity ${D().bM}`},itemIcon:{gridColumn:1,gridRow:1,opacity:p?0:1,transition:`opacity ${D().bM}`},integrationIconOverlay:{position:"absolute",bottom:0,insetInlineStart:8,width:12,height:12,borderRadius:12,background:"transparent",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1}})),[l,d,p,v,e.showIntegrationIconOverlay]);return(0,c.jsxs)("div",{className:n,style:h.container,children:[f?(0,c.jsxs)("div",{style:h.iconWrapper,children:[(0,c.jsx)("div",{style:h.itemIcon,children:(0,c.jsx)(g,{propertySchema:m,iconSize:u,iconStyle:l})}),e.showIntegrationIconOverlay?(0,c.jsx)("div",{style:h.integrationIconOverlay,children:e.showIntegrationIconOverlay}):void 0,(0,c.jsx)("div",{style:h.dragHandle,children:(0,c.jsx)(o(148860).t,{wrapperStyle:s})})]}):void 0,a?void 0:(0,c.jsx)("div",{ref:C,style:o(284371).RC,children:m.name}),t]})}));function p(e){const{propertySchema:t}=e;return(0,s().K8)((()=>(0,d().O0)()&&a().$M(t)&&a().om(t)),[t])?(0,c.jsx)(l,{}):null}function g(e){const{propertySchema:t,iconSize:o,iconStyle:n}=e,s=(0,r().DP)(),a=i().A.isMobile?18:16;return(0,c.jsx)(u().zB,{type:t.type,icon:t.icon,size:o||a,theme:s,style:n})}},427636:(e,t,o)=>{o.d(t,{A:()=>s});o(296540);var n=()=>o(100622),i=o(474848);const s=function(e){const{botStore:t,avatarSize:s,shouldShowBadge:r,style:a,inline:u}=e,c=(0,o(69708).tz)(),l=(0,o(484714).Y0)(),d=(0,o(590526).K8)((()=>null==t?void 0:t.getDisplayName(c)),[t,c]),{outerStyle:D,avatarWrapStyle:m,badgeStyle:p}=(0,o(401497).IS)((()=>({outerStyle:{display:"flex",alignItems:"center",minWidth:0,...a},avatarWrapStyle:u?{width:"none",minHeight:"none",marginInlineEnd:6}:{marginInlineEnd:6},badgeStyle:{padding:"2px 6px",borderRadius:4,color:n().Tj.text.secondary,background:n().Tj.legacyDefaultSelectColor,fontSize:o(726637).A.isMobile?11:9,lineHeight:l.isAndroid?1.5:1,textTransform:"uppercase",letterSpacing:"0.04em",marginInlineStart:8,marginTop:1}})),[a,u,l]);return(0,i.jsxs)("div",{style:D,children:[(0,i.jsx)("div",{style:m,children:(0,i.jsx)(o(256863).A,{botStore:t,size:s})}),(0,i.jsx)("div",{style:{...o(284371).RC},children:d}),r?(0,i.jsx)("div",{style:p,children:"Bot"}):void 0]})}},441467:(e,t,o)=>{o.d(t,{DZ:()=>N,Ek:()=>H,hN:()=>K,i5:()=>V,of:()=>U});o(944114),o(517642),o(658004),o(733853),o(845876),o(432475),o(515024),o(731698),o(898992),o(354520),o(672577),o(803949);var n=()=>o(779315),i=()=>o(675133),s=()=>o(489295),r=()=>o(295633),a=()=>o(86159),u=()=>o(292985),c=()=>o(700500),l=()=>o(179034),d=()=>o(197959),D=()=>o(161479),m=()=>o(798880),p=()=>o(201980),g=()=>o(878523),f=()=>o(182641),v=()=>o(383594),C=()=>o(384944),h=()=>o(332751),S=()=>o(538527),x=()=>o(892632),b=()=>o(594794),F=()=>o(299545),y=()=>o(486666),A=()=>o(372154),E=()=>o(718957),w=()=>o(547149),B=()=>o(404783),k=()=>o(555776),I=()=>o(116008),j=()=>o(543225),M=()=>o(59320),_=()=>o(528787),L=()=>o(681634),T=()=>o(583824),R=()=>o(36088),P=()=>o(807060),z=()=>o(405981);const N=(0,o(69708).YK)({emojiPicker:{defaultMessage:"Reaction",id:"ReactionBar.emojiModalMenu.title"},emojiTitle:{id:"recordIcon.emojiTab.title",defaultMessage:"Emoji"}});function U(e){const{environment:t,blockStore:o,multiSelection:n,rect:s,formulasModule:r}=e;let u=s;if(!u){const e=a().get();if(!e)return;u=a().getRect(e)}if(!u)return;const c=u.width,l=u.height,d=u.right-c;I().A.setState({open:!0,rect:new DOMRect(d,u.top,c,l),type:"inline",content:"reaction",blockStore:o,blockId:o.id,multiSelection:n,emoji:void 0}),v().W(t,{originGap:4,originRect:u,popupWidth:y().jv,popupHeight:y().GF,isSmallWidth:!1,title:i().A.formatMessage(N.emojiPicker),currentTab:"emoji",onCancel:()=>I().A.reset(),tabs:[{type:"emoji",title:i().A.formatMessage(N.emojiTitle),hideRandomButton:!0,onChange:e=>{const o=I().A.state;o.open&&"reaction"===o.content&&(I().A.setState({...o,emoji:e}),V({environment:t,formulasModule:r}),v().I())}}]})}async function K(e){var t;const{environment:o,blockStore:i,multiSelection:s,rect:r,from:c,property_id:l}=e;if(I().A.hasContent())return void(0,z()._y)({environment:o,reason:"starting_new"});let d=r;if(!d){const e=a().get();if(!e)return;d=a().getRect(e)}if(!d)return;const m=d.width,p=d.height,f=d.right-m,v=new(B().A)(o,(0,D().e)(i.pointer.spaceId));I().A.setState({open:!0,rect:new DOMRect(f,d.top,m,p),type:"inline",content:"comment",blockStore:i,lastKnownBlockStore:i,blockId:i.id,multiSelection:s,lastEditables:(0,E().$W)(s),discussionInputStore:v,property_id:l,from:c}),(0,u().V)({element:null===(t=n().A.UpdateSidebarCommentScroller)||void 0===t?void 0:t.getNode(),environment:o,options:{top:0,behavior:"smooth"}}),k().A.setActiveWithSource("text_annotation"),h().I(),await(0,R().M)({discussionInputStore:v,environment:o}),g().z0(o,{from:c})}function V(e){const{environment:t,allowActionsWhileCommenting:o,skipOpeningDiscussion:n,formulasModule:i}=e,a=I().A.state;if(a.open){const e="comment"===a.content?a.property_id:void 0,u=I().A.getBlockStore()??I().A.getLastKnownBlockStore();if(I().A.hasContent()&&(!o||u))if("inline"===a.type)w().createAndCommit({userAction:"newDiscussionMenuActions.submitNewDiscussion",environment:t,canUndo:!0,perform:n=>{const i=function(e){const{environment:t,multiSelection:o,transaction:n,allowActionsWhileCommenting:i}=e,{id:a}=t.currentUser;if(!a)return;const u=i?I().A.getLastSelectedEditables():(0,E().$W)(o).filter((({store:e})=>e.table===l().ev));if(!u||0===u.length)return;const D=(0,s().zH)(u[0].store),m=(0,b().Z1)({environment:t,table:d().$Y,spaceId:D.pointer.spaceId}),g=[],f=new Set;u.forEach((({store:e,selection:o},i)=>{f.add(e.id);const a=(0,s().zH)(e);if(!(a instanceof r().B))return;const u=a.getType(),l=a.getFormat();if(u&&(0,c().pD)(u,l))return;let d=e.getValue();const D=p().xbM(d,o);S().Mw({environment:t,store:e,selection:D,annotation:[p().Ifu.Discussion,m],transaction:n}),d=e.getValue();const v=p().Ffo(d,D.startIndex,D.endIndex),C=0===i?[]:[p().Ey_("\n")];g.push(...C,...v)}));const v=(0,E().ZS)({multiSelection:o,filterCommonAncestors:!1,focus:void 0});if(v)for(const s of v.stores){if(f.has(s.id))continue;const e=s.getType(),t=s.getFormat();e&&(0,c().pD)(e,t)||(0,j().B)({blockStore:s,discussionId:m,transaction:n})}return{blockStore:D,context:g,discussionId:m}}({environment:t,multiSelection:a.multiSelection,transaction:n,allowActionsWhileCommenting:o});if(!i)return;const{context:D,blockStore:m,discussionId:f}=i;if("comment"===a.content){const i=a.discussionInputStore.state.textStore.getValue()||[],s=a.discussionInputStore.state.files,{discussionStore:r,commentStore:c}=(0,M().G)({createDiscussionArgs:{type:"default",context:D,property_id:e},blockStore:m,environment:t,transaction:n,commentTextValue:i,files:x().JC(s),discussionId:f});(0,j().B)({transaction:n,blockStore:m,discussionId:f});const{property_type:l,collection_id:d,collection_view_id:p,view_type:v,collection_view_block_id:C}=(0,P().q)(e,u);g().bJ(t,{discussion_id:r.id,discussion_type:r.getType(),comment_id:c.id,parent_block_id:r.getParentId(),from:I().A.state.open&&"comment"===I().A.state.content?I().A.state.from:void 0,property_id:e,property_type:l,collection_view_id:p,view_type:v,collection_id:d,collection_view_block_id:C}),o&&A().A.addNewDiscussionId(f)}else a.emoji&&O({context:D,blockStore:m,environment:t,transaction:n,icon:a.emoji,discussionId:f})},skipUpdatingEditedMetadata:!0});else if("block"===a.type)if("comment"===a.content){const n=a.discussionInputStore.state.textStore.getValue()||[],s=a.discussionInputStore.state.files;o?u&&w().createAndCommit({userAction:"newDiscussionMenuActions.submitNewDiscussion",environment:t,canUndo:!0,perform:o=>{(0,T().i)({environment:t,type:"default",blockStore:u,commentTextValue:n||[],files:s,transaction:o,property_id:e,formulasModule:i})},skipUpdatingEditedMetadata:!0}):w().createAndCommit({userAction:"newDiscussionMenuActions.submitNewDiscussion",environment:t,canUndo:!0,perform:o=>{(0,T().i)({environment:t,type:"default",blockStore:a.blockStore,commentTextValue:n||[],files:s,transaction:o,property_id:e,formulasModule:i})},skipUpdatingEditedMetadata:!0})}else{const e=t.currentUser.id,{emoji:o,blockStore:n}=a,i=F().O3(n,{recursivelyLoadAllDiscussions:!1}).find((e=>e.getReactions().length>0));o&&e&&w().createAndCommit({userAction:"newDiscussionMenuActions.submitNewDefaultDiscussion.addReaction",environment:t,canUndo:!0,perform:s=>{null!=i&&i.isDefined()?_().createReaction({environment:t,transaction:s,store:i,icon:o,currentActorPointer:{table:m().oo,id:e},discussionLocation:"block_menu"}):O({context:void 0,blockStore:n,environment:t,transaction:s,icon:o})},skipUpdatingEditedMetadata:!0})}(0,L().c)();const D=o?u&&u.getAssociatedCollectionStore():a.blockStore.getAssociatedCollectionStore();n||e||!D||f().B4({environment:t,blockStore:o?u??a.blockStore:a.blockStore,shouldFocusDiscussion:!0,analyticsFrom:"db_page_comments",rect:I().A.state.rect,recursivelyLoadAllDiscussions:!1})}}function O(e){const{context:t,blockStore:o,environment:n,transaction:i,icon:s}=e,r=e.discussionId??(0,b().Z1)({environment:n,table:d().$Y,spaceId:o.pointer.spaceId});if(void 0===n.currentUser.id)return;const a=C().vt({environment:n,table:"discussion",args:{type:"default",id:r,parent:o.pointer,context:t,space_id:(0,D().e)(o.pointer.spaceId)},inMemoryRecordCache:o.inMemoryRecordCache,transaction:i});(0,j().B)({transaction:i,blockStore:o,discussionId:a.id});const u={table:m().oo,id:n.currentUser.id};return _().createReaction({environment:n,transaction:i,store:a,icon:s,currentActorPointer:u,discussionLocation:"block_menu"}),a}function H(e){const{environment:t}=e;if(!t.currentUser.id)return;const o=I().A.getPropertyId();if(o){var n;const e=null===(n=I().A.getBlockStore())||void 0===n?void 0:n.getPropertyStore(o);if(e)return{blockStore:e,context:e.getValue()}}const i=I().A.getLastSelectedEditables();if(!i||0===i.length)return;const a=(0,s().zH)(i[0].store),u=[],l=new Set;return i.forEach((({store:e,selection:t},o)=>{l.add(e.id);const n=(0,s().zH)(e);if(!(n instanceof r().B))return;const i=n.getType(),a=n.getFormat();if(i&&(0,c().pD)(i,a))return;const d=e.getValue(),D=p().xbM(d,t),m=p().Ffo(d,D.startIndex,D.endIndex),g=0===o?[]:[p().Ey_("\n")];u.push(...g,...m)})),{blockStore:a,context:u}}},454503:(e,t,o)=>{o.r(t),o.d(t,{arrowUTurnUpLeftIcon:()=>i,iconDefinition:()=>n});o(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"2.12 3.72 15.76 12.16",directional:!0,svg:(0,o(474848).jsx)("path",{d:"M7.592 4.792a.625.625 0 1 0-.884-.884l-4.4 4.4a.625.625 0 0 0 0 .884l4.4 4.4a.625.625 0 1 0 .884-.884L4.259 9.375H14a2.625 2.625 0 0 1 0 5.25h-1.42a.625.625 0 1 0 0 1.25H14a3.875 3.875 0 0 0 0-7.75H4.259z"})},i=(0,o(340498).wt)("arrowUTurnUpLeft",n,"default")},473541:(e,t,o)=>{o.d(t,{w:()=>i});o(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"5.87 3.72 7.16 12.56",directional:!0,svg:(0,o(474848).jsx)("path",{d:"M6.131 9.381a.875.875 0 0 0 0 1.238l5.4 5.4a.875.875 0 1 0 1.238-1.238L7.987 10l4.782-4.781A.875.875 0 0 0 11.53 3.98z"})},i=(0,o(340498).wt)("arrowChevronSingleLeftFill",n,"fill")},497577:(e,t,o)=>{o.d(t,{E:()=>s});var n=()=>o(401497),i=()=>o(100622);function s(e){const{size:t,style:o}=e;return(0,n().IS)((()=>({icon:{width:.6*t,height:.6*t,fill:i().Tj.text.secondary},iconContainer:{width:t,height:t,borderRadius:"100%",background:i().Tj.border.secondaryTranslucent,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,...o}})),[t,o])}},515187:(e,t,o)=>{o.d(t,{w:()=>i});o(296540);const n={viewBox:"0 0 16 16",fittedViewBox:"3.17 0.97 9.66 14.06",svg:(0,o(474848).jsx)("path",{d:"M8.442 1.158a.625.625 0 0 0-.884 0l-4.2 4.2a.625.625 0 0 0 .884.884L8 2.484l3.758 3.758a.625.625 0 0 0 .884-.884L8.445 1.16zm4.2 8.6a.625.625 0 0 0-.884 0L8 13.516 4.242 9.758a.625.625 0 1 0-.884.884l4.2 4.2c.244.244.64.244.884 0l.005-.005 4.195-4.195a.625.625 0 0 0 0-.884"})},i=(0,o(340498).wt)("arrowChevronDoubleUpAndDownSmall",n,"small")},521855:(e,t,o)=>{o.d(t,{B:()=>f});var n=o(296540),i=()=>o(404694),s=()=>o(907258),r=()=>o(484714),a=()=>o(590526),u=()=>o(734762),c=()=>o(148297),l=()=>o(541235),d=()=>o(564884);const D=new Map;var m=()=>o(611947),p=()=>o(646355),g=o(474848);function f({tutorialId:e,tutorialStepId:t,onPrimaryButtonClick:o,displayStore:f,calloutId:v,enableTracking:C=!1,...h}){const S=(0,r().v3)(),x=function(e){const t=!D.get(e),o=(0,n.useRef)(t);return o.current&&D.set(e,!0),(0,n.useEffect)((()=>()=>{o.current&&D.set(e,!1)}),[e]),o.current}(`${e}.${t}`),b=(0,i().V)(),{currentStep:F,isLoading:y}=(0,a().K8)((()=>{var t;return{isLoading:!(null!==(t=s().default.state.currentUserSettingsStore)&&void 0!==t&&t.getSettings()),currentStep:(0,p().gt)(s().default.state.currentUserSettingsStore,e)}}),[e]);if((0,n.useEffect)((()=>{y||F!==t||!x?null==f||f.setState(!1):null==f||f.setState(!0)}),[y,F,t,x,f]),y||F!==t||!x)return null;const A=l().c$[e],E=A.steps.findIndex((e=>e.id===t)),w=A.steps.length,B=o=>{C&&function(e,t){(0,d().u)({environment:e,event:{eventName:"tutorial_tooltip_action",eventProperties:t}})}(S,{step:E+1,total_steps:w,tutorial_id:e,tutorial_step_id:t,action_type:o})},k=(0,g.jsx)(c().k,{onCloseClick:()=>{m().dismissTutorial(S,e),B("dismiss")},onPrimaryButtonClick:t=>{m().tutorialGoToNextStep(S,e),null==o||o(t),B("next")},onBackButtonClick:()=>{m().tutorialGoToPrevStep(S,e),B("back")},numSteps:w,currStepIndex:E,...h});return v?(0,g.jsx)(u().B,{calloutId:v,shouldShow:!0,inAppCalloutStore:b,children:k}):k}},526278:(e,t,o)=>{o.r(t),o.d(t,{arrowStraightLeftIcon:()=>i,iconDefinition:()=>n});o(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"2.37 3.97 15.26 12.06",directional:!0,svg:(0,o(474848).jsx)("path",{d:"M2.411 9.79a.6.6 0 0 1 .147-.232l5.4-5.4a.625.625 0 1 1 .884.884L4.509 9.375H17a.625.625 0 1 1 0 1.25H4.509l4.333 4.333a.625.625 0 1 1-.884.884l-5.4-5.4a.62.62 0 0 1-.147-.651"})},i=(0,o(340498).wt)("arrowStraightLeft",n,"default")},528787:(e,t,o)=>{o.r(t),o.d(t,{createReaction:()=>b,toggleReaction:()=>x});o(898992),o(354520),o(672577),o(581454),o(737550);var n=()=>o(770063),i=()=>o(97879),s=()=>o(785082),r=()=>o(343666),a=()=>o(197959),u=()=>o(204384),c=()=>o(161479),l=()=>o(798880),d=()=>o(534177),D=()=>o(878523),m=()=>o(722101),p=()=>o(384944),g=()=>o(279922),f=()=>o(594794),v=()=>o(547149),C=()=>o(741817),h=()=>o(725332),S=()=>o(807060);function x(e){const{discussionLocation:t,environment:o,transaction:r,store:m,icon:p}=e,f=function({store:e,icon:t}){const o=(0,n().G_)(e,e.pointer,"reactions").getValue();if(void 0===o)return;return o.map((t=>{const o=i().L.createChildStore(e,{table:u().ez,id:t,spaceId:(0,c().e)(e.pointer.spaceId)});if(o.isDefined())return o})).filter(d().O9).find((e=>e.getIcon()===t))}({store:m,icon:p});if(void 0===o.currentUser.id)return;const S={table:l().oo,id:o.currentUser.id};return null!=f&&f.isDefined()?function({store:e,actorPointer:t,transaction:o,environment:n,discussionLocation:r}){var u;const c={store:e,actorPointer:t,transaction:o,environment:n,discussionLocation:r},l=e.getParentStore(),d=(null==l?void 0:l.table)===a().$Y?l:null==l?void 0:l.getParentStore(),m=(null===(u=e.getActors())||void 0===u?void 0:u.some((e=>e.id===t.id)))??!1;d&&F(d,l)&&(0,h().U)({transaction:o,discussionStore:d});return m?(function(e){var t,o;const{store:n,actorPointer:r,discussionLocation:u,transaction:c,environment:l}=e;if(!n.isDefined())return;const d=n.getParentStore(),m=(null==d?void 0:d.table)===a().$Y?d:null==d?void 0:d.getParentStore(),p=s().eR.includes(u),f=null==m||null===(t=m.getParentStore())||void 0===t?void 0:t.getNavigableBlockStore(),h=i().L.getUserVisibleReactions(d),S=1===h.length&&1===n.getActors().length&&n.getActors()[0].id===l.currentUser.id;D().fq({environment:l,reaction_value:n.getIcon(),comment_id:n.getParentId(),discussion_id:null==m?void 0:m.id,discussion_type:null==m?void 0:m.getType(),parent_block_id:null==m?void 0:m.getParentId(),parent_collection_id:null==m||null===(o=m.getParentStore())||void 0===o?void 0:o.getParentCollectionIdUpToTwoLevels(),reaction_count:n.getActors().length??0,from:u,...p&&{inbox_session_id:g().Ay.state.sessionId,notification_page_id:null==f?void 0:f.id}});const x=n.getModel();v().applyOperation({transaction:c,store:n,operation:x.ops.removeActor(r)}),S&&d&&d.table===a().$Y&&(0,C().v)({environment:l,discussionStore:d,transaction:c})}(c),"Removed"):(function(e){var t,o;const{store:n,actorPointer:i,discussionLocation:r,transaction:u,environment:c}=e;if(!n.isDefined())return;const l=n.getParentStore(),d=(null==l?void 0:l.table)===a().$Y?l:null==l?void 0:l.getParentStore(),m=s().eR.includes(r),p=null==d||null===(t=d.getParentStore())||void 0===t?void 0:t.getNavigableBlockStore();D().MP({environment:c,reaction_value:n.getIcon(),comment_id:n.getParentId(),discussion_id:null==d?void 0:d.id,discussion_type:null==d?void 0:d.getType(),parent_block_id:null==d?void 0:d.getParentId(),parent_collection_id:null==d||null===(o=d.getParentStore())||void 0===o?void 0:o.getParentCollectionIdUpToTwoLevels(),reaction_count:n.getActors().length??0,from:r,...m&&{inbox_session_id:g().Ay.state.sessionId,notification_page_id:null==p?void 0:p.id}});const f=n.getModel();v().applyOperation({transaction:u,store:n,operation:f.ops.appendActor(i)})}(c),"Added")}({environment:o,store:f,actorPointer:S,transaction:r,discussionLocation:t}):(b({environment:o,transaction:r,store:m,icon:p,currentActorPointer:S,discussionLocation:t}),"Added")}function b({environment:e,transaction:t,store:o,icon:i,currentActorPointer:r,discussionLocation:l}){var d,v;const C=(0,f().JH)({environment:e,table:u().ez,spaceId:(0,c().e)(o.pointer.spaceId)}),x=o.table===a().$Y?o:o.getParentStore(),b=s().eR.includes(l),y=null==x||null===(d=x.getParentStore())||void 0===d?void 0:d.getNavigableBlockStore(),A=null==x?void 0:x.getPropertyId(),E=null==x?void 0:x.getParentStore(),{property_type:w,collection_id:B,collection_view_id:k,view_type:I,collection_view_block_id:j}=(0,S().q)(A,E);D().MP({environment:e,reaction_value:i,comment_id:o.id,discussion_id:null==x?void 0:x.id,discussion_type:null==x?void 0:x.getType(),parent_block_id:null==x?void 0:x.getParentId(),parent_collection_id:null==x||null===(v=x.getParentStore())||void 0===v?void 0:v.getParentCollectionIdUpToTwoLevels(),reaction_count:0,from:l,...b&&{inbox_session_id:g().Ay.state.sessionId,notification_page_id:null==y?void 0:y.id},property_type:w,collection_id:B,collection_view_id:k,view_type:I,collection_view_block_id:j});const M=p().vt({environment:e,table:C.table,args:{id:C.id,spaceId:C.spaceId,commentId:o.id,icon:i,actorPointer:r},inMemoryRecordCache:o.inMemoryRecordCache,transaction:t}),_=(0,n().G_)(o,o.pointer,"reactions");m().BC({parentStore:_,appendStore:M,transaction:t}),x&&F(x,o)&&(0,h().U)({transaction:t,discussionStore:x})}function F(e,t){var o;if(!e||!t||t.table!==r().SN)return!1;const n=null===(o=e.getUserSeenRecordStore())||void 0===o?void 0:o.getLastSeenAt();return!n||n<t.getCreatedTime()}},536612:(e,t,o)=>{o.d(t,{A:()=>i});class n extends(()=>o(959180))().A{}const i=new n},541235:(e,t,o)=>{o.d(t,{Ud:()=>r,YD:()=>s,c$:()=>n,q_:()=>i});const n={"sprints-onboarding":{steps:[{id:"current-sprint-view-tooltip"},{id:"sprint-task-tooltip"},{id:"complete-sprint-button-tooltip"}]},"enhanced-qna-onboarding":{steps:[{id:"find-in-tooltip"},{id:"mention-tooltip"}]},"jira-sync-onboarding":{steps:[{id:"all-projects-tooltip"},{id:"all-issues-tooltip"},{id:"database-views-and-filters-tooltip"},{id:"settings-to-setup-projects-and-issues"}]},"project-management-import-onboarding":{steps:[{id:"your-teamspace-tooltip"},{id:"all-projects-tooltip"},{id:"navigate-to-project-tasks-tooltip"},{id:"project-customization-tooltip"},{id:"related-tasks-database-views-tooltip"}]},"ai-comment-onboarding":{steps:[{id:"ai-comment-onboarding-tooltip"}]},database_onboarding:{steps:[{id:"database_onboarding_status_property_tooltip"},{id:"database_onboarding_add_property_tooltip"},{id:"database_onboarding_database_page_tooltip"},{id:"database_onboarding_board_view_tooltip"}]},"new-user-home-workspace-tour":{steps:[{id:"teamspaces"}]}},i="completed",s="dismissed";function r(e,t){return null==t?void 0:t[e]}},551619:(e,t,o)=>{o.d(t,{Hy:()=>B,NV:()=>E,O9:()=>I,Rg:()=>k,Sm:()=>M,f7:()=>j,n$:()=>_,no:()=>L,sx:()=>w});var n=()=>o(907258),i=()=>o(59226),s=()=>o(726637),r=()=>o(402014),a=()=>o(484714),u=()=>o(792485),c=()=>o(590526),l=()=>o(795732),d=()=>o(700500),D=()=>o(519831),m=()=>o(56987),p=()=>o(591197),g=()=>o(835066),f=()=>o(964345),v=()=>o(267584),C=()=>o(478726),h=()=>o(747100),S=()=>o(673477),x=()=>o(665579),b=()=>o(457419),F=()=>o(66496),y=()=>o(712505),A=()=>o(569427);function E(e){(0,r().SQ)(e,r().y$.EditorMouseDown,(()=>{}))}function w(e){(0,r().SQ)(e,r().y$.Click,(()=>{}))}function B(e){return(0,c().K8)((()=>Boolean(A().A.state.pageMap[e.id])||F().A.state.pages.has(e.id)),[e.id])}function k(e,t){const o=(0,a().v3)(),i=(0,u().S)(),s=B(e),r=(0,c().K8)((()=>{var o,i;return t===l().R.Frame?Boolean(null===(o=n().default.state.currentLoadingContainerStore)||void 0===o?void 0:o.state.ready):t===l().R.PeekView&&y().default.state.open?Boolean(null===(i=y().default.state.loadingContainerStore)||void 0===i?void 0:i.state.ready):t===l().R.CollectionPageView||t===l().R.CollectionPageViewFullScreen?e.isReady():void 0}),[t,e]),d=j(e);return(0,c().K8)((()=>{if(!r)return!1;const t=o.currentUser.isLoggedIn(),n=i&&i.publicEditModeStore.state;return Boolean(e&&e.isDefined()&&!(0,b().S)(e)&&e.canEdit()&&!e.hasContent()&&t&&(!(null!=n&&n.hasPublicPermission)||"edit"===(null==n?void 0:n.permission))&&!s&&!d)}),[o.currentUser,d,r,i,s,e])}function I(e,t){const o=(0,a().v3)(),n=(0,u().S)(),{isTablet:r}=(0,a().Y0)(),d=(0,i().X)("tablet_refresh_template_pills_gate");return(0,c().K8)((()=>{if(t===l().R.SitePreview)return!1;if(t===l().R.WorkflowInstructionsInInlineComposer)return!1;if(s().A.isMobile&&(!r||!d))return!1;if(!o.currentUser.isLoggedIn())return!1;const i=n&&n.publicEditModeStore.state;if(null!=i&&i.hasPublicPermission&&"edit"!==(null==i?void 0:i.permission))return!1;if(e.getContentLength()>1)return!1;if(!e.canEdit()||(0,b().S)(e))return!1;const a=e.getContentStores()[0];if(a&&!a.isEmptyTextBlock())return!1;if(e.getAssociatedCollectionStore())return!1;const u=f().gZ.state,c=f().Di.state;if(u&&e.id===c)return!1;return!((0,C().L5)(t)?p().VY.state:p().u3.state)}),[o,n,e,t,r,d])}function j(e){return(0,c().K8)((()=>{if(e.isCollectionView()){const t=e.getCollectionStoreIfSingleSource();return!!t&&t.isSyncedCollection()}return e.isType(d().xd.externalObjectInstancePage)}),[e])}function M(e){return(0,c().K8)((()=>{if(!(0,v().vL)())return!1;const t=e.getParentStore();if((null==t?void 0:t.table)===D().Vl){return!!t.getFormatStore().getKeyStore("external_collection_type").getValue()}return!1}),[e])}function _(e){const t=(0,a().v3)(),{device:o,WindowSizeStore:n}=t,i=(0,c().K8)((()=>{const e=n.state.height,o=s().A.isMobile&&S().Ay.state.open?e:0;return(0,m().C)(t)+o}),[t,n]);return(0,c().K8)((()=>"home-phone"===e?x().q3:o.isTablet?380:o.isIOS?Math.max(350,i):s().A.isMobile?400:"side-peek"===e||"center-peek"===e?h().ln:"home"===e?x().wH:"30vh"),[o,i,e])}function L(e){const t=(0,a().v3)(),o=(0,c().K8)((()=>(0,g().dC)(t,e)),[t,e]);return(0,c().K8)((()=>o&&!e.isFullWidth()?(0,g().Zy)(t,(0,h().cq)(e),(0,h().RX)(e)):0),[t,o,e])}},552736:(e,t,o)=>{function n(e){return e.scrollHeight-(e.scrollTop+e.clientHeight)}o.d(t,{W:()=>n})},563692:(e,t,o)=>{o.r(t),o.d(t,{iconDefinition:()=>n,xMarkFillSmallIcon:()=>i});o(296540);const n={viewBox:"0 0 16 16",fittedViewBox:"3.03 3.03 9.94 9.94",svg:(0,o(474848).jsx)("path",{d:"M12.73 4.33a.75.75 0 1 0-1.06-1.06L8 6.94 4.33 3.27a.75.75 0 1 0-1.06 1.06L6.94 8l-3.67 3.67a.75.75 0 1 0 1.06 1.06L8 9.06l3.67 3.67a.75.75 0 0 0 1.06-1.06L9.06 8z"})},i=(0,o(340498).wt)("xMarkFillSmall",n,"fillSmall")},569397:(e,t,o)=>{o.r(t),o.d(t,{arrowStraightRightSmallIcon:()=>i,iconDefinition:()=>n});o(296540);const n={viewBox:"0 0 16 16",fittedViewBox:"2.12 3.05 11.76 9.9",directional:!0,svg:(0,o(474848).jsx)("path",{d:"M9.372 3.238a.625.625 0 1 0-.884.884l3.253 3.253H2.75a.625.625 0 0 0 0 1.25h8.991l-3.253 3.253a.625.625 0 0 0 .884.884l4.32-4.32a.625.625 0 0 0 0-.884z"})},i=(0,o(340498).wt)("arrowStraightRightSmall",n,"small")},588047:(e,t,o)=>{o.d(t,{k:()=>i});o(296540);const n={viewBox:"0 0 16 16",fittedViewBox:"2.42 2.11 11.16 12.13",svg:(0,o(474848).jsx)("path",{d:"M8 2.115c-.854 0-1.569.554-1.824 1.315a3.96 3.96 0 0 0-2.138 3.518v.895c0 .655-.238 1.287-.669 1.78l-.616.704c-.75.858-.141 2.202 1 2.202H5.89a2.156 2.156 0 0 0 4.218 0h2.139c1.14 0 1.75-1.344.999-2.202l-.616-.704a2.7 2.7 0 0 1-.669-1.78v-.895A3.96 3.96 0 0 0 9.824 3.43 1.92 1.92 0 0 0 8 2.115m-.669 1.839A.68.68 0 0 1 8 3.365c.34 0 .623.253.669.589l.048.353.33.138a2.71 2.71 0 0 1 1.665 2.503v.895c0 .958.348 1.882.978 2.603l.616.704a.078.078 0 0 1-.058.129H3.752a.078.078 0 0 1-.058-.129l.616-.704c.63-.72.978-1.645.978-2.603v-.895c0-1.126.686-2.093 1.665-2.503l.33-.138zM8 13.084c-.394 0-.735-.226-.9-.555h1.8c-.165.33-.506.556-.9.556"})},i=(0,o(340498).wt)("bellSmall",n,"small")},589407:(e,t,o)=>{o.r(t),o.d(t,{ellipsisIcon:()=>i,iconDefinition:()=>n});o(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"2.62 8.62 14.76 2.76",svg:(0,o(474848).jsx)("path",{d:"M4 11.375a1.375 1.375 0 1 0 0-2.75 1.375 1.375 0 0 0 0 2.75m6 0a1.375 1.375 0 1 0 0-2.75 1.375 1.375 0 0 0 0 2.75m6 0a1.375 1.375 0 1 0 0-2.75 1.375 1.375 0 0 0 0 2.75"})},i=(0,o(340498).wt)("ellipsis",n,"default")},591197:(e,t,o)=>{o.d(t,{VY:()=>a,ZJ:()=>s,u3:()=>r});var n=()=>o(140934);class i extends(()=>o(757695))().Store{getInitialState(){return{popupRenderedInPage:!1,popupRenderedInPeekView:!1}}}const s=new i,r=new(n().ComputedStore)((()=>!1!==s.state.popupRenderedInPage),{debugName:"AssistantWriterRenderedInPageStore"}),a=new(n().ComputedStore)((()=>!1!==s.state.popupRenderedInPeekView),{debugName:"AssistantWriterRenderedInPeekViewStore"})},611947:(e,t,o)=>{o.r(t),o.d(t,{checkIsTutorialDone:()=>g,dismissTutorial:()=>l,resetTutorials:()=>d,tutorialAdvanceToStep:()=>D,tutorialAdvanceToStepAfter:()=>m,tutorialGoToNextStep:()=>u,tutorialGoToPrevStep:()=>c,tutorialGoToStep:()=>p});var n=()=>o(907258),i=()=>o(541235),s=()=>o(680977),r=()=>o(547149),a=()=>o(646355);function u(e,t,o){var i;const{currentUserSettingsStore:r}=n().default.state;if(!r)return;const u=null===(i=r.getSettings())||void 0===i?void 0:i.tutorials;o?(0,s().m)({userSettingsStore:r,transaction:o,data:{tutorials:{...u,[t]:(0,a().i9)(r,t)}}}):f({userAction:"TutorialActions.nextStep",environment:e,perform:e=>{(0,s().m)({userSettingsStore:r,transaction:e,data:{tutorials:{...u,[t]:(0,a().i9)(r,t)}}})},userId:r.id})}function c(e,t){var o;const{currentUserSettingsStore:i}=n().default.state;if(!i)return;const r=null===(o=i.getSettings())||void 0===o?void 0:o.tutorials;f({userAction:"TutorialActions.prevStep",environment:e,perform:e=>{(0,s().m)({userSettingsStore:i,transaction:e,data:{tutorials:{...r,[t]:(0,a().KD)(i,t)}}})},userId:i.id})}function l(e,t){var o;const{currentUserSettingsStore:r}=n().default.state;if(!r)return;const a=null===(o=r.getSettings())||void 0===o?void 0:o.tutorials;(null==a?void 0:a[t])!==i().YD&&f({userAction:"TutorialActions.dismissTutorial",environment:e,perform:e=>{(0,s().m)({userSettingsStore:r,transaction:e,data:{tutorials:{...a,[t]:i().YD}}})},userId:r.id})}function d(e){const{currentUserSettingsStore:t}=n().default.state;t&&f({userAction:"TutorialActions.resetTutorialsDebug",environment:e,perform:e=>{(0,s().m)({userSettingsStore:t,transaction:e,data:{tutorials:{}}})},userId:t.id})}function D(e,t,o){var r;const{currentUserSettingsStore:u}=n().default.state;if(!u||(0,a().x$)(u,t))return;const c=(0,a().gt)(u,t);i().c$[t].steps.findIndex((e=>e.id===c))>=i().c$[t].steps.findIndex((e=>e.id===o))||(0,s().m)({userSettingsStore:u,transaction:e,data:{tutorials:{...null===(r=u.getSettings())||void 0===r?void 0:r.tutorials,[t]:o}}})}function m(e,t,o){if((0,a().ll)(o))return;const n=(0,a().tb)(t,o);n&&D(e,t,n)}function p(e,t,o,i){var r;const{currentUserSettingsStore:a}=n().default.state;if(!a)return;const u=null===(r=a.getSettings())||void 0===r?void 0:r.tutorials;i?(0,s().m)({userSettingsStore:a,transaction:i,data:{tutorials:{...u,[t]:o}}}):f({userAction:"TutorialActions.nextStep",environment:e,perform:e=>{(0,s().m)({userSettingsStore:a,transaction:e,data:{tutorials:{...u,[t]:o}}})},userId:a.id})}function g(e){const{currentUserSettingsStore:t}=n().default.state;return!!t&&(0,a().x$)(t,e)}function f(e){return r().createAndCommit({...e,canUndo:!1})}},623275:(e,t,o)=>{o.d(t,{$D:()=>d,CJ:()=>p,CY:()=>C,Sg:()=>l,iM:()=>S,kJ:()=>g,kx:()=>v,qj:()=>h,rL:()=>a,sH:()=>f,u6:()=>u,zr:()=>D});var n=()=>o(726637),i=()=>o(278238),s=()=>o(100622),r=()=>o(115512);const a=16,u=20,c=10,l=12,d=456,D=24,m=24,p=48;function g(){return{background:s().Tj.background.tertiaryTranslucent,borderRadius:8,paddingTop:8,paddingBottom:8,paddingInlineStart:8,paddingInlineEnd:8,marginInlineStart:n().A.isMobile?0:a,marginInlineEnd:n().A.isMobile?0:a,marginTop:4,marginBottom:8}}function f(){return{...C(),width:"unset",height:p,paddingTop:6,paddingBottom:6,paddingInlineEnd:6}}function v(){return n().A.isMobile?r().Kw:r().vQ}function C(){return{borderRadius:c,transition:"background 150ms ease-out"}}function h({isMobile:e}){return e?12:10}function S({themeMode:e,colorOverride:t,size:o=m,useLargeBorderRadius:n,useLightBackgroundColor:r,icon:a}){return{background:t||(a&&(0,i().T8)(a)?(0,i().ez)({icon:a,mode:e,useLightGrayColor:r}):s().Tj.border.secondaryTranslucent),width:o,height:o,borderRadius:n?6:"0.25em"}}},636714:(e,t,o)=>{o.d(t,{A:()=>x});o(898992),o(354520),o(581454);var n=o(296540),i=()=>o(590526),s=()=>o(182412),r=()=>o(683021),a=()=>o(498521),u=()=>o(449279),c=()=>o(663639),l=()=>o(922931),d=()=>o(535393),D=()=>o(736847),m=()=>o(452004),p=()=>o(69708),g=()=>o(231536),f=()=>o(671894),v=o(474848);const C=25,h=200,S=o(757695).Store.createClass(C,{name:"limitStore"});function x({topBorder:e,context:t,onAccept:o,onFocus:x,empty:b,keyboardPriority:F,disableKeyboard:y,initialFocus:A,onEmptyEnter:E,comboboxProps:w,useLimit:B,onFilteredSectionsChange:k,filter:I,sections:j,menuListStore:M,resetInitialFocusOnSectionChangeAlways:_,resetFocusOnMouseOut:L,role:T,showNoResultsMessage:R,onFooterEnter:P,filterSections:z,flattenSectionsOnSearch:N,renderItemStyles:U,shouldShowBlockTypeTitle:K}){const V=(0,i().uB)(void 0,S),O=(0,i().uB)(M,m().$),[H,W,$]=(0,i().K8)((()=>{let e=0;const o=(0,f().js)({sections:I&&z?z:j,context:t,query:I||"",shouldShowBlockTypeTitle:K});for(const t of o)e+=t.actions.length;return[B?(0,f().Le)(o,V.state):o,e,o]}),[j,t,I,B,V,z,K]);(0,n.useEffect)((()=>{r().Ay.state.open&&r().rA.setState(0===$.length)}),[$]),(0,n.useEffect)((()=>{null==k||k(H)}),[k,H]);const Y=(0,n.useRef)(I),G=(0,n.useCallback)((e=>{e<h&&V.state<W&&V.setState(V.state+C)}),[V,W]),J=Boolean(N&&I),q=(0,n.useMemo)((()=>{const e=new Map;for(const t of $)if(t.key!==s().IZ)for(const o of t.actions)e.set(o.key,t.title);return e}),[$]),{menuItemActionMap:Q,menuItemSectionKeyMap:X,menuListSections:Z}=(0,n.useMemo)((()=>{const n=new Map,i=new Map,r=H.map((r=>{const a=r.key.toString();return{key:r.key,render:t=>r.render({...t,topBorder:!J&&(0!==t.index||Boolean(e)),title:r.title,hideTitle:J}),items:r.actions.map((e=>{e.lazyDependencyKeys&&(0,g().G)(...e.lazyDependencyKeys);const u={key:e.key,render:(n,i)=>{const u=r.key===s().IZ?q.get(e.key):r.title,c=J||r.key===s().IZ;return e.render(n,t,{onAccept:(e,t,n)=>{null==o||o(e,t,n,a)},onFocus:i.onFocus,sectionTitle:u,extendItemTitle:c,styles:U})},action:({event:o})=>{e.action(t,o)}};return n.set(u,e),i.set(u,a),u}))}}));return{menuItemActionMap:n,menuItemSectionKeyMap:i,menuListSections:r}}),[H,J,e,q,t,U,o]);(0,n.useEffect)((()=>{if(I!==Y.current&&0===A){Y.current=I;if(Boolean(P)&&0===d().i2(Z))return l().rd({store:O});O.setState({...O.state,focus:{section:0,indexLocal:0,indexGlobal:0,footerFocused:!1}})}}),[I,A,Z,O,P]);const ee=(0,n.useCallback)(((e,n)=>{if(o){const s=Q.get(e),r=X.get(e);if(s){var i;if(null!==(i=s.isDisabled)&&void 0!==i&&i.call(s,t))return;o(s,t,n.event,r,n.index)}}}),[o,t,Q,X]),te=(0,n.useCallback)((e=>{let o;var n;(e.indexLocal&&(o=d().SG(e.indexLocal,Z)),e.indexGlobal)&&(o=null===(n=d().e7(e.indexGlobal,Z))||void 0===n?void 0:n.item);if(!o)return;const i=Q.get(o),s=X.get(o);i&&(null==x||x(i,t,s))}),[Q,X,x,Z,t]);return(0,v.jsxs)(v.Fragment,{children:[Boolean(R)&&0===H.length?(0,v.jsx)(D().A,{children:(0,v.jsx)(u().u,{title:b||(0,v.jsx)(p().sA,{id:"action.search.noResults",defaultMessage:"No results"})})}):void 0,(0,v.jsx)(c().A,{type:c().O.Vertical,role:T,priority:F,store:O,disableKeyboard:y,sections:Z,initialFocus:A,onEmptyEnter:E,onAccept:ee,onFocus:te,comboboxProps:w,resetInitialFocusOnSectionChangeAlways:_,resetFocusOnMouseOut:L,onFooterEnter:P}),B?(0,v.jsx)(a().A,{onChange:G}):void 0]})}},646355:(e,t,o)=>{o.d(t,{KD:()=>u,gt:()=>c,i9:()=>a,ll:()=>s,tb:()=>r,x$:()=>i});o(18107),o(967357);var n=()=>o(541235);function i(e,t){return s(c(e,t))}function s(e){return void 0!==e&&(e===n().q_||e===n().YD)}function r(e,t){if(s(t))return;const o=n().c$[e],i=o.steps.findIndex((e=>e.id===t));return-1===i?o.steps[0].id:i===o.steps.length-1?n().q_:o.steps[i+1].id}function a(e,t){const o=c(e,t);if(o&&!s(o))return r(t,o)}function u(e,t){const o=c(e,t);if(o)return function(e,t){const o=n().c$[e];var i;if(s(t))return null===(i=o.steps.at(-1))||void 0===i?void 0:i.id;const r=o.steps.findIndex((e=>e.id===t));return-1!==r&&0!==r?o.steps[r-1].id:void 0}(t,o)}function c(e,t){var o;if(!e)return;const i=((null===(o=e.getSettings())||void 0===o?void 0:o.tutorials)||{})[t];return void 0===i?n().c$[t].steps[0].id:i}},662971:(e,t,o)=>{o.d(t,{A:()=>m});var n=o(296540),i=()=>o(30537);const s=function(){const[e,t]=n.useState({x:0,y:0});return n.useEffect((()=>{const e=e=>{t({x:e.clientX,y:e.clientY})};return window.addEventListener("mousemove",e),()=>{window.removeEventListener("mousemove",e)}}),[]),e};var r=o(474848);function a({x:e,mouseX:t}){return t>e?void 0:-Math.max(e-t,10)+"px"}function u({x:e,width:t,mouseX:o}){return o>e?-Math.max(o-(e+t),10)+"px":void 0}function c({x:e,width:t,mouseX:o}){return o>e?`${Math.max(o-(e+t),10)}px`:`${Math.max(e-o,10)}px`}function l({x:e,y:t,height:o,mouseX:n,mouseY:i}){return n>e?`polygon(0% 0%, 0% 100%, 100% ${100*(i-t)/o}%)`:`polygon(100% 0%, 0% ${100*(i-t)/o}%, 100% 100%)`}function d(e){const{x:t=0,y:o=0,height:i=0,width:d=0}=e.el.getBoundingClientRect()||{},{x:D,y:m}=s(),p={x:t,y:o,height:i,width:d,mouseX:D,mouseY:m},g=(0,n.useRef)(null),f=n.useCallback((e=>{if(g.current){g.current.style.pointerEvents="none";const t=document.elementFromPoint(e.clientX,e.clientY);if(g.current.style.pointerEvents="auto",t){const o=new MouseEvent(e.nativeEvent.type,e.nativeEvent);t.dispatchEvent(o)}}}),[]),v={insetInlineEnd:u(p),insetInlineStart:a(p),height:i,width:c(p),clipPath:l(p)};return(0,r.jsx)("div",{ref:g,onClick:f,style:{cursor:"pointer",position:"absolute",pointerEvents:"auto",top:0,...v}})}function D({onClick:e,renderOrigin:t,renderExtension:s,allowOptionalExtensionMenu:a,...u},c){const{disabled:l,disableDefaultClick:D,onFocus:m,focused:p,openOnFocus:g,placementToOrigin:f,alignmentToOrigin:v,disableCloseOnEnter:C,bottomSheetInitialState:h,popupTypeOverride:S}=u,x=(0,o(484714).WS)(),b=(0,o(546926).Tf)(),[F,y]=(0,n.useState)(!1),A=(0,n.useRef)(null),E=(0,n.useRef)(null),w=(0,n.useRef)(null),B=(0,n.useRef)(null),k=(0,n.useCallback)((()=>{w.current&&window.clearTimeout(w.current),B.current&&window.clearTimeout(B.current),w.current=null,B.current=null}),[]),I=(0,n.useCallback)((()=>{k(),l||y(!0)}),[l,k]),j=(0,n.useCallback)((()=>{k(),y(!1)}),[k]),M=(0,n.useCallback)((e=>{k(),F||(e&&e.preventDefault&&e.preventDefault(),w.current=window.setTimeout(I,120))}),[F,k,I]),_=(0,n.useCallback)((()=>{k(),F&&(B.current=window.setTimeout(j,100))}),[F,j,k]),L=(0,n.useCallback)((t=>{m(),I(),a&&(null==e||e(t),j())}),[m,I,a,e,j]),T=(0,n.useCallback)((()=>{M()}),[M]),R=(0,n.useCallback)((()=>{m(),M()}),[m,M]),P=(0,n.useCallback)((e=>{if(o(726637).A.isMobile)return;const t=A.current;F&&t&&!t.contains(e.target)&&j()}),[F,j]),z=(0,n.useCallback)((e=>{13===e.keyCode&&F&&!C&&j()}),[F,j,C]);(0,n.useEffect)((()=>{if(!Boolean(D))return window.addEventListener("click",P),()=>{window.removeEventListener("click",P)}}),[D,P]),(0,n.useEffect)((()=>(window.addEventListener("keydown",z),()=>{window.removeEventListener("keydown",z)})),[z]);const N=(0,n.useRef)(p);(0,n.useEffect)((()=>{g&&!N.current&&p?M():!p&&N.current&&_(),N.current=p}),[p,g,M,_]);const U=(0,o(401497).IS)((()=>({mobilePopupStyle:{borderRadius:12,backgroundColor:o(100622).Tj.background.secondary}})),[]),K={...(0,o(383036).A)({onMouseEnter:T,onClick:L},u),showExtensionArrow:!0};let V=i().n.Popup;return S?V=S:x&&(V=b?i().n.BottomSheet:i().n.SlideUp),(0,r.jsx)(o(782482).N,{debugName:"ExtensionMenuItem",capture:p,onEnter:F?void 0:M,onRight:M,onLeft:F?_:void 0,onEsc:F?_:void 0,children:(0,r.jsx)(o(127833).zD,{popupType:V,bottomSheetInitialState:h,open:F,origin:t(K,c),placementToOrigin:f??"right",alignmentToOrigin:v??"center",originGap:0,disableMouseCapture:!0,preventBlockRenderQueueOnEnter:!0,preventScaleTransition:!x,preventCaptureEsc:!0,ref:A,render:()=>(0,r.jsxs)(r.Fragment,{children:[!x&&E.current?(0,r.jsx)(d,{el:E.current}):null,(0,r.jsx)("div",{ref:E,style:{height:"100%"},children:s({onMouseEnter:R},{close:_})})]}),style:{overflow:"visible",...x&&U.mobilePopupStyle},trapFocus:!0,onDismiss:j})})}const m=n.forwardRef(D)},665579:(e,t,o)=>{o.d(t,{$L:()=>c,BZ:()=>D,EC:()=>f,EI:()=>b,E_:()=>B,Ed:()=>p,Fq:()=>h,Lu:()=>y,Mk:()=>g,O0:()=>w,V$:()=>E,VQ:()=>v,Xx:()=>F,Xy:()=>d,YS:()=>C,_g:()=>x,dd:()=>m,pW:()=>l,q3:()=>u,wH:()=>a,xK:()=>k});var n=()=>o(484714),i=()=>o(401497),s=()=>o(100622),r=()=>o(496603);const a=160,u=40,c=40,l=20,d=600,D=270,m=405,p=480,g=500,f=void 0,v=16,C=10,h=8,S={backdropFilter:"blur(48px)",WebkitBackdropFilter:"blur(48px)"},x=4;function b(){return{icon:s().Tj.icon.secondary,text:s().Tj.text.secondary}}function F(){return{width:48,height:48,fill:s().Tj.icon.tertiary}}function y({isPhone:e}){return e?s().Tj.personalHomeBackgroundPhone:s().Tj.background.primary}const A=1;function E({isPhone:e,themeMode:t}){return{zIndex:1,position:"relative",display:"flex",flexDirection:"column",borderRadius:12,background:s().Tj.home.tile.background,boxShadow:B({isPhone:e,themeMode:t}),...S}}function w({mode:e}){switch(e){case"dark":default:return 0;case"light":return A}}function B({isPhone:e,themeMode:t,borderOnly:o}){if("dark"===t)return"unset";const n=w({mode:t});return(0,r().oE)([o||e?void 0:"0 12px 32px rgba(0, 0, 0, 0.02)",`0 0 0 ${n}px rgba(0, 0, 0, 0.05)`]).join(", ")}function k(e){const{borderOnly:t}=e,o=(0,n().WS)(),r=(0,i().eP)();return{unhoveredBoxShadow:B({isPhone:o,themeMode:r,borderOnly:t}),hoveredBoxShadow:"light"===r?["0 12px 32px rgba(0, 0, 0, 0.03)","0 0 0 1px rgba(0, 0, 0, 0.085)"].join(", "):s().Tj.homeShadow.card.hovered}}},671894:(e,t,o)=>{o.d(t,{hS:()=>S,o2:()=>x,js:()=>C,Le:()=>h,F6:()=>b});o(944114),o(517642),o(658004),o(733853),o(845876),o(432475),o(515024),o(731698),o(898992),o(823215),o(354520),o(581454);var n=()=>o(675133),i=()=>o(69708),s=()=>o(778078),r=()=>o(496603),a=(o(296540),()=>o(736847)),u=()=>o(589407),c=()=>o(12956),l=o(474848);const d=(0,i().YK)({moreOptions:{id:"action.moreOptions",defaultMessage:"More options"}});var D=()=>o(431404),m=()=>o(680288),p=()=>o(129522);const g=25,f=5,v=(0,i().YK)({mixedBlocks:{id:"actionMenuHelpers.mixedBlocks.title",defaultMessage:"{count, plural, one {{count} block} other {{count} blocks}}"}});function C(e){const t=n().A.getIntl(),{sections:o,context:i,query:C,shouldShowBlockTypeTitle:h}=e;let S=C.trim().toLowerCase();S.startsWith("/")&&(S=S.slice(1));const F=x(o,i).map(((e,o)=>{let{actions:n,title:s}=e;const r=n.length-f;if(e.shouldShowMoreOptions&&r>1){const e=function(e){return(0,c().u)({key:"more options",displayName:d.moreOptions,analyticsName:d.moreOptions.defaultMessage,svg:u().ellipsisIcon,validators:[],subActions:()=>[{key:0,title:void 0,render:e=>(0,l.jsx)(a().A,{...e}),actions:e}]})}(n.slice(f));n=[...n.slice(0,f),e]}const g=i.blocks[0];if(g){const e=g.getType();if(h&&e&&0===o){const o=i.blocks.every((t=>t.getType()===e))?(0,D().Z)(e):v.mixedBlocks;if(o){var C;s=t.formatMessage(o,{count:i.blocks.length});const e=null===(C=p().K.findCollectionViewBlockFromStore(g))||void 0===C?void 0:C.collectionContextStore.getViewType();if(e){const t=m().to[e];t&&(s+=`  ${t}`)}}}}return{...e,actions:n,title:s}}));if(!S)return F;const y=function(e){return e.map((e=>({...e,actions:e.actions.map((t=>{const o=t.searchName||t.displayName||"",n=[o,e.searchTitle||e.title||"",o].join(" ");return{...t,searchName:n}}))})))}(function(e,t){const o=[];for(const n of e){const e={...n,actions:[]};for(const i of n.actions)if(b(i,t))if(i.subActions){const s=x(i.subActions(t),t);if(i.hideSubActions){e.actions.push(i);continue}if(i.collapseSubActionsIntoParent){for(const t of s)for(const o of t.actions)e.actions.push(o);continue}const r=s.map((e=>({...e,key:`${n.key} ${i.key} ${e.key}`,title:e.title||i.displayName,searchTitle:[i.searchName||i.displayName,e.searchTitle||e.title].filter(Boolean).join(" ")})));for(const e of r)o.push(e)}else e.actions.push(i);e.actions.length&&o.push(e)}return o}(o,i)),A=[],E=new Map;for(const n of y)for(const e of n.actions)E.set(e,n),A.push(e);const w=(0,s().Ay)(S,A,(e=>e.searchName||""),{minScore:g,getSortScore:e=>-e.score*(e.original.sortScoreMultiplier??1)}),B=new Set(w),k=A.filter((e=>Boolean(e.alwaysShowInSearch)&&!B.has(e))),I=k.filter((e=>"start"===e.alwaysShowInSearch)),j=k.filter((e=>"end"===e.alwaysShowInSearch)),M=r().$z([...I,...w,...j],(e=>{const t=E.get(e);if(t)return t.title})),_=[];for(const n of Object.keys(M)){const e=M[n],t=E.get(e[0]);t&&_.push({...t,actions:e})}return _}function h(e,t){if(!t)return e;let o=0;const n=[];for(const i of e){if(o>=t)break;const e=i.actions.slice(0,t-o);e.length>0&&(o+=e.length,n.push({...i,actions:e}))}return n}function S(e,t){const o=[];for(const n of e){const e=n.actions.filter(t);e.length>0&&o.push({...n,actions:e})}return o}function x(e,t){return S(e,(e=>b(e,t)))}function b(e,t){if(e.validators){return e.validators.every((e=>e(t)))}return!0}},691298:(e,t,o)=>{o.d(t,{A:()=>r});var n=o(296540),i=()=>o(232615),s=()=>o(206051);const r=function({shouldPreserveTextSelection:e,shouldPreserveBlockSelection:t,shouldRestoreSelection:r,onClearSelection:a}){const u=(0,o(484714).v3)(),c=(0,n.useRef)(e),l=(0,n.useRef)(""),d=(0,n.useRef)({selectionState:null,textSelectionState:null}),D=(0,n.useCallback)((()=>d.current),[]),m=(0,n.useCallback)((()=>{l.current=window.location.href,i().default.hasSelection()&&(d.current.textSelectionState=i().default.cloneState()),(0,o(755125).clear)({environment:u}),t&&(s().default.isSelected()&&(d.current.selectionState=s().default.cloneState()),(0,o(440024).I)({environment:u}))}),[u,t]),p=(0,n.useCallback)((()=>{d.current={selectionState:null,textSelectionState:null},l.current="",null==a||a()}),[a]),g=(0,n.useCallback)((()=>{const{selectionState:e,textSelectionState:o}=d.current;window.location.href===l.current&&(o&&"mode"in o&&"editing"===o.mode&&i().default.setState({...i().default.state,...o}),t&&e&&s().default.setState({...s().default.state,...e})),p()}),[p,t]);return(0,o(852507).l)((()=>{c.current=e,e&&m()})),(0,n.useEffect)((()=>(c.current&&!e?r?g():p():!c.current&&e&&m(),c.current=e,()=>{r?g():p()})),[e,p,g,m,r]),{clearSavedSelection:p,restoreSavedSelection:g,getSavedSelection:D}}},702340:(e,t,o)=>{o.r(t),o.d(t,{Comment:()=>it,CommentFileBlock:()=>Ro().A,Discussion:()=>Pt,DiscussionIndicator:()=>zt().Ay,DiscussionInput:()=>nt().V,DiscussionReactionBar:()=>we().tx,MOBILE_REACTION_PILL_STYLE_OVERRIDES:()=>we().ZR,MarginCommentsSection:()=>ho,NewDiscussionMenu:()=>ko,PropertyDiscussionIndicator:()=>Ht,REACTION_PILL_STYLE:()=>we().Of,ReactionBar:()=>we().Ay,ReplyDiscussionMenu:()=>Lo,SuggestionContext:()=>Lt,UnreadDiscussionsPopup:()=>Po().$,discussionHelpers:()=>z(),discussionViewActions:()=>n,handleDismissNewDiscussion:()=>wo().HR,reactionActions:()=>zo()});var n={};o.r(n),o.d(n,{isCommentUnread:()=>mt});o(898992),o(354520);var i=o(296540),s=()=>o(726637),r=()=>o(908006),a=()=>o(484714),u=()=>o(792485),c=()=>o(790748),l=()=>o(590526),d=()=>o(401497),D=()=>o(792057),m=()=>o(97879),p=()=>o(730240),g=()=>o(118307),f=()=>o(807449),v=()=>o(416783),C=()=>o(98126),h=()=>o(68263),S=()=>o(201980),x=()=>o(69708),b=()=>o(100622),F=()=>o(284371),y=()=>o(182641),A=()=>o(420441),E=()=>o(447587),w=()=>o(709438),B=()=>o(299545),k=()=>o(252833),I=()=>o(424746),j=()=>o(372154),M=()=>o(230062),_=()=>o(260850),L=()=>o(547149),T=()=>o(789557),R=()=>o(5774),P=()=>o(848565),z=()=>o(473975);function N(e){return e.isFirstComment&&"comment_unfurl"!==e.discussionLocation&&"feed_item_top_level_discussion"!==e.discussionLocation}var U=()=>o(143943),K=()=>o(404783),V=()=>o(555776),O=(o(944114),()=>o(664594)),H=()=>o(135168),W=()=>o(692031),$=()=>o(212497),Y=()=>o(470785),G=()=>o(298738),J=()=>o(882722),q=()=>o(250910),Q=()=>o(546926),X=()=>o(890492),Z=()=>o(81068),ee=()=>o(663639),te=()=>o(736847),oe=()=>o(584262),ne=()=>o(700500),ie=()=>o(488715),se=()=>o(203901),re=()=>o(526278),ae=()=>o(29037),ue=()=>o(589407),ce=()=>o(546703),le=()=>o(742852),de=()=>o(895189),De=()=>o(863522),me=()=>o(105819),pe=()=>o(236262),ge=()=>o(599813),fe=()=>o(798880),ve=()=>o(496603),Ce=()=>o(534177),he=()=>o(878523),Se=()=>o(53436),xe=()=>o(326496),be=()=>o(893497),Fe=()=>o(725332),ye=()=>o(672262);var Ae=()=>o(249349),Ee=()=>o(516430),we=()=>o(138873),Be=o(474848);const ke=(0,x().YK)({actionBar:{id:"comment.actions.bar.label",defaultMessage:"Comment actions"},addReaction:{id:"comment.actions.addReaction.label",defaultMessage:"Add reaction"},acceptButton:{id:"comment.actions.acceptButton.label",defaultMessage:"Accept"},rejectButton:{id:"comment.actions.rejectButton.label",defaultMessage:"Reject"},moreActions:{id:"comment.actions.moreActions.label",defaultMessage:"More actions"},reopenButton:{id:"comment.actions.reopenButton.label",defaultMessage:"Re-open"},resolveButton:{id:"comment.actions.resolveButton.label",defaultMessage:"Resolve"},markUnreadButton:{id:"comment.actions.markAsUnread.label",defaultMessage:"Mark as unread"},markReadButton:{id:"comment.actions.markAsRead.label",defaultMessage:"Mark as read"},mobileCommentMenuTitle:{id:"comment.mobileCommentMenu.title",defaultMessage:"Comment"},reopenDiscussionButton:{id:"comment.reopenDiscussion.button",defaultMessage:"Re-open discussion"},resolveDiscussionButton:{id:"comment.resolveDiscussion.button",defaultMessage:"Resolve comments"},editComment:{id:"comment.editCommentNoDescriptor.button",defaultMessage:"Edit"},deleteComment:{id:"comment.deleteCommentNoDescriptor.button",defaultMessage:"Delete"},copyLinkToDiscussion:{id:"comment.copyLinkToDiscussionNoDescriptor.button",defaultMessage:"Copy link"}});function Ie(e){const{discussionLocation:t,isFirstComment:o,blockStore:n,discussionStore:r,showMarkAsRead:c}=e,d=(0,x().tz)(),D=(0,a().v3)(),m=(0,i.useRef)(null),p=(0,u().S)(),g=(0,l().K8)((()=>Boolean(r.getResolved())),[r]),v=(0,l().K8)((()=>e.store.isDefined()),[e.store]),C=(0,O().T)(),S=(0,l().K8)((()=>{const t=e.store.getCreatedById();return e.store.getCreatedByTable()===fe().oo&&C===t}),[C,e.store]),b=(0,l().K8)((()=>{var e;const t=null===(e=(0,H().f)(n))||void 0===e?void 0:e.getRole();return t&&h().Km(t)}),[n]),F=(0,l().K8)((()=>n.getRole()),[n]),A=(0,l().K8)((()=>{var e;return null==p||null===(e=p.publicEditModeStore.state)||void 0===e?void 0:e.permission}),[null==p?void 0:p.publicEditModeStore]),{isFirstCommentOfSuggestionDiscussion:E,disableAccept:w}=(0,l().K8)((()=>{var t;const o="suggestion"===r.getType()&&r.getCommentPointers()[0].id===e.store.id,i=(null===(t=n.getNavigableBlockStore())||void 0===t?void 0:t.canEdit())??!1;return{isFirstCommentOfSuggestionDiscussion:o,disableAccept:o&&!i}}),[r,n,e.store]),B=(0,l().K8)((()=>n.pathIsDead()),[n]),k=(0,l().K8)((()=>N({isFirstComment:o,discussionLocation:t})),[o,t]),I=(0,Y().A)("(prefers-reduced-motion: reduce)"),j="comment_only"===F||"comment"===A,M=(0,i.useCallback)((()=>{L().createAndCommit({userAction:"Comment.markDiscussionRead",environment:D,canUndo:!0,perform:e=>(0,Fe().U)({transaction:e,discussionStore:r})}),he().Ry(D,{discussion_id:r.id,discussion_type:r.getType(),from:t,method:"action_group",parent_block_id:r.getParentId(),...he().A2({store:e.store,discussionStore:r,blockStore:n})})}),[D,r,t,e.store,n]),_=(0,i.useCallback)((()=>{L().createAndCommit({userAction:"Comment.markDiscussionUnread",environment:D,canUndo:!0,perform:e=>function(e){const{transaction:t,discussionStore:o}=e,n=o.userId;if(!n)return;const i=o.getUserSeenRecordStore(n);return L().applyOperation({store:i,operation:{pointer:i.pointer,path:[],command:"update",args:{user_id:n,space_id:i.pointer.spaceId,parent_id:o.id,parent_table:o.table,last_seen_at:ye().Xq}},transaction:t}),o}({transaction:e,discussionStore:r})}),I||y().F2(r.id),he().i3(D,{discussion_id:r.id,method:"action_group",discussion_type:r.getType(),from:t,parent_block_id:r.getParentId(),...he().A2({store:e.store,discussionStore:r,blockStore:n})})}),[D,I,r,e.store,n,t]);if(!v||!C)return null;const R=()=>{L().createAndCommit({userAction:"Comment.handleReopen",environment:D,canUndo:!0,perform:t=>{T().E3({environment:D,commentStore:e.store,discussionStore:r,transaction:t,discussionLocation:e.discussionLocation})}})},P=t=>{L().createAndCommit({userAction:"Comment.handleResolve",environment:D,canUndo:!0,perform:t=>{(0,Ae().j)({environment:D,commentStore:e.store,discussionStore:r,transaction:t,discussionLocation:e.discussionLocation})}}),y().UP(),null==t||t.stopPropagation()},z=async()=>{var o,n;const i=e.store.getParentStore();if(!i||null==i||!i.isDefined())return null;let r=i.getParentStore();if(null===(o=r)||void 0===o||!o.isDefined())return null;var a;r.getType()===ne().xd.tableRow&&(r=null===(a=r)||void 0===a?void 0:a.getParentBlockStore());if(null===(n=r)||void 0===n||!n.isDefined())return null;const u=(0,ie().Q)({model:r.getModel(),baseUrl:s().A.domainBaseUrl,getRecordModel:e.store.getRecordModel,discussionId:i.id,pageVisitSource:oe().y8.CopyLink});he().tG(D,{discussion_id:i.id,discussion_type:i.getType(),from:t,parent_block_id:i.getParentId(),...he().A2({store:e.store,discussionStore:i,blockStore:r})});const[c,l]=await Promise.all([(0,W().r)(),(0,$().jd)()]);l({environment:D,stringValue:u,copiedMessage:c.copiedLinkToClipboard})};if(!D.currentUser.isLoggedIn())return null;const U=F&&h().h9(F)||B;if(U)return null;const K=k&&!j&&!U,V=[];o&&!g&&(c?V.push("markDiscussionRead"):V.push("markDiscussionUnread")),!E&&S&&V.push("edit"),o&&V.push("copyLink"),E||!S&&!b||V.push("delete");const G=V.length>0;return G||K||e.canShowReactions?(0,Be.jsx)(q().A,{ref:m,popupType:s().A.isMobile?q().z.BottomSheet:q().z.Popup,bottomSheetInitialState:"half",buttonPopupStore:e.buttonPopupStore,placementToOrigin:"bottom",alignmentToOrigin:"end",stopClickPropagation:!0,suppressOriginContext:!0,renderOrigin:t=>(0,Be.jsxs)(je,{visible:e.visible,location:e.discussionLocation,children:[!E||w||g?void 0:(0,Be.jsx)(Me,{store:e.store,discussionStore:e.discussionStore,location:e.discussionLocation}),!E||g||j&&!S?void 0:(0,Be.jsx)(_e,{store:e.store,discussionStore:e.discussionStore,location:e.discussionLocation}),e.canShowReactions?(0,Be.jsx)(Le,{store:e.store,location:e.discussionLocation,onReact:e.handleReaction}):void 0,K&&!E?(0,Be.jsx)(Te,{resolved:g,onResolve:P,onReopen:R}):void 0,G?(0,Be.jsx)(xe().e,{...t,"aria-label":d.formatMessage(ke.moreActions),tooltip:d.formatMessage(ke.moreActions),iconLeading:ue().ellipsisIcon}):void 0]}),render:t=>{let o;o=s().A.isMobile?{menuType:Q().gu.Modal,title:(0,Be.jsx)(x().sA,{...ke.mobileCommentMenuTitle})}:{menuType:Q().gu.Popup};const n=V.map((t=>"reopen"===t?{key:"reopen",render:e=>(0,Be.jsx)(Z().A,{...e,icon:(0,Be.jsx)(f().I,{icon:re().arrowStraightLeftIcon}),title:(0,Be.jsx)(x().sA,{...ke.reopenDiscussionButton})}),action:R}:"resolve"===t?{key:"resolve",render:e=>(0,Be.jsx)(Z().A,{...e,icon:(0,Be.jsx)(f().I,{icon:ae().checkmarkIcon}),title:(0,Be.jsx)(x().sA,{...ke.resolveDiscussionButton})}),action:()=>P()}:"edit"===t?{key:"edit",render:e=>(0,Be.jsx)(Z().A,{...e,icon:(0,Be.jsx)(f().I,{icon:me().pencilLineIcon}),title:(0,Be.jsx)(x().sA,{...ke.editComment})}),action:e.handleEditComment}:"delete"===t?{key:"delete",render:e=>(0,Be.jsx)(Z().A,{...e,icon:(0,Be.jsx)(f().I,{icon:pe().trashIcon}),title:(0,Be.jsx)(x().sA,{...ke.deleteComment})}),action:e.handleDeleteComment}:"copyLink"===t?{key:"copyLink",render:e=>(0,Be.jsx)(Z().A,{...e,icon:(0,Be.jsx)(f().I,{icon:le().linkIcon}),title:(0,Be.jsx)(x().sA,{...ke.copyLinkToDiscussion})}),action:z}:"markDiscussionRead"===t?{key:"markDiscussionRead",render:e=>(0,Be.jsx)(Z().A,{...e,icon:(0,Be.jsx)(f().I,{icon:de().d}),title:(0,Be.jsx)(x().sA,{...ke.markReadButton})}),action:M}:"markDiscussionUnread"===t?{key:"markDiscussionUnread",render:e=>(0,Be.jsx)(Z().A,{...e,icon:(0,Be.jsx)(f().I,{icon:De().C}),title:(0,Be.jsx)(x().sA,{...ke.markUnreadButton})}),action:_}:void(0,Ce().HB)(t)));return(0,Be.jsx)("div",{className:J().Jb,children:(0,Be.jsx)(X().A,{...o,children:(0,Be.jsx)(ee().A,{type:ee().O.Vertical,initialFocus:void 0,onAccept:t.close,sections:ve().oE([n.length&&{key:0,render:e=>(0,Be.jsx)(te().A,{...e}),items:n}])})})})}}):null}function je(e){const{children:t,visible:o,location:n}=e,i=(0,x().tz)(),r=(0,d().IS)((()=>({wrapper:{position:"absolute",insetInlineEnd:0,zIndex:1,...s().A.isMobile?{top:-3}:{marginTop:"updates_sidebar"===n?6:0,top:-4}}})),[n]);return(0,Be.jsx)(be().L,{skip:s().A.isMobile,visible:o||s().A.isMobile,style:r.wrapper,children:(0,Be.jsx)(Se().E,{"aria-label":i.formatMessage(ke.actionBar),size:"lg",children:t})})}function Me(e){const{store:t,discussionStore:o,location:n}=e,s=(0,a().v3)(),r=(0,x().tz)(),u=(0,i.useCallback)((()=>{L().createAndCommit({userAction:"Suggestion.handleAccept",environment:s,canUndo:!0,perform:e=>{Ee()._3({action:"accept",environment:s,commentStore:t,discussionStore:o,transaction:e,discussionLocation:n,currentPageStore:(0,G().f)(o)})}}),y().UP()}),[s,t,o,n]);return(0,Be.jsx)(xe().e,{"aria-label":r.formatMessage(ke.acceptButton),tooltip:r.formatMessage(ke.acceptButton),onClick:u,iconLeading:ae().checkmarkIcon})}function _e(e){const{store:t,discussionStore:o,location:n}=e,s=(0,a().v3)(),r=(0,x().tz)(),u=(0,i.useCallback)((()=>{L().createAndCommit({userAction:"Suggestion.handleReject",environment:s,canUndo:!0,perform:e=>{Ee()._3({action:"reject",environment:s,commentStore:t,discussionStore:o,transaction:e,discussionLocation:n,currentPageStore:(0,G().f)(o)})}}),y().UP()}),[s,t,o,n]);return(0,Be.jsx)(xe().e,{"aria-label":r.formatMessage(ke.rejectButton),tooltip:r.formatMessage(ke.rejectButton),onClick:u,iconLeading:ge().xMarkIcon})}function Le(e){const{store:t,location:o,onReact:n}=e,s=(0,i.useRef)(null),r=(0,a().v3)(),u=(0,x().tz)(),c=(0,i.useCallback)((()=>{(0,we().uJ)(r,u,t,s.current,o,n)}),[r,u,t,s,o,n]);return(0,Be.jsx)(xe().e,{ref:s,"aria-label":u.formatMessage(ke.addReaction),tooltip:u.formatMessage(ke.addReaction),onClick:c,iconLeading:ce().r})}function Te(e){const{resolved:t,onResolve:o,onReopen:n}=e,s=(0,i.useRef)(null),r=(0,x().tz)(),a=t?ke.reopenButton:ke.resolveButton;return(0,Be.jsx)(xe().e,{ref:s,"aria-label":r.formatMessage(a),tooltip:r.formatMessage(a),onClick:t?n:o,iconLeading:t?se().F:ae().checkmarkIcon})}o(581454);var Re=()=>o(144440),Pe=()=>o(957690),ze=()=>o(518888),Ne=()=>o(980009),Ue=()=>o(973753);const Ke=3;function Ve({stores:e,collapsed:t,shouldShowGrayFogInScroller:o,onRemoveBlockFromComment:n}){return 0===e.length?null:e.length<=Ke?(0,Be.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:4},children:e.map((e=>(0,Be.jsx)(Ne().A,{store:e,disabled:!1,commentProps:{shouldHideBlockActionMenu:t,onRemoveBlockFromComment:n}},e.id)))}):(0,Be.jsx)(Ue().A,{shouldShowGrayFog:o,children:e.map((e=>(0,Be.jsx)(Ne().A,{store:e,disabled:!1,commentProps:{shouldHideBlockActionMenu:t,onRemoveBlockFromComment:n}},e.id)))})}var Oe=()=>o(718827),He=()=>o(391214);const We=3,$e=4;function Ye({stores:e,embedBlockLocation:t,onRemoveContent:o}){const n=(0,a().v3)();if(0===e.length)return null;if(e.length<=We)return(0,Be.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:4},children:e.map((e=>(0,Be.jsx)(Ge,{store:e,embedBlockLocation:t,onRemoveContent:o,isLarge:!0},e.id)))});if(e.length<=$e)return(0,Be.jsx)("div",{style:{display:"flex",gap:4},children:e.map((e=>(0,Be.jsx)(Ge,{store:e,embedBlockLocation:t,onRemoveContent:o,isLarge:!1},e.id)))});const i=e.slice(0,$e-1),s=e[$e-1],r=e.length-$e+1,u=e.slice($e);return(0,Be.jsxs)("div",{style:{display:"flex",gap:4},children:[i.map((e=>(0,Be.jsx)(Ge,{store:e,embedBlockLocation:t,onRemoveContent:o,isLarge:!1},e.id))),(0,Be.jsxs)("div",{children:[(0,Be.jsx)(Oe().Ay,{style:{position:"absolute",zIndex:1,width:48,height:48,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0, 0, 0, 0.4)",borderRadius:8,color:"white",fontWeight:F().Wy.bold},hoveredStyle:{background:"rgba(0, 0, 0, 0.4)"},pressedStyle:{background:"rgba(0, 0, 0, 0.4)"},onClick:()=>{He().iy({environment:n,blockStore:s})},children:`+${r}`}),(0,Be.jsx)(Ge,{store:s,embedBlockLocation:t,onRemoveContent:o,isLarge:!1},s.id)]}),(0,Be.jsx)("div",{style:{display:"none"},children:u.map((e=>(0,Be.jsx)(Ge,{store:e,embedBlockLocation:t,onRemoveContent:o,isLarge:!1},e.id)))})]})}function Ge({store:e,isLarge:t,embedBlockLocation:o,onRemoveContent:n}){const i=(0,d().IS)((()=>({imageShared:{border:`1px solid ${b().Tj.border.secondary}`,borderRadius:8,cursor:"zoom-in"}})),[]);return(0,Be.jsx)(Pe().Ay,{store:e,blockLocation:o,disabled:!1,disableDrag:!0,disableResizers:!0,preserveScale:!0,inlineContentStyle:{...i.imageShared,...t?Je:qe},disableActions:!t,onRemoveBlockFromComment:t?n:void 0},e.id)}const Je={objectFit:"contain",width:"auto",height:"auto",maxWidth:240,maxHeight:240,minWidth:48,minHeight:48},qe={width:48,height:48,minWidth:48,minHeight:48};var Qe=()=>o(773382);function Xe({store:e}){const t=(0,l().K8)((()=>ze().default.getKeyState(ze().default.getBlockKey(e.id))),[e.id]),o=(0,x().tz)(),n=(0,d().IS)((()=>({wrapper:{height:48,width:214,display:"flex",alignItems:"center",background:b().Tj.background.primary,border:`1px solid ${b().Tj.border.secondaryTranslucent}`,borderRadius:12,paddingTop:8,paddingInlineEnd:10,paddingBottom:8,paddingInlineStart:8,gap:8},icon:{background:b().Tj.background.tertiaryTranslucent,borderRadius:6,width:32,minWidth:32,height:32,display:"flex",alignItems:"center",justifyContent:"center"},fileDetails:{display:"flex",flexDirection:"column"},fileName:{fontSize:14,fontWeight:F().Wy.medium,lineHeight:"18px",color:b().Tj.text.primary,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},fileSizeText:{color:b().Tj.text.secondary},progressText:{color:b().Tj.text.tertiary},sizeAndProgressContainer:{display:"flex",alignItems:"center",gap:4,fontSize:12,lineHeight:"15px"}})),[]);if(!t)return(0,Be.jsxs)("div",{style:n.wrapper,children:[(0,Be.jsx)("div",{style:n.icon,children:(0,Be.jsx)(C().k,{})}),(0,Be.jsx)("div",{style:n.fileDetails,children:(0,Be.jsx)("div",{style:n.fileName,children:o.formatMessage({id:"commentFilePlaceholder.loading",defaultMessage:"Loading..."})})})]});const{name:i,size:s,progressPercent:r,progressText:a}=t;return(0,Be.jsxs)("div",{style:n.wrapper,children:[(0,Be.jsx)("div",{style:n.icon,children:(0,Be.jsx)(C().k,{})}),(0,Be.jsx)("div",{style:{overflow:"hidden"},children:(0,Be.jsxs)("div",{style:n.fileDetails,children:[(0,Be.jsx)("div",{style:n.fileName,children:i}),(0,Be.jsxs)("div",{style:n.sizeAndProgressContainer,children:[(0,Be.jsx)("span",{style:n.fileSizeText,children:(0,z().formatFileSize)(s)}),(0,Be.jsx)("span",{style:n.progressText,children:""}),(0,Be.jsx)(C().k,{}),r?(0,Be.jsx)(Qe().A,{percentage:r,style:n.progressText}):a?(0,Be.jsx)("span",{children:a}):null]})]})})]})}function Ze({stores:e}){return 0===e.length?null:(0,Be.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:4},children:e.map((e=>(0,Be.jsx)(Xe,{store:e},e.id)))})}function et(e){const t=e.discussionFormat===z().DiscussionFormat.Sidebar?Re().ZO.SidebarComment:Re().ZO.PageComment,{uploading:o,images:n,embeds:i,files:s}=(0,l().K8)((()=>{const[t,o]=ve().jB(e.contentStores,(e=>{const t=Boolean(ze().default.getKeyState(ze().default.getBlockKey(e.id))),o=(0,Pe().getEmbedSourceFromBlockStore)(e);return t||!o})),[n,i]=ve().jB(o,(e=>e.getType()===ne().xd.image)),[s,r]=ve().jB(i,(e=>"video"===e.getType()));return{uploading:t,images:n,embeds:s,files:r}}),[e.contentStores]);return 0===o.length&&0===n.length&&0===i.length&&0===s.length?null:(0,Be.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:4,marginTop:8},children:[(0,Be.jsx)(Ze,{stores:o}),(0,Be.jsx)(Ye,{stores:n,embedBlockLocation:t,onRemoveContent:e.onRemoveContent}),i.length>0?(0,Be.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:4},children:i.map((o=>(0,Be.jsx)(Pe().Ay,{store:o,blockLocation:t,disabled:!1,disableDrag:!0,disableResizers:!0,preserveScale:!0,inlineContentStyle:{},onRemoveBlockFromComment:e.onRemoveContent},o.id)))}):void 0,(0,Be.jsx)(Ve,{stores:s,collapsed:e.collapsed,shouldShowGrayFogInScroller:e.discussionHovered&&(e.discussionFormat===z().DiscussionFormat.Margin||e.discussionFormat===z().DiscussionFormat.Sidebar),onRemoveBlockFromComment:e.onRemoveContent})]})}var tt=()=>o(147294);function ot(){const e=(0,d().IS)((()=>({container:{position:"relative"},newBarLineWrapper:{width:"100%"},newBarLine:{borderRadius:2,height:P().jw,background:b().Tj.blue.background.secondary,width:"100%",margin:"auto 0px"},newBarWrapper:{color:b().Tj.text.secondary,fontSize:10,fontWeight:F().Wy.regular,display:"flex",alignItems:"center",marginTop:0,marginBottom:12,paddingInlineStart:0},threadLine:{position:"absolute",backgroundColor:b().Tj.border.secondary,width:P().jw,height:8,borderRadius:2,insetInlineStart:P().im,bottom:-6,zIndex:-1}})),[]);return(0,Be.jsxs)("div",{style:e.container,children:[(0,Be.jsxs)("div",{style:e.newBarWrapper,children:[(0,Be.jsx)("div",{style:e.newBarLineWrapper,children:(0,Be.jsx)("div",{style:e.newBarLine})}),(0,Be.jsx)(tt().J1,{style:{marginInlineStart:12,marginInlineEnd:12}}),(0,Be.jsx)("div",{style:e.newBarLineWrapper,children:(0,Be.jsx)("div",{style:e.newBarLine})})]}),(0,Be.jsx)("div",{style:e.threadLine})]})}var nt=()=>o(686350);const it=function(e){const{store:t,discussionContext:n,discussionLocation:O,shouldShowThreadLine:H,discussionStore:W,blockStore:$,collapsed:Y,showMarkAsRead:G}=e,J=(0,a().v3)(),[q,Q]=(0,i.useState)(!1),[X,Z]=(0,i.useState)(!1),[ee,te]=(0,i.useState)(!1),[oe,ne]=(0,i.useState)(!1),[ie,se]=(0,i.useState)("feed_item_top_level_discussion"===O&&Y),re=(0,l().K8)((()=>e.store.isDefined()?new(K().A)(J,e.store.getSpaceId()):void 0),[J,e.store]),ae=(0,l().K8)((()=>B().dd(e.store).filter((e=>(0,o(770063).G_)(e,{table:o(179034).ev,id:e.id},"alive").getValue()))),[e.store]),ue=(0,l().K8)((()=>W.getResolved()),[W]),ce=(0,l().K8)((()=>null==re?void 0:re.state.files),[re]),le=(0,l().K8)((()=>null==re?void 0:re.state.textStore),[re]),de=(0,i.useCallback)((e=>{const t=e.target;t instanceof HTMLElement&&(0,o(819121).p)(t)&&Z(!0)}),[]),De=(0,i.useCallback)((()=>{Z(!1)}),[]),me=(0,i.useCallback)((()=>{M().A.state||te(!0)}),[]),pe=(0,i.useCallback)((()=>{te(!1)}),[]),ge=(0,u().S)(),fe=(0,l().uB)(void 0,g().A),ve=(0,l().K8)((()=>fe.state.open),[fe]),Ce=(0,o(551619).Sm)($),he=(0,l().K8)((()=>(0,k().o7)(e.store.id)),[e.store.id]),Se=(0,l().K8)((()=>{const t=e.discussionStore.getComments();return Boolean(t&&t[0]===e.store.id)}),[e.discussionStore,e.store.id]),xe=(0,l().K8)((()=>{var t;const o=$.getRole(),n=N({isFirstComment:Se,discussionLocation:O}),i=$.pathIsDead(),r=o&&h().h9(o)||i,a="comment_only"===o||ge&&"comment"===(null===(t=ge.publicEditModeStore.state)||void 0===t?void 0:t.permission),u=n&&!s().A.isMobile&&!a&&!r;return ee||X||e.hoveringDiscussion&&n||ve||s().A.isMobile||e.showResolveButtonByDefaultIfPossible&&u}),[$,e.hoveringDiscussion,e.showResolveButtonByDefaultIfPossible,Se,O,ge,ee,X,ve]),be=(0,i.useContext)(o(259985).U),Fe=(0,l().K8)((()=>{const e=t.getCreatedByPointer();return e?{createdByPointer:e,lastEditedTime:t.getLastEditedTime(),createdTime:t.getCreatedTime(),text:t.getText(),reactions:m().L.getUserVisibleReactions(t)}:null}),[t]),ye=(0,l().K8)((()=>Fe?(0,p().JQ)({parentStore:t,pointer:Fe.createdByPointer}):null),[Fe,t]),Ae=(0,l().K8)((()=>B().gp(e.store)),[e.store]),Ee=function(e){const{discussionLocation:t,isCommentCollapsed:o,isDiscussionCollapsed:n,maxLines:i}=e;if("feed_item_top_level_discussion"===t)return o?i:void 0;return n?i:void 0}({discussionLocation:O,isCommentCollapsed:ie,isDiscussionCollapsed:Y,maxLines:e.maxLines}),ke=(0,i.useCallback)((()=>{L().createAndCommit({userAction:"Comment.deleteComment",environment:J,canUndo:!0,perform:t=>{T().Tu({environment:J,commentStore:e.store,transaction:t,discussionLocation:O})},skipUpdatingEditedMetadata:!0})}),[J,e.store,O]),je=(0,i.useCallback)((async()=>{const{accept:e}=await D().Gh({message:(0,Be.jsx)(x().sA,{defaultMessage:"Would you like to delete this comment?",id:"comment.confirmDialog.deleteComment.prompt"}),acceptLabel:(0,Be.jsx)(x().sA,{defaultMessage:"Delete",id:"comment.confirmDialog.deleteComment.deleteButton.label"})});e&&(ke(),y().UP(),V().A.state.overlapsExistingDiscussionMenu&&!j().A.state.open&&V().A.setState({...V().A.state,overlapsExistingDiscussionMenu:!1}),(0,R().j)(J))}),[ke,J]),Me=(0,i.useCallback)((async t=>{const o=Ae.getValue(),n=B().dd(e.store).filter((e=>e.id!==t.id)),i=o&&o.length>0,s=0===n.length;!i&&s?(await je(),Q(!1)):L().createAndCommit({userAction:"Comment.handleRemoveFileFromActions",environment:J,canUndo:!0,perform:o=>{T().L6({commentStore:e.store,fileBlocks:[t],transaction:o})}})}),[Ae,J,je,e.store]),_e=(0,i.useCallback)((()=>{ne(!0)}),[]),Le=(0,i.useCallback)((async()=>{if(!re)return;const e=Ae.getValue()||[],t=re.state.textStore;L().createAndCommit({userAction:"Comment.handleEditComment",environment:J,canUndo:!0,perform:n=>{o(295304).R9({environment:J,store:t,value:e,transaction:n})}}),Q(!0),await r().default.afterNextFlush(),await r().default.afterNextFlush(),(0,_().z)({store:t})}),[re,Ae,J]),Te=(0,i.useCallback)((async()=>{if(!re)return!1;if(!(0,z().hasCommentChanged)(re,e.store))return Q(!1),!0;{const{accept:e}=await D().Gh({message:(0,Be.jsx)(x().sA,{defaultMessage:"Do you want to discard this edit?",id:"comment.confirmDialog.discardEdit.prompt"}),acceptLabel:(0,Be.jsx)(x().sA,{defaultMessage:"Discard",id:"comment.confirmDialog.discardEdit.discardButton.label"})});if(e)return Q(!1),!0}return!1}),[re,e.store]),Re=(0,i.useCallback)((async()=>{const t=null==le?void 0:le.getValue();t&&t.length>0||ce&&ce.length>0?L().createAndCommit({userAction:"Comment.handleSubmitEdit",environment:J,canUndo:!0,perform:o=>{T().QA({environment:J,store:e.store,text:t||[],transaction:o,discussionLocation:O,files:ce||[],property_id:W.getPropertyId(),blockStore:$})}}):await je(),Q(!1)}),[le,ce,J,e.store,O,W,$,je]),Pe=(0,i.useCallback)((()=>{"feed_item_top_level_discussion"===O&&se(!1)}),[O]),ze=(0,i.useRef)(null),Ne=(0,i.useRef)(null);(0,c().b)(I().A,(()=>({edit:Le,handleCancelEdit:Te,getNode:()=>ze.current,isEditing:()=>q,discussionLocation:O,commentId:e.store.id})),[Le,Te,q,O,e.store.id]);const Ue=null==Fe?void 0:Fe.text,Ke=void 0!==Ue&&Ue.length>0&&S().AhH(Ue)>0,Ve=Ke&&(0,z().isCommentAllEmojis)(Ue),Oe=(0,U().C)({type:"discussionLocation",location:O}),He=function({discussionLocation:e,showNewBar:t,isAllEmojis:o,newStatusDotPosition:n,isMobileRedesignEnabled:i}){return(0,d().IS)((()=>({container:{flexGrow:"comment_unfurl"===e?1:void 0,paddingTop:t?0:"comment_unfurl"===e?P().ds:P().e4,paddingInlineEnd:P().JC(e,i,"end"),paddingBottom:P().Wv,paddingInlineStart:P().JC(e,i,"start")},comment:{position:"relative",fontSize:i?F().J.UIRegular.mobile:F().J.UIRegular.desktop},commentElementsBelowUserRow:{paddingInlineStart:P().FB},discussionInputContainer:{width:"calc(100% + 8px)"},threadLine:{position:"absolute",backgroundColor:b().Tj.border.secondary,borderRadius:2,width:P().jw,height:P().k2,insetInlineStart:P().im,top:P().uG},unfurlMoreWrapper:{color:b().Tj.text.tertiary,fontWeight:"comment_unfurl"===e?F().Wy.medium:void 0,display:"block",marginBottom:-1.5,pointerEvents:"auto"},text:{cursor:"comment_unfurl"!==e?"text":void 0,lineHeight:"20px",paddingTop:4,...o?{fontSize:32,lineHeight:"32px"}:{}},attachmentContainer:{display:"flex",alignItems:"center"},commentAttachment:{},authorRowContainer:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:n?"flex-start":"space-between"},unreadStatusDot:{display:"flex",flexDirection:"row",alignItems:"center",marginInlineEnd:4,...n&&{marginInlineStart:6}}})),[e,o,t,n,i])}({discussionLocation:O,isAllEmojis:Ve,showNewBar:Boolean(e.showNewBar),newStatusDotPosition:s().A.isMobile,isMobileRedesignEnabled:Oe}),We=(0,i.useMemo)((()=>({type:"comment_match",commentId:e.store.id})),[e.store.id]),$e="comment_unfurl"!==O,Ye=$e&&Fe&&Fe.reactions.length>0;if((0,i.useEffect)((()=>{oe&&Ne.current&&Ye&&((0,o(103725).h)({element:Ne.current,environment:J,scrollerContext:be,vertical:{reveal:"closest"},horizontal:void 0,animate:!0}),ne(!1))}),[J,be,oe,Ye]),!re)return null;if(!Fe||!ye)return null;const Ge=ae.length>0&&(0,Be.jsx)("div",{style:He.commentAttachment,children:(0,Be.jsx)(et,{contentStores:ae,onRemoveContent:Me,discussionFormat:(0,z().discussionLocationToDiscussionFormat)(O),collapsed:Y,discussionHovered:e.hoveringDiscussion})});return(0,Be.jsxs)("div",{ref:ze,onClick:e=>q&&e.stopPropagation(),style:He.container,children:[e.showNewBar?(0,Be.jsx)(ot,{}):void 0,(0,Be.jsxs)("div",{style:He.comment,onFocus:de,onBlur:De,onMouseMove:me,onMouseLeave:pe,children:[(0,Be.jsxs)("div",{style:He.authorRowContainer,children:[(0,Be.jsx)(o(456101).Y,{createdTime:Fe.createdTime,lastEditedTime:Fe.lastEditedTime,location:O,isResolved:ue,isSuggestionComment:e.isSuggestionComment,authorStore:ye,commentStore:t,suppressMouse:Y}),e.showUnreadStatusDot?(0,Be.jsx)("div",{style:He.unreadStatusDot,children:(0,Be.jsx)(w().m,{size:A().jd})}):void 0]}),H?(0,Be.jsx)("div",{style:He.threadLine}):void 0,(0,Be.jsxs)("div",{style:He.commentElementsBelowUserRow,children:[Boolean(n)?n:void 0,q?(0,Be.jsx)("div",{style:{marginTop:4},children:(0,Be.jsx)(nt().V,{containerStyle:He.discussionInputContainer,showAvatar:!1,parentStore:e.store,blockStore:$,onCancel:Te,onSubmit:Re,discussionInputStore:re,isEditingExistingComment:!0,isMobileSlideUpMenu:!0,shouldSaveUnsentComments:!1,commentStore:e.store,discussionFormat:(0,z().discussionLocationToDiscussionFormat)(O),canDrop:!0})}):void 0,Ke&&!q?(0,Be.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[(0,Be.jsx)(E().A,{onMore:"comment_unfurl"===O?void 0:Pe,moreElement:(0,Be.jsxs)(v().V,{disableUnderline:!0,style:He.unfurlMoreWrapper,hoverColor:"blue",children:["","",(0,Be.jsx)("span",{children:(0,Be.jsx)(x().sA,{id:"comment.truncated.showMoreLabel",defaultMessage:"more"})})]}),maxLines:Ee,children:(0,Be.jsx)(o(729368).A,{style:He.text,store:Ae,disabled:!0,disabledMentionTypes:{date:!0,property:!0},disableEquationInteraction:!0,inPageFind:We})}),Ce&&he?(0,Be.jsx)(C().A,{style:{alignSelf:"flex-end",marginInlineEnd:8,marginInlineStart:8}}):void 0]}):void 0,q||"comment_unfurl"===O?!Ke&&(0,Be.jsxs)("div",{style:He.attachmentContainer,children:[(0,Be.jsx)("div",{style:{marginInlineEnd:5},children:(0,Be.jsx)(f().I,{colorVariant:"secondary",icon:o(609616).o})}),(0,Be.jsx)(x().sA,{defaultMessage:"{numberOfAttachments, plural, one {{numberOfAttachments} attachment} other {{numberOfAttachments} attachments}}",values:{numberOfAttachments:ae.length},id:"comment.unfurl.attachments.title"})]}):Ge,Ye?(0,Be.jsx)("div",{ref:Ne,style:{marginTop:8},children:(0,Be.jsx)(we().Ay,{parentStore:e.store,discussionLocation:O})}):void 0]}),"comment_unfurl"===O||q||Ce?void 0:(0,Be.jsx)(Ie,{store:e.store,discussionStore:e.discussionStore,blockStore:$,discussionLocation:O,visible:xe,isFirstComment:Se,buttonPopupStore:fe,canShowReactions:$e,handleEditComment:Le,handleDeleteComment:je,handleReaction:_e,showMarkAsRead:G})]})]})};o(18107),o(517642),o(658004),o(733853),o(845876),o(432475),o(515024),o(731698),o(967357),o(672577),o(737550);var st=()=>o(755125),rt=()=>o(453607),at=()=>o(601813),ut=()=>o(220719),ct=()=>o(478726),lt=()=>o(836724),dt=()=>o(907258),Dt=()=>o(546574);function mt({discussionStore:e,commentStore:t}){var o;if(!t.isDefined())return!1;const n=null===(o=dt().default.state.currentUserStore)||void 0===o?void 0:o.id;const i=Dt().A.state.lastInteractionTimes[e.id];if(t.getCreatedById()===n)return!1;const s=function(){if(!e.isDefined()||!n)return 0;const{pageVisitStore:t}=dt().default.state,{lastViewTime:o,lastExitTime:i}=t.state;return i||o}();if(void 0===s)return!1;const r=(0,z().getAndSortCommentStoresByTime)(e).filter((e=>e.getCreatedById()===n)).reverse()[0],a=t.getCreatedTime();return!a||!(r&&a<r.getCreatedTime())&&(!(i&&a<i)&&a>s)}var pt=()=>o(655236),gt=()=>o(404905),ft=()=>o(552712),vt=()=>o(641007),Ct=()=>o(158661),ht=()=>o(721479);const St="https://notion.notion.site/AI-Conflict-Detection-158efdeead058037b57efc2b77ad9c21";function xt(e){const{discussionLocation:t,commentStore:o}=e,n=(0,l().K8)((()=>{if(!o)return!1;const e=o.getCreatedByPointer();return!!e&&e.id===vt().px.id}),[o]),i=(0,U().C)({type:"discussionLocation",location:t}),r=(0,d().IS)((()=>({container:{display:"flex",flexDirection:"row",gap:6,width:"100%",color:b().Tj.text.tertiary,fontSize:s().A.isMobile?F().J.UISmall.mobile:F().J.UISmall.desktop,paddingTop:P().e4,paddingInlineStart:P().JC(t,i,"start")+P().eQ-8},helpIcon:{color:b().Tj.text.tertiary,flexDirection:"row-reverse",gap:6,width:14,alignItems:"center",cursor:"pointer",textDecoration:"none",pointerEvents:"auto"},text:{maxWidth:200}})),[t,i]);return n?(0,Be.jsxs)("div",{style:r.container,children:[(0,Be.jsx)(f().I,{icon:Ct().exclamationMarkTriangleFillSmallIcon,size:"xs"}),(0,Be.jsx)(gt().j,{style:r.text,children:(0,Be.jsx)(x().sA,{id:"aiCommentHeader.conflictingContent.label",defaultMessage:"Notion AI found potential conflicts"})}),(0,Be.jsx)(ft().N,{href:St,external:!0,style:r.helpIcon,children:(0,Be.jsx)(f().I,{icon:ht().questionMarkCircleSmallIcon,size:"sm"})})]}):null}o(430670);var bt=()=>o(8633),Ft=()=>o(390959),yt=()=>o(811879),At=()=>o(846583);function Et(e){const{discussionStore:t,discussionContext:o,discussionLocation:n,blockStore:s,hoveringDiscussion:r,showUnreadStatusDot:u=!1}=e,c=(0,x().tz)(),[D,f]=(0,i.useState)(!1),v=(0,i.useCallback)((()=>{f(!0)}),[]),C=(0,i.useCallback)((()=>{f(!1)}),[]),h=(0,l().uB)(void 0,g().A),S=(0,l().K8)((()=>h.state.open),[h]),y=(0,l().K8)((()=>(0,H().f)(s)),[s]),A=(0,l().K8)((()=>{const e=m().L.getUserVisibleReactions(t),o=e.flatMap((e=>{const t=e.getCreatedTime();return e.getActorStores().map((e=>({actor:e,createdTime:t})))})),n=(0,ve().hS)(o.sort(((e,t)=>t.createdTime-e.createdTime)),(e=>e.actor.id));return{reactorNames:n.map((e=>e.actor.getDisplayName(c))),reactors:n.map((e=>e.actor)),reactions:e}}),[t,c]),E=D||r||S||((null==A?void 0:A.reactions)??[]).length>0,w=function({discussionLocation:e}){return(0,d().IS)((()=>({container:{flexGrow:"comment_unfurl"===e?1:void 0,paddingTop:"comment_unfurl"===e?P().ds:P().e4,paddingBottom:P().Wv},content:{position:"relative",fontSize:14,width:"100%"},authorRowContainer:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},avatarsAndNames:{display:"flex",flexDirection:"row",alignItems:"center",fontWeight:F().Wy.medium,gap:8},reactorNames:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},reactionElementsBelowUserRow:{paddingInlineStart:P().FB},reactionBarWrapper:{marginTop:8},unreadStatusDot:{display:"flex",flexDirection:"row",alignItems:"center",marginInlineEnd:4},statusDot:{width:8,height:8,borderRadius:"50%",backgroundColor:b().Tj.blue.icon.accentPrimary}})),[e])}({discussionLocation:n}),B=(0,i.useRef)(null),k=(0,a().v3)().currentUser.id,I=(0,l().K8)((()=>{var e;const t=null==A||null===(e=A.reactors)||void 0===e?void 0:e.map((e=>(0,p().d5)(e).asActor)).filter(Ce().O9);return(0,bt().b)({intl:c,currentUserId:k,authors:t,fontWeightForAuthorNames:"medium",isCondensedFormat:!0})}),[k,null==A?void 0:A.reactors,c]);if(!A)return null;const j=o||"updates_sidebar"===n,M=A.reactors[0],_=A.reactors[1];return(0,Be.jsx)("div",{ref:B,style:w.container,onMouseMove:v,onMouseLeave:C,children:(0,Be.jsxs)("div",{style:w.content,children:[(0,Be.jsxs)("div",{style:w.authorRowContainer,children:[(0,Be.jsxs)("div",{style:w.avatarsAndNames,children:[A.reactors.length>0?(0,Be.jsxs)("div",{children:[M&&_&&y?(0,Be.jsx)(Ft().v,{frontActorStore:M,backActorStore:_,spaceStore:y}):void 0,M&&!_?(0,Be.jsx)(yt().E,{authorStore:M,avatarSize:P().eQ,hasTooltip:!0,avatarStyle:{}},M.id):void 0]}):void 0,(0,Be.jsx)("span",{style:w.reactorNames,children:(0,Be.jsx)(x().sA,{id:"reactions.blockReaction",defaultMessage:"{reactors} <regular>reacted</regular>",values:{reactors:I,regular:e=>(0,Be.jsx)("span",{style:{fontWeight:F().Wy.regular},children:e})}})})]}),u?(0,Be.jsx)("div",{style:w.unreadStatusDot,children:(0,Be.jsx)("div",{style:w.statusDot})}):void 0]}),(0,Be.jsxs)("div",{style:w.reactionElementsBelowUserRow,children:[j?(0,Be.jsx)(At().A,{format:(0,z().discussionLocationToDiscussionFormat)(n),discussionLocation:n,store:t,blockStore:s,onClick:e=>e.stopPropagation()}):void 0,E?(0,Be.jsx)("div",{style:w.reactionBarWrapper,children:(0,Be.jsx)(we().Ay,{parentStore:t,discussionLocation:n})}):void 0]})]})})}const wt={block_menu:"8px 16px 0px",page_discussion:"8px 0px 0px",updates_sidebar:"4px 16px 12px",margin_comments:"8px 12px 6px",comment_unfurl:"0",feed_item_top_level_discussion:"8px 16px 0px",new_discussions_sheet:"8px 12px 6px",updates_menu_mentions_comments:"4px 16px 12px",updates_menu_all_updates:"4px 16px 12px",updates_menu_archive:"4px 16px 12px",reply_menu_mentions_comments:"8px 16px 0px",reply_menu_all_updates:"8px 16px 0px",reply_menu_archive:"8px 16px 0px",reply_menu_updates_sidebar:"8px 16px 0px",ai_reject_all_suggestions:"0"},Bt=i.forwardRef((function(e,t){const n=(0,a().v3)(),{format:i,role:s,showMoreCommentsButton:r,onMoreCommentsClick:u,inputVisible:c,blockStore:l}=e,D=(0,o(891078).i0)(l),m=s&&h().h9(s)||D,p=n.currentUser.isLoggedIn(),g=(0,U().C)({type:"discussionFormat",format:e.format}),f=(0,d().IS)((()=>({container:{position:"relative",padding:0,...i===z().DiscussionFormat.Page?{marginInlineStart:16,marginInlineEnd:16}:{}},discussionInputContainer:{padding:wt[e.discussionLocation],...g?{paddingInlineStart:(0,P().JC)(e.discussionLocation,g,"start"),paddingInlineEnd:(0,P().JC)(e.discussionLocation,g,"end")}:{}}})),[i,e.discussionLocation,g]);return p&&!m&&(r||c)?(0,Be.jsxs)("div",{style:f.container,children:[r?(0,Be.jsx)(o(499512).d,{enableIcon:!0,onClick:u}):void 0,c?(0,Be.jsx)(nt().V,{autoFocus:!0,showAvatar:!0,containerStyle:f.discussionInputContainer,parentStore:e.store,blockStore:e.blockStore,onCancel:e.onCancel,onSubmit:e.onSubmit,discussionInputStore:e.discussionInputStore,isMobileSlideUpMenu:!1,shouldSaveUnsentComments:!0,onEditPreviousComment:e.onEditPreviousComment,inReplyToDiscussionId:e.store.id,discussionFormat:e.format,showCtaButtons:e.showCtaButtons,ref:t,onFileUploaded:e.onFileUploaded}):void 0]}):null}));var kt=()=>o(631524);function It(e){const t=(0,U().C)({type:"discussionLocation",location:e.discussionLocation}),o=(0,d().IS)((()=>{const o=t?F().J.UIRegular.mobile:F().J.UIRegular.desktop,n=P().JC(e.discussionLocation,t,"start")+P().eQ;return{moreCommentsWrapper:{color:b().Tj.text.tertiary,fontSize:o,flexGrow:1,display:"flex",alignItems:"center",paddingInlineStart:8},button:{borderRadius:6,fontSize:o,color:b().Tj.text.secondary,justifyContent:"space-between",padding:"14px 0",margin:`0 0 0 ${n}px`,width:`calc(100% - ${n}px - 16px)`},buttonHovered:{background:b().Tj.focusDiscussionInputBackground},threadLine:{position:"absolute",backgroundColor:b().Tj.border.secondary,width:P().jw,height:"100%",top:P().e4-P().Yz,insetInlineStart:P().JC(e.discussionLocation,t,"start")+P().im,borderRadius:2},badge:{marginInlineStart:6,marginInlineEnd:6}}}),[e.discussionLocation,t]);return e.count<=0?null:(0,Be.jsxs)("div",{style:{position:"relative"},children:[(0,Be.jsx)("div",{style:o.threadLine}),(0,Be.jsx)(kt().p,{colorPalette:"gray",size:"xs",style:o.button,onClick:e.onClick,hoveredStyle:o.buttonHovered,children:(0,Be.jsxs)("div",{className:"discussion-show-all-button",style:o.moreCommentsWrapper,children:[(0,Be.jsx)(x().sA,{defaultMessage:"Show {moreCommentsNumber, plural, one {{moreCommentsNumber} reply} other {{moreCommentsNumber} replies}}",id:"discussion.showMoreCommentsSidebarButton.label",values:{moreCommentsNumber:e.count}}),e.showNewBadge?(0,Be.jsx)(tt().J1,{style:o.badge}):null]})},"show")]})}var jt=()=>o(797809),Mt=()=>o(712030),_t=()=>o(29554);function Lt(e){const{discussionStore:t}=e,o=(0,x().tz)(),n=(0,l().K8)((()=>t.isSuggestionDiscussion()),[t]),i=(0,l().K8)((()=>{const t=e.discussionStore.getContext();return(t?(0,at().Qe)({discussionContextData:t,discussionId:e.discussionStore.id,discussionType:(0,ut().o9)(e.discussionStore.getType()),intl:o}):[])??[]}),[e.discussionStore,o]),s=(0,d().IS)((()=>({container:{marginTop:2},label:{color:b().Tj.blue.text.tertiary,fontSize:14,lineHeight:"18px"},labelDeleteColor:{color:b().Tj.text.tertiary},text:{color:b().Tj.blue.text.accentPrimary,fontSize:14,lineHeight:1.29},textDeleteColor:{color:b().Tj.text.secondary},suggestionContextItem:{display:"block",marginBottom:4,whiteSpace:"pre-wrap",wordBreak:"break-word"},unfurlMoreWrapper:{color:b().Tj.text.tertiary,fontWeight:F().Wy.medium,display:"block",marginBottom:-1.5,pointerEvents:"auto"}})),[]),r=(0,jt().RX)(o).title;return n&&r&&0!==i.length?(0,Be.jsx)("div",{style:s.container,children:(0,Be.jsx)(E().A,{maxLines:e.collapsed?1:void 0,clampOverride:{lineHeight:1.29,fontSize:14},moreElement:(0,Be.jsxs)(v().V,{disableUnderline:!0,style:s.unfurlMoreWrapper,hoverColor:"blue",children:["","",(0,Be.jsx)("span",{children:(0,Be.jsx)(x().sA,{id:"suggestion.truncated.showMoreLabel",defaultMessage:"more"})})]}),children:i.map((({label:e,value:o,shouldUseDeleteColor:n,removeQuotationMarks:i},r)=>(0,Be.jsxs)("div",{style:s.suggestionContextItem,children:[(0,Be.jsxs)("span",{style:{...s.label,...n&&s.labelDeleteColor},children:[e,": "]}),(0,Be.jsxs)("span",{style:{...s.text,...n&&s.textDeleteColor},children:[i?null:"",(0,Be.jsx)(Tt,{value:o,discussionStore:t}),i?null:""]})]},r)))})}):null}function Tt({value:e,discussionStore:t}){const o=(0,a().v3)(),n=(0,d().DP)(),i=(0,l().K8)((()=>(0,_t().S5)({environment:o,textValue:{value:e,spaceId:t.pointer.spaceId},parentStore:t,disableHover:!0,disableStyleAnnotations:!0,disableInsertedDeletedAnnotations:!0,disableDateStyleAnnotations:!0,disableSuggestionAnnotations:!0,disabled:!0,theme:n,emojiType:(0,Mt().FN)(o),katex:o.KatexStore.getKatex(),formulaValueTypes:[]})),[o,e,t,n]);return(0,Be.jsx)("span",{children:i})}function Rt(e){const{onDismiss:t}=e,n=(0,i.useRef)(null),u=(0,x().tz)(),p=(0,a().v3)(),g=(0,l().K8)((()=>"suggestion"===e.store.getType()),[e.store]),f=(0,l().K8)((()=>B().wc(e.store)),[e.store]),v=(0,l().K8)((()=>f.filter((e=>e.isDefined())).filter((e=>Boolean(e.getAlive())))),[f]),C="page_discussion"===e.discussionLocation?3:5;(0,i.useEffect)((()=>{v.length===C&&R(!0)}),[v,C]);const h=(0,i.useRef)(e.discussionInputStore||new(K().A)(p,e.store.pointer.spaceId)).current,F=(0,l().K8)((()=>(0,z().inputIsEmpty)(h)),[h]),y=(0,l().K8)((()=>{if((0,ct().fc)(e.blockStore)){if((0,ct().f1)(e.blockStore)){const t=e.blockStore.getAssociatedCollectionStore();if(t)return!(0,k().vW)(t)}return!0}return!1}),[e.blockStore]),A=(0,l().K8)((()=>e.store.getResolved()),[e.store]),[E,w]=(0,i.useState)(!1),[j,R]=(0,i.useState)(void 0!==e.collapsed&&!e.collapsed),[N,V]=(0,i.useState)(!0),O=(0,l().uB)(void 0,o(150669).A),H=(0,l().K8)((()=>O.state.clientRect),[O]),W=e.format===z().DiscussionFormat.Sidebar,$=e.format===z().DiscussionFormat.Margin,Y=e.format===z().DiscussionFormat.Menu,G=(0,i.useRef)(null);(0,c().b)(o(143857).A,(()=>({isSidebarFormat:()=>W,isMarginFormat:()=>$,isMenuFormat:()=>Y,getStore:()=>e.store,getInputStore:()=>h,getNode:()=>G.current,getMarginDiscussionScrollContainer:()=>n.current})),[W,$,e.store,h]);const J=(0,l().K8)((()=>{if(!W)return;return(0,z().getAndSortCommentStoresByTime)(e.store).find((t=>mt({discussionStore:e.store,commentStore:t})))}),[W,e.store]),q=(0,i.useRef)(J),Q=(0,l().K8)((()=>(0,pt().s)({discussionStore:e.store,navigableBlockStore:e.blockStore.getNavigableBlockStore()})),[e.store,e.blockStore]),X=(0,l().K8)((()=>{var t,o;if(!Q)return;const n=null===(t=e.store.getUserSeenRecordStore())||void 0===t?void 0:t.getLastSeenAt();return n?null===(o=v.find((e=>e.getCreatedTime()>n)))||void 0===o?void 0:o.id:null==J?void 0:J.id}),[J,v,e.store,Q]),Z=(0,i.useCallback)((()=>{var t;if(j||v.length<=C||"block_menu"===e.discussionLocation)return v;if("page_discussion"===e.discussionLocation)return ve().O6(v,1);const o=[e.showAllRepliesAfterTimestamp,null===(t=q.current)||void 0===t?void 0:t.getCreatedTime(),null==J?void 0:J.getCreatedTime()].filter(Ce().O9),n=o.length>0?Math.min(...o):void 0;if(n){const e=v.filter((e=>(e.getCreatedTime()||0)>n)),t=v.filter((e=>(e.getCreatedTime()||0)<=n));return t.length<=5?v:[...ve().O6(t,2),...e]}return ve().O6(v,2)}),[v,J,C,e.discussionLocation,e.showAllRepliesAfterTimestamp,j]),ee=(0,l().K8)((()=>{const t=Z(),o=new Set(t.map((e=>e.id))),n=v.filter((e=>!o.has(e.id)));return{commentStores:v,commentsToShow:t,commentsToCollapse:n,reactionsToShow:m().L.getUserVisibleReactions(e.store)}}),[v,Z,e.store],{useDeepEqual:!0}),te=(0,i.useCallback)((()=>{if(!e.store.isDefined())return;const t=e.store.getContext();if(!t)return;const o=(0,at().l8)({discussionContextData:t,discussionType:(0,ut().o9)(e.store.getType()),discussionId:e.store.id,intl:u});return S().JJ$(o,(t=>!S().iQL(t)||S().Orm(t)===e.store.id))}),[e.store,u]),oe=(0,i.useRef)(null),ne=(0,i.useRef)(e.blockStore.clone()).current,ie=(0,U().C)({type:"discussionFormat",format:e.format}),se=(0,d().IS)((()=>({discussionWrapper:{...e.format===z().DiscussionFormat.Page&&{marginTop:ee.reactionsToShow.length>0?6:0,marginInlineEnd:P().Ql,marginInlineStart:P().Ql,marginBottom:ee.reactionsToShow.length>0?6:16,..."feed_item_top_level_discussion"===e.discussionLocation&&{marginInlineStart:-16,marginBottom:ee.reactionsToShow.length>0?0:12}},...e.format===z().DiscussionFormat.Menu&&{padding:"6px 0 12px",marginInlineStart:ie?0:-2,boxShadow:e.isFirst?"none":`0 -1px 0 ${b().Tj.border.secondaryTranslucent}`,marginTop:e.isFirst?0:1},...e.format===z().DiscussionFormat.Margin&&{padding:"4px 0",borderRadius:8}},reactionBarWrapper:{paddingInlineStart:16,paddingInlineEnd:16,..."feed_item_top_level_discussion"===e.discussionLocation&&{display:"flex",justifyContent:"space-between"}},discussionContainer:{...e.format===z().DiscussionFormat.Page&&{borderRadius:8}}})),[ee.reactionsToShow.length,e.discussionLocation,e.format,e.isFirst,ie]);(0,i.useEffect)((()=>{p.KatexStore.loadIfNeeded(te)}),[p.KatexStore,te]);const re=(0,i.useCallback)((t=>{if(!s().A.isMobile)return;if(!e.store.isDefined())return;t.stopPropagation(),t.preventDefault(),o(883497).A.setState({open:!1});const n=ve().oE(lt().T.findSelectablesFromIds([e.store.getParentId()])),i=null==n?void 0:n[0];i&&(0,rt().p)({environment:p,handle:i,vertical:{reveal:"bottom"},horizontal:{reveal:"closest"},animate:!0})}),[e.store,p]),ae=(0,i.useCallback)((e=>{$||(e.stopPropagation(),R(!0))}),[$]),ue=(0,i.useMemo)((()=>{const{commentStores:t,commentsToShow:i,commentsToCollapse:s}=ee;if($){const i=(0,z().lineClampForCommentCount)(t.length);if(!e.collapsed)return(0,Be.jsx)(o(376254).H,{style:{display:"flex",flexDirection:"column",maxHeight:500},ref:n,type:o(611648).A.Y,store:O,children:t.map(((o,n)=>{const s=g&&0===n;return(0,Be.jsx)(it,{store:o,discussionStore:e.store,blockStore:e.blockStore,hoveringDiscussion:E,discussionLocation:e.discussionLocation,showResolveButtonByDefaultIfPossible:e.showResolveButtonByDefaultIfPossible,maxLines:i,shouldShowThreadLine:n!==t.length-1,discussionContext:s?(0,Be.jsx)(Lt,{discussionStore:e.store,collapsed:Boolean(e.collapsed)}):void 0,showNewBar:o.id===X&&0!==n,isSuggestionComment:s,showUnreadStatusDot:0===n&&Q,showMarkAsRead:Q},o.id)}))});const s=t[0]&&(0,Be.jsx)(it,{store:t[0],discussionStore:e.store,blockStore:e.blockStore,hoveringDiscussion:E,discussionLocation:e.discussionLocation,showResolveButtonByDefaultIfPossible:e.showResolveButtonByDefaultIfPossible,maxLines:i,collapsed:e.collapsed,shouldShowThreadLine:1!==t.length,discussionContext:g?(0,Be.jsx)(Lt,{discussionStore:e.store,collapsed:Boolean(e.collapsed)}):void 0,isSuggestionComment:g,showUnreadStatusDot:Q,showMarkAsRead:Q},t[0].id),r=t.length>1&&t[t.length-1]&&(0,Be.jsx)(it,{store:t[t.length-1],discussionStore:e.store,blockStore:e.blockStore,hoveringDiscussion:E,discussionLocation:e.discussionLocation,showResolveButtonByDefaultIfPossible:e.showResolveButtonByDefaultIfPossible,maxLines:i,collapsed:e.collapsed,shouldShowThreadLine:!1,showUnreadStatusDot:!1,showMarkAsRead:!1,showNewBar:t[t.length-1].id===X},t[t.length-1].id),a=t.length-2;return(0,Be.jsxs)(Be.Fragment,{children:[s,(0,Be.jsx)(It,{insetButton:!$,count:a,onClick:ae,discussionLocation:e.discussionLocation,showNewBadge:t.some(((e,o)=>e.id===X&&0!==o&&o!==t.length-1))}),r]})}const r=s.length>0,a=i.map(((t,o)=>{const n=g&&0===o,s=0===o&&!r,a=n?(0,Be.jsx)(Lt,{discussionStore:e.store,collapsed:Boolean(e.collapsed)}):s&&(e.format===z().DiscussionFormat.Menu||e.format===z().DiscussionFormat.Sidebar)&&(0,Be.jsx)(At().A,{format:e.format,discussionLocation:e.discussionLocation,store:e.store,blockStore:e.blockStore,onClick:re}),u="feed_item_top_level_discussion"===e.discussionLocation?(0,z().lineClampForCommentCount)(i.length):void 0;return(0,Be.jsx)(it,{store:t,discussionStore:e.store,blockStore:e.blockStore,hoveringDiscussion:E,discussionLocation:e.discussionLocation,showResolveButtonByDefaultIfPossible:e.showResolveButtonByDefaultIfPossible,discussionContext:a,isSuggestionComment:n,showNewBar:t.id===X&&!s,shouldShowThreadLine:o!==i.length-1,maxLines:u,showUnreadStatusDot:s&&Q,showMarkAsRead:Q},t.id)})),u=g,c=u?(0,Be.jsx)(Lt,{discussionStore:e.store,collapsed:Boolean(e.collapsed)}):(e.format===z().DiscussionFormat.Menu||e.format===z().DiscussionFormat.Sidebar)&&(0,Be.jsx)(At().A,{format:e.format,discussionLocation:e.discussionLocation,store:e.store,blockStore:e.blockStore,onClick:re});return(0,Be.jsxs)("div",{style:{position:"relative",...se.discussionContainer},children:[r?(0,Be.jsx)(it,{store:t[0],discussionStore:e.store,blockStore:e.blockStore,hoveringDiscussion:E,discussionLocation:e.discussionLocation,showResolveButtonByDefaultIfPossible:e.showResolveButtonByDefaultIfPossible,discussionContext:c,shouldShowThreadLine:1!==t.length,isSuggestionComment:u,collapsed:e.collapsed,maxLines:"feed_item_top_level_discussion"===e.discussionLocation&&e.collapsed?(0,z().lineClampForCommentCount)(t.length):void 0,showUnreadStatusDot:Q,showMarkAsRead:Q},t[0].id):void 0,(0,Be.jsx)(It,{insetButton:!$,count:s.length-1,showNewBadge:s.some(((e,o)=>e.id===X&&0!==o&&o!==t.length-1)),onClick:ae,discussionLocation:e.discussionLocation}),a]})}),[ee,$,g,e.store,e.collapsed,e.format,e.discussionLocation,e.blockStore,e.showResolveButtonByDefaultIfPossible,re,se.discussionContainer,E,Q,ae,X,O]),ce=(0,l().K8)((()=>e.blockStore.getRole()),[e.blockStore]),[le,de]=(0,i.useState)(!0);(0,i.useEffect)((()=>{var e;const t=null===(e=n.current)||void 0===e?void 0:e.getNode();if(t&&H){function i(){t&&de(Math.abs((0,o(552736).W)(t))<50)}return i(),t.addEventListener("scroll",i),()=>t.removeEventListener("scroll",i)}}),[H,n]);const De=N&&!e.collapsed&&$&&H&&!le,me=(0,i.useCallback)((()=>{const e=lt().T.findSelectableFromStore(ne);e&&(0,rt().p)({environment:p,handle:e,vertical:{reveal:"bottom"},horizontal:{reveal:"closest"},animate:!0})}),[ne,p]),pe=(0,i.useCallback)((()=>{h.reset()}),[h]),ge=(0,i.useCallback)((()=>{const t=p.currentUser.id;if(!t)return;const o=B().wc(e.store).filter((e=>e.getCreatedById()===t)),n=o.at(-1);if(!n)return;if(g&&1===o.length)return;const i=I().A.find((t=>t.commentId===n.id&&t.discussionLocation===e.discussionLocation));i&&((0,st().clear)({environment:p}),i.edit())}),[e.discussionLocation,g,e.store,p]),fe=(0,i.useCallback)((async()=>{if((0,z().hasCommentChanged)(h)){const{accept:e}=await D().Gh({message:(0,Be.jsx)(x().sA,{defaultMessage:"Do you want to discard this reply?",id:"discussion.confirmDialog.discardReply.prompt"}),acceptLabel:(0,Be.jsx)(x().sA,{defaultMessage:"Discard",id:"discussion.confirmDialog.discardReplyButton.label"})});e?(pe(),t&&t()):(await r().default.afterNextFlush(),(0,_().z)({store:h.state.textStore}))}else pe(),t&&t()}),[t,h,pe]),he=(0,i.useCallback)((()=>{r().default.afterNextFlush((()=>{var e;const t=null===(e=n.current)||void 0===e?void 0:e.getNode();t&&(0,o(292985).V)({element:t,environment:p,options:{top:t.scrollHeight,behavior:"smooth"}})}))}),[n,p]),Se=ve().sg((()=>{setTimeout((()=>V(!0)),50)}),50),xe=(0,i.useCallback)((async()=>{V(!1),L().createAndCommit({userAction:"Discussion.handleSubmitReply",environment:p,canUndo:!0,perform:t=>{T().lV({environment:p,discussionStore:e.store,textValue:h.state.textStore.getValue()||[],transaction:t,discussionLocation:e.discussionLocation,files:h.state.files,property_id:e.store.getPropertyId(),blockStore:e.blockStore}),(0,Fe().U)({transaction:t,discussionStore:e.store})}}),pe(),(0,st().clear)({environment:p}),he(),Se(),s().A.isMobile||(await r().default.afterNextFlush(),(0,o(301809).e)({store:h.state.textStore}))}),[h,Se,e.blockStore,e.store,e.discussionLocation,he,p,pe]),be=(0,i.useCallback)((()=>{M().A.state||w(!0)}),[]),ye=(0,i.useCallback)((()=>{w(!1)}),[]);return 0===ee.commentsToShow.length&&ee.reactionsToShow.length>0||"feed_item_top_level_discussion"===e.discussionLocation&&0===ee.commentsToShow.length&&ee.reactionsToShow.length>0?(0,Be.jsxs)("div",{ref:G,style:{...se.discussionWrapper,...se.reactionBarWrapper},onMouseMove:be,onMouseLeave:ye,children:[e.format===z().DiscussionFormat.Menu||e.format===z().DiscussionFormat.Sidebar?(0,Be.jsx)(Et,{discussionStore:e.store,blockStore:e.blockStore,discussionLocation:e.discussionLocation,hoveringDiscussion:E,discussionContext:(0,Be.jsx)(At().A,{format:e.format,discussionLocation:e.discussionLocation,store:e.store,blockStore:e.blockStore,onClick:re})}):(0,Be.jsx)(we().tx,{focused:!0,disableShadow:!0,parentStore:e.store,discussionLocation:e.discussionLocation}),"feed_item_top_level_discussion"===e.discussionLocation&&e.pageVisitStore&&e.presenceStore?(0,Be.jsx)(o(126126).hJ,{pageVisitStore:e.pageVisitStore,presenceStore:e.presenceStore,rootStore:e.blockStore,maxUsers:5,isShowingInFeed:!0}):void 0]}):(0,Be.jsx)(o(692763).Ay,{store:ne,analyticsName:"discussion",canNativeDropOnto:!0,onNativeDrop:async({files:e})=>{oe.current&&await oe.current.uploadFiles(e)},keepTextSelectionOnDrop:!0,shouldShowDropZone:!0,children:(0,Be.jsxs)("div",{ref:G,style:se.discussionWrapper,onMouseMove:be,onMouseLeave:ye,dir:(0,o(209199).A1)()?"rtl":"ltr",children:[e.collapsed?void 0:(0,Be.jsx)(xt,{commentStore:f[0],discussionLocation:e.discussionLocation}),ue,A?(0,Be.jsx)("div",{style:{height:8}}):(0,Be.jsx)(Bt,{ref:oe,showMoreCommentsButton:Boolean(De),onMoreCommentsClick:he,inputVisible:!(y||e.collapsed&&F&&"feed_item_top_level_discussion"!==e.discussionLocation),store:e.store,blockStore:ne,format:e.format,discussionInputStore:h,discussionLocation:e.discussionLocation,onCancel:fe,onSubmit:xe,onEditPreviousComment:ge,showCtaButtons:!!$||void 0,onFileUploaded:me,role:ce})]})})}const Pt=i.memo(Rt);var zt=()=>o(886901),Nt=()=>o(644914),Ut=()=>o(835066),Kt=()=>o(643443);const Vt=(0,x().YK)({commentsAriaLabel:{defaultMessage:"{count, plural, one {1 comment} other {{count} comments}}",id:"comments.components.discussionindicator.commentAriaLabel"},suggestionsAriaLabel:{defaultMessage:"{count, plural, one {1 suggestion} other {{count} suggestions}}",id:"comments.components.discussionindicator.suggestionAriaLabel"},reactionsAriaLabel:{defaultMessage:"{count, plural, one {1 reaction} other {{count} reactions}}",id:"comments.components.discussionindicator.reactionsAriaLabel"}});function Ot(e){const t=(0,x().tz)(),{store:n,propertyId:i,style:s}=e,{showIndicator:r,formattedReactionCount:u,onlySuggestions:c,icon:d,showReactionsIcon:D,onlyHasDraftIndicator:m,formattedCommentCount:p,handleClick:g,discussionIsSelected:f,commentsCount:v,shouldShowDraftIndicator:C}=(0,o(446944).A)({store:n,recursivelyLoadAllDiscussions:!1,onlyCountBlockLevelDiscussions:!1,propertyId:i}),h=(0,a().v3)(),S=(0,l().K8)((()=>(0,Nt().me)(h)),[h]),b=(0,l().K8)((()=>(0,Ut().dC)(h,n)),[h,n]),{isPropertyInPageDetails:F}=(0,o(517223)._1)({store:n,propertyId:i});return!r||!F&&(S||b)?null:(0,Be.jsxs)(o(249046).Ye,{style:s,children:[v>0||m?(0,Be.jsx)(Kt().M,{icon:d,countLabel:p,ariaLabel:c?t.formatMessage(Vt.suggestionsAriaLabel,{count:p}):t.formatMessage(Vt.commentsAriaLabel,{count:p}),onClick:g,indicatorStatus:C?"draft":void 0,isSelected:f}):void 0,D?(0,Be.jsx)(Kt().M,{icon:o(709837).emojiFaceSmallIcon,countLabel:u,ariaLabel:t.formatMessage(Vt.reactionsAriaLabel,{count:u}),onClick:g}):void 0]})}const Ht=i.memo(Ot);var Wt=()=>o(756117),$t=()=>o(747100),Yt=()=>o(140934),Gt=()=>o(924703),Jt=()=>o(94953),qt=()=>o(116008),Qt=()=>o(849255),Xt=()=>o(302501),Zt=()=>o(515187),eo=()=>o(381553),to=()=>o(659799),oo=()=>o(815585),no=()=>o(938045);function io({discussionData:{groupedDiscussionsData:e,newDiscussionData:t,id:o},onClick:n}){const[s,r]=(0,i.useState)(!1),u=(0,a().v3)(),c=u.currentUser.id,D=(0,i.useCallback)((()=>{r(!0)}),[]),p=(0,i.useCallback)((()=>{r(!1)}),[]),g=t,v=(0,i.useCallback)((async o=>{if(g){const e=dt().default.state.mainEditorCurrentBlockStore;V().A.setActiveWithSource("margin_comments"),await(0,no().x)({currentBlockStore:e,discussionInputStore:t.discussionInputStore,environment:u})}else if(e.length>0){const t=e[0].discussionStore;await n(o,t)}}),[g,e,null==t?void 0:t.discussionInputStore,u,n]),{commentStores:C,reactionStores:h}=(0,l().K8)((()=>{if(e){return{commentStores:e.flatMap((e=>(0,B().wc)(e.discussionStore))),reactionStores:e.flatMap((e=>m().L.getUserVisibleReactions(e.discussionStore)))}}return{commentStores:[],reactionStores:[]}}),[e]),S=(0,l().K8)((()=>{let o;if(g&&(o=t.parentBlockStore),e.length>0&&(o=e[0].parentBlockStore),!o)return;const n=C.map((e=>e.getCreatedById())).filter(Ce().O9),i=h.map((e=>e.getActorPointers().map((e=>e.id)))).flat().filter(Ce().O9);return Array.from(new Set([...n,...i,...g&&c?[c]:[]])).map((e=>Qt().L.createChildStore(o,{table:fe().oo,id:e}))).slice(0,5)}),[e,g,C,h,c,null==t?void 0:t.parentBlockStore]),y=(0,l().K8)((()=>{const e=C.map((e=>e.getLastEditedTime())),t=h.map((e=>e.getCreatedTime()));return Math.max(...e,...t)}),[C,h]),E=(0,l().K8)((()=>e.map((e=>e.discussionStore)).some((e=>{var t;return(0,pt().s)({discussionStore:e,navigableBlockStore:null===(t=e.getParentStore())||void 0===t?void 0:t.getNavigableBlockStore()})}))),[e]),k=(0,d().IS)((()=>({discussion:{background:s?b().Tj.hoveredMarginDiscussionBackground:b().Tj.background.primary,width:Ut().JC,display:"flex",cursor:"pointer",border:`1px solid ${b().Tj.border.secondary}`,borderRadius:10,padding:"12px",alignItems:"center",gap:6},userAvatarsContainer:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"row-reverse",marginInlineEnd:8},lastEditedTime:{marginTop:1,marginInlineEnd:0,marginBottom:0,marginInlineStart:0,whiteSpace:"normal",display:"flex",justifyContent:"center",alignItems:"center",color:b().Tj.text.tertiary,fontSize:12,lineHeight:"15px"},commentAuthorAvatarStyle:{borderRadius:20,position:"relative",userSelect:"none",WebkitUserSelect:"none",width:24,height:24,marginInlineEnd:-6},secondaryLabel:{fontSize:F().J.UISmall.desktop,whiteSpace:"normal",display:"flex",justifyContent:"center",alignItems:"center",lineHeight:"21px",marginInlineStart:0,marginTop:0,color:b().Tj.text.tertiary},expandDiv:{display:"flex",justifyContent:"center",alignItems:"center",marginInlineStart:0},unreadStatusDot:{display:"flex",alignItems:"center",marginInlineEnd:4,marginInlineStart:"auto"}})),[s]),I=(0,Be.jsx)("div",{style:k.secondaryLabel,children:(0,Be.jsx)(x().sA,{defaultMessage:"Draft",id:"marginComments.collapsed.draft.label"})}),j=(0,Be.jsxs)(Be.Fragment,{children:[(0,Be.jsx)("div",{style:k.expandDiv,children:(0,Be.jsx)(f().I,{icon:Zt().w,size:"xxs",colorVariant:"tertiary"})}),g?I:(0,Be.jsx)("div",{style:k.secondaryLabel,children:(0,Be.jsx)(x().sA,{defaultMessage:"Expand",id:"marginComments.collapsed.expand.label"})})]}),M=g?I:y&&(0,Be.jsx)(Xt().A,{isSmall:!0,isSecondaryColor:!0,isMultiline:!0,style:k.lastEditedTime,children:(0,Be.jsx)(to().A,{text:(0,oo().nl)(y,{useUltraCompactFormat:!0}),tooltipText:(0,oo().x$)(y),icon:eo().Y})});return(0,Be.jsxs)("div",{style:k.discussion,onMouseEnter:D,onMouseLeave:p,onClick:v,className:J().OO1,children:[(0,Be.jsx)("div",{style:k.userAvatarsContainer,children:null==S?void 0:S.map((e=>(0,Be.jsx)(yt().E,{authorStore:e,avatarSize:24,avatarStyle:k.commentAuthorAvatarStyle},e.id)))}),(0,Be.jsx)(so,{reactionCount:h.length,commentCount:C.length+(g?1:0)}),s?j:M,E?(0,Be.jsx)("div",{style:k.unreadStatusDot,children:(0,Be.jsx)(w().m,{size:A().jd})}):void 0]})}function so(e){const t=(0,d().IS)((()=>({commentCount:{fontSize:14,whiteSpace:"normal",marginInlineStart:0,color:b().Tj.text.primary,fontWeight:F().Wy.medium,lineHeight:"18px"},textPlaceholder:{background:b().Tj.border.secondaryTranslucent,height:14,width:81,borderRadius:4,marginInlineStart:4}})),[]);return e.commentCount>0?(0,Be.jsx)("div",{style:t.commentCount,children:(0,Be.jsx)(x().sA,{defaultMessage:"{numComments, plural, one {{numComments} comment} other {{numComments} comments}}",id:"marginComments.collapsed.numComments.count",values:{numComments:e.commentCount}})}):e.reactionCount>0?(0,Be.jsx)("div",{style:t.commentCount,children:(0,Be.jsx)(x().sA,{defaultMessage:"{numReactions, plural, one {{numReactions} reaction} other {{numReactions} reactions}}",id:"marginComments.collapsed.numReactions.count",values:{numReactions:e.reactionCount}})}):(0,Be.jsx)("div",{style:t.textPlaceholder})}var ro=()=>o(833744),ao=()=>o(397526),uo=()=>o(862292),co=()=>o(441467);function lo({discussionData:{parentBlockStore:e,discussionInputStore:t},isVisible:o}){const n=(0,i.useRef)(null),s=(0,a().v3)(),r=(0,i.useCallback)((async()=>{const e=await uo().T.formulas.load();co().i5({environment:s,allowActionsWhileCommenting:!0,formulasModule:e})}),[s]),u=(0,l().K8)((()=>t.isEmpty()),[t]),c=(0,i.useCallback)((()=>{V().A.setActiveWithSource("margin_comments")}),[]),D=(0,i.useCallback)((()=>{V().A.resetActiveSource("margin_comments")}),[]),m=(0,i.useCallback)((()=>{u&&qt().A.reset(),V().A.resetEditorActiveSources()}),[u]),p=(0,i.useCallback)((()=>{V().A.setHoverWithSource("margin_comments")}),[]),g=(0,i.useCallback)((()=>{V().A.resetHoverSource("margin_comments")}),[]),f=(0,i.useMemo)((()=>[`.${ao().hq}`]),[]),v=(0,l().K8)((()=>V().A.state.isActivelyComposing),[]),C=(0,l().K8)((()=>V().A.state.isHovered&&!V().A.state.isActivelyComposing),[]),h=Boolean(v||u);(0,ro().L)({active:o&&h,closeHandler:m,ref:n,excludedSelectors:f,ignoreKeydown:!0});const S=(0,d().IS)((()=>({discussion:{borderRadius:10,...v?{boxShadow:b().Tj.shadowSM}:{border:`1px solid ${b().Tj.border.secondaryTranslucent}`},width:Ut().JC,background:b().Tj.selectedMarginDiscussionBackground,willChange:"transform",transition:"transform 200ms ease",transform:v?"translateX(calc(var(--direction, 1) * -20px))":C?"translateX(calc(var(--direction, 1) * -5px))":void 0},discussionInputContainer:{borderRadius:6,paddingTop:8,paddingInlineEnd:8,paddingBottom:4,paddingInlineStart:12,backgroundColor:C?b().Tj.hoveredMarginDiscussionBackground:void 0}})),[v,C]);return(0,Be.jsx)("div",{style:S.discussion,ref:n,className:J().OO1,onMouseEnter:p,onMouseLeave:g,children:(0,Be.jsx)(nt().V,{parentStore:e,discussionInputStore:t,shouldSaveUnsentComments:!1,isMobileSlideUpMenu:!1,discussionFormat:z().DiscussionFormat.Margin,onSubmit:r,onCancel:m,isNewComment:!0,blockStore:e,canDrop:!0,showAvatar:!1,containerStyle:S.discussionInputContainer,showCtaButtons:!0,onFocus:c,onBlur:D})})}function Do({discussionData:{discussionStore:e,parentBlockStore:t},timeMounted:n,onClick:s,isVisible:r,isDiscussionSelected:u,isDiscussionHovered:c}){const D=(0,i.useRef)(null),m=(0,a().v3)(),[p,g]=(0,i.useState)((()=>new(K().A)(m,e.pointer.spaceId))),f=(0,o(59226).X)("block_reactions"),v=e.id,C=(0,i.useRef)(void 0),[h,S]=(0,i.useState)(!1);(0,i.useEffect)((()=>{u&&(C.current=(0,pt().s)({discussionStore:e,navigableBlockStore:t.getNavigableBlockStore()}))}),[e,u,t]);const x=(0,i.useCallback)((()=>{S(!0);const e=setTimeout((()=>{S(!1)}),750);return()=>clearTimeout(e)}),[]);(0,i.useEffect)((()=>{const e=D.current;if(e)return e.addEventListener("flash-halo",x),()=>{e.removeEventListener("flash-halo",x)}}),[x]);const F=(0,l().K8)((()=>e.getCommentStores().length>0),[e]),A=(0,l().K8)((()=>e.getReactionStores().length>0),[e]),E=(0,i.useMemo)((()=>[`.${(0,o(451306).wV)({discussionId:v})}`,`.${ao().hq}`,`.${J().OO1}`]),[v]),w=(0,i.useCallback)((async()=>{const t=I().A.find((e=>e.isEditing()));if(t){if(!(await t.handleCancelEdit()))return}C.current&&(0,Fe().X)({environment:m,discussionStores:[e]}),y().xl()}),[e,m]);(0,ro().L)({active:r&&u,closeHandler:w,ref:D,excludedSelectors:E,ignoreKeydown:!0});const B=(0,i.useCallback)((async t=>{var o;u||(he().E9(m,{discussion_id:e.id,discussion_type:e.getType(),from:"margin_comments",parent_block_id:e.getParentId(),parent_collection_id:null===(o=e.getParentStore())||void 0===o?void 0:o.getParentCollectionIdUpToTwoLevels()}),await s(t,e))}),[s,e,u,m]),k=(0,d().IS)((()=>({discussion:{border:u?void 0:`1px solid ${b().Tj.border.secondaryTranslucent}`,borderRadius:10,padding:u?"1px":void 0,background:h?b().IF.blueWithAlpha(.14):u?b().Tj.selectedMarginDiscussionBackground:c?b().Tj.hoveredMarginDiscussionBackground:b().Tj.background.primary,boxShadow:u?b().Tj.shadowSM:void 0,width:Ut().JC,cursor:u?void 0:"pointer",transition:"background-color 200ms ease"},wrapper:{willChange:"transform",transition:"transform 200ms ease",transform:u?"translateX(calc(var(--direction, 1) * -20px))":c?"translateX(calc(var(--direction, 1) * -5px))":void 0}})),[c,u,h]);return(0,Be.jsxs)("div",{className:J().OO1,ref:D,style:k.wrapper,onClick:B,children:[A&&f?(0,Be.jsx)("div",{style:{width:Ut().JC},children:(0,Be.jsx)(we().tx,{focused:u,parentStore:e,discussionLocation:"margin_comments"})}):void 0,F?(0,Be.jsx)("div",{style:k.discussion,children:(0,Be.jsx)(Pt,{store:e,blockStore:t,format:z().DiscussionFormat.Margin,isFirst:!1,isOnly:!1,showResolveButtonByDefaultIfPossible:!1,discussionLocation:"margin_comments",showAllRepliesAfterTimestamp:n,discussionInputStore:p,collapsed:!u})}):void 0]})}const mo=i.memo(Do);function po(e){const{discussionData:t,isLastItem:o,isDiscussionSelected:n,discussionItemElementMap:s}=e,r=(0,l().K8)((()=>!matchMedia("(prefers-reduced-motion: reduce)").matches),[]),u=(0,d().IS)((()=>{const e=r?"opacity 200ms ease-in-out, top 350ms ease":"opacity 200ms ease-in-out";return{discussionContainer:{transition:t.hide?void 0:e,top:t.offsetTop,position:"absolute",paddingBottom:o?Ut().t_:Ut().kH,zIndex:n?1:void 0,opacity:t.hide?0:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",pointerEvents:"auto"}}}),[t.hide,t.offsetTop,n,o,r]);let c;const D=t.type,m=(0,a().v3)(),p=(0,l().K8)((()=>(0,Ut().$N)(m,t.parentBlockStore)),[m,t.parentBlockStore]),g=(0,i.useCallback)((()=>{Jt().A.setState({source:"margin_comments",discussionIds:[t.id]})}),[t.id]),f=(0,i.useCallback)((()=>{Jt().A.setState({discussionIds:[]})}),[]),v=(0,i.useCallback)((e=>{s.set(t.id,e)}),[t.id,s]);return p?"existing"===D?c=(0,Be.jsx)(mo,{...e,discussionData:t}):"new"===D?c=(0,Be.jsx)(lo,{...e,discussionData:t}):"grouped"===D?c=(0,Be.jsx)(io,{...e,discussionData:t}):(0,Ce().HB)(D):c=null,(0,Be.jsx)("div",{style:u.discussionContainer,onMouseEnter:g,onMouseLeave:f,ref:v,children:c})}const go=i.memo(po),fo=`.${Gt().iU}, .${Gt().F0}, .${Gt().te}`;function vo({pageBlockStore:e,timeMounted:t,isVisible:n,animating:s,pageViewBlockAccessor:r,width:u,context:c}){const D=(0,a().v3)(),m=(0,a().Y0)(),p=(0,i.useRef)(null),g=(0,i.useRef)(new Map),f=(0,i.useRef)(new Map),v=(0,l().K8)((()=>Jt().A.getFirstSelectedDiscussionId()),[]),C=(0,i.useCallback)((async(t,n)=>{var i;(0,o(616068).Z)()||t.target instanceof Element&&t.target.closest(fo)||await T().DZ({discussionStore:n,currentBlockStore:e,environment:D,analyticsFrom:"margin_comments",currentEl:p.current,animateScroll:!0,discussionReadStatus:(0,pt().g)({discussionStore:n,navigableBlockStore:null===(i=n.getParentStore())||void 0===i?void 0:i.getNavigableBlockStore()})})}),[e,D]),[h,S]=(0,i.useState)({data:[],hasNewDiscussion:!1,selectedDiscussion:void 0}),[x,b]=(0,i.useState)(!1),{WindowSizeStore:F}=D,y=o(175947).ek(D.device.isElectronMac),A=(0,l().K8)((()=>!matchMedia("(prefers-reduced-motion: reduce)").matches),[]);(0,i.useEffect)((()=>{if(!n)return;const t=new(Yt().ComputedStore)((()=>({selectableRectMap:o(52957).default.state.selectableRectMap,pageContentStores:e.getContentStores(),sidebarIsAnimating:o(737230).Ay.state.isAnimating,windowHeight:F.state.height})),{debugName:"effectDataStore"}),i=new(Yt().ComputedStore)((()=>Ut().Ob.state),{debugName:"discussionStoresStore"}),a=new(Yt().ComputedStore)((()=>{const e=qt().A.state,t=qt().A.getBlockStore(),n=qt().A.getClosestBlockStore();if(e.open&&e.rect&&"comment"===e.content&&(t||n)&&(!t||o(961232).A.isBlockInFrame(t)&&!e.property_id))return{recomputeFocus:V().A.state.isActivelyComposing,blockStore:t??e.blockStore,discussionInputStore:e.discussionInputStore}}),{debugName:"newMarginDiscussionArgsStore"}),u=new(Yt().ComputedStore)((()=>{if(!V().A.state.isActivelyComposing)return j().A.getFramePageFirstSelectedDiscussionId();j().A.reset()}),{debugName:"selectedDiscussionIdStore"});let l=!1;const d=(0,ve().sg)((()=>{const{selectableRectMap:o,pageContentStores:n,sidebarIsAnimating:d,windowHeight:D}=t.state,v=i.state,C=a.state,F=u.state;if(s||d)return;const E=r();if(!(E&&p.current&&o&&o.size))return;(0,Ut().cY)({discussionStores:v,pageContentStores:n,marginDiscussionItemRefs:g.current,selectedDiscussionId:F,newMarginDiscussionArgs:C,marginContainerElement:p.current,pageViewBlockElement:E,onComputeComplete:(e,t)=>{l||(f.current=t,x||b(!0),S(e))},computedOnce:x,topbarHeight:y,windowHeight:D,isFullWidth:(0,ct().Ck)(e,c,m),prevSelectedDiscussionId:h.selectedDiscussion,previousDiscussionElements:f.current,ignoreOffsetTop:A})}),5);return t.addListener(d),i.addListener(d),u.addListener(d),a.addListener(d),()=>{l=!0,t.removeListener(d),i.removeListener(d),u.removeListener(d),a.removeListener(d)}}),[n,s,r,x,e,h.selectedDiscussion,F,y,D,c,m,A]);const E=(0,d().IS)((()=>({marginCommentsContainer:{display:"flex",flexDirection:"column",paddingTop:8,paddingBottom:8,paddingInlineStart:Ut().JR,paddingInlineEnd:Ut().JR,width:u-2*Ut().JR,flexShrink:0,height:"100%",position:"relative",pointerEvents:"none",zIndex:1}})),[u]);return(0,Be.jsx)("div",{style:E.marginCommentsContainer,ref:p,children:h.data.map(((e,o)=>(0,Be.jsx)(go,{discussionData:e,timeMounted:t,onClick:C,isVisible:n,discussionItemElementMap:g.current,isDiscussionSelected:e.selected||"new"===e.type,isDiscussionHovered:e.id===v,isLastItem:o===h.data.length-1},`margin-discussion-${e.id}`)))})}const Co=i.memo(vo);function ho({pageBlockStore:e,isVisible:t,pageViewBlockAccessor:o,context:n,isCollapsedAnchor:s}){const[r,u]=(0,i.useState)(!1),c=(0,a().v3)(),D=(0,a().Y0)(),m=(0,i.useMemo)((()=>(new Date).getTime()),[]),p=(0,l().K8)((()=>{const t=(0,ct().Ck)(e,n,D);return s?{paddingInlineStart:t?96:16,height:0}:t?void 0:{position:"absolute",insetInlineEnd:(0,Ut().gg)(c,(0,$t().cq)(e),(0,$t().RX)(e))}}),[e,n,c,D,s]),g=(0,i.useCallback)((()=>{u(!0)}),[]),f=(0,i.useCallback)((()=>{u(!1)}),[]),v=(0,d().IS)((()=>({marginCommentsSection:{display:t||r?"flex":"none",flexShrink:0,pointerEvents:"none",width:t?Ut().Qb:0,...p}})),[t,r,p]);return(0,Be.jsx)(Wt().A,{animate:{opacity:t?1:0},onAnimationStart:g,onAnimationEnd:f,style:v.marginCommentsSection,children:(0,Be.jsx)(Co,{pageBlockStore:e,timeMounted:m,isVisible:t,animating:r,pageViewBlockAccessor:o,width:Ut().Qb,context:n})})}var So=()=>o(933922),xo=()=>o(988083),bo=()=>o(127833),Fo=()=>o(30537);const yo=function(e){const{capture:t,children:n}=e,s=(0,i.useRef)(null);return(0,c().b)(o(536612).A,(()=>({getNode:()=>s.current,isCaptured:()=>t})),[t]),(0,Be.jsx)("div",{ref:s,children:i.Children.only(n)})};var Ao=()=>o(691298),Eo=()=>o(151838),wo=()=>o(405981);function Bo({blockStore:e,discussionInputStore:t,handleDismiss:o}){const n=(0,a().v3)(),{device:s,WindowSizeStore:r}=n,u=(0,i.useCallback)((async()=>{const e=await uo().T.formulas.load();co().i5({environment:n,allowActionsWhileCommenting:!0,formulasModule:e})}),[n]),c=(0,l().K8)((()=>xo().A.keyboardHeight()>0),[]),D=(0,l().K8)((()=>{const e=s.isAndroid?12:8;return{paddingLeft:r.getSafePaddingLeftCSS(12),paddingRight:r.getSafePaddingRightCSS(8),paddingBottom:c?e:r.getSafePaddingBottomCSS(e)}}),[r,c,s.isAndroid]),m=(0,l().K8)((()=>s.isMobileBrowser?"90vw":s.isTablet?"470px":"100%"),[s]),p=(0,l().K8)((()=>s.isMobileNative&&s.isPhone?"100%":s.isMobileNative&&s.isTablet?"470px":470),[s]),g=(0,d().IS)((()=>({inputWrapper:{width:p,maxWidth:m,paddingTop:9,paddingInlineStart:D.paddingLeft,paddingInlineEnd:D.paddingRight,paddingBottom:D.paddingBottom}})),[p,m,D]);return(0,Ao().A)({shouldPreserveTextSelection:!0,shouldPreserveBlockSelection:!0,shouldRestoreSelection:!0}),(0,Be.jsx)(So().A,{capture:!0,allowOpenLinkMenu:!0,render:()=>(0,Be.jsx)(Eo().A,{store:e,droppable:!0,render:()=>(0,Be.jsx)(yo,{capture:!0,children:(0,Be.jsx)("div",{style:g.inputWrapper,children:(0,Be.jsx)(nt().V,{showAvatar:!0,parentStore:e,blockStore:e,onCancel:o,onSubmit:u,discussionInputStore:t,isMobileSlideUpMenu:!0,shouldSaveUnsentComments:!1,discussionFormat:z().DiscussionFormat.Page,canDrop:!0})})})},e.id)})}const ko=function(){const e=(0,a().v3)(),t=(0,a().WS)(),n=(0,l().K8)((()=>qt().A.state.rect),[]),s=(0,l().K8)((()=>{if(qt().A.state.open&&"comment"===qt().A.state.content){const{discussionInputStore:o}=qt().A.state;if((0,Nt().me)(e))return null;if(qt().A.updateRect(),V().A.state.isActivelyComposing){"comments_pane"===V().A.state.clickEntryPoint&&V().A.setActiveWithSource("popover_comments");const n=qt().A.getBlockStore();var t;if(n)return{blockStore:n,discussionInputStore:o,canMarginCommentsRender:!(null!==(t=qt().A.state)&&void 0!==t&&t.property_id)&&(0,Ut().$N)(e,n)}}}return null}),[e]),r=(0,i.useCallback)((()=>{const t=null==s?void 0:s.discussionInputStore;t&&(0,o(36088).M)({discussionInputStore:t,environment:e})}),[e,null==s?void 0:s.discussionInputStore]),u=(0,i.useCallback)((()=>{qt().A.hasContent()?V().A.resetEditorActiveSources():s&&(0,o(681634).c)()}),[s]);(0,i.useEffect)((()=>{function t(t){const o=qt().A.state,n=o.open&&"comment"===o.content&&o.discussionInputStore||void 0;n&&((0,wo().HR)({discussionInputStore:n,environment:e,discussionHelpers:z()}),t.preventDefault())}return window.addEventListener("beforeunload",t),()=>{window.removeEventListener("beforeunload",t)}}),[e]);const c=(0,l().K8)((()=>o(543886).A.state.isOpen),[]);return(0,l().K8)((()=>V().A.state.overlapsExistingDiscussionMenu),[])?null:(0,Be.jsx)(bo().zD,{popupType:t?Fo().n.SlideUp:Fo().n.Popup,keepFocus:!0,open:null!==s&&(!s.canMarginCommentsRender||c),originRect:n,placementToOrigin:"bottom",alignmentToOrigin:"center",originGap:4,onDismiss:u,render:()=>s?(0,Be.jsx)(Bo,{blockStore:s.blockStore,discussionInputStore:s.discussionInputStore,handleDismiss:u}):null,onAnimationEnd:r})};var Io=()=>o(779315),jo=()=>o(695115),Mo=()=>o(297813),_o=()=>o(21510);const Lo=function(){const e=(0,a().v3)(),t=(0,a().Y0)(),{open:o,rect:n,discussionLocation:i}=(0,l().K8)((()=>{const{open:e,rect:t}=_o().A.state;return{open:e,rect:t,discussionLocation:_o().A.state.open?_o().A.state.discussionLocation:_o().A.state.prevDiscussionLocation}}),[]),{popupType:s,bottomSheetInitialState:r}=function(e){if(!e.device.isPhone)return{popupType:Fo().n.Popup,bottomSheetInitialState:void 0};return{popupType:Fo().n.BottomSheet,bottomSheetInitialState:"full"}}({device:t,discussionLocation:i});return(0,Be.jsx)(bo().zD,{popupType:s,bottomSheetInitialState:r,bottomSheetBackgroundColor:s===Fo().n.BottomSheet?"primary":void 0,open:o,originRect:n,placementToOrigin:"bottom",alignmentToOrigin:"center",originGap:4,onDismiss:()=>(0,R().o)(e),render:()=>(0,Be.jsx)(To,{}),trapFocus:!0})};function To(){const e=(0,a().v3)(),t=(0,x().tz)(),o=(0,l().O$)(_o().A),n=(0,l().K8)((()=>_o().A.state.open?_o().A.state.discussionInputStore.state.textStore.getValue():null),[]),r=(0,d().IS)((()=>({closeButton:{position:"absolute",insetInlineEnd:10,borderRadius:"50%",background:b().Tj.background.tertiaryTranslucent}})),[]);if((0,i.useEffect)((()=>{var e;if(o.open&&"feed_item_top_level_discussion"===o.discussionLocation)return;const t=null===(e=Io().A.MenuScroller)||void 0===e?void 0:e.getNode();null==t||t.scrollTo({top:t.scrollHeight})}),[n,o]),o.open){const{discussionStore:n,discussionInputStore:i,blockStore:a,discussionLocation:u}=o;let c;return c=s().A.isMobile?{menuType:Q().gu.Modal,title:(0,Be.jsx)(x().sA,{defaultMessage:"Discussion",id:"discussion.mobileReplyMenu.title"}),right:(0,Be.jsx)(jo().A,{icon:Mo().xMarkFillIcon,onClick:()=>(0,R().o)(e),style:r.closeButton,ariaLabel:t.formatMessage({id:"updateSidebar.header.closeLabel",defaultMessage:"Close"})}),onClickRight:()=>(0,R().o)(e),whiteBackground:!0}:{menuType:Q().gu.Popup,width:420,minHeight:"100px",maxHeight:"50vh",maxWidth:"100%"},(0,Be.jsx)(X().A,{className:J()._qG,...c,children:(0,Be.jsx)(So().A,{capture:!0,allowMobileAutoScroll:!0,render:()=>(0,Be.jsx)(Pt,{store:n,discussionInputStore:i,onDismiss:()=>(0,R().o)(e),format:z().DiscussionFormat.Menu,isFirst:!0,isOnly:!0,showResolveButtonByDefaultIfPossible:!0,blockStore:a,collapsed:!1,..."feed_item_top_level_discussion"===u?{pageVisitStore:void 0,presenceStore:void 0,discussionLocation:"feed_item_top_level_discussion"}:{discussionLocation:u}})})})}return null}var Ro=()=>o(165492),Po=()=>o(22426),zo=()=>o(528787)},709438:(e,t,o)=>{o.d(t,{m:()=>u});o(296540);var n=()=>o(401497),i=()=>o(69708),s=()=>o(100622),r=o(474848);const a=8;function u({color:e,size:t,style:o}){const u=(0,i().tz)(),c=(0,n().IS)((()=>({dot:{height:t||a,width:t||a,background:e||s().Tj.blue.icon.accentPrimary,flexShrink:0,borderRadius:"100%",pointerEvents:"none",...o}})),[t,e,o]);return(0,r.jsx)("div",{role:"img","aria-label":u.formatMessage({id:"statusDot.ariaLabel",defaultMessage:"New"}),style:c.dot})}},741817:(e,t,o)=>{o.d(t,{v:()=>r});var n=()=>o(18387),i=()=>o(299545),s=()=>o(588836);function r(e){const{discussionStore:t,transaction:o}=e,r=i().No(t);r&&(0,s().u)({discussionIds:[t.id],transaction:o,blockStore:r});const a=(0,n().Z)();if(a){const e=i().zo({blockStore:a,transclusionReferences:"recurseInto",childPages:"omit"});for(const n of e){if(r&&n.table===r.table&&n.id===r.id)continue;const e=i().bN(n).getValue();null!=e&&e.includes(t.id)&&(0,s().u)({discussionIds:[t.id],transaction:o,blockStore:n})}}}},782798:(e,t,o)=>{o.d(t,{R:()=>s});o(296540);var n=o(474848);const i={viewBox:"0 0 16 16",fittedViewBox:"2.12 3.37 11.75 9.25",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M6.75 5.073a1.275 1.275 0 1 0 0 2.55 1.275 1.275 0 0 0 0-2.55"}),(0,n.jsx)("path",{d:"M4 3.375c-1.036 0-1.875.84-1.875 1.875v5.5c0 1.036.84 1.875 1.875 1.875h8c1.036 0 1.875-.84 1.875-1.875v-5.5c0-1.036-.84-1.875-1.875-1.875zM3.375 5.25c0-.345.28-.625.625-.625h8c.345 0 .625.28.625.625v2.537l-1.768-1.769a.575.575 0 0 0-.813 0L6.788 9.274l-1.531-1.53a.575.575 0 0 0-.814 0L3.375 8.811zm3.82 5.244 3.255-3.256 2.175 2.175v1.337c0 .345-.28.625-.625.625H4a.625.625 0 0 1-.625-.625v-.312L4.85 8.963l1.531 1.531a.575.575 0 0 0 .813 0"})]})},s=(0,o(340498).wt)("photoSmall",i,"small")},797324:(e,t,o)=>{o.d(t,{A:()=>g});var n=o(296540),i=()=>o(560520),s=()=>o(484714),r=()=>o(790748),a=()=>o(581010),u=()=>o(69708),c=()=>o(100622),l=()=>o(284371),d=()=>o(396406),D=()=>o(718827),m=()=>o(843798),p=o(474848);function g(e){const{onDismiss:t,inputRef:o}=e,g=(0,s().Y0)(),f=(0,n.useRef)(null),v=g.isMobileNative&&g.isIOS,C=v&&e.show;(0,r().b)(a().A,(()=>({getNode:()=>f.current,isShown:()=>C})),[C]);const h=(0,i().n)(),S=(0,n.useCallback)((()=>{var e;null==o||null===(e=o.current)||void 0===e||e.focus(),t&&t();const n=document.activeElement;n instanceof HTMLElement&&n.blur()}),[o,t]);if(!v)return null;const x=C?-(m().j+h):0;return(0,p.jsx)(d().O,{open:!0,children:(0,p.jsx)("div",{style:{position:"fixed",top:"100vh",width:"100%",height:m().j,display:C?"flex":"none",alignItems:"center",justifyContent:"flex-end",backgroundColor:c().Tj.keyboardDoneBarBackground,transform:`translateY(${x}px)`,transition:C?"ease-out":"ease-in",boxShadow:C?`\n\t\t\t\t\t\t\t\t0 -1px 0 ${c().Tj.border.primaryTranslucent}\n\t\t\t\t\t\t\t`:void 0},ref:f,children:(0,p.jsx)(D().Ay,{style:{display:"flex",alignItems:"center",marginInlineEnd:16,color:c().oZ.blue,fontWeight:l().Wy.semibold},onTouchEnd:()=>{S()},children:(0,p.jsx)(u().sA,{defaultMessage:"Done",id:"mobile.dismissKeyboardBar.button.label"})})})})}},848401:(e,t,o)=>{o.d(t,{Ay:()=>g,mI:()=>m,vb:()=>p});o(296540);var n=()=>o(401497),i=()=>o(718827),s=()=>o(807449),r=()=>o(784892),a=()=>o(563692),u=()=>o(340498),c=()=>o(69708),l=()=>o(284371),d=o(474848);const D=(0,c().YK)({removeTokenLabel:{defaultMessage:"Remove {title}",id:"uiGenericToken.removeTokenLabel"},removeTokenLabelGeneric:{defaultMessage:"Remove Item",id:"uiGenericToken.removeTokenLabelGeneric"}}),m=r().NY,p={[r().NY.ExtremeSmall]:{height:12,fontSize:10,margin:"0 4px 0 0",marginEditState:"0 6px 0 0",closeIconSize:u().Ev.xxs,avatarSize:14},[r().NY.ExtraSmall]:{height:14,fontSize:12,margin:"0 6px 0 0",marginEditState:"0 6px 0 0",closeIconSize:u().Ev.xxs,avatarSize:14},[r().NY.Small]:{height:18,fontSize:12,margin:"0 6px 6px 0",marginEditState:"0 6px 6px 0",closeIconSize:u().Ev.xxs,avatarSize:16},[r().NY.CompactEssential]:{height:20,fontSize:14,margin:"0 10px 6px 0",marginEditState:"0 6px 6px 0",closeIconSize:u().Ev.xxs,avatarSize:20},[r().NY.Medium]:{height:20,fontSize:14,margin:"0 10px 6px 0",marginEditState:"0 6px 6px 0",closeIconSize:u().Ev.xxs,avatarSize:20},[r().NY.Inline]:{height:20,fontSize:14,closeIconSize:u().Ev.xxs,avatarSize:20,margin:"0 -5px 0 0",marginEditState:"0 6px 0 0"},[r().NY.Large]:{height:24,fontSize:16,margin:"0 8px 8px 0",marginEditState:"0 8px 8px 0",closeIconSize:u().Ev.sm,avatarSize:24}};function g({avatarSize:e,format:t,isSingle:o,onClickRemove:r,renderAvatar:u,showRemoveButton:m,shouldShrink:g,style:f,title:v}){const C=(0,c().tz)(),{height:h,fontSize:S,margin:x,marginEditState:b,closeIconSize:F,avatarSize:y}=p[t],A=e??y,E=(0,n().IS)((()=>({root:{display:"flex",alignItems:"center",flexShrink:g?1:0,minWidth:0,height:h,borderRadius:6,fontSize:S,lineHeight:"120%",margin:o?0:m?b:x,...f}})),[S,h,o,x,b,g,m,f]);return(0,d.jsxs)("div",{style:E.root,children:[null==u?void 0:u(A),(0,d.jsx)("div",{className:"notranslate",style:{...l().RC},children:v}),m?(0,d.jsx)(i().Ay,{ariaLabel:void 0!==v?C.formatMessage(D.removeTokenLabel,{title:v}):C.formatMessage(D.removeTokenLabelGeneric),onClick:r,style:{display:"flex",alignItems:"center",justifyContent:"center",width:h,height:h,marginInlineStart:2,marginInlineEnd:2,flexGrow:0,flexShrink:0,borderRadius:6},children:(0,d.jsx)(s().I,{icon:a().xMarkFillSmallIcon,size:F,style:{opacity:.5}})}):null]})}},848565:(e,t,o)=>{o.d(t,{FB:()=>D,JC:()=>p,Ql:()=>m,Wv:()=>s,Yz:()=>a,ds:()=>i,e4:()=>n,eQ:()=>r,im:()=>c,jw:()=>u,k2:()=>d,uG:()=>l});const n=8,i=10,s=8,r=24,a=6,u=1.5,c=(r-u)/2,l=r+a,d=`calc(100% + ${s+(n-a)-l}px)`,D=r+8,m=-16;function p(e,t,o){return t?20:"margin_comments"===e?12:"comment_unfurl"===e&&"start"===o?14:16}},863522:(e,t,o)=>{o.d(t,{C:()=>s});o(296540);var n=o(474848);const i={viewBox:"0 0 20 20",fittedViewBox:"3.12 1.25 15.63 15.63",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M16.25 6.25a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5"}),(0,n.jsx)("path",{d:"M5.25 3.125h7.302a3.8 3.8 0 0 0 0 1.25H5.25a.875.875 0 0 0-.875.875v9.5c0 .483.392.875.875.875h9.5a.875.875 0 0 0 .875-.875V7.448a3.8 3.8 0 0 0 1.25 0v7.302a2.125 2.125 0 0 1-2.125 2.125h-9.5a2.125 2.125 0 0 1-2.125-2.125v-9.5c0-1.174.951-2.125 2.125-2.125"})]})},s=(0,o(340498).wt)("markUnread",i,"default")},893497:(e,t,o)=>{o.d(t,{L:()=>a});var n=o(296540),i=()=>o(756117),s=()=>o(401497),r=o(474848);function a(e){const{children:t,style:o,visible:a,onShow:u,onHide:c,...l}=e,d=(0,n.useCallback)((()=>{null==u||u()}),[u]),D=(0,n.useCallback)((()=>{a||null==c||c()}),[a,c]),m=(0,s().IS)((()=>({wrapper:{...o,position:"absolute",pointerEvents:a?"auto":"none",cursor:"default"}})),[o,a]);return(0,r.jsx)(i().A,{...l,visible:a,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onAnimationStart:d,onAnimationEnd:D,style:m.wrapper,children:t})}},934999:(e,t,o)=>{o.r(t),o.d(t,{archiveBoxIcon:()=>s,iconDefinition:()=>i});o(296540);var n=o(474848);const i={viewBox:"0 0 20 20",fittedViewBox:"3.12 3.12 13.75 13.76",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M8 9.875a.625.625 0 1 0 0 1.25h4a.625.625 0 1 0 0-1.25z"}),(0,n.jsx)("path",{d:"M3.125 4.75c0-.897.728-1.625 1.625-1.625h10.5c.898 0 1.625.728 1.625 1.625v1.57c0 .676-.413 1.256-1 1.5v7.43c0 .898-.727 1.625-1.625 1.625h-8.5a1.625 1.625 0 0 1-1.625-1.625V7.82c-.587-.244-1-.824-1-1.5zm11.5 3.195h-9.25v7.305c0 .207.168.375.375.375h8.5a.375.375 0 0 0 .375-.375zm1-1.625V4.75a.375.375 0 0 0-.375-.375H4.75a.375.375 0 0 0-.375.375v1.57c0 .205.164.372.369.375h10.512a.375.375 0 0 0 .369-.375"})]})},s=(0,o(340498).wt)("archiveBox",i,"default")},970236:(e,t,o)=>{o.d(t,{E:()=>a});o(296540);var n=()=>o(401497),i=()=>o(100622),s=()=>o(284371),r=o(474848);function a(e){const{color:t="gray",style:o,content:a,...u}=e,c=(0,n().IS)((()=>({badge:{alignSelf:"center",padding:"2px 4px",background:i().Tj[t].background.secondaryTranslucent,color:i().Tj[t].text.accentPrimary,borderRadius:4,fontSize:11,fontWeight:s().Wy.medium,lineHeight:1.3,...o}})),[t,o]);return(0,r.jsx)("div",{style:c.badge,...u,children:a})}},988591:(e,t,o)=>{o.d(t,{Z:()=>a,v:()=>r});var n=o(296540),i=o(474848);const s=(0,n.createContext)(void 0);function r(){return(0,n.useContext)(s)}function a(e){const{index:t,children:o}=e;return(0,i.jsx)(s.Provider,{value:t,children:o})}s.displayName="NotificationIndexContext"},993949:(e,t,o)=>{o.d(t,{J:()=>i,M:()=>s});o(16280);var n=o(296540);const i=n.createContext(null);function s(){const e=(0,n.useContext)(i);if(!e)throw new Error("ActionBarContext must be used inside ActionBar");return e}i.displayName="ActionBarContext"},994006:(e,t,o)=>{o.d(t,{A:()=>i});o(296540);var n=o(474848);const i=function(e){const t={marginInlineEnd:e.avatarMarginRight??6,alignSelf:"center"},i={display:"flex",alignItems:"center",minWidth:0,...e.style},s=e.inline?{...t,width:"none",minHeight:"none"}:t,{userStore:r,avatarShouldShowShadow:a,avatarSize:u,hasTooltip:c,tooltipHeader:l,hasPersonHoverCard:d,spaceStore:D}=e,m=(0,o(69708).tz)(),p=(0,o(590526).K8)((()=>null==r?void 0:r.getDisplayName(m)),[r,m]),g=(0,n.jsxs)("div",{style:i,children:[(0,n.jsx)("div",{style:s,children:(0,n.jsx)(o(453697).A,{userStore:r,avatarShouldShowShadow:a,size:u,hasTooltip:c&&!d,hasPersonHoverCard:!1,tooltipHeader:l})}),(0,n.jsx)("div",{className:"notranslate",style:{...o(284371).RC},children:p})]});return d?(0,n.jsx)(o(436525).D,{userStore:r,spaceStore:D,children:g}):g}}}]);