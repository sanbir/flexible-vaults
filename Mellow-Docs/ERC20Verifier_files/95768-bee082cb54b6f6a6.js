"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[95768],{22426:(e,t,n)=>{n.d(t,{$:()=>ce,s:()=>fe});n(944114),n(898992),n(354520),n(581454);var i=n(296540),o=()=>n(484714),s=()=>n(590526),r=()=>n(401497),a=()=>n(611648),l=()=>n(150669),d=()=>n(118307),c=()=>n(807449),u=()=>n(546926),m=()=>n(406094),p=()=>n(373009),g=()=>n(302501),h=()=>n(890492),x=()=>n(81068),f=()=>n(663639),v=()=>n(736847),S=()=>n(895189),y=()=>n(69708),b=()=>n(100622),j=()=>n(496603),w=()=>n(534177),T=()=>n(284371),I=()=>n(142060),k=()=>n(279047),A=()=>n(376254),C=()=>n(709438),D=()=>n(712030),M=()=>n(381678),B=()=>n(29554),z=()=>n(141333),R=()=>n(123021),K=()=>n(200688),E=()=>n(623275),P=()=>n(869562),U=()=>n(737230),V=()=>n(789557),F=()=>n(725332),N=()=>n(938045),_=()=>n(848565),L=()=>n(655236),O=()=>n(835066),W=()=>n(116008),H=()=>n(456101),$=n(474848);const G=(0,y().YK)({unreadDiscussions:{defaultMessage:"Discussions",id:"topbar.discussionsPopup.unreadDiscussions"},seeAll:{defaultMessage:"See all",id:"topbar.discussionsPopup.seeAll"},caughtUpMessage:{defaultMessage:"You’re all caught up",id:"topbar.discussionsPopup.caughtUpMessage"},caughtUpSubMessage:{defaultMessage:"There are no open discussions",id:"topbar.discussionsPopup.caughtUpSubMessage"},newSectionTitle:{defaultMessage:"New",id:"topbar.discussionsPopup.newSectionTitle"},previousSectionTitle:{defaultMessage:"Previous",id:"topbar.discussionsPopup.previousSectionTitle"},draftSectionTitle:{defaultMessage:"Draft",id:"topbar.discussionsPopup.draftSectionTitle"},viewCommentFallback:{defaultMessage:"View comment",id:"topbar.discussionsPopup.viewComment"},viewDraftCommentFallback:{defaultMessage:"View draft comment",id:"topbar.discussionsPopup.viewDraftComment"}}),Z=14,J=16,Y=16,X=20,q=10,Q=2*q+_().eQ,ee=28+_().eQ,te=268,ne=25,ie=5,oe=384,se=492,re=8,ae=32,le="unread_discussions_popup";function de(e){return e.sort(((e,t)=>{var n,i;const o=e.getUserSeenRecordStore(),s=t.getUserSeenRecordStore(),r=(null==o?void 0:o.getLastSeenAt())??0,a=(null==s?void 0:s.getLastSeenAt())??0;if(a-r!=0)return a-r;const l=(null===(n=e.getLastCommentStore())||void 0===n?void 0:n.getCreatedTime())??0;return((null===(i=t.getLastCommentStore())||void 0===i?void 0:i.getCreatedTime())??0)-l}))}function ce(e){const{blockStore:t,unreadDiscussionsPopupStore:n}=e,i=(0,K().S)(t),o=(0,s().K8)((()=>i.filter((e=>!e.getResolved()))),[i]),r=(0,s().K8)((()=>W().A.isComposingNewDiscussion()),[]),a=0===o.length&&!r,{unreadDiscussions:l,readDiscussions:d}=(0,s().K8)((()=>{const[e,n]=j().jB(o,(e=>(0,L().s)({discussionStore:e,navigableBlockStore:t.getNavigableBlockStore()})));return{unreadDiscussions:de(e).slice(0,ne),readDiscussions:de(n).slice(0,ie)}}),[o,t]);return(0,$.jsx)(ue,{blockStore:t,unreadDiscussions:l,readDiscussions:d,shouldRenderZeroState:a,unreadDiscussionsPopupStore:n})}function ue({blockStore:e,unreadDiscussions:t,readDiscussions:n,shouldRenderZeroState:c,unreadDiscussionsPopupStore:m}){const p=(0,s().uB)(void 0,d().A),g=(0,s().uB)(void 0,l().A),x=(0,r().IS)((()=>({container:{width:E().$D,fontSize:T().J.UIRegular.desktop,display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"flex-start",maxHeight:se},header:{paddingTop:Z,paddingBottom:q,paddingInlineStart:Y,paddingInlineEnd:Y,width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",color:b().Tj.text.primary,fontWeight:T().Wy.medium,flexShrink:0},notificationDropdown:{marginInlineEnd:-6},scroller:{flexGrow:1,minHeight:0,maxHeight:oe,width:"100%"},menuListStyle:{width:"100%",paddingInlineStart:0,paddingInlineEnd:0}})),[]),v=(0,o().v3)(),S=fe({unreadDiscussions:t,readDiscussions:n,handleDiscussionClick:(0,i.useCallback)((async t=>{var n;m.reset();const i=(0,O().$N)(v,e),o=(0,L().g)({discussionStore:t,navigableBlockStore:e.getNavigableBlockStore()});"unread"===o&&"page"===(null===(n=t.getParentStore())||void 0===n?void 0:n.getType())&&(0,F().X)({environment:v,discussionStores:[t]}),await V().DZ({discussionStore:t,currentBlockStore:e,environment:v,analyticsFrom:le,currentEl:null,shouldSetRect:!0,animateScroll:i,discussionReadStatus:o})}),[v,e,m]),handleDraftDiscussionClick:(0,i.useCallback)((()=>{m.reset();const t=W().A.getDiscussionInputStore();(0,N().x)({currentBlockStore:e,discussionInputStore:t,environment:v})}),[e,v,m]),isMobile:!1,hasDraftComment:(0,s().K8)((()=>W().A.isComposingNewDiscussion()),[])}),j=(0,i.useCallback)((()=>{m.reset(),U().Ay.setToShowAllDiscussions(),P().handleSidebarButtonClick(v,e,U().tF.Comments,"new_discussions_sheet")}),[v,e,m]);return(0,$.jsxs)("div",{style:x.container,children:[(0,$.jsxs)("div",{style:x.header,children:[(0,$.jsx)(y().sA,{...G.unreadDiscussions}),(0,$.jsx)("div",{style:x.notificationDropdown,children:(0,$.jsx)(R().O,{blockStore:e,from:le,buttonPopupStore:p,renderType:"button"})})]}),c?(0,$.jsx)(pe,{handleSeeAllComments:j}):(0,$.jsxs)(h().A,{menuType:u().gu.Popup,width:E().$D,children:[(0,$.jsx)(A().H,{type:a().A.Y,style:x.scroller,store:g,children:(0,$.jsx)(f().A,{type:f().O.Vertical,sections:S,initialFocus:void 0,style:x.menuListStyle})}),(0,$.jsx)(me,{scrollerStore:g,handleSeeAllComments:j})]})]})}function me({scrollerStore:e,handleSeeAllComments:t}){const n=(0,s().K8)((()=>e.state.elementRef),[e]),i=(0,z().CR)(n)>(0,z().o7)(n),o=(0,r().IS)((()=>({footer:{display:"block",flexGrow:0,flexShrink:0,flexBasis:"auto",width:"100%"},footerContent:{width:"100%",paddingTop:i?16:8,paddingBottom:J,paddingInlineStart:Y,paddingInlineEnd:Y},seeAllButton:{width:"100%",height:ae}})),[i]);return(0,$.jsxs)("div",{style:o.footer,children:[(0,$.jsx)(k().A,{type:"bottom",scrollerStore:e}),(0,$.jsx)("div",{style:o.footerContent,children:(0,$.jsx)(p().E,{onClick:t,style:o.seeAllButton,children:(0,$.jsx)(g().A,{children:(0,$.jsx)(y().sA,{...G.seeAll})})})})]})}function pe({handleSeeAllComments:e}){const t=(0,y().tz)(),n=(0,r().IS)((()=>({container:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:te,width:"100%",paddingBottom:J,paddingInlineStart:Y,paddingInlineEnd:Y},messageContainer:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%"},caughtUpMessage:{marginTop:6,fontWeight:T().Wy.medium},caughtUpSubMessage:{marginTop:2},seeAllButton:{fontSize:T().J.UIRegular.desktop,marginTop:q}})),[]);return(0,$.jsxs)("div",{style:n.container,children:[(0,$.jsxs)("div",{style:n.messageContainer,children:[(0,$.jsx)(c().I,{icon:S().d,size:"xl",colorVariant:"tertiary"}),(0,$.jsx)(g().A,{isSecondaryColor:!0,style:n.caughtUpMessage,children:t.formatMessage(G.caughtUpMessage)}),(0,$.jsx)(g().A,{isSecondaryColor:!0,style:n.caughtUpSubMessage,children:t.formatMessage(G.caughtUpSubMessage)})]}),(0,$.jsx)(m().A,{onClick:e,style:n.seeAllButton,size:"lg",children:t.formatMessage(G.seeAll)})]})}function ge({focused:e,isMobile:t,onClick:n,authorElement:i,contentElement:o,rightElement:s}){const a=(0,r().IS)((()=>{const e=t?T().J.UIRegular.mobile:T().J.UIRegular.desktop,n=t?X/2:Y/2,i=t?void 0:q;return{container:{paddingInlineStart:n,paddingInlineEnd:n,fontSize:e,width:"100%"},buttonStyle:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",gap:6,paddingTop:i,paddingBottom:i,paddingInlineStart:n,paddingInlineEnd:n+(t?0:2),borderRadius:8,maxHeight:t?ee:Q,minHeight:t?ee:void 0},left:{marginInlineStart:0},right:{marginInlineEnd:0},contentContainer:{display:"flex",flexDirection:"row",alignItems:"center",overflow:"hidden",flex:1,fontSize:e,gap:6,color:b().Tj.text.secondary},menuItem:{borderBottom:void 0,background:void 0,paddingInlineStart:0,paddingInlineEnd:0,gap:6}}}),[t]);return(0,$.jsx)("div",{style:a.container,children:(0,$.jsx)(x().A,{onClick:n,focused:e,buttonStyle:a.buttonStyle,style:a.menuItem,itemMarginLeft:0,itemMarginRight:0,leftStyle:a.left,left:i,title:(0,$.jsx)("div",{style:a.contentContainer,children:o}),right:s,rightStyle:a.right})})}function he({discussionStore:e,handleClick:t,focused:n,isMobile:o,isUnread:a}){const l=(0,r().IS)((()=>({text:{color:b().Tj.text.secondary,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",fontWeight:T().Wy.regular}})),[]),d=(0,s().K8)((()=>e.getLastCommentStore()),[e]),c=(0,s().K8)((()=>null==d?void 0:d.getCreatedByStore()),[d]),u=(0,i.useMemo)((()=>(0,$.jsx)("div",{style:l.text,children:(0,$.jsx)(y().sA,{...G.viewCommentFallback})})),[l.text]);if(!c)return null;const m=o?T().J.UIRegular.mobile:T().J.UIRegular.desktop;return(0,$.jsx)(ge,{focused:n,isMobile:o,onClick:async()=>await t(e),authorElement:(0,$.jsx)(H().Y,{authorStore:c,location:"updates_sidebar",suppressMouse:!0,shouldOmitTimestamp:!0,authorFontSizeOverride:m,createdTime:Date.now(),lastEditedTime:Date.now()}),contentElement:d?(0,$.jsx)(I().j,{discussionStore:e,commentStore:d,location:"unread_discussions_popup",fallbackText:u}):u,rightElement:a?(0,$.jsx)(C().m,{size:re}):void 0})}function xe({focused:e,isMobile:t,handleClick:n}){const a=(0,r().IS)((()=>({text:{color:b().Tj.text.secondary,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",fontWeight:T().Wy.regular}})),[]),l=(0,o().v3)(),d=(0,r().DP)(),c=(0,s().K8)((()=>(0,M()._)(l)),[l]),u=(0,i.useMemo)((()=>(0,$.jsx)("div",{style:a.text,children:(0,$.jsx)(y().sA,{...G.viewDraftCommentFallback})})),[a.text]),m=(0,s().K8)((()=>{var e;const t=null===(e=W().A.getDiscussionInputStore())||void 0===e?void 0:e.getState().textStore.getValue(),n=W().A.getBlockStore(),i=null==n?void 0:n.getSpaceId();return t&&(0,w().O9)(i)&&W().A.state.open&&n?(0,B().S5)({textValue:{value:t,spaceId:i},parentStore:n,environment:l,disableStyleAnnotations:!1,disableInsertedDeletedAnnotations:!1,disableDateStyleAnnotations:!1,disableSuggestionAnnotations:!1,disableHover:!0,disabled:!0,theme:d,emojiType:(0,D().FN)(l),katex:l.KatexStore.getKatex(),formulaValueTypes:[]}):u}),[l,u,d]);if(!c)return null;const p=t?T().J.UIRegular.mobile:T().J.UIRegular.desktop;return(0,$.jsx)(ge,{focused:e,isMobile:t,onClick:n,authorElement:(0,$.jsx)(H().Y,{authorStore:c,location:"updates_sidebar",suppressMouse:!0,shouldOmitTimestamp:!0,authorFontSizeOverride:p,lastEditedTime:Date.now(),createdTime:Date.now()}),contentElement:m,rightElement:(0,$.jsx)(C().m,{size:re,color:"#CB9433"})})}function fe({unreadDiscussions:e,readDiscussions:t,handleDiscussionClick:n,handleDraftDiscussionClick:i,isMobile:o,hasDraftComment:s}){const r=(()=>{const n=[];return s&&n.push("draft"),e.length>0&&n.push("new"),t.length>0&&n.push("previous"),n})(),a=(e,t)=>{const n=(e=>{const t=r.length>0&&e===r[0];return{desktop:{paddingInlineStart:Y,paddingInlineEnd:Y,marginBottom:4,marginTop:t?2:8},mobile:{paddingInlineStart:X,paddingInlineEnd:X,marginTop:t?14:0}}})(e),i="draft"!==e&&1===r.length;return e=>(0,$.jsx)(v().A,{...e,disableMobilePadding:!0,disableDesktopPadding:!0,title:(0,$.jsx)(y().sA,{...t}),mobileTitleStyle:n.mobile,desktopTitleStyle:n.desktop,hideTitle:i})},l={draft:{key:"draft",render:a("draft",G.draftSectionTitle),items:[{key:"draft_discussion",render:e=>(0,$.jsx)(xe,{focused:e.focused,isMobile:o,handleClick:i}),action:i}]},new:{key:"new",render:a("new",G.newSectionTitle),items:e.map((e=>({key:e.id,render:t=>(0,$.jsx)(he,{focused:t.focused,discussionStore:e,handleClick:n,isMobile:o,isUnread:!0}),action:async()=>{await n(e)}})))},previous:{key:"previous",render:a("previous",G.previousSectionTitle),items:t.map((e=>({key:e.id,render:t=>(0,$.jsx)(he,{focused:t.focused,discussionStore:e,handleClick:n,isMobile:o,isUnread:!1}),action:async()=>{await n(e)}})))}};return r.map((e=>l[e]))}},27356:(e,t,n)=>{n.r(t),n.d(t,{UISpacePermissionGroupToken:()=>v});var i=n(296540),o=()=>n(726637),s=()=>n(484714),r=()=>n(590526),a=()=>n(401497),l=()=>n(942194),d=()=>n(784892),c=()=>n(437607),u=()=>n(914462),m=()=>n(69708),p=()=>n(100622),g=()=>n(284371),h=()=>n(848401),x=()=>n(580648),f=n(474848);function v(e){const{parentStore:t,style:n,format:v}=e,S=e.groupPointer.id,y=e.groupPointer.spaceId,b=(0,c().S4)({spacePermissionGroupId:S,spaceId:y}),j=(0,r().K8)((()=>{if(e.groupModel)return e.groupModel;if(!t)return;return l().C.createChildStore(t,b).getModel()}),[t,b,e.groupModel]),w=(0,s().Y0)(),{outerStyle:T,avatarWrapStyle:I}=(0,a().IS)((()=>({outerStyle:{display:"flex",alignItems:"center",minWidth:0},avatarWrapStyle:{width:"none",minHeight:"none",marginInlineEnd:6},badgeStyle:{borderRadius:4,background:p().Tj.legacyDefaultSelectColor,fontSize:o().A.isMobile?11:9,lineHeight:w.isAndroid?1.5:1,textTransform:"uppercase",letterSpacing:"0.04em"}})),[w]),k=(0,m().tz)(),A=(0,r().K8)((()=>(0,u().n)({intl:k,permissionGroupModel:j})),[k,j]),C=(0,i.useCallback)((e=>v===d().NY.Inline?(0,f.jsx)(x().o,{group:j,size:e}):(0,f.jsxs)("div",{style:T,children:[(0,f.jsx)("div",{style:I,children:(0,f.jsx)(x().o,{group:j,size:e})}),(0,f.jsx)("div",{style:{...g().RC},children:A})]})),[v,T,I,j,A]);return(0,f.jsx)(h().Ay,{...e,style:{margin:0,...n},renderAvatar:C})}},38554:(e,t,n)=>{n.d(t,{U:()=>r});var i=()=>n(590526),o=()=>n(822789),s=()=>n(229508);function r(){const e=(0,s().a)();return(0,i().K8)((()=>(0,o().XM)(e)),[e])}},53528:(e,t,n)=>{n.d(t,{OH:()=>a,T2:()=>l,do:()=>d});var i=()=>n(597777),o=()=>n(869190),s=()=>n(604995),r=()=>n(416504);function a(e){const{dateTime:t,intl:n,shortenDateAndRange:i}=e,r=s().C6.toPersistedDate(t.valueOf());return o().ZF({value:r,allowRelativeDates:!0,intl:n,shortenDateAndRange:i,displayInUserTimezone:!0})}function l(e){const{dateTime:t,intl:n,userTimeZone:i,displayInUserTimezone:r,alwaysIncludeTimezone:a}=e,l=s().C6.toPersistedDateTime(t.valueOf(),t.zoneName);return o().ZF({value:l,allowRelativeDates:!0,intl:n,userTimeZone:i,displayInUserTimezone:r,alwaysIncludeTimezone:a})}function d(e){const{luxonRange:t,intl:n}=e,a=s().C6.toPersistedDateRange(t),l=o().ZF({value:a,allowRelativeDates:!1,shortenDateAndRange:!0,intl:n,displayInUserTimezone:!0}),d=t.end.setZone((0,r().P)()),c=o().fU({start_time:d.toFormat(i().GE),humanReadable:!1,intl:n});return n.formatMessage({id:"verification.timeRange",defaultMessage:"{formattedDateRange} at {formattedEndTime}"},{formattedDateRange:l,formattedEndTime:c})}},79877:(e,t,n)=>{n.d(t,{A:()=>c});var i=n(296540),o=()=>n(597777),s=()=>n(869190),r=()=>n(604995),a=()=>n(416504),l=()=>n(100622),d=n(474848);const c=function(e){const t=(0,n(69708).tz)(),c=(0,n(396182).I)(),p=(0,i.useRef)(),g=(0,i.useCallback)((()=>{const t=e.value;if(!t)return;const i=r().q8(t,(0,a().P)());if(!i)return;const o=i.valueOf(),s=o-Date.now();s<0||s>n(720665).nD||p.current&&p.current.timestamp===o||(p.current&&clearTimeout(p.current.timer),p.current={timestamp:o,timer:setTimeout((()=>c("DateBox","DateBox/createReminderTimer")),s)})}),[c,e.value]),h=(0,i.useCallback)((()=>{p.current&&(clearTimeout(p.current.timer),p.current=void 0)}),[]);(0,i.useEffect)((()=>{g()}),[g]),(0,i.useEffect)((()=>()=>{h()}),[h]);const{value:x,withComma:f}=e,v=(0,n(590526).K8)((()=>x?(0,s().ZF)({value:x,date_format:e.dateFormat,time_format:e.timeFormat,userTimeZone:(0,a().P)(),allowRelativeDates:!0,intl:t,shortenDateAndRange:e.shortenDateAndRange,displayInUserTimezone:e.displayInUserTimezone,getToday:n(847109).x1}):void 0),[t,e.dateFormat,e.displayInUserTimezone,e.shortenDateAndRange,e.timeFormat,x]);if(!x)return null;const S=r().AA(x,(0,a().P)(),n(609679).locale);let y;if((0,o().Lh)(x)){const e=r().Zs(x,(0,a().P)());y=e?{color:l().Tj.red.text.accentPrimary}:{color:l().oZ.blue}}const b=(0,d.jsxs)(d.Fragment,{children:[v,(0,o().Lh)(x)?(0,d.jsx)(n(807449).I,{icon:n(472219).alarmSmallIcon,style:{display:"inline-block",width:"1.2em",marginInlineStart:5,marginInlineEnd:2,paddingBottom:3,verticalAlign:"middle"}}):void 0,f?", ":null]});return e.disableTooltip?(0,d.jsx)("div",{className:e.className,style:{...e.style,...y},children:b}):(0,d.jsx)(n(26697).m,{renderTooltip:()=>(0,d.jsxs)(d.Fragment,{children:[e.tooltipHeader,(0,d.jsxs)("div",{style:m(e.tooltipHeader),children:[u(S.start),S.end?` → ${u(S.end)}`:""]})]}),render:t=>(0,d.jsx)("div",{className:e.className,style:{...e.style,...y},...t,children:b}),placement:e.tooltipPlacement})};function u(e){return(0,s().eV)({value:e,preset:"medium"})}function m(e){return e?{color:l().Tj.text.inverseSecondary}:{}}},123021:(e,t,n)=>{n.d(t,{O:()=>A});n(898992),n(672577),n(581454);var i=n(296540),o=()=>n(383036),s=()=>n(484714),r=()=>n(792485),a=()=>n(590526),l=()=>n(401497),d=()=>n(250910),c=()=>n(546926),u=()=>n(631524),m=()=>n(26697),p=()=>n(890492),g=()=>n(736847),h=()=>n(324254),x=()=>n(104077),f=()=>n(588047),v=()=>n(69708),S=()=>n(100622),y=()=>n(284371),b=()=>n(636714),j=()=>n(267271),w=()=>n(848259),T=()=>n(538075),I=()=>n(518773),k=n(474848);function A(e){var t;const{blockStore:n,from:A,buttonPopupStore:C,renderType:D}=e,M=(0,s().v3)(),B=(0,a().K8)((()=>n.isPageBlock()),[n]),z=(0,a().K8)((()=>n.getFollowSettingsKey()),[n]),R=(0,i.useCallback)((()=>{w().zP({environment:M,pageId:n.pointer.id,isCurrentlyFollowing:(0,I().A)(z).following,from:A})}),[n.pointer.id,M,z,A]),K=(0,a().K8)((()=>T().H8({followSettingsKey:z,environment:M,blockStore:n,from:A})),[z,M,n,A]),E=(0,r().S)(),P=(0,l().IS)((()=>({buttonContainer:{display:"flex",alignItems:"center",color:S().Tj.text.secondary,borderRadius:4,marginInlineEnd:0,fontSize:y().J.UIRegular.desktop,..."button"===D?{paddingInlineStart:2,paddingInlineEnd:2}:{padding:"4px 10px"}},spacer:{flexGrow:1}})),[D]),U=null===(t=K.find((e=>T().I7({key:e.action.analyticsName,userSelectedKey:z}))))||void 0===t?void 0:t.title;return B?(0,k.jsx)(d().A,{popupType:d().z.Popup,alignmentToOrigin:"end",placementToOrigin:"bottom",sameWidthAsOrigin:"select"===D,buttonPopupStore:C,render:e=>(0,k.jsx)(p().A,{menuType:c().gu.Popup,minWidth:290,maxHeight:"50vh",children:(0,k.jsx)(b().A,{context:{blocks:[],environment:M,publicEditMode:void 0,pageContext:E},sections:[(0,j().gy)({key:"in-app-notifications-section",render:e=>(0,k.jsx)(g().A,{...e,title:"button"===D?(0,k.jsx)(v().sA,{id:"GetNotifiedDropdown.options.header",defaultMessage:"Page notification settings"}):void 0}),actions:K.map((e=>e.action))})],initialFocus:void 0,onAccept:()=>e.close()})}),renderOrigin:e=>"select"===D?(0,k.jsxs)(u().p,{...(0,o().A)(e,{onClick:R}),style:P.buttonContainer,iconLeading:{icon:f().k,size:"xs"},iconTrailing:{icon:h().arrowChevronSingleDownSmallIcon,size:"xs"},children:[U,(0,k.jsx)("div",{style:P.spacer})]}):(0,k.jsx)(m().m,{placement:"bottom",renderTooltip:()=>(0,k.jsx)(v().sA,{id:"GetNotifiedDropdown.button.tooltip",defaultMessage:"Page notification settings"}),render:t=>(0,k.jsx)(u().p,{...(0,o().A)((0,o().A)(t,{onClick:R}),e),style:P.buttonContainer,size:"sm",iconLeading:{icon:x().r,size:"default"}})})}):null}},142060:(e,t,n)=>{n.d(t,{j:()=>C});n(898992),n(823215),n(296540);var i=()=>n(484714),o=()=>n(590526),s=()=>n(401497),r=()=>n(807449),a=()=>n(700500),l=()=>n(601813),d=()=>n(522419),c=()=>n(37142),u=()=>n(782798),m=()=>n(340498),p=n(474848);const g={viewBox:"0 0 16 16",fittedViewBox:"2.12 3.37 11.75 9.25",svg:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("path",{d:"M6.753 5.845a.383.383 0 0 0-.576.33v3.85c0 .295.321.477.576.33l3.332-1.926a.38.38 0 0 0 0-.658z"}),(0,p.jsx)("path",{d:"M4 3.375c-1.036 0-1.875.84-1.875 1.875v5.5c0 1.036.84 1.875 1.875 1.875h8c1.036 0 1.875-.84 1.875-1.875v-5.5c0-1.036-.84-1.875-1.875-1.875zM3.375 5.25c0-.345.28-.625.625-.625h8c.345 0 .625.28.625.625v5.5c0 .345-.28.625-.625.625H4a.625.625 0 0 1-.625-.625z"})]})},h=(0,m().wt)("playButtonSmall",g,"small"),x={viewBox:"0 0 16 16",fittedViewBox:"1.97 1.89 12.05 12.21",svg:(0,p.jsx)("path",{d:"M6.92 1.895a.625.625 0 0 0-.625.625v10.96a.625.625 0 1 0 1.25 0V2.52a.625.625 0 0 0-.625-.625m-2.16 1.84a.625.625 0 0 0-.625.625v7.28a.625.625 0 1 0 1.25 0V4.36a.625.625 0 0 0-.625-.625m6.48.4a.625.625 0 0 0-.625.625v6.48a.625.625 0 1 0 1.25 0V4.76a.625.625 0 0 0-.625-.625m-2.16 1.04a.625.625 0 0 0-.625.625v4.4a.625.625 0 1 0 1.25 0V5.8a.625.625 0 0 0-.625-.625M2.6 6.295a.625.625 0 0 0-.625.625v2.16a.625.625 0 1 0 1.25 0V6.92a.625.625 0 0 0-.625-.625m10.8 0a.625.625 0 0 0-.625.625v2.16a.625.625 0 0 0 1.25 0V6.92a.625.625 0 0 0-.625-.625"})},f=(0,m().wt)("waveformSmall",x,"small");var v=()=>n(201980),S=()=>n(924703),y=()=>n(69708),b=()=>n(100622),j=()=>n(712030),w=()=>n(29554),T=()=>n(299545);const I=(0,y().YK)({filesString:{id:"commentText.filesString",defaultMessage:"{count, plural, one {# file} other {# files}}"}});function k(e){if("inbox_notification"===e)return 14}const A=96;function C(e){const{discussionStore:t,commentStore:n,location:m,fallbackText:g}=e,x=function(e){return"inbox_notification"===e?2:"unread_discussions_popup"===e?1:void 0}(m),C=(0,i().v3)(),D=(0,s().DP)(),M=(0,y().tz)(),B=(0,o().K8)((()=>{const e=T().gp(n).getValue();if(e&&(0,v().w9s)(e)&&t.isSuggestionDiscussion()){const e=t.getContext();if(e)return(0,l().l8)({discussionContextData:e,discussionType:"suggestion",discussionId:t.id,intl:M})}return e}),[n,t,M]),z=(0,o().K8)((()=>n.getSpaceId()),[n]),R=(0,o().K8)((()=>{const e=T().dd(n);if(!e||0===e.length)return null;const t=e[0],i=function(e){switch(e.getType()){case a().xd.image:return u().R;case a().xd.video:return h;case a().xd.audio:return f;default:return c().x}}(t),o=e.length,s=t.getProperties(),r=(0,v().q4_)(null==s?void 0:s.source),l=(0,v().q4_)(null==s?void 0:s.title),m=(0,d().SB)({title:l,source:r||""});if(1===o&&m)return{iconFunction:i,text:m,fileCount:1};const g=t.getType();return{iconFunction:e.every((e=>e.getType()===g))?i:c().x,fileCount:o,text:(0,p.jsx)(y().sA,{...I.filesString,values:{count:o}})}}),[n]),K=(0,o().K8)((()=>{if(!B||!z)return null;const e="inbox_notification"===m?(0,S().Eh)({textValue:B,currentUserId:C.currentUser.id,getRecordModel:t.getRecordModel,highlightStyle:"text_only"}):B;return(0,w().S5)({environment:C,textValue:{value:e,spaceId:z},parentStore:t,disableStyleAnnotations:!1,disableInsertedDeletedAnnotations:!1,disableDateStyleAnnotations:!1,disableSuggestionAnnotations:!1,disableHover:!0,disabled:!0,theme:D,emojiType:(0,j().FN)(C),katex:C.KatexStore.getKatex(),formulaValueTypes:[]})}),[B,z,m,C,t,D]),E=(0,s().IS)((()=>({commentText:{whiteSpace:"pre-wrap",wordBreak:"break-word",fontSize:k(m),color:b().Tj.text.secondary,lineHeight:"21px",position:"relative",overflow:"hidden"},lineTruncation:{display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:x},lineTruncationFlex:{display:"flex",flexDirection:"row",width:"100%"},singleLineTruncation:{maxWidth:R?`calc(100% - ${A}px)`:void 0,...1===x&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},fileAttachment:{display:"inline-flex",alignItems:"baseline",gap:4,maxWidth:A,marginInlineStart:K?4:-2,color:b().Tj.text.tertiary,verticalAlign:"baseline"},fileIcon:{flexShrink:0,color:b().Tj.text.tertiary,alignSelf:"center"},fileText:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:1===(null==R?void 0:R.fileCount)?A-20:void 0}})),[R,x,m,K]);return K||R?(0,p.jsxs)("span",{style:{...E.commentText,...1===x?E.lineTruncationFlex:E.lineTruncation},children:[K?(0,p.jsx)("span",{style:E.singleLineTruncation,children:K}):void 0,R?(0,p.jsxs)("span",{style:E.fileAttachment,children:[(0,p.jsx)(r().I,{icon:R.iconFunction,size:"sm",style:E.fileIcon}),(0,p.jsx)("span",{style:E.fileText,children:R.text})]}):void 0]}):(0,p.jsx)("span",{style:E.commentText,children:g||null})}},200688:(e,t,n)=>{n.d(t,{B:()=>l,S:()=>a});n(898992),n(354520);var i=()=>n(590526),o=()=>n(79926),s=()=>n(774733),r=()=>n(655236);function a(e,t){const{value:n}=(0,o().fJ)(s().commentsDependency);return(0,i().K8)((()=>e&&n?n.discussionHelpers.getDiscussionsForSidebar({blockStore:e,currentUserId:e.userId,ignoreAfterTime:t??Date.now()}).filter((e=>e.isDefined()&&e.getCommentPointers().length>0)):[]),[n,e,t])}function l({navigableBlockStore:e}){const t=a(e);return(0,i().K8)((()=>t.filter((t=>(0,r().s)({discussionStore:t,navigableBlockStore:e})))),[t,e])}},229508:(e,t,n)=>{n.d(t,{a:()=>s});var i=()=>n(907258),o=()=>n(590526);function s(){return(0,o().O$)(i().AppStoreSidebarSpaceViewStore)}},253447:(e,t,n)=>{n.d(t,{F:()=>o});var i=()=>n(963575);function o(e,t){if(e)return e;switch(t){case"large":return i().A.card.desktop.large.height;case"small":return i().A.card.desktop.small.height;default:return i().A.card.desktop.medium.height}}},271232:(e,t,n)=>{n.d(t,{t:()=>s});var i=n(296540),o=n(474848);const s=i.memo((function(e){const{coverHeight:t,coverSizeFormat:i,emptyGalleryCoverStyle:s}=e,r=(0,n(401497).IS)((()=>({container:{height:(0,n(253447).F)(t,i),...s}})),[t,i,s]);return(0,o.jsx)("div",{style:r.container})}))},279047:(e,t,n)=>{n.d(t,{A:()=>c});var i=n(296540),o=()=>n(590526),s=()=>n(401497),r=()=>n(100622),a=()=>n(141333),l=n(474848);const d=4;function c({scrollerStore:e,type:t,dividerColor:n,errorMargin:c=d}){const u=(0,o().K8)((()=>e.state.elementRef),[e]),m=(0,a().Xg)(u),p=(0,a().CR)(u),g=(0,a().sj)(u),h=(0,a().yE)(u),x=(0,a().o7)(u),f=(0,a().HJ)(u),v=(0,i.useMemo)((()=>{if(!e)return!1;switch(t){case"top":return Math.round(h)>c;case"bottom":return Math.abs(Math.round(h)-(p-x))>c;case"left":return Math.round(g)>c;case"right":return Math.abs(Math.round(g)-(m-f))>c}}),[e,t,c,m,p,g,h,x,f]),S="left"===t||"right"===t,y=(0,s().IS)((()=>({divider:{flexShrink:0,boxShadow:v?S?`1px 0 0 ${n??r().Tj.border.secondaryTranslucent}`:`0 1px 0 ${n??r().Tj.border.secondaryTranslucent}`:"0 0 0 transparent",transition:"box-shadow 300ms",...S?{width:1,height:"100%",marginInlineStart:-1}:{height:1,width:"100%",marginTop:-1},zIndex:99}})),[S,v,n]);return(0,l.jsx)("div",{style:y.divider})}},300985:(e,t,n)=>{n.d(t,{Z:()=>o});n(296540);const i={viewBox:"0 0 20 20",fittedViewBox:"2.49 2.37 15.01 15.25",svg:(0,n(474848).jsx)("path",{d:"M7.154 3.625h1.23a.625.625 0 1 0 0-1.25h-1.23A2.625 2.625 0 0 0 4.529 5v2.069c0 .9-.508 1.722-1.313 2.124l-.317.159a.725.725 0 0 0 0 1.297l.317.158a2.38 2.38 0 0 1 1.313 2.124V15a2.625 2.625 0 0 0 2.625 2.625h1.23a.625.625 0 1 0 0-1.25h-1.23c-.76 0-1.375-.616-1.375-1.375v-2.069c0-1.17-.564-2.256-1.492-2.931a3.63 3.63 0 0 0 1.492-2.931V5c0-.76.615-1.375 1.375-1.375m5.692 12.75h-1.23a.625.625 0 1 0 0 1.25h1.23A2.625 2.625 0 0 0 15.471 15v-2.069c0-.9.508-1.722 1.313-2.124l.317-.159a.725.725 0 0 0 0-1.296l-.317-.159a2.38 2.38 0 0 1-1.313-2.124V5a2.625 2.625 0 0 0-2.625-2.625h-1.23a.625.625 0 1 0 0 1.25h1.23c.76 0 1.375.616 1.375 1.375v2.069c0 1.17.564 2.256 1.492 2.931a3.63 3.63 0 0 0-1.492 2.931V15c0 .76-.615 1.375-1.375 1.375"})},o=(0,n(340498).wt)("curlyBraces",i,"default")},358006:(e,t,n)=>{n.d(t,{z:()=>r});n(296540);var i=()=>n(79926),o=n(474848);const s=new(i().O2)("CollectionItemCover",(async()=>{const{CollectionItemCover:e}=await n.e(79883).then(n.bind(n,873718));return{CollectionItemCover:e}})),r=(0,i()._h)(s,(e=>e.CollectionItemCover),{renderLoading:(e,t)=>{const{coverHeight:i,coverSizeFormat:s,emptyGalleryCoverStyle:r,showEmptyGalleryCover:a}=t;return a?(0,o.jsx)(n(271232).t,{coverHeight:i,coverSizeFormat:s,emptyGalleryCoverStyle:r}):null}})},381553:(e,t,n)=>{n.d(t,{Y:()=>s});n(296540);var i=n(474848);const o={viewBox:"0 0 16 16",fittedViewBox:"2.37 2.37 11.25 11.25",svg:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("path",{d:"M7.053 6.407a.643.643 0 1 0 0 1.286.643.643 0 0 0 0-1.286m1.894 0a.643.643 0 1 0 0 1.286.643.643 0 0 0 0-1.286m1.893 0a.643.643 0 1 0 0 1.286.643.643 0 0 0 0-1.286M5.159 8.3a.643.643 0 1 0 0 1.287.643.643 0 0 0 0-1.286M7.053 8.3a.643.643 0 1 0 0 1.287.643.643 0 0 0 0-1.286M8.947 8.3a.643.643 0 1 0 0 1.287.643.643 0 0 0 0-1.286M10.84 8.3a.643.643 0 1 0 0 1.287.643.643 0 0 0 0-1.286m-5.681 1.894a.643.643 0 1 0 0 1.286.643.643 0 0 0 0-1.286m1.894 0a.643.643 0 1 0 0 1.286.643.643 0 0 0 0-1.286m1.894 0a.643.643 0 1 0 0 1.286.643.643 0 0 0 0-1.286"}),(0,i.jsx)("path",{d:"M4.25 2.375c-1.036 0-1.875.84-1.875 1.875v7.5c0 1.036.84 1.875 1.875 1.875h7.5c1.036 0 1.875-.84 1.875-1.875v-7.5c0-1.036-.84-1.875-1.875-1.875zm-.625 9.375V5.632h8.75v6.118c0 .345-.28.625-.625.625h-7.5a.625.625 0 0 1-.625-.625"})]})},s=(0,n(340498).wt)("viewCalendarSmall",o,"small")},456101:(e,t,n)=>{n.d(t,{Y:()=>Z,e:()=>G});var i=n(296540),o=()=>n(59226),s=()=>n(726637),r=()=>n(484714),a=()=>n(792485),l=()=>n(590526),d=()=>n(401497),c=()=>n(876338),u=()=>n(457205),m=()=>n(849255),p=()=>n(996332),g=()=>n(970236),h=()=>n(807449),x=()=>n(552712),f=()=>n(302501),v=()=>n(584262),S=()=>n(517198),y=()=>n(381553),b=()=>n(120739),j=()=>n(179034),w=()=>n(854150),T=()=>n(496703),I=()=>n(69708),k=()=>n(100622),A=()=>n(284371),C=()=>n(824160),D=()=>n(187820),M=()=>n(16006),B=()=>n(659799),z=()=>n(815585),R=()=>n(899905),K=()=>n(492414),E=()=>n(436525),P=()=>n(617711),U=()=>n(396933),V=()=>n(915019),F=()=>n(898808),N=()=>n(848565),_=()=>n(143943),L=()=>n(811879),O=n(474848);function W(e){const{authorStore:t,displayName:n,suppressMouse:i,styles:o}=e,s=(0,r().v3)(),d=(0,a().S)(),p=(0,l().K8)((()=>(0,c().$)(d)),[d]),g=t instanceof m().L?t.id:void 0,h="show"===(0,U().$)({spaceStore:p,viewedUserId:g}),f=(0,l().K8)((()=>{const e=t.id;if(!p)return;const n=s.idCreator.getSpaceIdCreatorSync(p.id);return(0,P().o4)({userId:e,spaceIdCreator:n,pageVisitSource:v().y8.CommentAuthor})}),[t,s,p]),S=(0,l().K8)((()=>{if(!(t instanceof u().v))return;const e=t.getModel();if(null==e||!e.isWorkflowBot())return;const n=e.getWorkflowId();return n?(0,T().L)({workflowId:n,params:{workflowViewType:"settings"},pageVisitSource:v().y8.CommentAuthor}):void 0}),[t]),y=(0,O.jsx)("div",{style:o.author,children:n||(0,O.jsx)("span",{style:o.placeholder})});return S&&!i?(0,O.jsx)(x().N,{href:S,children:y}):h&&!i?(0,O.jsx)(x().N,{href:f,children:y}):y}function H({sourceStore:e,iconSize:t,styles:n}){const i=(0,l().K8)((()=>null==e?void 0:e.getSpaceId()),[e]),o=null==e?void 0:e.table,s=(0,l().K8)((()=>o===w().yK?null==e?void 0:e.getName():void 0),[e,o]),r=(0,l().K8)((()=>o===j().ev?null==e?void 0:e.getIcon():void 0),[e,o]),a=(0,l().K8)((()=>(0,D().Te)(e)),[e]),d=(0,l().K8)((()=>{if(o)return o===j().ev?(0,K().Ay)({store:e,pageVisitSource:v().y8.UnifiedFeedScroll}):(0,b().a)({teamId:e.id,spaceId:i})}),[e,o,i]);return e?o===w().yK?(0,O.jsx)(p().Q,{style:n.linkBox,href:d,children:(0,O.jsxs)("div",{style:n.teamIconAndName,children:[(0,O.jsx)(F().x,{size:t,store:e,disabled:!1}),(0,O.jsx)("span",{style:n.teamName,children:s})]})}):(0,O.jsx)(V().A,{store:e,render:i=>(0,O.jsx)(p().Q,{href:d,style:n.linkBox,...i,children:(0,O.jsxs)("div",{style:n.teamIconAndName,children:[(0,O.jsx)(D().B6,{disabled:!0,isEmptyPage:!1,icon:r,iconRecordCategory:a,size:t,emojiSize:t,disableShrinking:!0,largeIcon:!0}),(0,O.jsx)(M().A,{style:n.teamName,store:e,underline:!1})]})})}):null}function $({createdTime:e,lastEditedTime:t,style:n,authorRowLocation:i}){const o=t&&t>e+5e3,s=(0,l().K8)((()=>(0,z().nl)(e,{useUltraCompactFormat:!0,nowOverrideMs:(0,R().m)().state.timeNow})),[e]);return(0,O.jsxs)(f().A,{isSmall:!0,isSecondaryColor:!0,isMultiline:!0,style:n,children:[(0,O.jsx)(B().A,{text:s,tooltipText:(0,O.jsx)(I().sA,{defaultMessage:"Created {absoluteCreatedTime}",id:"comment.createdAtTime.label",values:{absoluteCreatedTime:(0,z().x$)(e)}}),icon:y().Y}),o?(0,O.jsxs)(O.Fragment,{children:[" ",(0,O.jsx)(B().A,{text:(0,O.jsx)(I().sA,{defaultMessage:"(edited)",id:"comment.editedAtIndicator"}),tooltipText:(0,O.jsx)(I().sA,{defaultMessage:"Last edited {absoluteLastEditedTime}",id:"comment.editedAtTime.label",values:{absoluteLastEditedTime:(0,z().x$)(t)}}),icon:y().Y})]}):null]})}function G({lastEditedTime:e,createdTime:t,location:n,sourceStore:o,authorStore:s,isSuggested:r,commentStore:a}){const d=(0,I().tz)(),c=(0,i.useRef)(null),u=(0,l().K8)((()=>{const e=s.getDisplayName(d);return a?a.resolveAuthorDisplayName({intl:d,defaultDisplayName:e}):e}),[a,d,s]),m=J({location:n,authorFontSize:15,enableTeamNameUnderline:!1}),p=(0,l().K8)((()=>null==o?void 0:o.isTable(w().yK)),[o]);return t?(0,O.jsxs)("div",{style:{...m.mobileAuthorRow},children:[(0,O.jsx)("div",{style:{...m.user,...m.mobileUserAvatar},children:(0,O.jsx)(L().E,{authorStore:s,avatarSize:35,avatarStyle:m.avatar})}),(0,O.jsxs)("div",{style:{...m.mobileUserAndTeamLink},children:[(0,O.jsx)("div",{style:m.userRow,children:(0,O.jsxs)("div",{ref:c,style:m.user,children:[(0,O.jsx)(W,{authorStore:s,displayName:u,suppressMouse:!1,styles:m}),(0,O.jsx)($,{createdTime:t,lastEditedTime:e,style:m.timestamp,authorRowLocation:n}),r?(0,O.jsx)(Y,{}):null]})}),(0,O.jsx)("div",{style:{...m.user,...m.mobileTeamLink},children:p?(0,O.jsx)(H,{sourceStore:o,iconSize:15,styles:m}):null})]})]}):null}function Z({lastEditedTime:e,createdTime:t,location:n,isResolved:i,isSuggestionComment:s,sourceStore:r,authorStore:a,isSuggested:d,commentStore:c,suppressMouse:u,shouldOmitTimestamp:p,authorFontSizeOverride:g}){const x=(0,I().tz)(),f=(0,_().C)({type:"discussionLocation",location:n}),v=(0,l().K8)((()=>null==c?void 0:c.getSpaceStore()),[c]),y=(0,l().K8)((()=>{const e=a.getDisplayName(x);return c?c.resolveAuthorDisplayName({intl:x,defaultDisplayName:e}):e}),[c,x,a]),b=(0,o().X)("ken_new_home_design")&&"post_creator"===n,j=b?32:N().eQ,w=J({location:n,authorFontSize:g??(f?A().J.UIRegular.mobile:A().J.UIRegular.desktop),enableTeamNameUnderline:!1}),T=(0,l().K8)((()=>{if(a instanceof m().L)return a}),[a]);return t?(0,O.jsxs)("div",{style:w.userRow,children:[(0,O.jsx)(E().D,{spaceStore:v,userStore:T,suppressMouse:u,children:(0,O.jsxs)("div",{style:w.user,children:[s?(0,O.jsxs)("div",{style:{position:"relative"},children:[(0,O.jsx)(L().E,{authorStore:a,avatarSize:j,avatarStyle:w.avatar}),(0,O.jsx)("div",{style:w.avatarSuggestionBadgeWrapper,children:(0,O.jsxs)("div",{style:w.avatarSuggestionBadge,children:[(0,O.jsx)(h().I,{icon:S().f,size:10}),(0,O.jsx)("div",{style:w.avatarSuggestionBadgeBacking})]})})]}):(0,O.jsx)(L().E,{authorStore:a,avatarSize:j,avatarStyle:w.avatar}),b?(0,O.jsx)("div",{style:w.avatarBubbleTipWrapper,children:(0,O.jsx)("div",{style:w.avatarBubbleTip})}):(0,O.jsx)(W,{authorStore:a,displayName:y,suppressMouse:u,styles:w})]})}),r?(0,O.jsxs)(O.Fragment,{children:[b?void 0:(0,O.jsx)("div",{style:w.in,children:(0,O.jsx)(I().sA,{id:"posts.post.inPreposition",defaultMessage:" in "})}),(0,O.jsx)(H,{sourceStore:r,iconSize:b?16:14,styles:w})]}):void 0,d?(0,O.jsx)(Y,{}):void 0,p?void 0:(0,O.jsx)($,{createdTime:t,lastEditedTime:e,style:w.timestamp,authorRowLocation:n}),"comment_unfurl"===n&&i?(0,O.jsx)("div",{style:{display:"inline-flex"},children:(0,O.jsx)(C().A,{children:(0,O.jsx)(I().sA,{id:"comment.unfurl.resolvedStatus",defaultMessage:"Resolved"})})}):void 0]}):null}function J({location:e,authorFontSize:t,enableTeamNameUnderline:n}){const i=(0,o().X)("ken_new_home_design")&&"post_creator"===e,r=(0,d().eP)();return(0,d().IS)((()=>({avatar:{marginTop:0,marginInlineEnd:s().A.isMobile?1:2,userSelect:"none",...i&&{position:"absolute",insetInlineEnd:"100%",marginInlineEnd:16}},avatarBubbleTipWrapper:{position:"absolute",width:12,height:24,insetInlineEnd:"100%",paddingInlineStart:8,overflow:"hidden"},avatarBubbleTip:{borderRadius:3,transform:"rotate(45deg)",background:k().Tj.background.elevated,width:24,height:24,border:`1px solid ${k().Tj.border.secondaryTranslucent}`},avatarSuggestionBadgeWrapper:{position:"absolute",insetInlineEnd:-2,bottom:-4},avatarSuggestionBadge:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center",borderRadius:100,background:"light"===r?"#fff":"#000",width:16,height:16,border:`1px solid ${k().Tj.palette.uiBlue[200]}`,fill:k().Tj.palette.uiBlue[600]},avatarSuggestionBadgeBacking:{position:"absolute",width:"100%",height:"100%",borderRadius:100,background:k().Tj.palette.uiBlue[100]},in:{color:k().Tj.text.secondary},timestamp:{whiteSpace:"normal",flexGrow:"updates_sidebar"===e||"comment_unfurl"===e?void 0:1,display:"inline",color:k().Tj.text.tertiary},userRow:{display:"flex",flexDirection:"row",alignItems:"center",userSelect:"none",fontSize:t,gap:6},user:{display:"flex",alignItems:"center",gap:6},placeholder:{height:8,width:81,borderRadius:6,background:k().Tj.background.tertiaryTranslucent},teamIconAndName:{display:"flex",alignItems:"center",gap:8},linkBox:{borderRadius:6,padding:"4px 6px",marginInline:-4},author:{fontWeight:A().Wy.medium,whiteSpace:"normal",flexShrink:0},teamName:{lineHeight:1.3,...n?{borderBottom:`1px solid ${k().Tj.border.primaryTranslucent}`}:{}},mobileAuthorRow:{display:"flex",flexDirection:"row"},mobileUserAvatar:{marginInlineEnd:10},mobileUserAndTeamLink:{display:"flex",flexDirection:"column",gap:0},mobileTeamLink:{marginTop:-4,fontSize:t}})),[e,n,t,i,r])}function Y(){const e=(0,d().IS)((()=>({badge:{marginInlineStart:0}})),[]);return(0,O.jsx)(g().E,{style:e.badge,color:"blue",content:(0,O.jsx)(I().sA,{defaultMessage:"Suggested",id:"AuthorRow.suggested.badge"})})}},465505:(e,t,n)=>{n.d(t,{P:()=>o});n(296540);const i={viewBox:"0 0 20 20",fittedViewBox:"2.72 1.77 14.55 16.45",svg:(0,n(474848).jsx)("path",{d:"M10.302 1.853a.63.63 0 0 0-.604 0l-6.65 3.669c-.2.11-.323.32-.323.547v7.862c0 .228.124.437.323.547l6.65 3.67a.63.63 0 0 0 .604 0l6.65-3.67c.2-.11.323-.32.323-.547V6.069a.63.63 0 0 0-.323-.547zM3.975 7.127l5.4 2.98v6.434l-5.4-2.98zm6.65 9.414v-6.434l5.4-2.98v6.435zM15.356 6.07 10 9.024 4.644 6.069 10 3.114z"})},o=(0,n(340498).wt)("cube",i,"default")},580648:(e,t,n)=>{n.d(t,{o:()=>d});n(296540);var i=()=>n(590526),o=()=>n(914462),s=()=>n(69708),r=()=>n(173783),a=()=>n(187820),l=n(474848);function d(e){const{group:t}=e,n=e.size??20,d=(0,s().tz)(),c=(0,i().K8)((()=>{if(t&&t.icon)return{pointer:t.pointer,icon:t.icon}}),[t]),u=(0,i().K8)((()=>(0,o().n)({intl:d,permissionGroupModel:t})),[d,t]);return(0,l.jsx)("div",{children:c?(0,l.jsx)(a().B6,{disabled:!0,size:n,icon:c,isEmptyPage:!1,title:u}):(0,l.jsx)(r().A,{size:n})})}},625194:(e,t,n)=>{n.d(t,{m:()=>r});var i=n(296540),o=()=>n(96330),s=n(474848);const r=i.memo((function(e){const{textValue:t}=e,n=(0,i.useMemo)((()=>(0,o().X1)((0,o().eC)(t))),[t]);return(0,s.jsx)("span",{children:n})}))},659799:(e,t,n)=>{n.d(t,{A:()=>l});n(296540);var i=()=>n(401497),o=()=>n(26697),s=()=>n(100622),r=()=>n(284371),a=n(474848);function l({text:e,tooltipText:t,icon:n}){const l=(0,i().IS)((()=>({icon:{height:"1em",width:"1em",marginInlineEnd:"0.25em",fill:s().Tj.icon.secondary,marginBottom:"0.1em"},tooltip:{background:s().Tj.background.primary,boxShadow:s().Tj.shadowSM},container:{display:"flex",alignItems:"center",fontWeight:r().Wy.regular,color:s().Tj.text.secondary,fontSize:r().J.UISmall.desktop,textAlign:"center"},text:{display:"inline"}})),[]);return(0,a.jsx)(o().m,{style:l.tooltip,render:t=>(0,a.jsx)("div",{style:l.text,...t,children:e}),renderTooltip:()=>(0,a.jsxs)("div",{style:l.container,children:[n(l.icon),(0,a.jsx)("div",{children:t})]}),alignment:"start",placement:"bottom"})}},837622:(e,t,n)=>{n.d(t,{A:()=>u});var i=n(296540),o=()=>n(590526),s=()=>n(401497),r=()=>n(201980),a=()=>n(116008),l=()=>n(279115),d=()=>n(29554),c=n(474848);const u=i.memo((function(e){const{parentStore:t,withComma:u,linkifyUrls:m,disableCommentHighlight:p,disableLinks:g,shouldTruncate:h,clampLines:x,textValue:f}=e,v=(0,n(484714).v3)(),S=(0,s().DP)(),y=(0,n(712030).Ol)();(0,i.useEffect)((()=>{void 0!==f&&v.KatexStore.loadIfNeeded((()=>f))}),[v.KatexStore,f]);const{collectionContextStore:b,property:j}=(0,i.useContext)(n(971003).L8),{collectionViewBlockId:w,collectionViewId:T}=(0,o().K8)((()=>{var e,t;return{collectionViewId:null==b||null===(e=b.collectionViewStore())||void 0===e?void 0:e.id,collectionViewBlockId:null==b||null===(t=b.collectionViewBlockStore())||void 0===t?void 0:t.id}}),[b]),I=(0,o().K8)((()=>v.KatexStore.getKatex()),[v.KatexStore]),k=(0,o().K8)((()=>{const e=l().qu.state,n=l().wb.state;return e&&j&&f?d().nu({textValue:f,blockId:t.id,textProps:{type:"page_property_value_match",collectionViewBlockId:w,collectionViewId:T,propertyId:j},find:e,currentFocusedResult:n,store:t}):f}),[j,t,f,w,T]),A=(0,o().K8)((()=>{if(a().A.getPropertyId()!==j||a().A.getBlockStore()!==t)return k;const e=a().A.getMultiSelection();return e?r().Mwp({textValue:k,selection:{startIndex:e.start.index,endIndex:e.end.index},annotation:[r().Ifu.TemporaryComment]}):f?r().Mwp({textValue:k,selection:{startIndex:0,endIndex:r().qAZ(f).length},annotation:[r().Ifu.TemporaryComment]}):k}),[t,j,f,k]),C=(0,o().K8)((()=>void 0===A?null:d().S5({environment:v,textValue:A&&{value:A,spaceId:(0,n(161479).e)(t.pointer.spaceId)},parentStore:t,disableHover:!1,disableStyleAnnotations:!1,disableInsertedDeletedAnnotations:!1,disableDateStyleAnnotations:!1,disableSuggestionAnnotations:!1,disableCommentAnnotations:p??!1,disabled:!0,theme:S,disableLinks:g??!1,emojiType:y,katex:I,formulaValueTypes:[],stopLinkPropagation:!0,linkTargetBlank:!0})),[A,v,t,p,S,g,y,I],{silenceRerenderDefender:!0}),D=(0,i.useMemo)((()=>{if(!m||void 0===f)return null;const e=(0,r().k4p)(f);return(0,n(735577).A)(e)?(0,n(713998).MO)(f):null}),[m,f]),M=(0,s().IS)((()=>({text:{...h&&!x?n(284371).RC:void 0,...h&&x?{...(0,n(115512).pA)(x),overflow:"hidden",textOverflow:"ellipsis"}:{}}})),[h,x]);return(0,c.jsxs)("span",{style:M.text,children:[D?(0,c.jsx)(n(552712).N,{href:D,style:{display:"inline",pointerEvents:"auto",...(0,n(468882).w_)()},external:!0,onClick:e=>e.stopPropagation(),children:C}):C,u?", ":null]})}))},895189:(e,t,n)=>{n.d(t,{d:()=>s});n(296540);var i=n(474848);const o={viewBox:"0 0 20 20",fittedViewBox:"3.12 0.26 16.55 16.61",svg:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("path",{d:"M11.376 3.125c-.24.374-.336.818-.282 1.25H5.25a.875.875 0 0 0-.875.875v9.5c0 .483.392.875.875.875h9.5a.875.875 0 0 0 .875-.875V8.84a1.87 1.87 0 0 0 1.25-.711v6.621a2.125 2.125 0 0 1-2.125 2.125h-9.5a2.125 2.125 0 0 1-2.125-2.125v-9.5c0-1.174.951-2.125 2.125-2.125z"}),(0,i.jsx)("path",{d:"M18.51.57a.625.625 0 0 1 1.073.642l-3.656 6.094a.626.626 0 0 1-1.011.086l-2.437-2.844-.073-.105a.626.626 0 0 1 .93-.796l.092.086L15.3 5.918z"})]})},s=(0,n(340498).wt)("markRead",o,"default")},899905:(e,t,n)=>{n.d(t,{m:()=>s});class i extends(()=>n(757695))().Store{constructor(){super(),setInterval((()=>{this.setState({timeNow:Date.now()})}),3e4)}getInitialState(){return{timeNow:Date.now()}}}let o=null;function s(){return o||(o=new i),o}},915019:(e,t,n)=>{n.d(t,{A:()=>r});var i=n(296540),o=n(474848);function s({store:e,...t}){const s=(0,i.useCallback)((t=>(0,o.jsx)(n(877349).y,{store:e,events:t})),[e]);return(0,o.jsx)(n(26697).m,{noStyle:!0,delayThreshold:400,placement:"bottom",alignment:"start",renderTooltip:s,...t})}const r=i.memo(s)}}]);