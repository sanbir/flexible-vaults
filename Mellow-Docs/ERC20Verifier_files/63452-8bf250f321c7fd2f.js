"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[63452],{413113:(e,t,r)=>{r.d(t,{_:()=>i,bS:()=>a});var n=()=>r(638681);n().object({required:{},optional:{},exact:!0}),n().object({required:{question:n().string()},optional:{},exact:!0});const a=n().object({required:{results:n().array(n().object({required:{id:n().string(),lastEdited:n().string(),path:n().string(),snippet:n().string(),title:n().string(),type:n().literals("asana","block","box","custom","discord","github","gmail","google-calendar","google-drive","helpdoc","helpdoc-section","jira","linear","microsoft-teams","notion-calendar","notion-mail","outlook","page","properties","salesforce","sharepoint","slack","webpage")},optional:{badges:n().array(n().object({required:{label:n().string(),type:n().literals("agent","archived","current_page","is_collection","is_template","most_viewed","popular_this_week","verified","verified_expired")},optional:{},exact:!0})),isPrivate:n().boolean(),messages:n().array(n().object({required:{lastEdited:n().string(),messageId:n().string(),text:n().string()},optional:{threadId:n().string(),user:n().string()},exact:!0})),pageId:n().string(),properties:n().string(),url:n().string()},exact:!0}))},optional:{},exact:!0}),i={dataTypes:"\ntype SearchPersistedState = {}\n\ntype AutosearchInput = {\n\tquestion: string\n}\n\ntype AutosearchResult = {\n\tresults: Array<SearchResult>\n}",dataTypesArray:["SearchPersistedState","AutosearchInput","AutosearchResult"],persistedStateValidator:n().object({required:{},optional:{},exact:!0}),persistedState:"",triggers:{},effects:{"search.autosearch":"(args: AutosearchInput) => Promise<AutosearchResult>"},effectsArray:["search.autosearch"],effectsValidators:{"search.autosearch":n().object({required:{question:n().string()},optional:{},exact:!0})}}},563452:(e,t,r)=>{r.d(t,{Hf:()=>g,It:()=>p,OT:()=>d,Zg:()=>b,pN:()=>h,yC:()=>y});r(16280),r(813451),r(898992),r(354520),r(581454);var n=()=>r(534177),a=()=>r(365646),i=()=>r(761865),o=()=>r(158489),s=()=>r(134025),l=()=>r(696706),c=()=>r(728272),u=()=>r(640182);function d(e){const{transcript:t}=e,{activeIntegrationPointers:r}=p(t);if(0===r.length)return[];const n=(0,o().YO)({transcript:t});return r.map((e=>{const t=n.getModel(e);if(!t)throw new(i().xL)("Module not found: {module}",{variables:{module:e.toString()}});const r=t.toModuleValue();if(!r)throw new(i().xL)("Module value not found: {module}",{variables:{module:e.toString()}});return r}))}function p(e){const t=new(c().d),r=new(c().d),n=function(e){return e.findLastIndex((e=>"agent-integration"===e.type))}(e);if(n>-1){const a=e[n];if("agent-integration"!==a.type)throw new Error(`Expected step to be an agent integration step but was ${a.type}`);for(const e of a.activeRecordPointers??[])t.add(e);for(const e of a.inactiveRecordPointers??[])r.add(e)}for(let a=n<0?0:n+1;a<e.length;a++){const n=e[a];if(!m(n)&&!b(n)||!n.result)continue;const{activeIntegrationPointers:i,inactiveIntegrationPointers:o}=n.result;for(const e of i??[])t.add(e),r.delete(e);for(const e of o??[])t.delete(e),r.add(e)}return{activeIntegrationPointers:Array.from(t),inactiveIntegrationPointers:Array.from(r)}}function g(e){return!("string"!=typeof e||!(0,n().Xk)(u().zP,e))}function m(e){return!("agent-tool-result"!==e.type||!(0,a().gY)(e,"toggle-user-integration-tools"))}function b(e){return!("agent-tool-result"!==e.type||!(0,a().gY)(e,"update-user-integrations"))}function y(e){return e}function h(e){var t,r,a,i;const{updateIntegrationStep:c,workflowModuleModel:u}=e,d=u.pointer,p=u.toModuleValue(),g=(0,o().Gl)(c.threadRecordMap);g.addModel(u);const y=(0,o().he)(g),h=u.getData();if(!h)throw new Error("Workflow module data is undefined");const f=(0,o().B_)(s().op.set({args:h,path:["data"],pointer:d}));if(m(c))return{...c,threadOperations:[...c.threadOperations??[],f],threadRecordMap:y};b(c)||(0,n().HB)(c);const x=((null===(t=c.result)||void 0===t?void 0:t.createdIntegrationValues)??[]).map((e=>l().L3.isEqual(e.pointer,d)?{...e,moduleValue:p}:e)),q=((null===(r=c.result)||void 0===r?void 0:r.updatedIntegrationValues)??[]).map((e=>l().L3.isEqual(e.pointer,d)?{...e,moduleValue:p}:e));return{...c,result:{activeIntegrationPointers:(null===(a=c.result)||void 0===a?void 0:a.activeIntegrationPointers)??[],createdIntegrationValues:x,inactiveIntegrationPointers:(null===(i=c.result)||void 0===i?void 0:i.inactiveIntegrationPointers)??[],updatedIntegrationValues:q},threadOperations:[...c.threadOperations??[],f],threadRecordMap:y}}},640182:(e,t,r)=>{r.d(t,{zP:()=>It,JN:()=>vt});var n=()=>r(638681);n().literal("search"),n().object({required:{actions:n().array(n().literal("search")),identifier:n().string(),moduleType:n().literal("asana"),type:n().literal("asana")},optional:{},exact:!0}),n().object({required:{actions:n().array(n().literal("search")),identifier:n().string()},optional:{},exact:!0}),n().object({required:{},optional:{},exact:!0}),n().object({required:{query:n().string()},optional:{},exact:!0}),n().object({required:{results:n().array(n().object({required:{assignee:n().string(),entity:n().string(),href:n().string(),id:n().string(),isPrivate:n().boolean(),lastEdited:n().string(),pageId:n().string(),path:n().string(),project:n().string(),taskId:n().string(),team:n().string(),text:n().string(),title:n().string(),url:n().string(),workspace:n().string()},optional:{},exact:!0}))},optional:{},exact:!0}),n().union([n().object({required:{taskGid:n().string()},optional:{taskId:n().isUndefined()},exact:!0}),n().object({required:{taskId:n().string()},optional:{taskGid:n().isUndefined()},exact:!0})]),n().object({required:{assignee:n().string(),blocks:n().array(n().string()),description:n().string(),project:n().string(),title:n().string(),type:n().literal("asana"),workspace:n().string()},optional:{},exact:!0});const a={dataTypes:"\ntype AsanaPersistedState = {}\n\ntype AsanaSearchInput = {\n\tquery: string\n}\n\ntype AsanaSearchResult = {\n\tresults: Array<AsanaSearchResultItem>\n}\n\ntype AsanaLoadTaskInput =\n\t| {\n\t\t\ttaskId: string\n\t\t\ttaskGid?: never\n\t  }\n\t| {\n\t\t\ttaskId?: never\n\t\t\ttaskGid: string\n\t  }\n\ntype AsanaLoadTaskResult = LoadAsanaResponse",dataTypesArray:["AsanaPersistedState","AsanaSearchInput","AsanaSearchResult","AsanaLoadTaskInput","AsanaLoadTaskResult"],persistedStateValidator:n().object({required:{},optional:{},exact:!0}),persistedState:"",triggers:{},effects:{"asana.search":"search(args: AsanaSearchInput): Promise<AsanaSearchResult>","asana.loadTask":"loadTask(args: AsanaLoadTaskInput): Promise<AsanaLoadTaskResult>"},effectsArray:["asana.search","asana.loadTask"],effectsValidators:{"asana.search":n().object({required:{query:n().string()},optional:{},exact:!0}),"asana.loadTask":n().union([n().object({required:{taskGid:n().string()},optional:{taskId:n().isUndefined()},exact:!0}),n().object({required:{taskId:n().string()},optional:{taskGid:n().isUndefined()},exact:!0})])}},i=(n().literal("search"),n().object({required:{actions:n().array(n().literal("search")),identifier:n().string(),moduleType:n().literal("box"),type:n().literal("box")},optional:{},exact:!0}),n().object({required:{actions:n().array(n().literal("search")),identifier:n().string()},optional:{},exact:!0}),n().object({required:{},optional:{},exact:!0}),n().object({required:{query:n().string()},optional:{},exact:!0}),n().object({required:{results:n().array(n().object({required:{fileType:n().string(),id:n().string(),isPrivate:n().boolean(),lastEdited:n().string(),pageId:n().string(),path:n().string(),text:n().string(),title:n().string()},optional:{},exact:!0}))},optional:{},exact:!0}),{dataTypes:"\ntype BoxPersistedState = {}\n\ntype BoxSearchInput = {\n\tquery: string\n}\n\ntype BoxSearchResult = {\n\tresults: Array<BoxSearchResultItem>\n}",dataTypesArray:["BoxPersistedState","BoxSearchInput","BoxSearchResult"],persistedStateValidator:n().object({required:{},optional:{},exact:!0}),persistedState:"",triggers:{},effects:{"box.search":"search(args: BoxSearchInput): Promise<BoxSearchResult>"},effectsArray:["box.search"],effectsValidators:{"box.search":n().object({required:{query:n().string()},optional:{},exact:!0})}});var o=()=>r(761940);function s(...e){return n().object({required:{table:n().literals(...e),id:n().string(),spaceId:n().string()},optional:{}})}function l(...e){return n().object({required:{table:n().literals(...e),id:n().string()},optional:{spaceId:n().string()}})}const c=n().object({required:{},optional:{connectedAccountSnapshots:n().array(n().object({required:{authorizationStatus:n().literals("authorized","missingScopes","unauthorized"),authorized:n().boolean(),displayName:n().string(),id:(0,o().YU)(),provider:n().literals("google","icloud","notion","outlook")},optional:{calendars:n().array(n().object({required:{accessRole:n().literals("freeBusyReader","owner","reader","writer"),accountId:(0,o().YU)(),color:n().union([n().isUndefined(),n().object({required:{colorId:(0,o().Wq)(),colorType:n().literal("calendar"),type:n().literal("preset")},optional:{},exact:!0}),n().object({required:{colorHexes:n().undefinable(n().object({required:{dark:n().object({required:{backgroundPrimary:n().string()},optional:{},exact:!0}),light:n().object({required:{backgroundPrimary:n().string()},optional:{},exact:!0})},optional:{},exact:!0})),type:n().literal("custom")},optional:{},exact:!0})]),id:(0,o().tn)(),name:n().string(),primary:n().boolean()},optional:{},exact:!0})),email:n().string()},exact:!0})),connectionPointer:s("external_connection","workflow_external_scoped_connection"),defaultCalendar:n().object({required:{accountId:n().string(),calendarId:n().string()},optional:{},exact:!0}),enabledToolNames:n().array(n().string())},exact:!0}),u=n().object({required:{calendars:n().array(n().object({required:{accountId:n().string(),calendarId:n().string()},optional:{},exact:!0})),type:n().literal("calendar.event.created")},optional:{},exact:!0}),d=n().object({required:{calendars:n().array(n().object({required:{accountId:n().string(),calendarId:n().string()},optional:{},exact:!0})),type:n().literal("calendar.event.updated")},optional:{},exact:!0}),p=n().object({required:{calendars:n().array(n().object({required:{accountId:n().string(),calendarId:n().string()},optional:{},exact:!0})),type:n().literal("calendar.event.canceled")},optional:{},exact:!0}),g={"calendar.event.created":{state:'\ntype: "calendar.event.created"\ncalendars: Array<CalendarReference>',stateValidator:u},"calendar.event.updated":{state:'\ntype: "calendar.event.updated"\ncalendars: Array<CalendarReference>',stateValidator:d},"calendar.event.canceled":{state:'\ntype: "calendar.event.canceled"\ncalendars: Array<CalendarReference>',stateValidator:p}},m=n().object({required:{playbookId:n().string()},optional:{},exact:!0}),b=n().object({required:{},optional:{onlyAccountEmails:n().array(n().string())},exact:!0}),y=n().object({required:{timeMax:n().string(),timeMin:n().string(),timeZone:n().string()},optional:{includeDeclinedInvites:n().nullable(n().boolean())},exact:!0}),h=n().object({required:{coworkerEmails:n().array(n().string()),timeMax:n().string(),timeMin:n().string(),timeZone:n().string()},optional:{},exact:!0}),f=n().object({required:{events:n().array(n().object({required:{period:n().union([n().object({required:{end:n().object({required:{date:n().string()},optional:{},exact:!0}),start:n().object({required:{date:n().string()},optional:{},exact:!0}),type:n().literal("DATE")},optional:{},exact:!0}),n().object({required:{end:n().object({required:{dateTime:n().string()},optional:{timeZone:n().string()},exact:!0}),start:n().object({required:{dateTime:n().string()},optional:{timeZone:n().string()},exact:!0}),type:n().literal("DATE_TIME")},optional:{},exact:!0})]),summary:n().string()},optional:{attendees:n().array(n().object({required:{email:n().string()},optional:{displayName:n().string(),isOptional:n().boolean()},exact:!0})),calendar:n().object({required:{accountId:n().string(),calendarId:n().string()},optional:{},exact:!0}),description:n().string(),location:n().string()},exact:!0})),timeZone:n().string()},optional:{},exact:!0}),x=n().object({required:{timeZone:n().string(),updates:n().array(n().union([n().object({required:{event:n().object({required:{calendar:n().object({required:{accountId:n().string(),calendarId:n().string()},optional:{},exact:!0}),eventId:n().string()},optional:{},exact:!0}),rsvp:n().object({required:{responseStatus:n().literals("accepted","declined","needsAction","tentative")},optional:{comment:n().string()},exact:!0}),updateType:n().literal("RSVP")},optional:{},exact:!0}),n().object({required:{event:n().object({required:{calendar:n().object({required:{accountId:n().string(),calendarId:n().string()},optional:{},exact:!0}),eventId:n().string()},optional:{},exact:!0}),update:n().object({required:{},optional:{attendees:n().array(n().object({required:{email:n().string()},optional:{displayName:n().string(),isOptional:n().boolean()},exact:!0})),description:n().string(),location:n().string(),period:n().union([n().object({required:{end:n().object({required:{date:n().string()},optional:{},exact:!0}),start:n().object({required:{date:n().string()},optional:{},exact:!0}),type:n().literal("DATE")},optional:{},exact:!0}),n().object({required:{end:n().object({required:{dateTime:n().string()},optional:{timeZone:n().string()},exact:!0}),start:n().object({required:{dateTime:n().string()},optional:{timeZone:n().string()},exact:!0}),type:n().literal("DATE_TIME")},optional:{},exact:!0})]),summary:n().string()},exact:!0}),updateType:n().literal("UPDATE")},optional:{},exact:!0})]))},optional:{},exact:!0}),q=n().object({required:{events:n().array(n().object({required:{calendar:n().object({required:{accountId:n().string(),calendarId:n().string()},optional:{},exact:!0}),eventId:n().string()},optional:{},exact:!0}))},optional:{},exact:!0}),j=n().object({required:{durationMinutes:n().number(),participantEmails:n().array(n().string()),timeMax:n().string(),timeMin:n().string(),timeZone:n().string()},optional:{maxCount:n().number()},exact:!0}),I={"calendar.fetchPlaybook":"\n(args: {\n\t\t\t\tplaybookId: string\n\t\t\t}) => Promise<CalendarPlaybookResult>","calendar.listCalendars":'\n(\n\t\t\t\targs: CalendarToolInput["listCalendars"],\n\t\t\t) => Promise<CalendarToolResult["listCalendars"]>',"calendar.listEvents":'\n(\n\t\t\t\targs: CalendarToolInput["listEvents"],\n\t\t\t) => Promise<CalendarToolResult["listEvents"]>',"calendar.listCoworkersEvents":'\n(\n\t\t\t\targs: CalendarToolInput["listCoworkersEvents"],\n\t\t\t) => Promise<CalendarToolResult["listCoworkersEvents"]>',"calendar.createEvents":'\n(\n\t\t\t\targs: CalendarToolInput["createEvents"],\n\t\t\t) => Promise<CalendarToolResult["createEvents"]>',"calendar.updateEvents":'\n(\n\t\t\t\targs: CalendarToolInput["updateEvents"],\n\t\t\t) => Promise<CalendarToolResult["updateEvents"]>',"calendar.cancelEvents":'\n(\n\t\t\t\targs: CalendarToolInput["cancelEvents"],\n\t\t\t) => Promise<CalendarToolResult["cancelEvents"]>',"calendar.suggestMeetingTimes":'\n(\n\t\t\t\targs: CalendarToolInput["suggestMeetingTimes"],\n\t\t\t) => Promise<CalendarToolResult["suggestMeetingTimes"]>'},v={"calendar.fetchPlaybook":m,"calendar.listCalendars":b,"calendar.listEvents":y,"calendar.listCoworkersEvents":h,"calendar.createEvents":f,"calendar.updateEvents":x,"calendar.cancelEvents":q,"calendar.suggestMeetingTimes":j},T={dataTypes:"",dataTypesArray:[],persistedStateValidator:c,persistedState:"\nconnectionPointer?: RecordPointer<\n\tWorkflowExternalScopedConnectionTable | ExternalConnectionTable\n>\ndefaultCalendar?: CalendarReference\nconnectedAccountSnapshots?: CalendarAccountData[]\nenabledToolNames?: string[]",triggers:g,effects:I,effectsArray:["calendar.fetchPlaybook","calendar.listCalendars","calendar.listEvents","calendar.listCoworkersEvents","calendar.createEvents","calendar.updateEvents","calendar.cancelEvents","calendar.suggestMeetingTimes"],effectsValidators:v},S=n().object({required:{name:n().string()},optional:{},exact:!0}),k=n().object({required:{key:n().string(),value:n().string()},optional:{},exact:!0}),w=n().object({required:{},optional:{envVars:n().array(n().lazy((()=>k))),maintenanceScript:n().string(),setupScript:n().string()},exact:!0}),_=(n().object({required:{},optional:{environmentName:n().string()},exact:!0}),n().object({required:{machines:n().array(n().lazy((()=>S)))},optional:{},exact:!0}),n().object({required:{},optional:{environmentName:n().string()},exact:!0}),n().object({required:{secrets:n().array(n().object({required:{filePath:n().string(),secretName:n().string()},optional:{},exact:!0}))},optional:{},exact:!0}),n().object({required:{},optional:{cpuCount:n().number(),environmentName:n().string(),memoryMb:n().number(),name:n().string(),volumeSizeGb:n().number()},exact:!0}),n().object({required:{machine:n().lazy((()=>S)),ranMaintenance:n().boolean(),ranSetup:n().boolean()},optional:{maintenanceHandle:n().lazy((()=>_)),maintenanceLogTail:n().string(),maintenanceLogsPath:n().string(),maintenanceStartState:n().literals("failed","not_requested","scheduled","started"),setupHandle:n().lazy((()=>_)),setupLogTail:n().string(),setupLogsPath:n().string()},exact:!0}),n().object({required:{},optional:{environmentName:n().string(),name:n().string()},exact:!0}),n().object({required:{},optional:{},exact:!0}),n().object({required:{secretName:n().string(),secretValue:n().string()},optional:{environmentName:n().string()},exact:!0}),n().object({required:{filePath:n().string(),secretName:n().string()},optional:{},exact:!0}),n().object({required:{command:n().string()},optional:{backgroundAfterSeconds:n().number(),environmentName:n().string(),machineName:n().string()},exact:!0}),n().object({required:{finished:n().boolean(),output:n().string(),processId:n().number()},optional:{statusCode:n().number()},exact:!0}),n().object({required:{actions:n().array(n().union([n().object({required:{action:n().literal("click"),tab:n().string(),x:n().number(),y:n().number()},optional:{button:n().literals("left","middle","right")},exact:!0}),n().object({required:{action:n().literal("close"),tab:n().string()},optional:{},exact:!0}),n().object({required:{action:n().literal("create"),tab:n().string(),url:n().string()},optional:{},exact:!0}),n().object({required:{action:n().literal("double_click"),tab:n().string(),x:n().number(),y:n().number()},optional:{},exact:!0}),n().object({required:{action:n().literal("drag"),path:n().array(n().object({required:{x:n().number(),y:n().number()},optional:{},exact:!0})),tab:n().string()},optional:{},exact:!0}),n().object({required:{action:n().literal("get_current_url"),tab:n().string()},optional:{},exact:!0}),n().object({required:{action:n().literal("goto"),tab:n().string(),url:n().string()},optional:{},exact:!0}),n().object({required:{action:n().literal("keypress"),keys:n().array(n().string()),tab:n().string()},optional:{},exact:!0}),n().object({required:{action:n().literal("list")},optional:{},exact:!0}),n().object({required:{action:n().literal("move"),tab:n().string(),x:n().number(),y:n().number()},optional:{},exact:!0}),n().object({required:{action:n().literal("print_accessibility_tree"),tab:n().string()},optional:{},exact:!0}),n().object({required:{action:n().literal("screenshot"),tab:n().string()},optional:{},exact:!0}),n().object({required:{action:n().literal("scroll"),scroll_x:n().number(),scroll_y:n().number(),tab:n().string(),x:n().number(),y:n().number()},optional:{},exact:!0}),n().object({required:{action:n().literal("type"),tab:n().string(),text:n().string()},optional:{},exact:!0}),n().object({required:{action:n().literal("wait"),seconds:n().number(),tab:n().string()},optional:{},exact:!0})]))},optional:{environmentName:n().string(),machineName:n().string()},exact:!0}),n().object({required:{success:n().boolean(),text:n().string()},optional:{error:n().string()},exact:!0}),n().object({required:{jobId:n().string(),logsPath:n().string(),machineName:n().string()},optional:{environmentName:n().string()},exact:!0})),R=(n().object({required:{jobId:n().string(),machineName:n().string()},optional:{environmentName:n().string()},exact:!0}),n().object({required:{jobId:n().string(),status:n().literals("failed","queued","running","success")},optional:{exitCode:n().number()},exact:!0}),n().object({required:{jobId:n().string(),machineName:n().string()},optional:{environmentName:n().string(),tailLines:n().number()},exact:!0}),n().object({required:{jobId:n().string(),logTail:n().string(),logsPath:n().string()},optional:{},exact:!0}),n().object({required:{path:n().string()},optional:{machineName:n().string()},exact:!0}),n().object({required:{url:n().string()},optional:{},exact:!0}),n().object({required:{},optional:{environments:n().record(n().string(),n().lazy((()=>w)))},exact:!0})),C=n().object({required:{},optional:{environmentName:n().string()},exact:!0}),P=n().object({required:{},optional:{environmentName:n().string()},exact:!0}),A=n().object({required:{},optional:{cpuCount:n().number(),environmentName:n().string(),memoryMb:n().number(),name:n().string(),volumeSizeGb:n().number()},exact:!0}),M=n().object({required:{},optional:{environmentName:n().string(),name:n().string()},exact:!0}),U=n().object({required:{secretName:n().string(),secretValue:n().string()},optional:{environmentName:n().string()},exact:!0}),L=n().object({required:{command:n().string()},optional:{backgroundAfterSeconds:n().number(),environmentName:n().string(),machineName:n().string()},exact:!0}),N=n().object({required:{actions:n().array(n().union([n().object({required:{action:n().literal("click"),tab:n().string(),x:n().number(),y:n().number()},optional:{button:n().literals("left","middle","right")},exact:!0}),n().object({required:{action:n().literal("close"),tab:n().string()},optional:{},exact:!0}),n().object({required:{action:n().literal("create"),tab:n().string(),url:n().string()},optional:{},exact:!0}),n().object({required:{action:n().literal("double_click"),tab:n().string(),x:n().number(),y:n().number()},optional:{},exact:!0}),n().object({required:{action:n().literal("drag"),path:n().array(n().object({required:{x:n().number(),y:n().number()},optional:{},exact:!0})),tab:n().string()},optional:{},exact:!0}),n().object({required:{action:n().literal("get_current_url"),tab:n().string()},optional:{},exact:!0}),n().object({required:{action:n().literal("goto"),tab:n().string(),url:n().string()},optional:{},exact:!0}),n().object({required:{action:n().literal("keypress"),keys:n().array(n().string()),tab:n().string()},optional:{},exact:!0}),n().object({required:{action:n().literal("list")},optional:{},exact:!0}),n().object({required:{action:n().literal("move"),tab:n().string(),x:n().number(),y:n().number()},optional:{},exact:!0}),n().object({required:{action:n().literal("print_accessibility_tree"),tab:n().string()},optional:{},exact:!0}),n().object({required:{action:n().literal("screenshot"),tab:n().string()},optional:{},exact:!0}),n().object({required:{action:n().literal("scroll"),scroll_x:n().number(),scroll_y:n().number(),tab:n().string(),x:n().number(),y:n().number()},optional:{},exact:!0}),n().object({required:{action:n().literal("type"),tab:n().string(),text:n().string()},optional:{},exact:!0}),n().object({required:{action:n().literal("wait"),seconds:n().number(),tab:n().string()},optional:{},exact:!0})]))},optional:{environmentName:n().string(),machineName:n().string()},exact:!0}),D=n().object({required:{jobId:n().string(),machineName:n().string()},optional:{environmentName:n().string()},exact:!0}),E=n().object({required:{jobId:n().string(),machineName:n().string()},optional:{environmentName:n().string(),tailLines:n().number()},exact:!0}),G=n().object({required:{path:n().string()},optional:{machineName:n().string()},exact:!0}),O={"computer.listMachines":"\nlistMachines(\n\t\targs: ComputerListMachinesToolInput,\n\t): Promise<ComputerListMachinesToolOutput>","computer.listSecrets":"\nlistSecrets(\n\t\targs: ComputerListSecretsToolInput,\n\t): Promise<ComputerListSecretsToolOutput>","computer.createMachine":"\ncreateMachine(\n\t\targs: ComputerCreateMachineToolInput,\n\t): Promise<ComputerCreateMachineToolOutput>","computer.destroyMachine":"\ndestroyMachine(\n\t\targs: ComputerDestroyMachineToolInput,\n\t): Promise<ComputerDestroyMachineToolOutput>","computer.setSecret":"\nsetSecret(\n\t\targs: ComputerSetSecretToolInput,\n\t): Promise<ComputerSetSecretToolOutput>","computer.terminal":"terminal(args: ComputerTerminalToolInput): Promise<ComputerTerminalToolOutput>","computer.browser":"\nbrowser(\n\t\targs: ComputerBrowserToolInput,\n\t): Promise<EffectResultOrValue<ComputerBrowserToolOutput>>","computer.getJobStatus":"\ngetJobStatus(\n\t\targs: ComputerGetJobStatusToolInput,\n\t): Promise<ComputerGetJobStatusToolOutput>","computer.getJobLogs":"\ngetJobLogs(\n\t\targs: ComputerGetJobLogsToolInput,\n\t): Promise<ComputerGetJobLogsToolOutput>","computer.viewFileUrl":"\nviewFileUrl(\n\t\targs: ComputerViewFileUrlToolInput,\n\t): Promise<EffectResultOrValue<ComputerViewFileUrlToolOutput>>"},V={"computer.listMachines":C,"computer.listSecrets":P,"computer.createMachine":A,"computer.destroyMachine":M,"computer.setSecret":U,"computer.terminal":L,"computer.browser":N,"computer.getJobStatus":D,"computer.getJobLogs":E,"computer.viewFileUrl":G},F={dataTypes:'\ntype ComputerMachineInfo = {\n\treadonly name: string\n}\n\ntype ComputerEnvironmentVariable = {\n\treadonly key: string\n\treadonly value: string\n}\n\ntype ComputerEnvironmentConfig = {\n\treadonly setupScript?: string\n\treadonly maintenanceScript?: string\n\treadonly envVars?: ReadonlyArray<ComputerEnvironmentVariable>\n}\n\ntype ComputerListMachinesToolInput = {\n\treadonly environmentName?: string\n}\n\ntype ComputerListMachinesToolOutput = {\n\treadonly machines: ReadonlyArray<ComputerMachineInfo>\n}\n\ntype ComputerListSecretsToolInput = {\n\treadonly environmentName?: string\n}\n\ntype ComputerListSecretsToolOutput = {\n\treadonly secrets: ReadonlyArray<{ secretName: string; filePath: string }>\n}\n\ntype ComputerCreateMachineToolInput = {\n\treadonly name?: string\n\treadonly environmentName?: string\n\treadonly cpuCount?: number\n\treadonly memoryMb?: number\n\treadonly volumeSizeGb?: number\n}\n\ntype ComputerCreateMachineToolOutput = {\n\treadonly machine: ComputerMachineInfo\n\treadonly ranSetup: boolean\n\treadonly setupLogsPath?: string\n\treadonly setupLogTail?: string\n\treadonly setupHandle?: ComputerJobHandle\n\treadonly ranMaintenance: boolean\n\treadonly maintenanceStartState?:\n\t\t| "not_requested"\n\t\t| "scheduled"\n\t\t| "started"\n\t\t| "failed"\n\treadonly maintenanceLogsPath?: string\n\treadonly maintenanceLogTail?: string\n\treadonly maintenanceHandle?: ComputerJobHandle\n}\n\ntype ComputerDestroyMachineToolInput = {\n\treadonly name?: string\n\treadonly environmentName?: string\n}\n\ntype ComputerDestroyMachineToolOutput = {}\n\ntype ComputerSetSecretToolInput = {\n\treadonly environmentName?: string\n\treadonly secretName: string\n\treadonly secretValue: string\n}\n\ntype ComputerSetSecretToolOutput = {\n\treadonly secretName: string\n\treadonly filePath: string\n}\n\ntype ComputerTerminalToolInput = {\n\treadonly command: string\n\treadonly backgroundAfterSeconds?: number\n\treadonly machineName?: string\n\treadonly environmentName?: string\n}\n\ntype ComputerTerminalToolOutput = TerminalResult\n\ntype ComputerBrowserToolInput = {\n\treadonly actions: ReadonlyArray<BrowserAction>\n\treadonly machineName?: string\n\treadonly environmentName?: string\n}\n\ntype ComputerBrowserToolOutput = BrowserResult\n\ntype ComputerJobHandle = {\n\treadonly jobId: string\n\treadonly machineName: string\n\treadonly environmentName?: string\n\treadonly logsPath: string\n}\n\ntype ComputerGetJobStatusToolInput = {\n\treadonly jobId: string\n\treadonly machineName: string\n\treadonly environmentName?: string\n}\n\ntype ComputerGetJobStatusToolOutput = {\n\treadonly jobId: string\n\treadonly status: "queued" | "running" | "success" | "failed"\n\treadonly exitCode?: number\n}\n\ntype ComputerGetJobLogsToolInput = {\n\treadonly jobId: string\n\treadonly machineName: string\n\treadonly environmentName?: string\n\treadonly tailLines?: number\n}\n\ntype ComputerGetJobLogsToolOutput = {\n\treadonly jobId: string\n\treadonly logsPath: string\n\treadonly logTail: string\n}\n\ntype ComputerViewFileUrlToolInput = {\n\treadonly path: string\n\treadonly machineName?: string\n}\n\ntype ComputerViewFileUrlToolOutput = {\n\treadonly url: string\n}',dataTypesArray:["ComputerMachineInfo","ComputerEnvironmentVariable","ComputerEnvironmentConfig","ComputerListMachinesToolInput","ComputerListMachinesToolOutput","ComputerListSecretsToolInput","ComputerListSecretsToolOutput","ComputerCreateMachineToolInput","ComputerCreateMachineToolOutput","ComputerDestroyMachineToolInput","ComputerDestroyMachineToolOutput","ComputerSetSecretToolInput","ComputerSetSecretToolOutput","ComputerTerminalToolInput","ComputerTerminalToolOutput","ComputerBrowserToolInput","ComputerBrowserToolOutput","ComputerJobHandle","ComputerGetJobStatusToolInput","ComputerGetJobStatusToolOutput","ComputerGetJobLogsToolInput","ComputerGetJobLogsToolOutput","ComputerViewFileUrlToolInput","ComputerViewFileUrlToolOutput"],persistedStateValidator:R,persistedState:"readonly environments?: Record<string, ComputerEnvironmentConfig>",triggers:{},effects:O,effectsArray:["computer.listMachines","computer.listSecrets","computer.createMachine","computer.destroyMachine","computer.setSecret","computer.terminal","computer.browser","computer.getJobStatus","computer.getJobLogs","computer.viewFileUrl"],effectsValidators:V},W=n().object({required:{},optional:{connectionPointer:s("external_connection"),lastAuthenticatedAtMs:n().number(),scopes:n().array(n().string())},exact:!0}),J=n().object({required:{prompt:n().string(),repository:n().string()},optional:{ref:n().string()},exact:!0}),z=n().object({required:{agentId:n().string(),prompt:n().string()},optional:{},exact:!0}),B=n().object({required:{agentId:n().string()},optional:{},exact:!0}),Q=n().object({required:{},optional:{},exact:!0}),H={"cursor.createAgent":"\n(args: {\n\t\t\t\tprompt: string\n\t\t\t\trepository: string\n\t\t\t\tref?: string\n\t\t\t}) => Promise<CursorAgent>","cursor.addFollowup":"\n(args: {\n\t\t\t\tagentId: string\n\t\t\t\tprompt: string\n\t\t\t}) => Promise<{ id: string }>","cursor.getAgent":"(args: { agentId: string }) => Promise<CursorAgent>","cursor.listRepositories":"\n(args: {}) => Promise<{\n\t\t\t\trepositories: Array<{\n\t\t\t\t\towner: string\n\t\t\t\t\tname: string\n\t\t\t\t\trepository: string\n\t\t\t\t}>\n\t\t\t}>"},K={"cursor.createAgent":J,"cursor.addFollowup":z,"cursor.getAgent":B,"cursor.listRepositories":Q},Z={dataTypes:"",dataTypesArray:[],persistedStateValidator:W,persistedState:"\n/**\n * A connection pointer is used for any modules that need to store external\n * authentication state.\n *\n * Uses ExternalConnectionTable only.\n */\nconnectionPointer?: RecordPointer<ExternalConnectionTable>\n/**\n * This represents the last time the user authenticated for this module.\n * This is used to help determine if the connection has expired from when\n * the user authenticated and us checking if the connection is still active\n * through `hasActiveOAuthConnection`.\n */\nlastAuthenticatedAtMs?: number\n/**\n * This is a list of scopes selected by the user for the current module.\n * This will default to empty/undefined to encourage the user to think\n * about what functionality this module needs.\n */\nscopes?: Array<string>",triggers:{},effects:H,effectsArray:["cursor.createAgent","cursor.addFollowup","cursor.getAgent","cursor.listRepositories"],effectsValidators:K},Y=(n().literal("search"),n().object({required:{actions:n().array(n().literal("search")),identifier:n().string(),moduleType:n().literal("discord"),type:n().literal("discord")},optional:{},exact:!0}),n().object({required:{actions:n().array(n().literal("search")),identifier:n().string()},optional:{},exact:!0}),n().object({required:{},optional:{},exact:!0}),n().object({required:{query:n().string()},optional:{},exact:!0}),n().object({required:{results:n().array(n().object({required:{author:n().string(),channelId:n().string(),guildId:n().string(),id:n().string(),isPrivate:n().boolean(),lastEdited:n().string(),messageId:n().string(),messageType:n().string(),pageId:n().string(),path:n().string(),text:n().string(),title:n().string()},optional:{},exact:!0}))},optional:{},exact:!0}),n().object({required:{},optional:{},exact:!0})),$=n().object({required:{query:n().string()},optional:{},exact:!0}),X={"discord.search":"search(args: DiscordSearchInput): Promise<DiscordSearchResult>"},ee={"discord.search":$},te={dataTypes:"\ntype DiscordPersistedState = {}\n\ntype DiscordSearchInput = {\n\tquery: string\n}\n\ntype DiscordSearchResult = {\n\tresults: Array<DiscordSearchResultItem>\n}",dataTypesArray:["DiscordPersistedState","DiscordSearchInput","DiscordSearchResult"],persistedStateValidator:Y,persistedState:"",triggers:{},effects:X,effectsArray:["discord.search"],effectsValidators:ee},re=(n().object({required:{id:n().string()},optional:{},exact:!0}),n().object({required:{},optional:{},exact:!0})),ne=n().object({required:{fileId:n().string()},optional:{},exact:!0}),ae=n().object({required:{fileId:n().string()},optional:{},exact:!0}),ie=n().object({required:{fileId:n().string()},optional:{},exact:!0}),oe={"files.getFileContent":"getFileContent(args: { fileId: string }): Promise<string | undefined>","files.getFileUrl":"getFileUrl(args: { fileId: string }): Promise<string | undefined>","files.getFileName":"getFileName(args: { fileId: string }): Promise<string | undefined>"},se={"files.getFileContent":ne,"files.getFileUrl":ae,"files.getFileName":ie},le={dataTypes:"\ntype File = {\n\tid: string\n}",dataTypesArray:["File"],persistedStateValidator:re,persistedState:"",triggers:{},effects:oe,effectsArray:["files.getFileContent","files.getFileUrl","files.getFileName"],effectsValidators:se},ce=(n().object({required:{dir:n().string()},optional:{},exact:!0}),n().object({required:{files:n().array(n().string())},optional:{},exact:!0}),n().object({required:{entries:n().array(n().string())},optional:{},exact:!0}),n().object({required:{files:n().array(n().object({required:{content:n().string(),path:n().string()},optional:{},exact:!0}))},optional:{},exact:!0}),n().object({required:{},optional:{},exact:!0})),ue=n().object({required:{dir:n().string()},optional:{},exact:!0}),de=n().object({required:{files:n().array(n().string())},optional:{},exact:!0}),pe={"fs.readDir":"(args: FsReadDirInput) => Promise<FsReadDirResult>","fs.readFiles":"(args: FsReadFilesInput) => Promise<FsReadFilesResult>"},ge={"fs.readDir":ue,"fs.readFiles":de},me={dataTypes:"\ntype FsReadDirInput = {\n\tdir: string\n}\n\ntype FsReadFilesInput = {\n\tfiles: string[]\n}\n\ntype FsReadDirResult = {\n\tentries: string[]\n}\n\ntype FsReadFilesResult = {\n\tfiles: Array<{\n\t\tpath: string\n\t\tcontent: string\n\t}>\n}",dataTypesArray:["FsReadDirInput","FsReadFilesInput","FsReadDirResult","FsReadFilesResult"],persistedStateValidator:ce,persistedState:"",triggers:{},effects:pe,effectsArray:["fs.readDir","fs.readFiles"],effectsValidators:ge},be=(n().literal("search"),n().object({required:{actions:n().array(n().literal("search")),identifier:n().string(),moduleType:n().literal("github"),type:n().literal("github")},optional:{},exact:!0}),n().object({required:{actions:n().array(n().literal("search")),identifier:n().string()},optional:{},exact:!0}),n().object({required:{},optional:{},exact:!0}),n().object({required:{query:n().string()},optional:{options:n().object({required:{},optional:{fileType:n().literals("code","issue","pull-request"),repo:n().string()},exact:!0})},exact:!0}),n().object({required:{results:n().array(n().object({required:{id:n().string(),isPrivate:n().boolean(),lastEdited:n().string(),pageId:n().string(),path:n().string(),text:n().string(),title:n().string()},optional:{authorName:n().string(),fileType:n().string(),githubRepoName:n().string(),statusTag:n().string()},exact:!0}))},optional:{},exact:!0}),n().object({required:{prNumber:n().string(),repoName:n().string()},optional:{},exact:!0}),n().object({required:{blocks:n().array(n().string()),orgName:n().string(),prNumber:n().string(),repoName:n().string(),timestamp:n().number(),title:n().string(),type:n().literal("github")},optional:{},exact:!0}),n().object({required:{issueNumber:n().string(),repoName:n().string()},optional:{},exact:!0}),n().object({required:{blocks:n().array(n().string()),orgName:n().string(),prNumber:n().string(),repoName:n().string(),timestamp:n().number(),title:n().string(),type:n().literal("github")},optional:{},exact:!0}),n().object({required:{commitSha:n().string(),repoName:n().string()},optional:{},exact:!0}),n().object({required:{blocks:n().array(n().string()),orgName:n().string(),prNumber:n().string(),repoName:n().string(),timestamp:n().number(),title:n().string(),type:n().literal("github")},optional:{},exact:!0}),n().object({required:{path:n().string(),repoName:n().string()},optional:{ref:n().string()},exact:!0}),n().object({required:{codePath:n().string(),content:n().string(),orgName:n().string(),repoName:n().string(),type:n().literal("githubCode"),url:n().string()},optional:{branchName:n().string(),lineNumbers:n().string()},exact:!0}),n().object({required:{query:n().string()},optional:{},exact:!0}),n().array(n().object({required:{codePath:n().string(),content:n().string(),orgName:n().string(),repoName:n().string(),type:n().literal("githubCode"),url:n().string()},optional:{branchName:n().string(),lineNumbers:n().string()},exact:!0})),n().object({required:{directory:n().string()},optional:{repoName:n().string()},exact:!0}),n().array(n().object({required:{codePath:n().string(),content:n().string(),orgName:n().string(),repoName:n().string(),type:n().literal("githubCode"),url:n().string()},optional:{branchName:n().string(),lineNumbers:n().string()},exact:!0})),n().object({required:{},optional:{},exact:!0})),ye=n().object({required:{query:n().string()},optional:{options:n().object({required:{},optional:{fileType:n().literals("code","issue","pull-request"),repo:n().string()},exact:!0})},exact:!0}),he=n().object({required:{query:n().string()},optional:{},exact:!0}),fe=n().object({required:{directory:n().string()},optional:{repoName:n().string()},exact:!0}),xe=n().object({required:{prNumber:n().string(),repoName:n().string()},optional:{},exact:!0}),qe=n().object({required:{issueNumber:n().string(),repoName:n().string()},optional:{},exact:!0}),je=n().object({required:{commitSha:n().string(),repoName:n().string()},optional:{},exact:!0}),Ie=n().object({required:{path:n().string(),repoName:n().string()},optional:{ref:n().string()},exact:!0}),ve={"github.search":"search(args: GithubSearchInput): Promise<GithubSearchResult>","github.grepCode":"grepCode(args: GithubGrepCodeInput): Promise<GithubGrepCodeResult>","github.lsDirectory":"lsDirectory(args: GithubLsDirectoryInput): Promise<GithubLsDirectoryResult>","github.loadPR":"loadPR(args: GithubLoadPRInput): Promise<GithubLoadPRResult>","github.loadIssue":"loadIssue(args: GithubLoadIssueInput): Promise<GithubLoadIssueResult>","github.loadCommit":"loadCommit(args: GithubLoadCommitInput): Promise<GithubLoadCommitResult>","github.loadFile":"loadFile(args: GithubLoadFileInput): Promise<GithubLoadFileResult>"},Te={"github.search":ye,"github.grepCode":he,"github.lsDirectory":fe,"github.loadPR":xe,"github.loadIssue":qe,"github.loadCommit":je,"github.loadFile":Ie},Se={dataTypes:'\ntype GithubPersistedState = {}\n\ntype GithubSearchInput = {\n\tquery: string\n\toptions?: {\n\t\trepo?: string\n\t\tfileType?: "code" | "issue" | "pull-request"\n\t}\n}\n\ntype GithubSearchResult = {\n\tresults: Array<GithubSearchResultItem>\n}\n\ntype GithubLoadPRInput = {\n\trepoName: string\n\tprNumber: string\n}\n\ntype GithubLoadPRResult = LoadGithubResponse\n\ntype GithubLoadIssueInput = {\n\trepoName: string\n\tissueNumber: string\n}\n\ntype GithubLoadIssueResult = LoadGithubResponse\n\ntype GithubLoadCommitInput = {\n\trepoName: string\n\tcommitSha: string\n}\n\ntype GithubLoadCommitResult = LoadGithubResponse\n\ntype GithubLoadFileInput = {\n\trepoName: string\n\tpath: string\n\tref?: string\n}\n\ntype GithubLoadFileResult = LoadGithubCodeResponse\n\ntype GithubGrepCodeInput = {\n\tquery: string\n}\n\ntype GithubGrepCodeResult = Array<LoadGithubCodeResponse>\n\ntype GithubLsDirectoryInput = {\n\tdirectory: string\n\trepoName?: string\n}\n\ntype GithubLsDirectoryResult = Array<LoadGithubCodeResponse>',dataTypesArray:["GithubPersistedState","GithubSearchInput","GithubSearchResult","GithubLoadPRInput","GithubLoadPRResult","GithubLoadIssueInput","GithubLoadIssueResult","GithubLoadCommitInput","GithubLoadCommitResult","GithubLoadFileInput","GithubLoadFileResult","GithubGrepCodeInput","GithubGrepCodeResult","GithubLsDirectoryInput","GithubLsDirectoryResult"],persistedStateValidator:be,persistedState:"",triggers:{},effects:ve,effectsArray:["github.search","github.grepCode","github.lsDirectory","github.loadPR","github.loadIssue","github.loadCommit","github.loadFile"],effectsValidators:Te},ke=(n().literal("search"),n().object({required:{actions:n().array(n().literal("search")),identifier:n().string(),moduleType:n().literal("gmail"),type:n().literal("gmail")},optional:{},exact:!0}),n().object({required:{actions:n().array(n().literal("search")),identifier:n().string()},optional:{},exact:!0}),n().object({required:{},optional:{},exact:!0}),n().object({required:{query:n().string()},optional:{},exact:!0}),n().object({required:{results:n().array(n().object({required:{emailAddress:n().string(),id:n().string(),isPrivate:n().boolean(),lastEdited:n().string(),pageId:n().string(),path:n().string(),text:n().string(),title:n().string()},optional:{},exact:!0}))},optional:{},exact:!0}),n().union([n().object({required:{threadId:n().string()},optional:{url:n().isUndefined()},exact:!0}),n().object({required:{url:n().string()},optional:{threadId:n().isUndefined()},exact:!0})]),n().object({required:{messages:n().array(n().object({required:{text:n().string(),timestamp:n().number(),user:n().object({required:{name:n().string()},optional:{notionUserId:n().string(),notionUserName:n().string()},exact:!0})},optional:{subject:n().string()},exact:!0})),subject:n().string(),threadId:n().string(),timestamp:n().number(),type:n().literal("gmail")},optional:{},exact:!0}),n().object({required:{},optional:{maxResults:n().number(),q:n().string()},exact:!0}),n().object({required:{threads:n().array(n().object({required:{messages:n().array(n().object({required:{text:n().string(),timestamp:n().number(),user:n().object({required:{name:n().string()},optional:{notionUserId:n().string(),notionUserName:n().string()},exact:!0})},optional:{subject:n().string()},exact:!0})),subject:n().string(),threadId:n().string(),timestamp:n().number(),type:n().literal("gmail")},optional:{},exact:!0}))},optional:{},exact:!0}),n().object({required:{},optional:{},exact:!0})),we=n().object({required:{query:n().string()},optional:{},exact:!0}),_e=n().union([n().object({required:{threadId:n().string()},optional:{url:n().isUndefined()},exact:!0}),n().object({required:{url:n().string()},optional:{threadId:n().isUndefined()},exact:!0})]),Re=n().object({required:{},optional:{maxResults:n().number(),q:n().string()},exact:!0}),Ce={"gmail.search":"search(args: GmailSearchInput): Promise<GmailSearchResult>","gmail.loadThread":"loadThread(args: GmailLoadThreadInput): Promise<GmailLoadThreadResult>","gmail.query":"query(args: GmailQueryInput): Promise<GmailQueryResult>"},Pe={"gmail.search":we,"gmail.loadThread":_e,"gmail.query":Re},Ae={dataTypes:"\ntype GmailPersistedState = {}\n\ntype GmailSearchInput = {\n\tquery: string\n}\n\ntype GmailSearchResult = {\n\tresults: Array<GmailSearchResultItem>\n}\n\ntype GmailLoadThreadInput =\n\t| {\n\t\t\tthreadId: string\n\t\t\turl?: never\n\t  }\n\t| {\n\t\t\tthreadId?: never\n\t\t\turl: string\n\t  }\n\ntype GmailLoadThreadResult = LoadGmailResponse\n\ntype GmailQueryInput = {\n\tq?: string\n\tmaxResults?: number\n}\n\ntype GmailQueryResult = {\n\tthreads: Array<LoadGmailResponse>\n}",dataTypesArray:["GmailPersistedState","GmailSearchInput","GmailSearchResult","GmailLoadThreadInput","GmailLoadThreadResult","GmailQueryInput","GmailQueryResult"],persistedStateValidator:ke,persistedState:"",triggers:{},effects:Ce,effectsArray:["gmail.search","gmail.loadThread","gmail.query"],effectsValidators:Pe},Me=(n().literal("search"),n().object({required:{actions:n().array(n().literal("search")),identifier:n().string(),moduleType:n().literal("googleCalendar"),type:n().literal("googleCalendar")},optional:{},exact:!0}),n().object({required:{actions:n().array(n().literal("search")),identifier:n().string()},optional:{},exact:!0}),n().object({required:{},optional:{},exact:!0}),n().object({required:{query:n().string()},optional:{},exact:!0}),n().object({required:{results:n().array(n().object({required:{emailAddress:n().string(),id:n().string(),isPrivate:n().boolean(),lastEdited:n().string(),pageId:n().string(),path:n().string(),text:n().string(),title:n().string()},optional:{},exact:!0}))},optional:{},exact:!0}),n().object({required:{},optional:{maxResults:n().number(),q:n().string(),timeMax:n().string(),timeMin:n().string()},exact:!0}),n().object({required:{events:n().array(n().object({required:{id:n().string(),isRecurring:n().boolean(),text:n().string(),title:n().string()},optional:{attendees:n().array(n().object({required:{},optional:{email:n().string(),name:n().string(),responseStatus:n().literals("accepted","declined","noResponse","tentative","unknown")},exact:!0})),end:n().string(),location:n().string(),start:n().string(),url:n().string()},exact:!0}))},optional:{},exact:!0}),n().object({required:{},optional:{},exact:!0})),Ue=n().object({required:{query:n().string()},optional:{},exact:!0}),Le=n().object({required:{},optional:{maxResults:n().number(),q:n().string(),timeMax:n().string(),timeMin:n().string()},exact:!0}),Ne={"googleCalendar.search":"search(args: GoogleCalendarSearchInput): Promise<GoogleCalendarSearchResult>","googleCalendar.query":"query(args: GoogleCalendarQueryInput): Promise<GoogleCalendarQueryResult>"},De={"googleCalendar.search":Ue,"googleCalendar.query":Le},Ee={dataTypes:"\ntype GoogleCalendarPersistedState = {}\n\ntype GoogleCalendarSearchInput = {\n\tquery: string\n}\n\ntype GoogleCalendarSearchResult = {\n\tresults: Array<GoogleCalendarSearchResultItem>\n}\n\ntype GoogleCalendarQueryInput = {\n\tq?: string\n\ttimeMin?: string\n\ttimeMax?: string\n\tmaxResults?: number\n}\n\ntype GoogleCalendarQueryResult = {\n\tevents: Array<GoogleCalendarQueryEvent>\n}",dataTypesArray:["GoogleCalendarPersistedState","GoogleCalendarSearchInput","GoogleCalendarSearchResult","GoogleCalendarQueryInput","GoogleCalendarQueryResult"],persistedStateValidator:Me,persistedState:"",triggers:{},effects:Ne,effectsArray:["googleCalendar.search","googleCalendar.query"],effectsValidators:De},Ge=(n().literal("search"),n().object({required:{actions:n().array(n().literal("search")),identifier:n().string(),moduleType:n().literal("googleDrive"),type:n().literal("googleDrive")},optional:{},exact:!0}),n().object({required:{actions:n().array(n().literal("search")),identifier:n().string()},optional:{},exact:!0}),n().object({required:{},optional:{},exact:!0}),n().object({required:{query:n().string()},optional:{},exact:!0}),n().object({required:{results:n().array(n().object({required:{fileType:n().string(),id:n().string(),isPrivate:n().boolean(),lastEdited:n().string(),pageId:n().string(),path:n().string(),text:n().string(),title:n().string()},optional:{},exact:!0}))},optional:{},exact:!0}),n().object({required:{fileId:n().string()},optional:{},exact:!0}),n().object({required:{blocks:n().array(n().string()),fileId:n().string(),fileType:n().string(),timestamp:n().number(),title:n().string(),type:n().literal("googleDrive")},optional:{},exact:!0}),n().object({required:{},optional:{},exact:!0})),Oe=n().object({required:{query:n().string()},optional:{},exact:!0}),Ve=n().object({required:{fileId:n().string()},optional:{},exact:!0}),Fe={"googleDrive.search":"search(args: GoogleDriveSearchInput): Promise<GoogleDriveSearchResult>","googleDrive.loadFile":"loadFile(args: GoogleDriveLoadFileInput): Promise<GoogleDriveLoadFileResult>"},We={"googleDrive.search":Oe,"googleDrive.loadFile":Ve},Je={dataTypes:"\ntype GoogleDrivePersistedState = {}\n\ntype GoogleDriveSearchInput = {\n\tquery: string\n}\n\ntype GoogleDriveSearchResult = {\n\tresults: Array<GoogleDriveSearchResultItem>\n}\n\ntype GoogleDriveLoadFileInput = {\n\tfileId: string\n}\n\ntype GoogleDriveLoadFileResult = LoadGoogleDriveResponse",dataTypesArray:["GoogleDrivePersistedState","GoogleDriveSearchInput","GoogleDriveSearchResult","GoogleDriveLoadFileInput","GoogleDriveLoadFileResult"],persistedStateValidator:Ge,persistedState:"",triggers:{},effects:Fe,effectsArray:["googleDrive.search","googleDrive.loadFile"],effectsValidators:We},ze=(n().object({required:{prompt:n().string()},optional:{imageFilenames:n().array(n().string())},exact:!0}),n().object({required:{fileName:n().string(),fileSizeBytes:n().number(),fileUri:n().string(),height:n().number(),imageUrlAlias:n().string(),mimeType:n().string(),model:n().string(),prompt:n().string(),provider:n().string(),width:n().number()},optional:{},exact:!0}),n().object({required:{},optional:{},exact:!0})),Be=n().object({required:{prompt:n().string()},optional:{imageFilenames:n().array(n().string())},exact:!0}),Qe={"images.generate":"\n(\n\t\t\t\targs: ImagesGenerateInput,\n\t\t\t) => Promise<EffectResultOrValue<GeneratedImage>>"},He={"images.generate":Be},Ke={dataTypes:"\ntype ImagesGenerateInput = {\n\tprompt: string\n\timageFilenames?: string[]\n}\n\ntype GeneratedImage = {\n\tprompt: string\n\timageUrlAlias: string\n\tfileUri: string\n\tmimeType: string\n\tfileName: string\n\tfileSizeBytes: number\n\tmodel: string\n\tprovider: string\n\theight: number\n\twidth: number\n}",dataTypesArray:["ImagesGenerateInput","GeneratedImage"],persistedStateValidator:ze,persistedState:"",triggers:{},effects:Qe,effectsArray:["images.generate"],effectsValidators:He},Ze=(n().literal("search"),n().object({required:{actions:n().array(n().literal("search")),identifier:n().string(),moduleType:n().literal("jira"),type:n().literal("jira")},optional:{},exact:!0}),n().object({required:{actions:n().array(n().literal("search")),identifier:n().string()},optional:{},exact:!0}),n().object({required:{},optional:{},exact:!0}),n().object({required:{query:n().string()},optional:{},exact:!0}),n().object({required:{results:n().array(n().object({required:{id:n().string(),isPrivate:n().boolean(),lastEdited:n().string(),pageId:n().string(),path:n().string(),text:n().string(),title:n().string()},optional:{},exact:!0}))},optional:{},exact:!0}),n().union([n().object({required:{issueId:n().string()},optional:{issueKey:n().isUndefined()},exact:!0}),n().object({required:{issueKey:n().string()},optional:{issueId:n().isUndefined()},exact:!0})]),n().object({required:{text:n().string(),title:n().string(),type:n().literal("jira-issue")},optional:{},exact:!0}),n().object({required:{},optional:{},exact:!0})),Ye={dataTypes:"\ntype JiraPersistedState = {}\n\ntype JiraSearchInput = {\n\tquery: string\n}\n\ntype JiraSearchResult = {\n\tresults: Array<JiraSearchResultItem>\n}\n\ntype JiraLoadIssueInput =\n\t| {\n\t\t\tissueKey: string\n\t\t\tissueId?: never\n\t  }\n\t| {\n\t\t\tissueKey?: never\n\t\t\tissueId: string\n\t  }\n\ntype JiraLoadIssueResult = LoadJiraResponse",dataTypesArray:["JiraPersistedState","JiraSearchInput","JiraSearchResult","JiraLoadIssueInput","JiraLoadIssueResult"],persistedStateValidator:Ze,persistedState:"",triggers:{},effects:{"jira.search":"search(args: JiraSearchInput): Promise<JiraSearchResult>","jira.loadIssue":"loadIssue(args: JiraLoadIssueInput): Promise<JiraLoadIssueResult>"},effectsArray:["jira.search","jira.loadIssue"],effectsValidators:{"jira.search":n().object({required:{query:n().string()},optional:{},exact:!0}),"jira.loadIssue":n().union([n().object({required:{issueId:n().string()},optional:{issueKey:n().isUndefined()},exact:!0}),n().object({required:{issueKey:n().string()},optional:{issueId:n().isUndefined()},exact:!0})])}},$e=(n().literal("search"),n().object({required:{actions:n().array(n().literal("search")),identifier:n().string(),moduleType:n().literal("linear"),type:n().literal("linear")},optional:{},exact:!0}),n().object({required:{actions:n().array(n().literal("search")),identifier:n().string()},optional:{},exact:!0}),n().object({required:{},optional:{},exact:!0}),n().object({required:{query:n().string()},optional:{},exact:!0}),n().object({required:{results:n().array(n().object({required:{id:n().string(),isPrivate:n().boolean(),lastEdited:n().string(),pageId:n().string(),path:n().string(),text:n().string(),title:n().string()},optional:{name:n().string()},exact:!0}))},optional:{},exact:!0}),n().union([n().object({required:{issueId:n().string()},optional:{issueNumber:n().isUndefined(),teamId:n().isUndefined()},exact:!0}),n().object({required:{issueNumber:n().string()},optional:{issueId:n().isUndefined(),teamId:n().string()},exact:!0})]),n().object({required:{text:n().string(),title:n().string(),type:n().literal("linear-issue")},optional:{},exact:!0}),{dataTypes:"\ntype LinearPersistedState = {}\n\ntype LinearSearchInput = {\n\tquery: string\n}\n\ntype LinearSearchResult = {\n\tresults: Array<LinearSearchResultItem>\n}\n\ntype LinearLoadIssueInput =\n\t| {\n\t\t\tissueId: string\n\t\t\tissueNumber?: never\n\t\t\tteamId?: never\n\t  }\n\t| {\n\t\t\tissueId?: never\n\t\t\tissueNumber: string\n\t\t\tteamId?: string\n\t  }\n\ntype LinearLoadIssueResult = LoadLinearResponse",dataTypesArray:["LinearPersistedState","LinearSearchInput","LinearSearchResult","LinearLoadIssueInput","LinearLoadIssueResult"],persistedStateValidator:n().object({required:{},optional:{},exact:!0}),persistedState:"",triggers:{},effects:{"linear.search":"search(args: LinearSearchInput): Promise<LinearSearchResult>","linear.loadIssue":"loadIssue(args: LinearLoadIssueInput): Promise<LinearLoadIssueResult>"},effectsArray:["linear.search","linear.loadIssue"],effectsValidators:{"linear.search":n().object({required:{query:n().string()},optional:{},exact:!0}),"linear.loadIssue":n().union([n().object({required:{issueId:n().string()},optional:{issueNumber:n().isUndefined(),teamId:n().isUndefined()},exact:!0}),n().object({required:{issueNumber:n().string()},optional:{issueId:n().isUndefined(),teamId:n().string()},exact:!0})])}}),Xe=(n().object({required:{body:n().string(),emailAccountId:n().string(),from:n().string(),id:n().string(),receivedAt:n().string(),subject:n().string(),threadId:n().string(),to:n().array(n().string())},optional:{bcc:n().array(n().string()),cc:n().array(n().string()),externalId:n().string(),fromName:n().string(),hasAttachments:n().boolean(),isRead:n().boolean(),labels:n().array(n().string()),url:n().string()},exact:!0}),n().object({required:{emailAccountId:n().string(),hasUnread:n().boolean(),id:n().string(),lastMessageAt:n().string(),messageCount:n().number(),participants:n().array(n().string()),subject:n().string()},optional:{externalThreadId:n().string()},exact:!0}),n().object({required:{email:n().string(),id:n().string()},optional:{isPrimary:n().boolean(),name:n().string(),provider:n().string()},exact:!0}),n().object({required:{labelId:n().string(),labelName:n().string()},optional:{},exact:!0})),et=(n().object({required:{columnId:n().string(),name:n().string(),options:n().array(n().lazy((()=>Xe)))},optional:{hasMoreOptions:n().boolean()},exact:!0}),{dataTypes:'\n/**\n * Represents an email message in Notion Mail\n */\ninterface MailEmailMessage {\n\t/**\n\t * Unique identifier for the email message\n\t */\n\tid: string\n\t/**\n\t * The email thread this message belongs to\n\t */\n\tthreadId: string\n\t/**\n\t * External ID from the mail provider (e.g., Gmail message ID)\n\t */\n\texternalId?: string\n\t/**\n\t * Sender\'s email address\n\t */\n\tfrom: string\n\t/**\n\t * Sender\'s display name\n\t */\n\tfromName?: string\n\t/**\n\t * List of recipient email addresses\n\t */\n\tto: Array<string>\n\t/**\n\t * List of CC recipient email addresses\n\t */\n\tcc?: Array<string>\n\t/**\n\t * List of BCC recipient email addresses\n\t */\n\tbcc?: Array<string>\n\t/**\n\t * Email subject line\n\t */\n\tsubject: string\n\t/**\n\t * Body of the email (truncated to first 1000 words, preferring HTML content)\n\t */\n\tbody: string\n\t/**\n\t * ISO 8601 timestamp when the email was received\n\t */\n\treceivedAt: string\n\t/**\n\t * The email account where this email was received\n\t */\n\temailAccountId: string\n\t/**\n\t * Whether this email has been read\n\t */\n\tisRead?: boolean\n\t/**\n\t * Whether this email has attachments\n\t */\n\thasAttachments?: boolean\n\t/**\n\t * Labels or tags applied to this email\n\t */\n\tlabels?: Array<string>\n\t/**\n\t * URL to view the email in Notion Mail\n\t */\n\turl?: string\n}\n\n/**\n * Represents an email thread in Notion Mail\n */\ninterface MailThread {\n\t/**\n\t * Unique identifier for the thread\n\t */\n\tid: string\n\t/**\n\t * External thread ID from the mail provider\n\t */\n\texternalThreadId?: string\n\t/**\n\t * Subject of the thread (from the first message)\n\t */\n\tsubject: string\n\t/**\n\t * Participants in the thread\n\t */\n\tparticipants: Array<string>\n\t/**\n\t * Number of messages in the thread\n\t */\n\tmessageCount: number\n\t/**\n\t * ISO 8601 timestamp of the last message\n\t */\n\tlastMessageAt: string\n\t/**\n\t * The email account where this thread exists\n\t */\n\temailAccountId: string\n\t/**\n\t * Whether any message in the thread is unread\n\t */\n\thasUnread: boolean\n}\n\n/**\n * Represents a mailbox in Notion Mail\n */\ninterface MailMailbox {\n\t/**\n\t * Unique identifier for the mailbox\n\t */\n\tid: string\n\t/**\n\t * Email address of the mailbox\n\t */\n\temail: string\n\t/**\n\t * Display name for the mailbox\n\t */\n\tname?: string\n\t/**\n\t * Email provider (e.g., "gmail", "outlook")\n\t */\n\tprovider?: string\n\t/**\n\t * Whether this is the primary mailbox for the user\n\t */\n\tisPrimary?: boolean\n}\n\n/**\n * Represents a single-select status option available for a status property\n */\ninterface MailStatusPropertyOption {\n\t/**\n\t * Unique identifier for the option (maps to the user label ID)\n\t */\n\tlabelId: string\n\t/**\n\t * Display name for the option\n\t */\n\tlabelName: string\n}\n\n/**\n * Represents a single-select status property (column) configured for a mailbox\n */\ninterface MailStatusProperty {\n\t/**\n\t * Unique identifier for the status property (column ID)\n\t */\n\tcolumnId: string\n\t/**\n\t * Human-readable name of the status property\n\t */\n\tname: string\n\t/**\n\t * Available options for this status property\n\t */\n\toptions: Array<MailStatusPropertyOption>\n\t/**\n\t * Indicates that additional options exist beyond the ones provided\n\t */\n\thasMoreOptions?: boolean\n}',dataTypesArray:["MailEmailMessage","MailThread","MailMailbox","MailStatusPropertyOption","MailStatusProperty"],persistedStateValidator:n().object({required:{},optional:{connectionPointer:s("external_connection","workflow_external_scoped_connection"),creatorEmail:n().string(),emailAddresses:n().array(n().object({required:{displayName:n().string(),email:n().string(),emailAccountId:n().string()},optional:{},exact:!0})),emailPermissionSettings:n().record(n().string(),n().object({required:{draft:n().object({required:{client:n().literals("gmail","notion_mail"),enabled:n().boolean()},optional:{},exact:!0}),modifyInbox:n().boolean(),read:n().boolean(),send:n().literals("disallow","with_confirmation","without_confirmation")},optional:{},exact:!0})),emailScopes:n().record(n().string(),n().array(n().string())),enabledToolNames:n().array(n().string()),scopes:n().array(n().string()),selectedEmailAccountIds:n().array(n().string()),serverIconUrl:n().string()},exact:!0}),persistedState:'\nconnectionPointer?: RecordPointer<\n\tWorkflowExternalScopedConnectionTable | ExternalConnectionTable\n>\ncreatorEmail?: string\nemailAddresses?: Array<{\n\temailAccountId: string\n\temail: string\n\tdisplayName: string\n}>\nserverIconUrl?: string\nenabledToolNames?: string[]\n/**\n * Granular per-email permission settings (NEW - preferred).\n * Key is email address, value is the permission settings object.\n * Example: { "user@example.com": { read: true, modifyInbox: true, ... } }\n */\nemailPermissionSettings?: Record<string, MailEmailPermissionSettings>\n/**\n * @deprecated Use emailPermissionSettings instead.\n * Legacy global scopes for backward compatibility.\n * Only "read" and "write" values are supported.\n */\nscopes?: Array<LegacyMailScope | string>\n/**\n * @deprecated Use emailPermissionSettings instead.\n * Legacy per-email-address scopes.\n * Only "read" and "write" values are supported.\n * Example: { "email@example.com": ["write"] }\n */\nemailScopes?: Record<string, Array<LegacyMailScope | string>>\nselectedEmailAccountIds?: Array<string>',triggers:{"mail.email.received":{state:'\ntype: "mail.email.received"\n/**\n * List of email account IDs to monitor.\n * - If empty or undefined: monitors all email accounts owned by the user\n * - If specified: only monitors emails received by these specific accounts\n */\nemailAccountIds?: Array<string>\n/**\n * Display information for selected email accounts (for UI display only).\n * Maps account ID to email address for showing in trigger descriptions.\n * Example: { "account-id-1": "user@example.com" }\n */\nemailAccountDisplayInfo?: Record<string, string>\n/**\n * Structured filters for email fields.\n * All filters are combined with AND logic.\n *\n * @backward-compatibility\n * - If undefined or empty array: matches all emails (no filtering applied)\n * - Existing workflows without this field will continue to work unchanged\n * - Filter evaluation happens server-side in webhooks.ts before triggering workflows\n */\nfilters?: Array<MailEmailFilter>',stateValidator:n().object({required:{type:n().literal("mail.email.received")},optional:{emailAccountDisplayInfo:n().record(n().string(),n().string()),emailAccountIds:n().array(n().string()),filters:n().array(n().object({required:{field:n().literals("body","domain","from","subject","to"),operator:n().literals("is_empty","is_not_empty","string_contains","string_does_not_contain","string_ends_with","string_is","string_is_not","string_starts_with"),value:n().object({required:{type:n().literal("exact"),value:n().undefinable(n().string())},optional:{},exact:!0})},optional:{},exact:!0}))},exact:!0})},"mail.email.sent":{state:'\ntype: "mail.email.sent"\n/**\n * List of email account IDs to monitor.\n * - If empty or undefined: monitors all email accounts owned by the user\n * - If specified: only monitors emails sent from these specific accounts\n */\nemailAccountIds?: Array<string>\n/**\n * Display information for selected email accounts (for UI display only).\n * Maps account ID to email address for showing in trigger descriptions.\n * Example: { "account-id-1": "user@example.com" }\n */\nemailAccountDisplayInfo?: Record<string, string>\n/**\n * Structured filters for email fields.\n * All filters are combined with AND logic.\n *\n * @backward-compatibility\n * - If undefined or empty array: matches all emails (no filtering applied)\n * - Existing workflows without this field will continue to work unchanged\n * - Filter evaluation happens server-side in webhooks.ts before triggering workflows\n */\nfilters?: Array<MailEmailFilter>',stateValidator:n().object({required:{type:n().literal("mail.email.sent")},optional:{emailAccountDisplayInfo:n().record(n().string(),n().string()),emailAccountIds:n().array(n().string()),filters:n().array(n().object({required:{field:n().literals("body","domain","from","subject","to"),operator:n().literals("is_empty","is_not_empty","string_contains","string_does_not_contain","string_ends_with","string_is","string_is_not","string_starts_with"),value:n().object({required:{type:n().literal("exact"),value:n().undefinable(n().string())},optional:{},exact:!0})},optional:{},exact:!0}))},exact:!0})},"mail.email.receivedorsent":{state:'\ntype: "mail.email.receivedorsent"\n/**\n * List of email account IDs to monitor.\n * - If empty or undefined: monitors all email accounts owned by the user\n * - If specified: only monitors emails received or sent by these specific accounts\n */\nemailAccountIds?: Array<string>\n/**\n * Display information for selected email accounts (for UI display only).\n * Maps account ID to email address for showing in trigger descriptions.\n * Example: { "account-id-1": "user@example.com" }\n */\nemailAccountDisplayInfo?: Record<string, string>\n/**\n * Structured filters for email fields.\n * All filters are combined with AND logic.\n *\n * @backward-compatibility\n * - If undefined or empty array: matches all emails (no filtering applied)\n * - Existing workflows without this field will continue to work unchanged\n * - Filter evaluation happens server-side in webhooks.ts before triggering workflows\n */\nfilters?: Array<MailEmailFilter>',stateValidator:n().object({required:{type:n().literal("mail.email.receivedorsent")},optional:{emailAccountDisplayInfo:n().record(n().string(),n().string()),emailAccountIds:n().array(n().string()),filters:n().array(n().object({required:{field:n().literals("body","domain","from","subject","to"),operator:n().literals("is_empty","is_not_empty","string_contains","string_does_not_contain","string_ends_with","string_is","string_is_not","string_starts_with"),value:n().object({required:{type:n().literal("exact"),value:n().undefinable(n().string())},optional:{},exact:!0})},optional:{},exact:!0}))},exact:!0})},"mail.label.applied":{state:'\ntype: "mail.label.applied"\n/**\n * List of email account IDs to monitor.\n * - If empty or undefined: monitors all email accounts owned by the user\n * - If specified: only monitors label applications in these specific accounts\n */\nemailAccountIds?: Array<string>\n/**\n * Display information for selected email accounts (for UI display only).\n * Maps account ID to email address for showing in trigger descriptions.\n * Example: { "account-id-1": "user@example.com" }\n */\nemailAccountDisplayInfo?: Record<string, string>\n/**\n * List of specific label names to monitor.\n * - If empty or undefined: triggers for any label application\n * - If specified: only triggers when one of these labels is applied\n */\nlabelNames?: Array<string>',stateValidator:n().object({required:{type:n().literal("mail.label.applied")},optional:{emailAccountDisplayInfo:n().record(n().string(),n().string()),emailAccountIds:n().array(n().string()),labelNames:n().array(n().string())},exact:!0})}},effects:{"mail.runTool":"\n(args: {\n\t\ttoolArguments: Record<string, unknown>\n\t\ttoolName: string\n\t}) => Promise<McpServerToolCallResult>","mail.listTools":"(args?: {}) => Promise<McpServerListToolsToolResult>","mail.getPrompt":"\n(args: {\n\t\tname: string\n\t\targuments?: Record<string, string>\n\t}) => Promise<McpServerGetPromptToolResult>"},effectsArray:["mail.runTool","mail.listTools","mail.getPrompt"],effectsValidators:{"mail.runTool":n().object({required:{toolArguments:n().record(n().string(),n().unknown()),toolName:n().string()},optional:{},exact:!0}),"mail.listTools":n().undefinable(n().object({required:{},optional:{},exact:!0})),"mail.getPrompt":n().object({required:{name:n().string()},optional:{arguments:n().record(n().string(),n().string())},exact:!0})}}),tt={dataTypes:"",dataTypesArray:[],persistedStateValidator:n().object({required:{},optional:{connectionPointer:s("external_connection"),enabledResourceUris:n().array(n().string()),enabledToolNames:n().array(n().string()),officialName:n().string(),preferredTransport:n().literals("sse","streamableHttp"),promptInjectionWarnings:n().object({required:{flaggedToolNames:n().array(n().string()),lastScannedAtMs:n().number()},optional:{},exact:!0}),resources:n().array(n().object({required:{description:n().undefinable(n().string()),mimeType:n().undefinable(n().string()),name:n().string(),title:n().undefinable(n().string()),uri:n().string()},optional:{},exact:!0})),runReadToolsAutomatically:n().boolean(),runWriteToolsAutomatically:n().boolean(),serverIconUrl:n().string(),serverUrl:n().string(),tools:n().array(n().object({required:{description:n().string(),inputSchema:n().record(n().string(),n().unknown()),name:n().string(),title:n().string()},optional:{annotations:n().object({required:{},optional:{destructiveHint:n().boolean(),idempotent:n().boolean(),openWorld:n().boolean(),readOnlyHint:n().boolean(),requiresConfirmation:n().boolean()},exact:!0}),outputSchema:n().record(n().string(),n().unknown())},exact:!0}))},exact:!0}),persistedState:'\n/**\n * This is the persisted state for the mcpServer module.\n */\nexport type McpServerPersistedState = McpServerPersistedStateCommon & {\n\t// Names of enabled tools. If undefined, all tools are enabled (backward compatibility)\n\tenabledToolNames?: string[]\n\t// Cached list of available tools (populated when tools are first fetched)\n\ttools?: McpServerListTool[]\n\t// Whether to run read-only tool calls automatically without confirmation. If undefined or true, runs automatically; if false, requires confirmation\n\trunReadToolsAutomatically?: boolean\n\t// Whether to run write tool calls automatically without confirmation. If undefined or false, requires confirmation; if true, runs automatically\n\trunWriteToolsAutomatically?: boolean\n\t// URIs of enabled resources. If undefined, all resources are enabled (backward compatibility)\n\tenabledResourceUris?: string[]\n\t// Cached list of available resources (populated when resources are first fetched)\n\tresources?: McpServerListResource[]\n\t// Official name from MCP server\'s serverInfo (e.g., "Notion", "GitHub MCP")\n\t// Different from the user-provided module name\n\tofficialName?: string\n\t// Cached transport type that works for this server (sse or streamableHttp)\n\t// Used to avoid transport fallback on subsequent connections\n\tpreferredTransport?: McpTransportType\n\t// Warning state derived from prompt-injection guardrails.\n\tpromptInjectionWarnings?: {\n\t\t// Tool names that were flagged in the most recent metadata scan.\n\t\tflaggedToolNames: string[]\n\t\tlastScannedAtMs: number\n\t}\n}',triggers:{},effects:{"mcpServer.runTool":"\n(args: {\n\t\ttoolArguments: Record<string, unknown>\n\t\ttoolName: string\n\t}) => Promise<McpServerToolCallResult>","mcpServer.listResources":"\n(args: {\n\t\tcursor?: string\n\t}) => Promise<McpServerListResourcesToolResult>","mcpServer.readResource":"\n(args: {\n\t\turi: string\n\t}) => Promise<McpServerReadResourceToolResult>","mcpServer.listPrompts":"\n(args: {\n\t\tcursor?: string\n\t}) => Promise<McpServerListPromptsToolResult>","mcpServer.getPrompt":"\n(args: {\n\t\tname: string\n\t\targuments?: Record<string, string>\n\t}) => Promise<McpServerGetPromptToolResult>","mcpServer.listTools":"(args?: {}) => Promise<McpServerListToolsToolResult>"},effectsArray:["mcpServer.runTool","mcpServer.listResources","mcpServer.readResource","mcpServer.listPrompts","mcpServer.getPrompt","mcpServer.listTools"],effectsValidators:{"mcpServer.runTool":n().object({required:{toolArguments:n().record(n().string(),n().unknown()),toolName:n().string()},optional:{},exact:!0}),"mcpServer.listResources":n().object({required:{},optional:{cursor:n().string()},exact:!0}),"mcpServer.readResource":n().object({required:{uri:n().string()},optional:{},exact:!0}),"mcpServer.listPrompts":n().object({required:{},optional:{cursor:n().string()},exact:!0}),"mcpServer.getPrompt":n().object({required:{name:n().string()},optional:{arguments:n().record(n().string(),n().string())},exact:!0}),"mcpServer.listTools":n().undefinable(n().object({required:{},optional:{},exact:!0}))}},rt=(n().literal("search"),n().object({required:{actions:n().array(n().literal("search")),identifier:n().string(),moduleType:n().literal("microsoftTeams"),type:n().literal("microsoftTeams")},optional:{},exact:!0}),n().object({required:{actions:n().array(n().literal("search")),identifier:n().string()},optional:{},exact:!0}),n().object({required:{},optional:{},exact:!0}),n().object({required:{query:n().string()},optional:{},exact:!0}),n().object({required:{results:n().array(n().object({required:{channel:n().undefinable(n().string()),id:n().string(),isPrivate:n().union([n().isUndefined(),n().literal(!1),n().literal(!0)]),lastEdited:n().string(),messages:n().array(n().object({required:{lastEdited:n().string(),messageId:n().string(),text:n().string(),threadId:n().string(),user:n().string()},optional:{},exact:!0})),pageId:n().string(),path:n().string(),text:n().string(),title:n().string()},optional:{},exact:!0}))},optional:{},exact:!0}),n().union([n().object({required:{channelId:n().string()},optional:{channelName:n().isUndefined()},exact:!0}),n().object({required:{channelName:n().string()},optional:{channelId:n().isUndefined()},exact:!0})]),n().object({required:{channel:n().string(),messages:n().array(n().object({required:{text:n().string(),user:n().object({required:{name:n().string()},optional:{notionUserId:n().string(),notionUserName:n().string()},exact:!0})},optional:{attachments:n().array(n().string()),date:n().string()},exact:!0})),timestamp:n().number(),type:n().literal("microsoft-teams")},optional:{additionalMessageToModel:n().string()},exact:!0}),n().object({required:{channelId:n().string(),messageId:n().string()},optional:{},exact:!0}),n().object({required:{channel:n().string(),messages:n().array(n().object({required:{text:n().string(),user:n().object({required:{name:n().string()},optional:{notionUserId:n().string(),notionUserName:n().string()},exact:!0})},optional:{attachments:n().array(n().string()),date:n().string()},exact:!0})),timestamp:n().number(),type:n().literal("microsoft-teams")},optional:{additionalMessageToModel:n().string()},exact:!0}),n().object({required:{chatId:n().string()},optional:{},exact:!0}),n().object({required:{channel:n().string(),messages:n().array(n().object({required:{text:n().string(),user:n().object({required:{name:n().string()},optional:{notionUserId:n().string(),notionUserName:n().string()},exact:!0})},optional:{attachments:n().array(n().string()),date:n().string()},exact:!0})),timestamp:n().number(),type:n().literal("microsoft-teams")},optional:{additionalMessageToModel:n().string()},exact:!0}),{dataTypes:"\ntype MicrosoftTeamsPersistedState = {}\n\ntype MicrosoftTeamsSearchInput = {\n\tquery: string\n}\n\ntype MicrosoftTeamsSearchResult = {\n\tresults: Array<MicrosoftTeamsSearchResultItem>\n}\n\ntype MicrosoftTeamsViewChannelInput =\n\t| {\n\t\t\tchannelId: string\n\t\t\tchannelName?: never\n\t  }\n\t| {\n\t\t\tchannelId?: never\n\t\t\tchannelName: string\n\t  }\n\ntype MicrosoftTeamsViewChannelResult = LoadMicrosoftTeamsResponse\n\ntype MicrosoftTeamsLoadMessageInput = {\n\tchannelId: string\n\tmessageId: string\n}\n\ntype MicrosoftTeamsLoadMessageResult = LoadMicrosoftTeamsResponse\n\ntype MicrosoftTeamsViewChatInput = {\n\tchatId: string\n}\n\ntype MicrosoftTeamsViewChatResult = LoadMicrosoftTeamsResponse",dataTypesArray:["MicrosoftTeamsPersistedState","MicrosoftTeamsSearchInput","MicrosoftTeamsSearchResult","MicrosoftTeamsViewChannelInput","MicrosoftTeamsViewChannelResult","MicrosoftTeamsLoadMessageInput","MicrosoftTeamsLoadMessageResult","MicrosoftTeamsViewChatInput","MicrosoftTeamsViewChatResult"],persistedStateValidator:n().object({required:{},optional:{},exact:!0}),persistedState:"",triggers:{},effects:{"microsoftTeams.search":"search(args: MicrosoftTeamsSearchInput): Promise<MicrosoftTeamsSearchResult>","microsoftTeams.viewChannel":"\nviewChannel(\n\t\targs: MicrosoftTeamsViewChannelInput,\n\t): Promise<MicrosoftTeamsViewChannelResult>","microsoftTeams.loadMessage":"\nloadMessage(\n\t\targs: MicrosoftTeamsLoadMessageInput,\n\t): Promise<MicrosoftTeamsLoadMessageResult>","microsoftTeams.viewChat":"\nviewChat(\n\t\targs: MicrosoftTeamsViewChatInput,\n\t): Promise<MicrosoftTeamsViewChatResult>"},effectsArray:["microsoftTeams.search","microsoftTeams.viewChannel","microsoftTeams.loadMessage","microsoftTeams.viewChat"],effectsValidators:{"microsoftTeams.search":n().object({required:{query:n().string()},optional:{},exact:!0}),"microsoftTeams.viewChannel":n().union([n().object({required:{channelId:n().string()},optional:{channelName:n().isUndefined()},exact:!0}),n().object({required:{channelName:n().string()},optional:{channelId:n().isUndefined()},exact:!0})]),"microsoftTeams.loadMessage":n().object({required:{channelId:n().string(),messageId:n().string()},optional:{},exact:!0}),"microsoftTeams.viewChat":n().object({required:{chatId:n().string()},optional:{},exact:!0})}}),nt=(n().object({required:{integration:n().object({required:{name:n().string(),type:n().string()},optional:{permissions:n().array(n().unknown()),state:n().unknown()},exact:!0}),url:n().string()},optional:{},exact:!0}),n().object({required:{type:n().string()},optional:{permissions:n().unknown(),state:n().unknown()},exact:!0}),n().object({required:{},optional:{},exact:!0}),n().object({required:{url:n().string()},optional:{permissions:n().unknown(),state:n().unknown()},exact:!0}),n().object({required:{url:n().string()},optional:{},exact:!0}),{dataTypes:"\ninterface ModulesModuleEntry {\n\turl: string\n\tintegration: AgentIntegration\n}\n\ninterface ModulesCreateInput {\n\ttype: string\n\tstate?: unknown\n\tpermissions?: unknown\n}\n\ninterface ModulesListInput {}\n\ninterface ModulesUpdateInput {\n\turl: string\n\tstate?: unknown\n\tpermissions?: unknown\n}\n\ninterface ModulesDeleteInput {\n\turl: string\n}",dataTypesArray:["ModulesModuleEntry","ModulesCreateInput","ModulesListInput","ModulesUpdateInput","ModulesDeleteInput"],persistedStateValidator:n().object({required:{},optional:{},exact:!0}),persistedState:"",triggers:{},effects:{"modules.list":"(args: ModulesListInput) => Promise<ModulesModuleEntry[]>","modules.create":"(args: ModulesCreateInput) => Promise<ModulesModuleEntry>","modules.update":"(args: ModulesUpdateInput) => Promise<ModulesModuleEntry>","modules.delete":"(args: ModulesDeleteInput) => Promise<void>"},effectsArray:["modules.list","modules.create","modules.update","modules.delete"],effectsValidators:{"modules.list":n().object({required:{},optional:{},exact:!0}),"modules.create":n().object({required:{type:n().string()},optional:{permissions:n().unknown(),state:n().unknown()},exact:!0}),"modules.update":n().object({required:{url:n().string()},optional:{permissions:n().unknown(),state:n().unknown()},exact:!0}),"modules.delete":n().object({required:{url:n().string()},optional:{},exact:!0})}}),at=n().literals("comment_only","read_and_write","reader"),it=(n().union([n().object({required:{actions:n().array(n().lazy((()=>at))),identifier:n().union([n().object({required:{blockId:n().uuid(),type:n().literal("pageOrCollectionViewBlock")},optional:{},exact:!0}),n().object({required:{type:n().literal("workspacePublic")},optional:{},exact:!0})]),type:n().literal("notion")},optional:{},exact:!0}),n().object({required:{actions:n().array(n().literals("allow","disallow")),identifier:n().union([n().object({required:{type:n().literal("helpdocs")},optional:{},exact:!0}),n().object({required:{type:n().literal("web")},optional:{allowedDomains:n().array(n().string())},exact:!0})]),type:n().literal("search")},optional:{},exact:!0})]),n().union([n().object({required:{actions:n().array(n().literals("allow","disallow")),identifier:n().literal("helpdocsSearch")},optional:{},exact:!0}),n().object({required:{actions:n().array(n().literals("allow","disallow")),identifier:n().literal("webSearch")},optional:{},exact:!0}),n().object({required:{actions:n().array(n().literals("comment","edit","view")),identifier:n().union([n().array(n().string()),n().string()])},optional:{},exact:!0})]),n().object({required:{interval:n().number(),timezone:n().string(),type:n().literal("recurrence")},optional:{collectionId:n().uuid(),hour:n().number(),minute:n().number(),scheduleId:n().string(),viewId:n().uuid()},exact:!0}),n().union([n().object({required:{frequency:n().literal("day")},optional:{},exact:!0}),n().object({required:{frequency:n().literal("hour")},optional:{},exact:!0}),n().object({required:{frequency:n().literal("month")},optional:{monthly_restriction:n().union([n().object({required:{monthdays:n().array(n().number()),type:n().literal("monthdays")},optional:{},exact:!0}),n().object({required:{type:n().literal("weekdays_in_month"),week_numbers:n().array(n().number()),weekdays:n().array(n().literals("FR","MO","SA","SU","TH","TU","WE"))},optional:{},exact:!0})])},exact:!0}),n().object({required:{frequency:n().literal("week")},optional:{weekdays:n().array(n().literals("FR","MO","SA","SU","TH","TU","WE"))},exact:!0}),n().object({required:{frequency:n().literal("year")},optional:{},exact:!0})]),{dataTypes:'\ntype RecurrenceTriggerBase = {\n    type: "recurrence";\n    interval: number; // e.g. every 2 days, every 2 weeks\n    timezone: string; // e.g. "America/New_York". Default to the user\'s current timezone unless otherwise specified.\n    hour?: number; // Optional, 0-23\n    minute?: number; // Optional, 0-59\n    /**\n     * For database agents: the collection to iterate over when the recurrence fires.\n     * If not provided, the agent will not run over the collection.\n     */\n    collectionId?: RecordId<CollectionTable>;\n    /**\n     * For database agents: optional view to filter which rows to process.\n     * If not provided, all rows in the collection will be processed.\n     */\n    viewId?: RecordId<CollectionViewTable>;\n};\n\ntype RecurrenceTriggerFrequencyConfig =\n\t| {\n\t\t\tfrequency: "hour"\n\t  }\n\t| {\n\t\t\tfrequency: "day"\n\t  }\n\t| {\n\t\t\tfrequency: "week"\n\t\t\tweekdays?: Array<"MO" | "TU" | "WE" | "TH" | "FR" | "SA" | "SU"> // Optional, trigger only on certain weekdays\n\t  }\n\t| {\n\t\t\tfrequency: "month"\n\t\t\tmonthly_restriction?:\n\t\t\t\t| {\n\t\t\t\t\t\ttype: "monthdays"\n\t\t\t\t\t\tmonthdays: Array<number>\n\t\t\t\t  }\n\t\t\t\t| {\n\t\t\t\t\t\ttype: "weekdays_in_month"\n\t\t\t\t\t\t/**\n\t\t\t\t\t\t * Only execute on these weekdays.\n\t\t\t\t\t\t */\n\t\t\t\t\t\tweekdays: Array<"MO" | "TU" | "WE" | "TH" | "FR" | "SA" | "SU">\n\t\t\t\t\t\t/**\n\t\t\t\t\t\t * On these week numbers. Note that "-1" means the last week\n\t\t\t\t\t\t * of the month.\n\t\t\t\t\t\t */\n\t\t\t\t\t\tweek_numbers: Array<number>\n\t\t\t\t  }\n\t  }\n\t| {\n\t\t\tfrequency: "year"\n\t  }',dataTypesArray:["RecurrenceTriggerBase","RecurrenceTriggerFrequencyConfig"],persistedStateValidator:n().object({required:{},optional:{ownedByDatabasePropertyIds:n().array(n().string())},exact:!0}),persistedState:"ownedByDatabasePropertyIds?: Array<string>",triggers:{recurrence:{state:"\nexport type RecurrenceTrigger = RecurrenceTriggerBase &\n\tRecurrenceTriggerFrequencyConfig",stateValidator:n().union([n().object({required:{frequency:n().literal("day"),interval:n().number(),timezone:n().string(),type:n().literal("recurrence")},optional:{collectionId:n().uuid(),hour:n().number(),minute:n().number(),scheduleId:n().string(),viewId:n().uuid()},exact:!0}),n().object({required:{frequency:n().literal("hour"),interval:n().number(),timezone:n().string(),type:n().literal("recurrence")},optional:{collectionId:n().uuid(),hour:n().number(),minute:n().number(),scheduleId:n().string(),viewId:n().uuid()},exact:!0}),n().object({required:{frequency:n().literal("month"),interval:n().number(),timezone:n().string(),type:n().literal("recurrence")},optional:{collectionId:n().uuid(),hour:n().number(),minute:n().number(),monthly_restriction:n().union([n().object({required:{monthdays:n().array(n().number()),type:n().literal("monthdays")},optional:{},exact:!0}),n().object({required:{type:n().literal("weekdays_in_month"),week_numbers:n().array(n().number()),weekdays:n().array(n().literals("FR","MO","SA","SU","TH","TU","WE"))},optional:{},exact:!0})]),scheduleId:n().string(),viewId:n().uuid()},exact:!0}),n().object({required:{frequency:n().literal("week"),interval:n().number(),timezone:n().string(),type:n().literal("recurrence")},optional:{collectionId:n().uuid(),hour:n().number(),minute:n().number(),scheduleId:n().string(),viewId:n().uuid(),weekdays:n().array(n().literals("FR","MO","SA","SU","TH","TU","WE"))},exact:!0}),n().object({required:{frequency:n().literal("year"),interval:n().number(),timezone:n().string(),type:n().literal("recurrence")},optional:{collectionId:n().uuid(),hour:n().number(),minute:n().number(),scheduleId:n().string(),viewId:n().uuid()},exact:!0})])},"notion.page.discussion.comment.added":{state:'\ntype: "notion.page.discussion.comment.added"\ncollectionId?: string // UUID of the collection/database',stateValidator:n().object({required:{type:n().literal("notion.page.discussion.comment.added")},optional:{collectionId:n().string()},exact:!0})},"notion.page.created":{state:'\ntype: "notion.page.created"\ncollectionId?: string // UUID of the collection/database\ndebounceTimeoutSeconds?: number',stateValidator:n().object({required:{type:n().literal("notion.page.created")},optional:{collectionId:n().string(),debounceTimeoutSeconds:n().number()},exact:!0})},"notion.page.updated":{state:'\ntype: "notion.page.updated"\ncollectionId?: string // UUID of the collection/database\npropertyIds?: string[] // Optional array of property URLs or names to watch\nshouldIgnorePageContentUpdates?: boolean\ndebounceTimeoutSeconds?: number\npropertyFilters?: AutomationEventConfiguration["pagePropertiesEdited"]',stateValidator:n().object({required:{type:n().literal("notion.page.updated")},optional:{collectionId:n().string(),debounceTimeoutSeconds:n().number(),propertyFilters:n().union([n().object({required:{type:n().literal("all")},optional:{all:n().array(n().object({required:{filter:n().union([n().object({required:{operator:n().literal("is_empty")},optional:{},exact:!0}),n().object({required:{operator:n().literal("is_not_empty")},optional:{},exact:!0}),n().object({required:{operator:n().literal("string_has_no_alphabet_prefix")},optional:{},exact:!0}),n().object({required:{operator:n().literals("checkbox_is","checkbox_is_not"),value:n().object({required:{type:n().literal("exact"),value:n().union([n().isUndefined(),n().literal(!1),n().literal(!0)])},optional:{},exact:!0})},optional:{},exact:!0}),n().object({required:{operator:n().literals("date_is","date_is_after","date_is_before","date_is_on_or_after","date_is_on_or_before"),value:n().union([n().object({required:{type:n().literal("exact"),value:n().union([n().isUndefined(),n().object({required:{start_date:n().string(),type:n().literal("date")},optional:{reminder:n().union([n().object({required:{time:n().string(),unit:n().literals("day","month","week","year"),value:n().number()},optional:{defaultTimeZone:n().string()},exact:!0}),n().object({required:{unit:n().literal("none")},optional:{},exact:!0})])},exact:!0}),n().object({required:{start_date:n().string(),start_time:n().string(),time_zone:n().string(),type:n().literal("datetime")},optional:{reminder:n().union([n().object({required:{time:n().string(),unit:n().literals("day","month","week","year"),value:n().number()},optional:{defaultTimeZone:n().string()},exact:!0}),n().object({required:{unit:n().literal("none")},optional:{},exact:!0}),n().object({required:{unit:n().literals("hour","minute"),value:n().number()},optional:{},exact:!0})])},exact:!0})])},optional:{},exact:!0}),n().object({required:{type:n().literal("relative"),value:n().literal("one_month_ago")},optional:{},exact:!0}),n().object({required:{type:n().literal("relative"),value:n().literal("one_month_from_now")},optional:{},exact:!0}),n().object({required:{type:n().literal("relative"),value:n().literal("one_week_ago")},optional:{},exact:!0}),n().object({required:{type:n().literal("relative"),value:n().literal("one_week_from_now")},optional:{},exact:!0}),n().object({required:{type:n().literal("relative"),value:n().literal("today")},optional:{},exact:!0}),n().object({required:{type:n().literal("relative"),value:n().literal("tomorrow")},optional:{},exact:!0}),n().object({required:{type:n().literal("relative"),value:n().literal("yesterday")},optional:{},exact:!0})])},optional:{use_end:n().boolean()},exact:!0}),n().object({required:{operator:n().literals("date_is_relative_to","date_is_within"),value:n().union([n().object({required:{count:n().number(),direction:n().literals("future","past"),type:n().literal("relative"),unit:n().literals("day","month","week","year"),value:n().literal("custom")},optional:{},exact:!0}),n().object({required:{type:n().literal("exact"),value:n().undefinable(n().object({required:{type:n().literal("daterange")},optional:{end_date:n().string(),reminder:n().union([n().object({required:{time:n().string(),unit:n().literals("day","month","week","year"),value:n().number()},optional:{defaultTimeZone:n().string()},exact:!0}),n().object({required:{unit:n().literal("none")},optional:{},exact:!0})]),start_date:n().string()},exact:!0}))},optional:{},exact:!0}),n().object({required:{type:n().literal("relative"),unit:n().literals("day","month","week","year"),value:n().literal("surrounding")},optional:{},exact:!0}),n().object({required:{type:n().literal("relative"),value:n().literal("the_next_month")},optional:{},exact:!0}),n().object({required:{type:n().literal("relative"),value:n().literal("the_next_week")},optional:{},exact:!0}),n().object({required:{type:n().literal("relative"),value:n().literal("the_next_year")},optional:{},exact:!0}),n().object({required:{type:n().literal("relative"),value:n().literal("the_past_month")},optional:{},exact:!0}),n().object({required:{type:n().literal("relative"),value:n().literal("the_past_week")},optional:{},exact:!0}),n().object({required:{type:n().literal("relative"),value:n().literal("the_past_year")},optional:{},exact:!0}),n().object({required:{type:n().literal("relative"),value:n().literal("this_week")},optional:{},exact:!0})])},optional:{use_end:n().boolean()},exact:!0}),n().object({required:{operator:n().literals("enum_contains","enum_contains_all","enum_does_not_contain"),value:n().union([n().array(n().object({required:{type:n().literal("exact"),value:n().undefinable(n().string())},optional:{},exact:!0})),n().object({required:{type:n().literal("exact"),value:n().undefinable(n().string())},optional:{},exact:!0})])},optional:{},exact:!0}),n().object({required:{operator:n().literals("number_does_not_equal","number_equals","number_greater_than","number_greater_than_or_equal_to","number_less_than","number_less_than_or_equal_to"),value:n().object({required:{type:n().literal("exact"),value:n().undefinable(n().number())},optional:{},exact:!0})},optional:{},exact:!0}),n().object({required:{operator:n().literals("person_contains","person_does_not_contain"),value:n().union([n().array(n().union([n().object({required:{type:n().literal("exact"),value:n().union([l("bot"),l("notion_user"),s("agent"),s("space_permission_group"),n().isUndefined()])},optional:{},exact:!0}),n().object({required:{type:n().literal("relative"),value:n().literal("me")},optional:{},exact:!0})])),n().object({required:{type:n().literal("exact"),value:n().union([l("bot"),l("notion_user"),s("agent"),s("space_permission_group"),n().isUndefined()])},optional:{},exact:!0}),n().object({required:{type:n().literal("relative"),value:n().literal("me")},optional:{},exact:!0})])},optional:{},exact:!0}),n().object({required:{operator:n().literal("changes_to_any")},optional:{},exact:!0}),n().object({required:{operator:n().literals("relation_contains","relation_does_not_contain"),value:n().union([n().array(n().union([n().object({required:{type:n().literal("relative"),value:n().union([n().object({required:{type:n().literal("builtin"),variable:n().literals("current","last","next")},optional:{},exact:!0}),n().object({required:{type:n().literal("current_page_in_related_collection")},optional:{},exact:!0})])},optional:{},exact:!0}),n().object({required:{type:n().literal("exact"),value:n().undefinable(n().string())},optional:{},exact:!0})])),n().object({required:{type:n().literal("relative"),value:n().union([n().object({required:{type:n().literal("builtin"),variable:n().literals("current","last","next")},optional:{},exact:!0}),n().object({required:{type:n().literal("current_page_in_related_collection")},optional:{},exact:!0})])},optional:{},exact:!0}),n().object({required:{type:n().literal("exact"),value:n().undefinable(n().string())},optional:{},exact:!0})])},optional:{},exact:!0}),n().object({required:{operator:n().literals("enum_is","enum_is_not"),value:n().union([n().array(n().object({required:{type:n().literal("exact"),value:n().undefinable(n().string())},optional:{},exact:!0})),n().object({required:{type:n().literal("exact"),value:n().undefinable(n().string())},optional:{},exact:!0})])},optional:{},exact:!0}),n().object({required:{operator:n().literals("status_is","status_is_not"),value:n().union([n().array(n().object({required:{type:n().literals("is_group","is_option"),value:n().undefinable(n().string())},optional:{},exact:!0})),n().object({required:{type:n().literals("is_group","is_option"),value:n().undefinable(n().string())},optional:{},exact:!0})])},optional:{},exact:!0}),n().object({required:{operator:n().literals("string_contains","string_does_not_contain","string_ends_with","string_is","string_is_not","string_starts_with"),value:n().object({required:{type:n().literal("exact"),value:n().undefinable(n().string())},optional:{},exact:!0})},optional:{},exact:!0})]),property:n().string()},optional:{},exact:!0}))},exact:!0}),n().object({required:{type:n().literal("any")},optional:{},exact:!0}),n().object({required:{type:n().literal("none")},optional:{},exact:!0}),n().object({required:{type:n().literal("some")},optional:{some:n().array(n().object({required:{filter:n().union([n().object({required:{operator:n().literal("is_empty")},optional:{},exact:!0}),n().object({required:{operator:n().literal("is_not_empty")},optional:{},exact:!0}),n().object({required:{operator:n().literal("string_has_no_alphabet_prefix")},optional:{},exact:!0}),n().object({required:{operator:n().literals("checkbox_is","checkbox_is_not"),value:n().object({required:{type:n().literal("exact"),value:n().union([n().isUndefined(),n().literal(!1),n().literal(!0)])},optional:{},exact:!0})},optional:{},exact:!0}),n().object({required:{operator:n().literals("date_is","date_is_after","date_is_before","date_is_on_or_after","date_is_on_or_before"),value:n().union([n().object({required:{type:n().literal("exact"),value:n().union([n().isUndefined(),n().object({required:{start_date:n().string(),type:n().literal("date")},optional:{reminder:n().union([n().object({required:{time:n().string(),unit:n().literals("day","month","week","year"),value:n().number()},optional:{defaultTimeZone:n().string()},exact:!0}),n().object({required:{unit:n().literal("none")},optional:{},exact:!0})])},exact:!0}),n().object({required:{start_date:n().string(),start_time:n().string(),time_zone:n().string(),type:n().literal("datetime")},optional:{reminder:n().union([n().object({required:{time:n().string(),unit:n().literals("day","month","week","year"),value:n().number()},optional:{defaultTimeZone:n().string()},exact:!0}),n().object({required:{unit:n().literal("none")},optional:{},exact:!0}),n().object({required:{unit:n().literals("hour","minute"),value:n().number()},optional:{},exact:!0})])},exact:!0})])},optional:{},exact:!0}),n().object({required:{type:n().literal("relative"),value:n().literal("one_month_ago")},optional:{},exact:!0}),n().object({required:{type:n().literal("relative"),value:n().literal("one_month_from_now")},optional:{},exact:!0}),n().object({required:{type:n().literal("relative"),value:n().literal("one_week_ago")},optional:{},exact:!0}),n().object({required:{type:n().literal("relative"),value:n().literal("one_week_from_now")},optional:{},exact:!0}),n().object({required:{type:n().literal("relative"),value:n().literal("today")},optional:{},exact:!0}),n().object({required:{type:n().literal("relative"),value:n().literal("tomorrow")},optional:{},exact:!0}),n().object({required:{type:n().literal("relative"),value:n().literal("yesterday")},optional:{},exact:!0})])},optional:{use_end:n().boolean()},exact:!0}),n().object({required:{operator:n().literals("date_is_relative_to","date_is_within"),value:n().union([n().object({required:{count:n().number(),direction:n().literals("future","past"),type:n().literal("relative"),unit:n().literals("day","month","week","year"),value:n().literal("custom")},optional:{},exact:!0}),n().object({required:{type:n().literal("exact"),value:n().undefinable(n().object({required:{type:n().literal("daterange")},optional:{end_date:n().string(),reminder:n().union([n().object({required:{time:n().string(),unit:n().literals("day","month","week","year"),value:n().number()},optional:{defaultTimeZone:n().string()},exact:!0}),n().object({required:{unit:n().literal("none")},optional:{},exact:!0})]),start_date:n().string()},exact:!0}))},optional:{},exact:!0}),n().object({required:{type:n().literal("relative"),unit:n().literals("day","month","week","year"),value:n().literal("surrounding")},optional:{},exact:!0}),n().object({required:{type:n().literal("relative"),value:n().literal("the_next_month")},optional:{},exact:!0}),n().object({required:{type:n().literal("relative"),value:n().literal("the_next_week")},optional:{},exact:!0}),n().object({required:{type:n().literal("relative"),value:n().literal("the_next_year")},optional:{},exact:!0}),n().object({required:{type:n().literal("relative"),value:n().literal("the_past_month")},optional:{},exact:!0}),n().object({required:{type:n().literal("relative"),value:n().literal("the_past_week")},optional:{},exact:!0}),n().object({required:{type:n().literal("relative"),value:n().literal("the_past_year")},optional:{},exact:!0}),n().object({required:{type:n().literal("relative"),value:n().literal("this_week")},optional:{},exact:!0})])},optional:{use_end:n().boolean()},exact:!0}),n().object({required:{operator:n().literals("enum_contains","enum_contains_all","enum_does_not_contain"),value:n().union([n().array(n().object({required:{type:n().literal("exact"),value:n().undefinable(n().string())},optional:{},exact:!0})),n().object({required:{type:n().literal("exact"),value:n().undefinable(n().string())},optional:{},exact:!0})])},optional:{},exact:!0}),n().object({required:{operator:n().literals("number_does_not_equal","number_equals","number_greater_than","number_greater_than_or_equal_to","number_less_than","number_less_than_or_equal_to"),value:n().object({required:{type:n().literal("exact"),value:n().undefinable(n().number())},optional:{},exact:!0})},optional:{},exact:!0}),n().object({required:{operator:n().literals("person_contains","person_does_not_contain"),value:n().union([n().array(n().union([n().object({required:{type:n().literal("exact"),value:n().union([l("bot"),l("notion_user"),s("agent"),s("space_permission_group"),n().isUndefined()])},optional:{},exact:!0}),n().object({required:{type:n().literal("relative"),value:n().literal("me")},optional:{},exact:!0})])),n().object({required:{type:n().literal("exact"),value:n().union([l("bot"),l("notion_user"),s("agent"),s("space_permission_group"),n().isUndefined()])},optional:{},exact:!0}),n().object({required:{type:n().literal("relative"),value:n().literal("me")},optional:{},exact:!0})])},optional:{},exact:!0}),n().object({required:{operator:n().literal("changes_to_any")},optional:{},exact:!0}),n().object({required:{operator:n().literals("relation_contains","relation_does_not_contain"),value:n().union([n().array(n().union([n().object({required:{type:n().literal("relative"),value:n().union([n().object({required:{type:n().literal("builtin"),variable:n().literals("current","last","next")},optional:{},exact:!0}),n().object({required:{type:n().literal("current_page_in_related_collection")},optional:{},exact:!0})])},optional:{},exact:!0}),n().object({required:{type:n().literal("exact"),value:n().undefinable(n().string())},optional:{},exact:!0})])),n().object({required:{type:n().literal("relative"),value:n().union([n().object({required:{type:n().literal("builtin"),variable:n().literals("current","last","next")},optional:{},exact:!0}),n().object({required:{type:n().literal("current_page_in_related_collection")},optional:{},exact:!0})])},optional:{},exact:!0}),n().object({required:{type:n().literal("exact"),value:n().undefinable(n().string())},optional:{},exact:!0})])},optional:{},exact:!0}),n().object({required:{operator:n().literals("enum_is","enum_is_not"),value:n().union([n().array(n().object({required:{type:n().literal("exact"),value:n().undefinable(n().string())},optional:{},exact:!0})),n().object({required:{type:n().literal("exact"),value:n().undefinable(n().string())},optional:{},exact:!0})])},optional:{},exact:!0}),n().object({required:{operator:n().literals("status_is","status_is_not"),value:n().union([n().array(n().object({required:{type:n().literals("is_group","is_option"),value:n().undefinable(n().string())},optional:{},exact:!0})),n().object({required:{type:n().literals("is_group","is_option"),value:n().undefinable(n().string())},optional:{},exact:!0})])},optional:{},exact:!0}),n().object({required:{operator:n().literals("string_contains","string_does_not_contain","string_ends_with","string_is","string_is_not","string_starts_with"),value:n().object({required:{type:n().literal("exact"),value:n().undefinable(n().string())},optional:{},exact:!0})},optional:{},exact:!0})]),property:n().string()},optional:{},exact:!0}))},exact:!0})]),propertyIds:n().array(n().string()),shouldIgnorePageContentUpdates:n().boolean()},exact:!0})},"notion.page.deleted":{state:'\ntype: "notion.page.deleted"\ncollectionId?: string // UUID of the collection/database',stateValidator:n().object({required:{type:n().literal("notion.page.deleted")},optional:{collectionId:n().string()},exact:!0})},"notion.database.agent.updated":{state:'\ntype: "notion.database.agent.updated"\ncollectionId?: RecordId<CollectionTable>',stateValidator:n().object({required:{type:n().literal("notion.database.agent.updated")},optional:{collectionId:n().uuid()},exact:!0})},"notion.button.pressed":{state:'type: "notion.button.pressed"',stateValidator:n().object({required:{type:n().literal("notion.button.pressed")},optional:{},exact:!0})},"notion.agent.mentioned":{state:'type: "notion.agent.mentioned"',stateValidator:n().object({required:{type:n().literal("notion.agent.mentioned")},optional:{},exact:!0})}},effects:{"notion.sendNotification":"\n/*\n\t\tSend a notification to a user within Notion using the in-app Notion notification system\n\t*/\n\tsendNotification(args: {\n\t\tbodyContent: string\n\t\theaderContent: string\n\t\tuserUrl?: string\n\t\tsendToWorkflowOwner: boolean\n\t}): Promise<NotionEffectResult<NotificationMessage>>","notion.getPageDiscussions":"\n/*\n\t\tGets all discussions for a page. Pages can have multiple discussions, some of which may be resolved.\n\t*/\n\tgetPageDiscussions(args: {\n\t\tpageUrl: string // The URL of the page to get discussions for.\n\t\tincludeResolved?: boolean // Whether to include resolved discussions.\n\t}): Promise<NotionEffectResult<Array<NotionDiscussion>>>","notion.addCommentToDiscussion":"\n/*\n\t\tAdds a comment to an existing discussion.\n\t*/\n\taddCommentToDiscussion(args: {\n\t\tdiscussionUrl: string // The URL or ID of the discussion to add a comment to.\n\t\ttext: string // Inline-only markdown text. Only supports inline elements (bold, italics, code) but not blocks (headers, lists).\n\t\tattachedFileIds?: Array<string> // The file IDs of any files to attach to the comment.\n\t}): Promise<NotionEffectResult<NotionComment>>","notion.createDatabase":"\n/*\n\tCreate a database from a JSON configuration and return the resulting JSON configuration.\n\tTyped loosely for script-agent usage; validated at runtime.\n */\n\tcreateDatabase(args: unknown): Promise<NotionEffectResult<unknown>>","notion.loadAgent":"\n/*\n\tLoad a custom agent by URL and return its configuration with the linked instructions page.\n\t*/\n\tloadAgent(args: LoadAgentArgs): Promise<\n\t\tNotionEffectResult<{\n\t\t\tagentUrl: string\n\t\t\tinstructionsPageUrl: string\n\t\t\tconfiguration: AgentConfiguration\n\t\t}>\n\t>","notion.loadUser":"\n/*\n\tLoad a user by URL and return basic profile information.\n\t*/\n\tloadUser(args: { url: string }): Promise<\n\t\tNotionEffectResult<{\n\t\t\turl: string\n\t\t\temail?: string\n\t\t\tname?: string\n\t\t\tprofilePhoto?: string\n\t\t}>\n\t>","notion.createAgent":"\n/*\n\tCreate a custom agent from a JSON configuration and return the resulting configuration.\n\tTyped loosely for script-agent usage; validated at runtime.\n\t*/\n\tcreateAgent(args: CreateAgentArgs): Promise<\n\t\tNotionEffectResult<{\n\t\t\tagentUrl: string\n\t\t\tinstructionsPageUrl: string\n\t\t\tconfiguration: AgentConfiguration\n\t\t}>\n\t>","notion.updateDatabase":"\n/*\n\tUpdate a database using JSON edits and return the resulting JSON configuration.\n\tTyped loosely for script-agent usage; validated at runtime.\n */\n\tupdateDatabase(args: unknown): Promise<NotionEffectResult<unknown>>","notion.updateAgent":"\n/*\n\tUpdate a custom agent using edit-json edits and return the resulting configuration.\n\tTyped loosely for script-agent usage; validated at runtime.\n\t*/\n\tupdateAgent(args: UpdateAgentArgs): Promise<\n\t\tNotionEffectResult<{\n\t\t\tagentUrl: string\n\t\t\tinstructionsPageUrl: string\n\t\t\tconfiguration: AgentConfiguration\n\t\t}>\n\t>","notion.loadDatabase":"\n/*\n\t\tLoad a database configuration by URL and return its schema and views.\n\t*/\n\tloadDatabase(args: { url: string }): Promise<\n\t\tNotionEffectResult<{\n\t\t\tdatabaseUrl: string\n\t\t\tconfiguration: JSONDatabaseConfiguration\n\t\t}>\n\t>","notion.loadDataSource":"\n/*\n\tLoad a data source (database) by URL and return its schema configuration.\n\t*/\n\tloadDataSource(args: { url: string }): Promise<NotionEffectResult<DataSource>>","notion.loadPage":"\n/*\n\t\tLoad a page by URL and return its properties and content.\n\t*/\n\tloadPage(args: { url: string }): Promise<\n\t\tNotionEffectResult<{\n\t\t\turl: string\n\t\t\tparentUrl: string\n\t\t\tproperties: Record<string, SQLiteDatabasePropertyValue>\n\t\t\tcontent: string\n\t\t\ticon?: string\n\t\t}>\n\t>","notion.viewFileUrl":"\n/*\n\t\tReturn a file URL for viewing in the script agent.\n\t*/\n\tviewFileUrl(args: {\n\t\turl: string\n\t}): Promise<EffectResultOrValue<NotionEffectResult<{ url: string }>>>","notion.createPage":"\n/*\n\t\tCreate a page under the given parent page/database URL (or use user://<currentUserId> for a top-level private page) with optional properties and content.\n\t*/\n\tcreatePage(args: {\n\t\tparentUrl: string\n\t\tproperties?: Record<string, SQLiteDatabasePropertyValue>\n\t\tcontent?: string\n\t\ticon?: string | null\n\t}): Promise<\n\t\tNotionEffectResult<{\n\t\t\turl: string\n\t\t\tparentUrl: string\n\t\t\tproperties: Record<string, SQLiteDatabasePropertyValue>\n\t\t\tcontent: string\n\t\t\ticon?: string\n\t\t}>\n\t>","notion.updatePage":"\n/*\n\t\tUpdate a page's properties and/or content.\n\n\t\t- Prefer updating content via `contentUpdates` (safer).\n\t\t- Replacing content is a last resort for pages with existing content; do this by passing a single `contentUpdates` entry with no `oldStr`.\n\t*/\n\tupdatePage(args: {\n\t\turl: string\n\t\tpropertyUpdates?: Record<string, SQLiteDatabasePropertyValue>\n\t\tcontentUpdates?: Array<{ oldStr?: string; newStr: string }>\n\t\ticon?: string | null\n\t}): Promise<\n\t\tNotionEffectResult<{\n\t\t\turl: string\n\t\t\tparentUrl: string\n\t\t\tproperties: Record<string, SQLiteDatabasePropertyValue>\n\t\t\tcontent: string\n\t\t\ticon?: string\n\t\t}>\n\t>","notion.querySql":"\n/*\n\tRun a read-only SQL query across the provided data sources.\n\t*/\n\tquerySql(args: {\n\t\tdataSourceUrls: Array<string>\n\t\tquery: string\n\t\tparams?: Array<unknown>\n\t}): Promise<NotionEffectResult<NotionQueryResult>>","notion.queryView":"\n/*\n\tQuery a specific database view and return its rows.\n\t*/\n\tqueryView(args: {\n\t\tviewUrl: string\n\t}): Promise<NotionEffectResult<NotionQueryResult>>","notion.queryThreads":"\n/*\n\tList recent agent threads for the current agent with optional time filtering.\n\t*/\n\tqueryThreads(args: {\n\t\tagentUrl?: string\n\t\tlimit?: number\n\t\ttimeStart?: string\n\t\ttimeEnd?: string\n\t}): Promise<\n\t\tNotionEffectResult<{\n\t\t\tthreads: Array<{\n\t\t\t\turl: string\n\t\t\t\tcreatedTime: number\n\t\t\t\ttitle?: string\n\t\t\t}>\n\t\t}>\n\t>","notion.investigateThread":"\n/*\n\tInvestigate an existing agent thread transcript.\n\t*/\n\tinvestigateThread(args: { threadUrl: string; instructions: string }): Promise<\n\t\tNotionEffectResult<{\n\t\t\tanalysis: string\n\t\t}>\n\t>","notion.createAndRunThread":"\n/*\n\tCreate a new sub-agent thread (or continue an existing one) and return its response.\n\t*/\n\tcreateAndRunThread(args: {\n\t\tagentUrl?: string\n\t\tthreadUrl?: string\n\t\tinstructions: string\n\t}): Promise<\n\t\tNotionEffectResult<{\n\t\t\tthreadUrl: string\n\t\t\tresponse: string\n\t\t}>\n\t>","notion.getFormulaValue":"\n/*\n\tGet the computed value of a formula property for a specific page.\n\t*/\n\tgetFormulaValue(args: {\n\t\tpageUrl: string\n\t\tpropertyName: string\n\t}): Promise<NotionEffectResult<string | number | boolean | null>>"},effectsArray:["notion.sendNotification","notion.getPageDiscussions","notion.addCommentToDiscussion","notion.createDatabase","notion.loadAgent","notion.loadUser","notion.createAgent","notion.updateDatabase","notion.updateAgent","notion.loadDatabase","notion.loadDataSource","notion.loadPage","notion.viewFileUrl","notion.createPage","notion.updatePage","notion.querySql","notion.queryView","notion.queryThreads","notion.investigateThread","notion.createAndRunThread","notion.getFormulaValue"],effectsValidators:{"notion.sendNotification":n().object({required:{bodyContent:n().string(),headerContent:n().string(),sendToWorkflowOwner:n().boolean()},optional:{userUrl:n().string()},exact:!0}),"notion.getPageDiscussions":n().object({required:{pageUrl:n().string()},optional:{includeResolved:n().boolean()},exact:!0}),"notion.addCommentToDiscussion":n().object({required:{discussionUrl:n().string(),text:n().string()},optional:{attachedFileIds:n().array(n().string())},exact:!0}),"notion.createDatabase":n().unknown(),"notion.loadAgent":n().object({required:{url:n().string()},optional:{},exact:!0}),"notion.loadUser":n().object({required:{url:n().string()},optional:{},exact:!0}),"notion.createAgent":n().object({required:{},optional:{description:n().string(),icon:n().union([n().object({required:{color:n().string(),shape:n().string(),type:n().literal("agent_icon")},optional:{},exact:!0}),n().object({required:{emoji:n().string(),type:n().literal("emoji")},optional:{},exact:!0}),n().object({required:{type:n().literal("url"),url:n().string()},optional:{},exact:!0})]),integrations:n().record(n().string(),n().object({required:{name:n().string(),type:n().string()},optional:{permissions:n().array(n().unknown()),state:n().unknown()},exact:!0})),name:n().string(),scripts:n().record(n().string(),n().object({required:{key:n().string(),name:n().string(),value:n().string()},optional:{},exact:!0})),triggers:n().record(n().string(),n().object({required:{enabled:n().boolean(),state:n().unknown()},optional:{integrationUrl:n().string(),scriptUrl:n().string()},exact:!0}))},exact:!0}),"notion.updateDatabase":n().unknown(),"notion.updateAgent":n().object({required:{agentUrl:n().string(),edits:n().array(n().union([n().object({required:{command:n().literal("delete"),path:n().array(n().string())},optional:{},exact:!0}),n().object({required:{command:n().literal("replaceString"),newStr:n().string(),numOccurrences:n().number(),path:n().array(n().string()),replaceStr:n().string()},optional:{},exact:!0}),n().object({required:{command:n().literal("set"),path:n().array(n().string()),value:n().unknown()},optional:{},exact:!0})]))},optional:{},exact:!0}),"notion.loadDatabase":n().object({required:{url:n().string()},optional:{},exact:!0}),"notion.loadDataSource":n().object({required:{url:n().string()},optional:{},exact:!0}),"notion.loadPage":n().object({required:{url:n().string()},optional:{},exact:!0}),"notion.viewFileUrl":n().object({required:{url:n().string()},optional:{},exact:!0}),"notion.createPage":n().object({required:{parentUrl:n().string()},optional:{content:n().string(),icon:n().nullable(n().string()),properties:n().record(n().string(),n().union([n().array(n().string()),n().isNull(),n().isUndefined(),n().literal(!1),n().literal(!0),n().number(),n().string()]))},exact:!0}),"notion.updatePage":n().object({required:{url:n().string()},optional:{contentUpdates:n().array(n().object({required:{newStr:n().string()},optional:{oldStr:n().string()},exact:!0})),icon:n().nullable(n().string()),propertyUpdates:n().record(n().string(),n().union([n().array(n().string()),n().isNull(),n().isUndefined(),n().literal(!1),n().literal(!0),n().number(),n().string()]))},exact:!0}),"notion.querySql":n().object({required:{dataSourceUrls:n().array(n().string()),query:n().string()},optional:{params:n().array(n().unknown())},exact:!0}),"notion.queryView":n().object({required:{viewUrl:n().string()},optional:{},exact:!0}),"notion.queryThreads":n().object({required:{},optional:{agentUrl:n().string(),limit:n().number(),timeEnd:n().string(),timeStart:n().string()},exact:!0}),"notion.investigateThread":n().object({required:{instructions:n().string(),threadUrl:n().string()},optional:{},exact:!0}),"notion.createAndRunThread":n().object({required:{instructions:n().string()},optional:{agentUrl:n().string(),threadUrl:n().string()},exact:!0}),"notion.getFormulaValue":n().object({required:{pageUrl:n().string(),propertyName:n().string()},optional:{},exact:!0})}}),ot=(n().literal("search"),n().object({required:{actions:n().array(n().literal("search")),identifier:n().string(),moduleType:n().literal("outlook"),type:n().literal("outlook")},optional:{},exact:!0}),n().object({required:{actions:n().array(n().literal("search")),identifier:n().string()},optional:{},exact:!0}),n().object({required:{},optional:{},exact:!0}),n().object({required:{query:n().string()},optional:{},exact:!0}),n().object({required:{results:n().array(n().object({required:{emailAddress:n().string(),id:n().string(),isPrivate:n().boolean(),lastEdited:n().string(),pageId:n().string(),path:n().string(),text:n().string(),title:n().string()},optional:{},exact:!0}))},optional:{},exact:!0}),n().object({required:{messageId:n().string()},optional:{},exact:!0}),n().object({required:{messages:n().array(n().object({required:{text:n().string(),timestamp:n().number(),user:n().object({required:{name:n().string()},optional:{notionUserId:n().string(),notionUserName:n().string()},exact:!0})},optional:{subject:n().string()},exact:!0})),subject:n().string(),threadId:n().string(),timestamp:n().number(),type:n().literal("outlook")},optional:{},exact:!0}),n().object({required:{threadId:n().string()},optional:{maxResults:n().number()},exact:!0}),n().object({required:{messages:n().array(n().object({required:{text:n().string(),timestamp:n().number(),user:n().object({required:{name:n().string()},optional:{notionUserId:n().string(),notionUserName:n().string()},exact:!0})},optional:{subject:n().string()},exact:!0})),subject:n().string(),threadId:n().string(),timestamp:n().number(),type:n().literal("outlook")},optional:{},exact:!0}),n().object({required:{},optional:{maxResults:n().number(),q:n().string()},exact:!0}),n().object({required:{messages:n().array(n().object({required:{messages:n().array(n().object({required:{text:n().string(),timestamp:n().number(),user:n().object({required:{name:n().string()},optional:{notionUserId:n().string(),notionUserName:n().string()},exact:!0})},optional:{subject:n().string()},exact:!0})),subject:n().string(),threadId:n().string(),timestamp:n().number(),type:n().literal("outlook")},optional:{},exact:!0}))},optional:{},exact:!0}),{dataTypes:"\ntype OutlookPersistedState = {}\n\ntype OutlookSearchInput = {\n\tquery: string\n}\n\ntype OutlookSearchResult = {\n\tresults: Array<OutlookSearchResultItem>\n}\n\ntype OutlookLoadMessageInput = {\n\tmessageId: string\n}\n\ntype OutlookLoadMessageResult = LoadOutlookResponse\n\ntype OutlookLoadThreadInput = {\n\tthreadId: string\n\tmaxResults?: number\n}\n\ntype OutlookLoadThreadResult = LoadOutlookResponse\n\ntype OutlookQueryInput = {\n\tq?: string\n\tmaxResults?: number\n}\n\ntype OutlookQueryResult = {\n\tmessages: Array<LoadOutlookResponse>\n}",dataTypesArray:["OutlookPersistedState","OutlookSearchInput","OutlookSearchResult","OutlookLoadMessageInput","OutlookLoadMessageResult","OutlookLoadThreadInput","OutlookLoadThreadResult","OutlookQueryInput","OutlookQueryResult"],persistedStateValidator:n().object({required:{},optional:{},exact:!0}),persistedState:"",triggers:{},effects:{"outlook.search":"search(args: OutlookSearchInput): Promise<OutlookSearchResult>","outlook.loadMessage":"loadMessage(args: OutlookLoadMessageInput): Promise<OutlookLoadMessageResult>","outlook.loadThread":"loadThread(args: OutlookLoadThreadInput): Promise<OutlookLoadThreadResult>","outlook.query":"query(args: OutlookQueryInput): Promise<OutlookQueryResult>"},effectsArray:["outlook.search","outlook.loadMessage","outlook.loadThread","outlook.query"],effectsValidators:{"outlook.search":n().object({required:{query:n().string()},optional:{},exact:!0}),"outlook.loadMessage":n().object({required:{messageId:n().string()},optional:{},exact:!0}),"outlook.loadThread":n().object({required:{threadId:n().string()},optional:{maxResults:n().number()},exact:!0}),"outlook.query":n().object({required:{},optional:{maxResults:n().number(),q:n().string()},exact:!0})}}),st=(n().literal("search"),n().object({required:{actions:n().array(n().literal("search")),identifier:n().string(),moduleType:n().literal("salesforce"),type:n().literal("salesforce")},optional:{},exact:!0}),n().object({required:{actions:n().array(n().literal("search")),identifier:n().string()},optional:{},exact:!0}),n().object({required:{},optional:{},exact:!0}),n().object({required:{query:n().string()},optional:{},exact:!0}),n().object({required:{results:n().array(n().object({required:{id:n().string(),isPrivate:n().boolean(),lastEdited:n().string(),objectType:n().string(),pageId:n().string(),path:n().string(),text:n().string(),title:n().string()},optional:{},exact:!0}))},optional:{},exact:!0}),{dataTypes:"\ntype SalesforcePersistedState = {}\n\ntype SalesforceSearchInput = {\n\tquery: string\n}\n\ntype SalesforceSearchResult = {\n\tresults: Array<SalesforceSearchResultItem>\n}",dataTypesArray:["SalesforcePersistedState","SalesforceSearchInput","SalesforceSearchResult"],persistedStateValidator:n().object({required:{},optional:{},exact:!0}),persistedState:"",triggers:{},effects:{"salesforce.search":"search(args: SalesforceSearchInput): Promise<SalesforceSearchResult>"},effectsArray:["salesforce.search"],effectsValidators:{"salesforce.search":n().object({required:{query:n().string()},optional:{},exact:!0})}});n().literal("search"),n().object({required:{actions:n().array(n().literal("search")),identifier:n().string(),moduleType:n().literal("sharepoint"),type:n().literal("sharepoint")},optional:{},exact:!0}),n().object({required:{actions:n().array(n().literal("search")),identifier:n().string()},optional:{},exact:!0}),n().object({required:{},optional:{},exact:!0}),n().object({required:{query:n().string()},optional:{},exact:!0}),n().object({required:{results:n().array(n().object({required:{fileType:n().string(),id:n().string(),isPrivate:n().boolean(),lastEdited:n().string(),pageId:n().string(),path:n().string(),text:n().string(),title:n().string()},optional:{},exact:!0}))},optional:{},exact:!0}),n().union([n().object({required:{fileId:n().string()},optional:{url:n().isUndefined()},exact:!0}),n().object({required:{url:n().string()},optional:{fileId:n().isUndefined()},exact:!0})]),n().object({required:{blocks:n().array(n().string()),driveItemId:n().string(),fileType:n().string(),timestamp:n().number(),title:n().string(),type:n().literal("sharepoint")},optional:{},exact:!0});const lt={dataTypes:"\ntype SharepointPersistedState = {}\n\ntype SharepointSearchInput = {\n\tquery: string\n}\n\ntype SharepointSearchResult = {\n\tresults: Array<SharepointSearchResultItem>\n}\n\ntype SharepointLoadFileInput =\n\t| {\n\t\t\tfileId: string\n\t\t\turl?: never\n\t  }\n\t| {\n\t\t\tfileId?: never\n\t\t\turl: string\n\t  }\n\ntype SharepointLoadFileResult = LoadSharepointResponse",dataTypesArray:["SharepointPersistedState","SharepointSearchInput","SharepointSearchResult","SharepointLoadFileInput","SharepointLoadFileResult"],persistedStateValidator:n().object({required:{},optional:{},exact:!0}),persistedState:"",triggers:{},effects:{"sharepoint.search":"search(args: SharepointSearchInput): Promise<SharepointSearchResult>","sharepoint.loadFile":"loadFile(args: SharepointLoadFileInput): Promise<SharepointLoadFileResult>"},effectsArray:["sharepoint.search","sharepoint.loadFile"],effectsValidators:{"sharepoint.search":n().object({required:{query:n().string()},optional:{},exact:!0}),"sharepoint.loadFile":n().union([n().object({required:{fileId:n().string()},optional:{url:n().isUndefined()},exact:!0}),n().object({required:{url:n().string()},optional:{fileId:n().isUndefined()},exact:!0})])}},ct=(n().object({required:{identifier:n().union([n().array(n().string()),n().string()]),type:n().literal("slack")},optional:{actions:n().array(n().literals("react","read","replyInThread","write"))},exact:!0}),n().object({required:{identifier:n().union([n().array(n().string()),n().string()])},optional:{actions:n().array(n().literals("react","read","replyInThread","write"))},exact:!0}),n().object({required:{query:n().string()},optional:{},exact:!0}),n().object({required:{results:n().array(n().object({required:{id:n().string(),isPrivate:n().boolean(),lastEdited:n().string(),pageId:n().string(),path:n().string(),text:n().string(),title:n().string()},optional:{channel:n().string(),messages:n().array(n().object({required:{messageId:n().string(),text:n().string(),threadId:n().string()},optional:{},exact:!0}))},exact:!0}))},optional:{},exact:!0}),n().object({required:{channelId:n().string(),messageTs:n().string()},optional:{threadTs:n().string()},exact:!0}),n().object({required:{channel:n().string(),messages:n().array(n().object({required:{text:n().string(),user:n().object({required:{name:n().string()},optional:{notionUserId:n().string(),notionUserName:n().string()},exact:!0})},optional:{attachments:n().array(n().string()),date:n().string(),ts:n().string()},exact:!0})),timestamp:n().number(),type:n().literal("slack")},optional:{additionalMessageToModel:n().string()},exact:!0}),n().object({required:{},optional:{appMentionUserGroup:n().object({required:{description:n().string(),handle:n().string(),id:n().string(),name:n().string(),team_id:n().string()},optional:{},exact:!0}),connectionPointer:s("external_connection","workflow_external_scoped_connection"),error:n().union([n().object({required:{aiConnectorTeamId:n().string(),aiConnectorTeamName:n().string(),type:n().literal("slack_workspace_mismatch"),workflowsTeamId:n().string(),workflowsTeamName:n().string()},optional:{},exact:!0}),n().object({required:{type:n().literal("grid_ai_connector")},optional:{},exact:!0}),n().object({required:{type:n().literal("no_slack_ai_connector")},optional:{},exact:!0})]),name:n().string(),scopes:n().array(n().string())},exact:!0})),ut={"slack.reaction.added":{state:'\ntype: "slack.reaction.added"\nchannelIds?: Array<string> // IDs of channels to trigger on. If you do not know the channel ID, you can leave this blank and the user will fill it out later. DO NOT make up channel IDs.\nchannelIdentifiersToConvertToChannelIds?: Array<string> // Channels to trigger on. NOT channel IDs, but anything else. We will try to convert these to channel IDs. Only include here if you KNOW it\'s not a channel ID\nallChannels?: boolean // Whether to trigger on all channels. Set to false. Only set this to true if the user explicitly mentions triggering from all channels. The bot must be a member of a channel to trigger from it.\nreactions?: string[] // Optionally, trigger on specific reactions. If provided, only these reaction will cause the function to trigger. If not provided, any reaction will cause the function to trigger. An array of plain string without colons, like "thumbsup".\nshouldSubscribeToThread?: boolean // Whether to subscribe to the thread after the reaction is added. If true, the function will trigger when new messages are posted in the thread.\n/**\n * @deprecated\n * We can no longer add properties that change per trigger to this type, it causes issues with\n * published versions of the workflow (for one). We currently use WorkflowArtifact table for things like this\n */\nfrom?: SlackFrom // The user or bot that originally reacted to the message.',stateValidator:n().object({required:{type:n().literal("slack.reaction.added")},optional:{allChannels:n().boolean(),channelIdentifiersToConvertToChannelIds:n().array(n().string()),channelIds:n().array(n().string()),from:n().union([n().object({required:{handle:n().string(),id:n().string(),type:n().literal("user"),uri:n().string()},optional:{},exact:!0}),n().object({required:{type:n().literal("bot")},optional:{},exact:!0})]),reaction:n().string(),reactions:n().array(n().string()),shouldSubscribeToThread:n().boolean(),threadIds:n().array(n().string())},exact:!0})},"slack.message":{state:'\ntype: "slack.message"\nchannelIds?: Array<string> // IDs of channels to trigger on. If you do not know the channel ID, you can leave this blank and the user will fill it out later. DO NOT make up channel IDs.\nchannelIdentifiersToConvertToChannelIds?: Array<string> // Channels to trigger on. NOT channel IDs, but anything else. We will try to convert these to channel IDs. Only include here if you KNOW it\'s not a channel ID',stateValidator:n().object({required:{type:n().literal("slack.message")},optional:{allChannels:n().boolean(),channelIdentifiersToConvertToChannelIds:n().array(n().string()),channelIds:n().array(n().string())},exact:!0})},"slack.thread.created":{state:'\ntype: "slack.thread.created"\nchannelIds?: Array<string> // IDs of channels to trigger on. If you do not know the channel ID, you can leave this blank and the user will fill it out later. DO NOT make up channel IDs.\nchannelIdentifiersToConvertToChannelIds?: Array<string> // Channels to trigger on. NOT channel IDs, but anything else. We will try to convert these to channel IDs. Only include here if you KNOW it\'s not a channel ID',stateValidator:n().object({required:{type:n().literal("slack.thread.created")},optional:{allChannels:n().boolean(),channelIdentifiersToConvertToChannelIds:n().array(n().string()),channelIds:n().array(n().string())},exact:!0})},"slack.app.mention":{state:'\ntype: "slack.app.mention"\nchannelIds?: Array<string>\nchannelIdentifiersToConvertToChannelIds?: Array<string> //Channels to trigger on. NOT channel IDs, but anything else. We will try to convert these to channel IDs. Only include here if you KNOW it\'s not a channel ID\nallChannels?: boolean\nshouldSubscribeToThread?: boolean // Whether to subscribe to the thread after the mention so the agent can respond to follow-up messages without another mention.',stateValidator:n().object({required:{type:n().literal("slack.app.mention")},optional:{allChannels:n().boolean(),channelIdentifiersToConvertToChannelIds:n().array(n().string()),channelIds:n().array(n().string()),shouldSubscribeToThread:n().boolean()},exact:!0})}},dt={"slack.createThreadInChannel":'\n/*\n\t\tSlack channels must be a plain string, ie. "engineering".\n\t\tAll messages use standard markdown that also accepts slack markdown users and channels. For example:\n\t\tlink: [google](https://google.com)\n\t\tbold: **bold** or __bold__\n\t\titalics: *italics* or _italics_\n\t\tslack user: <@UFAKEUSERID>\n\t\tslack channel: <#CFAKECHANNEL>\n\t\tFormatting MUST not span multiple lines. It is important that bold is TWO asterisks, not one.\n\t*/\n\tcreateThreadInChannel(\n\t\targs:\n\t\t\t| {\n\t\t\t\t\tattachedFileIds?: Array<string> // The file IDs of any files attached to the message\n\t\t\t\t\tchannelName: string // Slack channel name without a "#" prefix.\n\t\t\t\t\tmessage: string // Standard markdown with slack markdown support\n\t\t\t\t\tuserConfirmationToken?: string // A confirmation token for sending messages with URLs that require user approval\n\t\t\t  }\n\t\t\t| {\n\t\t\t\t\tattachedFileIds?: Array<string> // The file IDs of any files attached to the message\n\t\t\t\t\tchannelId: string // The Slack ID of the channel or user ID to send the message in.\n\t\t\t\t\tmessage: string // Standard markdown with slack markdown support\n\t\t\t\t\tuserConfirmationToken?: string // A confirmation token for sending messages with URLs that require user approval\n\t\t\t  },\n\t): Promise<SlackMessage>',"slack.createThreadInDirectMessage":'\ncreateThreadInDirectMessage(args: {\n\t\tuserIds: Array<string> // Array of user IDs for the direct message recipients, beginning with "slackUser-"\n\t\tmessage: string // Standard markdown with slack markdown support\n\t\tattachedFileIds?: Array<string> // The file IDs of any files attached to the message\n\t\tuserConfirmationToken?: string // A confirmation token for sending messages with URLs that require user approval\n\t}): Promise<SlackMessage>',"slack.replyInThread":"\nreplyInThread(args: {\n\t\tprefixedThreadUri: string // The thread ID is always the same as the message ID of the first message in a thread.\n\t\tmessage: string // Standard markdown with slack markdown support\n\t\tattachedFileIds?: Array<string> // The file IDs of any files attached to the message\n\t\tuserConfirmationToken?: string // A confirmation token for sending messages with URLs that require user approval\n\t}): Promise<SlackMessage>","slack.updateMessage":"\nupdateMessage(args: {\n\t\tprefixedMessageUri: string\n\t\tmessage: string // Standard markdown with slack markdown support\n\t}): Promise<SlackMessage>","slack.addReactionToMessage":'\naddReactionToMessage(args: {\n\t\tprefixedMessageUri: string\n\t\treaction: string // Plain string without colons, like "thumbsup".\n\t}): Promise<void>',"slack.removeReactionFromMessage":'\nremoveReactionFromMessage(args: {\n\t\tprefixedMessageUri: string\n\t\treaction: string // Plain string without colons, like "thumbsup".\n\t}): Promise<void>',"slack.search":"search(args: SlackSearchInput): Promise<SlackSearchResult>","slack.getThreadsInChannelSince":'\ngetThreadsInChannelSince(args: {\n\t\tchannelName: string // Slack channel name without a "#" prefix.\n\t\ttimestamp: string // ISO 8601 timestamp\n\t}): Promise<Array<Array<SlackMessage>>> // Returns an array of threads, where each thread is an array of messages.',"slack.queryChannels":"\nqueryChannels(args: {\n\t\tid?: string\n\t\tname?: string\n\t\tcreatedStart?: string // ISO 8601 timestamp. Returns channels created on or after this timestamp.\n\t\tcreatedEnd?: string // ISO 8601 timestamp. Returns channels created on or before this timestamp.\n\t\tisGeneral?: boolean\n\t\tisIm?: boolean\n\t\tisPrivate?: boolean\n\t\tisMpim?: boolean\n\t\tisShared?: boolean\n\t\tisOrgShared?: boolean\n\t\tbotIsMember?: boolean\n\t}): Promise<Array<SlackChannel>>","slack.getUser":"getUser(args: { userId: string }): Promise<SlackUser>","slack.findUserByEmail":"\n/*\n\t\tFind a Slack user by email.\n\t*/\n\tfindUserByEmail(args: { email: string }): Promise<SlackUser | undefined>","slack.parseSlackUriOrUrl":'\n/**\n\t * Parse a Slack message URI or URL to a parsed agent entity\n\t */\n\tparseSlackUriOrUrl(args: {\n\t\turiOrUrl: string\n\t}): Extract<\n\t\tParsedAgentUrl,\n\t\t{ type: "slackMessage" | "slackUser" | "slackChannel" }\n\t>',"slack.loadMessage":"loadMessage(args: SlackLoadMessageInput): Promise<SlackLoadMessageResult>","slack.viewFileUrl":"\n/*\n\t\tReturn a Slack file URL for viewing in the script agent.\n\t*/\n\tviewFileUrl(args: {\n\t\turl: string\n\t}): Promise<EffectResultOrValue<{ url: string }>>"},pt={"slack.createThreadInChannel":n().union([n().object({required:{channelId:n().string(),message:n().string()},optional:{attachedFileIds:n().array(n().string()),userConfirmationToken:n().string()},exact:!0}),n().object({required:{channelName:n().string(),message:n().string()},optional:{attachedFileIds:n().array(n().string()),userConfirmationToken:n().string()},exact:!0})]),"slack.createThreadInDirectMessage":n().object({required:{message:n().string(),userIds:n().array(n().string())},optional:{attachedFileIds:n().array(n().string()),userConfirmationToken:n().string()},exact:!0}),"slack.replyInThread":n().object({required:{message:n().string(),prefixedThreadUri:n().string()},optional:{attachedFileIds:n().array(n().string()),userConfirmationToken:n().string()},exact:!0}),"slack.updateMessage":n().object({required:{message:n().string(),prefixedMessageUri:n().string()},optional:{},exact:!0}),"slack.addReactionToMessage":n().object({required:{prefixedMessageUri:n().string(),reaction:n().string()},optional:{},exact:!0}),"slack.removeReactionFromMessage":n().object({required:{prefixedMessageUri:n().string(),reaction:n().string()},optional:{},exact:!0}),"slack.search":n().object({required:{query:n().string()},optional:{},exact:!0}),"slack.getThreadsInChannelSince":n().object({required:{channelName:n().string(),timestamp:n().string()},optional:{},exact:!0}),"slack.queryChannels":n().object({required:{},optional:{botIsMember:n().boolean(),createdEnd:n().string(),createdStart:n().string(),id:n().string(),isGeneral:n().boolean(),isIm:n().boolean(),isMpim:n().boolean(),isOrgShared:n().boolean(),isPrivate:n().boolean(),isShared:n().boolean(),name:n().string()},exact:!0}),"slack.getUser":n().object({required:{userId:n().string()},optional:{},exact:!0}),"slack.findUserByEmail":n().object({required:{email:n().string()},optional:{},exact:!0}),"slack.parseSlackUriOrUrl":n().object({required:{uriOrUrl:n().string()},optional:{},exact:!0}),"slack.loadMessage":n().object({required:{channelId:n().string(),messageTs:n().string()},optional:{threadTs:n().string()},exact:!0}),"slack.viewFileUrl":n().object({required:{url:n().string()},optional:{},exact:!0})},gt=(n().object({required:{channelId:n().string(),channelName:n().string()},optional:{},exact:!0}),n().undefinable(n().object({required:{},optional:{channelId:n().string(),channelName:n().string()},exact:!0})),n().union([n().object({required:{allChannels:n().literal(!1),channels:n().array(n().object({required:{channelId:n().string(),channelName:n().string()},optional:{},exact:!0}))},optional:{},exact:!0}),n().object({required:{allChannels:n().literal(!0)},optional:{},exact:!0})]),n().union([n().object({required:{allChannels:n().literal(!1),channels:n().array(n().undefinable(n().object({required:{},optional:{channelId:n().string(),channelName:n().string()},exact:!0})))},optional:{},exact:!0}),n().object({required:{allChannels:n().literal(!0)},optional:{},exact:!0})]),{dataTypes:"\ntype SlackSearchInput = {\n\tquery: string\n}\n\ntype SlackSearchResult = {\n\tresults: Array<SlackSearchResultItem>\n}\n\ntype SlackLoadMessageInput = {\n\tchannelId: string\n\tmessageTs: string\n\tthreadTs?: string\n}\n\ntype SlackLoadMessageResult = LoadSlackResponse",dataTypesArray:["SlackSearchInput","SlackSearchResult","SlackLoadMessageInput","SlackLoadMessageResult"],persistedStateValidator:ct,persistedState:'\nname?: string // The workspace name\nconnectionPointer?: RecordPointer<\n\tWorkflowExternalScopedConnectionTable | ExternalConnectionTable\n>\n/**\n * This is a list of scopes selected by the user for the current module.\n * This will default to empty/undefined to encourage the user to think\n * about what functionality this module needs.\n */\nscopes?: Array<string>\n/**\n * Metadata for the synced Slack user group used when handling app mentions.\n */\nappMentionUserGroup?: SlackAppMentionUserGroupMetadata\n/**\n * Error message to display to the user.\n */\nerror?:\n\t| {\n\t\t\ttype: "no_slack_ai_connector"\n\t  }\n\t| {\n\t\t\ttype: "grid_ai_connector"\n\t  }\n\t| {\n\t\t\ttype: "slack_workspace_mismatch"\n\t\t\tworkflowsTeamId: string\n\t\t\tworkflowsTeamName: string\n\t\t\taiConnectorTeamId: string\n\t\t\taiConnectorTeamName: string\n\t  }',triggers:ut,effects:dt,effectsArray:["slack.createThreadInChannel","slack.createThreadInDirectMessage","slack.replyInThread","slack.updateMessage","slack.addReactionToMessage","slack.removeReactionFromMessage","slack.search","slack.getThreadsInChannelSince","slack.queryChannels","slack.getUser","slack.findUserByEmail","slack.parseSlackUriOrUrl","slack.loadMessage","slack.viewFileUrl"],effectsValidators:pt}),mt=n().object({required:{active:n().boolean(),count:n().number(),label:n().string()},optional:{},exact:!0}),bt=n().literals("read","write"),yt=n().object({required:{actions:n().array(n().lazy((()=>bt))),identifier:n().string(),moduleType:n().literal("test"),type:n().literal("test")},optional:{},exact:!0}),ht=(n().object({required:{actions:n().array(n().lazy((()=>bt))),identifier:n().string()},optional:{},exact:!0}),n().object({required:{permissions:n().array(n().lazy((()=>yt))),state:n().lazy((()=>mt))},optional:{},exact:!0}),n().object({required:{permissions:n().array(n().lazy((()=>yt))),state:n().lazy((()=>mt))},optional:{},exact:!0}),n().object({required:{},optional:{},exact:!0}),n().object({required:{permissions:n().array(n().lazy((()=>yt))),state:n().lazy((()=>mt))},optional:{},exact:!0}),{dataTypes:'\ninterface TestPersistedState {\n\tlabel: string\n\tcount: number\n\tactive: boolean\n}\n\ntype TestModulePermissionAction = "read" | "write"\n\ntype TestModulePermission = {\n\ttype: "test"\n\tmoduleType: "test"\n\tidentifier: string\n\tactions: Array<TestModulePermissionAction>\n}\n\ntype TestModulePermissionAiConfigurable = Omit<\n\tTestModulePermission,\n\t"type" | "moduleType"\n>\n\ninterface TestPersistedData {\n\tstate: TestPersistedState\n\tpermissions: Array<TestModulePermission>\n}\n\ninterface TestModuleConfiguration {\n\tstate: TestPersistedState\n\tpermissions: Array<TestModulePermission>\n}\n\ninterface TestGetStateInput {}\n\ninterface TestGetStateOutput {\n\tstate: TestPersistedState\n\tpermissions: Array<TestModulePermission>\n}',dataTypesArray:["TestPersistedState","TestModulePermissionAction","TestModulePermission","TestModulePermissionAiConfigurable","TestPersistedData","TestModuleConfiguration","TestGetStateInput","TestGetStateOutput"],persistedStateValidator:n().object({required:{active:n().boolean(),count:n().number(),label:n().string()},optional:{},exact:!0}),persistedState:"\nlabel: string\ncount: number\nactive: boolean",triggers:{},effects:{"test.getState":"(args: TestGetStateInput) => Promise<TestGetStateOutput>"},effectsArray:["test.getState"],effectsValidators:{"test.getState":n().object({required:{},optional:{},exact:!0})}}),ft=(n().object({required:{},optional:{},exact:!0}),n().object({required:{queries:n().array(n().string())},optional:{category:n().literals("company","financial report","github","linkedin profile","news","pdf","personal site","research paper","tweet"),excludeDomains:n().array(n().string()),excludeText:n().array(n().string()),includeDomains:n().array(n().string()),includeText:n().array(n().string())},exact:!0}),n().object({required:{results:n().array(n().array(n().object({required:{text:n().string(),title:n().string(),url:n().string()},optional:{favicon:n().string(),lastEdited:n().string(),score:n().number()},exact:!0})))},optional:{},exact:!0}),n().object({required:{url:n().string()},optional:{},exact:!0}),n().object({required:{score:n().number(),title:n().nullable(n().string()),url:n().string()},optional:{highlights:n().array(n().string()),publishedDate:n().string(),summary:n().string(),text:n().string()},exact:!0}),{dataTypes:"\ntype WebPersistedState = {}\n\ntype WebSearchInput = {\n\tqueries: string[]\n\tcategory?: ExaCategory\n\tincludeDomains?: string[]\n\texcludeDomains?: string[]\n\tincludeText?: string[]\n\texcludeText?: string[]\n}\n\ntype WebSearchOutput = {\n\tresults: Array<Array<WebSearchResult>>\n}\n\ntype WebLoadPageInput = {\n\turl: string\n}\n\ntype WebLoadPageResult = WebPage",dataTypesArray:["WebPersistedState","WebSearchInput","WebSearchOutput","WebLoadPageInput","WebLoadPageResult"],persistedStateValidator:n().object({required:{},optional:{},exact:!0}),persistedState:"",triggers:{},effects:{"web.search":"(args: WebSearchInput) => Promise<WebSearchOutput>","web.loadPage":"(args: WebLoadPageInput) => Promise<WebLoadPageResult>"},effectsArray:["web.search","web.loadPage"],effectsValidators:{"web.search":n().object({required:{queries:n().array(n().string())},optional:{category:n().literals("company","financial report","github","linkedin profile","news","pdf","personal site","research paper","tweet"),excludeDomains:n().array(n().string()),excludeText:n().array(n().string()),includeDomains:n().array(n().string()),includeText:n().array(n().string())},exact:!0}),"web.loadPage":n().object({required:{url:n().string()},optional:{},exact:!0})}}),xt=n().record(n().string(),n().unknown()),qt=(n().object({required:{capabilityKey:n().string(),inputSchema:n().lazy((()=>xt))},optional:{description:n().string(),outputSchema:n().lazy((()=>xt)),title:n().string()},exact:!0}),n().object({required:{},optional:{},exact:!0}),{dataTypes:"\ntype WorkerToolSchema = Record<string, unknown>\n\ntype WorkerToolDescription = {\n\tcapabilityKey: string\n\ttitle?: string\n\tdescription?: string\n\tinputSchema: WorkerToolSchema\n\toutputSchema?: WorkerToolSchema\n}\n\ntype WorkerListToolsInput = {}",dataTypesArray:["WorkerToolSchema","WorkerToolDescription","WorkerListToolsInput"],persistedStateValidator:n().object({required:{},optional:{workerId:n().string(),workerName:n().string()},exact:!0}),persistedState:"\nworkerId?: string\nworkerName?: string",triggers:{},effects:{"worker.listTools":"\n(\n\t\targs: WorkerListToolsInput,\n\t) => Promise<Array<WorkerToolDescription>>","worker.runTool":"\n(args: {\n\t\tcapabilityKey: string\n\t\tinput: Record<string, unknown>\n\t}) => Promise<WorkerToolResult>"},effectsArray:["worker.listTools","worker.runTool"],effectsValidators:{"worker.listTools":n().object({required:{},optional:{},exact:!0}),"worker.runTool":n().object({required:{capabilityKey:n().string(),input:n().record(n().string(),n().unknown())},optional:{},exact:!0})}}),jt=(n().object({required:{workerId:n().string(),workerName:n().string(),workerUrl:n().string()},optional:{},exact:!0}),n().object({required:{},optional:{},exact:!0}),{dataTypes:"\ninterface WorkersListEntry {\n\tworkerId: string\n\tworkerName: string\n\tworkerUrl: string\n}\n\ninterface WorkersListInput {}",dataTypesArray:["WorkersListEntry","WorkersListInput"],persistedStateValidator:n().object({required:{},optional:{},exact:!0}),persistedState:"",triggers:{},effects:{"workers.list":"(args: WorkersListInput) => Promise<WorkersListEntry[]>"},effectsArray:["workers.list"],effectsValidators:{"workers.list":n().object({required:{},optional:{},exact:!0})}}),It=["asana","box","calendar","computer","cursor","discord","files","fs","github","gmail","googleCalendar","googleDrive","images","jira","linear","mail","mcpServer","microsoftTeams","modules","notion","outlook","salesforce","search","sharepoint","slack","test","web","worker","workers"],vt={asana:a,box:i,calendar:T,computer:F,cursor:Z,discord:te,files:le,fs:me,github:Se,gmail:Ae,googleCalendar:Ee,googleDrive:Je,images:Ke,jira:Ye,linear:$e,mail:et,mcpServer:tt,microsoftTeams:rt,modules:nt,notion:it,outlook:ot,salesforce:st,search:r(413113)._,sharepoint:lt,slack:gt,test:ht,web:ft,worker:qt,workers:jt}},761865:(e,t,r)=>{r.d(t,{Yv:()=>a,xL:()=>i});r(16280),r(944114),r(581454),r(898992),r(354520),r(672577),r(430670);Error;Error;function n(e,t){return t?e.replace(/\{(\w+)\}/g,((r,n)=>{if(!(n in t))throw new Error(`Missing template variable '${n}' in template: ${e}`);const a=t[n];return a instanceof Error||"object"==typeof a&&null!==a&&"message"in a&&"string"==typeof a.message?a.message:String(a)})):e}class a extends Error{constructor(e,t){super(n(e,null==t?void 0:t.variables),{cause:null==t?void 0:t.cause}),this.template=void 0,this.logContext=void 0,this.extra=void 0,this.variables=void 0,this.userVisible=!0,this.errorCode=void 0,this.errorData=void 0,Object.setPrototypeOf(this,a.prototype),this.name="AgentError",this.template=e,this.logContext=null==t?void 0:t.additionalLogContext,this.extra=null==t?void 0:t.extra,this.variables=null==t?void 0:t.variables,this.userVisible=(null==t?void 0:t.userVisible)??!0,this.errorCode=null==t?void 0:t.errorCode,this.errorData=null==t?void 0:t.errorData,Error.captureStackTrace&&Error.captureStackTrace(this,a)}getErrorForLogging(){const e=this.logContext?`${this.logContext} ${this.template}`:this.template,t=new(r(416845).Umn)(e);if(this.stack){const e=this.stack.split("\n"),r=[];for(let t=e.length-1;t>=0;t--){const n=e[t];if(n.match(/^\s+at\s/))r.unshift(n);else if(r.length>0)break}r.length>0?t.stack=[this.template,...r].join("\n"):t.stack=this.template}return this.extra&&(t.data=this.extra),this.cause&&(t.cause=this.cause),t}sentryExtra(){const e={name:this.name,category:"error",level:"error",extra:this.extra};return this.cause&&(this.cause instanceof Error?e.cause={name:this.cause.name,message:this.cause.message,stack:this.cause.stack}:e.cause=String(this.cause)),e}static isAgentError(e){return e instanceof a}}Error;class i extends a{constructor(e,t){super(e,t),Object.setPrototypeOf(this,i.prototype),this.name="AgentSystemError"}}}}]);