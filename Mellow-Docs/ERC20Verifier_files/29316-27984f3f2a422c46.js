"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[29316,92754,97651,99171],{10123:(e,t,n)=>{n.d(t,{A:()=>a});var o=()=>n(570551);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(e){(0,o().A)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===r(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}},11403:(e,t,n)=>{n.d(t,{I:()=>m,K:()=>p});n(296540);var o=()=>n(69708),r=()=>n(267271),a=()=>n(395198),i=n(474848);const s=(0,o().YK)({connectNotionCalendar:{defaultMessage:"Connect Calendar",id:"transcriptionBlockSettings.connectNotionCalendar"},connectNotionCalendarSubTitle:{id:"transcriptionBlockSettings.connectNotionCalendarSubTitle",defaultMessage:"Link calendar events to share AI meeting notes with participants"}});function l(e){return(0,i.jsx)(a().y,{style:e})}const c=(0,i.jsx)(o().sA,{...s.connectNotionCalendar}),d=(0,i.jsx)(o().sA,{...s.connectNotionCalendarSubTitle}),u={key:"open calendar",displayName:s.connectNotionCalendar,analyticsName:s.connectNotionCalendar.defaultMessage,closeParentMenu:!0,validators:[(0,n(598101).A)(n(259657).m)],action:({environment:e,analyticsFrom:t})=>{n(645200).Op({environment:e,spaceStore:n(907258).AppStoreSidebarSpaceStore.state,collectionViewStore:void 0,from:"transcriptionBlockSettings"})}},p=(0,r().Ls)({...u,svg:e=>(0,i.jsx)(a().y,{style:e})}),m=(0,r().Ls)({...u,render:e=>(0,i.jsx)(n(575143).A,{...e,svg:l,title:c,caption:d,shouldWrapCaption:!0})})},12956:(e,t,n)=>{n.d(t,{u:()=>S});n(296540);var o=()=>n(383036),r=()=>n(26697),a=()=>n(81068),i=()=>n(575143),s=()=>n(662971),l=()=>n(484714),c=()=>n(590526),d=()=>n(283163),u=()=>n(245720),p=()=>n(546926),m=()=>n(890492),f=()=>n(69708),h=()=>n(636714),g=n(474848);function y(e){const{context:t,extensionMenuParent:n,actionMenuListParent:o,popupEvents:r,displayName:a,width:i,initialFocus:s,subActions:y}=e,{isPhone:v}=(0,l().Y0)(),S=(0,p().Tf)();let x;x=v?S?{menuType:p().gu.Modal,onClickLeft:n.close,left:(0,g.jsx)(d().h,{}),enableMobileRefresh:S,paddingTop:10,title:(0,g.jsx)(f().sA,{...a}),...r}:{menuType:p().gu.Modal,right:(0,g.jsx)(f().sA,{...u().W.done}),onClickRight:n.close,...r}:{menuType:p().gu.Popup,width:i??220,...r};const b=(0,c().K8)((()=>y(t)),[t,y]);return(0,g.jsx)(m().A,{...x,children:(0,g.jsx)(h().A,{initialFocus:s??0,context:t,sections:b,onAccept:o.onAccept})})}var v=()=>n(267271);function S(e){const{key:t,displayName:n,displayNameInterpolatedValues:l,subTitle:c,analyticsName:d,validators:u,subActions:p,collapseSubActionsIntoParent:m,hideSubActions:f,svg:h,icon:S,right:x,rightStyle:b,renderTooltip:k,disableTooltip:w,tooltipPlacement:M,width:T,initialFocus:I,clientSkill:j,fuzzySearchKeywordsArray:C,disabled:A,bottomSheetInitialState:E}=e,_=(0,v().Ls)({clientSkill:j,key:`extension ${t}`,displayName:n,displayNameInterpolatedValues:l,analyticsName:d,validators:u,subActions:p,collapseSubActionsIntoParent:m,hideSubActions:f,fuzzySearchKeywordsArray:C,closeParentMenu:!0,disabled:A,action:()=>{},render:(t,l,d)=>(0,g.jsx)(r().m,{render:r=>{var u;const m=null===(u=e.disabled)||void 0===u?void 0:u.call(e,l);return(0,g.jsx)(s().A,{...t,disabled:m,disabledFeedback:m,renderOrigin:(e,t)=>{const n={...(0,o().A)(e,r),title:c?(0,g.jsx)(v().fh,{subTitle:c(l),children:_.displayName}):_.displayName,right:x,rightStyle:b};return h?(0,g.jsx)(i().A,{...n,svg:h,ref:t}):(0,g.jsx)(a().A,{...n,icon:S,ref:t})},onFocus:d.onFocus,renderExtension:(e,t)=>(0,g.jsx)(y,{context:l,extensionMenuParent:t,actionMenuListParent:d,popupEvents:e,displayName:n,width:T,initialFocus:I,subActions:p}),bottomSheetInitialState:E})},renderTooltip:()=>(0,g.jsx)("div",{style:v().FG,children:null==k?void 0:k({context:l,title:_.displayName})}),disableTooltip:!k||(null==w?void 0:w(l)),placement:M})});return _}},24126:(e,t,n)=>{n.d(t,{c:()=>r});n(296540);const o={viewBox:"0 0 20 20",fittedViewBox:"3.9 2.75 12.18 14.49",svg:(0,n(474848).jsx)("path",{d:"M12.626 2.768a.625.625 0 0 1 0 1.224l-.126.013h-.125v4.794l3.366 5.159c.893 1.369-.03 3.17-1.623 3.281l-.156.006H6.039c-1.688 0-2.703-1.873-1.78-3.287l3.366-5.157V4.005H7.5a.625.625 0 0 1 0-1.25h5zM8.875 9.173l-.102.156-1.567 2.401h5.589l-1.569-2.403-.101-.156V4.005h-2.25z"})},r=(0,n(340498).wt)("beaker",o,"default")},40419:(e,t,n)=>{n.d(t,{s:()=>a});var o=()=>n(79926);const r=new(o().O2)("TranscriptionBlockSharingButtonPopup",(async()=>await Promise.all([n.e(75134),n.e(35530),n.e(9773),n.e(36556),n.e(55373),n.e(36192),n.e(40537),n.e(27992),n.e(63452),n.e(66249),n.e(92845),n.e(87249),n.e(79022),n.e(44854),n.e(87017),n.e(34877),n.e(46414),n.e(11676),n.e(61165),n.e(94522),n.e(44584),n.e(38293),n.e(40992),n.e(88455),n.e(52871),n.e(47160),n.e(49021),n.e(53697),n.e(26126),n.e(6039),n.e(71136),n.e(86341),n.e(29316),n.e(3101)]).then(n.bind(n,337333)))),a=(0,o()._h)(r,(e=>e.TranscriptionBlockSharingButtonPopup))},86811:(e,t,n)=>{n.d(t,{OB:()=>R,Pi:()=>P,XA:()=>L,qs:()=>B,rG:()=>N,xN:()=>E});n(777691),n(898992),n(354520),n(430670),n(581454);var o=()=>n(906745),r=(n(296540),()=>n(242422)),a=()=>n(675133),i=()=>n(609679),s=()=>n(301809),l=()=>n(404905),c=()=>n(736847),d=()=>n(416504),u=()=>n(955363),p=()=>n(742852),m=()=>n(236262),f=()=>n(69708),h=()=>n(12956),g=()=>n(267271),y=()=>n(575143),v=()=>n(259657),S=()=>n(492172),x=()=>n(645200),b=()=>n(395198),k=()=>n(424641),w=()=>n(583238),M=()=>n(488776),T=()=>n(743444),I=()=>n(135428),j=()=>n(711207),C=()=>n(11403),A=n(474848);const E="link-calendar-event",_=(0,f().YK)({addEvent:{defaultMessage:"Add calendar event",id:"transcriptionBlockSettings.addEvent"}});function B(e){const{source:t}=e;return(0,h().u)({key:"add calendar event",displayName:_.addEvent,svg:e=>(0,A.jsx)(b().y,{style:e}),analyticsName:_.addEvent.defaultMessage,validators:[v().m],subActions:()=>[...P({showPastEvents:"on"===r().default.getEligibleGroup({experimentId:"meeting_notes_calendar_header_exp"}),source:t}),L()],width:265})}const D=(0,f().YK)({summary:{id:"transcriptionBlockMenu.addCalendarEvent.event.summary",defaultMessage:"{eventSummary}"},allDayCaption:{id:"transcriptionBlockMenu.addCalendarEvent.event.caption.allDay",defaultMessage:"All-day"},openCalendarEvent:{id:"transcriptionBlockMenu.addCalendarEvent.openCalendarEvent.title",defaultMessage:"Open calendar event"},unlinkEvent:{id:"transcriptionBlockMenu.addCalendarEvent.unlinkEvent.title",defaultMessage:"Unlink event"},removeEvent:{id:"transcriptionBlockMenu.addCalendarEvent.removeEvent.title",defaultMessage:"Remove event"},daySectionToday:{id:"transcriptionBlockMenu.addCalendarEvent.eventList.today.title",defaultMessage:"Today, {date}"},daySectionTomorrow:{id:"transcriptionBlockMenu.addCalendarEvent.eventList.tomorrow.title",defaultMessage:"Tomorrow, {date}"},daySectionYesterday:{id:"transcriptionBlockMenu.addCalendarEvent.eventList.yesterday.title",defaultMessage:"Yesterday, {date}"},daySectionOther:{id:"transcriptionBlockMenu.addCalendarEvent.eventList.otherDay.title",defaultMessage:"{weekday}, {date}"},noUpcomingEvents:{id:"transcriptionBlockMenu.addCalendarEvent.noUpcomingEvents",defaultMessage:"No upcoming events"}}),O=a().A.getIntl();function P(e){var t;const{shareWithParticipants:n,source:s,...u}=e??{},p=function(e){var t;const{showPastEvents:n=!1}=e??{},o=null===(t=(0,M().Y)().getHomeCalendarStateForSpaceView())||void 0===t?void 0:t.botId,a=(0,M().Y)().getCurrentAccounts();if(!o)return[];const i=(0,M().Y)().getEvents(),s="on"===r().default.getEligibleGroup({experimentId:"meeting_notes_calendar_header_exp"}),l=(0,k().y6)({events:i,accounts:a,thresholds:k().sR,filters:s?{...n&&{maxDaysInPast:2},maxDaysInFuture:7,includeEventsWithoutConferencing:!0}:{excludeEventsOnDifferentDays:!0}});return l.filter((e=>Boolean(e.summary)))}(u);if(0===p.length)return[(0,g().gy)({key:"no-events-empty-state",render:e=>(0,A.jsx)(c().A,{...e}),actions:[(0,g().Ls)({key:"no-events-message",displayName:D.noUpcomingEvents,analyticsName:D.noUpcomingEvents.defaultMessage,closeParentMenu:!1,validators:[],render:e=>(0,A.jsx)(y().A,{...e,title:(0,A.jsx)(f().sA,{...D.noUpcomingEvents}),disabled:!0}),action:()=>{}})]})];const m=o().DateTime.now().startOf("day"),h=null===(t=(0,M().Y)().getState())||void 0===t?void 0:t.calendars,v=Object.groupBy(p,(e=>function(e){const{dayStart:t,today:n}=e,o=Math.round(t.diff(n,"days").days),r={month:"long",day:"numeric",...t.year!==n.year&&{year:"numeric"}},a=t.setLocale(i().locale).toLocaleString(r);if(0===o)return O.formatMessage(D.daySectionToday,{date:a});if(1===o)return O.formatMessage(D.daySectionTomorrow,{date:a});if(-1===o)return O.formatMessage(D.daySectionYesterday,{date:a});const s=t.setLocale(i().locale).toLocaleString({weekday:"long"});return O.formatMessage(D.daySectionOther,{weekday:s,date:a})}({dayStart:W(e),today:m})));return Object.entries(v).flatMap((([e,t])=>t&&0!==t.length?[{title:e,dayStartMillis:W(t[0]).toMillis(),events:h?t.sort((0,T().b7)(h)):t}]:[])).sort(((e,t)=>e.dayStartMillis-t.dayStartMillis)).map((({title:e,events:t,dayStartMillis:o})=>(0,g().gy)({key:`${E}-${e}-${o}`,render:e=>(0,A.jsx)(c().A,{...e}),actions:t.map((e=>function({event:e,shareWithParticipants:t,source:n}){const o=(0,d().P)(),s="on"===r().default.getEligibleGroup({experimentId:"meeting_notes_calendar_header_exp"});return(0,g().Ls)({key:`${E}-${e.id}`,displayName:D.summary,displayNameInterpolatedValues:{eventSummary:e.summary??""},analyticsName:e.id,closeParentMenu:!0,validators:[],render:(t,n,r)=>(0,A.jsx)(y().A,{...t,...r.styles,svg:s?()=>(0,A.jsx)(S().Y,{event:e}):void 0,title:(0,A.jsx)(l().j,{children:e.summary??""}),caption:s?z(e):e.isAllDay?a().A.formatMessage(D.allDayCaption):(0,I().Vj)({start:e.start.dateTime,end:e.end.dateTime,locale:i().locale,timeZone:o})}),action:({environment:o,blocks:r})=>{const a=r[0];if(!a||!a.isType("transcription"))return null;(0,j().uJ)({environment:o,blockStore:a,event:e,source:n,shareWithParticipants:t})}})}({event:e,shareWithParticipants:n,source:s})))})))}function L(){return(0,g().gy)({key:"remove-event",render:e=>(0,A.jsx)(c().A,{...e,topBorder:!0}),actions:[(0,g().Ls)({key:"remove-event",displayName:D.removeEvent,analyticsName:D.removeEvent.defaultMessage,closeParentMenu:!0,validators:[F],render:(e,t,n)=>(0,A.jsx)(y().A,{...e,...n.styles,svg:m().trashIcon,isRed:!0,title:(0,A.jsx)(f().sA,{...D.removeEvent})}),action:({environment:e,blocks:t})=>{const n=t[0];n&&n.isType("transcription")&&(0,j().Mh)({environment:e,blockStore:n})}})]})}function N(){return(0,g().gy)({key:"connected-event-actions",render:e=>(0,A.jsx)(c().A,{...e}),actions:[(0,g().Ls)({key:"open-calendar-event",displayName:D.openCalendarEvent,analyticsName:D.openCalendarEvent.defaultMessage,closeParentMenu:!0,validators:[F],render:(e,t,n)=>(0,A.jsx)(y().A,{...e,...n.styles,svg:u().arrowDiagonalUpRightIcon,title:(0,A.jsx)(f().sA,{...D.openCalendarEvent})}),action:({environment:e,blocks:t})=>{var n;const o=t[0];if(!o||!o.isType("transcription"))return;const r=null===(n=o.getModel())||void 0===n?void 0:n.getFormat().transcription_calendar_event;if(r){const t=(0,w().i$)({eventUid:r.uid,startTimeIso:r.startTime});x().yd({baseUrl:t,environment:e,from:"transcriptionBlockTitle"})}}}),(0,g().Ls)({key:"unlink-event",displayName:D.unlinkEvent,analyticsName:D.unlinkEvent.defaultMessage,closeParentMenu:!0,validators:[],render:(e,t,n)=>(0,A.jsx)(y().A,{...e,...n.styles,svg:p().linkIcon,isRed:!0,title:(0,A.jsx)(f().sA,{...D.unlinkEvent})}),action:({environment:e,blocks:t})=>{const n=t[0];n&&n.isType("transcription")&&((0,j().Mh)({environment:e,blockStore:n}),(0,s().e)({store:n.getBlockTitleStore()}))}})]})}function R(){return(0,g().gy)({key:"connect-calendar",render:e=>(0,A.jsx)(c().A,{...e}),actions:[C().I]})}function F(e){var t;const{blocks:n}=e,o=n[0];return!(!o||!o.isType("transcription"))&&Boolean(null===(t=o.getModel())||void 0===t?void 0:t.getFormat().transcription_calendar_event)}function W(e){if(e.isAllDay)return o().DateTime.fromISO(e.start.date).startOf("day");return o().DateTime.fromISO(e.start.dateTime).startOf("day")}function z(e){const t=(0,d().P)();if(e.isAllDay){return o().DateTime.fromISO(e.start.date).setLocale(i().locale).toLocaleString({month:"short",day:"numeric"})}const n=o().DateTime.fromISO(e.start.dateTime);return`${n.setLocale(i().locale).toLocaleString({month:"short",day:"numeric"})}  ${(0,I().uJ)({time:n,locale:i().locale,timeZone:t})}`}},107620:(e,t,n)=>{n.d(t,{y:()=>r});n(296540);const o={viewBox:"0 0 20 20",fittedViewBox:"1.81 2.89 16.38 15.08",svg:(0,n(474848).jsx)("path",{d:"M16.938 9.853c0-2.97-2.539-5.54-6.545-5.697L10 4.148c-4.232 0-6.938 2.639-6.938 5.705 0 1.438.583 2.752 1.617 3.76a.63.63 0 0 1 .18.546 7.3 7.3 0 0 1-.89 2.528c1.108-.13 2.12-.614 3.01-1.344l.063-.044a.63.63 0 0 1 .505-.073 9 9 0 0 0 2.454.333l.392-.007c4.006-.158 6.545-2.728 6.545-5.699m1.25 0c0 3.803-3.234 6.766-7.747 6.948l-.44.008a10.2 10.2 0 0 1-2.485-.299c-1.349 1.022-2.985 1.62-4.826 1.428a.625.625 0 0 1-.406-1.033c.712-.817 1.096-1.737 1.284-2.642-1.116-1.197-1.756-2.733-1.756-4.41 0-3.925 3.447-6.955 8.189-6.955l.44.009c4.512.181 7.747 3.143 7.747 6.946"})},r=(0,n(340498).wt)("chatBubble",o,"default")},132855:(e,t,n)=>{n.r(t),n.d(t,{arrowInCircleUpFillIcon:()=>r,iconDefinition:()=>o});n(296540);const o={viewBox:"0 0 20 20",fittedViewBox:"2.37 2.37 15.25 15.26",svg:(0,n(474848).jsx)("path",{d:"M10 17.625a7.625 7.625 0 1 0 0-15.25 7.625 7.625 0 0 0 0 15.25m3.042-8.07a.625.625 0 0 1-.884 0L10.625 8.02v5.466a.625.625 0 1 1-1.25 0V8.021L7.842 9.554a.625.625 0 1 1-.884-.883l2.6-2.6a.625.625 0 0 1 .884 0l2.6 2.6a.625.625 0 0 1 0 .883"})},r=(0,n(340498).wt)("arrowInCircleUpFill",o,"fill")},135428:(e,t,n)=>{n.d(t,{Vj:()=>s,ax:()=>l,iI:()=>c,iw:()=>i,u3:()=>a,uJ:()=>d,zw:()=>u});n(898992),n(354520),n(581454),n(737550);var o=()=>n(906745),r=()=>n(604995);const a="–",i=" ";function s({start:e,end:t,locale:n,timeZone:r}){const s=o().DateTime.fromISO(e),c=o().DateTime.fromISO(t),d=function({start:e,end:t}){const n=t.diff(e);if(n.as("hours")>12)return!0;const o=e.hour<12,r=t.hour<12;return o!==r}({start:s,end:c}),u=l({time:s,showAmPm:d,locale:n,timeZone:r}),p=l({time:c,showAmPm:!0,locale:n,timeZone:r});return`${u}${i}${a}${i}${p}`}function l({time:e,showAmPm:t,locale:n,timeZone:a}){const s=c(n),l=0!==e.minute||!s,d={...o().DateTime.TIME_SIMPLE,hour:"numeric",minute:l?"2-digit":void 0,timeZone:(0,r().lW)(a)};return s&&!t?e.setLocale(n).toLocaleParts(d).filter((e=>"dayPeriod"!==e.type)).map((e=>e.value.trim())).join(""):e.toLocaleString({...d,hour12:s},{locale:n}).replace(" ",i)}const c=(0,n(496603).Bj)((function(e){return o().DateTime.fromObject({hour:13}).setLocale(e).toLocaleParts(o().DateTime.TIME_SIMPLE).some((e=>"dayPeriod"===e.type))}));function d({time:e,locale:t,timeZone:n}){const a=c(t);return e.toLocaleString({...o().DateTime.DATETIME_MED,hour:"numeric",minute:"2-digit",year:void 0,month:void 0,day:void 0,timeZone:(0,r().lW)(n),hour12:a},{locale:t}).replaceAll(" ",i)}function u({startTime:e,endTime:t}){const n=t.diff(e).shiftTo("hours","minutes"),o=Math.floor(n.hours),r=Math.round(n.minutes);return 0===o?`${r}min`:0===r?`${o}h`:`${o}h ${r}min`}},138364:(e,t,n)=>{n.r(t),n.d(t,{iconDefinition:()=>o,personSlashSmallIcon:()=>r});n(296540);const o={viewBox:"0 0 16 16",fittedViewBox:"2.81 1.85 11.03 12.84",svg:(0,n(474848).jsx)("path",{d:"M3.033 2.206a.625.625 0 0 1 .88.066l.1.116q.018.03.04.058l9.61 11.175.03.034a.625.625 0 0 1-.948.815l-.483-.562c-.28.155-.607.242-.942.242H4.68c-.557 0-1.09-.236-1.43-.631a1.405 1.405 0 0 1-.19-1.593C3.883 10.313 5.824 9.254 8 9.254q.135.001.27.008l-.72-.84a2.66 2.66 0 0 1-1.728-.979c-.41-.511-.64-1.162-.708-1.856l-2.148-2.5a.625.625 0 0 1 .067-.881M8 10.354c-1.854 0-3.363.903-3.961 2.073-.073.143-.052.262.046.377a.8.8 0 0 0 .595.247h6.64a1 1 0 0 0 .187-.022l-2.153-2.506A5.4 5.4 0 0 0 8 10.353M8 1.85c.925 0 1.674.383 2.18 1.012.494.617.73 1.436.73 2.291s-.236 1.674-.73 2.29l-.09.105-.73-.848c.28-.377.45-.913.45-1.547 0-.664-.185-1.223-.49-1.602-.293-.366-.724-.6-1.32-.6-.595 0-1.027.233-1.32.6l-.014.017-.726-.843c.5-.548 1.205-.874 2.06-.874"})},r=(0,n(340498).wt)("personSlashSmall",o,"small")},155089:(e,t,n)=>{n.d(t,{C:()=>x});var o=n(296540),r=()=>n(23749),a=()=>n(726637),i=()=>n(590526),s=()=>n(401497),l=()=>n(251481),c=()=>n(69708),d=()=>n(100622),u=()=>n(284371),p=()=>n(729368),m=()=>n(366437),f=()=>n(477293),h=()=>n(454971),g=()=>n(340206),y=()=>n(353890),v=n(474848);const S=Object.freeze({property:!0});function x(e){const{disabled:t=!1,onClick:n,title:x,style:b,placeholderStore:k}=e,{store:w,titleId:M}=(0,y().s)(),{selectedTabType:T}=(0,g().S)(w),I=(0,c().tz)(),j=(0,i().K8)((()=>w.getBlockTitleStore()),[w]),C="on"===(0,f().r)("meeting_notes_calendar_header_exp"),A=(0,i().O$)(k),E=C?A??I.formatMessage(l().i.placeholder):I.formatMessage(l().i.placeholder),_=(0,s().IS)((()=>({title:{margin:0,fontSize:a().A.isMobile?"1.125em":"1.375em",fontWeight:u().Wy.semibold,lineHeight:1.3,padding:0,color:d().Tj.text.primary,cursor:"text",...b},placeholder:{display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:1}})),[b]),B=(0,o.useCallback)((()=>{"notes"===T&&(0,h().W)(w,"notes")}),[T,w]);return x?(0,v.jsx)(r().A,{name:"TranscriptionBlockHeading",children:(0,v.jsx)("div",{id:M,style:_.title,children:x})}):(0,v.jsx)(r().A,{name:"TranscriptionBlockHeading",children:(0,v.jsx)(p().A,{id:M,tagName:"h2",style:_.title,placeholderStyle:_.placeholder,store:j,inPageFind:m().Os.block_match,placeholder:E,onClick:n,onBlur:B,disabled:t,disableEnter:!0,disableSlashCommands:!0,pasteBehavior:"inline",disabledMentionTypes:S})})}},165121:(e,t,n)=>{n.d(t,{A:()=>r});class o extends(()=>n(757695))().Store{constructor(){super()}getInitialState(){}}const r=new o},175882:(e,t,n)=>{n.r(t),n.d(t,{exclamationMarkTriangleSmallIcon:()=>a,iconDefinition:()=>r});n(296540);var o=n(474848);const r={viewBox:"0 0 16 16",fittedViewBox:"1.49 1.87 13.01 11.75",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M7.9 5.281a.625.625 0 0 0-.625.625v2.5a.625.625 0 0 0 1.25 0v-2.5a.625.625 0 0 0-.625-.625m0 4.7a.725.725 0 1 0 0 1.45.725.725 0 0 0 0-1.45"}),(0,o.jsx)("path",{d:"M9.58 2.788c-.702-1.217-2.458-1.217-3.16 0l-4.677 8.1c-.702 1.216.176 2.737 1.58 2.737h9.354c1.405 0 2.283-1.52 1.58-2.738zm-2.078.625a.575.575 0 0 1 .996 0l4.677 8.1a.575.575 0 0 1-.498.862H3.324a.575.575 0 0 1-.498-.863z"})]})},a=(0,n(340498).wt)("exclamationMarkTriangleSmall",r,"small")},195260:(e,t,n)=>{n.d(t,{G:()=>c});n(581454);var o=()=>n(590526),r=()=>n(928074),a=()=>n(68263),i=()=>n(499764);function s(e){const{userId:t,store:n,hasInaccessiblePermissions:o}=e,r=(0,i().zt)({userId:t,store:n}).role;return r&&(0,a().PW)(r)&&"none"!==r?r:o?void 0:"none"}var l=()=>n(353890);function c(e){const{store:t}=(0,l().s)(),n=(0,o().K8)((()=>!(0,r().Aj)({store:t})),[t]);return(0,o().K8)((()=>Object.fromEntries(e.map((e=>[e,s({userId:e,store:t,hasInaccessiblePermissions:n})])))),[t,e,n])}},231536:(e,t,n)=>{n.d(t,{Y:()=>i,G:()=>a});var o=()=>n(534177);const r={clipboardActions:n(884107).R.clipboardActions,duplicationActions:n(855801).VI.duplicateActions,formulasModule:n(862292).T.formulas,markdownLinkifyIt:n(659602).g,tinyMceMicrosoftWordPasteFilter:n(335722).S};function a(...e){for(const t of e)r[t].load()}function i(e){const t=r[e].getLoadingState();if("idle"===t.status)a(e);else if("pending"===t.status||"rejected"===t.status);else{if("resolved"===t.status)return t.value;(0,o().HB)(t)}}},233124:(e,t,n)=>{n.d(t,{D_:()=>s,E_:()=>i,Im:()=>l,K_:()=>d,rP:()=>c,uB:()=>a});var o=()=>n(314529),r=()=>n(564884);function a(e,t){e&&(0,o().DO_NOT_USE_trackLegacy)(e,"dictation_modal_open",t)}function i(e,t){e&&(0,o().DO_NOT_USE_trackLegacy)(e,"dictation_modal_close",t)}function s(e,t){e&&(0,r().u)({environment:e,event:{eventName:"dictation_start",eventProperties:t}})}function l(e,t){e&&(0,o().DO_NOT_USE_trackLegacy)(e,"dictation_end",t)}function c(e,t){e&&(0,o().DO_NOT_USE_trackLegacy)(e,"dictation_error",t)}function d(e,t){e&&(0,o().DO_NOT_USE_trackLegacy)(e,"update_dictation_language",t)}},243331:(e,t,n)=>{n.d(t,{K_:()=>r,Lf:()=>i});var o=()=>n(206267);function r(){return{currentScreen:"none",status:"not_started",isBackendConnected:!1,externalSourceName:void 0,sessionId:o().JW(),analyticsFrom:"unknown",isConnected:!1,isPersonalAuthComplete:!1,isDisconnecting:!1,isLoaded:!1,isNotionMailProhibited:!1}}class a extends(()=>n(757695))().Store{getInitialState(){return r()}}const i=new a;(0,n(852832).exposeDebugValue)("notionMailAIConnectorStore",i)},245720:(e,t,n)=>{n.d(t,{W:()=>o});const o=(0,n(69708).YK)({done:{id:"modal.doneButton",defaultMessage:"Done"},cancel:{id:"modal.cancelButton",defaultMessage:"Cancel"},back:{id:"modal.backButton",defaultMessage:"Back"}})},246679:(e,t,n)=>{n.d(t,{VK:()=>r,gv:()=>i});var o=()=>n(206267);function r(){return{currentScreen:"none",status:"not_started",isBackendConnected:!1,externalSourceName:void 0,sessionId:o().JW(),analyticsFrom:"unknown",isConnected:!1,isPersonalAuthComplete:!1,isDisconnecting:!1,isLoaded:!1,isNotionCalendarProhibited:!1}}class a extends(()=>n(757695))().Store{getInitialState(){return r()}}const i=new a;(0,n(852832).exposeDebugValue)("notionCalendarAIConnectorStore",i)},252688:(e,t,n)=>{n.d(t,{h:()=>a});n(296540);var o=n(474848);const r={viewBox:"0 0 16 16",fittedViewBox:"2.27 0.93 12.24 14.12",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M13.527 10.988a.55.55 0 0 1 .904.625 3.9 3.9 0 0 1-2.651 1.641v.705h1.718a.55.55 0 0 1 0 1.1H8.962a.55.55 0 0 1 0-1.1h1.718v-.705a3.9 3.9 0 0 1-2.652-1.641.55.55 0 0 1 .904-.625 2.79 2.79 0 0 0 2.297 1.206c.952 0 1.794-.476 2.298-1.206"}),(0,o.jsx)("path",{d:"M10.03.94c.966.001 1.75.784 1.75 1.75v2.435a2.8 2.8 0 0 0-1.1 0V2.69a.65.65 0 0 0-.65-.65h-6a.65.65 0 0 0-.65.65v8.8c0 .359.291.65.65.65h3.209l.007.012c.273.395.604.75.981 1.048l-.061.04H4.03a1.75 1.75 0 0 1-1.75-1.75v-8.8c0-.966.784-1.75 1.75-1.75z"}),(0,o.jsx)("path",{d:"M11.23 6.021c1 0 1.81.81 1.81 1.81v2.016a1.811 1.811 0 0 1-3.62 0V7.831c0-1 .81-1.81 1.81-1.81m0 1.1a.71.71 0 0 0-.71.71v2.016a.71.71 0 0 0 1.42 0V7.831a.71.71 0 0 0-.71-.71M7.202 5.41a.55.55 0 0 1 0 1.1H5.03a.55.55 0 1 1 0-1.1zm1.828-2a.55.55 0 1 1 0 1.1h-4a.55.55 0 1 1 0-1.1z"})]})},a=(0,n(340498).wt)("paperMicrophoneSmall",r,"small")},259657:(e,t,n)=>{n.d(t,{m:()=>r});var o=()=>n(365917);function r(e){return o().X.state}},283163:(e,t,n)=>{n.d(t,{h:()=>i});n(296540);var o=()=>n(473541),r=()=>n(807449),a=n(474848);function i(){return(0,a.jsx)(r().I,{icon:o().w,size:"lg",colorVariant:"primary"})}},344417:(e,t,n)=>{n.r(t),n.d(t,{iconDefinition:()=>o,magnifyingGlassSmallIcon:()=>r});n(296540);const o={viewBox:"0 0 16 16",fittedViewBox:"1.97 1.97 12.46 12.46",svg:(0,n(474848).jsx)("path",{d:"M7.1 1.975a5.125 5.125 0 1 0 3.155 9.164l3.107 3.107a.625.625 0 1 0 .884-.884l-3.107-3.107A5.125 5.125 0 0 0 7.1 1.975M3.225 7.1a3.875 3.875 0 1 1 7.75 0 3.875 3.875 0 0 1-7.75 0"})},r=(0,n(340498).wt)("magnifyingGlassSmall",o,"small")},348869:(e,t,n)=>{n.d(t,{g:()=>s});n(944114);var o=()=>n(792057),r=()=>n(785728),a=()=>n(532659),i=()=>n(769864);async function s(e){const{environment:t,onResponse:n,data:s,userId:l,tracking:c,abortSignal:d}=e,u=await i().callStreamApi({eventName:"runInferenceTranscript",environment:t,data:s,userId:l,tracking:c,abortSignal:d,headers:(0,r().WS)({spaceId:s.spaceId})});if("success"!==u.type)return null!=d&&d.aborted?{error:{message:"Aborted",code:0}}:(o().Qg(u),{error:{message:u.error.message,code:u.status}});const p=[];if(a().hS.is(u.data))for await(const o of u.data){if("error"===o.type)return{error:{message:o.message,code:o.errorCode}};null==n||n(o),p.push(o)}return{value:p}}},362075:(e,t,n)=>{n.d(t,{AB:()=>l,BU:()=>s,Ru:()=>c,f1:()=>u,yz:()=>d});var o=()=>n(907258),r=()=>n(242422),a=()=>n(590526),i=()=>n(209199);function s(){var e;const t=(null===(e=o().default.state.currentUserSettingsStore)||void 0===e||null===(e=e.getSettings())||void 0===e?void 0:e.preferred_locale)??i().q;if("en"===(0,i().o_)(t)){return"play_audio"===r().default.getEligibleGroup({experimentId:"audio_consent_on_transcription_experiment",defaultGroup:"control"})}return!1}function l(){return(0,a().K8)((()=>s()),[])}function c(){var e;const t=o().AppStoreSidebarSpaceStore.state;return(null==t||null===(e=t.getSettingsStore())||void 0===e||null===(e=e.getKeyStore("audio_consent_on_transcription"))||void 0===e?void 0:e.getValue())??!1}function d(){const e=s();if(!e)return!1;if(!o().AppStoreSidebarSpaceViewStore.getState())return!1;const t=c(),n=function(){var e;const t=o().AppStoreSidebarSpaceViewStore.getState();return!!t&&((null===(e=t.getSettings())||void 0===e?void 0:e.audio_consent_on_transcription)??!0)}();return e&&(t||n)}function u(){return(0,a().K8)((()=>d()),[])}},362750:(e,t,n)=>{n.d(t,{Zl:()=>r,lH:()=>a,oV:()=>o});n(16280),n(410838),n(944114),n(581454);const o=12e3;function r(e){const t=[];for(const n of e){const e=t[t.length-1];e?"text"===n.type&&"text"===e.type?t[t.length-1]={type:"text",content:e.content+n.content}:"thinking"!==n.type||"thinking"!==e.type||n.encryptedContent||e.encryptedContent||n.signature&&e.signature||n.modelProvider!==e.modelProvider||n.notionModelName!==e.notionModelName?"tool_use"===n.type&&"tool_use"===e.type&&n.id===e.id?t[t.length-1]={type:"tool_use",id:n.id,name:n.name,content:e.content+n.content,signature:n.signature||e.signature}:t.push({...n}):t[t.length-1]={type:"thinking",content:e.content+n.content,id:n.id||e.id,signature:n.signature||e.signature,encryptedContent:n.encryptedContent||e.encryptedContent,modelProvider:n.modelProvider||e.modelProvider,notionModelName:n.notionModelName||e.notionModelName}:t.push({...n})}return t}function a(e){return"string"==typeof e?[{type:"text",content:e}]:e??[]}},375555:(e,t,n)=>{function o(e,t){const{device:n}=e;n.isAndroid&&t.focus(),t.select()}n.d(t,{G:()=>o})},404905:(e,t,n)=>{n.d(t,{j:()=>c});var o=n(296540),r=()=>n(484714),a=()=>n(401497),i=()=>n(284371),s=()=>n(26697);var l=n(474848);function c(e){const{children:t,style:n,overlayContainerZIndex:c,placement:d="bottom",tooltipStyle:u}=e,{isSafari:p}=(0,r().Y0)(),m=(0,o.useRef)(null),f=function(e){const[t,n]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{const{current:t}=e;if(!t)return void n(!1);const o="ResizeObserver"in window?new ResizeObserver((([e])=>{n(e.target.scrollWidth>e.target.clientWidth)})):void 0;return null==o||o.observe(t),()=>null==o?void 0:o.unobserve(t)}),[]),t}(m),h=(0,a().IS)((()=>({overflowText:{...i().RC,...n}})),[n]);return(0,l.jsx)(s().m,{delayThreshold:500,placement:d,textWrap:!0,style:u,overlayContainerZIndex:c,forceVisibleState:!(p||!f)&&void 0,renderTooltip:()=>f?t:void 0,render:e=>(0,l.jsx)("div",{ref:m,style:h.overflowText,...e,children:t})})}},408580:(e,t,n)=>{n.d(t,{Hj:()=>r,Lc:()=>l,OZ:()=>i,d_:()=>s,rW:()=>a,uE:()=>o});const o=4,r=2,a=4,i=20,s=4,l=6},419357:(e,t,n)=>{n.d(t,{Ay:()=>x,KF:()=>S,LG:()=>g,Zf:()=>v,yD:()=>y});var o=n(296540),r=()=>n(484714),a=()=>n(401497),i=()=>n(718827),s=()=>n(695115),l=()=>n(31511),c=()=>n(546926),d=()=>n(424400),u=()=>n(340498),p=()=>n(100622),m=()=>n(496603),f=()=>n(284371),h=n(474848);const g=30,y=28;function v(e){const{icon:t}=e;return t({fill:p().Tj.icon.secondary,width:u().Ev.sm,height:u().Ev.sm,flexGrow:0,flexShrink:0})}function S(e){const t=(0,r().WS)(),n=(0,a().eP)(),o=(0,a().IS)((()=>({outlineButton:{...(0,i().qq)({shape:"default",size:"sm",hasIconOnly:!0,isButtonGapEnabled:!0}),fontWeight:f().Wy.medium,lineHeight:1.2,border:`1px solid ${p().Tj.border.primaryTranslucent}`,background:e.hasBackground?p().Tj.background.primary:void 0},outlineButtonHovered:{background:p().Tj.background.secondary},outlineButtonPressed:{background:(0,i().yZ)({color:p().Tj.background.primary,mode:n})}})),[e.hasBackground,n]);return(0,h.jsx)(s().A,{size:"xs",colorVariant:"primary",...e,ariaLabel:e.ariaLabel,style:{...o.outlineButton,...e.style,height:t?g:y,width:t?g:y},hoveredStyle:o.outlineButtonHovered,pressedStyle:o.outlineButtonPressed})}const x=o.forwardRef((function({preventCaptureArrowShortcuts:e,preventCaptureDeleteWhenEmpty:t,preventCaptureClipboardShortcuts:r,preventCaptureSpacebarWhenEmpty:a,...i},s){const{left:l,right:u,inputLeft:p,inputRight:f,inputRightStyle:g,disableInput:y,inputOuterStyle:v,rightMobileEditLabel:S,mobileKeyboardOnDismiss:x,style:b,value:M,onChange:T,autosize:I,autosizeMinHeight:j,autosizeMaxHeight:C,customElementAttributes:A,disabled:E,format:_,id:B,placeholder:D,type:O,autoFocus:P,focus:L,focusInitial:N,focusAfterAnimation:R,forceShowClearButton:F,ignoreKeyboardMode:W,inputElementAttributes:z,inputStyle:U,isRightLastElementOfInput:V,maxlength:H,min:$,max:K,selectAll:G,showClearButton:Y,suppressFocusRing:Z,textarea:q,textareaSubmitOnEnter:X,onBlur:Q,onCancel:J,onClearButtonClick:ee,onClick:te,onFocus:ne,onKeyDown:oe,onSubmit:re,...ae}=i,[ie,se]=(0,o.useState)((()=>Boolean(L||N)));(0,o.useEffect)((()=>{void 0!==L&&se(L)}),[L]);const le=e?void 0:m().D_,ce=!t||M.length>0?m().D_:void 0,de=r?void 0:m().D_,ue=!a||M.length>0?m().D_:void 0,pe=(0,c().Tf)(),me=(0,o.useContext)(c().xu),fe=(0,o.useRef)(null),he={value:M,onChange:T,autosize:I,autosizeMinHeight:j,autosizeMaxHeight:C,customElementAttributes:A,disabled:E,format:_,id:B,placeholder:D,type:O,autoFocus:P,focus:L,focusInitial:N,focusAfterAnimation:R,forceShowClearButton:F,ignoreKeyboardMode:W,inputElementAttributes:z,inputStyle:U,isRightLastElementOfInput:V,maxlength:H,min:$,max:K,selectAll:G,showClearButton:Y,suppressFocusRing:Z,textarea:q,textareaSubmitOnEnter:X,onBlur:Q,onCancel:J,onClearButtonClick:ee,onClick:te,onFocus:ne,onKeyDown:oe,onSubmit:re};return(0,h.jsx)(n(782482).N,{debugName:"InputMenuItem",capture:!0,onUntab:m().D_,onTab:m().D_,onSelectAll:m().D_,onRedo:m().D_,onUndo:m().D_,onToggleBold:m().D_,onToggleItalics:m().D_,onToggleCode:m().D_,onCut:de,onCopy:de,onPaste:de,onKeypress:m().D_,onLeft:le,onRight:le,onDelete:ce,onBackspace:ce,onSpace:ue,children:n(726637).A.isMobile?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(d().Ay,{ref:s,...ae,itemMarginLeft:pe?8:void 0,style:b,title:(0,h.jsx)(w,{ref:fe,left:l,right:u,inputLeft:p,inputRight:f,inputRightStyle:g,disableInput:y,inputOuterStyle:v,rightMobileEditLabel:S,isFocused:ie,setIsFocused:se,...he})}),(0,h.jsx)(n(797324).A,{show:ie&&me.menuType!==c().gu.ActionSheet,onDismiss:x,inputRef:fe})]}):(0,h.jsx)(d().Ay,{ref:s,...ae,left:l,right:u,isTokenTitle:!0,title:(0,h.jsx)(k,{ref:fe,disableInput:y,inputOuterStyle:v,inputRight:f,inputRightStyle:g,inputLeft:p,...he}),style:{paddingTop:4,paddingBottom:4,...b}})})}));function b({rightMobileEditLabel:e,inputRef:t}){const a=(0,r().v3)(),s=(0,o.useCallback)((e=>{e.preventDefault();const o=t.current;o&&(0,n(375555).G)(a,o)}),[a,t]);return(0,h.jsx)(i().Ay,{onClick:s,style:{color:p().Tj.text.secondary},children:e})}const k=o.forwardRef((function(e,t){const{disabled:n,disableInput:o,inputOuterStyle:r,inputRight:a,inputRightStyle:i,inputLeft:s,min:c,textarea:d,...u}=e;return(0,h.jsx)(l().A,{...u,ref:t,disabled:n||o,style:{height:d?void 0:28,padding:"3px 6px",...r},left:s,right:a,rightStyle:i,min:c,textarea:d})})),w=o.forwardRef((function(e,t){const{left:r,right:a,inputLeft:i,inputRight:s,inputRightStyle:c,disableInput:d,inputOuterStyle:u,rightMobileEditLabel:p,isFocused:m,setIsFocused:f,disabled:g,showClearButton:y,onBlur:v,onFocus:S,...x}=e,k=(0,o.useCallback)((e=>{f(!1),v&&v(e)}),[v,f]),w=(0,o.useCallback)((e=>{f(!0),S&&S(e)}),[S,f]),M=(0,o.useRef)(null),T=(0,n(93583).A)(M,t),I=p&&!m?(0,h.jsx)(b,{rightMobileEditLabel:p,inputRef:M}):null;return(0,h.jsx)(l().A,{...x,ref:T,format:"transparent",style:{fontSize:16,...u},onFocus:w,onBlur:k,showClearButton:!1!==y,disabled:g||d,left:i||r,right:I||s||a,rightStyle:c})}))},424641:(e,t,n)=>{n.d(t,{Gj:()=>u,Jx:()=>d,RN:()=>y,_X:()=>v,sM:()=>S,sR:()=>h,vZ:()=>p,xy:()=>b,y6:()=>g});n(944114),n(898992),n(823215),n(354520),n(672577);var o=()=>n(906745),r=()=>n(726637),a=()=>n(295633),i=()=>n(761940),s=()=>n(651784),l=()=>n(179034),c=()=>n(615234);function d(e){return"owner"===e.accessRole||"writer"===e.accessRole}function u(e){const t=o().DateTime.fromMillis(e.startUnixTimestampMS),n=e.endUnixTimestampMS?o().DateTime.fromMillis(e.endUnixTimestampMS):void 0,r=o().DateTime.fromMillis(e.startOfWeekUnixTimestampMS),a=o().DateTime.fromMillis(e.endOfWeekUnixTimestampMS),i=t.startOf("day"),s=o().DateTime.max(r,i),l=Math.ceil(s.diff(r,"days").get("days"));let c=1;if(n){const e=n.endOf("day"),t=o().DateTime.min(a,e);c=Math.ceil(t.diff(s,"days").get("days"))}return{start:t,end:n,startOfWeek:r,endOfWeek:a,startColumn:l,columnCount:c}}function p(e){const t=(e.attendees||[]).filter((e=>!e.self&&!e.resource));return e.hasParticipants&&t.length>0&&t.every((e=>"declined"===e.responseStatus))}const m={upcomingMinsThreshold:10,startingMinsThreshold:5,startedMinsThreshold:15},f={upcomingMinsThreshold:10,startingMinsThreshold:5,startedMinsThreshold:5},h={upcomingMinsThreshold:10,startingMinsThreshold:15,startedMinsThreshold:15};function g(e){const{events:t,accounts:n,thresholds:r=m,filters:a}=e,s=t.filter((e=>{if(!(e.conferencing||null!=a&&a.includeEventsWithoutConferencing))return!1;const t=n.find((t=>t.id===e.accountId));return!(null==t||!t.email)&&(!!(0,i().Ko)(e,t.email)&&(!function(e){if("declined"===e)return!0;return!1}(e.responseStatus??"declined")&&!e.isAllDay))}));if(0===s.length)return[];const{upcomingMinsThreshold:l,startingMinsThreshold:d,startedMinsThreshold:u}=r,p=o().DateTime.now(),f=void 0!==(null==a?void 0:a.maxDaysInFuture)?a.maxDaysInFuture*c().XQ:void 0,h=void 0!==(null==a?void 0:a.maxDaysInPast)?a.maxDaysInPast*c().XQ:void 0,g=[],y=[],v=[],S=[],b=[],k=[];for(const o of s){if(o.isAllDay)continue;const e=x(o),t=p.diff(e.end,"minutes").minutes;if(void 0!==h&&t>h)continue;if(null!=a&&a.excludeEventsOnDifferentDays){if(p.setZone(e.start.zone).toISODate()!==e.start.toISODate())continue}const n=e.start.diff(p,"minutes").minutes;if(!(void 0!==f&&n>f))if(n>=0&&n<=l)g.push(o);else if(n<0){const r=-n,a=t>=0?t:void 0;r>0&&r<=d?v.push(o):r>d&&r<=u?S.push(o):e.contains(p)?y.push(o):void 0!==h&&void 0!==a&&a<=h&&b.push(o)}else k.push(o)}y.sort(((e,t)=>{const n=o().DateTime.fromISO(e.start.dateTime,{zone:e.start.timeZone});return o().DateTime.fromISO(t.start.dateTime,{zone:t.start.timeZone}).diff(n).toMillis()})),b.length>1&&b.sort(((e,t)=>{const n=o().DateTime.fromISO(e.end.dateTime,{zone:e.end.timeZone});return o().DateTime.fromISO(t.end.dateTime,{zone:t.end.timeZone}).diff(n).toMillis()}));return[...g,...v,...S,...null!=a&&a.excludeInProgressEvents?[]:y,...b,...null!=a&&a.excludeUpcomingLaterEvents?[]:k]}function y(e,t){return g({events:e,accounts:t,thresholds:m,filters:void 0})[0]}function v(e,t){return S(e,t)[0]}function S(e,t,n){return g({events:e,accounts:t,thresholds:f,filters:{excludeUpcomingLaterEvents:!0,...n}})}function x(e){const t=o().DateTime.fromISO(e.start.dateTime,{zone:e.start.timeZone}),n=o().DateTime.fromISO(e.end.dateTime,{zone:e.end.timeZone});return o().IX.fromDateTimes(t,n)}function b(e){const{spaceStore:t}=e;let n=e.fileUrl;if(!t)return;const o=(0,s().parseRoute)({url:n,isMobile:r().A.isMobile,baseUrl:r().A.domainBaseUrl,publicDomainName:r().A.publicDomainName,protocol:r().A.protocol,currentUrl:window.location.href}),i="page"===o.name?o.blockId:void 0;if(!i)return;const c=a().B.createChildStore(t,{table:l().ev,id:i});return c.load(),c}},435386:(e,t,n)=>{n.d(t,{w:()=>r});var o=()=>n(651784);function r({url:e,config:t}){const n=(0,o().parseRoute)({url:e,baseUrl:t.domainBaseUrl,publicDomainName:t.publicDomainName,isMobile:!1,protocol:t.protocol,currentUrl:void 0});return"page"===n.name?n.blockId:"team"===n.name?n.peekViewBlockId:void 0}},445560:(e,t,n)=>{n.d(t,{X:()=>o});const o=n(757695).Store.createValue({shouldReset:!1},{name:"MobileAssistantMenuStore"})},460957:(e,t,n)=>{n.d(t,{E:()=>i});n(581454);var o=()=>n(201980),r=()=>n(718957),a=()=>n(29554);function i(e){const{multiSelection:t}=e;return(0,r().$W)(t).map((({store:e,selection:t})=>{const n=(0,o().RQ)(e.getValue()),r=(0,o().xbM)(n,t),{tokensInsideRange:i}=(0,o().AI5)(n,r.startIndex,r.endIndex);return(0,a().r4)(i,e)})).join("\n\n")}},473541:(e,t,n)=>{n.d(t,{w:()=>r});n(296540);const o={viewBox:"0 0 20 20",fittedViewBox:"5.87 3.72 7.16 12.56",directional:!0,svg:(0,n(474848).jsx)("path",{d:"M6.131 9.381a.875.875 0 0 0 0 1.238l5.4 5.4a.875.875 0 1 0 1.238-1.238L7.987 10l4.782-4.781A.875.875 0 0 0 11.53 3.98z"})},r=(0,n(340498).wt)("arrowChevronSingleLeftFill",o,"fill")},492172:(e,t,n)=>{n.d(t,{Y:()=>i});var o=n(296540),r=()=>n(401497),a=n(474848);const i=o.memo((function({event:e,isBox:t=!1}){const o=(0,n(590526).K8)((()=>{const t=(0,n(488776).Y)().getCalendar(e);return null==t?void 0:t.color}),[e],{useDeepEqual:!0}),i=(0,r().DP)(),s=(0,r().IS)((()=>({indicator:{minHeight:t?10:36,height:t?10:"100%",width:t?10:4,flexShrink:0,borderRadius:t?2:3,...(0,n(868859).TN)({event:e,color:e.isPlaceholderEvent?n(100622).Tj.text.disabled:(0,n(569243).Sk)({theme:i,calendarColor:o,eventColor:e.color})})}})),[e,o,t,i]);return(0,a.jsx)("div",{style:s.indicator})}))},569243:(e,t,n)=>{n.d(t,{Pf:()=>l,QL:()=>i,Sk:()=>s});const o={1:e=>e.orange.background.accentSecondary,2:e=>e.red.background.accentSecondary,3:e=>e.red.background.accentSecondary,4:e=>e.orange.background.accentSecondary,5:e=>e.orange.background.accentSecondary,6:e=>e.orange.background.accentSecondary,7:e=>e.green.background.accentSecondary,8:e=>e.green.background.accentSecondary,9:e=>e.green.background.accentSecondary,10:e=>e.green.background.accentSecondary,11:e=>e.yellow.background.accentSecondary,12:e=>e.yellow.background.accentSecondary,13:e=>e.green.background.accentSecondary,14:e=>e.blue.background.accentSecondary,15:e=>e.blue.background.accentSecondary,16:e=>e.blue.background.accentSecondary,17:e=>e.purple.background.accentSecondary,18:e=>e.purple.background.accentSecondary,19:e=>e.gray.background.accentSecondary,20:e=>e.gray.background.accentSecondary,21:e=>e.pink.background.accentSecondary,22:e=>e.pink.background.accentSecondary,23:e=>e.purple.background.accentSecondary,24:e=>e.purple.background.accentSecondary},r={1:e=>e.purple.background.accentSecondary,2:e=>e.green.background.accentSecondary,3:e=>e.pink.background.accentSecondary,4:e=>e.red.background.accentSecondary,5:e=>e.yellow.background.accentSecondary,6:e=>e.orange.background.accentSecondary,7:e=>e.blue.background.accentSecondary,8:e=>e.gray.background.accentSecondary,9:e=>e.blue.background.accentSecondary,10:e=>e.green.background.accentSecondary,11:e=>e.red.background.accentSecondary};function a({theme:e,color:t}){if("preset"===t.type){var n,a;if("calendar"===t.colorType)return null===(n=o[t.colorId])||void 0===n?void 0:n.call(o,e);if("event"===t.colorType)return null===(a=r[t.colorId])||void 0===a?void 0:a.call(r,e)}var i;if("custom"===t.type)return null===(i=t.colorHexes)||void 0===i?void 0:i[e.mode].backgroundPrimary}function i({theme:e,calendarColor:t}){const n=t&&a({theme:e,color:t});return n||e.blue.background.accentSecondary}function s({theme:e,eventColor:t,calendarColor:n}){const o=t&&a({theme:e,color:t});return o||i({theme:e,calendarColor:n})}function l(e){const{colorType:t,color:n,colorId:o}=e;return o?{type:"preset",colorId:o,colorType:t}:n?{type:"custom",colorHexes:n}:void 0}},570551:(e,t,n)=>{function o(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}n.d(t,{A:()=>o})},589407:(e,t,n)=>{n.r(t),n.d(t,{ellipsisIcon:()=>r,iconDefinition:()=>o});n(296540);const o={viewBox:"0 0 20 20",fittedViewBox:"2.62 8.62 14.76 2.76",svg:(0,n(474848).jsx)("path",{d:"M4 11.375a1.375 1.375 0 1 0 0-2.75 1.375 1.375 0 0 0 0 2.75m6 0a1.375 1.375 0 1 0 0-2.75 1.375 1.375 0 0 0 0 2.75m6 0a1.375 1.375 0 1 0 0-2.75 1.375 1.375 0 0 0 0 2.75"})},r=(0,n(340498).wt)("ellipsis",o,"default")},592933:(e,t,n)=>{n.d(t,{G1:()=>a,Pn:()=>i,Vf:()=>o,yD:()=>r});n(410838),n(813451),n(944114),n(898992),n(354520),n(672577),n(803949),n(581454),n(737550);function o(e){return"inference"!==e.type&&"queue-handoff"!==e.type&&"reenqueue-with-delay"!==e.type&&"record-map"!==e.type&&"patch-start"!==e.type&&"patch"!==e.type&&"agent-search-extracted-results"!==e.type}function r(e){return"patch"===e.type||"patch-start"===e.type}function a(e){return function(e){const t=e.find((e=>"context"===e.type));return"daily_brief_reminder"===(null==t?void 0:t.value.surface)}(e)&&function(e){return e.filter((e=>"user"===e.type||"user-injected"===e.type)).length}(e)<=1}function i(e){let t=0;const n=e.findLastIndex((e=>"user"===e.type));-1!==n&&(t=n+1);return e.slice(t)}},601493:(e,t,n)=>{n.d(t,{o:()=>ie});n(898992),n(354520),n(672577),n(581454);var o=n(296540),r=()=>n(993905),a=()=>n(726637),i=()=>n(484714),s=()=>n(792485),l=()=>n(943101),c=()=>n(590526),d=()=>n(401497),u=()=>n(849255),p=()=>n(996332),m=()=>n(631524),f=()=>n(493552),h=()=>n(69708),g=()=>n(100622),y=()=>n(534177),v=()=>n(477293),S=()=>n(470687),x=()=>n(645200),b=()=>n(583238),k=()=>n(928074),w=()=>n(711207),M=()=>n(40419),T=()=>n(195260),I=()=>n(760979),j=()=>n(353890);class C extends(()=>n(757695))().Store{getInitialState(){}}var A=()=>n(155089),E=()=>n(79926);const _=new(E().O2)("TranscriptionBlockCalendarAttendeesList",(async()=>Promise.all([n.e(53697),n.e(30603)]).then(n.bind(n,955079)))),B=(0,E()._h)(_,(e=>e.TranscriptionBlockCalendarAttendeesList));n(737550);var D=()=>n(250910),O=()=>n(807449),P=()=>n(695115),L=()=>n(546926),N=()=>n(287188),R=()=>n(26697),F=()=>n(890492),W=()=>n(424400),z=()=>n(736847),U=()=>n(324254),V=()=>n(344417),H=()=>n(856499),$=()=>n(138364),K=()=>n(636714),G=()=>n(419357),Y=()=>n(402602),Z=()=>n(395198),q=()=>n(86811),X=()=>n(454971),Q=()=>n(488776);var J=()=>n(340206),ee=n(474848);const te=(0,h().YK)({openCalendar:{id:"transcriptionBlockCalendarHeader.openCalendar",defaultMessage:"Open in Notion Calendar"},shareWithParticipantsOn:{id:"transcriptionBlockCalendarHeader.shareWithParticipantsOn",defaultMessage:"Page will be shared with internal event participants"},shareWithParticipantsOff:{id:"transcriptionBlockCalendarHeader.shareWithParticipantsOff",defaultMessage:"Share page with internal event participants?"}});function ne(){return(0,ee.jsx)(h().sA,{...te.openCalendar})}function oe(e){const{isOn:t,onToggle:n}=e,r=(0,o.useMemo)((()=>(0,ee.jsx)(O().I,{icon:t?H().personSmallIcon:$().personSlashSmallIcon,size:"sm",colorVariant:"secondary"})),[t]),a=(0,o.useMemo)((()=>(0,ee.jsx)(f().D,{styleKey:"captionRegular",colorVariant:"secondary",colorPalette:t?"blue":"gray",children:(0,ee.jsx)(h().sA,{...t?te.shareWithParticipantsOn:te.shareWithParticipantsOff})})),[t]),i=(0,o.useMemo)((()=>(0,ee.jsx)(N().A,{on:t})),[t]);return(0,ee.jsx)(W().Ay,{icon:r,title:a,right:i,shouldWrapTitle:!0,onClick:n})}function re(e){const{parent:t,placeholderStore:n}=e,{store:r}=(0,j().s)(),a=(0,i().v3)(),l=(0,s().S)(),d=(0,h().tz)(),u=(0,Y().V)(),[p,m]=(0,o.useState)(""),[f,g]=(0,o.useState)(u),y=function(e){const{shareWithParticipants:t,showPastEvents:n,source:o}=e,r=(0,c().K8)((()=>{var e;return Boolean(null===(e=(0,Q().Y)().getHomeCalendarStateForSpaceView())||void 0===e?void 0:e.botId)}),[]),a=(0,I().z)();return(0,c().K8)((()=>r?a?[(0,q().rG)()]:[...(0,q().Pi)({showPastEvents:n,shareWithParticipants:t,source:o}),(0,q().XA)()]:[(0,q().OB)()]),[r,a,n,t,o])}({shareWithParticipants:f,showPastEvents:Boolean(p),source:"headerDropdown"}),v=(0,o.useMemo)((()=>({environment:a,blocks:[r],publicEditMode:void 0,analyticsFrom:"meeting_notes_block_actions",pageContext:l})),[a,r,l]),S=(0,o.useCallback)((e=>{e.displayName&&"string"==typeof e.key&&e.key.startsWith(`action ${q().xN}`)&&n.setState(e.displayName)}),[n]),x=(0,o.useCallback)((e=>{m(e.target.value)}),[]),b=(0,o.useCallback)((()=>{g((e=>!e))}),[]),k=(0,o.useMemo)((()=>y.some((e=>"string"==typeof e.key&&e.key.startsWith(q().xN)))),[y]),w=(0,o.useMemo)((()=>(0,ee.jsx)(oe,{isOn:f,onToggle:b})),[f,b]);return(0,ee.jsxs)(F().A,{menuType:L().gu.Popup,width:k?375:250,maxHeight:300,footer:k?w:void 0,children:[k?(0,ee.jsx)(z().A,{isInput:!0,children:(0,ee.jsx)(G().Ay,{value:p,onChange:x,focus:!0,placeholder:d.formatMessage({defaultMessage:"Link a calendar event…",id:"transcriptionBlockCalendarHeader.searchCalendarEvents.placeholder"}),inputLeft:(0,ee.jsx)(O().I,{icon:V().magnifyingGlassSmallIcon,size:"sm",colorVariant:"secondary"}),showClearButton:!0})}):void 0,(0,ee.jsx)(K().A,{context:v,sections:y,filter:p,initialFocus:0,showNoResultsMessage:!0,onAccept:t.close,onFocus:S})]})}function ae(e){const{calendarEvent:t,onClick:n,placeholderStore:r}=e,a=(0,h().tz)(),{store:i,canEdit:s}=(0,j().s)(),{selectedTabType:l}=(0,J().S)(i),c="on"===(0,v().r)("meeting_notes_calendar_header_exp"),u=(0,d().IS)((()=>({container:{marginTop:4,alignSelf:"flex-start"},button:{marginTop:2,width:"auto",height:"auto"},icon:{width:24,height:24,color:g().Tj.text.primary},iconContainer:{display:"flex",flexDirection:"row",alignItems:"center",gap:2,margin:2}})),[]),p=(0,o.useCallback)((()=>(0,ee.jsxs)("div",{style:u.iconContainer,children:[(0,ee.jsx)(Z().y,{style:u.icon,dateNumber:null==t?void 0:t.startTime.day}),(0,ee.jsx)(O().I,{icon:U().arrowChevronSingleDownSmallIcon,size:"sm",colorVariant:"secondary"})]})),[null==t?void 0:t.startTime.day,u.icon,u.iconContainer]),m=(0,o.useCallback)((e=>(0,ee.jsx)(re,{parent:e,placeholderStore:r})),[r]),f=(0,o.useCallback)((e=>(0,ee.jsx)(P().A,{...e,icon:p,ariaLabel:a.formatMessage(te.openCalendar),style:u.button})),[p,a,u.button]),y=(0,o.useCallback)((()=>{r.setState(void 0),"notes"===l&&(0,X().W)(i,"notes")}),[i,l,r]),S=(0,o.useCallback)((e=>(0,ee.jsx)(D().A,{popupType:D().z.Popup,render:m,renderOrigin:f,originGap:4,onClosed:y,keepFocus:!0,...e})),[m,f,y]);return c&&s?(0,ee.jsx)(R().m,{renderTooltip:ne,render:S}):(0,ee.jsx)(R().m,{renderTooltip:()=>(0,ee.jsx)(h().sA,{...te.openCalendar}),render:e=>(0,ee.jsx)("div",{...e,style:u.container,children:(0,ee.jsx)(P().A,{icon:()=>(0,ee.jsx)(Z().y,{style:u.icon,dateNumber:null==t?void 0:t.startTime.day}),ariaLabel:a.formatMessage(te.openCalendar),onClick:n})})})}function ie(e){const{calendarEvent:t,title:n}=e,a=(0,i().v3)(),s=(0,c().uB)(void 0,C),{canEdit:l}=(0,j().s)(),u=(0,d().IS)((()=>({container:{display:"flex",flexDirection:"column",gap:6,width:"100%"},group:{display:"flex",flexDirection:"row",alignItems:"center",gap:8},secondaryGroup:{display:"block",minWidth:0}})),[]),p=(0,o.useCallback)((e=>{if(e.preventDefault(),e.stopPropagation(),t){const e=(0,b().i$)({eventUid:t.uid,startTimeIso:t.startTime.toISO()});x().yd({baseUrl:e,environment:a,from:"transcriptionBlockTitle"})}}),[a,t]);return(0,ee.jsxs)(r().s,{allowSelectionWithin:!0,style:u.container,children:[(0,ee.jsxs)("div",{style:u.group,children:[t||l?(0,ee.jsx)(ae,{calendarEvent:t,onClick:p,placeholderStore:s}):void 0,(0,ee.jsx)("div",{style:u.secondaryGroup,children:t?(0,ee.jsx)(se,{calendarEvent:t,title:n,onClick:p}):(0,ee.jsx)(A().C,{title:n,placeholderStore:s})})]}),(0,ee.jsx)(de,{})]})}function se(e){return"on"===(0,v().r)("meeting_notes_calendar_header_exp")?(0,ee.jsx)(ce,{...e}):(0,ee.jsx)(le,{...e})}function le(e){const{calendarEvent:t,title:n,onClick:o}=e,{hideContent:r}=(0,j().s)(),a=(0,b().i$)({eventUid:t.uid,startTimeIso:t.startTime.toISO()}),i=(0,d().IS)((()=>({titleLink:{display:"inline"},titleLinkHoveredOrPressed:{background:"transparent"},heading:{cursor:"pointer",display:"inline",marginInlineEnd:8}})),[]);return(0,ee.jsxs)(p().Q,{href:a,style:i.titleLink,hoveredStyle:i.titleLinkHoveredOrPressed,pressedStyle:i.titleLinkHoveredOrPressed,children:[(0,ee.jsx)(A().C,{disabled:!0,onClick:o,title:n,style:i.heading}),r?null:(0,ee.jsx)(B,{calendarEvent:t})]})}function ce(e){const{calendarEvent:t,title:n,onClick:r}=e,{hideContent:i}=(0,j().s)(),s=(0,o.useRef)(null),c=(0,l().wY)(s),[u,m]=(0,o.useState)(!1),[f,h]=(0,o.useState)(0);(0,o.useEffect)((()=>{s.current&&!u&&h(s.current.scrollWidth)}),[s,u]);const g=(0,b().i$)({eventUid:t.uid,startTimeIso:t.startTime.toISO()}),y=s.current&&void 0!==(null==c?void 0:c.width)&&Math.round(c.width)<f,v=y&&(u||a().A.isMobile),x=(0,d().IS)((()=>({titleLink:{display:"block",overflow:"hidden",minWidth:0},titleLinkHoveredOrPressed:{background:"transparent"},titleRow:{display:"flex",alignItems:"center",gap:8,minWidth:0},headingWrapper:{flex:"1 1 auto",minWidth:0,overflow:"hidden"},heading:{cursor:"pointer",display:"block",marginInlineEnd:8,whiteSpace:"nowrap",textOverflow:"ellipsis"},facepileWrapper:{display:"flex",alignItems:"center",justifyContent:"flex-end",flex:"1 0 auto",minWidth:0,marginInlineStart:4}})),[]),k=(0,o.useMemo)((()=>{if(!y||v)return;const e="linear-gradient(90deg, rgba(0,0,0,1) 75%, rgba(0,0,0,0) 100%)";return{WebkitMaskImage:e,maskImage:e,WebkitMaskSize:"100% 100%",maskSize:"100% 100%"}}),[y,v]),w=(0,o.useCallback)((()=>{m(!0)}),[]),M=(0,o.useCallback)((()=>{m(!1)}),[]),T=(0,ee.jsx)(A().C,{disabled:!0,onClick:r,title:n,style:x.heading});return(0,ee.jsx)(p().Q,{href:g,style:x.titleLink,hoveredStyle:x.titleLinkHoveredOrPressed,pressedStyle:x.titleLinkHoveredOrPressed,children:(0,ee.jsxs)("div",{style:x.titleRow,children:[(0,ee.jsx)("div",{style:{...x.headingWrapper,...k},onMouseEnter:w,onMouseLeave:M,children:(0,ee.jsx)("div",{ref:s,children:v?(0,ee.jsx)(S()._,{showFadeout:!0,children:T}):T})}),i?null:(0,ee.jsx)("div",{style:x.facepileWrapper,children:(0,ee.jsx)(B,{calendarEvent:t})})]})})}function de(){const{store:e}=(0,j().s)(),t=(0,i().v3)(),n=(0,I().z)(),r=(0,o.useMemo)((()=>(null==n?void 0:n.attendeeIds)??[]),[n]),a=(0,T().G)(r),l=(0,c().K8)((()=>!(0,k().Aj)({store:e})),[e]),p=(0,d().IS)((()=>({actionRow:{display:"flex",flexDirection:"row",alignItems:"center",gap:6,flexWrap:"wrap",color:g().Tj.text.secondary},buttonRow:{display:"flex",flexDirection:"row",alignItems:"center"},button:{height:24,borderRadius:6}})),[]),v=(0,o.useCallback)((()=>{(0,w().FP)({environment:t,store:e})}),[t,e]),S=(0,s().S)(),x=(0,c().K8)((()=>{const e=null==S?void 0:S.spaceStore;if(!e)return[];const o=((null==n?void 0:n.attendeeIds)??[]).map((t=>u().L.createChildStore(e,{table:"notion_user",id:t}))).filter((e=>e.isReady()&&e.isDefined()));return[o.find((e=>e.id===t.currentUser.id)),...o.filter((e=>e.id!==t.currentUser.id))].filter(y().O9)}),[n,t.currentUser.id,S]);return(0,c().K8)((()=>{var t;if(!n)return!1;if(!Object.values(a).includes("none"))return!1;if(!n)return!1;if(Boolean(null===(t=e.getFormat())||void 0===t||null===(t=t.transcription_calendar_event)||void 0===t?void 0:t.has_dismissed_sharing))return!1;const o=e.getNavigableBlockStore();return!(null==o||!o.isDefined())&&(!!o.canEditMembership()&&(0!==x.length&&!l))}),[n,e,a,x,l])?(0,ee.jsxs)("div",{style:p.actionRow,children:[(0,ee.jsx)(f().D,{styleKey:"bodyMedium",children:(0,ee.jsx)(h().sA,{id:"transcriptionBlock.addCalendarEventSuggestion.shareLabel",defaultMessage:"Share this page with event participants?"})}),(0,ee.jsxs)("div",{style:p.buttonRow,children:[(0,ee.jsx)(M().s,{children:e=>(0,ee.jsx)(m().p,{...e,style:p.button,colorPalette:"gray",children:(0,ee.jsx)(h().sA,{id:"transcriptionBlock.addCalendarEventShareSuggestion.shareAcceptButton",defaultMessage:"Share"})}),users:x,rolesMap:a}),(0,ee.jsx)(m().p,{onClick:v,style:p.button,colorPalette:"gray",children:(0,ee.jsx)(h().sA,{id:"transcriptionBlock.addCalendarEventShareSuggestion.dismissButton",defaultMessage:"Dismiss"})})]})]}):null}},606982:(e,t,n)=>{n.d(t,{A:()=>a});var o=()=>n(10123),r=()=>n(570551);function a(e,t){(0,r().A)(2,arguments);var n=(0,o().A)(e),a=(0,o().A)(t),i=n.getTime()-a.getTime();return i<0?-1:i>0?1:i}},607567:(e,t,n)=>{n.d(t,{Z:()=>a});n(296540);var o=n(474848);const r={viewBox:"0 0 20 20",fittedViewBox:"2.37 4.12 16.74 14.99",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M4.5 4.125A2.125 2.125 0 0 0 2.375 6.25v7.5c0 1.174.951 2.125 2.125 2.125h5.702a4.7 4.7 0 0 1-.2-1.25H4.5a.875.875 0 0 1-.875-.875V7.5h12.75v2.535a4.7 4.7 0 0 1 1.25.684V6.25A2.125 2.125 0 0 0 15.5 4.125zm.758 1.684a.625.625 0 1 1-1.25 0 .625.625 0 0 1 1.25 0m1.375-.625a.625.625 0 1 1 0 1.25.625.625 0 0 1 0-1.25m2.625.625a.625.625 0 1 1-1.25 0 .625.625 0 0 1 1.25 0"}),(0,o.jsx)("path",{d:"M17.7 16.607a3.625 3.625 0 1 0-.893.878l1.223 1.427a.625.625 0 0 0 .94-.823zM12.375 14.5a2.375 2.375 0 1 1 4.75 0 2.375 2.375 0 0 1-4.75 0"})]})},a=(0,n(340498).wt)("browserMagnifyingGlass",r,"default")},613016:(e,t,n)=>{n.d(t,{a:()=>r});var o=()=>n(907258);function r(){const{sidebarSpaceStore:e}=o().default.getState();return e?e.id:void 0}},636714:(e,t,n)=>{n.d(t,{A:()=>b});n(898992),n(354520),n(581454);var o=n(296540),r=()=>n(590526),a=()=>n(182412),i=()=>n(683021),s=()=>n(498521),l=()=>n(449279),c=()=>n(663639),d=()=>n(922931),u=()=>n(535393),p=()=>n(736847),m=()=>n(452004),f=()=>n(69708),h=()=>n(231536),g=()=>n(671894),y=n(474848);const v=25,S=200,x=n(757695).Store.createClass(v,{name:"limitStore"});function b({topBorder:e,context:t,onAccept:n,onFocus:b,empty:k,keyboardPriority:w,disableKeyboard:M,initialFocus:T,onEmptyEnter:I,comboboxProps:j,useLimit:C,onFilteredSectionsChange:A,filter:E,sections:_,menuListStore:B,resetInitialFocusOnSectionChangeAlways:D,resetFocusOnMouseOut:O,role:P,showNoResultsMessage:L,onFooterEnter:N,filterSections:R,flattenSectionsOnSearch:F,renderItemStyles:W,shouldShowBlockTypeTitle:z}){const U=(0,r().uB)(void 0,x),V=(0,r().uB)(B,m().$),[H,$,K]=(0,r().K8)((()=>{let e=0;const n=(0,g().js)({sections:E&&R?R:_,context:t,query:E||"",shouldShowBlockTypeTitle:z});for(const t of n)e+=t.actions.length;return[C?(0,g().Le)(n,U.state):n,e,n]}),[_,t,E,C,U,R,z]);(0,o.useEffect)((()=>{i().Ay.state.open&&i().rA.setState(0===K.length)}),[K]),(0,o.useEffect)((()=>{null==A||A(H)}),[A,H]);const G=(0,o.useRef)(E),Y=(0,o.useCallback)((e=>{e<S&&U.state<$&&U.setState(U.state+v)}),[U,$]),Z=Boolean(F&&E),q=(0,o.useMemo)((()=>{const e=new Map;for(const t of K)if(t.key!==a().IZ)for(const n of t.actions)e.set(n.key,t.title);return e}),[K]),{menuItemActionMap:X,menuItemSectionKeyMap:Q,menuListSections:J}=(0,o.useMemo)((()=>{const o=new Map,r=new Map,i=H.map((i=>{const s=i.key.toString();return{key:i.key,render:t=>i.render({...t,topBorder:!Z&&(0!==t.index||Boolean(e)),title:i.title,hideTitle:Z}),items:i.actions.map((e=>{e.lazyDependencyKeys&&(0,h().G)(...e.lazyDependencyKeys);const l={key:e.key,render:(o,r)=>{const l=i.key===a().IZ?q.get(e.key):i.title,c=Z||i.key===a().IZ;return e.render(o,t,{onAccept:(e,t,o)=>{null==n||n(e,t,o,s)},onFocus:r.onFocus,sectionTitle:l,extendItemTitle:c,styles:W})},action:({event:n})=>{e.action(t,n)}};return o.set(l,e),r.set(l,s),l}))}}));return{menuItemActionMap:o,menuItemSectionKeyMap:r,menuListSections:i}}),[H,Z,e,q,t,W,n]);(0,o.useEffect)((()=>{if(E!==G.current&&0===T){G.current=E;if(Boolean(N)&&0===u().i2(J))return d().rd({store:V});V.setState({...V.state,focus:{section:0,indexLocal:0,indexGlobal:0,footerFocused:!1}})}}),[E,T,J,V,N]);const ee=(0,o.useCallback)(((e,o)=>{if(n){const a=X.get(e),i=Q.get(e);if(a){var r;if(null!==(r=a.isDisabled)&&void 0!==r&&r.call(a,t))return;n(a,t,o.event,i,o.index)}}}),[n,t,X,Q]),te=(0,o.useCallback)((e=>{let n;var o;(e.indexLocal&&(n=u().SG(e.indexLocal,J)),e.indexGlobal)&&(n=null===(o=u().e7(e.indexGlobal,J))||void 0===o?void 0:o.item);if(!n)return;const r=X.get(n),a=Q.get(n);r&&(null==b||b(r,t,a))}),[X,Q,b,J,t]);return(0,y.jsxs)(y.Fragment,{children:[Boolean(L)&&0===H.length?(0,y.jsx)(p().A,{children:(0,y.jsx)(l().u,{title:k||(0,y.jsx)(f().sA,{id:"action.search.noResults",defaultMessage:"No results"})})}):void 0,(0,y.jsx)(c().A,{type:c().O.Vertical,role:P,priority:w,store:V,disableKeyboard:M,sections:J,initialFocus:T,onEmptyEnter:I,onAccept:ee,onFocus:te,comboboxProps:j,resetInitialFocusOnSectionChangeAlways:D,resetFocusOnMouseOut:O,onFooterEnter:N}),C?(0,y.jsx)(s().A,{onChange:Y}):void 0]})}},654069:(e,t,n)=>{n.d(t,{D:()=>c});var o=()=>n(534177),r=()=>n(896628),a=()=>n(44729),i=()=>n(384944),s=()=>n(547149),l=()=>n(192359);function c(e){const{environment:t,transcriptionBlockStore:n,tabType:c,withTextBlock:d}=e,u=(0,l().y1)(n,c);if(u)return u;const{performResult:p}=s().createAndCommit({userAction:`transcriptionBlockTabActions.getOrCreateTranscriptionTabBlockStore.${c}`,environment:t,perform:e=>{const s=i().Wv({environment:t,type:"text",inMemoryRecordCache:n.inMemoryRecordCache,transaction:e});if("summary"===c?a().Ti({transaction:e,parentStore:n,childStore:s}):a().NI({transaction:e,parentStore:n,childStore:s}),"transcript"===c&&d){const o=i().Wv({environment:t,type:"text",inMemoryRecordCache:n.inMemoryRecordCache,transaction:e});a().NI({transaction:e,parentStore:s,childStore:o})}let l;return"summary"===c?l={transcription_summary_id:s.id}:"transcript"===c?l={transcription_transcript_id:s.id}:(0,o().HB)(c),r().zA({transaction:e,stores:[n],update:l}),s},canUndo:!1});return p}},662971:(e,t,n)=>{n.d(t,{A:()=>m});var o=n(296540),r=()=>n(30537);const a=function(){const[e,t]=o.useState({x:0,y:0});return o.useEffect((()=>{const e=e=>{t({x:e.clientX,y:e.clientY})};return window.addEventListener("mousemove",e),()=>{window.removeEventListener("mousemove",e)}}),[]),e};var i=n(474848);function s({x:e,mouseX:t}){return t>e?void 0:-Math.max(e-t,10)+"px"}function l({x:e,width:t,mouseX:n}){return n>e?-Math.max(n-(e+t),10)+"px":void 0}function c({x:e,width:t,mouseX:n}){return n>e?`${Math.max(n-(e+t),10)}px`:`${Math.max(e-n,10)}px`}function d({x:e,y:t,height:n,mouseX:o,mouseY:r}){return o>e?`polygon(0% 0%, 0% 100%, 100% ${100*(r-t)/n}%)`:`polygon(100% 0%, 0% ${100*(r-t)/n}%, 100% 100%)`}function u(e){const{x:t=0,y:n=0,height:r=0,width:u=0}=e.el.getBoundingClientRect()||{},{x:p,y:m}=a(),f={x:t,y:n,height:r,width:u,mouseX:p,mouseY:m},h=(0,o.useRef)(null),g=o.useCallback((e=>{if(h.current){h.current.style.pointerEvents="none";const t=document.elementFromPoint(e.clientX,e.clientY);if(h.current.style.pointerEvents="auto",t){const n=new MouseEvent(e.nativeEvent.type,e.nativeEvent);t.dispatchEvent(n)}}}),[]),y={insetInlineEnd:l(f),insetInlineStart:s(f),height:r,width:c(f),clipPath:d(f)};return(0,i.jsx)("div",{ref:h,onClick:g,style:{cursor:"pointer",position:"absolute",pointerEvents:"auto",top:0,...y}})}function p({onClick:e,renderOrigin:t,renderExtension:a,allowOptionalExtensionMenu:s,...l},c){const{disabled:d,disableDefaultClick:p,onFocus:m,focused:f,openOnFocus:h,placementToOrigin:g,alignmentToOrigin:y,disableCloseOnEnter:v,bottomSheetInitialState:S,popupTypeOverride:x}=l,b=(0,n(484714).WS)(),k=(0,n(546926).Tf)(),[w,M]=(0,o.useState)(!1),T=(0,o.useRef)(null),I=(0,o.useRef)(null),j=(0,o.useRef)(null),C=(0,o.useRef)(null),A=(0,o.useCallback)((()=>{j.current&&window.clearTimeout(j.current),C.current&&window.clearTimeout(C.current),j.current=null,C.current=null}),[]),E=(0,o.useCallback)((()=>{A(),d||M(!0)}),[d,A]),_=(0,o.useCallback)((()=>{A(),M(!1)}),[A]),B=(0,o.useCallback)((e=>{A(),w||(e&&e.preventDefault&&e.preventDefault(),j.current=window.setTimeout(E,120))}),[w,A,E]),D=(0,o.useCallback)((()=>{A(),w&&(C.current=window.setTimeout(_,100))}),[w,_,A]),O=(0,o.useCallback)((t=>{m(),E(),s&&(null==e||e(t),_())}),[m,E,s,e,_]),P=(0,o.useCallback)((()=>{B()}),[B]),L=(0,o.useCallback)((()=>{m(),B()}),[m,B]),N=(0,o.useCallback)((e=>{if(n(726637).A.isMobile)return;const t=T.current;w&&t&&!t.contains(e.target)&&_()}),[w,_]),R=(0,o.useCallback)((e=>{13===e.keyCode&&w&&!v&&_()}),[w,_,v]);(0,o.useEffect)((()=>{if(!Boolean(p))return window.addEventListener("click",N),()=>{window.removeEventListener("click",N)}}),[p,N]),(0,o.useEffect)((()=>(window.addEventListener("keydown",R),()=>{window.removeEventListener("keydown",R)})),[R]);const F=(0,o.useRef)(f);(0,o.useEffect)((()=>{h&&!F.current&&f?B():!f&&F.current&&D(),F.current=f}),[f,h,B,D]);const W=(0,n(401497).IS)((()=>({mobilePopupStyle:{borderRadius:12,backgroundColor:n(100622).Tj.background.secondary}})),[]),z={...(0,n(383036).A)({onMouseEnter:P,onClick:O},l),showExtensionArrow:!0};let U=r().n.Popup;return x?U=x:b&&(U=k?r().n.BottomSheet:r().n.SlideUp),(0,i.jsx)(n(782482).N,{debugName:"ExtensionMenuItem",capture:f,onEnter:w?void 0:B,onRight:B,onLeft:w?D:void 0,onEsc:w?D:void 0,children:(0,i.jsx)(n(127833).zD,{popupType:U,bottomSheetInitialState:S,open:w,origin:t(z,c),placementToOrigin:g??"right",alignmentToOrigin:y??"center",originGap:0,disableMouseCapture:!0,preventBlockRenderQueueOnEnter:!0,preventScaleTransition:!b,preventCaptureEsc:!0,ref:T,render:()=>(0,i.jsxs)(i.Fragment,{children:[!b&&I.current?(0,i.jsx)(u,{el:I.current}):null,(0,i.jsx)("div",{ref:I,style:{height:"100%"},children:a({onMouseEnter:L},{close:D})})]}),style:{overflow:"visible",...b&&W.mobilePopupStyle},trapFocus:!0,onDismiss:_})})}const m=o.forwardRef(p)},671089:(e,t,n)=>{n.r(t),n.d(t,{checkmarkCircleIcon:()=>a,iconDefinition:()=>r});n(296540);var o=n(474848);const r={viewBox:"0 0 20 20",fittedViewBox:"2.37 2.37 15.25 15.26",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M12.876 7.982a.625.625 0 1 0-1.072-.644L9.25 11.595 7.815 9.92a.625.625 0 0 0-.95.813l2 2.334a.625.625 0 0 0 1.01-.085z"}),(0,o.jsx)("path",{d:"M10 2.375a7.625 7.625 0 1 0 0 15.25 7.625 7.625 0 0 0 0-15.25M3.625 10a6.375 6.375 0 1 1 12.75 0 6.375 6.375 0 0 1-12.75 0"})]})},a=(0,n(340498).wt)("checkmarkCircle",r,"default")},671894:(e,t,n)=>{n.d(t,{hS:()=>x,o2:()=>b,js:()=>v,Le:()=>S,F6:()=>k});n(944114),n(517642),n(658004),n(733853),n(845876),n(432475),n(515024),n(731698),n(898992),n(823215),n(354520),n(581454);var o=()=>n(675133),r=()=>n(69708),a=()=>n(778078),i=()=>n(496603),s=(n(296540),()=>n(736847)),l=()=>n(589407),c=()=>n(12956),d=n(474848);const u=(0,r().YK)({moreOptions:{id:"action.moreOptions",defaultMessage:"More options"}});var p=()=>n(431404),m=()=>n(680288),f=()=>n(129522);const h=25,g=5,y=(0,r().YK)({mixedBlocks:{id:"actionMenuHelpers.mixedBlocks.title",defaultMessage:"{count, plural, one {{count} block} other {{count} blocks}}"}});function v(e){const t=o().A.getIntl(),{sections:n,context:r,query:v,shouldShowBlockTypeTitle:S}=e;let x=v.trim().toLowerCase();x.startsWith("/")&&(x=x.slice(1));const w=b(n,r).map(((e,n)=>{let{actions:o,title:a}=e;const i=o.length-g;if(e.shouldShowMoreOptions&&i>1){const e=function(e){return(0,c().u)({key:"more options",displayName:u.moreOptions,analyticsName:u.moreOptions.defaultMessage,svg:l().ellipsisIcon,validators:[],subActions:()=>[{key:0,title:void 0,render:e=>(0,d.jsx)(s().A,{...e}),actions:e}]})}(o.slice(g));o=[...o.slice(0,g),e]}const h=r.blocks[0];if(h){const e=h.getType();if(S&&e&&0===n){const n=r.blocks.every((t=>t.getType()===e))?(0,p().Z)(e):y.mixedBlocks;if(n){var v;a=t.formatMessage(n,{count:r.blocks.length});const e=null===(v=f().K.findCollectionViewBlockFromStore(h))||void 0===v?void 0:v.collectionContextStore.getViewType();if(e){const t=m().to[e];t&&(a+=` · ${t}`)}}}}return{...e,actions:o,title:a}}));if(!x)return w;const M=function(e){return e.map((e=>({...e,actions:e.actions.map((t=>{const n=t.searchName||t.displayName||"",o=[n,e.searchTitle||e.title||"",n].join(" ");return{...t,searchName:o}}))})))}(function(e,t){const n=[];for(const o of e){const e={...o,actions:[]};for(const r of o.actions)if(k(r,t))if(r.subActions){const a=b(r.subActions(t),t);if(r.hideSubActions){e.actions.push(r);continue}if(r.collapseSubActionsIntoParent){for(const t of a)for(const n of t.actions)e.actions.push(n);continue}const i=a.map((e=>({...e,key:`${o.key} ${r.key} ${e.key}`,title:e.title||r.displayName,searchTitle:[r.searchName||r.displayName,e.searchTitle||e.title].filter(Boolean).join(" ")})));for(const e of i)n.push(e)}else e.actions.push(r);e.actions.length&&n.push(e)}return n}(n,r)),T=[],I=new Map;for(const o of M)for(const e of o.actions)I.set(e,o),T.push(e);const j=(0,a().Ay)(x,T,(e=>e.searchName||""),{minScore:h,getSortScore:e=>-e.score*(e.original.sortScoreMultiplier??1)}),C=new Set(j),A=T.filter((e=>Boolean(e.alwaysShowInSearch)&&!C.has(e))),E=A.filter((e=>"start"===e.alwaysShowInSearch)),_=A.filter((e=>"end"===e.alwaysShowInSearch)),B=i().$z([...E,...j,..._],(e=>{const t=I.get(e);if(t)return t.title})),D=[];for(const o of Object.keys(B)){const e=B[o],t=I.get(e[0]);t&&D.push({...t,actions:e})}return D}function S(e,t){if(!t)return e;let n=0;const o=[];for(const r of e){if(n>=t)break;const e=r.actions.slice(0,t-n);e.length>0&&(n+=e.length,o.push({...r,actions:e}))}return o}function x(e,t){const n=[];for(const o of e){const e=o.actions.filter(t);e.length>0&&n.push({...o,actions:e})}return n}function b(e,t){return x(e,(e=>k(e,t)))}function k(e,t){if(e.validators){return e.validators.every((e=>e(t)))}return!0}},737022:(e,t,n)=>{n.d(t,{i:()=>o});const o=new(n(79926).O2)("transcriptionNotificationActions",(async()=>await Promise.all([n.e(75134),n.e(35530),n.e(9773),n.e(36556),n.e(55373),n.e(36192),n.e(40537),n.e(27992),n.e(63452),n.e(66249),n.e(92845),n.e(87249),n.e(79022),n.e(44854),n.e(87017),n.e(34877),n.e(46414),n.e(11676),n.e(61165),n.e(94522),n.e(44584),n.e(38293),n.e(40992),n.e(88455),n.e(52871),n.e(47160),n.e(49021),n.e(53697),n.e(26126),n.e(6039),n.e(71136),n.e(86341),n.e(29316),n.e(3101)]).then(n.bind(n,632176))))},738508:(e,t,n)=>{n.r(t),n.d(t,{cursorIcon:()=>a,iconDefinition:()=>r});n(296540);var o=n(474848);const r={viewBox:"0 0 20 20",fittedViewBox:"1.25 0 17.5 20",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("g",{className:"logo-light-mode",children:[(0,o.jsxs)("g",{clipPath:"url(#clip0_16020_205)",children:[(0,o.jsx)("path",{fill:"#757575",d:"m9.995 9.987 8.658 4.999a.6.6 0 0 1-.226.226l-8.092 4.672a.68.68 0 0 1-.68 0l-8.092-4.672a.6.6 0 0 1-.226-.226z"}),(0,o.jsx)("path",{fill:"#525252",d:"M9.995 0v9.987l-8.658 4.999a.6.6 0 0 1-.082-.309v-9.38c0-.22.117-.424.308-.534L9.655.09a.7.7 0 0 1 .34-.09"}),(0,o.jsx)("path",{fill:"#404040",d:"M18.652 4.989a.6.6 0 0 0-.225-.226L10.334.09A.7.7 0 0 0 9.995 0v9.987l8.658 4.999a.6.6 0 0 0 .083-.309v-9.38c0-.11-.03-.216-.083-.308"}),(0,o.jsx)("path",{fill:"#D9D9D9",d:"M18.047 5.339a.29.29 0 0 1 0 .29l-7.859 13.61c-.053.093-.193.055-.193-.05v-8.97a.4.4 0 0 0-.054-.201z"}),(0,o.jsx)("path",{fill:"#fff",d:"m18.047 5.339-8.106 4.68a.4.4 0 0 0-.147-.147L2.027 5.387c-.092-.053-.054-.193.052-.193h15.717c.111 0 .202.06.25.145"})]}),(0,o.jsx)("defs",{children:(0,o.jsx)("clipPath",{id:"clip0_16020_205",children:(0,o.jsx)("path",{fill:"#fff",d:"M1.255 0h17.49v20H1.256z"})})})]}),(0,o.jsxs)("g",{className:"logo-dark-mode",children:[(0,o.jsxs)("g",{clipPath:"url(#clip0_16020_213)",children:[(0,o.jsx)("path",{fill:"#6E6E6E",d:"m9.995 9.987 8.658 4.999a.6.6 0 0 1-.226.226l-8.092 4.672a.68.68 0 0 1-.68 0l-8.092-4.672a.6.6 0 0 1-.226-.226z"}),(0,o.jsx)("path",{fill:"#4A4A4A",d:"M9.995 0v9.987l-8.658 4.999a.6.6 0 0 1-.082-.309v-9.38c0-.22.117-.424.308-.534L9.655.09a.7.7 0 0 1 .34-.09"}),(0,o.jsx)("path",{fill:"#383838",d:"M18.652 4.989a.6.6 0 0 0-.225-.226L10.334.09A.7.7 0 0 0 9.995 0v9.987l8.658 4.999a.6.6 0 0 0 .083-.309v-9.38c0-.11-.03-.216-.083-.308"}),(0,o.jsx)("path",{fill:"#C9C9C9",d:"M18.047 5.339a.29.29 0 0 1 0 .29l-7.859 13.61c-.053.093-.193.055-.193-.05v-8.97a.4.4 0 0 0-.054-.201z"}),(0,o.jsx)("path",{fill:"#fff",d:"m18.047 5.339-8.106 4.68a.4.4 0 0 0-.147-.147L2.027 5.387c-.092-.053-.054-.193.052-.193h15.717c.111 0 .202.06.25.145"})]}),(0,o.jsx)("defs",{children:(0,o.jsx)("clipPath",{id:"clip0_16020_213",children:(0,o.jsx)("path",{fill:"#fff",d:"M1.255 0h17.49v20H1.256z"})})})]})]})},a=(0,n(340498).wt)("cursor",r,"default")},757747:(e,t,n)=>{n.d(t,{v:()=>i});var o=()=>n(79926);const r=new(o().O2)("idleTranscriptionActions",(async()=>await Promise.all([n.e(75134),n.e(35530),n.e(9773),n.e(36556),n.e(55373),n.e(36192),n.e(40537),n.e(27992),n.e(63452),n.e(66249),n.e(92845),n.e(87249),n.e(79022),n.e(44854),n.e(87017),n.e(34877),n.e(46414),n.e(11676),n.e(61165),n.e(94522),n.e(44584),n.e(38293),n.e(40992),n.e(88455),n.e(52871),n.e(47160),n.e(49021),n.e(53697),n.e(26126),n.e(6039),n.e(71136),n.e(86341),n.e(29316),n.e(3101)]).then(n.bind(n,247865)))),a=new(o().O2)("transcriptionErrorActions",(async()=>await Promise.all([n.e(75134),n.e(35530),n.e(9773),n.e(36556),n.e(55373),n.e(36192),n.e(40537),n.e(27992),n.e(63452),n.e(66249),n.e(92845),n.e(87249),n.e(79022),n.e(44854),n.e(87017),n.e(34877),n.e(46414),n.e(11676),n.e(61165),n.e(94522),n.e(44584),n.e(38293),n.e(40992),n.e(88455),n.e(52871),n.e(47160),n.e(49021),n.e(53697),n.e(26126),n.e(6039),n.e(71136),n.e(86341),n.e(29316),n.e(3101)]).then(n.bind(n,872903))));const i={transcription_idle:async(e,t)=>{(await r.load()).showIdleTranscriptionToast(e,t)},transcription_error:async(e,t)=>{(await a.load()).showTranscriptionErrorToast(e,t)},transcription_recording_stopped:async(e,t)=>{(await n(737022).i.load()).showTranscriptionRecordingStoppedToast(e,t)}}},763765:(e,t,n)=>{n.d(t,{t:()=>r});class o extends(()=>n(757695))().Store{getInitialState(){return{loaded:!1}}USEWITHCAUTION_markStatsigUserFetched(e){const{userId:t,spaceId:n,fetched:o}=e;this.setState({loaded:o,userId:t,spaceId:n})}USEWITHCAUTION_isFetchedForSpaceAndUserId(e){const{spaceId:t,userId:n}=e;return this.state.loaded&&this.state.spaceId===t&&this.state.userId===n}}const r=new o;(0,n(852832).exposeDebugValue)("statsigUserLoadingStatusStore",r)},797324:(e,t,n)=>{n.d(t,{A:()=>h});var o=n(296540),r=()=>n(560520),a=()=>n(484714),i=()=>n(790748),s=()=>n(581010),l=()=>n(69708),c=()=>n(100622),d=()=>n(284371),u=()=>n(396406),p=()=>n(718827),m=()=>n(843798),f=n(474848);function h(e){const{onDismiss:t,inputRef:n}=e,h=(0,a().Y0)(),g=(0,o.useRef)(null),y=h.isMobileNative&&h.isIOS,v=y&&e.show;(0,i().b)(s().A,(()=>({getNode:()=>g.current,isShown:()=>v})),[v]);const S=(0,r().n)(),x=(0,o.useCallback)((()=>{var e;null==n||null===(e=n.current)||void 0===e||e.focus(),t&&t();const o=document.activeElement;o instanceof HTMLElement&&o.blur()}),[n,t]);if(!y)return null;const b=v?-(m().j+S):0;return(0,f.jsx)(u().O,{open:!0,children:(0,f.jsx)("div",{style:{position:"fixed",top:"100vh",width:"100%",height:m().j,display:v?"flex":"none",alignItems:"center",justifyContent:"flex-end",backgroundColor:c().Tj.keyboardDoneBarBackground,transform:`translateY(${b}px)`,transition:v?"ease-out":"ease-in",boxShadow:v?`\n\t\t\t\t\t\t\t\t0 -1px 0 ${c().Tj.border.primaryTranslucent}\n\t\t\t\t\t\t\t`:void 0},ref:g,children:(0,f.jsx)(p().Ay,{style:{display:"flex",alignItems:"center",marginInlineEnd:16,color:c().oZ.blue,fontWeight:d().Wy.semibold},onTouchEnd:()=>{x()},children:(0,f.jsx)(l().sA,{defaultMessage:"Done",id:"mobile.dismissKeyboardBar.button.label"})})})})}},827380:(e,t,n)=>{function o(e){return{all:e=e||new Map,on:function(t,n){var o=e.get(t);o?o.push(n):e.set(t,[n])},off:function(t,n){var o=e.get(t);o&&(n?o.splice(o.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var o=e.get(t);o&&o.slice().map((function(e){e(n)})),(o=e.get("*"))&&o.slice().map((function(e){e(t,n)}))}}}n.d(t,{A:()=>o})},831081:(e,t,n)=>{n.d(t,{U:()=>r});n(296540);const o={viewBox:"0 0 16 16",fittedViewBox:"3 3 10 10",svg:(0,n(474848).jsx)("path",{d:"M11.75 3h-7.5C3.56 3 3 3.56 3 4.25v7.5c0 .69.56 1.25 1.25 1.25h7.5c.69 0 1.25-.56 1.25-1.25v-7.5C13 3.56 12.44 3 11.75 3"})},r=(0,n(340498).wt)("mediaStopFillSmall",o,"fillSmall")},856499:(e,t,n)=>{n.r(t),n.d(t,{iconDefinition:()=>o,personSmallIcon:()=>r});n(296540);const o={viewBox:"0 0 16 16",fittedViewBox:"2.81 1.77 10.36 12.45",svg:(0,n(474848).jsx)("path",{d:"M8 1.775c-.947 0-1.717.392-2.237 1.04-.508.633-.747 1.47-.747 2.338s.239 1.704.747 2.337c.52.648 1.29 1.04 2.237 1.04s1.717-.392 2.237-1.04c.508-.633.748-1.47.748-2.337 0-.869-.24-1.705-.748-2.338-.52-.648-1.29-1.04-2.237-1.04M6.738 3.597c.28-.348.69-.572 1.262-.572s.983.224 1.263.572c.291.364.472.904.472 1.556 0 .651-.18 1.191-.472 1.555-.28.348-.69.572-1.263.572s-.982-.224-1.262-.572c-.292-.364-.472-.904-.472-1.555 0-.652.18-1.192.472-1.556M8 9.178c-2.196 0-4.166 1.07-5.007 2.713a1.48 1.48 0 0 0 .2 1.677c.356.413.91.657 1.487.657h6.64c.577 0 1.132-.244 1.486-.657a1.48 1.48 0 0 0 .201-1.677c-.84-1.643-2.81-2.713-5.007-2.713m-3.894 3.283c.583-1.14 2.062-2.033 3.894-2.033s3.311.893 3.895 2.033q.045.089.033.154a.27.27 0 0 1-.07.14.72.72 0 0 1-.538.22H4.68a.72.72 0 0 1-.537-.22.27.27 0 0 1-.07-.14.26.26 0 0 1 .033-.154"})},r=(0,n(340498).wt)("personSmall",o,"small")},868859:(e,t,n)=>{n.d(t,{Ay:()=>y,Mr:()=>h,TN:()=>g});var o=n(296540),r=()=>n(401497),a=()=>n(751735),i=()=>n(100622),s=()=>n(534177),l=()=>n(424641),c=()=>n(569243),d=()=>n(408580),u=n(474848);const p=4,m=10;function f({event:e,squashedEventIndex:t,titleStartY:o,titleEndY:r}){const a=(0,n(590526).K8)((()=>{if("emptyTodayEventPlaceholder"===e)return;const t=(0,n(488776).Y)().getCalendar(e);return null==t?void 0:t.color}),[e],{useDeepEqual:!0}),i=h({event:e,eventIndex:t,calendarColor:a,titleStartY:o,titleEndY:r});return i?(0,u.jsx)("div",{style:i}):null}function h(e){const{event:t,eventIndex:n,calendarColor:o,titleStartY:a,titleEndY:s}=e,l=(0,r().DP)(),u=(0,r().IS)((()=>{const e={background:i().Tj.gray.background.accentSecondary},r="emptyTodayEventPlaceholder"===t?e:function({event:e,eventIndex:t,color:n,titleStartY:o,titleEndY:r}){const a=g({event:e,color:n});if(!e.isAllDay)return a;const i=`radial-gradient(\n\t\tcircle ${m}px at ${-(d().Hj-1.5)}px ${m/2}px,\n\t\ttransparent ${(m+1)/2}px,\n\t\tpurple 0\n\t)`;return{borderRadius:"50%",marginTop:(r-o-m)/2,alignSelf:"flex-Start",marginInlineStart:(p-m)/2,marginInlineEnd:(p-m)/2,width:m,height:m,background:n,...0!==t&&{WebkitMaskImage:i,maskImage:i},...a}}({event:t,eventIndex:n,color:(0,c().Sk)({theme:l,calendarColor:o,eventColor:t.color}),titleStartY:a,titleEndY:s});return{container:{width:p,borderRadius:3,...r}}}),[o,t,n,s,a,l]);if(o||"emptyTodayEventPlaceholder"===t)return u.container}function g({event:e,color:t}){const n=(0,a().X4)(t,e.isAllDay?.2:.1),o=`\n\t\trepeating-linear-gradient(\n\t\t\t-45deg,\n\t\t\t${t},\n\t\t\t${t} 2px,\n\t\t\t${n} 2px,\n\t\t\t${n} ${e.isAllDay?3.5:4}px\n\t\t)`;if("outOfOffice"===e.eventType)return{background:n};switch(e.responseStatus){case"accepted":return{background:(0,l().vZ)(e)?o:t};case"tentative":return{background:o};case"needsAction":return{border:`1px dashed ${t}`,background:n};case"declined":return{background:n};case void 0:return{background:e.hasParticipants?n:t};default:(0,s().HB)(e.responseStatus)}}const y=o.memo(f)},962753:(e,t,n)=>{n.d(t,{EH:()=>v,FO:()=>g,P$:()=>y,VA:()=>f,h0:()=>d,lM:()=>u,mq:()=>h});n(898992),n(581454),n(737550);var o=()=>n(907258),r=()=>n(242422),a=()=>n(763765),i=()=>n(613848),s=()=>n(496603),l=()=>n(534177),c=()=>n(822789);function d(e){const{currentUserRootStore:t}=o().default.state;if(!t)return!1;const n=t.getSpaceViewStores();return(0,s().oE)(null==n?void 0:n.map((e=>e.getSpaceId()))).map((t=>i().A.getData(e,{spaceId:t,userId:e.currentUser.id}))).some((e=>p(e)))}function u(e,t){return p(i().A.getData(e,{spaceId:t,userId:e.currentUser.id}))}function p(e){switch(null==e?void 0:e.membershipType){case void 0:case"none":case"page_guest":return!1;case"restricted_member":case"member":case"membership_admin":case"owner":return!0===e.is_sales_assisted;default:(0,l().HB)(e)}}function m(e,t){if(!t)return"control";if(u(e,t))return"control";const n=r().default.getEligibleGroup({experimentId:"ai_product_retention_simplified_input",defaultGroup:"control"});return"input"===n||"input_and_ask_mode"===n?n:"control"}function f(){switch(r().default.getEligibleGroup({experimentId:"ai_product_retention_agent_follow_ups",defaultGroup:"control"})){case"button_nudge":return["button","nudge"];case"button_control":return["button","default"];case"nudge":return["nudge"];default:return}}function h(e,t){const n=r().default.checkGate({gateName:"agent_deep_find"}),o=void 0!==t&&u(e,t),i=e.currentUser.id,s=!t||!i||a().t.USEWITHCAUTION_isFetchedForSpaceAndUserId({spaceId:t,userId:i}),l=n||!o&&s&&"on"===r().default.getEligibleGroup({experimentId:"ai_product_retention_deepfind",defaultGroup:"control"}),c=y(e,t);return{agentDeepFindEnabled:l,useReadOnlyMode:l&&c}}function g(e,t){if(t?(0,c().vp)(t):(0,c().hw)())return!0;return"control"!==m(e,t)}function y(e,t){return"input_and_ask_mode"===m(e,t)}function v(){return"on"===r().default.getEligibleGroup({experimentId:"ai_product_retention_agent_speculative_search",defaultGroup:"control"})}}}]);