"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[11386,99171],{24126:(e,t,n)=>{n.d(t,{c:()=>r});n(296540);const a={viewBox:"0 0 20 20",fittedViewBox:"3.9 2.75 12.18 14.49",svg:(0,n(474848).jsx)("path",{d:"M12.626 2.768a.625.625 0 0 1 0 1.224l-.126.013h-.125v4.794l3.366 5.159c.893 1.369-.03 3.17-1.623 3.281l-.156.006H6.039c-1.688 0-2.703-1.873-1.78-3.287l3.366-5.157V4.005H7.5a.625.625 0 0 1 0-1.25h5zM8.875 9.173l-.102.156-1.567 2.401h5.589l-1.569-2.403-.101-.156V4.005h-2.25z"})},r=(0,n(340498).wt)("beaker",a,"default")},106702:(e,t,n)=>{n.d(t,{$:()=>i});var a=()=>n(590526);const r=new(n(140934).ComputedStore)((()=>n(907258).default.state.currentUserStore),{debugName:"AppStoreCurrentUserStore"});function i(){return(0,a().O$)(r)}},107620:(e,t,n)=>{n.d(t,{y:()=>r});n(296540);const a={viewBox:"0 0 20 20",fittedViewBox:"1.81 2.89 16.38 15.08",svg:(0,n(474848).jsx)("path",{d:"M16.938 9.853c0-2.97-2.539-5.54-6.545-5.697L10 4.148c-4.232 0-6.938 2.639-6.938 5.705 0 1.438.583 2.752 1.617 3.76a.63.63 0 0 1 .18.546 7.3 7.3 0 0 1-.89 2.528c1.108-.13 2.12-.614 3.01-1.344l.063-.044a.63.63 0 0 1 .505-.073 9 9 0 0 0 2.454.333l.392-.007c4.006-.158 6.545-2.728 6.545-5.699m1.25 0c0 3.803-3.234 6.766-7.747 6.948l-.44.008a10.2 10.2 0 0 1-2.485-.299c-1.349 1.022-2.985 1.62-4.826 1.428a.625.625 0 0 1-.406-1.033c.712-.817 1.096-1.737 1.284-2.642-1.116-1.197-1.756-2.733-1.756-4.41 0-3.925 3.447-6.955 8.189-6.955l.44.009c4.512.181 7.747 3.143 7.747 6.946"})},r=(0,n(340498).wt)("chatBubble",a,"default")},170350:(e,t,n)=>{n.r(t),n.d(t,{filterIcon:()=>r,iconDefinition:()=>a});n(296540);const a={viewBox:"0 0 20 20",fittedViewBox:"2.37 4.87 15.25 10.25",svg:(0,n(474848).jsx)("path",{d:"M3 4.875a.625.625 0 1 0 0 1.25h14a.625.625 0 1 0 0-1.25zm2.125 5.742h9.75a.625.625 0 1 0 0-1.25h-9.75a.625.625 0 1 0 0 1.25m1.5 3.883c0-.345.28-.625.625-.625h5.5a.625.625 0 1 1 0 1.25h-5.5a.625.625 0 0 1-.625-.625"})},r=(0,n(340498).wt)("filter",a,"default")},275598:(e,t,n)=>{n.d(t,{N:()=>o});var a=n(296540),r=()=>n(401497),i=()=>n(100622);function o(e,t){const n=(0,r().IS)((()=>({theme:{backgroundColor:i().Tj.background.primary}})),[]);(0,a.useLayoutEffect)((()=>{if(e)return"open"!==t&&"opening"!==t||function(e){document.body.style.overflow="visible",e&&(document.body.style.backgroundColor=e);const t=document.getElementById("notion-app");t&&(t.style.overflow="visible",t.style.overscrollBehavior="contain")}(n.theme.backgroundColor),()=>{!function(){document.body.style.overflow="",document.body.style.backgroundColor="";const e=document.getElementById("notion-app");e&&(e.style.overflow="",e.style.overscrollBehavior="")}()}}),[t,n.theme.backgroundColor,e])}},350605:(e,t,n)=>{n.d(t,{u:()=>j});var a=n(296540),r=()=>n(920198),i=()=>n(907258),o=()=>n(560533),l=()=>n(484714),s=()=>n(852507),c=()=>n(943101),d=()=>n(590526),u=()=>n(401497),h=()=>n(699143),p=()=>n(98126),f=()=>n(534177),m=()=>n(944584),g=()=>n(277942),v=()=>n(353755),S=()=>n(166442),b=()=>n(631611),y=()=>n(207214),x=()=>n(703748),C=()=>n(965454),w=()=>n(770160),_=()=>n(981475),P=n(474848);function j(e){const{chatPanelState:t,chatPanelMode:n,panelSize:j,onDismiss:I,onEsc:k,fromSurface:M="corner",aiChatFeature:A}=e,E=(0,l().v3)(),T=(0,r().L)(),V=(0,d().O$)(i().AppStoreMainEditorCurrentBlockStore),B=(0,d().K8)((()=>null!=V&&V.isPersonalHomePage()?"home":"page"),[V]),R=(0,u().IS)((()=>{const e="full"===n||"sidebar"===n;return{content:{position:"absolute",bottom:0,insetInlineStart:0,insetInlineEnd:0,top:e?0:void 0},layout:{...e?{flex:1}:{minHeight:j.height.min,maxHeight:j.height.max}}}}),[j.height.min,j.height.max,n]);(0,s().w)((()=>{m().trackAiOpened({environment:E,agentEnabled:!0,surface:M,cornerSurface:B})}));const{state:z,threadStore:D,transcript:N}=(0,v().j)({clientStore:S().defaultClientAIChatStore,chatPanelState:t,spaceStore:T}),O=(0,d().K8)((()=>_().globalChatPanelRuntimeStore.state.isLoadingDependencies??!1),[]),L=(0,y().L)(E),H=(0,C().AD)(),U=(0,a.useCallback)((({newThreadStore:e})=>{const t=i().default.state.mainEditorCurrentBlockStore||L,n=E.RouterStore.state.route,a=(0,w().shouldAllowOpeningAgentOnSpecifiedRoute)(n);(t||a)&&(H.reset(),(0,x().openChatPanel)({environment:E,store:t,chatPanelState:e?{isOpen:!0,threadId:e.id}:{isOpen:!0,isNewThread:!0}}))}),[E,L,H]),F=(0,a.useRef)(null),G=(0,a.useCallback)((e=>{F.current&&_().globalChatPanelRuntimeStore.setState({..._().globalChatPanelRuntimeStore.state,naturalPanelContentSize:e})}),[]);let K;switch((0,c().tK)(F,G),n){case"sidebar":K=A||"agent";break;case"popup":K=A||"agent_popup";break;case"full":K=A||"agent_mobile";break;default:if(A){K=A;break}(0,f().HB)(n)}return(0,P.jsx)(o().e.Provider,{value:I,children:(0,P.jsx)(b().hP,{surface:b().wy.inferenceTranscriptChatView,children:(0,P.jsx)("div",{ref:F,style:R.content,children:(0,P.jsx)(h().Y1,{direction:"vertical",width:"content"===j.width.resizeMode?"hug":j.width.value,height:"content"===j.height.resizeMode?"hug":j.height.value,style:R.layout,children:T?(0,P.jsx)(g().NV,{aiChatFeature:K,clientStore:S().defaultClientAIChatStore,hideAgentName:!0,onEsc:k,onThreadChange:U,parentStore:T,threadStore:D,threadStoreState:O?"loading":z,transcript:N||[]}):(0,P.jsx)(h().Y1,{width:"fill",height:"fill",align:"center",children:(0,P.jsx)(p().k,{})})})})})})}},353755:(e,t,n)=>{n.d(t,{j:()=>u});var a=n(296540),r=()=>n(106702),i=()=>n(484714),o=()=>n(590526),l=()=>n(791256),s=()=>n(965454),c=()=>n(770160),d=()=>n(680514);function u({clientStore:e,chatPanelState:t,spaceStore:n}){const{threadStore:u,isNewThread:h}=function({clientStore:e,chatPanelState:t,spaceStore:n}){const a=(0,i().v3)(),l=(0,r().$)(),u=(0,s().AD)(),h=(0,o().K8)((()=>{if(!n||!t||!l)return;const e=(0,c().getChatPanelState)(a)??t;if(!("isNewThread"in e)||!e.isNewThread){const t=(0,c().threadStoreGivenRouteData)({spaceStore:n,chatPanelState:e});return(0,d().dr)(null==t?void 0:t.id)??t}n&&u.getOrCreateThreadId({environment:a,spaceId:n.id,maybeThreadStore:void 0})}),[n,t,l,u,a]);return{threadStore:h,isNewThread:"isNewThread"in t&&t.isNewThread}}({clientStore:e,chatPanelState:t,spaceStore:n}),{steps:p,allReady:f}=(0,o().K8)((()=>u?(0,l().A3)({clientStore:e,threadStore:u}):{steps:[],allReady:!1}),[e,u]),[m,g]=(0,a.useState)(f),[v,S]=(0,a.useState)(void 0);if((v!==u||f&&!m)&&(S(u),g(f)),h)return{state:"new",threadStore:u,transcript:p};return(f||m)&&u?{state:"ready",threadStore:u,transcript:p}:{state:"loading",threadStore:void 0,transcript:void 0}}},362750:(e,t,n)=>{n.d(t,{Zl:()=>r,lH:()=>i,oV:()=>a});n(16280),n(410838),n(944114),n(581454);const a=12e3;function r(e){const t=[];for(const n of e){const e=t[t.length-1];e?"text"===n.type&&"text"===e.type?t[t.length-1]={type:"text",content:e.content+n.content}:"thinking"!==n.type||"thinking"!==e.type||n.encryptedContent||e.encryptedContent||n.signature&&e.signature||n.modelProvider!==e.modelProvider||n.notionModelName!==e.notionModelName?"tool_use"===n.type&&"tool_use"===e.type&&n.id===e.id?t[t.length-1]={type:"tool_use",id:n.id,name:n.name,content:e.content+n.content,signature:n.signature||e.signature}:t.push({...n}):t[t.length-1]={type:"thinking",content:e.content+n.content,id:n.id||e.id,signature:n.signature||e.signature,encryptedContent:n.encryptedContent||e.encryptedContent,modelProvider:n.modelProvider||e.modelProvider,notionModelName:n.notionModelName||e.notionModelName}:t.push({...n})}return t}function i(e){return"string"==typeof e?[{type:"text",content:e}]:e??[]}},380295:(e,t,n)=>{n.d(t,{m:()=>l});var a=n(296540),r=()=>n(755222),i=()=>n(591779),o=()=>n(981475);function l(e){const{shouldAnimateRef:t,chatPanelMode:n,chatPanelVisibility:l,onClosingFinished:s}=e;(0,i().ZC)(n)!==n&&(t.current=!0);const c=(0,a.useCallback)((()=>{r().P.setState(!1),t.current=!1,"closing"===l&&s()}),[l,t,s]);return(0,a.useEffect)((()=>{"opening"===l&&(t.current=!0,requestAnimationFrame((()=>{o().globalChatPanelRuntimeStore.update((e=>({...e,chatPanelVisibility:"open"})))})))}),[l,t]),{handleAnimationEnd:c}}},383567:(e,t,n)=>{n.d(t,{F:()=>i});n(296540);var a=n(474848);const r={viewBox:"0 0 20 20",fittedViewBox:"3.26 1.98 16.32 17.52",svg:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{d:"M15.825 12a3.75 3.75 0 1 1-.001 7.501 3.75 3.75 0 0 1 0-7.501m0 1.325a.55.55 0 0 0-.55.55V15.2H13.95a.55.55 0 0 0-.001 1.1h1.326v1.325a.55.55 0 0 0 1.1 0V16.3h1.324a.55.55 0 0 0 0-1.1h-1.325v-1.325a.55.55 0 0 0-.55-.55M9.702 5.022a3.918 3.918 0 0 1 6.742.036.626.626 0 0 1-1.08.63 2.667 2.667 0 0 0-4.59-.023L5.376 14.68l4.19.678a.626.626 0 0 1-.2 1.235l-5.1-.827a.625.625 0 0 1-.437-.938z"}),(0,a.jsx)("path",{d:"M10.912 8.094a1.178 1.178 0 1 1 2.326.377 1.178 1.178 0 0 1-2.326-.377M4.7 7.087a1.178 1.178 0 1 1 2.327.377A1.178 1.178 0 0 1 4.7 7.087M3.488 2.985a3.92 3.92 0 0 1 5.572.357.625.625 0 0 1-.944.818 2.67 2.67 0 0 0-3.796-.243.625.625 0 1 1-.832-.932"})]})},i=(0,n(340498).wt)("aiFacePlus",r,"default")},460957:(e,t,n)=>{n.d(t,{E:()=>o});n(581454);var a=()=>n(201980),r=()=>n(718957),i=()=>n(29554);function o(e){const{multiSelection:t}=e;return(0,r().$W)(t).map((({store:e,selection:t})=>{const n=(0,a().RQ)(e.getValue()),r=(0,a().xbM)(n,t),{tokensInsideRange:o}=(0,a().AI5)(n,r.startIndex,r.endIndex);return(0,i().r4)(o,e)})).join("\n\n")}},522282:(e,t,n)=>{n.d(t,{Ab:()=>l,GW:()=>S,Jx:()=>v,Kg:()=>y,S_:()=>x,UP:()=>b,UZ:()=>m,Y_:()=>i,eI:()=>u,hh:()=>a,jI:()=>c,jp:()=>h,m7:()=>d,m8:()=>s,nW:()=>f,pj:()=>p,vd:()=>r,wl:()=>o,xw:()=>g});const a=360,r=800,i=450,o=500,l=15,s=50,c=15,d=.96,u=450,h=300,p=700,f=200,m={duration:f},g=10,v=.28,S=10,b=600,y={hiddenVariant:{transform:"translateX(calc(var(--direction, 1) * 20%))",opacity:0},visibleVariant:{transform:"translateX(0%)",opacity:1}},x={duration:.1,ease:"easeOut"}},592933:(e,t,n)=>{n.d(t,{G1:()=>i,Pn:()=>o,Vf:()=>a,yD:()=>r});n(410838),n(813451),n(944114),n(898992),n(354520),n(672577),n(803949),n(581454),n(737550);function a(e){return"inference"!==e.type&&"queue-handoff"!==e.type&&"reenqueue-with-delay"!==e.type&&"record-map"!==e.type&&"patch-start"!==e.type&&"patch"!==e.type&&"agent-search-extracted-results"!==e.type}function r(e){return"patch"===e.type||"patch-start"===e.type}function i(e){return function(e){const t=e.find((e=>"context"===e.type));return"daily_brief_reminder"===(null==t?void 0:t.value.surface)}(e)&&function(e){return e.filter((e=>"user"===e.type||"user-injected"===e.type)).length}(e)<=1}function o(e){let t=0;const n=e.findLastIndex((e=>"user"===e.type));-1!==n&&(t=n+1);return e.slice(t)}},613016:(e,t,n)=>{n.d(t,{a:()=>r});var a=()=>n(907258);function r(){const{sidebarSpaceStore:e}=a().default.getState();return e?e.id:void 0}},671089:(e,t,n)=>{n.r(t),n.d(t,{checkmarkCircleIcon:()=>i,iconDefinition:()=>r});n(296540);var a=n(474848);const r={viewBox:"0 0 20 20",fittedViewBox:"2.37 2.37 15.25 15.26",svg:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{d:"M12.876 7.982a.625.625 0 1 0-1.072-.644L9.25 11.595 7.815 9.92a.625.625 0 0 0-.95.813l2 2.334a.625.625 0 0 0 1.01-.085z"}),(0,a.jsx)("path",{d:"M10 2.375a7.625 7.625 0 1 0 0 15.25 7.625 7.625 0 0 0 0-15.25M3.625 10a6.375 6.375 0 1 1 12.75 0 6.375 6.375 0 0 1-12.75 0"})]})},i=(0,n(340498).wt)("checkmarkCircle",r,"default")},680514:(e,t,n)=>{n.d(t,{dr:()=>d,xX:()=>u});var a=()=>n(463086),r=()=>n(234459),i=()=>n(384944),o=()=>n(140992),l=()=>n(965454),s=()=>n(547149);const c=new Map;function d(e){if(e)return c.get(e)}function u(e){var t,n;const{threadStore:d,environment:u,spaceStore:h,userStore:p}=e;if(!d||!(0,l().Ci)(d))return d;const f=u.defaultRecordCache.inMemoryRecordCache;for(const a of f.cacheOverrides.slice())a.name===l().Ll&&f.removeCacheOverride(a);const m=d.getTranscript(),g=d.getParentId(),v=d.getParentTable(),S=null===(t=d.getData())||void 0===t?void 0:t.workflow_id,b=d.getType(),y=null===(n=d.getData())||void 0===n?void 0:n.title,x=d.getSpaceId()??h.id,{performResult:C}=s().createAndCommit({userAction:"databaseAgent.persistTemporaryThread",environment:u,canUndo:!0,perform:e=>{const t=(0,o().aP)({environment:u,spaceStore:h,userStore:p,transcript:m,transaction:e,threadId:d.id,workflowId:S,threadType:b});return g&&v&&i().zv({store:t,transaction:e,data:{parent_id:g,parent_table:v,space_id:x}}),y&&i().zv({store:t.getDataStore(),transaction:e,data:{title:y}}),t}});var w;return w=d.id,c.delete(w),C??a().E.createChildStore(h,{id:d.id,spaceId:x,table:r().To})}},706959:(e,t,n)=>{n.d(t,{c:()=>s});var a=n(296540),r=()=>n(484714),i=()=>n(590526),o=()=>n(703748),l=()=>n(981475);function s(){const e=(0,r().v3)(),{visibility:t,naturalPanelContentSize:n,mode:s}=(0,i().K8)((()=>({visibility:l().globalChatPanelRuntimeStore.state.chatPanelVisibility,naturalPanelContentSize:l().globalChatPanelRuntimeStore.state.naturalPanelContentSize,mode:l().globalChatPanelRuntimeStore.state.chatPanelMode})),[]),c=(0,i().O$)(l().BC),d="open"===t||"opening"===t||"closing"===t,u=(0,a.useCallback)((()=>{l().BC.setState(void 0),l().globalChatPanelRuntimeStore.update((e=>({...e,chatPanelVisibility:"closed",editorWidthUsed:0}))),(0,o().closeChatSidebar)({environment:e})}),[e]),h=(0,a.useCallback)((()=>{d&&(0,o().dismissChatSidebar)()}),[d]),p=(0,a.useCallback)((()=>{d&&(0,o().dismissChatSidebar)()}),[d]);return{onDismissed:u,onDismiss:h,userPreferenceSidebarWidth:c,naturalPanelContentSize:n,visibility:t,isOpen:d,mode:s,onEsc:"sidebar"===s?void 0:p}}},738508:(e,t,n)=>{n.r(t),n.d(t,{cursorIcon:()=>i,iconDefinition:()=>r});n(296540);var a=n(474848);const r={viewBox:"0 0 20 20",fittedViewBox:"1.25 0 17.5 20",svg:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("g",{className:"logo-light-mode",children:[(0,a.jsxs)("g",{clipPath:"url(#clip0_16020_205)",children:[(0,a.jsx)("path",{fill:"#757575",d:"m9.995 9.987 8.658 4.999a.6.6 0 0 1-.226.226l-8.092 4.672a.68.68 0 0 1-.68 0l-8.092-4.672a.6.6 0 0 1-.226-.226z"}),(0,a.jsx)("path",{fill:"#525252",d:"M9.995 0v9.987l-8.658 4.999a.6.6 0 0 1-.082-.309v-9.38c0-.22.117-.424.308-.534L9.655.09a.7.7 0 0 1 .34-.09"}),(0,a.jsx)("path",{fill:"#404040",d:"M18.652 4.989a.6.6 0 0 0-.225-.226L10.334.09A.7.7 0 0 0 9.995 0v9.987l8.658 4.999a.6.6 0 0 0 .083-.309v-9.38c0-.11-.03-.216-.083-.308"}),(0,a.jsx)("path",{fill:"#D9D9D9",d:"M18.047 5.339a.29.29 0 0 1 0 .29l-7.859 13.61c-.053.093-.193.055-.193-.05v-8.97a.4.4 0 0 0-.054-.201z"}),(0,a.jsx)("path",{fill:"#fff",d:"m18.047 5.339-8.106 4.68a.4.4 0 0 0-.147-.147L2.027 5.387c-.092-.053-.054-.193.052-.193h15.717c.111 0 .202.06.25.145"})]}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"clip0_16020_205",children:(0,a.jsx)("path",{fill:"#fff",d:"M1.255 0h17.49v20H1.256z"})})})]}),(0,a.jsxs)("g",{className:"logo-dark-mode",children:[(0,a.jsxs)("g",{clipPath:"url(#clip0_16020_213)",children:[(0,a.jsx)("path",{fill:"#6E6E6E",d:"m9.995 9.987 8.658 4.999a.6.6 0 0 1-.226.226l-8.092 4.672a.68.68 0 0 1-.68 0l-8.092-4.672a.6.6 0 0 1-.226-.226z"}),(0,a.jsx)("path",{fill:"#4A4A4A",d:"M9.995 0v9.987l-8.658 4.999a.6.6 0 0 1-.082-.309v-9.38c0-.22.117-.424.308-.534L9.655.09a.7.7 0 0 1 .34-.09"}),(0,a.jsx)("path",{fill:"#383838",d:"M18.652 4.989a.6.6 0 0 0-.225-.226L10.334.09A.7.7 0 0 0 9.995 0v9.987l8.658 4.999a.6.6 0 0 0 .083-.309v-9.38c0-.11-.03-.216-.083-.308"}),(0,a.jsx)("path",{fill:"#C9C9C9",d:"M18.047 5.339a.29.29 0 0 1 0 .29l-7.859 13.61c-.053.093-.193.055-.193-.05v-8.97a.4.4 0 0 0-.054-.201z"}),(0,a.jsx)("path",{fill:"#fff",d:"m18.047 5.339-8.106 4.68a.4.4 0 0 0-.147-.147L2.027 5.387c-.092-.053-.054-.193.052-.193h15.717c.111 0 .202.06.25.145"})]}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"clip0_16020_213",children:(0,a.jsx)("path",{fill:"#fff",d:"M1.255 0h17.49v20H1.256z"})})})]})]})},i=(0,n(340498).wt)("cursor",r,"default")},962753:(e,t,n)=>{n.d(t,{EH:()=>S,FO:()=>g,P$:()=>v,VA:()=>f,h0:()=>d,lM:()=>u,mq:()=>m});n(898992),n(581454),n(737550);var a=()=>n(907258),r=()=>n(242422),i=()=>n(763765),o=()=>n(613848),l=()=>n(496603),s=()=>n(534177),c=()=>n(822789);function d(e){const{currentUserRootStore:t}=a().default.state;if(!t)return!1;const n=t.getSpaceViewStores();return(0,l().oE)(null==n?void 0:n.map((e=>e.getSpaceId()))).map((t=>o().A.getData(e,{spaceId:t,userId:e.currentUser.id}))).some((e=>h(e)))}function u(e,t){return h(o().A.getData(e,{spaceId:t,userId:e.currentUser.id}))}function h(e){switch(null==e?void 0:e.membershipType){case void 0:case"none":case"page_guest":return!1;case"restricted_member":case"member":case"membership_admin":case"owner":return!0===e.is_sales_assisted;default:(0,s().HB)(e)}}function p(e,t){if(!t)return"control";if(u(e,t))return"control";const n=r().default.getEligibleGroup({experimentId:"ai_product_retention_simplified_input",defaultGroup:"control"});return"input"===n||"input_and_ask_mode"===n?n:"control"}function f(){switch(r().default.getEligibleGroup({experimentId:"ai_product_retention_agent_follow_ups",defaultGroup:"control"})){case"button_nudge":return["button","nudge"];case"button_control":return["button","default"];case"nudge":return["nudge"];default:return}}function m(e,t){const n=r().default.checkGate({gateName:"agent_deep_find"}),a=void 0!==t&&u(e,t),o=e.currentUser.id,l=!t||!o||i().t.USEWITHCAUTION_isFetchedForSpaceAndUserId({spaceId:t,userId:o}),s=n||!a&&l&&"on"===r().default.getEligibleGroup({experimentId:"ai_product_retention_deepfind",defaultGroup:"control"}),c=v(e,t);return{agentDeepFindEnabled:s,useReadOnlyMode:s&&c}}function g(e,t){if(t?(0,c().vp)(t):(0,c().hw)())return!0;return"control"!==p(e,t)}function v(e,t){return"input_and_ask_mode"===p(e,t)}function S(){return"on"===r().default.getEligibleGroup({experimentId:"ai_product_retention_agent_speculative_search",defaultGroup:"control"})}},996958:(e,t,n)=>{n.d(t,{D:()=>c,N:()=>i});var a=()=>n(534177),r=()=>n(522282);function i(e){const{chatPanelMode:t,chatPanelVisibility:n}=e,r="opening"===n||"open"===n;switch(t){case"popup":return{initial:o(!1),animate:o(r)};case"sidebar":return{initial:l(!1),animate:l(r)};case"full":return{initial:s(!0),animate:s(!1),exit:s(!0)};default:(0,a().HB)(t)}}function o(e){return{opacity:e?1:0,scale:e?1:r().m7,transformOrigin:"bottom right"}}function l(e){return{translateX:e?0:"100%"}}function s(e){return{translateY:e?"100%":0}}function c(e){const{chatPanelVisibility:t,editorWidthUsed:n}=e;return{initial:{width:0},animate:{width:"opening"===t||"open"===t?n??0:0}}}}}]);